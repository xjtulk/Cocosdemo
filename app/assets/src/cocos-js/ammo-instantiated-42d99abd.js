System.register([],(function(e,t){"use strict";return{execute:function(){e({A:void 0,B:void 0,C:void 0,E:void 0,F:void 0,H:void 0,I:void 0,J:void 0,K:void 0,L:void 0,M:void 0,N:void 0,Q:void 0,R:void 0,S:void 0,a:void 0,aD:void 0,aH:Os,aI:Ls,aJ:zs,aK:Bs,aL:Us,aY:void 0,b0:void 0,b2:function(e,t,n=Kr.R32F,i=0,o=e.byteLength-i,r=0,a){a||(a=new DataView(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)));const s=Is[n];r||(r=s.size);const c=`set${Tx(s)}`,l=`get${Tx(s)}`,p=s.size/s.count,u=Math.floor(o/r),_=mg.isLittleEndian;for(let n=0;n<u;++n){const o=i+r*n;for(let n=0;n<s.count;++n){const i=o+p*n,r=e[l](i,_);a[c](i,t(r,n,e),_)}}return a},b3:ki,b7:cP,b8:lP,bE:Qp,bH:Xp,bK:function(e,t,n=Kr.R32F,i=0,o=0){const r=Is[n];o||(o=r.size);const a=`set${Tx(r)}`,s=r.size/r.count,c=Math.floor(t.length/r.count),l=mg.isLittleEndian;for(let n=0;n<c;++n){const c=i+o*n;for(let i=0;i<r.count;++i){const o=c+s*i;e[a](o,t[r.count*n+i],l)}}},bL:hS,bN:Qe,bO:function(e){return cu(uu({formerlySerializedAs:e}))},bQ:Mu,b_:void 0,bb:_P,bh:R,bi:A,bl:void 0,bn:void 0,bp:P,bq:g,br:function(e,t=Kr.R32F,n=0,i=e.byteLength-n,o=0,r=[]){const a=Is[t];o||(o=a.size);const s=`get${Tx(a)}`,c=a.size/a.count,l=Math.floor(i/o),p=mg.isLittleEndian;for(let t=0;t<l;++t){const i=n+o*t;for(let n=0;n<a.count;++n){const o=i+c*n;r[a.count*t+n]=e[s](o,p)}}return r},bt:function(){},bx:function(){},by:G,bz:j,c:void 0,c1:void 0,c2:void 0,c5:void 0,cA:void 0,cB:void 0,cG:ve,cH:Ve,cJ:xi,cK:Pe,cP:void 0,cR:Ke,cY:Xt,cf:Jt,ch:T_,cj:function(e,t,n){for(Rn.identity(n);e!==t;)Rn.fromRTS(iR,e.rotation,e.position,e.scale),Rn.multiply(n,iR,n),e=e.parent;return n},cm:void 0,cn:KI,co:JI,cp:ZI,cr:void 0,d:void 0,d4:void 0,d6:void 0,dE:Kt,dH:void 0,dI:sn,dJ:nn,dL:en,dM:tn,dN:U,dP:cn,dR:ox,dT:qt,dV:oi,dY:un,dZ:ne,d_:dR,da:void 0,dd:pt,de:Te,df:w,dh:void 0,dj:void 0,dr:Zt,ds:at,dx:Qt,e0:function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e},e1:ie,e3:cu,e5:ut,e6:_t,e7:O,e9:wi,eA:Vn,eB:hn,eD:Yt,eE:on,eF:rn,eG:an,eH:ln,eI:pn,eJ:Xe,eP:function(e){e>0&&(J=e)},eQ:jv,eR:kv,eT:rf,eb:void 0,ec:v,ed:Mn,ei:Zn,em:jt,eo:je,et:Fn,eu:gn,ev:Un,ew:Pn,ez:Gn,f:void 0,f3:y,f4:D,f5:L,f6:z,f7:void 0,fM:_R,fN:fR,fO:hR,fP:LP,fQ:GP,fU:WP,fV:qP,fY:function(e,t){let n=e,i="";for(;null!==n&&n!==t;)i=`${n.name}/${i}`,n=n.parent;return i.slice(0,-1)},f_:AR,fl:hA,g:void 0,h:void 0,i:void 0,j:void 0,k:void 0,l:void 0,m:Qs,n:void 0,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0});const n=e("bo",!1),i=e("dG",!1),o=e("dw",!1),r=e("du",!1),a=e("dv",!0),s="undefined"==typeof window?global:window,c=e("b1",{_global:s});c.internal={},s.CC_BUILD=!0,s.CC_TEST=!1,s.CC_EDITOR=i,s.CC_PREVIEW=!1,s.CC_DEV=!1,s.CC_DEBUG=!1,s.CC_JSB=a,s.CC_BYTEDANCE=!1,s.CC_WECHAT=n,s.CC_ALIPAY=!1,s.CC_XIAOMI=!1,s.CC_BAIDU=!1,s.CC_COCOSPLAY=!1,s.CC_HUAWEI=!1,s.CC_OPPO=!1,s.CC_VIVO=!1,s.CC_MINIGAME=r,s.CC_RUNTIME_BASED=o,s.CC_SUPPORT_JIT=!0;const l=e("ef","3.1.1");s.CocosEngine=c.ENGINE_VERSION=l,s.cc=c;let p=null,u=console.log.bind(console),_=u,f=u,h=(e,t,...n)=>{e||console.log(`ASSERT: ${d(t,...n)}`)},m=u;function d(e,...t){return c.js.formatStr.apply(null,[e].concat(t))}function v(e,...t){return u(e,...t)}function g(e,...t){return _(e,...t)}function A(e,...t){return f(e,...t)}function y(e,t,...n){return h(e,t,...n)}function x(...e){return m(...e)}function b(e){if(u=_=f=h=m=()=>{},e!==M.NONE){if(e>M.ERROR){const t=e=>{if(c.game.canvas){if(!p){const e=document.createElement("Div");e.setAttribute("id","logInfoDiv"),e.setAttribute("width","200"),e.setAttribute("height",c.game.canvas.height);const t=e.style;t.zIndex="99999",t.position="absolute",t.top=t.left="0",p=document.createElement("textarea"),p.setAttribute("rows","20"),p.setAttribute("cols","30"),p.setAttribute("disabled","true");const n=p.style;n.backgroundColor="transparent",n.borderBottom="1px solid #cccccc",n.borderTopWidth=n.borderLeftWidth=n.borderRightWidth="0px",n.borderTopStyle=n.borderLeftStyle=n.borderRightStyle="none",n.padding="0px",n.margin="0px",e.appendChild(p),c.game.canvas.parentNode.appendChild(e)}p.value=`${p.value+e}\r\n`,p.scrollTop=p.scrollHeight}};f=(e,...n)=>{t(`ERROR :  ${d(e,...n)}`)},h=(e,n,...i)=>{e||t(`ASSERT: ${d(n,...i)}`)},e!==M.ERROR_FOR_WEB_PAGE&&(_=(e,...n)=>{t(`WARN :  ${d(e,...n)}`)}),e===M.INFO_FOR_WEB_PAGE&&(u=(e,...n)=>{t(d(e,...n))})}else console&&(console.error||(console.error=console.log),console.warn||(console.warn=console.log),f=console.error.bind?console.error.bind(console):console.error,h=(e,t,...n)=>{if(!e){const e=d(t,...n);throw new Error(e)}});if(e!==M.ERROR&&(_=console.warn.bind?console.warn.bind(console):console.warn),e===M.INFO&&(u="JavaScriptCore"===scriptEngineType?(e,...t)=>console.log.apply(console,[e,...t]):console.log),e<=M.VERBOSE&&"function"==typeof console.debug){const e=console.debug;m=(...t)=>e(...t)}}}function C(e){{const t=e.stack;return void A(t?`${e}\n${t}`:e)}}function S(e){return(t,...n)=>{const i=`${e} ${t}, please go to https://github.com/cocos-creator/engine/blob/3d/EngineErrorMap.md#${t} to see details.`;return 0===n.length?i:`${i} Arguments: ${n.join(", ")}`}}const E=S("Log");function w(e,...t){v(E(e,...t))}const T=S("Warning");function P(e,...t){g(T(e,...t))}const I=S("Error");function R(e,...t){A(I(e,...t))}const N=S("Assert");function D(e,t,...n){e||y(!1,N(t,...n))}let M;function O(e,...t){return I(e,...t)}function L(){return!!c.profiler&&c.profiler.isShowingStats()}function z(e){c.profiler&&(e?c.profiler.showStats():c.profiler.hideStats(),c.game.config.showFPS=!!e)}!function(e){e[e.NONE=0]="NONE",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.INFO_FOR_WEB_PAGE=5]="INFO_FOR_WEB_PAGE",e[e.WARN_FOR_WEB_PAGE=6]="WARN_FOR_WEB_PAGE",e[e.ERROR_FOR_WEB_PAGE=7]="ERROR_FOR_WEB_PAGE"}(M||(M=e("f7",{})));var F=Object.freeze({__proto__:null,log:v,warn:g,error:A,assert:y,debug:x,_resetDebugSetting:b,_throw:C,logID:w,warnID:P,errorID:R,assertID:D,get DebugMode(){return M},getError:O,isDisplayStats:L,setDisplayStats:z});const B=e("dQ",2147483647);function U(e){return(e>0)-(e<0)}function j(e){let t,n;return t=(e>65535)<<4,n=((e>>>=t)>255)<<3,t|=n,n=((e>>>=n)>15)<<2,t|=n,n=((e>>>=n)>3)<<1,t|=n,t|(e>>>=n)>>1}function k(e){let t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}function G(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)}const H=new Array(256);(e=>{for(let t=0;t<256;++t){let n=t,i=t,o=7;for(n>>>=1;n;n>>>=1)i<<=1,i|=1&n,--o;e[t]=i<<o&255}})(H);var V=Object.freeze({__proto__:null,INT_BITS:32,INT_MAX:B,INT_MIN:-2147483648,sign:U,abs:function(e){const t=e>>31;return(e^t)-t},min:function(e,t){return t^(e^t)&-(e<t)},max:function(e,t){return e^(e^t)&-(e<t)},isPow2:function(e){return!(e&e-1||!e)},log2:j,log10:function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},popCount:function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},countTrailingZeros:k,nextPow2:G,prevPow2:function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},parity:function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1},reverse:function(e){return H[255&e]<<24|H[e>>>8&255]<<16|H[e>>>16&255]<<8|H[e>>>24&255]},interleave2:function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},deinterleave2:function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},interleave3:function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},deinterleave3:function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},nextCombination:function(e){const t=e|e-1;return t+1|(~t&-~t)-1>>>k(e)+1}});e("es",V);let W,q,Y,X,Q,Z,J=10,K=0;const $=new Map;X=(e,t,n,i,o,r,a)=>{const s=$.get(r);s&&s.logTimes>s.count&&(o(`'%s' is deprecated, please use '%s' instead. ${a}`,`${e}.${t}`,`${n}.${i}`),s.count++)},W=e("c1",((e,t,n)=>{null!=e&&n.forEach((n=>{const i=K++;$.set(i,{id:i,count:0,logTimes:void 0!==n.logTimes?n.logTimes:J});const o=null!=n.target?n.target:e,r=null!=n.newName?n.newName:n.name,a=null!=n.targetName?n.targetName:t,s=o===e,c=n.suggest?`(${n.suggest})`:"";if(null!=n.customFunction)e[n.name]=function(){return X(t,n.name,a,r,g,i,c),n.customFunction.call(this,...arguments)};else if(null!=n.customSetter||null!=n.customGetter){const o=null!=n.customSetter,s=null!=n.customGetter;o&&s?Object.defineProperty(e,n.name,{get(){return X(t,n.name,a,r,g,i,c),n.customGetter.call(this)},set(e){X(t,n.name,a,r,g,i,c),n.customSetter.call(this,e)},enumerable:!1}):o?Object.defineProperty(e,n.name,{set(e){X(t,n.name,a,r,g,i,c),n.customSetter.call(this,e)},enumerable:!1}):s&&Object.defineProperty(e,n.name,{get(){return X(t,n.name,a,r,g,i,c),n.customGetter.call(this)},enumerable:!1})}else Object.defineProperty(e,n.name,{get(){return X(t,n.name,a,r,g,i,c),s?this[r]:o[r]},set(e){X(t,n.name,a,r,g,i,c),s?this[r]=e:o[r]=e},enumerable:!1})}))})),Z=(e,t,n,i,o)=>{const r=$.get(i);r&&r.logTimes>r.count&&(n(`'%s' has been removed. ${o}`,`${e}.${t}`),r.count++)},q=e("c2",((e,t,n)=>{null!=e&&n.forEach((n=>{const i=K++;$.set(i,{id:i,count:0,logTimes:void 0!==n.logTimes?n.logTimes:J});const o=n.suggest?`(${n.suggest})`:"";Object.defineProperty(e,n.name,{get:()=>Z(t,n.name,A,i,o),set(){Z(t,n.name,A,i,o)},enumerable:!1})}))})),Q=(e,t,n,i,o)=>{const r=$.get(i);r&&r.logTimes>r.count&&(n(`'%s' is deprecated. ${o}`,`${e}.${t}`),r.count++)},Y=e("d4",((e,t,n)=>{if(null==e)return;const i=(t,n,i,o,r,a)=>{if(t.get){const e=t.get;t.get=function(){return Q(n,i,o,r,a),e.call(this)}}if(t.set){const e=t.set;t.set=function(t){Q(n,i,o,r,a),e.call(this,t)}}Object.defineProperty(e,i,t)};n.forEach((n=>{const o=n.name,r=Object.getOwnPropertyDescriptor(e,o);if(!r||!r.configurable)return;const a=K++;$.set(a,{id:a,count:0,logTimes:void 0!==n.logTimes?n.logTimes:J});const s=n.suggest?`(${n.suggest})`:"";if(null!=r.value)if("function"==typeof r.value){const n=r.value;e[o]=function(){return Q(t,o,g,a,s),n.call(this,...arguments)}}else i(r,t,o,g,a,s);else i(r,t,o,g,a,s);Object.defineProperty(e,o,{enumerable:!1})}))}));class ee{constructor(e){this.i=0,this.array=e}get length(){return this.array.length}set length(e){this.array.length=e,this.i>=e&&(this.i=e-1)}remove(e){const t=this.array.indexOf(e);t>=0&&this.removeAt(t)}removeAt(e){this.array.splice(e,1),e<=this.i&&--this.i}fastRemove(e){const t=this.array.indexOf(e);t>=0&&this.fastRemoveAt(t)}fastRemoveAt(e){const t=this.array;t[e]=t[t.length-1],--t.length,e<=this.i&&--this.i}push(e){this.array.push(e)}}function te(e,t){e.splice(t,1)}function ne(e,t){const n=e.length;t<0||t>=n||(e[t]=e[n-1],e.length=n-1)}function ie(e,t){const n=e.indexOf(t);return n>=0&&(te(e,n),!0)}function oe(e,t){return e.indexOf(t)>=0}var re=Object.freeze({__proto__:null,removeAt:te,fastRemoveAt:ne,remove:ie,fastRemove:function(e,t){const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],--e.length)},removeIf:function(e,t){const n=e.findIndex(t);if(n>=0){const t=e[n];return te(e,n),t}},verifyType:function(e,t){if(e&&e.length>0)for(const n of e)if(!(n instanceof t))return w(1300),!1;return!0},removeArray:function(e,t){for(let n=0,i=t.length;n<i;n++)ie(e,t[n])},appendObjectsAt:function(e,t,n){return e.splice.apply(e,[n,0,...t]),e},contains:oe,copy:function(e){const t=e.length,n=new Array(t);for(let i=0;i<t;i+=1)n[i]=e[i];return n},MutableForwardIterator:ee});class ae{constructor(e){this.id=void 0,this.prefix=void 0,this.id=0|998*Math.random(),this.prefix=e?e+".":""}getNewId(){return this.prefix+ ++this.id}}ae.global=new ae("global");const se=new ae("TmpCId."),ce="undefined"==typeof Symbol?"__aliases__":Symbol("[[Aliases]]"),le="__cid__";function pe(e){return"number"==typeof e||e instanceof Number}function ue(e){return"string"==typeof e||e instanceof String}function _e(e){for(const t in e)return!1;return!0}const fe=(()=>{const e={value:void 0,enumerable:!1,writable:!1,configurable:!0};return(t,n,i,o,r)=>{e.value=i,e.writable=o,e.enumerable=r,Object.defineProperty(t,n,e),e.value=void 0}})(),he=(()=>{const e={get:void 0,set:void 0,enumerable:!1};return(t,n,i,o,r=!1,a=!1)=>{"boolean"==typeof o&&(r=o,o=void 0),e.get=i,e.set=o,e.enumerable=r,e.configurable=a,Object.defineProperty(t,n,e),e.get=void 0,e.set=void 0}})(),me=(()=>{const e={get:void 0,enumerable:!1,configurable:!1};return(t,n,i,o,r)=>{e.get=i,e.enumerable=o,e.configurable=r,Object.defineProperty(t,n,e),e.get=void 0}})(),de=(()=>{const e={set:void 0,enumerable:!1,configurable:!1};return(t,n,i,o,r)=>{e.set=i,e.enumerable=o,e.configurable=r,Object.defineProperty(t,n,e),e.set=void 0}})();function ve(e){const t=Object.create(null);if(e){const e=".",n="/";t[e]=1,t[n]=1,delete t[e],delete t[n]}return t}function ge(e){if("function"==typeof e){const t=e.prototype;if(t&&t.hasOwnProperty("__classname__")&&t.__classname__)return t.__classname__;let n="";if(e.name&&(n=e.name),e.toString){let t;const i=e.toString();t="["===i.charAt(0)?i.match(/\[\w+\s*(\w+)\]/):i.match(/function\s*(\w+)/),t&&2===t.length&&(n=t[1])}return"Object"!==n?n:""}return e&&e.constructor?ge(e.constructor):""}function Ae(e,t,n,i){const o=/([^.]+)$/,r=o.exec(t)[0],a=o.exec(n)[0];function s(){return this[a]}i?he(e,r,s,(function(e){this[a]=e})):me(e,r,s)}function ye(e,t,n,i){for(const o in n)Ae(e,`${t}.${o}`,n[o],i)}const xe=/(%d)|(%s)/,be=/%s/;function Ce(e,...t){if(0===arguments.length)return"";if(0===t.length)return`${e}`;const n="string"==typeof e&&xe.test(e);if(n)for(const n of t){const t="number"==typeof n?xe:be;if(t.test(e)){const i=`${n}`;e=e.replace(t,i)}else e+=` ${n}`}else for(const n of t)e+=` ${n}`;return e}function Se(){const e=arguments.length-1,t=new Array(e);for(let n=0;n<e;++n)t[n]=arguments[n+1];return t}function Ee(e,t){for(;e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n)return n;e=Object.getPrototypeOf(e)}return null}function we(e,t,n){const i=Ee(t,e);i&&Object.defineProperty(n,e,i)}function Te(e,...t){e=e||{};for(const n of t)if(n){if("object"!=typeof n){R(5402,n);continue}for(const t in n)t in e||we(t,n,e)}return e}function Pe(e,...t){e=e||{};for(const n of t)if(n){if("object"!=typeof n){R(5403,n);continue}for(const t in n)we(t,n,e)}return e}function Ie(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e.prototype=Object.create(t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),e}function Re(e){const t=e.prototype,n=t&&Object.getPrototypeOf(t);return n&&n.constructor}function Ne(e,t){if(e&&t){if("function"!=typeof e)return!1;if("function"!=typeof t)return!1;if(e===t)return!0;for(;;){if(!(e=Re(e)))return!1;if(e===t)return!0}}return!1}function De(e){for(const t of Object.keys(e))delete e[t]}function Me(e){return"string"!=typeof e||e.startsWith(se.prefix)}const Oe=ve(!0),Le=ve(!0);function ze(e,t){return function(n,i){if(i.prototype.hasOwnProperty(e)&&delete t[i.prototype[e]],fe(i.prototype,e,n),n){const o=t[n];o&&o!==i?A(`A Class already exists with the same ${e} : "${n}".`):t[n]=i}}}const Fe=ze("__cid__",Oe),Be=ze("__classname__",Le);function Ue(e,t){if(Be(e,t),!t.prototype.hasOwnProperty(le)){const n=e||se.getNewId();n&&Fe(n,t)}}function je(e,t){const n=Le[t],i=Oe[t];let o=!0;if(n&&n!==e&&(A(`"${t}" has already been set as name or alias of another class.`),o=!1),i&&i!==e&&(A(`"${t}" has already been set as id or alias of another class.`),o=!1),o){let n=e[ce];n||(n=[],e[ce]=n),n.push(t),Le[t]=e,Oe[t]=e}}function ke(...e){for(const t of e){const e=t.prototype,n=e.__cid__;n&&delete Oe[n];const i=e.__classname__;i&&delete Le[i];const o=e[ce];if(o)for(let e=0;e<o.length;++e){const t=o[e];delete Le[t],delete Oe[t]}}}function Ge(e){return Oe[e]}function He(e){return Le[e]}function Ve(e,t){let n;if(t=void 0===t||t,"function"==typeof e&&e.prototype.hasOwnProperty(le))return n=e.prototype.__cid__,!t&&i&&Me(n)?"":n;if(e&&e.constructor){const o=e.constructor.prototype;if(o&&o.hasOwnProperty(le))return n=e.__cid__,!t&&i&&Me(n)?"":n}return""}class We{get(){return this._get()}constructor(e,t){this.count=void 0,this._pool=void 0,this._cleanup=void 0;const n=void 0===t?e:t,i=void 0===t?null:e;this.count=0,this._pool=new Array(n),this._cleanup=i}_get(){if(this.count>0){--this.count;const e=this._pool[this.count];return this._pool[this.count]=null,e}return null}put(e){const t=this._pool;if(this.count<t.length){if(this._cleanup&&!1===this._cleanup(e))return;t[this.count]=e,++this.count}}resize(e){e>=0&&(this._pool.length=e,this.count>e&&(this.count=e))}}e("cL",We);const qe=e("dC",re),Ye=e("c4",{IDGenerator:ae,Pool:We,array:re,isNumber:pe,isString:ue,isEmptyObject:_e,getPropertyDescriptor:Ee,addon:Te,mixin:Pe,extend:Ie,getSuper:Re,isChildClassOf:Ne,clear:De,value:fe,getset:he,get:me,set:de,unregisterClass:ke,getClassName:ge,setClassName:Ue,setClassAlias:je,getClassByName:He,get _registeredClassNames(){return{...Le}},set _registeredClassNames(e){De(Le),Object.assign(Le,e)},get _registeredClassIds(){return{...Oe}},set _registeredClassIds(e){De(Oe),Object.assign(Oe,e)},_getClassId:Ve,_setClassId:Fe,_getClassById:Ge,obsolete:Ae,obsoletes:ye,formatStr:Ce,shiftArguments:Se,createMap:ve});function Xe(e){if("__bitmask__"in e)return e;fe(e,"__bitmask__",null,!0);let t=-1;const n=Object.keys(e);for(let i=0;i<n.length;i++){const o=n[i];let r=e[o];if(-1===r)r=++t,e[o]=r;else if("number"==typeof r)t=r;else if("string"==typeof r&&Number.isInteger(parseFloat(o)))continue;const a=`${r}`;o!==a&&fe(e,a,o)}return e}function Qe(e){return"__enums__"in e?e:(fe(e,"__enums__",null,!0),Qe.update(e))}function Ze(e){e.hasOwnProperty("__enums__")}function Je(e){Ze(e);const t=e.__enums__||[];t.length=0;for(const n in e){const i=e[n];Number.isInteger(i)&&t.push({name:n,value:i})}return t.sort(((e,t)=>e.value-t.value)),e.__enums__=t,t}function Ke(e){"__enums__"in e||fe(e,"__enums__",null,!0)}c.js=Ye,e("eL",Object.freeze({__proto__:null,array:qe,js:Ye,IDGenerator:ae,Pool:We,isNumber:pe,isString:ue,isEmptyObject:_e,value:fe,getset:he,get:me,set:de,createMap:ve,getClassName:ge,obsolete:Ae,obsoletes:ye,formatStr:Ce,shiftArguments:Se,getPropertyDescriptor:Ee,addon:Te,mixin:Pe,extend:Ie,getSuper:Re,isChildClassOf:Ne,clear:De,_idToClass:Oe,_nameToClass:Le,_setClassId:Fe,setClassName:Ue,setClassAlias:je,unregisterClass:ke,_getClassById:Ge,getClassByName:He,_getClassId:Ve})),Xe.isBitMask=e=>e&&e.hasOwnProperty("__bitmask__"),Xe.getList=e=>{if(e.__bitmask__)return e.__bitmask__;const t=e.__bitmask__=[];for(const n in e){const i=e[n];Number.isInteger(i)&&t.push({name:n,value:i})}return t.sort(((e,t)=>e.value-t.value)),t},c.BitMask=Xe,Qe.update=e=>{let t=-1;const n=Object.keys(e);for(let i=0;i<n.length;i++){const o=n[i];let r=e[o];if(-1===r)r=++t,e[o]=r;else if("number"==typeof r)t=r;else if("string"==typeof r&&Number.isInteger(parseFloat(o)))continue;const a=`${r}`;o!==a&&fe(e,a,o)}return Array.isArray(e.__enums__)&&Je(e),e},Qe||(Qe=e("bN",{})),Qe.isEnum=e=>e&&e.hasOwnProperty("__enums__"),Qe.getList=e=>(Ze(e),e.__enums__?e.__enums__:Je(e)),c.Enum=Qe;class $e{clone(){return R(100,`${ge(this)}.clone`),this}equals(e){return!1}set(e){R(100,`${ge(this)}.set`)}toString(){return`${{}}`}}e("eK",$e),Ue("cc.ValueType",$e),c.ValueType=$e;const et=e("bj",{SUPPORT_TEXTURE_FORMATS:[".astc",".pkm",".pvr",".webp",".jpg",".jpeg",".bmp",".png"],KEY:{none:0,back:6,menu:18,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,select:41,insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,num0:96,num1:97,num2:98,num3:99,num4:100,num5:101,num6:102,num7:103,num8:104,num9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,";":186,semicolon:186,equal:187,"=":187,",":188,comma:188,dash:189,".":190,period:190,forwardslash:191,grave:192,"[":219,openbracket:219,backslash:220,"]":221,closebracket:221,quote:222,dpadLeft:1e3,dpadRight:1001,dpadUp:1003,dpadDown:1004,dpadCenter:1005},RAD:Math.PI/180,DEG:180/Math.PI,REPEAT_FOREVER:Number.MAX_VALUE-1,FLT_EPSILON:1.192092896e-7,ORIENTATION_PORTRAIT:1,ORIENTATION_LANDSCAPE:2,ORIENTATION_AUTO:3,ENABLE_TILEDMAP_CULLING:!0,TOUCH_TIMEOUT:5e3,ENABLE_TRANSPARENT_CANVAS:!1,ENABLE_WEBGL_ANTIALIAS:!0,CLEANUP_IMAGE_CACHE:!1,ENABLE_MULTI_TOUCH:!0,MAX_LABEL_CANVAS_POOL_SIZE:20});c.macro=et;const tt=/^(?:cc|dragonBones|sp|ccsg)\..+/,nt=new Array(123);for(let e=0;e<123;++e)nt[e]=64;for(let e=0;e<64;++e)nt["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charCodeAt(e)]=e;const it=nt;function ot(e,t,n){function i(e,t,n,i){const o=Object.getOwnPropertyDescriptor(e,t);if(o)o.get&&(e[n]=o.get),o.set&&i&&(e[i]=o.set);else{const o=e[n];he(e,t,o,e[i])}}let o;const r=e.prototype;for(let e=0;e<t.length;e++){o=t[e];const n=o[0].toUpperCase()+o.slice(1);i(r,o,`get${n}`,`set${n}`)}for(o in n){const e=n[o];i(r,o,e[0],e[1])}}function rt(e,t,n,i){const o=e[t];o?Array.isArray(o)?i?(o.push(o[0]),o[0]=n):o.push(n):e[t]=i?[n,o]:[o,n]:e[t]=n}function at(e,t){if("function"==typeof e.contains)return e.contains(t);if("function"==typeof e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));{let n=t.parentNode;if(n)do{if(n===e)return!0;n=n.parentNode}while(null!==n);return!1}}function st(e){return"object"==typeof window&&"function"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function ct(e,t,n){e&&setTimeout((()=>{e(t,n)}),0)}function lt(e){return!(!e||e.constructor!==Object)&&_e(e)}function pt(e,t,n){if(t>n){const e=t;t=n,n=e}return e<t?t:e<n?e:n}function ut(e){return e*et.RAD}function _t(e){return e*et.DEG}c.misc={BUILTIN_CLASSID_RE:tt,BASE64_VALUES:it,propertyDefine:ot,pushToMap:rt,contains:at,isDomNode:st,callInNextTick:ct,isPlainEmptyObj_DEV:lt,clampf:pt,degreesToRadians:ut,radiansToDegrees:_t},e("eM",Object.freeze({__proto__:null,BUILTIN_CLASSID_RE:tt,BASE64_VALUES:it,propertyDefine:ot,pushToMap:rt,contains:at,isDomNode:st,callInNextTick:ct,tryCatchFunctor_EDITOR:function(e){return Function("target",`try {\n  target.${e}();\n}\ncatch (e) {\n  cc._throw(e);\n}`)},isPlainEmptyObj_DEV:lt,clampf:pt,degreesToRadians:ut,radiansToDegrees:_t}));const ft="$_$";function ht(e,t){const n=t?Object.create(t):{};return fe(e,"__attrs__",n),n}function mt(e){if("function"!=typeof e)return ht(e,vt(e.constructor));let t;const n=c.Class.getInheritanceChain(e);for(let e=n.length-1;e>=0;e--){const i=n[e];i.hasOwnProperty("__attrs__")&&i.__attrs__||(t=n[e+1],ht(i,t&&t.__attrs__))}return t=n[0],ht(e,t&&t.__attrs__),e.__attrs__}function dt(e,t){const n=vt(e),i=t+ft,o={};for(const e in n)e.startsWith(i)&&(o[e.slice(i.length)]=n[e]);return o}function vt(e){return e.hasOwnProperty("__attrs__")&&e.__attrs__||mt(e)}function gt(e,t,n,i){vt(e)[t+ft+n]=i}class At{constructor(e,t){this.name=void 0,this.default=void 0,this.name=e,this.default=t}toString(){return this.name}}const yt=e("ek",new At("Integer",0));c.Integer=yt,c.CCInteger=yt;const xt=e("eV",new At("Float",0));c.Float=xt,c.CCFloat=xt;const bt=e("eh",new At("Boolean",!1));c.Boolean=bt,c.CCBoolean=bt;const Ct=e("c3",new At("String",""));function St(e,t){return function(n,i){const o=`"${ge(n)}.${i}"`,r=dt(n,i);let a=r.type;if(a===yt||a===xt?a="Number":a!==Ct&&a!==bt||(a=`${a}`),a!==e)return void P(3604,o);if(!r.hasOwnProperty("default"))return;const s=r.default;if(void 0===s)return;if(Array.isArray(s)||lt(s))return;const c=typeof s,l=e.toLowerCase();if(c===l)if("object"===l){if(!s||s instanceof r.ctor)return;P(3605,o,ge(r.ctor))}else"Number"!==e&&P(3606,t,o,e);else{if("function"===c)return;e===Ct.default&&null==s?P(3607,o):P(3611,t,o,c)}delete r.type}}c.String=Ct,c.CCString=Ct;var Et=Object.freeze({__proto__:null,DELIMETER:ft,createAttrsSingle:ht,createAttrs:mt,attr:dt,getClassAttrs:vt,setClassAttr:gt,PrimitiveType:At,CCInteger:yt,CCFloat:xt,CCBoolean:bt,CCString:Ct,getTypeChecker_ET:St,getObjTypeChecker_ET:function(e){return function(t,n){St("Object","type")(t,n);const i=vt(t)[`${n+ft}default`],o=c.Class.getDefault(i);if(!Array.isArray(o)&&Ne(e,c.ValueType)){const o=ge(e),r=Ce('No need to specify the "type" of "%s.%s" because %s is a child class of ValueType.',ge(t),n,o);i?v(r):P(3612,r,o,ge(t),n,o)}}}});const wt={default:{},serializable:{},editorOnly:{},formerlySerializedAs:{}};function Tt(e,t,n,i){if(!e.get&&!e.set&&e.hasOwnProperty("default")){const o=`_N$${t}`;e.get=function(){return this[o]},e.set=function(e){const t=this[o];this[o]=e,n.call(this,t)};const r={};i[o]=r;for(const t in wt){const n=wt[t];e.hasOwnProperty(t)&&(r[t]=e[t],n.canUsedInGet||delete e[t])}}}function Pt(e,t,n,i){if(Array.isArray(t)){if(!(t.length>0))return R(5508,n,i);e.type=t=t[0]}"function"==typeof t&&(t===String?e.type=c.String:t===Boolean?e.type=c.Boolean:t===Number&&(e.type=c.Float))}function It(e,t,n){const i=e?{_short:!0}:{_short:!0,default:t};return n&&(i.type=n),i}function Rt(e,t){if(!e||e.constructor!==Object){if(Array.isArray(e)&&e.length>0)return It(t,[],e);if("function"==typeof e){const n=e;return It(t,Ne(n,c.ValueType)?new n:null,n)}return It(t,e instanceof At?e.default:e)}return null}let Nt=[];function Dt(){return Nt[Nt.length-1]}c._RF={push:function(e,t,n,i){void 0===n&&(n=t,t=""),Nt.push({uuid:t,script:n,module:e,exports:e.exports,beh:null,importMeta:i})},pop:function(){const e=Nt.pop(),t=e.module;let n=t.exports;if(n===e.exports){for(const e in n)return;t.exports=n=e.cls}},peek:Dt};const Mt=ft,Ot={datas:null,push(e){if(this.datas)this.datas.push(e);else{this.datas=[e];const t=this;setTimeout((()=>{t.init()}),0)}},init(){const e=this.datas;if(e){for(let t=0;t<e.length;++t){const n=e[t],i=n.cls;let o=n.props;"function"==typeof o&&(o=o());const r=ge(i);o?Ut(i,r,o,i.$super,n.mixins):R(3633,r)}this.datas=null}}};function Lt(e,t,n,i){!function(e,t){!function(e,t){e.indexOf(t)<0&&e.push(t)}(e.__props__,t)}(e,n),Gt(e,i,t,n)}function zt(e,t,n,i){const o=i.get;i.set,o&&(Gt(e,i,t,n),gt(e,n,"serializable",!1))}function Ft(e){return"function"==typeof e?e():e}function Bt(e,t,n){for(const i in t)e.hasOwnProperty(i)||n&&!n(i)||Object.defineProperty(e,i,Ee(t,i))}function Ut(e,t,n,i,o){if(e.__props__=[],i&&i.__props__&&(e.__props__=i.__props__.slice()),o)for(let t=0;t<o.length;++t){const n=o[t];n.__props__&&(e.__props__=e.__props__.concat(n.__props__.filter((t=>e.__props__.indexOf(t)<0))))}if(n){!function(e,t){for(const n in e){let i=e[n];const o=Rt(i,!1);if(o&&(i=e[n]=o),i){const o=i.notify;o&&Tt(i,n,o,e),"type"in i&&Pt(i,i.type,t,n)}}}(n,t);for(const i in n){const o=n[i];o.get||o.set?zt(e,t,i,o):Lt(e,t,i,o)}}const r=vt(e);e.__values__=e.__props__.filter((e=>!1!==r[`${e+Mt}serializable`]))}function jt(e){let t=e.name;const n=e.extends,i=e.mixins,o=function(e,t,n,i){const o=c.Component,r=Dt();if(r&&Ne(t,o)){if(Ne(r.cls,o))return R(3615),null;e=e||r.script}const a=function(e,t,n,i){const o=i.ctor,r=[o],a=o;fe(a,"__ctors__",r.length>0?r:null,!0);const s=a.prototype;if(t&&(a.$super=t),n){for(let e=n.length-1;e>=0;e--){const t=n[e];Bt(s,t.prototype),jt._isCCClass(t)&&Bt(vt(a),vt(t))}s.constructor=a}return Ue(e,a),a}(e,t,n,i);if(r)if(Ne(t,o)){const e=r.uuid;e&&Fe(e,a),r.cls=a}else Ne(r.cls,o)||(r.cls=a);return a}(t,n,i,e);t||(t=c.js.getClassName(o)),o._sealed=!0,n&&(n._sealed=!1);const r=e.properties;"function"==typeof r||n&&null===n.__props__||i&&i.some((e=>null===e.__props__))?(Ot.push({cls:o,props:r,mixins:i}),o.__props__=o.__values__=null):Ut(o,t,r,n,e.mixins);const a=e.editor;return a&&Ne(n,c.Component)&&c.Component._registerEditorProps(o,a),o}jt._isCCClass=function(e){var t;return null==e||null===(t=e.hasOwnProperty)||void 0===t?void 0:t.call(e,"__ctors__")},jt.fastDefine=function(e,t,n){Ue(e,t);const i=t.__props__=t.__values__=Object.keys(n),o=vt(t);for(let e=0;e<i.length;e++){const t=i[e];o[`${t+Mt}visible`]=!1,o[`${t+Mt}default`]=n[t]}},jt.Attr=Et,jt.attr=dt,jt.getInheritanceChain=function(e){const t=[];for(;e=Re(e);)e!==Object&&t.push(e);return t};const kt={Integer:"Number",Float:"Number",Boolean:"Boolean",String:"String"};function Gt(e,t,n,i){let o=null,r="";function a(){return r=i+Mt,o=vt(e)}"type"in t&&void 0===t.type&&P(3660,i,n);const s=t.type;s&&(kt[s]?(o||a())[`${r}type`]=s:"Object"===s||("object"==typeof s?Qe.isEnum(s)?((o||a())[`${r}type`]="Enum",o[`${r}enumList`]=Qe.getList(s)):Xe.isBitMask(s)&&((o||a())[`${r}type`]="BitMask",o[`${r}bitmaskList`]=Xe.getList(s)):"function"==typeof s&&((o||a())[`${r}type`]="Object",o[`${r}ctor`]=s))),"default"in t&&((o||a())[`${r}default`]=t.default);const c=(e,n)=>{if(e in t){const i=t[e];typeof i===n&&((o||a())[r+e]=i)}};var l;t.editorOnly&&((o||a())[`${r}editorOnly`]=!0),t.__noImplicit?(o||a())[`${r}serializable`]=null!==(l=t.serializable)&&void 0!==l&&l:!1===t.serializable&&((o||a())[`${r}serializable`]=!1),c("formerlySerializedAs","string");const p=t.range;p&&Array.isArray(p)&&p.length>=2&&((o||a())[`${r}min`]=p[0],o[`${r}max`]=p[1],p.length>2&&(o[`${r}step`]=p[2])),c("min","number"),c("max","number"),c("step","number")}jt.isArray=function(e){return e=Ft(e),Array.isArray(e)},jt.getDefault=Ft,jt.escapeForJS=function(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},jt.IDENTIFIER_RE=/^[A-Za-z_$][0-9A-Za-z_$]*$/,jt.getNewValueTypeCode=function(e){const t=ge(e),n=e.constructor;let i=`new ${t}(`;for(let t=0;t<n.__props__.length;t++)i+=e[n.__props__[t]],t<n.__props__.length-1&&(i+=",");return`${i})`},c.Class=jt;const Ht=Math.PI/180,Vt=180/Math.PI,Wt=e("eC",1e-6);function qt(e,t){return Math.abs(e-t)<=Wt*Math.max(1,Math.abs(e),Math.abs(t))}function Yt(e,t,n){return n=n||Wt,Math.abs(e-t)<=n}function Xt(e,t,n){if(t>n){const e=t;t=n,n=e}return e<t?t:e>n?n:e}function Qt(e){return e<0?0:e>1?1:e}function Zt(e,t,n){return e+(t-e)*n}function Jt(e){return e*Ht}function Kt(e){return e*Vt}const $t=e("dK",Math.random);function en(e,t){return Math.random()*(t-e)+e}function tn(e,t){return Math.floor(en(e,t))}function nn(e){return(e=(9301*e+49297)%233280)/233280}function on(e,t,n){return nn(e)*(n-t)+t}function rn(e,t,n){return Math.floor(on(e,t,n))}function an(e){return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function sn(e,t){return e-Math.floor(e/t)*t}function cn(e,t){return e=sn(e,2*t),t-Math.abs(e-t)}function ln(e,t,n){return(n-e)/(t-e)}function pn(e){return Math.abs(e.x)>Math.abs(e.y)?Math.abs(e.x)>Math.abs(e.z)?e.x:e.z:Math.abs(e.y)>Math.abs(e.z)?e.y:e.z}function un(e,t){return Math.abs(e)>Math.abs(t)?e:t}const _n=1/255;class fn extends $e{static clone(e){const t=new fn;return e._val?t._val=e._val:t._val=(e.a<<24>>>0)+(e.b<<16)+(e.g<<8)+e.r,t}static copy(e,t){return e.r=t.r,e.g=t.g,e.b=t.b,e.a=t.a,e}static set(e,t,n,i,o){return e.r=t,e.g=n,e.b=i,e.a=o,e}static fromHEX(e,t){return t=0===t.indexOf("#")?t.substring(1):t,e.r=parseInt(t.substr(0,2),16)||0,e.g=parseInt(t.substr(2,2),16)||0,e.b=parseInt(t.substr(4,2),16)||0,e.a=parseInt(t.substr(6,2),16)||255,e._val=(e.a<<24>>>0)+(e.b<<16)+(e.g<<8)+e.r,e}static add(e,t,n){return e.r=t.r+n.r,e.g=t.g+n.g,e.b=t.b+n.b,e.a=t.a+n.a,e}static subtract(e,t,n){return e.r=t.r-n.r,e.g=t.g-n.g,e.b=t.b-n.b,e.a=t.a-n.a,e}static multiply(e,t,n){return e.r=t.r*n.r,e.g=t.g*n.g,e.b=t.b*n.b,e.a=t.a*n.a,e}static divide(e,t,n){return e.r=t.r/n.r,e.g=t.g/n.g,e.b=t.b/n.b,e.a=t.a/n.a,e}static scale(e,t,n){return e.r=t.r*n,e.g=t.g*n,e.b=t.b*n,e.a=t.a*n,e}static lerp(e,t,n,i){let o=t.r,r=t.g,a=t.b,s=t.a;return o+=(n.r-o)*i,r+=(n.g-r)*i,a+=(n.b-a)*i,s+=(n.a-s)*i,e._val=Math.floor((s<<24>>>0)+(a<<16)+(r<<8)+o),e}static toArray(e,t,n=0){const i=t instanceof fn||t.a>1?1/255:1;return e[n+0]=t.r*i,e[n+1]=t.g*i,e[n+2]=t.b*i,e[n+3]=t.a*i,e}static fromArray(e,t,n=0){return t.r=255*e[n+0],t.g=255*e[n+1],t.b=255*e[n+2],t.a=255*e[n+3],t}static strictEquals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}static equals(e,t,n=Wt){return Math.abs(e.r-t.r)<=n*Math.max(1,Math.abs(e.r),Math.abs(t.r))&&Math.abs(e.g-t.g)<=n*Math.max(1,Math.abs(e.g),Math.abs(t.g))&&Math.abs(e.b-t.b)<=n*Math.max(1,Math.abs(e.b),Math.abs(t.b))&&Math.abs(e.a-t.a)<=n*Math.max(1,Math.abs(e.a),Math.abs(t.a))}static hex(e){return(255*e.r<<24|255*e.g<<16|255*e.b<<8|255*e.a)>>>0}get r(){return 255&this._val}set r(e){e=~~Xt(e,0,255),this._val=(4294967040&this._val|e)>>>0}get g(){return(65280&this._val)>>8}set g(e){e=~~Xt(e,0,255),this._val=(4294902015&this._val|e<<8)>>>0}get b(){return(16711680&this._val)>>16}set b(e){e=~~Xt(e,0,255),this._val=(4278255615&this._val|e<<16)>>>0}get a(){return(4278190080&this._val)>>>24}set a(e){e=~~Xt(e,0,255),this._val=(16777215&this._val|e<<24)>>>0}get x(){return this.r*_n}set x(e){this.r=255*e}get y(){return this.g*_n}set y(e){this.g=255*e}get z(){return this.b*_n}set z(e){this.b=255*e}get w(){return this.a*_n}set w(e){this.a=255*e}constructor(e,t,n,i){super(),this._val=0,"string"==typeof e?this.fromHEX(e):void 0!==t?this.set(e,t,n,i):this.set(e)}clone(){const e=new fn;return e._val=this._val,e}equals(e){return e&&this._val===e._val}lerp(e,t){let n=this.r,i=this.g,o=this.b,r=this.a;return n+=(e.r-n)*t,i+=(e.g-i)*t,o+=(e.b-o)*t,r+=(e.a-r)*t,this._val=Math.floor((r<<24>>>0)+(o<<16)+(i<<8)+n),this}toString(){return`rgba(${this.r.toFixed()}, ${this.g.toFixed()}, ${this.b.toFixed()}, ${this.a.toFixed()})`}toCSS(e="rgba"){return"rgba"===e?`rgba(${this.r},${this.g},${this.b},${(this.a*_n).toFixed(2)})`:"rgb"===e?`rgb(${this.r},${this.g},${this.b})`:`#${this.toHEX(e)}`}fromHEX(e){e=0===e.indexOf("#")?e.substring(1):e;const t=parseInt(e.substr(0,2),16)||0,n=parseInt(e.substr(2,2),16)||0,i=parseInt(e.substr(4,2),16)||0,o=parseInt(e.substr(6,2),16)||255;return this._val=(o<<24>>>0)+(i<<16)+(n<<8)+(0|t),this}toHEX(e="#rrggbb"){const t="0",n=[(this.r<16?t:"")+this.r.toString(16),(this.g<16?t:"")+this.g.toString(16),(this.b<16?t:"")+this.b.toString(16)];return"#rgb"===e?(n[0]=n[0][0],n[1]=n[1][0],n[2]=n[2][0]):"#rrggbbaa"===e&&n.push((this.a<16?t:"")+this.a.toString(16)),n.join("")}toRGBValue(){return 16777215&this._val}fromHSV(e,t,n){let i=0,o=0,r=0;if(0===t)i=o=r=n;else if(0===n)i=o=r=0;else{1===e&&(e=0),e*=6;const a=Math.floor(e),s=e-a,c=n*(1-t),l=n*(1-t*s),p=n*(1-t*(1-s));switch(a){case 0:i=n,o=p,r=c;break;case 1:i=l,o=n,r=c;break;case 2:i=c,o=n,r=p;break;case 3:i=c,o=l,r=n;break;case 4:i=p,o=c,r=n;break;case 5:i=n,o=c,r=l}}return i*=255,o*=255,r*=255,this._val=(this.a<<24>>>0)+(r<<16)+(o<<8)+(0|i),this}toHSV(){const e=this.r*_n,t=this.g*_n,n=this.b*_n,i={h:0,s:0,v:0},o=Math.max(e,t,n),r=Math.min(e,t,n);let a=0;return i.v=o,i.s=o?(o-r)/o:0,i.s?(a=o-r,i.h=e===o?(t-n)/a:t===o?2+(n-e)/a:4+(e-t)/a,i.h/=6,i.h<0&&(i.h+=1)):i.h=0,i}set(e,t,n,i){return"object"==typeof e?null!=e._val?this._val=e._val:(t=e.g||0,n=e.b||0,i="number"==typeof e.a?e.a:255,e=e.r||0,this._val=(i<<24>>>0)+(n<<16)+(t<<8)+(0|e)):(e=e||0,t=t||0,n=n||0,i="number"==typeof i?i:255,this._val=(i<<24>>>0)+(n<<16)+(t<<8)+(0|e)),this}multiply(e){const t=(255&this._val)*e.r>>8,n=(65280&this._val)*e.g>>8,i=(16711680&this._val)*e.b>>8,o=((4278190080&this._val)>>>8)*e.a;return this._val=4278190080&o|16711680&i|65280&n|255&t,this}_set_r_unsafe(e){return this._val=(4294967040&this._val|e)>>>0,this}_set_g_unsafe(e){return this._val=(4294902015&this._val|e<<8)>>>0,this}_set_b_unsafe(e){return this._val=(4278255615&this._val|e<<16)>>>0,this}_set_a_unsafe(e){return this._val=(16777215&this._val|e<<24)>>>0,this}}function hn(e,t,n,i){return new fn(e,t,n,i)}e("ca",fn),fn.WHITE=Object.freeze(new fn(255,255,255,255)),fn.GRAY=Object.freeze(new fn(127,127,127,255)),fn.BLACK=Object.freeze(new fn(0,0,0,255)),fn.TRANSPARENT=Object.freeze(new fn(0,0,0,0)),fn.RED=Object.freeze(new fn(255,0,0,255)),fn.GREEN=Object.freeze(new fn(0,255,0,255)),fn.BLUE=Object.freeze(new fn(0,0,255,255)),fn.CYAN=Object.freeze(new fn(0,255,255,255)),fn.MAGENTA=Object.freeze(new fn(255,0,255,255)),fn.YELLOW=Object.freeze(new fn(255,255,0,255)),jt.fastDefine("cc.Color",fn,{r:0,g:0,b:0,a:255}),c.Color=fn,c.color=hn;class mn extends $e{static zero(e){return e.x=0,e.y=0,e.z=0,e}static clone(e){return new mn(e.x,e.y,e.z)}static copy(e,t){return e.x=t.x,e.y=t.y,e.z=t.z,e}static set(e,t,n,i){return e.x=t,e.y=n,e.z=i,e}static add(e,t,n){return e.x=t.x+n.x,e.y=t.y+n.y,e.z=t.z+n.z,e}static subtract(e,t,n){return e.x=t.x-n.x,e.y=t.y-n.y,e.z=t.z-n.z,e}static multiply(e,t,n){return e.x=t.x*n.x,e.y=t.y*n.y,e.z=t.z*n.z,e}static divide(e,t,n){return e.x=t.x/n.x,e.y=t.y/n.y,e.z=t.z/n.z,e}static ceil(e,t){return e.x=Math.ceil(t.x),e.y=Math.ceil(t.y),e.z=Math.ceil(t.z),e}static floor(e,t){return e.x=Math.floor(t.x),e.y=Math.floor(t.y),e.z=Math.floor(t.z),e}static min(e,t,n){return e.x=Math.min(t.x,n.x),e.y=Math.min(t.y,n.y),e.z=Math.min(t.z,n.z),e}static max(e,t,n){return e.x=Math.max(t.x,n.x),e.y=Math.max(t.y,n.y),e.z=Math.max(t.z,n.z),e}static round(e,t){return e.x=Math.round(t.x),e.y=Math.round(t.y),e.z=Math.round(t.z),e}static multiplyScalar(e,t,n){return e.x=t.x*n,e.y=t.y*n,e.z=t.z*n,e}static scaleAndAdd(e,t,n,i){return e.x=t.x+n.x*i,e.y=t.y+n.y*i,e.z=t.z+n.z*i,e}static distance(e,t){const n=t.x-e.x,i=t.y-e.y,o=t.z-e.z;return Math.sqrt(n*n+i*i+o*o)}static squaredDistance(e,t){const n=t.x-e.x,i=t.y-e.y,o=t.z-e.z;return n*n+i*i+o*o}static len(e){const t=e.x,n=e.y,i=e.z;return Math.sqrt(t*t+n*n+i*i)}static lengthSqr(e){const t=e.x,n=e.y,i=e.z;return t*t+n*n+i*i}static negate(e,t){return e.x=-t.x,e.y=-t.y,e.z=-t.z,e}static invert(e,t){return e.x=1/t.x,e.y=1/t.y,e.z=1/t.z,e}static invertSafe(e,t){const n=t.x,i=t.y,o=t.z;return Math.abs(n)<Wt?e.x=0:e.x=1/n,Math.abs(i)<Wt?e.y=0:e.y=1/i,Math.abs(o)<Wt?e.z=0:e.z=1/o,e}static normalize(e,t){const n=t.x,i=t.y,o=t.z;let r=n*n+i*i+o*o;return r>0&&(r=1/Math.sqrt(r),e.x=n*r,e.y=i*r,e.z=o*r),e}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}static cross(e,t,n){const{x:i,y:o,z:r}=t,{x:a,y:s,z:c}=n;return e.x=o*c-r*s,e.y=r*a-i*c,e.z=i*s-o*a,e}static lerp(e,t,n,i){return e.x=t.x+i*(n.x-t.x),e.y=t.y+i*(n.y-t.y),e.z=t.z+i*(n.z-t.z),e}static random(e,t){t=t||1;const n=2*$t()*Math.PI,i=2*$t()-1,o=Math.sqrt(1-i*i);return e.x=o*Math.cos(n)*t,e.y=o*Math.sin(n)*t,e.z=i*t,e}static transformMat4(e,t,n){const i=t.x,o=t.y,r=t.z;let a=n.m03*i+n.m07*o+n.m11*r+n.m15;return a=a?Math.abs(1/a):1,e.x=(n.m00*i+n.m04*o+n.m08*r+n.m12)*a,e.y=(n.m01*i+n.m05*o+n.m09*r+n.m13)*a,e.z=(n.m02*i+n.m06*o+n.m10*r+n.m14)*a,e}static transformMat4Normal(e,t,n){const i=t.x,o=t.y,r=t.z;let a=n.m03*i+n.m07*o+n.m11*r;return a=a?Math.abs(1/a):1,e.x=(n.m00*i+n.m04*o+n.m08*r)*a,e.y=(n.m01*i+n.m05*o+n.m09*r)*a,e.z=(n.m02*i+n.m06*o+n.m10*r)*a,e}static transformMat3(e,t,n){const i=t.x,o=t.y,r=t.z;return e.x=i*n.m00+o*n.m03+r*n.m06,e.y=i*n.m01+o*n.m04+r*n.m07,e.z=i*n.m02+o*n.m05+r*n.m08,e}static transformAffine(e,t,n){const i=t.x,o=t.y,r=t.z;return e.x=n.m00*i+n.m04*o+n.m08*r+n.m12,e.y=n.m01*i+n.m05*o+n.m09*r+n.m13,e.x=n.m02*i+n.m06*o+n.m10*r+n.m14,e}static transformQuat(e,t,n){const i=n.w*t.x+n.y*t.z-n.z*t.y,o=n.w*t.y+n.z*t.x-n.x*t.z,r=n.w*t.z+n.x*t.y-n.y*t.x,a=-n.x*t.x-n.y*t.y-n.z*t.z;return e.x=i*n.w+a*-n.x+o*-n.z-r*-n.y,e.y=o*n.w+a*-n.y+r*-n.x-i*-n.z,e.z=r*n.w+a*-n.z+i*-n.y-o*-n.x,e}static transformRTS(e,t,n,i,o){const r=t.x*o.x,a=t.y*o.y,s=t.z*o.z,c=n.w*r+n.y*s-n.z*a,l=n.w*a+n.z*r-n.x*s,p=n.w*s+n.x*a-n.y*r,u=-n.x*r-n.y*a-n.z*s;return e.x=c*n.w+u*-n.x+l*-n.z-p*-n.y+i.x,e.y=l*n.w+u*-n.y+p*-n.x-c*-n.z+i.y,e.z=p*n.w+u*-n.z+c*-n.y-l*-n.x+i.z,e}static transformInverseRTS(e,t,n,i,o){const r=t.x-i.x,a=t.y-i.y,s=t.z-i.z,c=n.w*r-n.y*s+n.z*a,l=n.w*a-n.z*r+n.x*s,p=n.w*s-n.x*a+n.y*r,u=n.x*r+n.y*a+n.z*s;return e.x=(c*n.w+u*n.x+l*n.z-p*n.y)/o.x,e.y=(l*n.w+u*n.y+p*n.x-c*n.z)/o.y,e.z=(p*n.w+u*n.z+c*n.y-l*n.x)/o.z,e}static rotateX(e,t,n,i){const o=t.x-n.x,r=t.y-n.y,a=t.z-n.z,s=Math.cos(i),c=Math.sin(i),l=o,p=r*s-a*c,u=r*c+a*s;return e.x=l+n.x,e.y=p+n.y,e.z=u+n.z,e}static rotateY(e,t,n,i){const o=t.x-n.x,r=t.y-n.y,a=t.z-n.z,s=Math.cos(i),c=Math.sin(i),l=a*c+o*s,p=r,u=a*s-o*c;return e.x=l+n.x,e.y=p+n.y,e.z=u+n.z,e}static rotateZ(e,t,n,i){const o=t.x-n.x,r=t.y-n.y,a=t.z-n.z,s=Math.cos(i),c=Math.sin(i),l=o*s-r*c,p=o*c+r*s,u=a;return e.x=l+n.x,e.y=p+n.y,e.z=u+n.z,e}static toArray(e,t,n=0){return e[n+0]=t.x,e[n+1]=t.y,e[n+2]=t.z,e}static fromArray(e,t,n=0){return e.x=t[n+0],e.y=t[n+1],e.z=t[n+2],e}static strictEquals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}static equals(e,t,n=Wt){const{x:i,y:o,z:r}=e,{x:a,y:s,z:c}=t;return Math.abs(i-a)<=n*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(o-s)<=n*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(r-c)<=n*Math.max(1,Math.abs(r),Math.abs(c))}static angle(e,t){mn.normalize(dn,e),mn.normalize(vn,t);const n=mn.dot(dn,vn);return n>1?0:n<-1?Math.PI:Math.acos(n)}static projectOnPlane(e,t,n){return mn.subtract(e,t,mn.project(e,t,n))}static project(e,t,n){const i=mn.lengthSqr(n);return i<1e-6?mn.set(e,0,0,0):mn.multiplyScalar(e,n,mn.dot(t,n)/i)}constructor(e,t,n){super(),e&&"object"==typeof e?(this.x=e.x,this.y=e.y,this.z=e.z):(this.x=e||0,this.y=t||0,this.z=n||0)}clone(){return new mn(this.x,this.y,this.z)}set(e,t,n){return e&&"object"==typeof e?(this.x=e.x,this.y=e.y,this.z=e.z):(this.x=e||0,this.y=t||0,this.z=n||0),this}equals(e,t=Wt){return Math.abs(this.x-e.x)<=t*Math.max(1,Math.abs(this.x),Math.abs(e.x))&&Math.abs(this.y-e.y)<=t*Math.max(1,Math.abs(this.y),Math.abs(e.y))&&Math.abs(this.z-e.z)<=t*Math.max(1,Math.abs(this.z),Math.abs(e.z))}equals3f(e,t,n,i=Wt){return Math.abs(this.x-e)<=i*Math.max(1,Math.abs(this.x),Math.abs(e))&&Math.abs(this.y-t)<=i*Math.max(1,Math.abs(this.y),Math.abs(t))&&Math.abs(this.z-n)<=i*Math.max(1,Math.abs(this.z),Math.abs(n))}strictEquals(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}strictEquals3f(e,t,n){return this.x===e&&this.y===t&&this.z===n}toString(){return`(${this.x.toFixed(2)}, ${this.y.toFixed(2)}, ${this.z.toFixed(2)})`}lerp(e,t){return this.x+=t*(e.x-this.x),this.y+=t*(e.y-this.y),this.z+=t*(e.z-this.z),this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}add3f(e,t,n){return this.x+=e,this.y+=t,this.z+=n,this}subtract(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subtract3f(e,t,n){return this.x-=e,this.y-=t,this.z-=n,this}multiplyScalar(e){return"object"==typeof e&&console.warn("should use Vec3.multiply for vector * vector operation"),this.x*=e,this.y*=e,this.z*=e,this}multiply(e){return"object"!=typeof e&&console.warn("should use Vec3.scale for vector * scalar operation"),this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiply3f(e,t,n){return this.x*=e,this.y*=t,this.z*=n,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divide3f(e,t,n){return this.x/=e,this.y/=t,this.z/=n,this}negative(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}clampf(e,t){return this.x=Xt(this.x,e.x,t.x),this.y=Xt(this.y,e.y,t.y),this.z=Xt(this.z,e.z,t.z),this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}cross(e){const{x:t,y:n,z:i}=this,{x:o,y:r,z:a}=e;return this.x=n*a-i*r,this.y=i*o-t*a,this.z=t*r-n*o,this}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSqr(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){const e=this.x,t=this.y,n=this.z;let i=e*e+t*t+n*n;return i>0&&(i=1/Math.sqrt(i),this.x=e*i,this.y=t*i,this.z=n*i),this}transformMat4(e){const t=this.x,n=this.y,i=this.z;let o=e.m03*t+e.m07*n+e.m11*i+e.m15;return o=o?1/o:1,this.x=(e.m00*t+e.m04*n+e.m08*i+e.m12)*o,this.y=(e.m01*t+e.m05*n+e.m09*i+e.m13)*o,this.z=(e.m02*t+e.m06*n+e.m10*i+e.m14)*o,this}}e("aZ",mn),mn.UNIT_X=Object.freeze(new mn(1,0,0)),mn.UNIT_Y=Object.freeze(new mn(0,1,0)),mn.UNIT_Z=Object.freeze(new mn(0,0,1)),mn.RIGHT=Object.freeze(new mn(1,0,0)),mn.UP=Object.freeze(new mn(0,1,0)),mn.FORWARD=Object.freeze(new mn(0,0,-1)),mn.ZERO=Object.freeze(new mn(0,0,0)),mn.ONE=Object.freeze(new mn(1,1,1)),mn.NEG_ONE=Object.freeze(new mn(-1,-1,-1));const dn=new mn,vn=new mn;function gn(e,t,n){return new mn(e,t,n)}jt.fastDefine("cc.Vec3",mn,{x:0,y:0,z:0}),c.Vec3=mn,c.v3=gn;class An extends $e{static clone(e){return new An(e.m00,e.m01,e.m02,e.m03,e.m04,e.m05,e.m06,e.m07,e.m08)}static copy(e,t){return e.m00=t.m00,e.m01=t.m01,e.m02=t.m02,e.m03=t.m03,e.m04=t.m04,e.m05=t.m05,e.m06=t.m06,e.m07=t.m07,e.m08=t.m08,e}static set(e,t,n,i,o,r,a,s,c,l){return e.m00=t,e.m01=n,e.m02=i,e.m03=o,e.m04=r,e.m05=a,e.m06=s,e.m07=c,e.m08=l,e}static identity(e){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=1,e.m05=0,e.m06=0,e.m07=0,e.m08=1,e}static transpose(e,t){if(e===t){const n=t.m01,i=t.m02,o=t.m05;e.m01=t.m03,e.m02=t.m06,e.m03=n,e.m05=t.m07,e.m06=i,e.m07=o}else e.m00=t.m00,e.m01=t.m03,e.m02=t.m06,e.m03=t.m01,e.m04=t.m04,e.m05=t.m07,e.m06=t.m02,e.m07=t.m05,e.m08=t.m08;return e}static invert(e,t){const n=t.m00,i=t.m01,o=t.m02,r=t.m03,a=t.m04,s=t.m05,c=t.m06,l=t.m07,p=t.m08,u=p*a-s*l,_=-p*r+s*c,f=l*r-a*c;let h=n*u+i*_+o*f;return 0===h?(e.m00=0,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=0,e.m06=0,e.m07=0,e.m08=0,e):(h=1/h,e.m00=u*h,e.m01=(-p*i+o*l)*h,e.m02=(s*i-o*a)*h,e.m03=_*h,e.m04=(p*n-o*c)*h,e.m05=(-s*n+o*r)*h,e.m06=f*h,e.m07=(-l*n+i*c)*h,e.m08=(a*n-i*r)*h,e)}static determinant(e){const t=e.m00,n=e.m01,i=e.m02,o=e.m03,r=e.m04,a=e.m05,s=e.m06,c=e.m07,l=e.m08;return t*(l*r-a*c)+n*(-l*o+a*s)+i*(c*o-r*s)}static multiply(e,t,n){const i=t.m00,o=t.m01,r=t.m02,a=t.m03,s=t.m04,c=t.m05,l=t.m06,p=t.m07,u=t.m08,_=n.m00,f=n.m01,h=n.m02,m=n.m03,d=n.m04,v=n.m05,g=n.m06,A=n.m07,y=n.m08;return e.m00=_*i+f*a+h*l,e.m01=_*o+f*s+h*p,e.m02=_*r+f*c+h*u,e.m03=m*i+d*a+v*l,e.m04=m*o+d*s+v*p,e.m05=m*r+d*c+v*u,e.m06=g*i+A*a+y*l,e.m07=g*o+A*s+y*p,e.m08=g*r+A*c+y*u,e}static multiplyMat4(e,t,n){const i=t.m00,o=t.m01,r=t.m02,a=t.m03,s=t.m04,c=t.m05,l=t.m06,p=t.m07,u=t.m08,_=n.m00,f=n.m01,h=n.m02,m=n.m04,d=n.m05,v=n.m06,g=n.m08,A=n.m09,y=n.m10;return e.m00=_*i+f*a+h*l,e.m01=_*o+f*s+h*p,e.m02=_*r+f*c+h*u,e.m03=m*i+d*a+v*l,e.m04=m*o+d*s+v*p,e.m05=m*r+d*c+v*u,e.m06=g*i+A*a+y*l,e.m07=g*o+A*s+y*p,e.m08=g*r+A*c+y*u,e}static transform(e,t,n){const i=t.m00,o=t.m01,r=t.m02,a=t.m03,s=t.m04,c=t.m05,l=t.m06,p=t.m07,u=t.m08,_=n.x,f=n.y;return e.m00=i,e.m01=o,e.m02=r,e.m03=a,e.m04=s,e.m05=c,e.m06=_*i+f*a+l,e.m07=_*o+f*s+p,e.m08=_*r+f*c+u,e}static scale(e,t,n){const i=n.x,o=n.y;return e.m00=i*t.m00,e.m01=i*t.m01,e.m02=i*t.m02,e.m03=o*t.m03,e.m04=o*t.m04,e.m05=o*t.m05,e.m06=t.m06,e.m07=t.m07,e.m08=t.m08,e}static rotate(e,t,n){const i=t.m00,o=t.m01,r=t.m02,a=t.m03,s=t.m04,c=t.m05,l=t.m06,p=t.m07,u=t.m08,_=Math.sin(n),f=Math.cos(n);return e.m00=f*i+_*a,e.m01=f*o+_*s,e.m02=f*r+_*c,e.m03=f*a-_*i,e.m04=f*s-_*o,e.m05=f*c-_*r,e.m06=l,e.m07=p,e.m08=u,e}static fromMat4(e,t){return e.m00=t.m00,e.m01=t.m01,e.m02=t.m02,e.m03=t.m04,e.m04=t.m05,e.m05=t.m06,e.m06=t.m08,e.m07=t.m09,e.m08=t.m10,e}static fromViewUp(e,t,n){return mn.lengthSqr(t)<Wt*Wt?(An.identity(e),e):(n=n||mn.UNIT_Y,mn.normalize(yn,mn.cross(yn,n,t)),mn.lengthSqr(yn)<Wt*Wt?(An.identity(e),e):(mn.cross(xn,t,yn),An.set(e,yn.x,yn.y,yn.z,xn.x,xn.y,xn.z,t.x,t.y,t.z),e))}static fromTranslation(e,t){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=1,e.m05=0,e.m06=t.x,e.m07=t.y,e.m08=1,e}static fromScaling(e,t){return e.m00=t.x,e.m01=0,e.m02=0,e.m03=0,e.m04=t.y,e.m05=0,e.m06=0,e.m07=0,e.m08=1,e}static fromRotation(e,t){const n=Math.sin(t),i=Math.cos(t);return e.m00=i,e.m01=n,e.m02=0,e.m03=-n,e.m04=i,e.m05=0,e.m06=0,e.m07=0,e.m08=1,e}static fromQuat(e,t){const n=t.x,i=t.y,o=t.z,r=t.w,a=n+n,s=i+i,c=o+o,l=n*a,p=i*a,u=i*s,_=o*a,f=o*s,h=o*c,m=r*a,d=r*s,v=r*c;return e.m00=1-u-h,e.m03=p-v,e.m06=_+d,e.m01=p+v,e.m04=1-l-h,e.m07=f-m,e.m02=_-d,e.m05=f+m,e.m08=1-l-u,e}static inverseTransposeMat4(e,t){const n=t.m00,i=t.m01,o=t.m02,r=t.m03,a=t.m04,s=t.m05,c=t.m06,l=t.m07,p=t.m08,u=t.m09,_=t.m10,f=t.m11,h=t.m12,m=t.m13,d=t.m14,v=t.m15,g=n*s-i*a,A=n*c-o*a,y=n*l-r*a,x=i*c-o*s,b=i*l-r*s,C=o*l-r*c,S=p*m-u*h,E=p*d-_*h,w=p*v-f*h,T=u*d-_*m,P=u*v-f*m,I=_*v-f*d;let R=g*I-A*P+y*T+x*w-b*E+C*S;return R?(R=1/R,e.m00=(s*I-c*P+l*T)*R,e.m01=(c*w-a*I-l*E)*R,e.m02=(a*P-s*w+l*S)*R,e.m03=(o*P-i*I-r*T)*R,e.m04=(n*I-o*w+r*E)*R,e.m05=(i*w-n*P-r*S)*R,e.m06=(m*C-d*b+v*x)*R,e.m07=(d*y-h*C-v*A)*R,e.m08=(h*b-m*y+v*g)*R,e):null}static toArray(e,t,n=0){return e[n+0]=t.m00,e[n+1]=t.m01,e[n+2]=t.m02,e[n+3]=t.m03,e[n+4]=t.m04,e[n+5]=t.m05,e[n+6]=t.m06,e[n+7]=t.m07,e[n+8]=t.m08,e}static fromArray(e,t,n=0){return e.m00=t[n+0],e.m01=t[n+1],e.m02=t[n+2],e.m03=t[n+3],e.m04=t[n+4],e.m05=t[n+5],e.m06=t[n+6],e.m07=t[n+7],e.m08=t[n+8],e}static add(e,t,n){return e.m00=t.m00+n.m00,e.m01=t.m01+n.m01,e.m02=t.m02+n.m02,e.m03=t.m03+n.m03,e.m04=t.m04+n.m04,e.m05=t.m05+n.m05,e.m06=t.m06+n.m06,e.m07=t.m07+n.m07,e.m08=t.m08+n.m08,e}static subtract(e,t,n){return e.m00=t.m00-n.m00,e.m01=t.m01-n.m01,e.m02=t.m02-n.m02,e.m03=t.m03-n.m03,e.m04=t.m04-n.m04,e.m05=t.m05-n.m05,e.m06=t.m06-n.m06,e.m07=t.m07-n.m07,e.m08=t.m08-n.m08,e}static multiplyScalar(e,t,n){return e.m00=t.m00*n,e.m01=t.m01*n,e.m02=t.m02*n,e.m03=t.m03*n,e.m04=t.m04*n,e.m05=t.m05*n,e.m06=t.m06*n,e.m07=t.m07*n,e.m08=t.m08*n,e}static multiplyScalarAndAdd(e,t,n,i){return e.m00=n.m00*i+t.m00,e.m01=n.m01*i+t.m01,e.m02=n.m02*i+t.m02,e.m03=n.m03*i+t.m03,e.m04=n.m04*i+t.m04,e.m05=n.m05*i+t.m05,e.m06=n.m06*i+t.m06,e.m07=n.m07*i+t.m07,e.m08=n.m08*i+t.m08,e}static strictEquals(e,t){return e.m00===t.m00&&e.m01===t.m01&&e.m02===t.m02&&e.m03===t.m03&&e.m04===t.m04&&e.m05===t.m05&&e.m06===t.m06&&e.m07===t.m07&&e.m08===t.m08}static equals(e,t,n=Wt){return Math.abs(e.m00-t.m00)<=n*Math.max(1,Math.abs(e.m00),Math.abs(t.m00))&&Math.abs(e.m01-t.m01)<=n*Math.max(1,Math.abs(e.m01),Math.abs(t.m01))&&Math.abs(e.m02-t.m02)<=n*Math.max(1,Math.abs(e.m02),Math.abs(t.m02))&&Math.abs(e.m03-t.m03)<=n*Math.max(1,Math.abs(e.m03),Math.abs(t.m03))&&Math.abs(e.m04-t.m04)<=n*Math.max(1,Math.abs(e.m04),Math.abs(t.m04))&&Math.abs(e.m05-t.m05)<=n*Math.max(1,Math.abs(e.m05),Math.abs(t.m05))&&Math.abs(e.m06-t.m06)<=n*Math.max(1,Math.abs(e.m06),Math.abs(t.m06))&&Math.abs(e.m07-t.m07)<=n*Math.max(1,Math.abs(e.m07),Math.abs(t.m07))&&Math.abs(e.m08-t.m08)<=n*Math.max(1,Math.abs(e.m08),Math.abs(t.m08))}constructor(e=1,t=0,n=0,i=0,o=1,r=0,a=0,s=0,c=1){super(),"object"==typeof e?(this.m00=e.m00,this.m01=e.m01,this.m02=e.m02,this.m03=e.m03,this.m04=e.m04,this.m05=e.m05,this.m06=e.m06,this.m07=e.m07,this.m08=e.m08):(this.m00=e,this.m01=t,this.m02=n,this.m03=i,this.m04=o,this.m05=r,this.m06=a,this.m07=s,this.m08=c)}clone(){const e=this;return new An(e.m00,e.m01,e.m02,e.m03,e.m04,e.m05,e.m06,e.m07,e.m08)}set(e=1,t=0,n=0,i=0,o=1,r=0,a=0,s=0,c=1){return"object"==typeof e?(this.m00=e.m00,this.m01=e.m01,this.m02=e.m02,this.m03=e.m03,this.m04=e.m04,this.m05=e.m05,this.m06=e.m06,this.m07=e.m07,this.m08=e.m08):(this.m00=e,this.m01=t,this.m02=n,this.m03=i,this.m04=o,this.m05=r,this.m06=a,this.m07=s,this.m08=c),this}equals(e,t=Wt){return Math.abs(this.m00-e.m00)<=t*Math.max(1,Math.abs(this.m00),Math.abs(e.m00))&&Math.abs(this.m01-e.m01)<=t*Math.max(1,Math.abs(this.m01),Math.abs(e.m01))&&Math.abs(this.m02-e.m02)<=t*Math.max(1,Math.abs(this.m02),Math.abs(e.m02))&&Math.abs(this.m03-e.m03)<=t*Math.max(1,Math.abs(this.m03),Math.abs(e.m03))&&Math.abs(this.m04-e.m04)<=t*Math.max(1,Math.abs(this.m04),Math.abs(e.m04))&&Math.abs(this.m05-e.m05)<=t*Math.max(1,Math.abs(this.m05),Math.abs(e.m05))&&Math.abs(this.m06-e.m06)<=t*Math.max(1,Math.abs(this.m06),Math.abs(e.m06))&&Math.abs(this.m07-e.m07)<=t*Math.max(1,Math.abs(this.m07),Math.abs(e.m07))&&Math.abs(this.m08-e.m08)<=t*Math.max(1,Math.abs(this.m08),Math.abs(e.m08))}strictEquals(e){return this.m00===e.m00&&this.m01===e.m01&&this.m02===e.m02&&this.m03===e.m03&&this.m04===e.m04&&this.m05===e.m05&&this.m06===e.m06&&this.m07===e.m07&&this.m08===e.m08}toString(){const e=this;return`[\n${e.m00}, ${e.m01}, ${e.m02},\n${e.m03},\n${e.m04}, ${e.m05},\n${e.m06}, ${e.m07},\n${e.m08}\n]`}identity(){return this.m00=1,this.m01=0,this.m02=0,this.m03=0,this.m04=1,this.m05=0,this.m06=0,this.m07=0,this.m08=1,this}transpose(){const e=this.m01,t=this.m02,n=this.m05;return this.m01=this.m03,this.m02=this.m06,this.m03=e,this.m05=this.m07,this.m06=t,this.m07=n,this}invert(){const e=this.m00,t=this.m01,n=this.m02,i=this.m03,o=this.m04,r=this.m05,a=this.m06,s=this.m07,c=this.m08,l=c*o-r*s,p=-c*i+r*a,u=s*i-o*a;let _=e*l+t*p+n*u;return 0===_?(this.set(0,0,0,0,0,0,0,0,0),this):(_=1/_,this.m00=l*_,this.m01=(-c*t+n*s)*_,this.m02=(r*t-n*o)*_,this.m03=p*_,this.m04=(c*e-n*a)*_,this.m05=(-r*e+n*i)*_,this.m06=u*_,this.m07=(-s*e+t*a)*_,this.m08=(o*e-t*i)*_,this)}determinant(){const e=this.m00,t=this.m01,n=this.m02,i=this.m03,o=this.m04,r=this.m05,a=this.m06,s=this.m07,c=this.m08;return e*(c*o-r*s)+t*(-c*i+r*a)+n*(s*i-o*a)}add(e){return this.m00+=e.m00,this.m01+=e.m01,this.m02+=e.m02,this.m03+=e.m03,this.m04+=e.m04,this.m05+=e.m05,this.m06+=e.m06,this.m07+=e.m07,this.m08+=e.m08,this}subtract(e){return this.m00-=e.m00,this.m01-=e.m01,this.m02-=e.m02,this.m03-=e.m03,this.m04-=e.m04,this.m05-=e.m05,this.m06-=e.m06,this.m07-=e.m07,this.m08-=e.m08,this}multiply(e){const t=this.m00,n=this.m01,i=this.m02,o=this.m03,r=this.m04,a=this.m05,s=this.m06,c=this.m07,l=this.m08,p=e.m00,u=e.m01,_=e.m02,f=e.m03,h=e.m04,m=e.m05,d=e.m06,v=e.m07,g=e.m08;return this.m00=p*t+u*o+_*s,this.m01=p*n+u*r+_*c,this.m02=p*i+u*a+_*l,this.m03=f*t+h*o+m*s,this.m04=f*n+h*r+m*c,this.m05=f*i+h*a+m*l,this.m06=d*t+v*o+g*s,this.m07=d*n+v*r+g*c,this.m08=d*i+v*a+g*l,this}multiplyScalar(e){return this.m00*=e,this.m01*=e,this.m02*=e,this.m03*=e,this.m04*=e,this.m05*=e,this.m06*=e,this.m07*=e,this.m08*=e,this}scale(e){const t=e.x,n=e.y;return this.m00=t*this.m00,this.m01=t*this.m01,this.m02=t*this.m02,this.m03=n*this.m03,this.m04=n*this.m04,this.m05=n*this.m05,this.m06=this.m06,this.m07=this.m07,this.m08=this.m08,this}rotate(e){const t=this.m00,n=this.m01,i=this.m02,o=this.m03,r=this.m04,a=this.m05,s=this.m06,c=this.m07,l=this.m08,p=Math.sin(e),u=Math.cos(e);return this.m00=u*t+p*o,this.m01=u*n+p*r,this.m02=u*i+p*a,this.m03=u*o-p*t,this.m04=u*r-p*n,this.m05=u*a-p*i,this.m06=s,this.m07=c,this.m08=l,this}fromQuat(e){const t=e.x,n=e.y,i=e.z,o=e.w,r=t+t,a=n+n,s=i+i,c=t*r,l=n*r,p=n*a,u=i*r,_=i*a,f=i*s,h=o*r,m=o*a,d=o*s;return this.m00=1-p-f,this.m03=l-d,this.m06=u+m,this.m01=l+d,this.m04=1-c-f,this.m07=_-h,this.m02=u-m,this.m05=_+h,this.m08=1-c-p,this}}e("ex",An),An.IDENTITY=Object.freeze(new An);const yn=new mn,xn=new mn;jt.fastDefine("cc.Mat3",An,{m00:1,m01:0,m02:0,m03:0,m04:1,m05:0,m06:0,m07:0,m08:1}),c.Mat3=An;class bn extends $e{static clone(e){return new bn(e.x,e.y,e.z,e.w)}static copy(e,t){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}static set(e,t,n,i,o){return e.x=t,e.y=n,e.z=i,e.w=o,e}static identity(e){return e.x=0,e.y=0,e.z=0,e.w=1,e}static rotationTo(e,t,n){const i=mn.dot(t,n);return i<-.999999?(mn.cross(En,mn.UNIT_X,t),En.length()<1e-6&&mn.cross(En,mn.UNIT_Y,t),mn.normalize(En,En),bn.fromAxisAngle(e,En,Math.PI),e):i>.999999?(e.x=0,e.y=0,e.z=0,e.w=1,e):(mn.cross(En,t,n),e.x=En.x,e.y=En.y,e.z=En.z,e.w=1+i,bn.normalize(e,e))}static getAxisAngle(e,t){const n=2*Math.acos(t.w),i=Math.sin(n/2);return 0!==i?(e.x=t.x/i,e.y=t.y/i,e.z=t.z/i):(e.x=1,e.y=0,e.z=0),n}static multiply(e,t,n){const i=t.x*n.w+t.w*n.x+t.y*n.z-t.z*n.y,o=t.y*n.w+t.w*n.y+t.z*n.x-t.x*n.z,r=t.z*n.w+t.w*n.z+t.x*n.y-t.y*n.x,a=t.w*n.w-t.x*n.x-t.y*n.y-t.z*n.z;return e.x=i,e.y=o,e.z=r,e.w=a,e}static multiplyScalar(e,t,n){return e.x=t.x*n,e.y=t.y*n,e.z=t.z*n,e.w=t.w*n,e}static scaleAndAdd(e,t,n,i){return e.x=t.x+n.x*i,e.y=t.y+n.y*i,e.z=t.z+n.z*i,e.w=t.w+n.w*i,e}static rotateX(e,t,n){n*=.5;const i=Math.sin(n),o=Math.cos(n),{x:r,y:a,z:s,w:c}=t;return e.x=r*o+c*i,e.y=a*o+s*i,e.z=s*o-a*i,e.w=c*o-r*i,e}static rotateY(e,t,n){n*=.5;const i=Math.sin(n),o=Math.cos(n),{x:r,y:a,z:s,w:c}=t;return e.x=r*o-s*i,e.y=a*o+c*i,e.z=s*o+r*i,e.w=c*o-a*i,e}static rotateZ(e,t,n){n*=.5;const i=Math.sin(n),o=Math.cos(n),{x:r,y:a,z:s,w:c}=t;return e.x=r*o+a*i,e.y=a*o-r*i,e.z=s*o+c*i,e.w=c*o-s*i,e}static rotateAround(e,t,n,i){return bn.invert(Cn,t),mn.transformQuat(En,n,Cn),bn.fromAxisAngle(Cn,En,i),bn.multiply(e,t,Cn),e}static rotateAroundLocal(e,t,n,i){return bn.fromAxisAngle(Cn,n,i),bn.multiply(e,t,Cn),e}static calculateW(e,t){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=Math.sqrt(Math.abs(1-t.x*t.x-t.y*t.y-t.z*t.z)),e}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}static lerp(e,t,n,i){return e.x=t.x+i*(n.x-t.x),e.y=t.y+i*(n.y-t.y),e.z=t.z+i*(n.z-t.z),e.w=t.w+i*(n.w-t.w),e}static slerp(e,t,n,i){let o=0,r=0,a=n.x,s=n.y,c=n.z,l=n.w,p=t.x*n.x+t.y*n.y+t.z*n.z+t.w*n.w;if(p<0&&(p=-p,a=-a,s=-s,c=-c,l=-l),1-p>1e-6){const e=Math.acos(p),t=Math.sin(e);o=Math.sin((1-i)*e)/t,r=Math.sin(i*e)/t}else o=1-i,r=i;return e.x=o*t.x+r*a,e.y=o*t.y+r*s,e.z=o*t.z+r*c,e.w=o*t.w+r*l,e}static sqlerp(e,t,n,i,o,r){return bn.slerp(Cn,t,o,r),bn.slerp(Sn,n,i,r),bn.slerp(e,Cn,Sn,2*r*(1-r)),e}static invert(e,t){const n=t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w,i=n?1/n:0;return e.x=-t.x*i,e.y=-t.y*i,e.z=-t.z*i,e.w=t.w*i,e}static conjugate(e,t){return e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=t.w,e}static len(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w)}static lengthSqr(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w}static normalize(e,t){let n=t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w;return n>0&&(n=1/Math.sqrt(n),e.x=t.x*n,e.y=t.y*n,e.z=t.z*n,e.w=t.w*n),e}static fromAxes(e,t,n,i){return An.set(wn,t.x,t.y,t.z,n.x,n.y,n.z,i.x,i.y,i.z),bn.normalize(e,bn.fromMat3(e,wn))}static fromViewUp(e,t,n){return An.fromViewUp(wn,t,n),bn.normalize(e,bn.fromMat3(e,wn))}static fromAxisAngle(e,t,n){n*=.5;const i=Math.sin(n);return e.x=i*t.x,e.y=i*t.y,e.z=i*t.z,e.w=Math.cos(n),e}static fromMat3(e,t){const{m00:n,m03:i,m06:o,m01:r,m04:a,m07:s,m02:c,m05:l,m08:p}=t,u=n+a+p;if(u>0){const t=.5/Math.sqrt(u+1);e.w=.25/t,e.x=(l-s)*t,e.y=(o-c)*t,e.z=(r-i)*t}else if(n>a&&n>p){const t=2*Math.sqrt(1+n-a-p);e.w=(l-s)/t,e.x=.25*t,e.y=(i+r)/t,e.z=(o+c)/t}else if(a>p){const t=2*Math.sqrt(1+a-n-p);e.w=(o-c)/t,e.x=(i+r)/t,e.y=.25*t,e.z=(s+l)/t}else{const t=2*Math.sqrt(1+p-n-a);e.w=(r-i)/t,e.x=(o+c)/t,e.y=(s+l)/t,e.z=.25*t}return e}static fromEuler(e,t,n,i){t*=Tn,n*=Tn,i*=Tn;const o=Math.sin(t),r=Math.cos(t),a=Math.sin(n),s=Math.cos(n),c=Math.sin(i),l=Math.cos(i);return e.x=o*s*l+r*a*c,e.y=r*a*l+o*s*c,e.z=r*s*c-o*a*l,e.w=r*s*l-o*a*c,e}static fromAngleZ(e,t){return t*=Tn,e.x=e.y=0,e.z=Math.sin(t),e.w=Math.cos(t),e}static toAxisX(e,t){const n=2*t.y,i=2*t.z;return e.x=1-n*t.y-i*t.z,e.y=n*t.x+i*t.w,e.z=i*t.x+n*t.w,e}static toAxisY(e,t){const n=2*t.x,i=2*t.y,o=2*t.z;return e.x=i*t.x-o*t.w,e.y=1-n*t.x-o*t.z,e.z=o*t.y+n*t.w,e}static toAxisZ(e,t){const n=2*t.x,i=2*t.y,o=2*t.z;return e.x=o*t.x-i*t.w,e.y=o*t.y-n*t.w,e.z=1-n*t.x-i*t.y,e}static toEuler(e,t,n){const{x:i,y:o,z:r,w:a}=t;let s=0,c=0,l=0;const p=i*o+r*a;if(p>.499999)s=0,c=Kt(2*Math.atan2(i,a)),l=90;else if(p<-.499999)s=0,c=-Kt(2*Math.atan2(i,a)),l=-90;else{const e=i*i,t=o*o,u=r*r;s=Kt(Math.atan2(2*i*a-2*o*r,1-2*e-2*u)),c=Kt(Math.atan2(2*o*a-2*i*r,1-2*t-2*u)),l=Kt(Math.asin(2*p)),n&&(s=-180*Math.sign(s+1e-6)+s,c=-180*Math.sign(c+1e-6)+c,l=180*Math.sign(l+1e-6)-l)}return e.x=s,e.y=c,e.z=l,e}static toArray(e,t,n=0){return e[n+0]=t.x,e[n+1]=t.y,e[n+2]=t.z,e[n+3]=t.w,e}static fromArray(e,t,n=0){return e.x=t[n+0],e.y=t[n+1],e.z=t[n+2],e.w=t[n+3],e}static strictEquals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w}static equals(e,t,n=Wt){return Math.abs(e.x-t.x)<=n*Math.max(1,Math.abs(e.x),Math.abs(t.x))&&Math.abs(e.y-t.y)<=n*Math.max(1,Math.abs(e.y),Math.abs(t.y))&&Math.abs(e.z-t.z)<=n*Math.max(1,Math.abs(e.z),Math.abs(t.z))&&Math.abs(e.w-t.w)<=n*Math.max(1,Math.abs(e.w),Math.abs(t.w))}constructor(e,t,n,i){super(),e&&"object"==typeof e?(this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w):(this.x=e||0,this.y=t||0,this.z=n||0,this.w=null!=i?i:1)}clone(){return new bn(this.x,this.y,this.z,this.w)}set(e,t,n,i){return e&&"object"==typeof e?(this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w):(this.x=e||0,this.y=t||0,this.z=n||0,this.w=null!=i?i:1),this}equals(e,t=Wt){return Math.abs(this.x-e.x)<=t*Math.max(1,Math.abs(this.x),Math.abs(e.x))&&Math.abs(this.y-e.y)<=t*Math.max(1,Math.abs(this.y),Math.abs(e.y))&&Math.abs(this.z-e.z)<=t*Math.max(1,Math.abs(this.z),Math.abs(e.z))&&Math.abs(this.w-e.w)<=t*Math.max(1,Math.abs(this.w),Math.abs(e.w))}strictEquals(e){return e&&this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w}getEulerAngles(e){return bn.toEuler(e,this)}lerp(e,t){return this.x+=t*(e.x-this.x),this.y+=t*(e.y-this.y),this.z+=t*(e.z-this.z),this.w+=t*(e.w-this.w),this}slerp(e,t){return bn.slerp(this,this,e,t)}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthSqr(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}}e("bJ",bn),bn.IDENTITY=Object.freeze(new bn);const Cn=new bn,Sn=new bn,En=new mn,wn=new An,Tn=.5*Math.PI/180;function Pn(e=0,t=0,n=0,i=1){return new bn(e,t,n,i)}jt.fastDefine("cc.Quat",bn,{x:0,y:0,z:0,w:1}),c.Quat=bn,c.quat=Pn;const In=e("e4",Object.freeze([Object.freeze([1,0,0,1]),Object.freeze([0,1,-1,0]),Object.freeze([-1,0,0,-1]),Object.freeze([0,-1,1,0])]));class Rn extends $e{static clone(e){return new Rn(e.m00,e.m01,e.m02,e.m03,e.m04,e.m05,e.m06,e.m07,e.m08,e.m09,e.m10,e.m11,e.m12,e.m13,e.m14,e.m15)}static copy(e,t){return e.m00=t.m00,e.m01=t.m01,e.m02=t.m02,e.m03=t.m03,e.m04=t.m04,e.m05=t.m05,e.m06=t.m06,e.m07=t.m07,e.m08=t.m08,e.m09=t.m09,e.m10=t.m10,e.m11=t.m11,e.m12=t.m12,e.m13=t.m13,e.m14=t.m14,e.m15=t.m15,e}static set(e,t,n,i,o,r,a,s,c,l,p,u,_,f,h,m,d){return e.m00=t,e.m01=n,e.m02=i,e.m03=o,e.m04=r,e.m05=a,e.m06=s,e.m07=c,e.m08=l,e.m09=p,e.m10=u,e.m11=_,e.m12=f,e.m13=h,e.m14=m,e.m15=d,e}static identity(e){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=1,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=1,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e}static transpose(e,t){if(e===t){const n=t.m01,i=t.m02,o=t.m03,r=t.m06,a=t.m07,s=t.m11;e.m01=t.m04,e.m02=t.m08,e.m03=t.m12,e.m04=n,e.m06=t.m09,e.m07=t.m13,e.m08=i,e.m09=r,e.m11=t.m14,e.m12=o,e.m13=a,e.m14=s}else e.m00=t.m00,e.m01=t.m04,e.m02=t.m08,e.m03=t.m12,e.m04=t.m01,e.m05=t.m05,e.m06=t.m09,e.m07=t.m13,e.m08=t.m02,e.m09=t.m06,e.m10=t.m10,e.m11=t.m14,e.m12=t.m03,e.m13=t.m07,e.m14=t.m11,e.m15=t.m15;return e}static invert(e,t){const n=t.m00,i=t.m01,o=t.m02,r=t.m03,a=t.m04,s=t.m05,c=t.m06,l=t.m07,p=t.m08,u=t.m09,_=t.m10,f=t.m11,h=t.m12,m=t.m13,d=t.m14,v=t.m15,g=n*s-i*a,A=n*c-o*a,y=n*l-r*a,x=i*c-o*s,b=i*l-r*s,C=o*l-r*c,S=p*m-u*h,E=p*d-_*h,w=p*v-f*h,T=u*d-_*m,P=u*v-f*m,I=_*v-f*d;let R=g*I-A*P+y*T+x*w-b*E+C*S;return 0===R?(e.m00=0,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=0,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=0,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=0,e):(R=1/R,e.m00=(s*I-c*P+l*T)*R,e.m01=(o*P-i*I-r*T)*R,e.m02=(m*C-d*b+v*x)*R,e.m03=(_*b-u*C-f*x)*R,e.m04=(c*w-a*I-l*E)*R,e.m05=(n*I-o*w+r*E)*R,e.m06=(d*y-h*C-v*A)*R,e.m07=(p*C-_*y+f*A)*R,e.m08=(a*P-s*w+l*S)*R,e.m09=(i*w-n*P-r*S)*R,e.m10=(h*b-m*y+v*g)*R,e.m11=(u*y-p*b-f*g)*R,e.m12=(s*E-a*T-c*S)*R,e.m13=(n*T-i*E+o*S)*R,e.m14=(m*A-h*x-d*g)*R,e.m15=(p*x-u*A+_*g)*R,e)}static determinant(e){const t=e.m00,n=e.m01,i=e.m02,o=e.m03,r=e.m04,a=e.m05,s=e.m06,c=e.m07,l=e.m08,p=e.m09,u=e.m10,_=e.m11,f=e.m12,h=e.m13,m=e.m14,d=e.m15;return(t*a-n*r)*(u*d-_*m)-(t*s-i*r)*(p*d-_*h)+(t*c-o*r)*(p*m-u*h)+(n*s-i*a)*(l*d-_*f)-(n*c-o*a)*(l*m-u*f)+(i*c-o*s)*(l*h-p*f)}static multiply(e,t,n){const i=t.m00,o=t.m01,r=t.m02,a=t.m03,s=t.m04,c=t.m05,l=t.m06,p=t.m07,u=t.m08,_=t.m09,f=t.m10,h=t.m11,m=t.m12,d=t.m13,v=t.m14,g=t.m15;let A=n.m00,y=n.m01,x=n.m02,b=n.m03;return e.m00=A*i+y*s+x*u+b*m,e.m01=A*o+y*c+x*_+b*d,e.m02=A*r+y*l+x*f+b*v,e.m03=A*a+y*p+x*h+b*g,A=n.m04,y=n.m05,x=n.m06,b=n.m07,e.m04=A*i+y*s+x*u+b*m,e.m05=A*o+y*c+x*_+b*d,e.m06=A*r+y*l+x*f+b*v,e.m07=A*a+y*p+x*h+b*g,A=n.m08,y=n.m09,x=n.m10,b=n.m11,e.m08=A*i+y*s+x*u+b*m,e.m09=A*o+y*c+x*_+b*d,e.m10=A*r+y*l+x*f+b*v,e.m11=A*a+y*p+x*h+b*g,A=n.m12,y=n.m13,x=n.m14,b=n.m15,e.m12=A*i+y*s+x*u+b*m,e.m13=A*o+y*c+x*_+b*d,e.m14=A*r+y*l+x*f+b*v,e.m15=A*a+y*p+x*h+b*g,e}static transform(e,t,n){const i=n.x,o=n.y,r=n.z;if(t===e)e.m12=t.m00*i+t.m04*o+t.m08*r+t.m12,e.m13=t.m01*i+t.m05*o+t.m09*r+t.m13,e.m14=t.m02*i+t.m06*o+t.m10*r+t.m14,e.m15=t.m03*i+t.m07*o+t.m11*r+t.m15;else{const n=t.m00,a=t.m01,s=t.m02,c=t.m03,l=t.m04,p=t.m05,u=t.m06,_=t.m07,f=t.m08,h=t.m09,m=t.m10,d=t.m11;t.m12,t.m13,t.m14,t.m15,e.m00=n,e.m01=a,e.m02=s,e.m03=c,e.m04=l,e.m05=p,e.m06=u,e.m07=_,e.m08=f,e.m09=h,e.m10=m,e.m11=d,e.m12=n*i+l*o+f*r+t.m12,e.m13=a*i+p*o+h*r+t.m13,e.m14=s*i+u*o+m*r+t.m14,e.m15=c*i+_*o+d*r+t.m15}return e}static translate(e,t,n){return console.warn("function changed"),t===e?(e.m12+=n.x,e.m13+=n.y,e.m14+=n.z):(e.m00=t.m00,e.m01=t.m01,e.m02=t.m02,e.m03=t.m03,e.m04=t.m04,e.m05=t.m05,e.m06=t.m06,e.m07=t.m07,e.m08=t.m08,e.m09=t.m09,e.m10=t.m10,e.m11=t.m11,e.m12+=n.x,e.m13+=n.y,e.m14+=n.z,e.m15=t.m15),e}static scale(e,t,n){const i=n.x,o=n.y,r=n.z;return e.m00=t.m00*i,e.m01=t.m01*i,e.m02=t.m02*i,e.m03=t.m03*i,e.m04=t.m04*o,e.m05=t.m05*o,e.m06=t.m06*o,e.m07=t.m07*o,e.m08=t.m08*r,e.m09=t.m09*r,e.m10=t.m10*r,e.m11=t.m11*r,e.m12=t.m12,e.m13=t.m13,e.m14=t.m14,e.m15=t.m15,e}static rotate(e,t,n,i){let o=i.x,r=i.y,a=i.z,s=Math.sqrt(o*o+r*r+a*a);if(Math.abs(s)<Wt)return null;s=1/s,o*=s,r*=s,a*=s;const c=Math.sin(n),l=Math.cos(n),p=1-l,u=t.m00,_=t.m01,f=t.m02,h=t.m03,m=t.m04,d=t.m05,v=t.m06,g=t.m07,A=t.m08,y=t.m09,x=t.m10,b=t.m11,C=o*o*p+l,S=r*o*p+a*c,E=a*o*p-r*c,w=o*r*p-a*c,T=r*r*p+l,P=a*r*p+o*c,I=o*a*p+r*c,R=r*a*p-o*c,N=a*a*p+l;return e.m00=u*C+m*S+A*E,e.m01=_*C+d*S+y*E,e.m02=f*C+v*S+x*E,e.m03=h*C+g*S+b*E,e.m04=u*w+m*T+A*P,e.m05=_*w+d*T+y*P,e.m06=f*w+v*T+x*P,e.m07=h*w+g*T+b*P,e.m08=u*I+m*R+A*N,e.m09=_*I+d*R+y*N,e.m10=f*I+v*R+x*N,e.m11=h*I+g*R+b*N,t!==e&&(e.m12=t.m12,e.m13=t.m13,e.m14=t.m14,e.m15=t.m15),e}static rotateX(e,t,n){const i=Math.sin(n),o=Math.cos(n),r=t.m04,a=t.m05,s=t.m06,c=t.m07,l=t.m08,p=t.m09,u=t.m10,_=t.m11;return t!==e&&(e.m00=t.m00,e.m01=t.m01,e.m02=t.m02,e.m03=t.m03,e.m12=t.m12,e.m13=t.m13,e.m14=t.m14,e.m15=t.m15),e.m04=r*o+l*i,e.m05=a*o+p*i,e.m06=s*o+u*i,e.m07=c*o+_*i,e.m08=l*o-r*i,e.m09=p*o-a*i,e.m10=u*o-s*i,e.m11=_*o-c*i,e}static rotateY(e,t,n){const i=Math.sin(n),o=Math.cos(n),r=t.m00,a=t.m01,s=t.m02,c=t.m03,l=t.m08,p=t.m09,u=t.m10,_=t.m11;return t!==e&&(e.m04=t.m04,e.m05=t.m05,e.m06=t.m06,e.m07=t.m07,e.m12=t.m12,e.m13=t.m13,e.m14=t.m14,e.m15=t.m15),e.m00=r*o-l*i,e.m01=a*o-p*i,e.m02=s*o-u*i,e.m03=c*o-_*i,e.m08=r*i+l*o,e.m09=a*i+p*o,e.m10=s*i+u*o,e.m11=c*i+_*o,e}static rotateZ(e,t,n){const i=Math.sin(n),o=Math.cos(n),r=t.m00,a=t.m01,s=t.m02,c=t.m03,l=t.m04,p=t.m05,u=t.m06,_=t.m07;return t!==e&&(e.m08=t.m08,e.m09=t.m09,e.m10=t.m10,e.m11=t.m11,e.m12=t.m12,e.m13=t.m13,e.m14=t.m14,e.m15=t.m15),e.m00=r*o+l*i,e.m01=a*o+p*i,e.m02=s*o+u*i,e.m03=c*o+_*i,e.m04=l*o-r*i,e.m05=p*o-a*i,e.m06=u*o-s*i,e.m07=_*o-c*i,e}static fromTranslation(e,t){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=1,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=1,e.m11=0,e.m12=t.x,e.m13=t.y,e.m14=t.z,e.m15=1,e}static fromScaling(e,t){return e.m00=t.x,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=t.y,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=t.z,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e}static fromRotation(e,t,n){let i=n.x,o=n.y,r=n.z,a=Math.sqrt(i*i+o*o+r*r);if(Math.abs(a)<Wt)return null;a=1/a,i*=a,o*=a,r*=a;const s=Math.sin(t),c=Math.cos(t),l=1-c;return e.m00=i*i*l+c,e.m01=o*i*l+r*s,e.m02=r*i*l-o*s,e.m03=0,e.m04=i*o*l-r*s,e.m05=o*o*l+c,e.m06=r*o*l+i*s,e.m07=0,e.m08=i*r*l+o*s,e.m09=o*r*l-i*s,e.m10=r*r*l+c,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e}static fromXRotation(e,t){const n=Math.sin(t),i=Math.cos(t);return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=i,e.m06=n,e.m07=0,e.m08=0,e.m09=-n,e.m10=i,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e}static fromYRotation(e,t){const n=Math.sin(t),i=Math.cos(t);return e.m00=i,e.m01=0,e.m02=-n,e.m03=0,e.m04=0,e.m05=1,e.m06=0,e.m07=0,e.m08=n,e.m09=0,e.m10=i,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e}static fromZRotation(e,t){const n=Math.sin(t),i=Math.cos(t);return e.m00=i,e.m01=n,e.m02=0,e.m03=0,e.m04=-n,e.m05=i,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=1,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e}static fromRT(e,t,n){const i=t.x,o=t.y,r=t.z,a=t.w,s=i+i,c=o+o,l=r+r,p=i*s,u=i*c,_=i*l,f=o*c,h=o*l,m=r*l,d=a*s,v=a*c,g=a*l;return e.m00=1-(f+m),e.m01=u+g,e.m02=_-v,e.m03=0,e.m04=u-g,e.m05=1-(p+m),e.m06=h+d,e.m07=0,e.m08=_+v,e.m09=h-d,e.m10=1-(p+f),e.m11=0,e.m12=n.x,e.m13=n.y,e.m14=n.z,e.m15=1,e}static getTranslation(e,t){return e.x=t.m12,e.y=t.m13,e.z=t.m14,e}static getScaling(e,t){const n=Dn.m00=t.m00,i=Dn.m01=t.m01,o=Dn.m02=t.m02,r=Dn.m03=t.m04,a=Dn.m04=t.m05,s=Dn.m05=t.m06,c=Dn.m06=t.m08,l=Dn.m07=t.m09,p=Dn.m08=t.m10;return e.x=Math.sqrt(n*n+i*i+o*o),e.y=Math.sqrt(r*r+a*a+s*s),e.z=Math.sqrt(c*c+l*l+p*p),An.determinant(Dn)<0&&(e.x*=-1),e}static getRotation(e,t){const n=t.m00+t.m05+t.m10;let i=0;return n>0?(i=2*Math.sqrt(n+1),e.w=.25*i,e.x=(t.m06-t.m09)/i,e.y=(t.m08-t.m02)/i,e.z=(t.m01-t.m04)/i):t.m00>t.m05&&t.m00>t.m10?(i=2*Math.sqrt(1+t.m00-t.m05-t.m10),e.w=(t.m06-t.m09)/i,e.x=.25*i,e.y=(t.m01+t.m04)/i,e.z=(t.m08+t.m02)/i):t.m05>t.m10?(i=2*Math.sqrt(1+t.m05-t.m00-t.m10),e.w=(t.m08-t.m02)/i,e.x=(t.m01+t.m04)/i,e.y=.25*i,e.z=(t.m06+t.m09)/i):(i=2*Math.sqrt(1+t.m10-t.m00-t.m05),e.w=(t.m01-t.m04)/i,e.x=(t.m08+t.m02)/i,e.y=(t.m06+t.m09)/i,e.z=.25*i),e}static toRTS(e,t,n,i){i.x=mn.set(Nn,e.m00,e.m01,e.m02).length(),Dn.m00=e.m00/i.x,Dn.m01=e.m01/i.x,Dn.m02=e.m02/i.x,i.y=mn.set(Nn,e.m04,e.m05,e.m06).length(),Dn.m03=e.m04/i.y,Dn.m04=e.m05/i.y,Dn.m05=e.m06/i.y,i.z=mn.set(Nn,e.m08,e.m09,e.m10).length(),Dn.m06=e.m08/i.z,Dn.m07=e.m09/i.z,Dn.m08=e.m10/i.z,An.determinant(Dn)<0&&(i.x*=-1,Dn.m00*=-1,Dn.m01*=-1,Dn.m02*=-1),bn.fromMat3(t,Dn),mn.set(n,e.m12,e.m13,e.m14)}static fromRTS(e,t,n,i){const o=t.x,r=t.y,a=t.z,s=t.w,c=o+o,l=r+r,p=a+a,u=o*c,_=o*l,f=o*p,h=r*l,m=r*p,d=a*p,v=s*c,g=s*l,A=s*p,y=i.x,x=i.y,b=i.z;return e.m00=(1-(h+d))*y,e.m01=(_+A)*y,e.m02=(f-g)*y,e.m03=0,e.m04=(_-A)*x,e.m05=(1-(u+d))*x,e.m06=(m+v)*x,e.m07=0,e.m08=(f+g)*b,e.m09=(m-v)*b,e.m10=(1-(u+h))*b,e.m11=0,e.m12=n.x,e.m13=n.y,e.m14=n.z,e.m15=1,e}static fromRTSOrigin(e,t,n,i,o){const r=t.x,a=t.y,s=t.z,c=t.w,l=r+r,p=a+a,u=s+s,_=r*l,f=r*p,h=r*u,m=a*p,d=a*u,v=s*u,g=c*l,A=c*p,y=c*u,x=i.x,b=i.y,C=i.z,S=o.x,E=o.y,w=o.z;return e.m00=(1-(m+v))*x,e.m01=(f+y)*x,e.m02=(h-A)*x,e.m03=0,e.m04=(f-y)*b,e.m05=(1-(_+v))*b,e.m06=(d+g)*b,e.m07=0,e.m08=(h+A)*C,e.m09=(d-g)*C,e.m10=(1-(_+m))*C,e.m11=0,e.m12=n.x+S-(e.m00*S+e.m04*E+e.m08*w),e.m13=n.y+E-(e.m01*S+e.m05*E+e.m09*w),e.m14=n.z+w-(e.m02*S+e.m06*E+e.m10*w),e.m15=1,e}static fromQuat(e,t){const n=t.x,i=t.y,o=t.z,r=t.w,a=n+n,s=i+i,c=o+o,l=n*a,p=i*a,u=i*s,_=o*a,f=o*s,h=o*c,m=r*a,d=r*s,v=r*c;return e.m00=1-u-h,e.m01=p+v,e.m02=_-d,e.m03=0,e.m04=p-v,e.m05=1-l-h,e.m06=f+m,e.m07=0,e.m08=_+d,e.m09=f-m,e.m10=1-l-u,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e}static frustum(e,t,n,i,o,r,a){const s=1/(n-t),c=1/(o-i),l=1/(r-a);return e.m00=2*r*s,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=2*r*c,e.m06=0,e.m07=0,e.m08=(n+t)*s,e.m09=(o+i)*c,e.m10=(a+r)*l,e.m11=-1,e.m12=0,e.m13=0,e.m14=a*r*2*l,e.m15=0,e}static perspective(e,t,n,i,o,r=!0,a=-1,s=1,c=0){const l=1/Math.tan(t/2),p=1/(i-o),u=r?l/n:l,_=(r?l:l*n)*s,f=In[c];return e.m00=u*f[0],e.m01=u*f[1],e.m02=0,e.m03=0,e.m04=_*f[2],e.m05=_*f[3],e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=(o-a*i)*p,e.m11=-1,e.m12=0,e.m13=0,e.m14=o*i*p*(1-a),e.m15=0,e}static ortho(e,t,n,i,o,r,a,s=-1,c=1,l=0){const p=1/(t-n),u=1/(i-o)*c,_=1/(r-a),f=-2*p,h=-2*u,m=(t+n)*p,d=(o+i)*u,v=In[l];return e.m00=f*v[0],e.m01=f*v[1],e.m02=0,e.m03=0,e.m04=h*v[2],e.m05=h*v[3],e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=_*(1-s),e.m11=0,e.m12=m*v[0]+d*v[2],e.m13=m*v[1]+d*v[3],e.m14=(r-s*a)*_,e.m15=1,e}static lookAt(e,t,n,i){const o=t.x,r=t.y,a=t.z,s=i.x,c=i.y,l=i.z;let p=o-n.x,u=r-n.y,_=a-n.z,f=1/Math.sqrt(p*p+u*u+_*_);p*=f,u*=f,_*=f;let h=c*_-l*u,m=l*p-s*_,d=s*u-c*p;f=1/Math.sqrt(h*h+m*m+d*d),h*=f,m*=f,d*=f;const v=u*d-_*m,g=_*h-p*d,A=p*m-u*h;return e.m00=h,e.m01=v,e.m02=p,e.m03=0,e.m04=m,e.m05=g,e.m06=u,e.m07=0,e.m08=d,e.m09=A,e.m10=_,e.m11=0,e.m12=-(h*o+m*r+d*a),e.m13=-(v*o+g*r+A*a),e.m14=-(p*o+u*r+_*a),e.m15=1,e}static inverseTranspose(e,t){const n=t.m00,i=t.m01,o=t.m02,r=t.m03,a=t.m04,s=t.m05,c=t.m06,l=t.m07,p=t.m08,u=t.m09,_=t.m10,f=t.m11,h=t.m12,m=t.m13,d=t.m14,v=t.m15,g=n*s-i*a,A=n*c-o*a,y=n*l-r*a,x=i*c-o*s,b=i*l-r*s,C=o*l-r*c,S=p*m-u*h,E=p*d-_*h,w=p*v-f*h,T=u*d-_*m,P=u*v-f*m,I=_*v-f*d;let R=g*I-A*P+y*T+x*w-b*E+C*S;return R?(R=1/R,e.m00=(s*I-c*P+l*T)*R,e.m01=(c*w-a*I-l*E)*R,e.m02=(a*P-s*w+l*S)*R,e.m03=0,e.m04=(o*P-i*I-r*T)*R,e.m05=(n*I-o*w+r*E)*R,e.m06=(i*w-n*P-r*S)*R,e.m07=0,e.m08=(m*C-d*b+v*x)*R,e.m09=(d*y-h*C-v*A)*R,e.m10=(h*b-m*y+v*g)*R,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e):null}static toArray(e,t,n=0){return e[n+0]=t.m00,e[n+1]=t.m01,e[n+2]=t.m02,e[n+3]=t.m03,e[n+4]=t.m04,e[n+5]=t.m05,e[n+6]=t.m06,e[n+7]=t.m07,e[n+8]=t.m08,e[n+9]=t.m09,e[n+10]=t.m10,e[n+11]=t.m11,e[n+12]=t.m12,e[n+13]=t.m13,e[n+14]=t.m14,e[n+15]=t.m15,e}static fromArray(e,t,n=0){return e.m00=t[n+0],e.m01=t[n+1],e.m02=t[n+2],e.m03=t[n+3],e.m04=t[n+4],e.m05=t[n+5],e.m06=t[n+6],e.m07=t[n+7],e.m08=t[n+8],e.m09=t[n+9],e.m10=t[n+10],e.m11=t[n+11],e.m12=t[n+12],e.m13=t[n+13],e.m14=t[n+14],e.m15=t[n+15],e}static add(e,t,n){return e.m00=t.m00+n.m00,e.m01=t.m01+n.m01,e.m02=t.m02+n.m02,e.m03=t.m03+n.m03,e.m04=t.m04+n.m04,e.m05=t.m05+n.m05,e.m06=t.m06+n.m06,e.m07=t.m07+n.m07,e.m08=t.m08+n.m08,e.m09=t.m09+n.m09,e.m10=t.m10+n.m10,e.m11=t.m11+n.m11,e.m12=t.m12+n.m12,e.m13=t.m13+n.m13,e.m14=t.m14+n.m14,e.m15=t.m15+n.m15,e}static subtract(e,t,n){return e.m00=t.m00-n.m00,e.m01=t.m01-n.m01,e.m02=t.m02-n.m02,e.m03=t.m03-n.m03,e.m04=t.m04-n.m04,e.m05=t.m05-n.m05,e.m06=t.m06-n.m06,e.m07=t.m07-n.m07,e.m08=t.m08-n.m08,e.m09=t.m09-n.m09,e.m10=t.m10-n.m10,e.m11=t.m11-n.m11,e.m12=t.m12-n.m12,e.m13=t.m13-n.m13,e.m14=t.m14-n.m14,e.m15=t.m15-n.m15,e}static multiplyScalar(e,t,n){return e.m00=t.m00*n,e.m01=t.m01*n,e.m02=t.m02*n,e.m03=t.m03*n,e.m04=t.m04*n,e.m05=t.m05*n,e.m06=t.m06*n,e.m07=t.m07*n,e.m08=t.m08*n,e.m09=t.m09*n,e.m10=t.m10*n,e.m11=t.m11*n,e.m12=t.m12*n,e.m13=t.m13*n,e.m14=t.m14*n,e.m15=t.m15*n,e}static multiplyScalarAndAdd(e,t,n,i){return e.m00=t.m00+n.m00*i,e.m01=t.m01+n.m01*i,e.m02=t.m02+n.m02*i,e.m03=t.m03+n.m03*i,e.m04=t.m04+n.m04*i,e.m05=t.m05+n.m05*i,e.m06=t.m06+n.m06*i,e.m07=t.m07+n.m07*i,e.m08=t.m08+n.m08*i,e.m09=t.m09+n.m09*i,e.m10=t.m10+n.m10*i,e.m11=t.m11+n.m11*i,e.m12=t.m12+n.m12*i,e.m13=t.m13+n.m13*i,e.m14=t.m14+n.m14*i,e.m15=t.m15+n.m15*i,e}static strictEquals(e,t){return e.m00===t.m00&&e.m01===t.m01&&e.m02===t.m02&&e.m03===t.m03&&e.m04===t.m04&&e.m05===t.m05&&e.m06===t.m06&&e.m07===t.m07&&e.m08===t.m08&&e.m09===t.m09&&e.m10===t.m10&&e.m11===t.m11&&e.m12===t.m12&&e.m13===t.m13&&e.m14===t.m14&&e.m15===t.m15}static equals(e,t,n=Wt){return Math.abs(e.m00-t.m00)<=n*Math.max(1,Math.abs(e.m00),Math.abs(t.m00))&&Math.abs(e.m01-t.m01)<=n*Math.max(1,Math.abs(e.m01),Math.abs(t.m01))&&Math.abs(e.m02-t.m02)<=n*Math.max(1,Math.abs(e.m02),Math.abs(t.m02))&&Math.abs(e.m03-t.m03)<=n*Math.max(1,Math.abs(e.m03),Math.abs(t.m03))&&Math.abs(e.m04-t.m04)<=n*Math.max(1,Math.abs(e.m04),Math.abs(t.m04))&&Math.abs(e.m05-t.m05)<=n*Math.max(1,Math.abs(e.m05),Math.abs(t.m05))&&Math.abs(e.m06-t.m06)<=n*Math.max(1,Math.abs(e.m06),Math.abs(t.m06))&&Math.abs(e.m07-t.m07)<=n*Math.max(1,Math.abs(e.m07),Math.abs(t.m07))&&Math.abs(e.m08-t.m08)<=n*Math.max(1,Math.abs(e.m08),Math.abs(t.m08))&&Math.abs(e.m09-t.m09)<=n*Math.max(1,Math.abs(e.m09),Math.abs(t.m09))&&Math.abs(e.m10-t.m10)<=n*Math.max(1,Math.abs(e.m10),Math.abs(t.m10))&&Math.abs(e.m11-t.m11)<=n*Math.max(1,Math.abs(e.m11),Math.abs(t.m11))&&Math.abs(e.m12-t.m12)<=n*Math.max(1,Math.abs(e.m12),Math.abs(t.m12))&&Math.abs(e.m13-t.m13)<=n*Math.max(1,Math.abs(e.m13),Math.abs(t.m13))&&Math.abs(e.m14-t.m14)<=n*Math.max(1,Math.abs(e.m14),Math.abs(t.m14))&&Math.abs(e.m15-t.m15)<=n*Math.max(1,Math.abs(e.m15),Math.abs(t.m15))}constructor(e=1,t=0,n=0,i=0,o=0,r=1,a=0,s=0,c=0,l=0,p=1,u=0,_=0,f=0,h=0,m=1){super(),this.m00=void 0,this.m01=void 0,this.m02=void 0,this.m03=void 0,this.m04=void 0,this.m05=void 0,this.m06=void 0,this.m07=void 0,this.m08=void 0,this.m09=void 0,this.m10=void 0,this.m11=void 0,this.m12=void 0,this.m13=void 0,this.m14=void 0,this.m15=void 0,"object"==typeof e?(this.m00=e.m00,this.m01=e.m01,this.m02=e.m02,this.m03=e.m03,this.m04=e.m04,this.m05=e.m05,this.m06=e.m06,this.m07=e.m07,this.m08=e.m08,this.m09=e.m09,this.m10=e.m10,this.m11=e.m11,this.m12=e.m12,this.m13=e.m13,this.m14=e.m14,this.m15=e.m15):(this.m00=e,this.m01=t,this.m02=n,this.m03=i,this.m04=o,this.m05=r,this.m06=a,this.m07=s,this.m08=c,this.m09=l,this.m10=p,this.m11=u,this.m12=_,this.m13=f,this.m14=h,this.m15=m)}clone(){return new Rn(this.m00,this.m01,this.m02,this.m03,this.m04,this.m05,this.m06,this.m07,this.m08,this.m09,this.m10,this.m11,this.m12,this.m13,this.m14,this.m15)}set(e=1,t=0,n=0,i=0,o=0,r=1,a=0,s=0,c=0,l=0,p=1,u=0,_=0,f=0,h=0,m=1){return"object"==typeof e?(this.m01=e.m01,this.m02=e.m02,this.m03=e.m03,this.m04=e.m04,this.m05=e.m05,this.m06=e.m06,this.m07=e.m07,this.m08=e.m08,this.m09=e.m09,this.m10=e.m10,this.m11=e.m11,this.m12=e.m12,this.m13=e.m13,this.m14=e.m14,this.m15=e.m15,this.m00=e.m00):(this.m01=t,this.m02=n,this.m03=i,this.m04=o,this.m05=r,this.m06=a,this.m07=s,this.m08=c,this.m09=l,this.m10=p,this.m11=u,this.m12=_,this.m13=f,this.m14=h,this.m15=m,this.m00=e),this}equals(e,t=Wt){return Math.abs(this.m00-e.m00)<=t*Math.max(1,Math.abs(this.m00),Math.abs(e.m00))&&Math.abs(this.m01-e.m01)<=t*Math.max(1,Math.abs(this.m01),Math.abs(e.m01))&&Math.abs(this.m02-e.m02)<=t*Math.max(1,Math.abs(this.m02),Math.abs(e.m02))&&Math.abs(this.m03-e.m03)<=t*Math.max(1,Math.abs(this.m03),Math.abs(e.m03))&&Math.abs(this.m04-e.m04)<=t*Math.max(1,Math.abs(this.m04),Math.abs(e.m04))&&Math.abs(this.m05-e.m05)<=t*Math.max(1,Math.abs(this.m05),Math.abs(e.m05))&&Math.abs(this.m06-e.m06)<=t*Math.max(1,Math.abs(this.m06),Math.abs(e.m06))&&Math.abs(this.m07-e.m07)<=t*Math.max(1,Math.abs(this.m07),Math.abs(e.m07))&&Math.abs(this.m08-e.m08)<=t*Math.max(1,Math.abs(this.m08),Math.abs(e.m08))&&Math.abs(this.m09-e.m09)<=t*Math.max(1,Math.abs(this.m09),Math.abs(e.m09))&&Math.abs(this.m10-e.m10)<=t*Math.max(1,Math.abs(this.m10),Math.abs(e.m10))&&Math.abs(this.m11-e.m11)<=t*Math.max(1,Math.abs(this.m11),Math.abs(e.m11))&&Math.abs(this.m12-e.m12)<=t*Math.max(1,Math.abs(this.m12),Math.abs(e.m12))&&Math.abs(this.m13-e.m13)<=t*Math.max(1,Math.abs(this.m13),Math.abs(e.m13))&&Math.abs(this.m14-e.m14)<=t*Math.max(1,Math.abs(this.m14),Math.abs(e.m14))&&Math.abs(this.m15-e.m15)<=t*Math.max(1,Math.abs(this.m15),Math.abs(e.m15))}strictEquals(e){return this.m00===e.m00&&this.m01===e.m01&&this.m02===e.m02&&this.m03===e.m03&&this.m04===e.m04&&this.m05===e.m05&&this.m06===e.m06&&this.m07===e.m07&&this.m08===e.m08&&this.m09===e.m09&&this.m10===e.m10&&this.m11===e.m11&&this.m12===e.m12&&this.m13===e.m13&&this.m14===e.m14&&this.m15===e.m15}toString(){return`[\n${this.m00}, ${this.m01}, ${this.m02}, ${this.m03},\n${this.m04}, ${this.m05}, ${this.m06}, ${this.m07},\n${this.m08}, ${this.m09}, ${this.m10}, ${this.m11},\n${this.m12}, ${this.m13}, ${this.m14}, ${this.m15}\n]`}identity(){return this.m00=1,this.m01=0,this.m02=0,this.m03=0,this.m04=0,this.m05=1,this.m06=0,this.m07=0,this.m08=0,this.m09=0,this.m10=1,this.m11=0,this.m12=0,this.m13=0,this.m14=0,this.m15=1,this}zero(){return this.m00=0,this.m01=0,this.m02=0,this.m03=0,this.m04=0,this.m05=0,this.m06=0,this.m07=0,this.m08=0,this.m09=0,this.m10=0,this.m11=0,this.m12=0,this.m13=0,this.m14=0,this.m15=0,this}transpose(){const e=this.m01,t=this.m02,n=this.m03,i=this.m06,o=this.m07,r=this.m11;return this.m01=this.m04,this.m02=this.m08,this.m03=this.m12,this.m04=e,this.m06=this.m09,this.m07=this.m13,this.m08=t,this.m09=i,this.m11=this.m14,this.m12=n,this.m13=o,this.m14=r,this}invert(){const e=this.m00,t=this.m01,n=this.m02,i=this.m03,o=this.m04,r=this.m05,a=this.m06,s=this.m07,c=this.m08,l=this.m09,p=this.m10,u=this.m11,_=this.m12,f=this.m13,h=this.m14,m=this.m15,d=e*r-t*o,v=e*a-n*o,g=e*s-i*o,A=t*a-n*r,y=t*s-i*r,x=n*s-i*a,b=c*f-l*_,C=c*h-p*_,S=c*m-u*_,E=l*h-p*f,w=l*m-u*f,T=p*m-u*h;let P=d*T-v*w+g*E+A*S-y*C+x*b;return 0===P?(this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),this):(P=1/P,this.m00=(r*T-a*w+s*E)*P,this.m01=(n*w-t*T-i*E)*P,this.m02=(f*x-h*y+m*A)*P,this.m03=(p*y-l*x-u*A)*P,this.m04=(a*S-o*T-s*C)*P,this.m05=(e*T-n*S+i*C)*P,this.m06=(h*g-_*x-m*v)*P,this.m07=(c*x-p*g+u*v)*P,this.m08=(o*w-r*S+s*b)*P,this.m09=(t*S-e*w-i*b)*P,this.m10=(_*y-f*g+m*d)*P,this.m11=(l*g-c*y-u*d)*P,this.m12=(r*C-o*E-a*b)*P,this.m13=(e*E-t*C+n*b)*P,this.m14=(f*v-_*A-h*d)*P,this.m15=(c*A-l*v+p*d)*P,this)}determinant(){const e=this.m00,t=this.m01,n=this.m02,i=this.m03,o=this.m04,r=this.m05,a=this.m06,s=this.m07,c=this.m08,l=this.m09,p=this.m10,u=this.m11,_=this.m12,f=this.m13,h=this.m14,m=this.m15;return(e*r-t*o)*(p*m-u*h)-(e*a-n*o)*(l*m-u*f)+(e*s-i*o)*(l*h-p*f)+(t*a-n*r)*(c*m-u*_)-(t*s-i*r)*(c*h-p*_)+(n*s-i*a)*(c*f-l*_)}add(e){return this.m00+=e.m00,this.m01+=e.m01,this.m02+=e.m02,this.m03+=e.m03,this.m04+=e.m04,this.m05+=e.m05,this.m06+=e.m06,this.m07+=e.m07,this.m08+=e.m08,this.m09+=e.m09,this.m10+=e.m10,this.m11+=e.m11,this.m12+=e.m12,this.m13+=e.m13,this.m14+=e.m14,this.m15+=e.m15,this}subtract(e){return this.m00-=e.m00,this.m01-=e.m01,this.m02-=e.m02,this.m03-=e.m03,this.m04-=e.m04,this.m05-=e.m05,this.m06-=e.m06,this.m07-=e.m07,this.m08-=e.m08,this.m09-=e.m09,this.m10-=e.m10,this.m11-=e.m11,this.m12-=e.m12,this.m13-=e.m13,this.m14-=e.m14,this.m15-=e.m15,this}multiply(e){const t=this.m00,n=this.m01,i=this.m02,o=this.m03,r=this.m04,a=this.m05,s=this.m06,c=this.m07,l=this.m08,p=this.m09,u=this.m10,_=this.m11,f=this.m12,h=this.m13,m=this.m14,d=this.m15;let v=e.m00,g=e.m01,A=e.m02,y=e.m03;return this.m00=v*t+g*r+A*l+y*f,this.m01=v*n+g*a+A*p+y*h,this.m02=v*i+g*s+A*u+y*m,this.m03=v*o+g*c+A*_+y*d,v=e.m04,g=e.m05,A=e.m06,y=e.m07,this.m04=v*t+g*r+A*l+y*f,this.m05=v*n+g*a+A*p+y*h,this.m06=v*i+g*s+A*u+y*m,this.m07=v*o+g*c+A*_+y*d,v=e.m08,g=e.m09,A=e.m10,y=e.m11,this.m08=v*t+g*r+A*l+y*f,this.m09=v*n+g*a+A*p+y*h,this.m10=v*i+g*s+A*u+y*m,this.m11=v*o+g*c+A*_+y*d,v=e.m12,g=e.m13,A=e.m14,y=e.m15,this.m12=v*t+g*r+A*l+y*f,this.m13=v*n+g*a+A*p+y*h,this.m14=v*i+g*s+A*u+y*m,this.m15=v*o+g*c+A*_+y*d,this}multiplyScalar(e){return this.m00*=e,this.m01*=e,this.m02*=e,this.m03*=e,this.m04*=e,this.m05*=e,this.m06*=e,this.m07*=e,this.m08*=e,this.m09*=e,this.m10*=e,this.m11*=e,this.m12*=e,this.m13*=e,this.m14*=e,this.m15*=e,this}translate(e){return console.warn("function changed"),this.m12+=e.x,this.m13+=e.y,this.m14+=e.z,this}scale(e){const t=e.x,n=e.y,i=e.z;return this.m00*=t,this.m01*=t,this.m02*=t,this.m03*=t,this.m04*=n,this.m05*=n,this.m06*=n,this.m07*=n,this.m08*=i,this.m09*=i,this.m10*=i,this.m11*=i,this}rotate(e,t){let n=t.x,i=t.y,o=t.z,r=Math.sqrt(n*n+i*i+o*o);if(Math.abs(r)<Wt)return null;r=1/r,n*=r,i*=r,o*=r;const a=Math.sin(e),s=Math.cos(e),c=1-s,l=this.m00,p=this.m01,u=this.m02,_=this.m03,f=this.m04,h=this.m05,m=this.m06,d=this.m07,v=this.m08,g=this.m09,A=this.m10,y=this.m11,x=n*n*c+s,b=i*n*c+o*a,C=o*n*c-i*a,S=n*i*c-o*a,E=i*i*c+s,w=o*i*c+n*a,T=n*o*c+i*a,P=i*o*c-n*a,I=o*o*c+s;return this.m00=l*x+f*b+v*C,this.m01=p*x+h*b+g*C,this.m02=u*x+m*b+A*C,this.m03=_*x+d*b+y*C,this.m04=l*S+f*E+v*w,this.m05=p*S+h*E+g*w,this.m06=u*S+m*E+A*w,this.m07=_*S+d*E+y*w,this.m08=l*T+f*P+v*I,this.m09=p*T+h*P+g*I,this.m10=u*T+m*P+A*I,this.m11=_*T+d*P+y*I,this}getTranslation(e){return e.x=this.m12,e.y=this.m13,e.z=this.m14,e}getScale(e){const t=Dn.m00=this.m00,n=Dn.m01=this.m01,i=Dn.m02=this.m02,o=Dn.m03=this.m04,r=Dn.m04=this.m05,a=Dn.m05=this.m06,s=Dn.m06=this.m08,c=Dn.m07=this.m09,l=Dn.m08=this.m10;return e.x=Math.sqrt(t*t+n*n+i*i),e.y=Math.sqrt(o*o+r*r+a*a),e.z=Math.sqrt(s*s+c*c+l*l),An.determinant(Dn)<0&&(e.x*=-1),e}getRotation(e){const t=this.m00+this.m05+this.m10;let n=0;return t>0?(n=2*Math.sqrt(t+1),e.w=.25*n,e.x=(this.m06-this.m09)/n,e.y=(this.m08-this.m02)/n,e.z=(this.m01-this.m04)/n):this.m00>this.m05&&this.m00>this.m10?(n=2*Math.sqrt(1+this.m00-this.m05-this.m10),e.w=(this.m06-this.m09)/n,e.x=.25*n,e.y=(this.m01+this.m04)/n,e.z=(this.m08+this.m02)/n):this.m05>this.m10?(n=2*Math.sqrt(1+this.m05-this.m00-this.m10),e.w=(this.m08-this.m02)/n,e.x=(this.m01+this.m04)/n,e.y=.25*n,e.z=(this.m06+this.m09)/n):(n=2*Math.sqrt(1+this.m10-this.m00-this.m05),e.w=(this.m01-this.m04)/n,e.x=(this.m08+this.m02)/n,e.y=(this.m06+this.m09)/n,e.z=.25*n),e}fromRTS(e,t,n){const i=e.x,o=e.y,r=e.z,a=e.w,s=i+i,c=o+o,l=r+r,p=i*s,u=i*c,_=i*l,f=o*c,h=o*l,m=r*l,d=a*s,v=a*c,g=a*l,A=n.x,y=n.y,x=n.z;return this.m00=(1-(f+m))*A,this.m01=(u+g)*A,this.m02=(_-v)*A,this.m03=0,this.m04=(u-g)*y,this.m05=(1-(p+m))*y,this.m06=(h+d)*y,this.m07=0,this.m08=(_+v)*x,this.m09=(h-d)*x,this.m10=(1-(p+f))*x,this.m11=0,this.m12=t.x,this.m13=t.y,this.m14=t.z,this.m15=1,this}fromQuat(e){const t=e.x,n=e.y,i=e.z,o=e.w,r=t+t,a=n+n,s=i+i,c=t*r,l=n*r,p=n*a,u=i*r,_=i*a,f=i*s,h=o*r,m=o*a,d=o*s;return this.m00=1-p-f,this.m01=l+d,this.m02=u-m,this.m03=0,this.m04=l-d,this.m05=1-c-f,this.m06=_+h,this.m07=0,this.m08=u+m,this.m09=_-h,this.m10=1-c-p,this.m11=0,this.m12=0,this.m13=0,this.m14=0,this.m15=1,this}}e("c0",Rn),Rn.IDENTITY=Object.freeze(new Rn);const Nn=new mn,Dn=new An;function Mn(e,t,n,i,o,r,a,s,c,l,p,u,_,f,h,m){return new Rn(e,t,n,i,o,r,a,s,c,l,p,u,_,f,h,m)}jt.fastDefine("cc.Mat4",Rn,{m00:1,m01:0,m02:0,m03:0,m04:0,m05:1,m06:0,m07:0,m08:0,m09:0,m10:1,m11:0,m12:0,m13:0,m14:0,m15:1}),c.Mat4=Rn,c.mat4=Mn;class On extends $e{static clone(e){return new On(e.x,e.y)}static copy(e,t){return e.x=t.x,e.y=t.y,e}static set(e,t,n){return e.x=t,e.y=n,e}static add(e,t,n){return e.x=t.x+n.x,e.y=t.y+n.y,e}static subtract(e,t,n){return e.x=t.x-n.x,e.y=t.y-n.y,e}static multiply(e,t,n){return e.x=t.x*n.x,e.y=t.y*n.y,e}static divide(e,t,n){return e.x=t.x/n.x,e.y=t.y/n.y,e}static ceil(e,t){return e.x=Math.ceil(t.x),e.y=Math.ceil(t.y),e}static floor(e,t){return e.x=Math.floor(t.x),e.y=Math.floor(t.y),e}static min(e,t,n){return e.x=Math.min(t.x,n.x),e.y=Math.min(t.y,n.y),e}static max(e,t,n){return e.x=Math.max(t.x,n.x),e.y=Math.max(t.y,n.y),e}static round(e,t){return e.x=Math.round(t.x),e.y=Math.round(t.y),e}static multiplyScalar(e,t,n){return e.x=t.x*n,e.y=t.y*n,e}static scaleAndAdd(e,t,n,i){return e.x=t.x+n.x*i,e.y=t.y+n.y*i,e}static distance(e,t){const n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}static squaredDistance(e,t){const n=t.x-e.x,i=t.y-e.y;return n*n+i*i}static len(e){const t=e.x,n=e.y;return Math.sqrt(t*t+n*n)}static lengthSqr(e){const t=e.x,n=e.y;return t*t+n*n}static negate(e,t){return e.x=-t.x,e.y=-t.y,e}static inverse(e,t){return e.x=1/t.x,e.y=1/t.y,e}static inverseSafe(e,t){const n=t.x,i=t.y;return Math.abs(n)<Wt?e.x=0:e.x=1/n,Math.abs(i)<Wt?e.y=0:e.y=1/i,e}static normalize(e,t){const n=t.x,i=t.y;let o=n*n+i*i;return o>0&&(o=1/Math.sqrt(o),e.x=n*o,e.y=i*o),e}static dot(e,t){return e.x*t.x+e.y*t.y}static cross(e,t,n){return e.x=e.y=0,e.z=t.x*n.y-t.y*n.x,e}static lerp(e,t,n,i){const o=t.x,r=t.y;return e.x=o+i*(n.x-o),e.y=r+i*(n.y-r),e}static random(e,t){t=t||1;const n=2*$t()*Math.PI;return e.x=Math.cos(n)*t,e.y=Math.sin(n)*t,e}static transformMat3(e,t,n){const i=t.x,o=t.y;return e.x=n.m00*i+n.m03*o+n.m06,e.y=n.m01*i+n.m04*o+n.m07,e}static transformMat4(e,t,n){const i=t.x,o=t.y;return e.x=n.m00*i+n.m04*o+n.m12,e.y=n.m01*i+n.m05*o+n.m13,e}static str(e){return`Vec2(${e.x}, ${e.y})`}static toArray(e,t,n=0){return e[n+0]=t.x,e[n+1]=t.y,e}static fromArray(e,t,n=0){return e.x=t[n+0],e.y=t[n+1],e}static strictEquals(e,t){return e.x===t.x&&e.y===t.y}static equals(e,t,n=Wt){return Math.abs(e.x-t.x)<=n*Math.max(1,Math.abs(e.x),Math.abs(t.x))&&Math.abs(e.y-t.y)<=n*Math.max(1,Math.abs(e.y),Math.abs(t.y))}static angle(e,t){On.normalize(Ln,e),On.normalize(zn,t);const n=On.dot(Ln,zn);return n>1?0:n<-1?Math.PI:Math.acos(n)}constructor(e,t){super(),e&&"object"==typeof e?(this.x=e.x,this.y=e.y):(this.x=e||0,this.y=t||0)}clone(){return new On(this.x,this.y)}set(e,t){return e&&"object"==typeof e?(this.x=e.x,this.y=e.y):(this.x=e||0,this.y=t||0),this}equals(e,t=Wt){return Math.abs(this.x-e.x)<=t*Math.max(1,Math.abs(this.x),Math.abs(e.x))&&Math.abs(this.y-e.y)<=t*Math.max(1,Math.abs(this.y),Math.abs(e.y))}equals2f(e,t,n=Wt){return Math.abs(this.x-e)<=n*Math.max(1,Math.abs(this.x),Math.abs(e))&&Math.abs(this.y-t)<=n*Math.max(1,Math.abs(this.y),Math.abs(t))}strictEquals(e){return e&&this.x===e.x&&this.y===e.y}strictEquals2f(e,t){return this.x===e&&this.y===t}toString(){return`(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}lerp(e,t){const n=this.x,i=this.y;return this.x=n+t*(e.x-n),this.y=i+t*(e.y-i),this}clampf(e,t){return this.x=Xt(this.x,e.x,t.x),this.y=Xt(this.y,e.y,t.y),this}add(e){return this.x+=e.x,this.y+=e.y,this}add2f(e,t){return this.x+=e,this.y+=t,this}subtract(e){return this.x-=e.x,this.y-=e.y,this}subtract2f(e,t){return this.x-=e,this.y-=t,this}multiplyScalar(e){return"object"==typeof e&&console.warn("should use Vec2.multiply for vector * vector operation"),this.x*=e,this.y*=e,this}multiply(e){return"object"!=typeof e&&console.warn("should use Vec2.scale for vector * scalar operation"),this.x*=e.x,this.y*=e.y,this}multiply2f(e,t){return this.x*=e,this.y*=t,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divide2f(e,t){return this.x/=e,this.y/=t,this}negative(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}lengthSqr(){return this.x*this.x+this.y*this.y}normalize(){const e=this.x,t=this.y;let n=e*e+t*t;return n>0&&(n=1/Math.sqrt(n),this.x*=n,this.y*=n),this}angle(e){const t=this.lengthSqr(),n=e.lengthSqr();if(0===t||0===n)return console.warn("Can't get angle between zero vector"),0;let i=this.dot(e)/Math.sqrt(t*n);return i=Xt(i,-1,1),Math.acos(i)}signAngle(e){const t=this.angle(e);return this.cross(e)<0?-t:t}rotate(e){const t=this.x,n=this.y,i=Math.sin(e),o=Math.cos(e);return this.x=o*t-i*n,this.y=i*t+o*n,this}project(e){const t=this.dot(e)/e.dot(e);return this.x=e.x*t,this.y=e.y*t,this}transformMat4(e){const t=this.x,n=this.y;return this.x=e.m00*t+e.m04*n+e.m12,this.y=e.m01*t+e.m05*n+e.m13,this}}e("cz",On),On.ZERO=Object.freeze(new On(0,0)),On.ONE=Object.freeze(new On(1,1)),On.NEG_ONE=Object.freeze(new On(-1,-1)),On.UNIT_X=Object.freeze(new On(1,0)),On.UNIT_Y=Object.freeze(new On(0,1));const Ln=new On,zn=new On;function Fn(e,t){return new On(e,t)}jt.fastDefine("cc.Vec2",On,{x:0,y:0}),c.Vec2=On,c.v2=Fn;class Bn extends $e{static clone(e){return new Bn(e.x,e.y,e.z,e.w)}static copy(e,t){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}static set(e,t,n,i,o){return e.x=t,e.y=n,e.z=i,e.w=o,e}static add(e,t,n){return e.x=t.x+n.x,e.y=t.y+n.y,e.z=t.z+n.z,e.w=t.w+n.w,e}static subtract(e,t,n){return e.x=t.x-n.x,e.y=t.y-n.y,e.z=t.z-n.z,e.w=t.w-n.w,e}static multiply(e,t,n){return e.x=t.x*n.x,e.y=t.y*n.y,e.z=t.z*n.z,e.w=t.w*n.w,e}static divide(e,t,n){return e.x=t.x/n.x,e.y=t.y/n.y,e.z=t.z/n.z,e.w=t.w/n.w,e}static ceil(e,t){return e.x=Math.ceil(t.x),e.y=Math.ceil(t.y),e.z=Math.ceil(t.z),e.w=Math.ceil(t.w),e}static floor(e,t){return e.x=Math.floor(t.x),e.y=Math.floor(t.y),e.z=Math.floor(t.z),e.w=Math.floor(t.w),e}static min(e,t,n){return e.x=Math.min(t.x,n.x),e.y=Math.min(t.y,n.y),e.z=Math.min(t.z,n.z),e.w=Math.min(t.w,n.w),e}static max(e,t,n){return e.x=Math.max(t.x,n.x),e.y=Math.max(t.y,n.y),e.z=Math.max(t.z,n.z),e.w=Math.max(t.w,n.w),e}static round(e,t){return e.x=Math.round(t.x),e.y=Math.round(t.y),e.z=Math.round(t.z),e.w=Math.round(t.w),e}static multiplyScalar(e,t,n){return e.x=t.x*n,e.y=t.y*n,e.z=t.z*n,e.w=t.w*n,e}static scaleAndAdd(e,t,n,i){return e.x=t.x+n.x*i,e.y=t.y+n.y*i,e.z=t.z+n.z*i,e.w=t.w+n.w*i,e}static distance(e,t){const n=t.x-e.x,i=t.y-e.y,o=t.z-e.z,r=t.w-e.w;return Math.sqrt(n*n+i*i+o*o+r*r)}static squaredDistance(e,t){const n=t.x-e.x,i=t.y-e.y,o=t.z-e.z,r=t.w-e.w;return n*n+i*i+o*o+r*r}static len(e){const t=e.x,n=e.y,i=e.z,o=e.w;return Math.sqrt(t*t+n*n+i*i+o*o)}static lengthSqr(e){const t=e.x,n=e.y,i=e.z,o=e.w;return t*t+n*n+i*i+o*o}static negate(e,t){return e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=-t.w,e}static inverse(e,t){return e.x=1/t.x,e.y=1/t.y,e.z=1/t.z,e.w=1/t.w,e}static inverseSafe(e,t){const n=t.x,i=t.y,o=t.z,r=t.w;return Math.abs(n)<Wt?e.x=0:e.x=1/n,Math.abs(i)<Wt?e.y=0:e.y=1/i,Math.abs(o)<Wt?e.z=0:e.z=1/o,Math.abs(r)<Wt?e.w=0:e.w=1/r,e}static normalize(e,t){const n=t.x,i=t.y,o=t.z,r=t.w;let a=n*n+i*i+o*o+r*r;return a>0&&(a=1/Math.sqrt(a),e.x=n*a,e.y=i*a,e.z=o*a,e.w=r*a),e}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}static lerp(e,t,n,i){return e.x=t.x+i*(n.x-t.x),e.y=t.y+i*(n.y-t.y),e.z=t.z+i*(n.z-t.z),e.w=t.w+i*(n.w-t.w),e}static random(e,t){t=t||1;const n=2*$t()*Math.PI,i=2*$t()-1,o=Math.sqrt(1-i*i);return e.x=o*Math.cos(n)*t,e.y=o*Math.sin(n)*t,e.z=i*t,e.w=0,e}static transformMat4(e,t,n){const i=t.x,o=t.y,r=t.z,a=t.w;return e.x=n.m00*i+n.m04*o+n.m08*r+n.m12*a,e.y=n.m01*i+n.m05*o+n.m09*r+n.m13*a,e.z=n.m02*i+n.m06*o+n.m10*r+n.m14*a,e.w=n.m03*i+n.m07*o+n.m11*r+n.m15*a,e}static transformAffine(e,t,n){const i=t.x,o=t.y,r=t.z,a=t.w;return e.x=n.m00*i+n.m01*o+n.m02*r+n.m03*a,e.y=n.m04*i+n.m05*o+n.m06*r+n.m07*a,e.x=n.m08*i+n.m09*o+n.m10*r+n.m11*a,e.w=t.w,e}static transformQuat(e,t,n){const{x:i,y:o,z:r}=t,a=n.x,s=n.y,c=n.z,l=n.w,p=l*i+s*r-c*o,u=l*o+c*i-a*r,_=l*r+a*o-s*i,f=-a*i-s*o-c*r;return e.x=p*l+f*-a+u*-c-_*-s,e.y=u*l+f*-s+_*-a-p*-c,e.z=_*l+f*-c+p*-s-u*-a,e.w=t.w,e}static toArray(e,t,n=0){return e[n+0]=t.x,e[n+1]=t.y,e[n+2]=t.z,e[n+3]=t.w,e}static fromArray(e,t,n=0){return e.x=t[n+0],e.y=t[n+1],e.z=t[n+2],e.w=t[n+3],e}static strictEquals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w}static equals(e,t,n=Wt){return Math.abs(e.x-t.x)<=n*Math.max(1,Math.abs(e.x),Math.abs(t.x))&&Math.abs(e.y-t.y)<=n*Math.max(1,Math.abs(e.y),Math.abs(t.y))&&Math.abs(e.z-t.z)<=n*Math.max(1,Math.abs(e.z),Math.abs(t.z))&&Math.abs(e.w-t.w)<=n*Math.max(1,Math.abs(e.w),Math.abs(t.w))}constructor(e,t,n,i){super(),e&&"object"==typeof e?(this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w):(this.x=e||0,this.y=t||0,this.z=n||0,this.w=i||0)}clone(){return new Bn(this.x,this.y,this.z,this.w)}set(e,t,n,i){return e&&"object"==typeof e?(this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w):(this.x=e||0,this.y=t||0,this.z=n||0,this.w=i||0),this}equals(e,t=Wt){return Math.abs(this.x-e.x)<=t*Math.max(1,Math.abs(this.x),Math.abs(e.x))&&Math.abs(this.y-e.y)<=t*Math.max(1,Math.abs(this.y),Math.abs(e.y))&&Math.abs(this.z-e.z)<=t*Math.max(1,Math.abs(this.z),Math.abs(e.z))&&Math.abs(this.w-e.w)<=t*Math.max(1,Math.abs(this.w),Math.abs(e.w))}equals4f(e,t,n,i,o=Wt){return Math.abs(this.x-e)<=o*Math.max(1,Math.abs(this.x),Math.abs(e))&&Math.abs(this.y-t)<=o*Math.max(1,Math.abs(this.y),Math.abs(t))&&Math.abs(this.z-n)<=o*Math.max(1,Math.abs(this.z),Math.abs(n))&&Math.abs(this.w-i)<=o*Math.max(1,Math.abs(this.w),Math.abs(i))}strictEquals(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w}strictEquals4f(e,t,n,i){return this.x===e&&this.y===t&&this.z===n&&this.w===i}lerp(e,t){const n=this.x,i=this.y,o=this.z,r=this.w;return this.x=n+t*(e.x-n),this.y=i+t*(e.y-i),this.z=o+t*(e.z-o),this.w=r+t*(e.w-r),this}toString(){return`(${this.x.toFixed(2)}, ${this.y.toFixed(2)}, ${this.z.toFixed(2)}, ${this.w.toFixed(2)})`}clampf(e,t){return this.x=Xt(this.x,e.x,t.x),this.y=Xt(this.y,e.y,t.y),this.z=Xt(this.z,e.z,t.z),this.w=Xt(this.w,e.w,t.w),this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}add4f(e,t,n,i){return this.x+=e,this.y+=t,this.z+=n,this.w+=i,this}subtract(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subtract4f(e,t,n,i){return this.x-=e,this.y-=t,this.z-=n,this.w-=i,this}multiplyScalar(e){return"object"==typeof e&&console.warn("should use Vec4.multiply for vector * vector operation"),this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}multiply(e){return"object"!=typeof e&&console.warn("should use Vec4.scale for vector * scalar operation"),this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiply4f(e,t,n,i){return this.x*=e,this.y*=t,this.z*=n,this.w*=i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divide4f(e,t,n,i){return this.x/=e,this.y/=t,this.z/=n,this.w/=i,this}negative(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}cross(e){const{x:t,y:n,z:i}=this,{x:o,y:r,z:a}=e;return this.x=n*a-i*r,this.y=i*o-t*a,this.z=t*r-n*o,this}length(){const e=this.x,t=this.y,n=this.z,i=this.w;return Math.sqrt(e*e+t*t+n*n+i*i)}lengthSqr(){const e=this.x,t=this.y,n=this.z,i=this.w;return e*e+t*t+n*n+i*i}normalize(){const e=this.x,t=this.y,n=this.z,i=this.w;let o=e*e+t*t+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),this.x=e*o,this.y=t*o,this.z=n*o,this.w=i*o),this}transformMat4(e){const t=this.x,n=this.y,i=this.z,o=this.w;return this.x=e.m00*t+e.m04*n+e.m08*i+e.m12*o,this.y=e.m01*t+e.m05*n+e.m09*i+e.m13*o,this.z=e.m02*t+e.m06*n+e.m10*i+e.m14*o,this.w=e.m03*t+e.m07*n+e.m11*i+e.m15*o,this}}function Un(e,t,n,i){return new Bn(e,t,n,i)}e("bT",Bn),Bn.ZERO=Object.freeze(new Bn(0,0,0,0)),Bn.ONE=Object.freeze(new Bn(1,1,1,1)),Bn.NEG_ONE=Object.freeze(new Bn(-1,-1,-1,-1)),jt.fastDefine("cc.Vec4",Bn,{x:0,y:0,z:0,w:0}),c.Vec4=Bn,c.v4=Un,W(On,"Vec2",[{name:"sub",newName:"subtract",target:On,targetName:"Vec2"},{name:"mul",newName:"multiply",target:On,targetName:"Vec2"},{name:"div",newName:"divide",target:On,targetName:"Vec2"},{name:"dist",newName:"distance",target:On,targetName:"Vec2"},{name:"sqrDist",newName:"squaredDistance",target:On,targetName:"Vec2"},{name:"mag",newName:"len",target:On,targetName:"Vec2"},{name:"sqrMag",newName:"lengthSqr",target:On,targetName:"Vec2"},{name:"scale",newName:"multiplyScalar",target:On,targetName:"Vec2"},{name:"exactEquals",newName:"strictEquals",target:On,targetName:"Vec2"}]),W(On.prototype,"Vec2",[{name:"mag",newName:"length",target:On.prototype,targetName:"Vec2"},{name:"magSqr",newName:"lengthSqr",target:On.prototype,targetName:"Vec2"},{name:"scale",newName:"multiplyScalar",target:On.prototype,targetName:"Vec2"},{name:"exactEquals",newName:"strictEquals",target:On.prototype,targetName:"Vec2"}]),W(mn,"Vec3",[{name:"sub",newName:"subtract",target:mn,targetName:"Vec3"},{name:"mul",newName:"multiply",target:mn,targetName:"Vec3"},{name:"div",newName:"divide",target:mn,targetName:"Vec3"},{name:"dist",newName:"distance",target:mn,targetName:"Vec3"},{name:"sqrDist",newName:"squaredDistance",target:mn,targetName:"Vec3"},{name:"mag",newName:"len",target:mn,targetName:"Vec3"},{name:"sqrMag",newName:"lengthSqr",target:mn,targetName:"Vec3"},{name:"scale",newName:"multiplyScalar",target:mn,targetName:"Vec3"},{name:"exactEquals",newName:"strictEquals",target:mn,targetName:"Vec3"}]),W(mn.prototype,"Vec3",[{name:"mag",newName:"length",target:mn.prototype,targetName:"Vec3"},{name:"magSqr",newName:"lengthSqr",target:mn.prototype,targetName:"Vec3"},{name:"scale",newName:"multiplyScalar",target:mn.prototype,targetName:"Vec3"},{name:"exactEquals",newName:"strictEquals",target:mn.prototype,targetName:"Vec3"}]),W(Bn,"Vec4",[{name:"sub",newName:"subtract",target:Bn,targetName:"Vec4"},{name:"mul",newName:"multiply",target:Bn,targetName:"Vec4"},{name:"div",newName:"divide",target:Bn,targetName:"Vec4"},{name:"dist",newName:"distance",target:Bn,targetName:"Vec4"},{name:"sqrDist",newName:"squaredDistance",target:Bn,targetName:"Vec4"},{name:"mag",newName:"len",target:Bn,targetName:"Vec4"},{name:"sqrMag",newName:"lengthSqr",target:Bn,targetName:"Vec4"},{name:"scale",newName:"multiplyScalar",target:Bn,targetName:"Vec4"},{name:"exactEquals",newName:"strictEquals",target:Bn,targetName:"Vec4"}]),W(Bn.prototype,"Vec4",[{name:"mag",newName:"length",target:Bn.prototype,targetName:"Vec4"},{name:"magSqr",newName:"lengthSqr",target:Bn.prototype,targetName:"Vec4"},{name:"scale",newName:"multiplyScalar",target:Bn.prototype,targetName:"Vec4"},{name:"exactEquals",newName:"strictEquals",target:Bn.prototype,targetName:"Vec4"}]),W(bn,"Quat",[{name:"mag",newName:"len",target:bn,targetName:"Quat"},{name:"mul",newName:"multiply",target:bn,targetName:"Quat"},{name:"sqrMag",newName:"lengthSqr",target:bn,targetName:"Quat"},{name:"scale",newName:"multiplyScalar",target:bn,targetName:"Quat"},{name:"exactEquals",newName:"strictEquals",target:bn,targetName:"Quat"}]),W(bn.prototype,"Quat",[{name:"scale",newName:"multiplyScalar",target:bn.prototype,targetName:"Quat"},{name:"exactEquals",newName:"strictEquals",target:bn.prototype,targetName:"Quat"}]),W(fn,"Color",[{name:"sub",newName:"subtract",target:fn,targetName:"Color"},{name:"mul",newName:"multiply",target:fn,targetName:"Color"},{name:"div",newName:"divide",target:fn,targetName:"Color"},{name:"exactEquals",newName:"strictEquals",target:fn,targetName:"Color"},{name:"fromHex",newName:"fromHEX",customFunction(...e){const t=e[1].toString(16);return c.Color.fromHEX(e[0],t)}}]),W(An,"Mat3",[{name:"sub",newName:"subtract",target:An,targetName:"Mat3"},{name:"mul",newName:"multiply",target:An,targetName:"Mat3"},{name:"exactEquals",newName:"strictEquals",target:An,targetName:"Mat3"},{name:"transfrom",newName:"transform",target:An,targetName:"Mat3"}]),W(An.prototype,"Mat3",[{name:"sub",newName:"subtract",target:An.prototype,targetName:"Mat3"},{name:"mul",newName:"multiply",target:An.prototype,targetName:"Mat3"},{name:"mulScalar",newName:"multiplyScalar",target:An.prototype,targetName:"Mat3"},{name:"exactEquals",newName:"strictEquals",target:An.prototype,targetName:"Mat3"}]),W(Rn,"Mat4",[{name:"sub",newName:"subtract",target:Rn,targetName:"Mat4"},{name:"mul",newName:"multiply",target:Rn,targetName:"Mat4"},{name:"exactEquals",newName:"strictEquals",target:Rn,targetName:"Mat4"}]),W(Rn.prototype,"Mat4",[{name:"sub",newName:"subtract",target:Rn.prototype,targetName:"Mat4"},{name:"mul",newName:"multiply",target:Rn.prototype,targetName:"Mat4"},{name:"mulScalar",newName:"multiplyScalar",target:Rn.prototype,targetName:"Mat4"},{name:"exactEquals",newName:"strictEquals",target:Rn.prototype,targetName:"Mat4"}]);class jn{static identity(){return new jn}static clone(e){return new jn(e.a,e.b,e.c,e.d,e.tx,e.ty)}static concat(e,t,n){const i=t.a,o=t.b,r=t.c,a=t.d,s=t.tx,c=t.ty;e.a=i*n.a+o*n.c,e.b=i*n.b+o*n.d,e.c=r*n.a+a*n.c,e.d=r*n.b+a*n.d,e.tx=s*n.a+c*n.c+n.tx,e.ty=s*n.b+c*n.d+n.ty}static invert(e,t){const n=1/(t.a*t.d-t.b*t.c);e.a=n*t.d,e.b=-n*t.b,e.c=-n*t.c,e.d=n*t.a,e.tx=n*(t.c*t.ty-t.d*t.tx),e.ty=n*(t.b*t.tx-t.a*t.ty)}static fromMat4(e,t){e.a=t.m00,e.b=t.m01,e.c=t.m04,e.d=t.m05,e.tx=t.m12,e.ty=t.m13}static transformVec2(e,t,n,i){let o,r;void 0===i?(i=n,o=t.x,r=t.y):(o=t,r=n),e.x=i.a*o+i.c*r+i.tx,e.y=i.b*o+i.d*r+i.ty}static transformSize(e,t,n){e.width=n.a*t.width+n.c*t.height,e.height=n.b*t.width+n.d*t.height}static transformRect(e,t,n){const i=t.x+t.width,o=t.y+t.height,r=n.a*t.x+n.c*t.y+n.tx,a=n.b*t.x+n.d*t.y+n.ty,s=n.a*i+n.c*t.y+n.tx,c=n.b*i+n.d*t.y+n.ty,l=n.a*t.x+n.c*o+n.tx,p=n.b*t.x+n.d*o+n.ty,u=n.a*i+n.c*o+n.tx,_=n.b*i+n.d*o+n.ty,f=Math.min(r,s,l,u),h=Math.max(r,s,l,u),m=Math.min(a,c,p,_),d=Math.max(a,c,p,_);e.x=f,e.y=m,e.width=h-f,e.height=d-m}static transformObb(e,t,n,i,o,r){const a=r.a*o.x+r.c*o.y+r.tx,s=r.b*o.x+r.d*o.y+r.ty,c=r.a*o.width,l=r.b*o.width,p=r.c*o.height,u=r.d*o.height;t.x=a,t.y=s,n.x=c+a,n.y=l+s,e.x=p+a,e.y=u+s,i.x=c+p+a,i.y=l+u+s}constructor(e=1,t=0,n=0,i=1,o=0,r=0){this.a=e,this.b=t,this.c=n,this.d=i,this.tx=o,this.ty=r}}e("ey",jn),c.AffineTransform=jn;class kn extends $e{static lerp(e,t,n,i){return e.width=t.width+(n.width-t.width)*i,e.height=t.height+(n.height-t.height)*i,e}set x(e){this.width=e}get x(){return this.width}set y(e){this.height=e}get y(){return this.height}constructor(e,t){super(),e&&"object"==typeof e?(this.width=e.width,this.height=e.height):(this.width=e||0,this.height=t||0)}clone(){return new kn(this.width,this.height)}set(e,t){return e&&"object"==typeof e?(this.height=e.height,this.width=e.width):(this.width=e||0,this.height=t||0),this}equals(e){return this.width===e.width&&this.height===e.height}lerp(e,t){return this.width+=(e.width-this.width)*t,this.height+=(e.height-this.height)*t,this}toString(){return`(${this.width.toFixed(2)}, ${this.height.toFixed(2)})`}}function Gn(e=0,t=0){return new kn(e,t)}e("cF",kn),kn.ZERO=Object.freeze(new kn(0,0)),kn.ONE=Object.freeze(new kn(1,1)),jt.fastDefine("cc.Size",kn,{width:0,height:0}),c.size=Gn,c.Size=kn;class Hn extends $e{static fromMinMax(e,t,n){const i=Math.min(t.x,n.x),o=Math.min(t.y,n.y),r=Math.max(t.x,n.x),a=Math.max(t.y,n.y);return e.x=i,e.y=o,e.width=r-i,e.height=a-o,e}static lerp(e,t,n,i){const o=t.x,r=t.y,a=t.width,s=t.height;return e.x=o+(n.x-o)*i,e.y=r+(n.y-r)*i,e.width=a+(n.width-a)*i,e.height=s+(n.height-s)*i,e}static intersection(e,t,n){const i=t.x,o=t.y,r=t.x+t.width,a=t.y+t.height,s=n.x,c=n.y,l=n.x+n.width,p=n.y+n.height;return e.x=Math.max(i,s),e.y=Math.max(o,c),e.width=Math.min(r,l)-e.x,e.height=Math.min(a,p)-e.y,e}static union(e,t,n){const i=t.x,o=t.y,r=t.width,a=t.height,s=n.x,c=n.y,l=n.width,p=n.height;return e.x=Math.min(i,s),e.y=Math.min(o,c),e.width=Math.max(i+r,s+l)-e.x,e.height=Math.max(o+a,c+p)-e.y,e}get xMin(){return this.x}set xMin(e){this.width+=this.x-e,this.x=e}get yMin(){return this.y}set yMin(e){this.height+=this.y-e,this.y=e}get xMax(){return this.x+this.width}set xMax(e){this.width=e-this.x}get yMax(){return this.y+this.height}set yMax(e){this.height=e-this.y}get center(){return new On(this.x+.5*this.width,this.y+.5*this.height)}set center(e){this.x=e.x-.5*this.width,this.y=e.y-.5*this.height}get origin(){return new On(this.x,this.y)}set origin(e){this.x=e.x,this.y=e.y}get size(){return new kn(this.width,this.height)}set size(e){this.width=e.width,this.height=e.height}set z(e){this.width=e}get z(){return this.width}set w(e){this.height=e}get w(){return this.height}constructor(e,t,n,i){super(),e&&"object"==typeof e?(this.y=e.y,this.width=e.width,this.height=e.height,this.x=e.x):(this.x=e||0,this.y=t||0,this.width=n||0,this.height=i||0)}clone(){return new Hn(this.x,this.y,this.width,this.height)}set(e,t,n,i){return e&&"object"==typeof e?(this.y=e.y,this.width=e.width,this.height=e.height,this.x=e.x):(this.x=e||0,this.y=t||0,this.width=n||0,this.height=i||0),this}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}lerp(e,t){const n=this.x,i=this.y,o=this.width,r=this.height;return this.x=n+(e.x-n)*t,this.y=i+(e.y-i)*t,this.width=o+(e.width-o)*t,this.height=r+(e.height-r)*t,this}toString(){return`(${this.x.toFixed(2)}, ${this.y.toFixed(2)}, ${this.width.toFixed(2)}, ${this.height.toFixed(2)})`}intersects(e){const t=this.x+this.width,n=this.y+this.height,i=e.x+e.width,o=e.y+e.height;return!(t<e.x||i<this.x||n<e.y||o<this.y)}contains(e){return this.x<=e.x&&this.x+this.width>=e.x&&this.y<=e.y&&this.y+this.height>=e.y}containsRect(e){return this.x<=e.x&&this.x+this.width>=e.x+e.width&&this.y<=e.y&&this.y+this.height>=e.y+e.height}transformMat4(e){const t=this.x,n=this.y,i=t+this.width,o=n+this.height,r=e.m00*t+e.m04*n+e.m12,a=e.m01*t+e.m05*n+e.m13,s=e.m00*i+e.m04*n+e.m12,c=e.m01*i+e.m05*n+e.m13,l=e.m00*t+e.m04*o+e.m12,p=e.m01*t+e.m05*o+e.m13,u=e.m00*i+e.m04*o+e.m12,_=e.m01*i+e.m05*o+e.m13,f=Math.min(r,s,l,u),h=Math.max(r,s,l,u),m=Math.min(a,c,p,_),d=Math.max(a,c,p,_);return this.x=f,this.y=m,this.width=h-f,this.height=d-m,this}transformMat4ToPoints(e,t,n,i,o){const r=this.x,a=this.y,s=r+this.width,c=a+this.height;t.x=e.m00*r+e.m04*a+e.m12,t.y=e.m01*r+e.m05*a+e.m13,o.x=e.m00*s+e.m04*a+e.m12,o.y=e.m01*s+e.m05*a+e.m13,n.x=e.m00*r+e.m04*c+e.m12,n.y=e.m01*r+e.m05*c+e.m13,i.x=e.m00*s+e.m04*c+e.m12,i.y=e.m01*s+e.m05*c+e.m13}}function Vn(e=0,t=0,n=0,i=0){return new Hn(e,t,n,i)}e("cE",Hn),jt.fastDefine("cc.Rect",Hn,{x:0,y:0,width:0,height:0}),c.Rect=Hn,c.rect=Vn;var Wn=Object.freeze({__proto__:null,bits:V,Vec2:On,v2:Fn,Vec3:mn,v3:gn,Vec4:Bn,v4:Un,Quat:bn,quat:Pn,Mat3:An,Mat4:Rn,mat4:Mn,AffineTransform:jn,Size:kn,size:Gn,Rect:Hn,rect:Vn,Color:fn,color:hn,EPSILON:Wt,equals:qt,approx:Yt,clamp:Xt,clamp01:Qt,lerp:Zt,toRadian:Jt,toDegree:Kt,random:$t,randomRange:en,randomRangeInt:tn,pseudoRandom:nn,pseudoRandomRange:on,pseudoRandomRangeInt:rn,nextPow2:an,repeat:sn,pingPong:cn,inverseLerp:ln,absMaxComponent:pn,absMax:un});e("eq",Wn);class qn{constructor(e,t){this._ctor=void 0,this._elementsPerBatch=void 0,this._nextAvail=void 0,this._freepool=[],this._ctor=e,this._elementsPerBatch=Math.max(t,1),this._nextAvail=this._elementsPerBatch-1;for(let t=0;t<this._elementsPerBatch;++t)this._freepool.push(e())}alloc(){if(this._nextAvail<0){const e=this._elementsPerBatch;for(let t=0;t<e;t++)this._freepool.push(this._ctor());this._nextAvail=e-1}const e=this._freepool[this._nextAvail--];return this._freepool.length--,e}free(e){this._freepool.push(e),this._nextAvail++}freeArray(e){Array.prototype.push.apply(this._freepool,e),this._nextAvail+=e.length}destroy(e){if(e)for(let t=0;t<=this._nextAvail;t++)e(this._freepool[t]);this._freepool.length=0,this._nextAvail=-1}}e("P",qn);const Yn=[];class Xn{static _deferredDestroy(){const e=Yn.length;for(let t=0;t<e;++t){const e=Yn[t];1&e._objFlags||e._destroyImmediate()}e===Yn.length?Yn.length=0:Yn.splice(0,e)}constructor(e=""){this._objFlags=void 0,this._name=void 0,this._name=e,this._objFlags=0}get name(){return this._name}set name(e){this._name=e}set hideFlags(e){const t=e&Xn.Flags.AllHideMasks;this._objFlags=this._objFlags&~Xn.Flags.AllHideMasks|t}get hideFlags(){return this._objFlags&Xn.Flags.AllHideMasks}get isValid(){return!(1&this._objFlags)}destroy(){return 1&this._objFlags?(P(5e3),!1):!(4&this._objFlags||(this._objFlags|=4,Yn.push(this),0))}_destruct(){const e=this.constructor;let t=e.__destruct__;t||(t=function(e,t){const n=e instanceof c._BaseNode||e instanceof c.Component,i=n?"_id":null;let o;const r={};for(o in e)if(e.hasOwnProperty(o)){if(o===i)continue;switch(typeof e[o]){case"string":r[o]="";break;case"object":case"function":r[o]=null}}if(jt._isCCClass(t)){const e=c.Class.Attr.getClassAttrs(t),i=t.__props__;for(let t=0;t<i.length;t++){o=i[t];const a=`${o+c.Class.Attr.DELIMETER}default`;if(a in e){if(n&&"_id"===o)continue;switch(typeof e[a]){case"string":r[o]="";break;case"object":case"function":r[o]=null;break;case"undefined":r[o]=void 0}}}}{let e="";for(o in r){let t;t=jt.IDENTIFIER_RE.test(o)?`o.${o}=`:`o[${jt.escapeForJS(o)}]=`;let n=r[o];""===n&&(n='""'),e+=`${t+n};\n`}return Function("o",e)}}(this,e),fe(e,"__destruct__",t,!0)),t(this)}_destroyImmediate(){1&this._objFlags?R(5e3):(this._onPreDestroy&&this._onPreDestroy(),this._destruct(),this._objFlags|=1)}}e("cZ",Xn);const Qn=Xn.prototype;function Zn(e,t){return"object"==typeof e?!(!e||e._objFlags&(t?5:1)):void 0!==e}Qn._deserialize=null,Qn._onPreDestroy=null,jt.fastDefine("cc.Object",Xn,{_name:"",_objFlags:0}),fe(Xn,"Flags",{Destroyed:1,DontSave:8,EditorOnly:16,Dirty:32,DontDestroy:64,PersistentMask:-4192741,Destroying:128,Deactivating:256,LockedInEditor:512,HideInHierarchy:1024,AllHideMasks:1560,IsPreloadStarted:8192,IsOnLoadStarted:32768,IsOnLoadCalled:16384,IsOnEnableCalled:2048,IsStartCalled:65536,IsEditorOnEnableCalled:4096,IsPositionLocked:1<<21,IsRotationLocked:1<<17,IsScaleLocked:1<<18,IsAnchorLocked:1<<19,IsSizeLocked:1<<20}),c.isValid=Zn,c.Object=Xn;const Jn=qe.fastRemoveAt;function Kn(){}class $n{constructor(){this.callback=Kn,this.target=void 0,this.once=!1}set(e,t,n){this.callback=e||Kn,this.target=t,this.once=!!n}reset(){this.target=void 0,this.callback=Kn,this.once=!1}check(){return!(this.target instanceof Xn&&!Zn(this.target,!0))}}const ei=new qn((()=>new $n),32);class ti{constructor(){this.callbackInfos=[],this.isInvoking=!1,this.containCanceled=!1}removeByCallback(e){for(let t=0;t<this.callbackInfos.length;++t){const n=this.callbackInfos[t];n&&n.callback===e&&(n.reset(),ei.free(n),Jn(this.callbackInfos,t),--t)}}removeByTarget(e){for(let t=0;t<this.callbackInfos.length;++t){const n=this.callbackInfos[t];n&&n.target===e&&(n.reset(),ei.free(n),Jn(this.callbackInfos,t),--t)}}cancel(e){const t=this.callbackInfos[e];t&&(t.reset(),this.isInvoking?this.callbackInfos[e]=null:Jn(this.callbackInfos,e),ei.free(t)),this.containCanceled=!0}cancelAll(){for(let e=0;e<this.callbackInfos.length;e++){const t=this.callbackInfos[e];t&&(t.reset(),ei.free(t),this.callbackInfos[e]=null)}this.containCanceled=!0}purgeCanceled(){for(let e=this.callbackInfos.length-1;e>=0;--e)this.callbackInfos[e]||Jn(this.callbackInfos,e);this.containCanceled=!1}clear(){this.cancelAll(),this.callbackInfos.length=0,this.isInvoking=!1,this.containCanceled=!1}}const ni=new qn((()=>new ti),16);class ii{constructor(){this._callbackTable=ve(!0)}on(e,t,n,i){if(!this.hasEventListener(e,t,n)){let o=this._callbackTable[e];o||(o=this._callbackTable[e]=ni.alloc());const r=ei.alloc();r.set(t,n,i),o.callbackInfos.push(r)}return t}hasEventListener(e,t,n){const i=this._callbackTable&&this._callbackTable[e];if(!i)return!1;const o=i.callbackInfos;if(!t){if(i.isInvoking){for(let e=0;e<o.length;++e)if(o[e])return!0;return!1}return o.length>0}for(let e=0;e<o.length;++e){const i=o[e];if(i&&i.check()&&i.callback===t&&i.target===n)return!0}return!1}removeAll(e){if("string"==typeof e){const t=this._callbackTable&&this._callbackTable[e];t&&(t.isInvoking?t.cancelAll():(t.clear(),ni.free(t),delete this._callbackTable[e]))}else if(e)for(const t in this._callbackTable){const n=this._callbackTable[t];if(n.isInvoking){const t=n.callbackInfos;for(let i=0;i<t.length;++i){const o=t[i];o&&o.target===e&&n.cancel(i)}}else n.removeByTarget(e)}}off(e,t,n){const i=this._callbackTable&&this._callbackTable[e];if(i){const o=i.callbackInfos;if(t)for(let e=0;e<o.length;++e){const r=o[e];if(r&&r.callback===t&&r.target===n){i.cancel(e);break}}else this.removeAll(e)}}emit(e,t,n,i,o,r){const a=this._callbackTable&&this._callbackTable[e];if(a){const s=!a.isInvoking;a.isInvoking=!0;const c=a.callbackInfos;for(let a=0,s=c.length;a<s;++a){const s=c[a];if(s){const a=s.callback,c=s.target;s.once&&this.off(e,a,c),s.check()?c?a.call(c,t,n,i,o,r):a(t,n,i,o,r):this.off(e,a,c)}}s&&(a.isInvoking=!1,a.containCanceled&&a.purgeCanceled())}}clear(){for(const e in this._callbackTable){const t=this._callbackTable[e];t&&(t.clear(),ni.free(t),delete this._callbackTable[e])}}}function oi(e){class t extends e{constructor(...e){super(...e),this._callbackTable=ve(!0)}once(e,t,n){return this.on(e,t,n,!0)}targetOff(e){this.removeAll(e)}}const n=ii.prototype,i=Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n));for(let e=0;e<i.length;++e){const o=i[e];if(!(o in t.prototype)){const e=Object.getOwnPropertyDescriptor(n,o);e&&Object.defineProperty(t.prototype,o,e)}}return t}const ri=e("ea",oi(class{}));let ai,si,ci,li,pi,ui,_i;c.EventTarget=ri,function(e){e.UNKNOWN="unknown",e.WECHAT="wechat",e.ANDROID="androidbrowser",e.IE="ie",e.EDGE="edge",e.QQ="qqbrowser",e.MOBILE_QQ="mqqbrowser",e.UC="ucbrowser",e.UCBS="ucbs",e.BROWSER_360="360browser",e.BAIDU_APP="baiduboxapp",e.BAIDU="baidubrowser",e.MAXTHON="maxthon",e.OPERA="opera",e.OUPENG="oupeng",e.MIUI="miuibrowser",e.FIREFOX="firefox",e.SAFARI="safari",e.CHROME="chrome",e.LIEBAO="liebao",e.QZONE="qzone",e.SOUGOU="sogou",e.HUAWEI="huawei"}(ai||(ai=e("bn",{}))),function(e){e.HIDE="hide",e.SHOW="show",e.RESIZE="resize",e.ORIENTATION_CHANGE="orientation_change"}(si||(si={})),function(e){e.UNKNOWN="unknown",e.ENGLISH="en",e.CHINESE="zh",e.FRENCH="fr",e.ITALIAN="it",e.GERMAN="de",e.SPANISH="es",e.DUTCH="du",e.RUSSIAN="ru",e.KOREAN="ko",e.JAPANESE="ja",e.HUNGARIAN="hu",e.PORTUGUESE="pt",e.ARABIC="ar",e.NORWEGIAN="no",e.POLISH="pl",e.TURKISH="tr",e.UKRAINIAN="uk",e.ROMANIAN="ro",e.BULGARIAN="bg"}(ci||(ci={})),function(e){e[e.NONE=0]="NONE",e[e.LAN=1]="LAN",e[e.WWAN=2]="WWAN"}(li||(li={})),function(e){e.UNKNOWN="Unknown",e.IOS="iOS",e.ANDROID="Android",e.WINDOWS="Windows",e.LINUX="Linux",e.OSX="OS X"}(pi||(pi=e("bl",{}))),function(e){e[e.PORTRAIT=1]="PORTRAIT",e[e.PORTRAIT_UPSIDE_DOWN=2]="PORTRAIT_UPSIDE_DOWN",e[e.LANDSCAPE_LEFT=4]="LANDSCAPE_LEFT",e[e.LANDSCAPE_RIGHT=8]="LANDSCAPE_RIGHT",e[e.LANDSCAPE=12]="LANDSCAPE"}(ui||(ui={})),function(e){e.UNKNOWN="UNKNOWN",e.EDITOR_PAGE="EDITOR_PAGE",e.EDITOR_CORE="EDITOR_CORE",e.MOBILE_BROWSER="MOBILE_BROWSER",e.DESKTOP_BROWSER="DESKTOP_BROWSER",e.WIN32="WIN32",e.ANDROID="ANDROID",e.IOS="IOS",e.MACOS="MACOS",e.WECHAT_GAME="WECHAT_GAME",e.BAIDU_MINI_GAME="BAIDU_MINI_GAME",e.XIAOMI_QUICK_GAME="XIAOMI_QUICK_GAME",e.ALIPAY_MINI_GAME="ALIPAY_MINI_GAME",e.BYTEDANCE_MINI_GAME="BYTEDANCE_MINI_GAME",e.OPPO_MINI_GAME="OPPO_MINI_GAME",e.VIVO_MINI_GAME="VIVO_MINI_GAME",e.HUAWEI_QUICK_GAME="HUAWEI_QUICK_GAME",e.COCOSPLAY="COCOSPLAY",e.LINKSURE_MINI_GAME="LINKSURE_MINI_GAME",e.QTT_MINI_GAME="QTT_MINI_GAME"}(_i||(_i=e("eb",{})));const fi={0:ui.PORTRAIT,"-90":ui.LANDSCAPE_LEFT,90:ui.LANDSCAPE_RIGHT,180:ui.PORTRAIT_UPSIDE_DOWN},hi={},mi={0:_i.WIN32,2:_i.MACOS,3:_i.ANDROID,4:_i.IOS,5:_i.IOS},di=e("bk",new class{get networkType(){return hi[jsb.device.getNetworkType()]}constructor(){this.isNative=void 0,this.isBrowser=void 0,this.isMobile=void 0,this.isLittleEndian=void 0,this.platform=void 0,this.language=void 0,this.nativeLanguage=void 0,this.os=void 0,this.osVersion=void 0,this.osMainVersion=void 0,this.browserType=void 0,this.browserVersion=void 0,this.pixelRatio=void 0,this.supportCapability=void 0,this._eventTarget=new ri,this.isNative=!0,this.isBrowser=!1,this.platform=mi[__getPlatform()],this.isMobile=this.platform===_i.ANDROID||this.platform===_i.IOS,this.isLittleEndian=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]})();const e=__getCurrentLanguageCode();this.nativeLanguage=e?e.toLowerCase():ci.UNKNOWN,this.language=__getCurrentLanguage(),this.os=__getOS(),this.osVersion=__getOSVersion(),this.osMainVersion=parseInt(this.osVersion),this.browserType=ai.UNKNOWN,this.browserVersion="",this.pixelRatio=jsb.device.getDevicePixelRatio()||1,this.supportCapability={webp:!0,gl:!0,canvas:!0,imageBitmap:!1},this._registerEvent()}_registerEvent(){jsb.onResize=e=>{0!==e.width&&0!==e.height&&(e.width/=this.pixelRatio,e.height/=this.pixelRatio,window.resize(e.width,e.height),this._eventTarget.emit(si.RESIZE))},jsb.onOrientationChanged=()=>{this._eventTarget.emit(si.ORIENTATION_CHANGE)},jsb.onPause=()=>{this._eventTarget.emit(si.HIDE)},jsb.onResume=()=>{this._eventTarget.emit(si.SHOW)}}getViewSize(){return new kn(window.innerWidth,window.innerHeight)}getOrientation(){return fi[jsb.device.getDeviceOrientation()]}getSafeAreaEdge(){const e=jsb.device.getSafeAreaEdge();let t=e.x,n=e.z,i=e.y,o=e.w;return this.getOrientation()===ui.PORTRAIT?t<n?t=n:n=t:i<o?i=o:o=i,{top:t,bottom:n,left:i,right:o}}getBatteryLevel(){return jsb.device.getBatteryLevel()}triggerGC(){jsb.garbageCollect()}openURL(e){jsb.openURL(e)}now(){return Date.now?Date.now():+new Date}restartJSVM(){__restartVM()}onHide(e){this._eventTarget.on(si.HIDE,e)}onShow(e){this._eventTarget.on(si.SHOW,e)}onViewResize(e){this._eventTarget.on(si.RESIZE,e)}onOrientationChange(e){this._eventTarget.on(si.ORIENTATION_CHANGE,e)}offHide(e){this._eventTarget.off(si.HIDE,e)}offShow(e){this._eventTarget.off(si.SHOW,e)}offViewResize(e){this._eventTarget.off(si.RESIZE,e)}offOrientationChange(e){this._eventTarget.off(si.ORIENTATION_CHANGE,e)}}),vi=/(\.[^\.\/\?\\]*)(\?.*)?$/,gi=/((.*)(\/|\\|\\\\))?(.*?\..*$)?/,Ai=/[^\.\/]+\/\.\.\//;function yi(...e){let t="";for(const n of e)t=(t+(""===t?"":"/")+n).replace(/(\/|\\\\)$/,"");return t}function xi(e){const t=vi.exec(e);return t?t[1]:""}function bi(e){if(e){const t=e.lastIndexOf(".");if(-1!==t)return e.substring(0,t)}return e}function Ci(e,t){const n=e.indexOf("?");n>0&&(e=e.substring(0,n));const i=/(\/|\\)([^\/\\]+)$/g.exec(e.replace(/(\/|\\)$/,""));if(!i)return e;const o=i[2];return t&&e.substring(e.length-t.length).toLowerCase()===t.toLowerCase()?o.substring(0,o.length-t.length):o}function Si(e){const t=gi.exec(e);return t?t[2]:""}function Ei(e,t){t=t||"";let n=e.indexOf("?"),i="";return n>0&&(i=e.substring(n),e=e.substring(0,n)),n=e.lastIndexOf("."),n<0?e+t+i:e.substring(0,n)+t+i}function wi(e,t,n){if(0===t.indexOf("."))return Ei(e,t);let i=e.indexOf("?"),o="";const r=n?xi(e):"";return i>0&&(o=e.substring(i),e=e.substring(0,i)),i=e.lastIndexOf("/"),i=i<=0?0:i+1,e.substring(0,i)+t+r+o}function Ti(e){let t=e=String(e);do{t=e,e=e.replace(Ai,"")}while(t.length!==e.length);return e}function Pi(e){return e.replace(/[\/\\]$/,"")}function Ii(){return di.os===pi.WINDOWS?"\\":"/"}e("eN",Object.freeze({__proto__:null,join:yi,extname:xi,mainFileName:bi,basename:Ci,dirname:Si,changeExtname:Ei,changeBasename:wi,_normalize:Ti,stripSep:Pi,getSeperator:Ii})),c.log=v,c.warn=g,c.error=A,c.assert=y,c._throw=C,c.logID=w,c.warnID=P,c.errorID=R,c.assertID=D,c.debug=F,c.path={join:yi,extname:xi,mainFileName:bi,basename:Ci,dirname:Si,changeExtname:Ei,changeBasename:wi,_normalize:Ti,stripSep:Pi,get sep(){return Ii()}};let Ri=0;const Ni={};var Di={addStage(e){if(void 0!==Ni[e])return;const t=1<<Ri;Ni[e]=t,Ri+=1},stageID(e){const t=Ni[e];return void 0===t?-1:t},stageIDs(e){let t=0;for(const n of e){const e=Ni[n];void 0!==e&&(t|=e)}return t}};const Mi=jsb.NativeBufferPool,Oi=jsb.NativeObjectPool,Li=jsb.NativeBufferAllocator;var zi;!function(e){e[e.UINT32=0]="UINT32",e[e.FLOAT32=1]="FLOAT32",e[e.NEVER=2]="NEVER"}(zi||(zi={}));class Fi{constructor(e,t,n,i=8){this._dataType=void 0,this._elementCount=void 0,this._entryBits=void 0,this._stride=void 0,this._entriesPerChunk=void 0,this._entryMask=void 0,this._chunkMask=void 0,this._poolFlag=void 0,this._arrayBuffers=[],this._freelists=[],this._uint32BufferViews=[],this._float32BufferViews=[],this._hasUint32=!1,this._hasFloat32=!1,this._nativePool=void 0,this._elementCount=n.COUNT,this._entryBits=i,this._dataType=t,this._stride=4*this._elementCount,this._entriesPerChunk=1<<i,this._entryMask=this._entriesPerChunk-1,this._poolFlag=1<<30,this._chunkMask=~(this._entryMask|this._poolFlag),this._nativePool=new Mi(e,i,this._stride);let o=zi.NEVER,r=!1,a=!1;for(const e in t){if(r=this._hasFloat32,a=this._hasUint32,a&&r)break;o=t[e],r||o!==zi.FLOAT32?a||o!==zi.UINT32||(this._hasUint32=!0):this._hasFloat32=!0}}alloc(){let e=0;for(;e<this._freelists.length;e++){const t=this._freelists[e];if(t.length){const n=t[t.length-1];return t.length--,(e<<this._entryBits)+n+this._poolFlag}}const t=this._nativePool.allocateNewChunk(),n=[],i=[],o=[],r=this._hasFloat32,a=this._hasUint32;for(let e=0;e<this._entriesPerChunk;e++)r&&n.push(new Float32Array(t,this._stride*e,this._elementCount)),a&&i.push(new Uint32Array(t,this._stride*e,this._elementCount)),e&&o.push(e);return this._arrayBuffers.push(t),a&&this._uint32BufferViews.push(i),r&&this._float32BufferViews.push(n),this._freelists.push(o),(e<<this._entryBits)+this._poolFlag}get(e,t){const n=(this._chunkMask&e)>>this._entryBits,i=this._entryMask&e;return(this._dataType[t]===zi.UINT32?this._uint32BufferViews:this._float32BufferViews)[n][i][t]}set(e,t,n){const i=(this._chunkMask&e)>>this._entryBits,o=this._entryMask&e;(this._dataType[t]===zi.UINT32?this._uint32BufferViews:this._float32BufferViews)[i][o][t]=n}setVec2(e,t,n){const i=(this._chunkMask&e)>>this._entryBits,o=this._entryMask&e;let r=t;const a=(this._dataType[t]===zi.UINT32?this._uint32BufferViews:this._float32BufferViews)[i][o];a[r++]=n.x,a[r++]=n.y}setVec3(e,t,n){const i=(this._chunkMask&e)>>this._entryBits,o=this._entryMask&e;let r=t;const a=(this._dataType[t]===zi.UINT32?this._uint32BufferViews:this._float32BufferViews)[i][o];a[r++]=n.x,a[r++]=n.y,a[r]=n.z}getVec3(e,t,n){const i=(this._chunkMask&e)>>this._entryBits,o=this._entryMask&e;let r=t;const a=(this._dataType[t]===zi.UINT32?this._uint32BufferViews:this._float32BufferViews)[i][o];n.x=a[r++],n.y=a[r++],n.z=a[r]}setVec4(e,t,n){const i=(this._chunkMask&e)>>this._entryBits,o=this._entryMask&e;let r=t;const a=(this._dataType[t]===zi.UINT32?this._uint32BufferViews:this._float32BufferViews)[i][o];a[r++]=n.x,a[r++]=n.y,a[r++]=n.z,a[r]=n.w}getVec4(e,t,n){const i=(this._chunkMask&e)>>this._entryBits,o=this._entryMask&e;let r=t;const a=(this._dataType[t]===zi.UINT32?this._uint32BufferViews:this._float32BufferViews)[i][o];n.x=a[r++],n.y=a[r++],n.z=a[r++],n.w=a[r]}setMat4(e,t,n){const i=(this._chunkMask&e)>>this._entryBits,o=this._entryMask&e;let r=t;const a=(this._dataType[t]===zi.UINT32?this._uint32BufferViews:this._float32BufferViews)[i][o];a[r++]=n.m00,a[r++]=n.m01,a[r++]=n.m02,a[r++]=n.m03,a[r++]=n.m04,a[r++]=n.m05,a[r++]=n.m06,a[r++]=n.m07,a[r++]=n.m08,a[r++]=n.m09,a[r++]=n.m10,a[r++]=n.m11,a[r++]=n.m12,a[r++]=n.m13,a[r++]=n.m14,a[r]=n.m15}free(e){const t=(this._chunkMask&e)>>this._entryBits,n=this._entryMask&e;(this._hasUint32?this._uint32BufferViews:this._float32BufferViews)[t][n].fill(0),this._freelists[t].push(n)}}class Bi{constructor(e,t,n){this._ctor=void 0,this._dtor=void 0,this._indexMask=void 0,this._poolFlag=void 0,this._array=[],this._freelist=[],this._nativePool=void 0,this._ctor=t,n&&(this._dtor=n),this._poolFlag=1<<29,this._indexMask=~this._poolFlag,this._nativePool=new Oi(e,this._array)}alloc(...e){const t=this._freelist;let n=-1;if(t.length)n=t[t.length-1],t.length--,this._array[n]=this._ctor(arguments,this._array[n]);else{n=this._array.length;const e=this._ctor(arguments);if(!e)return 0;this._array.push(e)}return this._nativePool.bind(n,this._array[n]),n+this._poolFlag}get(e){const t=this._indexMask&e;return this._array[t]}free(e){const t=this._indexMask&e;this._dtor&&(this._array[t]=this._dtor(this._array[t])),this._freelist.push(t)}}class Ui{constructor(e){this._nativeBufferAllocator=void 0,this._buffers=new Map,this._nextBufferIdx=0,this._poolFlag=void 0,this._bufferIdxMask=void 0,this._freelist=[],this._poolFlag=1<<30,this._bufferIdxMask=~this._poolFlag,this._nativeBufferAllocator=new Li(e)}alloc(e){const t=this._freelist;let n=-1;t.length?(n=t[t.length-1],t.length--):n=this._nextBufferIdx++;const i=this._nativeBufferAllocator.alloc(n,e);return this._buffers.set(n,i),n|this._poolFlag}free(e){const t=this._bufferIdxMask&e;this._buffers.get(t)&&(this._nativeBufferAllocator.free(t),this._buffers.delete(t),this._freelist.push(t))}getBuffer(e){const t=this._bufferIdxMask&e;return this._buffers.get(t)||null}}class ji extends Ui{constructor(e,t,n,i){super(e),this._viewCtor=void 0,this._size=void 0,this._step=void 0,this._viewCtor=t,this._size=n*t.BYTES_PER_ELEMENT,this._step=i||n}alloc(){const e=this._nextBufferIdx++,t=this._nativeBufferAllocator.alloc(e,this._size);return this._buffers.set(e,new this._viewCtor(t)),e|this._poolFlag}getBuffer(e){return null}assign(e,t,n){const i=this._bufferIdxMask&e;let o=this._buffers.get(i);if(!o)return;const r=t+1;if(r>=o.length){let e=o.length;for(;r>=e;)e+=this._step;e*=this._viewCtor.BYTES_PER_ELEMENT;const t=new this._viewCtor(this._nativeBufferAllocator.alloc(i,e));t.set(o),o=t,this._buffers.set(i,o)}o[r]=n;const a=o[0];o[0]=r>a?r:a}erase(e,t){const n=this._bufferIdxMask&e,i=this._buffers.get(n);if(i&&!(t>=i[0])){for(let e=t+1;e<i[0];++e)i[e]=i[e+1];--i[0]}}push(e,t){const n=this._bufferIdxMask&e,i=this._buffers.get(n);i&&this.assign(e,i[0],t)}pop(e){const t=this._bufferIdxMask&e,n=this._buffers.get(t);n&&0!==n[0]&&--n[0]}clear(e){const t=this._bufferIdxMask&e,n=this._buffers.get(t);n&&(n[0]=0)}get(e,t){const n=this._bufferIdxMask&e,i=this._buffers.get(n);return!i||t>=i[0]?0:i[t+1]}length(e){const t=this._bufferIdxMask&e,n=this._buffers.get(t);return n?n[0]:0}}function ki(e,t,n,i=!0){const o=t.length(e);for(let i=0;i<o;i++){const o=t.get(e,i);o&&n.free(o)}i?t.free(e):t.clear(e)}let Gi;!function(e){e[e.ATTRIBUTE=0]="ATTRIBUTE",e[e.DESCRIPTOR_SETS=1]="DESCRIPTOR_SETS",e[e.SHADER=2]="SHADER",e[e.INPUT_ASSEMBLER=3]="INPUT_ASSEMBLER",e[e.PIPELINE_LAYOUT=4]="PIPELINE_LAYOUT",e[e.FRAMEBUFFER=5]="FRAMEBUFFER",e[e.PASS=100]="PASS",e[e.SUB_MODEL=101]="SUB_MODEL",e[e.MODEL=102]="MODEL",e[e.SCENE=103]="SCENE",e[e.CAMERA=104]="CAMERA",e[e.NODE=105]="NODE",e[e.ROOT=106]="ROOT",e[e.AABB=107]="AABB",e[e.RENDER_WINDOW=108]="RENDER_WINDOW",e[e.FRUSTUM=109]="FRUSTUM",e[e.AMBIENT=110]="AMBIENT",e[e.FOG=111]="FOG",e[e.SKYBOX=112]="SKYBOX",e[e.SHADOW=113]="SHADOW",e[e.LIGHT=114]="LIGHT",e[e.SPHERE=115]="SPHERE",e[e.INSTANCED_ATTRIBUTE=116]="INSTANCED_ATTRIBUTE",e[e.FLAT_BUFFER=117]="FLAT_BUFFER",e[e.SUB_MESH=118]="SUB_MESH",e[e.RASTERIZER_STATE=119]="RASTERIZER_STATE",e[e.DEPTH_STENCIL_STATE=120]="DEPTH_STENCIL_STATE",e[e.BLEND_TARGET=121]="BLEND_TARGET",e[e.BLEND_STATE=122]="BLEND_STATE",e[e.BATCH_2D=123]="BATCH_2D",e[e.PIPELINE_SCENE_DATA=124]="PIPELINE_SCENE_DATA",e[e.SUB_MODEL_ARRAY=200]="SUB_MODEL_ARRAY",e[e.MODEL_ARRAY=201]="MODEL_ARRAY",e[e.ATTRIBUTE_ARRAY=202]="ATTRIBUTE_ARRAY",e[e.FLAT_BUFFER_ARRAY=203]="FLAT_BUFFER_ARRAY",e[e.INSTANCED_BUFFER_ARRAY=204]="INSTANCED_BUFFER_ARRAY",e[e.LIGHT_ARRAY=205]="LIGHT_ARRAY",e[e.BLEND_TARGET_ARRAY=206]="BLEND_TARGET_ARRAY",e[e.BATCH_ARRAY_2D=207]="BATCH_ARRAY_2D",e[e.RAW_BUFFER=300]="RAW_BUFFER",e[e.RAW_OBJECT=400]="RAW_OBJECT"}(Gi||(Gi={}));const Hi=e("aV",0),Vi=new Bi(Gi.SHADER,((e,t)=>t?(t.initialize(e[1]),t):e[0].createShader(e[1])),(e=>(e&&e.destroy(),e))),Wi=e("di",new Bi(Gi.DESCRIPTOR_SETS,((e,t)=>t?(t.initialize(e[1]),t):e[0].createDescriptorSet(e[1])),(e=>(e&&e.destroy(),e)))),qi=e("d7",new Bi(Gi.INPUT_ASSEMBLER,((e,t)=>t?(t.initialize(e[1]),t):e[0].createInputAssembler(e[1])),(e=>(e&&e.destroy(),e)))),Yi=new Bi(Gi.PIPELINE_LAYOUT,((e,t)=>t?(t.initialize(e[1]),t):e[0].createPipelineLayout(e[1])),(e=>(e&&e.destroy(),e))),Xi=new Bi(Gi.FRAMEBUFFER,((e,t)=>t?(t.initialize(e[1]),t):e[0].createFramebuffer(e[1])),(e=>(e&&e.destroy(),e))),Qi=new ji(Gi.SUB_MODEL_ARRAY,Uint32Array,8,4),Zi=new ji(Gi.MODEL_ARRAY,Uint32Array,32,16),Ji=new ji(Gi.ATTRIBUTE_ARRAY,Uint32Array,8,4),Ki=e("aX",new ji(Gi.FLAT_BUFFER_ARRAY,Uint32Array,8,4)),$i=new ji(Gi.LIGHT_ARRAY,Uint32Array,8,4),eo=new ji(Gi.BLEND_TARGET_ARRAY,Uint32Array,8,4),to=new ji(Gi.BATCH_ARRAY_2D,Uint32Array,32,16),no=e("a_",new Ui(Gi.RAW_BUFFER)),io=new Bi(Gi.RAW_OBJECT,(e=>e[0]||{}),(()=>{}));let oo;!function(e){e[e.PRIORITY=0]="PRIORITY",e[e.STAGE=1]="STAGE",e[e.PHASE=2]="PHASE",e[e.BATCHING_SCHEME=3]="BATCHING_SCHEME",e[e.PRIMITIVE=4]="PRIMITIVE",e[e.DYNAMIC_STATES=5]="DYNAMIC_STATES",e[e.HASH=6]="HASH",e[e.RASTERIZER_STATE=7]="RASTERIZER_STATE",e[e.DEPTH_STENCIL_STATE=8]="DEPTH_STENCIL_STATE",e[e.BLEND_STATE=9]="BLEND_STATE",e[e.DESCRIPTOR_SET=10]="DESCRIPTOR_SET",e[e.PIPELINE_LAYOUT=11]="PIPELINE_LAYOUT",e[e.COUNT=12]="COUNT"}(oo||(oo={}));const ro={[oo.PRIORITY]:zi.UINT32,[oo.STAGE]:zi.UINT32,[oo.PHASE]:zi.UINT32,[oo.BATCHING_SCHEME]:zi.UINT32,[oo.PRIMITIVE]:zi.UINT32,[oo.DYNAMIC_STATES]:zi.UINT32,[oo.HASH]:zi.UINT32,[oo.RASTERIZER_STATE]:zi.UINT32,[oo.DEPTH_STENCIL_STATE]:zi.UINT32,[oo.BLEND_STATE]:zi.UINT32,[oo.DESCRIPTOR_SET]:zi.UINT32,[oo.PIPELINE_LAYOUT]:zi.UINT32,[oo.COUNT]:zi.NEVER},ao=e("dc",new Fi(Gi.PASS,ro,oo));let so;!function(e){e[e.PRIORITY=0]="PRIORITY",e[e.PASS_COUNT=1]="PASS_COUNT",e[e.PASS_0=2]="PASS_0",e[e.PASS_1=3]="PASS_1",e[e.PASS_2=4]="PASS_2",e[e.PASS_3=5]="PASS_3",e[e.PASS_4=6]="PASS_4",e[e.PASS_5=7]="PASS_5",e[e.PASS_6=8]="PASS_6",e[e.PASS_7=9]="PASS_7",e[e.SHADER_0=10]="SHADER_0",e[e.SHADER_1=11]="SHADER_1",e[e.SHADER_2=12]="SHADER_2",e[e.SHADER_3=13]="SHADER_3",e[e.SHADER_4=14]="SHADER_4",e[e.SHADER_5=15]="SHADER_5",e[e.SHADER_6=16]="SHADER_6",e[e.SHADER_7=17]="SHADER_7",e[e.PLANAR_SHADER=18]="PLANAR_SHADER",e[e.PLANAR_INSTANCE_SHADER=19]="PLANAR_INSTANCE_SHADER",e[e.DESCRIPTOR_SET=20]="DESCRIPTOR_SET",e[e.INPUT_ASSEMBLER=21]="INPUT_ASSEMBLER",e[e.SUB_MESH=22]="SUB_MESH",e[e.COUNT=23]="COUNT"}(so||(so=e("dh",{})));const co={[so.PRIORITY]:zi.UINT32,[so.PASS_COUNT]:zi.UINT32,[so.PASS_0]:zi.UINT32,[so.PASS_1]:zi.UINT32,[so.PASS_2]:zi.UINT32,[so.PASS_3]:zi.UINT32,[so.PASS_4]:zi.UINT32,[so.PASS_5]:zi.UINT32,[so.PASS_6]:zi.UINT32,[so.PASS_7]:zi.UINT32,[so.SHADER_0]:zi.UINT32,[so.SHADER_1]:zi.UINT32,[so.SHADER_2]:zi.UINT32,[so.SHADER_3]:zi.UINT32,[so.SHADER_4]:zi.UINT32,[so.SHADER_5]:zi.UINT32,[so.SHADER_6]:zi.UINT32,[so.SHADER_7]:zi.UINT32,[so.PLANAR_SHADER]:zi.UINT32,[so.PLANAR_INSTANCE_SHADER]:zi.UINT32,[so.DESCRIPTOR_SET]:zi.UINT32,[so.INPUT_ASSEMBLER]:zi.UINT32,[so.SUB_MESH]:zi.UINT32,[so.COUNT]:zi.NEVER},lo=e("dg",new Fi(Gi.SUB_MODEL,co,so));let po;!function(e){e[e.ENABLED=0]="ENABLED",e[e.VIS_FLAGS=1]="VIS_FLAGS",e[e.CAST_SHADOW=2]="CAST_SHADOW",e[e.RECEIVE_SHADOW=3]="RECEIVE_SHADOW",e[e.WORLD_BOUNDS=4]="WORLD_BOUNDS",e[e.NODE=5]="NODE",e[e.TRANSFORM=6]="TRANSFORM",e[e.SUB_MODEL_ARRAY=7]="SUB_MODEL_ARRAY",e[e.INSTANCED_BUFFER=8]="INSTANCED_BUFFER",e[e.INSTANCED_ATTR_ARRAY=9]="INSTANCED_ATTR_ARRAY",e[e.COUNT=10]="COUNT"}(po||(po={}));const uo={[po.ENABLED]:zi.UINT32,[po.VIS_FLAGS]:zi.UINT32,[po.CAST_SHADOW]:zi.UINT32,[po.RECEIVE_SHADOW]:zi.UINT32,[po.WORLD_BOUNDS]:zi.UINT32,[po.NODE]:zi.UINT32,[po.TRANSFORM]:zi.UINT32,[po.SUB_MODEL_ARRAY]:zi.UINT32,[po.INSTANCED_BUFFER]:zi.UINT32,[po.INSTANCED_ATTR_ARRAY]:zi.UINT32,[po.COUNT]:zi.NEVER},_o=new Fi(Gi.MODEL,uo,po);let fo;!function(e){e[e.VIS_FLAGS=0]="VIS_FLAGS",e[e.PASS_COUNT=1]="PASS_COUNT",e[e.PASS_0=2]="PASS_0",e[e.PASS_1=3]="PASS_1",e[e.PASS_2=4]="PASS_2",e[e.PASS_3=5]="PASS_3",e[e.SHADER_0=6]="SHADER_0",e[e.SHADER_1=7]="SHADER_1",e[e.SHADER_2=8]="SHADER_2",e[e.SHADER_3=9]="SHADER_3",e[e.DESCRIPTOR_SET=10]="DESCRIPTOR_SET",e[e.INPUT_ASSEMBLER=11]="INPUT_ASSEMBLER",e[e.COUNT=12]="COUNT"}(fo||(fo=e("da",{})));const ho={[fo.VIS_FLAGS]:zi.UINT32,[fo.PASS_COUNT]:zi.UINT32,[fo.PASS_0]:zi.UINT32,[fo.PASS_1]:zi.UINT32,[fo.PASS_2]:zi.UINT32,[fo.PASS_3]:zi.UINT32,[fo.SHADER_0]:zi.UINT32,[fo.SHADER_1]:zi.UINT32,[fo.SHADER_2]:zi.UINT32,[fo.SHADER_3]:zi.UINT32,[fo.DESCRIPTOR_SET]:zi.UINT32,[fo.INPUT_ASSEMBLER]:zi.UINT32,[fo.COUNT]:zi.NEVER},mo=e("d9",new Fi(Gi.BATCH_2D,ho,fo));let vo;!function(e){e[e.CENTER=0]="CENTER",e[e.HALF_EXTENSION=3]="HALF_EXTENSION",e[e.COUNT=6]="COUNT"}(vo||(vo=e("cr",{})));const go={[vo.CENTER]:zi.FLOAT32,[vo.HALF_EXTENSION]:zi.FLOAT32,[vo.COUNT]:zi.NEVER},Ao=e("cq",new Fi(Gi.AABB,go,vo));let yo;!function(e){e[e.MAIN_LIGHT=0]="MAIN_LIGHT",e[e.MODEL_ARRAY=1]="MODEL_ARRAY",e[e.SPHERE_LIGHT_ARRAY=2]="SPHERE_LIGHT_ARRAY",e[e.SPOT_LIGHT_ARRAY=3]="SPOT_LIGHT_ARRAY",e[e.BATCH_ARRAY_2D=4]="BATCH_ARRAY_2D",e[e.COUNT=5]="COUNT"}(yo||(yo={}));const xo={[yo.MAIN_LIGHT]:zi.UINT32,[yo.MODEL_ARRAY]:zi.UINT32,[yo.SPHERE_LIGHT_ARRAY]:zi.UINT32,[yo.SPOT_LIGHT_ARRAY]:zi.UINT32,[yo.BATCH_ARRAY_2D]:zi.UINT32,[yo.COUNT]:zi.NEVER},bo=new Fi(Gi.SCENE,xo,yo);let Co;!function(e){e[e.WIDTH=0]="WIDTH",e[e.HEIGHT=1]="HEIGHT",e[e.EXPOSURE=2]="EXPOSURE",e[e.CLEAR_FLAGS=3]="CLEAR_FLAGS",e[e.CLEAR_DEPTH=4]="CLEAR_DEPTH",e[e.CLEAR_STENCIL=5]="CLEAR_STENCIL",e[e.VISIBILITY=6]="VISIBILITY",e[e.NODE=7]="NODE",e[e.SCENE=8]="SCENE",e[e.FRUSTUM=9]="FRUSTUM",e[e.WINDOW=10]="WINDOW",e[e.FORWARD=11]="FORWARD",e[e.POSITION=14]="POSITION",e[e.VIEW_PORT=17]="VIEW_PORT",e[e.CLEAR_COLOR=21]="CLEAR_COLOR",e[e.MAT_VIEW=25]="MAT_VIEW",e[e.MAT_VIEW_PROJ=41]="MAT_VIEW_PROJ",e[e.MAT_VIEW_PROJ_INV=57]="MAT_VIEW_PROJ_INV",e[e.MAT_PROJ=73]="MAT_PROJ",e[e.MAT_PROJ_INV=89]="MAT_PROJ_INV",e[e.MAT_VIEW_PROJ_OFFSCREEN=105]="MAT_VIEW_PROJ_OFFSCREEN",e[e.MAT_VIEW_PROJ_INV_OFFSCREEN=121]="MAT_VIEW_PROJ_INV_OFFSCREEN",e[e.MAT_PROJ_OFFSCREEN=137]="MAT_PROJ_OFFSCREEN",e[e.MAT_PROJ_INV_OFFSCREEN=153]="MAT_PROJ_INV_OFFSCREEN",e[e.COUNT=169]="COUNT"}(Co||(Co={}));const So={[Co.WIDTH]:zi.UINT32,[Co.HEIGHT]:zi.UINT32,[Co.EXPOSURE]:zi.FLOAT32,[Co.CLEAR_FLAGS]:zi.UINT32,[Co.CLEAR_DEPTH]:zi.FLOAT32,[Co.CLEAR_STENCIL]:zi.UINT32,[Co.VISIBILITY]:zi.UINT32,[Co.NODE]:zi.UINT32,[Co.SCENE]:zi.UINT32,[Co.FRUSTUM]:zi.UINT32,[Co.WINDOW]:zi.UINT32,[Co.FORWARD]:zi.FLOAT32,[Co.POSITION]:zi.FLOAT32,[Co.VIEW_PORT]:zi.FLOAT32,[Co.CLEAR_COLOR]:zi.FLOAT32,[Co.MAT_VIEW]:zi.FLOAT32,[Co.MAT_VIEW_PROJ]:zi.FLOAT32,[Co.MAT_VIEW_PROJ_INV]:zi.FLOAT32,[Co.MAT_PROJ]:zi.FLOAT32,[Co.MAT_PROJ_INV]:zi.FLOAT32,[Co.MAT_VIEW_PROJ_OFFSCREEN]:zi.FLOAT32,[Co.MAT_VIEW_PROJ_INV_OFFSCREEN]:zi.FLOAT32,[Co.MAT_PROJ_OFFSCREEN]:zi.FLOAT32,[Co.MAT_PROJ_INV_OFFSCREEN]:zi.FLOAT32,[Co.COUNT]:zi.NEVER},Eo=new Fi(Gi.CAMERA,So,Co);let wo;!function(e){e[e.FLAGS_CHANGED=0]="FLAGS_CHANGED",e[e.LAYER=1]="LAYER",e[e.WORLD_SCALE=2]="WORLD_SCALE",e[e.WORLD_POSITION=5]="WORLD_POSITION",e[e.WORLD_ROTATION=8]="WORLD_ROTATION",e[e.WORLD_MATRIX=12]="WORLD_MATRIX",e[e.COUNT=28]="COUNT"}(wo||(wo={}));const To={[wo.FLAGS_CHANGED]:zi.UINT32,[wo.LAYER]:zi.UINT32,[wo.WORLD_SCALE]:zi.FLOAT32,[wo.WORLD_POSITION]:zi.FLOAT32,[wo.WORLD_ROTATION]:zi.FLOAT32,[wo.WORLD_MATRIX]:zi.FLOAT32,[wo.COUNT]:zi.NEVER},Po=new Fi(Gi.NODE,To,wo);let Io;!function(e){e[e.CUMULATIVE_TIME=0]="CUMULATIVE_TIME",e[e.FRAME_TIME=1]="FRAME_TIME",e[e.COUNT=2]="COUNT"}(Io||(Io={}));const Ro={[Io.CUMULATIVE_TIME]:zi.FLOAT32,[Io.FRAME_TIME]:zi.FLOAT32,[Io.COUNT]:zi.NEVER},No=new Fi(Gi.ROOT,Ro,Io,1);let Do;!function(e){e[e.HAS_ON_SCREEN_ATTACHMENTS=0]="HAS_ON_SCREEN_ATTACHMENTS",e[e.HAS_OFF_SCREEN_ATTACHMENTS=1]="HAS_OFF_SCREEN_ATTACHMENTS",e[e.FRAMEBUFFER=2]="FRAMEBUFFER",e[e.COUNT=3]="COUNT"}(Do||(Do={}));const Mo={[Do.HAS_ON_SCREEN_ATTACHMENTS]:zi.UINT32,[Do.HAS_OFF_SCREEN_ATTACHMENTS]:zi.UINT32,[Do.FRAMEBUFFER]:zi.UINT32,[Do.COUNT]:zi.NEVER},Oo=new Fi(Gi.RENDER_WINDOW,Mo,Do,2);let Lo;!function(e){e[e.VERTICES=0]="VERTICES",e[e.PLANES=24]="PLANES",e[e.COUNT=48]="COUNT"}(Lo||(Lo={}));const zo={[Lo.VERTICES]:zi.FLOAT32,[Lo.PLANES]:zi.FLOAT32,[Lo.COUNT]:zi.NEVER},Fo=new Fi(Gi.FRUSTUM,zo,Lo);let Bo;!function(e){e[e.ENABLE=0]="ENABLE",e[e.ILLUM=1]="ILLUM",e[e.SKY_COLOR=2]="SKY_COLOR",e[e.GROUND_ALBEDO=6]="GROUND_ALBEDO",e[e.COUNT=10]="COUNT"}(Bo||(Bo={}));const Uo={[Bo.ENABLE]:zi.UINT32,[Bo.ILLUM]:zi.FLOAT32,[Bo.SKY_COLOR]:zi.FLOAT32,[Bo.GROUND_ALBEDO]:zi.FLOAT32,[Bo.COUNT]:zi.NEVER},jo=new Fi(Gi.AMBIENT,Uo,Bo,1);let ko;!function(e){e[e.ENABLE=0]="ENABLE",e[e.IS_RGBE=1]="IS_RGBE",e[e.USE_IBL=2]="USE_IBL",e[e.MODEL=3]="MODEL",e[e.COUNT=4]="COUNT"}(ko||(ko={}));const Go={[ko.ENABLE]:zi.UINT32,[ko.IS_RGBE]:zi.UINT32,[ko.USE_IBL]:zi.UINT32,[ko.MODEL]:zi.UINT32,[ko.COUNT]:zi.NEVER},Ho=new Fi(Gi.SKYBOX,Go,ko,1);let Vo;!function(e){e[e.ENABLE=0]="ENABLE",e[e.TYPE=1]="TYPE",e[e.DENSITY=2]="DENSITY",e[e.START=3]="START",e[e.END=4]="END",e[e.ATTEN=5]="ATTEN",e[e.TOP=6]="TOP",e[e.RANGE=7]="RANGE",e[e.COLOR=8]="COLOR",e[e.COUNT=12]="COUNT"}(Vo||(Vo={}));const Wo={[Vo.ENABLE]:zi.UINT32,[Vo.TYPE]:zi.UINT32,[Vo.DENSITY]:zi.FLOAT32,[Vo.START]:zi.FLOAT32,[Vo.END]:zi.FLOAT32,[Vo.ATTEN]:zi.FLOAT32,[Vo.TOP]:zi.FLOAT32,[Vo.RANGE]:zi.FLOAT32,[Vo.COLOR]:zi.FLOAT32,[Vo.COUNT]:zi.NEVER},qo=new Fi(Gi.FOG,Wo,Vo);let Yo;!function(e){e[e.ENABLE=0]="ENABLE",e[e.DIRTY=1]="DIRTY",e[e.TYPE=2]="TYPE",e[e.DISTANCE=3]="DISTANCE",e[e.INSTANCE_PASS=4]="INSTANCE_PASS",e[e.PLANAR_PASS=5]="PLANAR_PASS",e[e.NEAR=6]="NEAR",e[e.FAR=7]="FAR",e[e.ASPECT=8]="ASPECT",e[e.PCF_TYPE=9]="PCF_TYPE",e[e.SHADOW_MAP_DIRTY=10]="SHADOW_MAP_DIRTY",e[e.BIAS=11]="BIAS",e[e.PACKING=12]="PACKING",e[e.LINEAR=13]="LINEAR",e[e.SELF_SHADOW=14]="SELF_SHADOW",e[e.NORMAL_BIAS=15]="NORMAL_BIAS",e[e.ORTHO_SIZE=16]="ORTHO_SIZE",e[e.AUTO_ADAPT=17]="AUTO_ADAPT",e[e.COLOR=18]="COLOR",e[e.SIZE=22]="SIZE",e[e.NORMAL=24]="NORMAL",e[e.MAT_LIGHT=27]="MAT_LIGHT",e[e.COUNT=43]="COUNT"}(Yo||(Yo={}));const Xo={[Yo.ENABLE]:zi.UINT32,[Yo.DIRTY]:zi.UINT32,[Yo.TYPE]:zi.UINT32,[Yo.DISTANCE]:zi.FLOAT32,[Yo.INSTANCE_PASS]:zi.UINT32,[Yo.PLANAR_PASS]:zi.UINT32,[Yo.NEAR]:zi.FLOAT32,[Yo.FAR]:zi.FLOAT32,[Yo.ASPECT]:zi.FLOAT32,[Yo.PCF_TYPE]:zi.UINT32,[Yo.SHADOW_MAP_DIRTY]:zi.UINT32,[Yo.BIAS]:zi.FLOAT32,[Yo.PACKING]:zi.UINT32,[Yo.LINEAR]:zi.UINT32,[Yo.SELF_SHADOW]:zi.UINT32,[Yo.NORMAL_BIAS]:zi.FLOAT32,[Yo.ORTHO_SIZE]:zi.FLOAT32,[Yo.AUTO_ADAPT]:zi.UINT32,[Yo.COLOR]:zi.FLOAT32,[Yo.SIZE]:zi.FLOAT32,[Yo.NORMAL]:zi.FLOAT32,[Yo.MAT_LIGHT]:zi.FLOAT32,[Yo.COUNT]:zi.NEVER},Qo=new Fi(Gi.SHADOW,Xo,Yo,1);let Zo;!function(e){e[e.SHADOW=0]="SHADOW",e[e.SKYBOX=1]="SKYBOX",e[e.AMBIENT=2]="AMBIENT",e[e.FOG=3]="FOG",e[e.IS_HDR=4]="IS_HDR",e[e.SHADING_SCALE=5]="SHADING_SCALE",e[e.FP_SCALE=6]="FP_SCALE",e[e.DEFERRED_LIGHT_PASS=7]="DEFERRED_LIGHT_PASS",e[e.DEFERRED_LIGHT_PASS_SHADER=8]="DEFERRED_LIGHT_PASS_SHADER",e[e.DEFERRED_POST_PASS=9]="DEFERRED_POST_PASS",e[e.DEFERRED_POST_PASS_SHADER=10]="DEFERRED_POST_PASS_SHADER",e[e.COUNT=11]="COUNT"}(Zo||(Zo={}));const Jo={[Zo.SHADOW]:zi.UINT32,[Zo.SKYBOX]:zi.UINT32,[Zo.AMBIENT]:zi.UINT32,[Zo.FOG]:zi.UINT32,[Zo.IS_HDR]:zi.UINT32,[Zo.SHADING_SCALE]:zi.UINT32,[Zo.FP_SCALE]:zi.UINT32,[Zo.DEFERRED_LIGHT_PASS]:zi.UINT32,[Zo.DEFERRED_LIGHT_PASS_SHADER]:zi.UINT32,[Zo.DEFERRED_POST_PASS]:zi.UINT32,[Zo.DEFERRED_POST_PASS_SHADER]:zi.UINT32,[Zo.COUNT]:zi.NEVER},Ko=new Fi(Gi.PIPELINE_SCENE_DATA,Jo,Zo,1);let $o;!function(e){e[e.USE_COLOR_TEMPERATURE=0]="USE_COLOR_TEMPERATURE",e[e.ILLUMINANCE=1]="ILLUMINANCE",e[e.NODE=2]="NODE",e[e.RANGE=3]="RANGE",e[e.TYPE=4]="TYPE",e[e.AABB=5]="AABB",e[e.FRUSTUM=6]="FRUSTUM",e[e.SIZE=7]="SIZE",e[e.SPOT_ANGLE=8]="SPOT_ANGLE",e[e.ASPECT=9]="ASPECT",e[e.DIRECTION=10]="DIRECTION",e[e.COLOR=13]="COLOR",e[e.COLOR_TEMPERATURE_RGB=16]="COLOR_TEMPERATURE_RGB",e[e.POSITION=19]="POSITION",e[e.COUNT=22]="COUNT"}($o||($o={}));const er={[$o.USE_COLOR_TEMPERATURE]:zi.UINT32,[$o.ILLUMINANCE]:zi.FLOAT32,[$o.NODE]:zi.UINT32,[$o.RANGE]:zi.FLOAT32,[$o.TYPE]:zi.UINT32,[$o.AABB]:zi.UINT32,[$o.FRUSTUM]:zi.UINT32,[$o.SIZE]:zi.FLOAT32,[$o.SPOT_ANGLE]:zi.FLOAT32,[$o.ASPECT]:zi.FLOAT32,[$o.DIRECTION]:zi.FLOAT32,[$o.COLOR]:zi.FLOAT32,[$o.COLOR_TEMPERATURE_RGB]:zi.FLOAT32,[$o.POSITION]:zi.FLOAT32,[$o.COUNT]:zi.NEVER},tr=new Fi(Gi.LIGHT,er,$o,3);let ir;!function(e){e[e.RADIUS=0]="RADIUS",e[e.CENTER=1]="CENTER",e[e.COUNT=4]="COUNT"}(ir||(ir={}));const or={[ir.RADIUS]:zi.FLOAT32,[ir.CENTER]:zi.FLOAT32,[ir.COUNT]:zi.NEVER},rr=new Fi(Gi.SPHERE,or,ir,3);let ar;!function(e){e[e.STRIDE=0]="STRIDE",e[e.AMOUNT=1]="AMOUNT",e[e.BUFFER=2]="BUFFER",e[e.COUNT=3]="COUNT"}(ar||(ar=e("b0",{})));const sr={[ar.STRIDE]:zi.UINT32,[ar.AMOUNT]:zi.UINT32,[ar.BUFFER]:zi.UINT32,[ar.COUNT]:zi.NEVER},cr=e("a$",new Fi(Gi.FLAT_BUFFER,sr,ar,3));let lr;!function(e){e[e.FLAT_BUFFER_ARRAY=0]="FLAT_BUFFER_ARRAY",e[e.COUNT=1]="COUNT"}(lr||(lr=e("aY",{})));const pr={[lr.FLAT_BUFFER_ARRAY]:zi.UINT32,[lr.COUNT]:zi.NEVER},ur=e("aW",new Fi(Gi.SUB_MESH,pr,lr,3));let _r;!function(e){e[e.IS_DISCARD=0]="IS_DISCARD",e[e.POLYGO_MODEL=1]="POLYGO_MODEL",e[e.SHADE_MODEL=2]="SHADE_MODEL",e[e.CULL_MODE=3]="CULL_MODE",e[e.IS_FRONT_FACE_CCW=4]="IS_FRONT_FACE_CCW",e[e.DEPTH_BIAS_ENABLED=5]="DEPTH_BIAS_ENABLED",e[e.DEPTH_BIAS=6]="DEPTH_BIAS",e[e.DEPTH_BIAS_CLAMP=7]="DEPTH_BIAS_CLAMP",e[e.DEPTH_BIAS_SLOP=8]="DEPTH_BIAS_SLOP",e[e.IS_DEPTH_CLIP=9]="IS_DEPTH_CLIP",e[e.IS_MULTI_SAMPLE=10]="IS_MULTI_SAMPLE",e[e.LINE_WIDTH=11]="LINE_WIDTH",e[e.COUNT=12]="COUNT"}(_r||(_r={}));const fr={[_r.IS_DISCARD]:zi.UINT32,[_r.POLYGO_MODEL]:zi.UINT32,[_r.SHADE_MODEL]:zi.UINT32,[_r.CULL_MODE]:zi.UINT32,[_r.IS_FRONT_FACE_CCW]:zi.UINT32,[_r.DEPTH_BIAS_ENABLED]:zi.UINT32,[_r.DEPTH_BIAS]:zi.FLOAT32,[_r.DEPTH_BIAS_CLAMP]:zi.FLOAT32,[_r.DEPTH_BIAS_SLOP]:zi.FLOAT32,[_r.IS_DEPTH_CLIP]:zi.UINT32,[_r.IS_MULTI_SAMPLE]:zi.UINT32,[_r.LINE_WIDTH]:zi.FLOAT32,[_r.COUNT]:zi.NEVER},hr=new Fi(Gi.RASTERIZER_STATE,fr,_r,9);let mr;!function(e){e[e.DEPTH_TEST=0]="DEPTH_TEST",e[e.DEPTH_WRITE=1]="DEPTH_WRITE",e[e.DEPTH_FUNC=2]="DEPTH_FUNC",e[e.STENCIL_TEST_FRONT=3]="STENCIL_TEST_FRONT",e[e.STENCIL_FUNC_FRONT=4]="STENCIL_FUNC_FRONT",e[e.STENCIL_READ_MASK_FRONT=5]="STENCIL_READ_MASK_FRONT",e[e.STENCIL_WRITE_MASK_FRONT=6]="STENCIL_WRITE_MASK_FRONT",e[e.STENCIL_FAIL_OP_FRONT=7]="STENCIL_FAIL_OP_FRONT",e[e.STENCIL_Z_FAIL_OP_FRONT=8]="STENCIL_Z_FAIL_OP_FRONT",e[e.STENCIL_PASS_OP_FRONT=9]="STENCIL_PASS_OP_FRONT",e[e.STENCIL_REF_FRONT=10]="STENCIL_REF_FRONT",e[e.STENCIL_TEST_BACK=11]="STENCIL_TEST_BACK",e[e.STENCIL_FUNC_BACK=12]="STENCIL_FUNC_BACK",e[e.STENCIL_READ_MADK_BACK=13]="STENCIL_READ_MADK_BACK",e[e.STENCIL_WRITE_MASK_BACK=14]="STENCIL_WRITE_MASK_BACK",e[e.STENCIL_FAIL_OP_BACK=15]="STENCIL_FAIL_OP_BACK",e[e.STENCIL_Z_FAIL_OP_BACK=16]="STENCIL_Z_FAIL_OP_BACK",e[e.STENCIL_PASS_OP_BACK=17]="STENCIL_PASS_OP_BACK",e[e.STENCIL_REF_BACK=18]="STENCIL_REF_BACK",e[e.COUNT=19]="COUNT"}(mr||(mr={}));const dr={[mr.DEPTH_TEST]:zi.UINT32,[mr.DEPTH_WRITE]:zi.UINT32,[mr.DEPTH_FUNC]:zi.UINT32,[mr.STENCIL_TEST_FRONT]:zi.UINT32,[mr.STENCIL_FUNC_FRONT]:zi.UINT32,[mr.STENCIL_READ_MASK_FRONT]:zi.UINT32,[mr.STENCIL_WRITE_MASK_FRONT]:zi.UINT32,[mr.STENCIL_FAIL_OP_FRONT]:zi.UINT32,[mr.STENCIL_Z_FAIL_OP_FRONT]:zi.UINT32,[mr.STENCIL_PASS_OP_FRONT]:zi.UINT32,[mr.STENCIL_REF_FRONT]:zi.UINT32,[mr.STENCIL_TEST_BACK]:zi.UINT32,[mr.STENCIL_FUNC_BACK]:zi.UINT32,[mr.STENCIL_READ_MADK_BACK]:zi.UINT32,[mr.STENCIL_WRITE_MASK_BACK]:zi.UINT32,[mr.STENCIL_FAIL_OP_BACK]:zi.UINT32,[mr.STENCIL_Z_FAIL_OP_BACK]:zi.UINT32,[mr.STENCIL_PASS_OP_BACK]:zi.UINT32,[mr.STENCIL_REF_BACK]:zi.UINT32,[mr.COUNT]:zi.NEVER},vr=new Fi(Gi.DEPTH_STENCIL_STATE,dr,mr,9);let gr;!function(e){e[e.BLEND=0]="BLEND",e[e.BLEND_SRC=1]="BLEND_SRC",e[e.BLEND_DST=2]="BLEND_DST",e[e.BLEND_EQ=3]="BLEND_EQ",e[e.BLEND_SRC_ALPHA=4]="BLEND_SRC_ALPHA",e[e.BLEND_DST_ALPHA=5]="BLEND_DST_ALPHA",e[e.BLEND_ALPHA_EQ=6]="BLEND_ALPHA_EQ",e[e.BLEND_COLOR_MASK=7]="BLEND_COLOR_MASK",e[e.COUNT=8]="COUNT"}(gr||(gr={})),gr.BLEND,zi.UINT32,gr.BLEND_SRC,zi.UINT32,gr.BLEND_DST,zi.UINT32,gr.BLEND_EQ,zi.UINT32,gr.BLEND_SRC_ALPHA,zi.UINT32,gr.BLEND_DST_ALPHA,zi.UINT32,gr.BLEND_ALPHA_EQ,zi.UINT32,gr.BLEND_COLOR_MASK,zi.UINT32,gr.COUNT,zi.NEVER;const Ar=new Fi(Gi.BLEND_TARGET,dr,gr,9);let yr;!function(e){e[e.IS_A2C=0]="IS_A2C",e[e.IS_INDEPEND=1]="IS_INDEPEND",e[e.BLEND_COLOR=2]="BLEND_COLOR",e[e.BLEND_TARGET=6]="BLEND_TARGET",e[e.COUNT=7]="COUNT"}(yr||(yr={}));const xr={[yr.IS_A2C]:zi.UINT32,[yr.IS_INDEPEND]:zi.UINT32,[yr.BLEND_COLOR]:zi.FLOAT32,[yr.BLEND_TARGET]:zi.UINT32,[yr.COUNT]:zi.NEVER},br=new Fi(Gi.BLEND_STATE,xr,yr,9);class Cr{get colorArray(){return this._colorArray}get albedoArray(){return this._albedoArray}set enabled(e){jo.set(this._handle,Bo.ENABLE,e?1:0)}get enabled(){return jo.get(this._handle,Bo.ENABLE)}get skyColor(){return this._skyColor}set skyColor(e){this._skyColor.set(e),fn.toArray(this._colorArray,this._skyColor),jo.setVec4(this._handle,Bo.SKY_COLOR,this._skyColor)}get skyIllum(){return jo.get(this._handle,Bo.ILLUM)}set skyIllum(e){jo.set(this._handle,Bo.ILLUM,e)}get groundAlbedo(){return this._groundAlbedo}set groundAlbedo(e){this._groundAlbedo.set(e),mn.toArray(this._albedoArray,this._groundAlbedo),jo.setVec4(this._handle,Bo.GROUND_ALBEDO,this._groundAlbedo)}get handle(){return this._handle}constructor(){this._skyColor=new fn(51,128,204,1),this._groundAlbedo=new fn(51,51,51,255),this._albedoArray=Float32Array.from([.2,.2,.2,1]),this._colorArray=Float32Array.from([.2,.5,.8,1]),this._handle=Hi,this._handle=jo.alloc()}initialize(e){this._skyColor.set(e.skyColor),this._groundAlbedo.set(e.groundAlbedo),fn.toArray(this._colorArray,this._skyColor),mn.toArray(this._albedoArray,this._groundAlbedo),jo.setVec4(this._handle,Bo.SKY_COLOR,this._skyColor),jo.setVec4(this._handle,Bo.GROUND_ALBEDO,this._groundAlbedo),jo.set(this._handle,Bo.ILLUM,e.skyIllum)}destroy(){this._handle&&(jo.free(this._handle),this._handle=Hi)}}Cr.SUN_ILLUM=65e3,Cr.SKY_ILLUM=2e4,c.Ambient=Cr;const Sr=new mn,Er=new mn,wr=new mn,Tr=new mn,Pr=new mn,Ir=new mn,Rr=new Array(3),Nr=new Array(3);function Dr(e,t){return mn.dot(t.n,e)-t.d}function Mr(e,t,n){return mn.copy(e,t),mn.subtract(Pr,n.center,n.halfExtents),mn.add(Ir,n.center,n.halfExtents),e.x=e.x<Pr.x?Pr.x:e.x,e.y=e.y<Pr.y?Pr.y:e.y,e.z=e.z<Pr.z?Pr.z:e.z,e.x=e.x>Ir.x?Ir.x:e.x,e.y=e.y>Ir.y?Ir.y:e.y,e.z=e.z>Ir.z?Ir.z:e.z,e}function Or(e,t,n){mn.set(Sr,n.orientation.m00,n.orientation.m01,n.orientation.m02),mn.set(Er,n.orientation.m03,n.orientation.m04,n.orientation.m05),mn.set(wr,n.orientation.m06,n.orientation.m07,n.orientation.m08),Rr[0]=Sr,Rr[1]=Er,Rr[2]=wr,Nr[0]=n.halfExtents.x,Nr[1]=n.halfExtents.y,Nr[2]=n.halfExtents.z,mn.subtract(Tr,t,n.center),mn.set(e,n.center.x,n.center.y,n.center.z);for(let t=0;t<3;t++){let n=mn.dot(Tr,Rr[t]);n>Nr[t]&&(n=Nr[t]),n<-Nr[t]&&(n=-Nr[t]),e.x+=n*Rr[t].x,e.y+=n*Rr[t].y,e.z+=n*Rr[t].z}return e}var Lr=Object.freeze({__proto__:null,point_plane:Dr,pt_point_plane:function(e,t,n){const i=Dr(t,n);return mn.subtract(e,t,mn.multiplyScalar(e,n.n,i))},pt_point_aabb:Mr,pt_point_obb:Or,pt_point_line:function(e,t,n,i){mn.subtract(Sr,n,i);const o=Sr,r=mn.lengthSqr(o);if(0==r)mn.copy(e,n);else{mn.subtract(Sr,t,n);const a=mn.dot(Sr,o)/r;a<0?mn.copy(e,n):a>1?mn.copy(e,i):mn.scaleAndAdd(e,n,o,a)}}}),zr={SHAPE_RAY:1,SHAPE_LINE:2,SHAPE_SPHERE:4,SHAPE_AABB:8,SHAPE_OBB:16,SHAPE_PLANE:32,SHAPE_TRIANGLE:64,SHAPE_FRUSTUM:128,SHAPE_FRUSTUM_ACCURATE:256,SHAPE_CAPSULE:512};class Fr{static create(e,t,n,i,o,r){return new Fr(e,t,n,i,o,r)}static clone(e){return new Fr(e.s.x,e.s.y,e.s.z,e.e.x,e.e.y,e.e.z)}static copy(e,t){return mn.copy(e.s,t.s),mn.copy(e.e,t.e),e}static fromPoints(e,t,n){return mn.copy(e.s,t),mn.copy(e.e,n),e}static set(e,t,n,i,o,r,a){return e.s.x=t,e.s.y=n,e.s.z=i,e.e.x=o,e.e.y=r,e.e.z=a,e}static len(e){return mn.distance(e.s,e.e)}get type(){return this._type}constructor(e=0,t=0,n=0,i=0,o=0,r=-1){this.s=void 0,this.e=void 0,this._type=void 0,this._type=zr.SHAPE_LINE,this.s=new mn(e,t,n),this.e=new mn(i,o,r)}length(){return mn.distance(this.s,this.e)}}class Br{static create(e=0,t=0,n=0,i=0,o=0,r=1){return new Br(e,t,n,i,o,r)}static clone(e){return new Br(e.o.x,e.o.y,e.o.z,e.d.x,e.d.y,e.d.z)}static copy(e,t){return mn.copy(e.o,t.o),mn.copy(e.d,t.d),e}static fromPoints(e,t,n){return mn.copy(e.o,t),mn.normalize(e.d,mn.subtract(e.d,n,t)),e}static set(e,t,n,i,o,r,a){return e.o.x=t,e.o.y=n,e.o.z=i,e.d.x=o,e.d.y=r,e.d.z=a,e}get type(){return this._type}constructor(e=0,t=0,n=0,i=0,o=0,r=-1){this.o=void 0,this.d=void 0,this._type=void 0,this._type=zr.SHAPE_RAY,this.o=new mn(e,t,n),this.d=new mn(i,o,r)}computeHit(e,t){mn.normalize(e,this.d),mn.scaleAndAdd(e,this.o,e,t)}}const Ur=new mn,jr=new mn,kr=new mn,Gr=new mn;function Hr(e){return Math.max(Math.max(e.x,e.y),e.z)}class Vr{static create(e,t,n,i){return new Vr(e,t,n,i)}static clone(e){return new Vr(e.center.x,e.center.y,e.center.z,e.radius)}static copy(e,t){return mn.copy(e.center,t.center),e.radius=t.radius,e}static fromPoints(e,t,n){return mn.multiplyScalar(e.center,mn.add(Ur,t,n),.5),e.radius=.5*mn.subtract(Ur,n,t).length(),e}static set(e,t,n,i,o){return e.center.x=t,e.center.y=n,e.center.z=i,e.radius=o,e}static mergePoint(e,t,n){if(t.radius<0)return e.center.set(n),e.radius=0,e;mn.subtract(jr,n,t.center);const i=jr.length();if(i>t.radius){const n=.5*(i-t.radius);e.radius+=n,mn.multiplyScalar(jr,jr,n/i),mn.add(e.center,e.center,jr)}return e}static mergeAABB(e,t,n){return n.getBoundary(kr,Gr),Vr.mergePoint(e,t,kr),Vr.mergePoint(e,t,Gr),e}get center(){return this._center}set center(e){this._center=e,rr.setVec3(this._poolHandle,ir.CENTER,this._center)}get radius(){return rr.get(this._poolHandle,ir.RADIUS)}set radius(e){rr.set(this._poolHandle,ir.RADIUS,e)}get handle(){return this._poolHandle}get type(){return this._type}constructor(e=0,t=0,n=0,i=1){this._center=new mn(0,0,0),this._poolHandle=Hi,this._type=void 0,this._type=zr.SHAPE_SPHERE,this._center=new mn(e,t,n),this._poolHandle=rr.alloc(),rr.setVec3(this._poolHandle,ir.CENTER,this._center),rr.set(this._poolHandle,ir.RADIUS,i)}destroy(){this._poolHandle&&(rr.free(this._poolHandle),this._poolHandle=Hi)}clone(){return Vr.clone(this)}copy(e){return Vr.copy(this,e)}getBoundary(e,t){mn.set(e,this.center.x-this.radius,this.center.y-this.radius,this.center.z-this.radius),mn.set(t,this.center.x+this.radius,this.center.y+this.radius,this.center.z+this.radius)}transform(e,t,n,i,o){mn.transformMat4(o.center,this.center,e),o.radius=this.radius*Hr(i)}translateAndRotate(e,t,n){mn.transformMat4(n.center,this.center,e)}setScale(e,t){t.radius=this.radius*Hr(e)}}e("dW",Vr);class Wr{static create(e=1,t=0,n=0,i=0,o=0,r=0,a=0,s=0,c=1){return new Wr(e,t,n,i,o,r,a,s,c)}static clone(e){return new Wr(e.a.x,e.a.y,e.a.z,e.b.x,e.b.y,e.b.z,e.c.x,e.c.y,e.c.z)}static copy(e,t){return mn.copy(e.a,t.a),mn.copy(e.b,t.b),mn.copy(e.c,t.c),e}static fromPoints(e,t,n,i){return mn.copy(e.a,t),mn.copy(e.b,n),mn.copy(e.c,i),e}static set(e,t,n,i,o,r,a,s,c,l){return e.a.x=t,e.a.y=n,e.a.z=i,e.b.x=o,e.b.y=r,e.b.z=a,e.c.x=s,e.c.y=c,e.c.z=l,e}get type(){return this._type}constructor(e=0,t=0,n=0,i=1,o=0,r=0,a=0,s=1,c=0){this.a=void 0,this.b=void 0,this.c=void 0,this._type=void 0,this._type=zr.SHAPE_TRIANGLE,this.a=new mn(e,t,n),this.b=new mn(i,o,r),this.c=new mn(a,s,c)}}const qr=(e,t,n)=>{for(let i=0;i<t.length;++i)e.length<=i&&e.push(new n),e[i].copy(t[i]);e.length=t.length};let Yr,Xr,Qr,Zr,Jr,Kr,$r,ea,ta,na,ia,oa,ra,aa,sa,ca,la,pa,ua,_a,fa,ha,ma,da,va,ga,Aa,ya,xa,ba,Ca,Sa,Ea,wa,Ta,Pa,Ia,Ra,Na;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.BUFFER=1]="BUFFER",e[e.TEXTURE=2]="TEXTURE",e[e.RENDER_PASS=3]="RENDER_PASS",e[e.FRAMEBUFFER=4]="FRAMEBUFFER",e[e.SAMPLER=5]="SAMPLER",e[e.SHADER=6]="SHADER",e[e.DESCRIPTOR_SET_LAYOUT=7]="DESCRIPTOR_SET_LAYOUT",e[e.PIPELINE_LAYOUT=8]="PIPELINE_LAYOUT",e[e.PIPELINE_STATE=9]="PIPELINE_STATE",e[e.DESCRIPTOR_SET=10]="DESCRIPTOR_SET",e[e.INPUT_ASSEMBLER=11]="INPUT_ASSEMBLER",e[e.COMMAND_BUFFER=12]="COMMAND_BUFFER",e[e.QUEUE=13]="QUEUE",e[e.GLOBAL_BARRIER=14]="GLOBAL_BARRIER",e[e.TEXTURE_BARRIER=15]="TEXTURE_BARRIER",e[e.BUFFER_BARRIER=16]="BUFFER_BARRIER"}(Yr||(Yr=e("a",{}))),function(e){e[e.UNREADY=0]="UNREADY",e[e.FAILED=1]="FAILED",e[e.SUCCESS=2]="SUCCESS"}(Xr||(Xr=e("S",{}))),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.GLES2=1]="GLES2",e[e.GLES3=2]="GLES3",e[e.METAL=3]="METAL",e[e.VULKAN=4]="VULKAN",e[e.WEBGL=5]="WEBGL",e[e.WEBGL2=6]="WEBGL2",e[e.WEBGPU=7]="WEBGPU"}(Qr||(Qr=e("f",{}))),function(e){e[e.IDENTITY=0]="IDENTITY",e[e.ROTATE_90=1]="ROTATE_90",e[e.ROTATE_180=2]="ROTATE_180",e[e.ROTATE_270=3]="ROTATE_270"}(Zr||(Zr=e("g",{}))),function(e){e[e.COLOR_FLOAT=0]="COLOR_FLOAT",e[e.COLOR_HALF_FLOAT=1]="COLOR_HALF_FLOAT",e[e.TEXTURE_FLOAT=2]="TEXTURE_FLOAT",e[e.TEXTURE_HALF_FLOAT=3]="TEXTURE_HALF_FLOAT",e[e.TEXTURE_FLOAT_LINEAR=4]="TEXTURE_FLOAT_LINEAR",e[e.TEXTURE_HALF_FLOAT_LINEAR=5]="TEXTURE_HALF_FLOAT_LINEAR",e[e.FORMAT_R11G11B10F=6]="FORMAT_R11G11B10F",e[e.FORMAT_D16=7]="FORMAT_D16",e[e.FORMAT_D16S8=8]="FORMAT_D16S8",e[e.FORMAT_D24=9]="FORMAT_D24",e[e.FORMAT_D24S8=10]="FORMAT_D24S8",e[e.FORMAT_D32F=11]="FORMAT_D32F",e[e.FORMAT_D32FS8=12]="FORMAT_D32FS8",e[e.FORMAT_ETC1=13]="FORMAT_ETC1",e[e.FORMAT_ETC2=14]="FORMAT_ETC2",e[e.FORMAT_DXT=15]="FORMAT_DXT",e[e.FORMAT_PVRTC=16]="FORMAT_PVRTC",e[e.FORMAT_ASTC=17]="FORMAT_ASTC",e[e.FORMAT_RGB8=18]="FORMAT_RGB8",e[e.MSAA=19]="MSAA",e[e.ELEMENT_INDEX_UINT=20]="ELEMENT_INDEX_UINT",e[e.INSTANCED_ARRAYS=21]="INSTANCED_ARRAYS",e[e.MULTIPLE_RENDER_TARGETS=22]="MULTIPLE_RENDER_TARGETS",e[e.BLEND_MINMAX=23]="BLEND_MINMAX",e[e.DEPTH_BOUNDS=24]="DEPTH_BOUNDS",e[e.LINE_WIDTH=25]="LINE_WIDTH",e[e.STENCIL_WRITE_MASK=26]="STENCIL_WRITE_MASK",e[e.STENCIL_COMPARE_MASK=27]="STENCIL_COMPARE_MASK",e[e.MULTITHREADED_SUBMISSION=28]="MULTITHREADED_SUBMISSION",e[e.COMPUTE_SHADER=29]="COMPUTE_SHADER",e[e.COUNT=30]="COUNT"}(Jr||(Jr=e("h",{}))),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A8=1]="A8",e[e.L8=2]="L8",e[e.LA8=3]="LA8",e[e.R8=4]="R8",e[e.R8SN=5]="R8SN",e[e.R8UI=6]="R8UI",e[e.R8I=7]="R8I",e[e.R16F=8]="R16F",e[e.R16UI=9]="R16UI",e[e.R16I=10]="R16I",e[e.R32F=11]="R32F",e[e.R32UI=12]="R32UI",e[e.R32I=13]="R32I",e[e.RG8=14]="RG8",e[e.RG8SN=15]="RG8SN",e[e.RG8UI=16]="RG8UI",e[e.RG8I=17]="RG8I",e[e.RG16F=18]="RG16F",e[e.RG16UI=19]="RG16UI",e[e.RG16I=20]="RG16I",e[e.RG32F=21]="RG32F",e[e.RG32UI=22]="RG32UI",e[e.RG32I=23]="RG32I",e[e.RGB8=24]="RGB8",e[e.SRGB8=25]="SRGB8",e[e.RGB8SN=26]="RGB8SN",e[e.RGB8UI=27]="RGB8UI",e[e.RGB8I=28]="RGB8I",e[e.RGB16F=29]="RGB16F",e[e.RGB16UI=30]="RGB16UI",e[e.RGB16I=31]="RGB16I",e[e.RGB32F=32]="RGB32F",e[e.RGB32UI=33]="RGB32UI",e[e.RGB32I=34]="RGB32I",e[e.RGBA8=35]="RGBA8",e[e.BGRA8=36]="BGRA8",e[e.SRGB8_A8=37]="SRGB8_A8",e[e.RGBA8SN=38]="RGBA8SN",e[e.RGBA8UI=39]="RGBA8UI",e[e.RGBA8I=40]="RGBA8I",e[e.RGBA16F=41]="RGBA16F",e[e.RGBA16UI=42]="RGBA16UI",e[e.RGBA16I=43]="RGBA16I",e[e.RGBA32F=44]="RGBA32F",e[e.RGBA32UI=45]="RGBA32UI",e[e.RGBA32I=46]="RGBA32I",e[e.R5G6B5=47]="R5G6B5",e[e.R11G11B10F=48]="R11G11B10F",e[e.RGB5A1=49]="RGB5A1",e[e.RGBA4=50]="RGBA4",e[e.RGB10A2=51]="RGB10A2",e[e.RGB10A2UI=52]="RGB10A2UI",e[e.RGB9E5=53]="RGB9E5",e[e.D16=54]="D16",e[e.D16S8=55]="D16S8",e[e.D24=56]="D24",e[e.D24S8=57]="D24S8",e[e.D32F=58]="D32F",e[e.D32F_S8=59]="D32F_S8",e[e.BC1=60]="BC1",e[e.BC1_ALPHA=61]="BC1_ALPHA",e[e.BC1_SRGB=62]="BC1_SRGB",e[e.BC1_SRGB_ALPHA=63]="BC1_SRGB_ALPHA",e[e.BC2=64]="BC2",e[e.BC2_SRGB=65]="BC2_SRGB",e[e.BC3=66]="BC3",e[e.BC3_SRGB=67]="BC3_SRGB",e[e.BC4=68]="BC4",e[e.BC4_SNORM=69]="BC4_SNORM",e[e.BC5=70]="BC5",e[e.BC5_SNORM=71]="BC5_SNORM",e[e.BC6H_UF16=72]="BC6H_UF16",e[e.BC6H_SF16=73]="BC6H_SF16",e[e.BC7=74]="BC7",e[e.BC7_SRGB=75]="BC7_SRGB",e[e.ETC_RGB8=76]="ETC_RGB8",e[e.ETC2_RGB8=77]="ETC2_RGB8",e[e.ETC2_SRGB8=78]="ETC2_SRGB8",e[e.ETC2_RGB8_A1=79]="ETC2_RGB8_A1",e[e.ETC2_SRGB8_A1=80]="ETC2_SRGB8_A1",e[e.ETC2_RGBA8=81]="ETC2_RGBA8",e[e.ETC2_SRGB8_A8=82]="ETC2_SRGB8_A8",e[e.EAC_R11=83]="EAC_R11",e[e.EAC_R11SN=84]="EAC_R11SN",e[e.EAC_RG11=85]="EAC_RG11",e[e.EAC_RG11SN=86]="EAC_RG11SN",e[e.PVRTC_RGB2=87]="PVRTC_RGB2",e[e.PVRTC_RGBA2=88]="PVRTC_RGBA2",e[e.PVRTC_RGB4=89]="PVRTC_RGB4",e[e.PVRTC_RGBA4=90]="PVRTC_RGBA4",e[e.PVRTC2_2BPP=91]="PVRTC2_2BPP",e[e.PVRTC2_4BPP=92]="PVRTC2_4BPP",e[e.ASTC_RGBA_4x4=93]="ASTC_RGBA_4x4",e[e.ASTC_RGBA_5x4=94]="ASTC_RGBA_5x4",e[e.ASTC_RGBA_5x5=95]="ASTC_RGBA_5x5",e[e.ASTC_RGBA_6x5=96]="ASTC_RGBA_6x5",e[e.ASTC_RGBA_6x6=97]="ASTC_RGBA_6x6",e[e.ASTC_RGBA_8x5=98]="ASTC_RGBA_8x5",e[e.ASTC_RGBA_8x6=99]="ASTC_RGBA_8x6",e[e.ASTC_RGBA_8x8=100]="ASTC_RGBA_8x8",e[e.ASTC_RGBA_10x5=101]="ASTC_RGBA_10x5",e[e.ASTC_RGBA_10x6=102]="ASTC_RGBA_10x6",e[e.ASTC_RGBA_10x8=103]="ASTC_RGBA_10x8",e[e.ASTC_RGBA_10x10=104]="ASTC_RGBA_10x10",e[e.ASTC_RGBA_12x10=105]="ASTC_RGBA_12x10",e[e.ASTC_RGBA_12x12=106]="ASTC_RGBA_12x12",e[e.ASTC_SRGBA_4x4=107]="ASTC_SRGBA_4x4",e[e.ASTC_SRGBA_5x4=108]="ASTC_SRGBA_5x4",e[e.ASTC_SRGBA_5x5=109]="ASTC_SRGBA_5x5",e[e.ASTC_SRGBA_6x5=110]="ASTC_SRGBA_6x5",e[e.ASTC_SRGBA_6x6=111]="ASTC_SRGBA_6x6",e[e.ASTC_SRGBA_8x5=112]="ASTC_SRGBA_8x5",e[e.ASTC_SRGBA_8x6=113]="ASTC_SRGBA_8x6",e[e.ASTC_SRGBA_8x8=114]="ASTC_SRGBA_8x8",e[e.ASTC_SRGBA_10x5=115]="ASTC_SRGBA_10x5",e[e.ASTC_SRGBA_10x6=116]="ASTC_SRGBA_10x6",e[e.ASTC_SRGBA_10x8=117]="ASTC_SRGBA_10x8",e[e.ASTC_SRGBA_10x10=118]="ASTC_SRGBA_10x10",e[e.ASTC_SRGBA_12x10=119]="ASTC_SRGBA_12x10",e[e.ASTC_SRGBA_12x12=120]="ASTC_SRGBA_12x12",e[e.COUNT=121]="COUNT"}(Kr||(Kr=e("i",{}))),function(e){e[e.NONE=0]="NONE",e[e.UNORM=1]="UNORM",e[e.SNORM=2]="SNORM",e[e.UINT=3]="UINT",e[e.INT=4]="INT",e[e.UFLOAT=5]="UFLOAT",e[e.FLOAT=6]="FLOAT"}($r||($r=e("j",{}))),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.BOOL=1]="BOOL",e[e.BOOL2=2]="BOOL2",e[e.BOOL3=3]="BOOL3",e[e.BOOL4=4]="BOOL4",e[e.INT=5]="INT",e[e.INT2=6]="INT2",e[e.INT3=7]="INT3",e[e.INT4=8]="INT4",e[e.UINT=9]="UINT",e[e.UINT2=10]="UINT2",e[e.UINT3=11]="UINT3",e[e.UINT4=12]="UINT4",e[e.FLOAT=13]="FLOAT",e[e.FLOAT2=14]="FLOAT2",e[e.FLOAT3=15]="FLOAT3",e[e.FLOAT4=16]="FLOAT4",e[e.MAT2=17]="MAT2",e[e.MAT2X3=18]="MAT2X3",e[e.MAT2X4=19]="MAT2X4",e[e.MAT3X2=20]="MAT3X2",e[e.MAT3=21]="MAT3",e[e.MAT3X4=22]="MAT3X4",e[e.MAT4X2=23]="MAT4X2",e[e.MAT4X3=24]="MAT4X3",e[e.MAT4=25]="MAT4",e[e.SAMPLER1D=26]="SAMPLER1D",e[e.SAMPLER1D_ARRAY=27]="SAMPLER1D_ARRAY",e[e.SAMPLER2D=28]="SAMPLER2D",e[e.SAMPLER2D_ARRAY=29]="SAMPLER2D_ARRAY",e[e.SAMPLER3D=30]="SAMPLER3D",e[e.SAMPLER_CUBE=31]="SAMPLER_CUBE",e[e.SAMPLER=32]="SAMPLER",e[e.TEXTURE1D=33]="TEXTURE1D",e[e.TEXTURE1D_ARRAY=34]="TEXTURE1D_ARRAY",e[e.TEXTURE2D=35]="TEXTURE2D",e[e.TEXTURE2D_ARRAY=36]="TEXTURE2D_ARRAY",e[e.TEXTURE3D=37]="TEXTURE3D",e[e.TEXTURE_CUBE=38]="TEXTURE_CUBE",e[e.IMAGE1D=39]="IMAGE1D",e[e.IMAGE1D_ARRAY=40]="IMAGE1D_ARRAY",e[e.IMAGE2D=41]="IMAGE2D",e[e.IMAGE2D_ARRAY=42]="IMAGE2D_ARRAY",e[e.IMAGE3D=43]="IMAGE3D",e[e.IMAGE_CUBE=44]="IMAGE_CUBE",e[e.SUBPASS_INPUT=45]="SUBPASS_INPUT",e[e.COUNT=46]="COUNT"}(ea||(ea=e("k",{}))),function(e){e[e.NONE=0]="NONE",e[e.TRANSFER_SRC=1]="TRANSFER_SRC",e[e.TRANSFER_DST=2]="TRANSFER_DST",e[e.INDEX=4]="INDEX",e[e.VERTEX=8]="VERTEX",e[e.UNIFORM=16]="UNIFORM",e[e.STORAGE=32]="STORAGE",e[e.INDIRECT=64]="INDIRECT"}(ta||(ta=e("B",{}))),function(e){e[e.NONE=0]="NONE"}(na||(na=e("c",{}))),function(e){e[e.NONE=0]="NONE",e[e.READ_ONLY=1]="READ_ONLY",e[e.WRITE_ONLY=2]="WRITE_ONLY",e[e.READ_WRITE=3]="READ_WRITE"}(ia||(ia=e("l",{}))),function(e){e[e.NONE=0]="NONE",e[e.DEVICE=1]="DEVICE",e[e.HOST=2]="HOST"}(oa||(oa=e("M",{}))),function(e){e[e.TEX1D=0]="TEX1D",e[e.TEX2D=1]="TEX2D",e[e.TEX3D=2]="TEX3D",e[e.CUBE=3]="CUBE",e[e.TEX1D_ARRAY=4]="TEX1D_ARRAY",e[e.TEX2D_ARRAY=5]="TEX2D_ARRAY"}(ra||(ra=e("n",{}))),function(e){e[e.NONE=0]="NONE",e[e.TRANSFER_SRC=1]="TRANSFER_SRC",e[e.TRANSFER_DST=2]="TRANSFER_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.COLOR_ATTACHMENT=16]="COLOR_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=32]="DEPTH_STENCIL_ATTACHMENT",e[e.TRANSIENT_ATTACHMENT=64]="TRANSIENT_ATTACHMENT",e[e.INPUT_ATTACHMENT=128]="INPUT_ATTACHMENT"}(aa||(aa=e("o",{}))),function(e){e[e.NONE=0]="NONE",e[e.GEN_MIPMAP=1]="GEN_MIPMAP",e[e.IMMUTABLE=2]="IMMUTABLE"}(sa||(sa=e("p",{}))),function(e){e[e.X1=0]="X1",e[e.X2=1]="X2",e[e.X4=2]="X4",e[e.X8=3]="X8",e[e.X16=4]="X16",e[e.X32=5]="X32",e[e.X64=6]="X64"}(ca||(ca=e("q",{}))),function(e){e[e.NONE=0]="NONE",e[e.POINT=1]="POINT",e[e.LINEAR=2]="LINEAR",e[e.ANISOTROPIC=3]="ANISOTROPIC"}(la||(la=e("F",{}))),function(e){e[e.WRAP=0]="WRAP",e[e.MIRROR=1]="MIRROR",e[e.CLAMP=2]="CLAMP",e[e.BORDER=3]="BORDER"}(pa||(pa=e("A",{}))),function(e){e[e.NEVER=0]="NEVER",e[e.LESS=1]="LESS",e[e.EQUAL=2]="EQUAL",e[e.LESS_EQUAL=3]="LESS_EQUAL",e[e.GREATER=4]="GREATER",e[e.NOT_EQUAL=5]="NOT_EQUAL",e[e.GREATER_EQUAL=6]="GREATER_EQUAL",e[e.ALWAYS=7]="ALWAYS"}(ua||(ua=e("d",{}))),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=1]="KEEP",e[e.REPLACE=2]="REPLACE",e[e.INCR=3]="INCR",e[e.DECR=4]="DECR",e[e.INVERT=5]="INVERT",e[e.INCR_WRAP=6]="INCR_WRAP",e[e.DECR_WRAP=7]="DECR_WRAP"}(_a||(_a=e("r",{}))),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_ALPHA=2]="SRC_ALPHA",e[e.DST_ALPHA=3]="DST_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=4]="ONE_MINUS_SRC_ALPHA",e[e.ONE_MINUS_DST_ALPHA=5]="ONE_MINUS_DST_ALPHA",e[e.SRC_COLOR=6]="SRC_COLOR",e[e.DST_COLOR=7]="DST_COLOR",e[e.ONE_MINUS_SRC_COLOR=8]="ONE_MINUS_SRC_COLOR",e[e.ONE_MINUS_DST_COLOR=9]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=10]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=11]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=12]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=13]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=14]="ONE_MINUS_CONSTANT_ALPHA"}(fa||(fa=e("s",{}))),function(e){e[e.ADD=0]="ADD",e[e.SUB=1]="SUB",e[e.REV_SUB=2]="REV_SUB",e[e.MIN=3]="MIN",e[e.MAX=4]="MAX"}(ha||(ha=e("t",{}))),function(e){e[e.NONE=0]="NONE",e[e.R=1]="R",e[e.G=2]="G",e[e.B=4]="B",e[e.A=8]="A",e[e.ALL=15]="ALL"}(ma||(ma=e("u",{}))),function(e){e[e.NONE=0]="NONE",e[e.VERTEX=1]="VERTEX",e[e.CONTROL=2]="CONTROL",e[e.EVALUATION=4]="EVALUATION",e[e.GEOMETRY=8]="GEOMETRY",e[e.FRAGMENT=16]="FRAGMENT",e[e.COMPUTE=32]="COMPUTE",e[e.ALL=63]="ALL"}(da||(da=e("v",{}))),function(e){e[e.LOAD=0]="LOAD",e[e.CLEAR=1]="CLEAR",e[e.DISCARD=2]="DISCARD"}(va||(va=e("L",{}))),function(e){e[e.STORE=0]="STORE",e[e.DISCARD=1]="DISCARD"}(ga||(ga=e("w",{}))),function(e){e[e.NONE=0]="NONE",e[e.INDIRECT_BUFFER=1]="INDIRECT_BUFFER",e[e.INDEX_BUFFER=2]="INDEX_BUFFER",e[e.VERTEX_BUFFER=3]="VERTEX_BUFFER",e[e.VERTEX_SHADER_READ_UNIFORM_BUFFER=4]="VERTEX_SHADER_READ_UNIFORM_BUFFER",e[e.VERTEX_SHADER_READ_TEXTURE=5]="VERTEX_SHADER_READ_TEXTURE",e[e.VERTEX_SHADER_READ_OTHER=6]="VERTEX_SHADER_READ_OTHER",e[e.FRAGMENT_SHADER_READ_UNIFORM_BUFFER=7]="FRAGMENT_SHADER_READ_UNIFORM_BUFFER",e[e.FRAGMENT_SHADER_READ_TEXTURE=8]="FRAGMENT_SHADER_READ_TEXTURE",e[e.FRAGMENT_SHADER_READ_COLOR_INPUT_ATTACHMENT=9]="FRAGMENT_SHADER_READ_COLOR_INPUT_ATTACHMENT",e[e.FRAGMENT_SHADER_READ_DEPTH_STENCIL_INPUT_ATTACHMENT=10]="FRAGMENT_SHADER_READ_DEPTH_STENCIL_INPUT_ATTACHMENT",e[e.FRAGMENT_SHADER_READ_OTHER=11]="FRAGMENT_SHADER_READ_OTHER",e[e.COLOR_ATTACHMENT_READ=12]="COLOR_ATTACHMENT_READ",e[e.DEPTH_STENCIL_ATTACHMENT_READ=13]="DEPTH_STENCIL_ATTACHMENT_READ",e[e.COMPUTE_SHADER_READ_UNIFORM_BUFFER=14]="COMPUTE_SHADER_READ_UNIFORM_BUFFER",e[e.COMPUTE_SHADER_READ_TEXTURE=15]="COMPUTE_SHADER_READ_TEXTURE",e[e.COMPUTE_SHADER_READ_OTHER=16]="COMPUTE_SHADER_READ_OTHER",e[e.TRANSFER_READ=17]="TRANSFER_READ",e[e.HOST_READ=18]="HOST_READ",e[e.PRESENT=19]="PRESENT",e[e.VERTEX_SHADER_WRITE=20]="VERTEX_SHADER_WRITE",e[e.FRAGMENT_SHADER_WRITE=21]="FRAGMENT_SHADER_WRITE",e[e.COLOR_ATTACHMENT_WRITE=22]="COLOR_ATTACHMENT_WRITE",e[e.DEPTH_STENCIL_ATTACHMENT_WRITE=23]="DEPTH_STENCIL_ATTACHMENT_WRITE",e[e.COMPUTE_SHADER_WRITE=24]="COMPUTE_SHADER_WRITE",e[e.TRANSFER_WRITE=25]="TRANSFER_WRITE",e[e.HOST_PREINITIALIZED=26]="HOST_PREINITIALIZED",e[e.HOST_WRITE=27]="HOST_WRITE"}(Aa||(Aa=e("x",{}))),function(e){e[e.GRAPHICS=0]="GRAPHICS",e[e.COMPUTE=1]="COMPUTE",e[e.RAY_TRACING=2]="RAY_TRACING"}(ya||(ya=e("y",{}))),function(e){e[e.POINT_LIST=0]="POINT_LIST",e[e.LINE_LIST=1]="LINE_LIST",e[e.LINE_STRIP=2]="LINE_STRIP",e[e.LINE_LOOP=3]="LINE_LOOP",e[e.LINE_LIST_ADJACENCY=4]="LINE_LIST_ADJACENCY",e[e.LINE_STRIP_ADJACENCY=5]="LINE_STRIP_ADJACENCY",e[e.ISO_LINE_LIST=6]="ISO_LINE_LIST",e[e.TRIANGLE_LIST=7]="TRIANGLE_LIST",e[e.TRIANGLE_STRIP=8]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=9]="TRIANGLE_FAN",e[e.TRIANGLE_LIST_ADJACENCY=10]="TRIANGLE_LIST_ADJACENCY",e[e.TRIANGLE_STRIP_ADJACENCY=11]="TRIANGLE_STRIP_ADJACENCY",e[e.TRIANGLE_PATCH_ADJACENCY=12]="TRIANGLE_PATCH_ADJACENCY",e[e.QUAD_PATCH_LIST=13]="QUAD_PATCH_LIST"}(xa||(xa=e("z",{}))),function(e){e[e.FILL=0]="FILL",e[e.POINT=1]="POINT",e[e.LINE=2]="LINE"}(ba||(ba=e("E",{}))),function(e){e[e.GOURAND=0]="GOURAND",e[e.FLAT=1]="FLAT"}(Ca||(Ca=e("H",{}))),function(e){e[e.NONE=0]="NONE",e[e.FRONT=1]="FRONT",e[e.BACK=2]="BACK"}(Sa||(Sa=e("I",{}))),function(e){e[e.NONE=0]="NONE",e[e.VIEWPORT=1]="VIEWPORT",e[e.SCISSOR=2]="SCISSOR",e[e.LINE_WIDTH=4]="LINE_WIDTH",e[e.DEPTH_BIAS=8]="DEPTH_BIAS",e[e.BLEND_CONSTANTS=16]="BLEND_CONSTANTS",e[e.DEPTH_BOUNDS=32]="DEPTH_BOUNDS",e[e.STENCIL_WRITE_MASK=64]="STENCIL_WRITE_MASK",e[e.STENCIL_COMPARE_MASK=128]="STENCIL_COMPARE_MASK"}(Ea||(Ea=e("J",{}))),function(e){e[e.FRONT=0]="FRONT",e[e.BACK=1]="BACK",e[e.ALL=2]="ALL"}(wa||(wa=e("K",{}))),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UNIFORM_BUFFER=1]="UNIFORM_BUFFER",e[e.DYNAMIC_UNIFORM_BUFFER=2]="DYNAMIC_UNIFORM_BUFFER",e[e.STORAGE_BUFFER=4]="STORAGE_BUFFER",e[e.DYNAMIC_STORAGE_BUFFER=8]="DYNAMIC_STORAGE_BUFFER",e[e.SAMPLER_TEXTURE=16]="SAMPLER_TEXTURE",e[e.SAMPLER=32]="SAMPLER",e[e.TEXTURE=64]="TEXTURE",e[e.STORAGE_IMAGE=128]="STORAGE_IMAGE",e[e.INPUT_ATTACHMENT=256]="INPUT_ATTACHMENT"}(Ta||(Ta=e("N",{}))),function(e){e[e.GRAPHICS=0]="GRAPHICS",e[e.COMPUTE=1]="COMPUTE",e[e.TRANSFER=2]="TRANSFER"}(Pa||(Pa=e("Q",{}))),function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY"}(Ia||(Ia=e("C",{}))),function(e){e[e.NONE=0]="NONE",e[e.COLOR=1]="COLOR",e[e.DEPTH=2]="DEPTH",e[e.STENCIL=4]="STENCIL",e[e.DEPTH_STENCIL=6]="DEPTH_STENCIL",e[e.ALL=7]="ALL"}(Ra||(Ra=e("R",{})));class Da{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}}e("U",Da);class Ma{constructor(e=0,t=0,n=0,i=0,o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,h=0,m=1,d=0,v=0,g=new Da,A=new Da,y=-1,x=1,b=1){this.maxVertexAttributes=e,this.maxVertexUniformVectors=t,this.maxFragmentUniformVectors=n,this.maxTextureUnits=i,this.maxImageUnits=o,this.maxVertexTextureUnits=r,this.maxColorRenderTargets=a,this.maxShaderStorageBufferBindings=s,this.maxShaderStorageBlockSize=c,this.maxUniformBufferBindings=l,this.maxUniformBlockSize=p,this.maxTextureSize=u,this.maxCubeMapTextureSize=_,this.depthBits=f,this.stencilBits=h,this.uboOffsetAlignment=m,this.maxComputeSharedMemorySize=d,this.maxComputeWorkGroupInvocations=v,this.maxComputeWorkGroupSize=g,this.maxComputeWorkGroupCount=A,this.clipSpaceMinZ=y,this.screenSpaceSignY=x,this.clipSpaceSignY=b}copy(e){return this.maxVertexAttributes=e.maxVertexAttributes,this.maxVertexUniformVectors=e.maxVertexUniformVectors,this.maxFragmentUniformVectors=e.maxFragmentUniformVectors,this.maxTextureUnits=e.maxTextureUnits,this.maxImageUnits=e.maxImageUnits,this.maxVertexTextureUnits=e.maxVertexTextureUnits,this.maxColorRenderTargets=e.maxColorRenderTargets,this.maxShaderStorageBufferBindings=e.maxShaderStorageBufferBindings,this.maxShaderStorageBlockSize=e.maxShaderStorageBlockSize,this.maxUniformBufferBindings=e.maxUniformBufferBindings,this.maxUniformBlockSize=e.maxUniformBlockSize,this.maxTextureSize=e.maxTextureSize,this.maxCubeMapTextureSize=e.maxCubeMapTextureSize,this.depthBits=e.depthBits,this.stencilBits=e.stencilBits,this.uboOffsetAlignment=e.uboOffsetAlignment,this.maxComputeSharedMemorySize=e.maxComputeSharedMemorySize,this.maxComputeWorkGroupInvocations=e.maxComputeWorkGroupInvocations,this.maxComputeWorkGroupSize.copy(e.maxComputeWorkGroupSize),this.maxComputeWorkGroupCount.copy(e.maxComputeWorkGroupCount),this.clipSpaceMinZ=e.clipSpaceMinZ,this.screenSpaceSignY=e.screenSpaceSignY,this.clipSpaceSignY=e.clipSpaceSignY,this}}e("V",Ma);class Oa{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}}e("W",Oa);class La{constructor(e=0,t=0,n=0,i=0){this.x=e,this.y=t,this.width=n,this.height=i}copy(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}}e("X",La);class za{constructor(e=0,t=0,n=1){this.width=e,this.height=t,this.depth=n}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this}}e("Y",za);class Fa{constructor(e=0,t=0,n=1){this.mipLevel=e,this.baseArrayLayer=t,this.layerCount=n}copy(e){return this.mipLevel=e.mipLevel,this.baseArrayLayer=e.baseArrayLayer,this.layerCount=e.layerCount,this}}e("Z",Fa);class Ba{constructor(e=0,t=1,n=0,i=1){this.baseMipLevel=e,this.levelCount=t,this.baseArrayLayer=n,this.layerCount=i}copy(e){return this.baseMipLevel=e.baseMipLevel,this.levelCount=e.levelCount,this.baseArrayLayer=e.baseArrayLayer,this.layerCount=e.layerCount,this}}e("_",Ba);class Ua{constructor(e=new Fa,t=new Oa,n=new Fa,i=new Oa,o=new za){this.srcSubres=e,this.srcOffset=t,this.dstSubres=n,this.dstOffset=i,this.extent=o}copy(e){return this.srcSubres.copy(e.srcSubres),this.srcOffset.copy(e.srcOffset),this.dstSubres.copy(e.dstSubres),this.dstOffset.copy(e.dstOffset),this.extent.copy(e.extent),this}}e("$",Ua);class ja{constructor(e=new Fa,t=new Oa,n=new za,i=new Fa,o=new Oa,r=new za){this.srcSubres=e,this.srcOffset=t,this.srcExtent=n,this.dstSubres=i,this.dstOffset=o,this.dstExtent=r}copy(e){return this.srcSubres.copy(e.srcSubres),this.srcOffset.copy(e.srcOffset),this.srcExtent.copy(e.srcExtent),this.dstSubres.copy(e.dstSubres),this.dstOffset.copy(e.dstOffset),this.dstExtent.copy(e.dstExtent),this}}e("a0",ja);class ka{constructor(e=0,t=0,n=new Oa,i=new za,o=new Fa){this.buffStride=e,this.buffTexHeight=t,this.texOffset=n,this.texExtent=i,this.texSubres=o}copy(e){return this.buffStride=e.buffStride,this.buffTexHeight=e.buffTexHeight,this.texOffset.copy(e.texOffset),this.texExtent.copy(e.texExtent),this.texSubres.copy(e.texSubres),this}}e("a1",ka);class Ga{constructor(e=0,t=0,n=0,i=0,o=0,r=1){this.left=e,this.top=t,this.width=n,this.height=i,this.minDepth=o,this.maxDepth=r}copy(e){return this.left=e.left,this.top=e.top,this.width=e.width,this.height=e.height,this.minDepth=e.minDepth,this.maxDepth=e.maxDepth,this}}e("a2",Ga);class Ha{constructor(e=0,t=0,n=0,i=0){this.x=e,this.y=t,this.z=n,this.w=i}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}}e("e",Ha);class Va{constructor(e=[],t=[],n=0){this.bufferOffsets=e,this.samplerOffsets=t,this.flexibleSet=n}copy(e){return this.bufferOffsets=e.bufferOffsets.slice(),this.samplerOffsets=e.samplerOffsets.slice(),this.flexibleSet=e.flexibleSet,this}}e("a3",Va);class Wa{constructor(e=ta.NONE,t=oa.NONE,n=0,i=0,o=na.NONE){this.usage=e,this.memUsage=t,this.size=n,this.stride=i,this.flags=o}copy(e){return this.usage=e.usage,this.memUsage=e.memUsage,this.size=e.size,this.stride=e.stride,this.flags=e.flags,this}}e("a4",Wa);class qa{constructor(e=null,t=0,n=0){this.buffer=e,this.offset=t,this.range=n}copy(e){return this.buffer=e.buffer,this.offset=e.offset,this.range=e.range,this}}e("a5",qa);class Ya{constructor(e=0,t=0,n=0,i=0,o=0,r=0,a=0){this.vertexCount=e,this.firstVertex=t,this.indexCount=n,this.firstIndex=i,this.vertexOffset=o,this.instanceCount=r,this.firstInstance=a}copy(e){return this.vertexCount=e.vertexCount,this.firstVertex=e.firstVertex,this.indexCount=e.indexCount,this.firstIndex=e.firstIndex,this.vertexOffset=e.vertexOffset,this.instanceCount=e.instanceCount,this.firstInstance=e.firstInstance,this}}e("a6",Ya);class Xa{constructor(e=0,t=0,n=0,i=null,o=0){this.groupCountX=e,this.groupCountY=t,this.groupCountZ=n,this.indirectBuffer=i,this.indirectOffset=o}copy(e){return this.groupCountX=e.groupCountX,this.groupCountY=e.groupCountY,this.groupCountZ=e.groupCountZ,this.indirectBuffer=e.indirectBuffer,this.indirectOffset=e.indirectOffset,this}}e("a7",Xa);class Qa{constructor(e=[]){this.drawInfos=e}copy(e){return qr(this.drawInfos,e.drawInfos,Ya),this}}e("a8",Qa);class Za{constructor(e=ra.TEX2D,t=aa.NONE,n=Kr.UNKNOWN,i=0,o=0,r=sa.NONE,a=1,s=1,c=ca.X1,l=1){this.type=e,this.usage=t,this.format=n,this.width=i,this.height=o,this.flags=r,this.layerCount=a,this.levelCount=s,this.samples=c,this.depth=l}copy(e){return this.type=e.type,this.usage=e.usage,this.format=e.format,this.width=e.width,this.height=e.height,this.flags=e.flags,this.layerCount=e.layerCount,this.levelCount=e.levelCount,this.samples=e.samples,this.depth=e.depth,this}}e("a9",Za);class Ja{constructor(e=null,t=ra.TEX2D,n=Kr.UNKNOWN,i=0,o=1,r=0,a=1){this.texture=e,this.type=t,this.format=n,this.baseLevel=i,this.levelCount=o,this.baseLayer=r,this.layerCount=a}copy(e){return this.texture=e.texture,this.type=e.type,this.format=e.format,this.baseLevel=e.baseLevel,this.levelCount=e.levelCount,this.baseLayer=e.baseLayer,this.layerCount=e.layerCount,this}}e("aa",Ja);class Ka{constructor(e=la.LINEAR,t=la.LINEAR,n=la.NONE,i=pa.WRAP,o=pa.WRAP,r=pa.WRAP,a=0,s=ua.ALWAYS,c=new Ha,l=0){this.minFilter=e,this.magFilter=t,this.mipFilter=n,this.addressU=i,this.addressV=o,this.addressW=r,this.maxAnisotropy=a,this.cmpFunc=s,this.borderColor=c,this.mipLODBias=l}copy(e){return this.minFilter=e.minFilter,this.magFilter=e.magFilter,this.mipFilter=e.mipFilter,this.addressU=e.addressU,this.addressV=e.addressV,this.addressW=e.addressW,this.maxAnisotropy=e.maxAnisotropy,this.cmpFunc=e.cmpFunc,this.borderColor.copy(e.borderColor),this.mipLODBias=e.mipLODBias,this}}e("ab",Ka);class $a{constructor(e="",t=ea.UNKNOWN,n=0){this.name=e,this.type=t,this.count=n}copy(e){return this.name=e.name,this.type=e.type,this.count=e.count,this}}e("ac",$a);class es{constructor(e=0,t=0,n="",i=[],o=0){this.set=e,this.binding=t,this.name=n,this.members=i,this.count=o}copy(e){return this.set=e.set,this.binding=e.binding,this.name=e.name,qr(this.members,e.members,$a),this.count=e.count,this}}e("ad",es);class ts{constructor(e=0,t=0,n="",i=ea.UNKNOWN,o=0){this.set=e,this.binding=t,this.name=n,this.type=i,this.count=o}copy(e){return this.set=e.set,this.binding=e.binding,this.name=e.name,this.type=e.type,this.count=e.count,this}}e("ae",ts);class ns{constructor(e=0,t=0,n="",i=0){this.set=e,this.binding=t,this.name=n,this.count=i}copy(e){return this.set=e.set,this.binding=e.binding,this.name=e.name,this.count=e.count,this}}e("af",ns);class is{constructor(e=0,t=0,n="",i=ea.UNKNOWN,o=0){this.set=e,this.binding=t,this.name=n,this.type=i,this.count=o}copy(e){return this.set=e.set,this.binding=e.binding,this.name=e.name,this.type=e.type,this.count=e.count,this}}e("ag",is);class os{constructor(e=0,t=0,n="",i=ea.UNKNOWN,o=0,r=ia.READ_WRITE){this.set=e,this.binding=t,this.name=n,this.type=i,this.count=o,this.memoryAccess=r}copy(e){return this.set=e.set,this.binding=e.binding,this.name=e.name,this.type=e.type,this.count=e.count,this.memoryAccess=e.memoryAccess,this}}e("ah",os);class rs{constructor(e=0,t=0,n="",i=0,o=ia.READ_WRITE){this.set=e,this.binding=t,this.name=n,this.count=i,this.memoryAccess=o}copy(e){return this.set=e.set,this.binding=e.binding,this.name=e.name,this.count=e.count,this.memoryAccess=e.memoryAccess,this}}e("ai",rs);class as{constructor(e=0,t=0,n="",i=0){this.set=e,this.binding=t,this.name=n,this.count=i}copy(e){return this.set=e.set,this.binding=e.binding,this.name=e.name,this.count=e.count,this}}e("aj",as);class ss{constructor(e=da.NONE,t=""){this.stage=e,this.source=t}copy(e){return this.stage=e.stage,this.source=e.source,this}}e("ak",ss);class cs{constructor(e="",t=Kr.UNKNOWN,n=!1,i=0,o=!1,r=0){this.name=e,this.format=t,this.isNormalized=n,this.stream=i,this.isInstanced=o,this.location=r}copy(e){return this.name=e.name,this.format=e.format,this.isNormalized=e.isNormalized,this.stream=e.stream,this.isInstanced=e.isInstanced,this.location=e.location,this}}class ls{constructor(e="",t=[],n=[],i=[],o=[],r=[],a=[],s=[],c=[],l=[]){this.name=e,this.stages=t,this.attributes=n,this.blocks=i,this.buffers=o,this.samplerTextures=r,this.samplers=a,this.textures=s,this.images=c,this.subpassInputs=l}copy(e){return this.name=e.name,qr(this.stages,e.stages,ss),qr(this.attributes,e.attributes,cs),qr(this.blocks,e.blocks,es),qr(this.buffers,e.buffers,rs),qr(this.samplerTextures,e.samplerTextures,ts),qr(this.samplers,e.samplers,ns),qr(this.textures,e.textures,is),qr(this.images,e.images,os),qr(this.subpassInputs,e.subpassInputs,as),this}}e("am",ls);class ps{constructor(e=[],t=[],n=null,i=null){this.attributes=e,this.vertexBuffers=t,this.indexBuffer=n,this.indirectBuffer=i}copy(e){return qr(this.attributes,e.attributes,cs),this.vertexBuffers=e.vertexBuffers.slice(),this.indexBuffer=e.indexBuffer,this.indirectBuffer=e.indirectBuffer,this}}e("an",ps);class us{constructor(e=Kr.UNKNOWN,t=ca.X1,n=va.CLEAR,i=ga.STORE,o=[],r=[Aa.PRESENT]){this.format=e,this.sampleCount=t,this.loadOp=n,this.storeOp=i,this.beginAccesses=o,this.endAccesses=r}copy(e){return this.format=e.format,this.sampleCount=e.sampleCount,this.loadOp=e.loadOp,this.storeOp=e.storeOp,this.beginAccesses=e.beginAccesses.slice(),this.endAccesses=e.endAccesses.slice(),this}}e("ao",us);class _s{constructor(e=Kr.UNKNOWN,t=ca.X1,n=va.CLEAR,i=ga.STORE,o=va.CLEAR,r=ga.STORE,a=[],s=[Aa.DEPTH_STENCIL_ATTACHMENT_WRITE]){this.format=e,this.sampleCount=t,this.depthLoadOp=n,this.depthStoreOp=i,this.stencilLoadOp=o,this.stencilStoreOp=r,this.beginAccesses=a,this.endAccesses=s}copy(e){return this.format=e.format,this.sampleCount=e.sampleCount,this.depthLoadOp=e.depthLoadOp,this.depthStoreOp=e.depthStoreOp,this.stencilLoadOp=e.stencilLoadOp,this.stencilStoreOp=e.stencilStoreOp,this.beginAccesses=e.beginAccesses.slice(),this.endAccesses=e.endAccesses.slice(),this}}e("ap",_s);class fs{constructor(e=[],t=[],n=[],i=[],o=-1){this.inputs=e,this.colors=t,this.resolves=n,this.preserves=i,this.depthStencil=o}copy(e){return this.inputs=e.inputs.slice(),this.colors=e.colors.slice(),this.resolves=e.resolves.slice(),this.preserves=e.preserves.slice(),this.depthStencil=e.depthStencil,this}}e("aq",fs);class hs{constructor(e=[],t=new _s,n=[]){this.colorAttachments=e,this.depthStencilAttachment=t,this.subpasses=n}copy(e){return qr(this.colorAttachments,e.colorAttachments,us),this.depthStencilAttachment.copy(e.depthStencilAttachment),qr(this.subpasses,e.subpasses,fs),this}}e("ar",hs);class ms{constructor(e=[],t=[]){this.prevAccesses=e,this.nextAccesses=t}copy(e){return this.prevAccesses=e.prevAccesses.slice(),this.nextAccesses=e.nextAccesses.slice(),this}}e("G",ms);class ds{constructor(e=[],t=[],n=!1,i=null,o=null){this.prevAccesses=e,this.nextAccesses=t,this.discardContents=n,this.srcQueue=i,this.dstQueue=o}copy(e){return this.prevAccesses=e.prevAccesses.slice(),this.nextAccesses=e.nextAccesses.slice(),this.discardContents=e.discardContents,this.srcQueue=e.srcQueue,this.dstQueue=e.dstQueue,this}}e("T",ds);class vs{constructor(e=null,t=[],n=null,i=[],o=0){this.renderPass=e,this.colorTextures=t,this.depthStencilTexture=n,this.colorMipmapLevels=i,this.depthStencilMipmapLevel=o}copy(e){return this.renderPass=e.renderPass,this.colorTextures=e.colorTextures.slice(),this.depthStencilTexture=e.depthStencilTexture,this.colorMipmapLevels=e.colorMipmapLevels.slice(),this.depthStencilMipmapLevel=e.depthStencilMipmapLevel,this}}e("as",vs);class gs{constructor(e=-1,t=Ta.UNKNOWN,n=0,i=da.NONE,o=[]){this.binding=e,this.descriptorType=t,this.count=n,this.stageFlags=i,this.immutableSamplers=o}copy(e){return this.binding=e.binding,this.descriptorType=e.descriptorType,this.count=e.count,this.stageFlags=e.stageFlags,this.immutableSamplers=e.immutableSamplers.slice(),this}}e("at",gs);class As{constructor(e=[]){this.bindings=e}copy(e){return qr(this.bindings,e.bindings,gs),this}}e("au",As);class ys{constructor(e=null){this.layout=e}copy(e){return this.layout=e.layout,this}}e("av",ys);class xs{constructor(e=[]){this.setLayouts=e}copy(e){return this.setLayouts=e.setLayouts.slice(),this}}e("aw",xs);class bs{constructor(e=[]){this.attributes=e}copy(e){return qr(this.attributes,e.attributes,cs),this}}e("ax",bs);class Cs{constructor(e=null,t=Ia.PRIMARY){this.queue=e,this.type=t}copy(e){return this.queue=e.queue,this.type=e.type,this}}e("ay",Cs);class Ss{constructor(e=Pa.GRAPHICS){this.type=e}copy(e){return this.type=e.type,this}}e("az",Ss);class Es{constructor(e="",t=0,n=0,i=$r.NONE,o=!1,r=!1,a=!1,s=!1){this.name=e,this.size=t,this.count=n,this.type=i,this.hasAlpha=o,this.hasDepth=r,this.hasStencil=a,this.isCompressed=s}}e("aA",Es);class ws{constructor(e=0,t=0){this.bufferSize=e,this.textureSize=t}copy(e){return this.bufferSize=e.bufferSize,this.textureSize=e.textureSize,this}}e("aB",ws);class Ts{get gfxType(){return this._gfxType}constructor(e){this._gfxType=Yr.UNKNOWN,this._gfxType=e}}e("O",Ts);class Ps{constructor(e,t=!0,n=!0,i=1,o=1,r=1,a=new Va){this.canvasElm=e,this.isAntialias=t,this.isPremultipliedAlpha=n,this.devicePixelRatio=i,this.nativeWidth=o,this.nativeHeight=r,this.bindingMappingInfo=a}}e("aC",Ps),function(e){e.ATTR_POSITION="a_position",e.ATTR_NORMAL="a_normal",e.ATTR_TANGENT="a_tangent",e.ATTR_BITANGENT="a_bitangent",e.ATTR_WEIGHTS="a_weights",e.ATTR_JOINTS="a_joints",e.ATTR_COLOR="a_color",e.ATTR_COLOR1="a_color1",e.ATTR_COLOR2="a_color2",e.ATTR_TEX_COORD="a_texCoord",e.ATTR_TEX_COORD1="a_texCoord1",e.ATTR_TEX_COORD2="a_texCoord2",e.ATTR_TEX_COORD3="a_texCoord3",e.ATTR_TEX_COORD4="a_texCoord4",e.ATTR_TEX_COORD5="a_texCoord5",e.ATTR_TEX_COORD6="a_texCoord6",e.ATTR_TEX_COORD7="a_texCoord7",e.ATTR_TEX_COORD8="a_texCoord8",e.ATTR_BATCH_ID="a_batch_id",e.ATTR_BATCH_UV="a_batch_uv"}(Na||(Na=e("aD",{})));const Is=e("aE",Object.freeze([new Es("UNKNOWN",0,0,$r.NONE,!1,!1,!1,!1),new Es("A8",1,1,$r.UNORM,!0,!1,!1,!1),new Es("L8",1,1,$r.UNORM,!1,!1,!1,!1),new Es("LA8",1,2,$r.UNORM,!0,!1,!1,!1),new Es("R8",1,1,$r.UNORM,!1,!1,!1,!1),new Es("R8SN",1,1,$r.SNORM,!1,!1,!1,!1),new Es("R8UI",1,1,$r.UINT,!1,!1,!1,!1),new Es("R8I",1,1,$r.INT,!1,!1,!1,!1),new Es("R16F",2,1,$r.FLOAT,!1,!1,!1,!1),new Es("R16UI",2,1,$r.UINT,!1,!1,!1,!1),new Es("R16I",2,1,$r.INT,!1,!1,!1,!1),new Es("R32F",4,1,$r.FLOAT,!1,!1,!1,!1),new Es("R32UI",4,1,$r.UINT,!1,!1,!1,!1),new Es("R32I",4,1,$r.INT,!1,!1,!1,!1),new Es("RG8",2,2,$r.UNORM,!1,!1,!1,!1),new Es("RG8SN",2,2,$r.SNORM,!1,!1,!1,!1),new Es("RG8UI",2,2,$r.UINT,!1,!1,!1,!1),new Es("RG8I",2,2,$r.INT,!1,!1,!1,!1),new Es("RG16F",4,2,$r.FLOAT,!1,!1,!1,!1),new Es("RG16UI",4,2,$r.UINT,!1,!1,!1,!1),new Es("RG16I",4,2,$r.INT,!1,!1,!1,!1),new Es("RG32F",8,2,$r.FLOAT,!1,!1,!1,!1),new Es("RG32UI",8,2,$r.UINT,!1,!1,!1,!1),new Es("RG32I",8,2,$r.INT,!1,!1,!1,!1),new Es("RGB8",3,3,$r.UNORM,!1,!1,!1,!1),new Es("SRGB8",3,3,$r.UNORM,!1,!1,!1,!1),new Es("RGB8SN",3,3,$r.SNORM,!1,!1,!1,!1),new Es("RGB8UI",3,3,$r.UINT,!1,!1,!1,!1),new Es("RGB8I",3,3,$r.INT,!1,!1,!1,!1),new Es("RGB16F",6,3,$r.FLOAT,!1,!1,!1,!1),new Es("RGB16UI",6,3,$r.UINT,!1,!1,!1,!1),new Es("RGB16I",6,3,$r.INT,!1,!1,!1,!1),new Es("RGB32F",12,3,$r.FLOAT,!1,!1,!1,!1),new Es("RGB32UI",12,3,$r.UINT,!1,!1,!1,!1),new Es("RGB32I",12,3,$r.INT,!1,!1,!1,!1),new Es("RGBA8",4,4,$r.UNORM,!0,!1,!1,!1),new Es("BGRA8",4,4,$r.UNORM,!0,!1,!1,!1),new Es("SRGB8_A8",4,4,$r.UNORM,!0,!1,!1,!1),new Es("RGBA8SN",4,4,$r.SNORM,!0,!1,!1,!1),new Es("RGBA8UI",4,4,$r.UINT,!0,!1,!1,!1),new Es("RGBA8I",4,4,$r.INT,!0,!1,!1,!1),new Es("RGBA16F",8,4,$r.FLOAT,!0,!1,!1,!1),new Es("RGBA16UI",8,4,$r.UINT,!0,!1,!1,!1),new Es("RGBA16I",8,4,$r.INT,!0,!1,!1,!1),new Es("RGBA32F",16,4,$r.FLOAT,!0,!1,!1,!1),new Es("RGBA32UI",16,4,$r.UINT,!0,!1,!1,!1),new Es("RGBA32I",16,4,$r.INT,!0,!1,!1,!1),new Es("R5G6B5",2,3,$r.UNORM,!1,!1,!1,!1),new Es("R11G11B10F",4,3,$r.FLOAT,!1,!1,!1,!1),new Es("RGB5A1",2,4,$r.UNORM,!0,!1,!1,!1),new Es("RGBA4",2,4,$r.UNORM,!0,!1,!1,!1),new Es("RGB10A2",2,4,$r.UNORM,!0,!1,!1,!1),new Es("RGB10A2UI",2,4,$r.UINT,!0,!1,!1,!1),new Es("RGB9E5",2,4,$r.FLOAT,!0,!1,!1,!1),new Es("D16",2,1,$r.UINT,!1,!0,!1,!1),new Es("D16S8",3,2,$r.UINT,!1,!0,!0,!1),new Es("D24",3,1,$r.UINT,!1,!0,!1,!1),new Es("D24S8",4,2,$r.UINT,!1,!0,!0,!1),new Es("D32F",4,1,$r.FLOAT,!1,!0,!1,!1),new Es("D32FS8",5,2,$r.FLOAT,!1,!0,!0,!1),new Es("BC1",1,3,$r.UNORM,!1,!1,!1,!0),new Es("BC1_ALPHA",1,4,$r.UNORM,!0,!1,!1,!0),new Es("BC1_SRGB",1,3,$r.UNORM,!1,!1,!1,!0),new Es("BC1_SRGB_ALPHA",1,4,$r.UNORM,!0,!1,!1,!0),new Es("BC2",1,4,$r.UNORM,!0,!1,!1,!0),new Es("BC2_SRGB",1,4,$r.UNORM,!0,!1,!1,!0),new Es("BC3",1,4,$r.UNORM,!0,!1,!1,!0),new Es("BC3_SRGB",1,4,$r.UNORM,!0,!1,!1,!0),new Es("BC4",1,1,$r.UNORM,!1,!1,!1,!0),new Es("BC4_SNORM",1,1,$r.SNORM,!1,!1,!1,!0),new Es("BC5",1,2,$r.UNORM,!1,!1,!1,!0),new Es("BC5_SNORM",1,2,$r.SNORM,!1,!1,!1,!0),new Es("BC6H_UF16",1,3,$r.UFLOAT,!1,!1,!1,!0),new Es("BC6H_SF16",1,3,$r.FLOAT,!1,!1,!1,!0),new Es("BC7",1,4,$r.UNORM,!0,!1,!1,!0),new Es("BC7_SRGB",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ETC_RGB8",1,3,$r.UNORM,!1,!1,!1,!0),new Es("ETC2_RGB8",1,3,$r.UNORM,!1,!1,!1,!0),new Es("ETC2_SRGB8",1,3,$r.UNORM,!1,!1,!1,!0),new Es("ETC2_RGB8_A1",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ETC2_SRGB8_A1",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ETC2_RGBA8",2,4,$r.UNORM,!0,!1,!1,!0),new Es("ETC2_SRGB8_A8",2,4,$r.UNORM,!0,!1,!1,!0),new Es("EAC_R11",1,1,$r.UNORM,!1,!1,!1,!0),new Es("EAC_R11SN",1,1,$r.SNORM,!1,!1,!1,!0),new Es("EAC_RG11",2,2,$r.UNORM,!1,!1,!1,!0),new Es("EAC_RG11SN",2,2,$r.SNORM,!1,!1,!1,!0),new Es("PVRTC_RGB2",2,3,$r.UNORM,!1,!1,!1,!0),new Es("PVRTC_RGBA2",2,4,$r.UNORM,!0,!1,!1,!0),new Es("PVRTC_RGB4",2,3,$r.UNORM,!1,!1,!1,!0),new Es("PVRTC_RGBA4",2,4,$r.UNORM,!0,!1,!1,!0),new Es("PVRTC2_2BPP",2,4,$r.UNORM,!0,!1,!1,!0),new Es("PVRTC2_4BPP",2,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_4x4",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_5x4",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_5x5",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_6x5",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_6x6",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_8x5",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_8x6",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_8x8",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_10x5",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_10x6",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_10x8",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_10x10",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_12x10",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_RGBA_12x12",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_4x4",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_5x4",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_5x5",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_6x5",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_6x6",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_8x5",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_8x6",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_8x8",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_10x5",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_10x6",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_10x8",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_10x10",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_12x10",1,4,$r.UNORM,!0,!1,!1,!0),new Es("ASTC_SRGBA_12x12",1,4,$r.UNORM,!0,!1,!1,!0)])),Rs=e("D",Ta.UNIFORM_BUFFER|Ta.DYNAMIC_UNIFORM_BUFFER|Ta.STORAGE_BUFFER|Ta.DYNAMIC_STORAGE_BUFFER),Ns=e("b",Ta.SAMPLER_TEXTURE|Ta.SAMPLER|Ta.TEXTURE|Ta.STORAGE_IMAGE|Ta.INPUT_ATTACHMENT),Ds=e("aF",Ta.DYNAMIC_STORAGE_BUFFER|Ta.DYNAMIC_UNIFORM_BUFFER),Ms=e("aG",28);function Os(e){return e>0&&0==(e&e-1)}function Ls(e,t,n,i){if(!Is[e].isCompressed)return t*n*i*Is[e].size;switch(e){case Kr.BC1:case Kr.BC1_ALPHA:case Kr.BC1_SRGB:case Kr.BC1_SRGB_ALPHA:return Math.ceil(t/4)*Math.ceil(n/4)*8*i;case Kr.BC2:case Kr.BC2_SRGB:case Kr.BC3:case Kr.BC3_SRGB:case Kr.BC4:case Kr.BC4_SNORM:case Kr.BC6H_SF16:case Kr.BC6H_UF16:case Kr.BC7:case Kr.BC7_SRGB:return Math.ceil(t/4)*Math.ceil(n/4)*16*i;case Kr.BC5:case Kr.BC5_SNORM:return Math.ceil(t/4)*Math.ceil(n/4)*32*i;case Kr.ETC_RGB8:case Kr.ETC2_RGB8:case Kr.ETC2_SRGB8:case Kr.ETC2_RGB8_A1:case Kr.EAC_R11:case Kr.EAC_R11SN:return Math.ceil(t/4)*Math.ceil(n/4)*8*i;case Kr.ETC2_RGBA8:case Kr.ETC2_SRGB8_A1:case Kr.EAC_RG11:case Kr.EAC_RG11SN:return Math.ceil(t/4)*Math.ceil(n/4)*16*i;case Kr.PVRTC_RGB2:case Kr.PVRTC_RGBA2:case Kr.PVRTC2_2BPP:return Math.ceil(Math.max(t,16)*Math.max(n,8)/4)*i;case Kr.PVRTC_RGB4:case Kr.PVRTC_RGBA4:case Kr.PVRTC2_4BPP:return Math.ceil(Math.max(t,8)*Math.max(n,8)/2)*i;case Kr.ASTC_RGBA_4x4:case Kr.ASTC_SRGBA_4x4:return Math.ceil(t/4)*Math.ceil(n/4)*16*i;case Kr.ASTC_RGBA_5x4:case Kr.ASTC_SRGBA_5x4:return Math.ceil(t/5)*Math.ceil(n/4)*16*i;case Kr.ASTC_RGBA_5x5:case Kr.ASTC_SRGBA_5x5:return Math.ceil(t/5)*Math.ceil(n/5)*16*i;case Kr.ASTC_RGBA_6x5:case Kr.ASTC_SRGBA_6x5:return Math.ceil(t/6)*Math.ceil(n/5)*16*i;case Kr.ASTC_RGBA_6x6:case Kr.ASTC_SRGBA_6x6:return Math.ceil(t/6)*Math.ceil(n/6)*16*i;case Kr.ASTC_RGBA_8x5:case Kr.ASTC_SRGBA_8x5:return Math.ceil(t/8)*Math.ceil(n/5)*16*i;case Kr.ASTC_RGBA_8x6:case Kr.ASTC_SRGBA_8x6:return Math.ceil(t/8)*Math.ceil(n/6)*16*i;case Kr.ASTC_RGBA_8x8:case Kr.ASTC_SRGBA_8x8:return Math.ceil(t/8)*Math.ceil(n/8)*16*i;case Kr.ASTC_RGBA_10x5:case Kr.ASTC_SRGBA_10x5:return Math.ceil(t/10)*Math.ceil(n/5)*16*i;case Kr.ASTC_RGBA_10x6:case Kr.ASTC_SRGBA_10x6:return Math.ceil(t/10)*Math.ceil(n/6)*16*i;case Kr.ASTC_RGBA_10x8:case Kr.ASTC_SRGBA_10x8:return Math.ceil(t/10)*Math.ceil(n/8)*16*i;case Kr.ASTC_RGBA_10x10:case Kr.ASTC_SRGBA_10x10:return Math.ceil(t/10)*Math.ceil(n/10)*16*i;case Kr.ASTC_RGBA_12x10:case Kr.ASTC_SRGBA_12x10:return Math.ceil(t/12)*Math.ceil(n/10)*16*i;case Kr.ASTC_RGBA_12x12:case Kr.ASTC_SRGBA_12x12:return Math.ceil(t/12)*Math.ceil(n/12)*16*i;default:return 0}}function zs(e,t,n,i,o){let r=0;for(let a=0;a<o;++a)r+=Ls(e,t,n,i),t=Math.max(t>>1,1),n=Math.max(n>>1,1);return r}const Fs=[0,4,8,12,16,4,8,12,16,4,8,12,16,4,8,12,16,16,24,32,24,36,48,32,48,64,4,4,4,4,4,4];function Bs(e){return Fs[e]||0}function Us(e){const t=e.size/e.count;switch(e.type){case $r.UNORM:case $r.UINT:switch(t){case 1:return Uint8Array;case 2:return Uint16Array;case 4:return Uint32Array}break;case $r.SNORM:case $r.INT:switch(t){case 1:return Int8Array;case 2:return Int16Array;case 4:return Int32Array}break;case $r.FLOAT:return Float32Array}return Float32Array}var js=Object.freeze({__proto__:null,get ObjectType(){return Yr},get Status(){return Xr},get API(){return Qr},get SurfaceTransform(){return Zr},get Feature(){return Jr},get Format(){return Kr},get FormatType(){return $r},get Type(){return ea},get BufferUsageBit(){return ta},get BufferFlagBit(){return na},get MemoryAccessBit(){return ia},get MemoryUsageBit(){return oa},get TextureType(){return ra},get TextureUsageBit(){return aa},get TextureFlagBit(){return sa},get SampleCount(){return ca},get Filter(){return la},get Address(){return pa},get ComparisonFunc(){return ua},get StencilOp(){return _a},get BlendFactor(){return fa},get BlendOp(){return ha},get ColorMask(){return ma},get ShaderStageFlagBit(){return da},get LoadOp(){return va},get StoreOp(){return ga},get AccessType(){return Aa},get PipelineBindPoint(){return ya},get PrimitiveMode(){return xa},get PolygonMode(){return ba},get ShadeModel(){return Ca},get CullMode(){return Sa},get DynamicStateFlagBit(){return Ea},get StencilFace(){return wa},get DescriptorType(){return Ta},get QueueType(){return Pa},get CommandBufferType(){return Ia},get ClearFlagBit(){return Ra},Size:Da,DeviceCaps:Ma,Offset:Oa,Rect:La,Extent:za,TextureSubresLayers:Fa,TextureSubresRange:Ba,TextureCopy:Ua,TextureBlit:ja,BufferTextureCopy:ka,Viewport:Ga,Color:Ha,BindingMappingInfo:Va,BufferInfo:Wa,BufferViewInfo:qa,DrawInfo:Ya,DispatchInfo:Xa,IndirectBuffer:Qa,TextureInfo:Za,TextureViewInfo:Ja,SamplerInfo:Ka,Uniform:$a,UniformBlock:es,UniformSamplerTexture:ts,UniformSampler:ns,UniformTexture:is,UniformStorageImage:os,UniformStorageBuffer:rs,UniformInputAttachment:as,ShaderStage:ss,Attribute:cs,ShaderInfo:ls,InputAssemblerInfo:ps,ColorAttachment:us,DepthStencilAttachment:_s,SubpassInfo:fs,RenderPassInfo:hs,GlobalBarrierInfo:ms,TextureBarrierInfo:ds,FramebufferInfo:vs,DescriptorSetLayoutBinding:gs,DescriptorSetLayoutInfo:As,DescriptorSetInfo:ys,PipelineLayoutInfo:xs,InputState:bs,CommandBufferInfo:Cs,QueueInfo:Ss,FormatInfo:Es,MemoryStatus:ws,Obj:Ts,DeviceInfo:Ps,get AttributeName(){return Na},FormatInfos:Is,DESCRIPTOR_BUFFER_TYPE:Rs,DESCRIPTOR_SAMPLER_TYPE:Ns,DESCRIPTOR_DYNAMIC_TYPE:Ds,DRAW_INFO_SIZE:Ms,IsPowerOf2:Os,FormatSize:Ls,FormatSurfaceSize:zs,GetTypeSize:Bs,getTypedArrayConstructor:Us});class ks{constructor(e=!1,t=ba.FILL,n=Ca.GOURAND,i=Sa.BACK,o=!0,r=!1,a=0,s=0,c=0,l=!0,p=!1,u=1){this.h=void 0,this.h=hr.alloc(),this.assignProperties(e,t,n,i,o,r,a,s,c,l,p,u)}get isDiscard(){return!!hr.get(this.h,_r.IS_DISCARD)}set isDiscard(e){hr.set(this.h,_r.IS_DISCARD,e?1:0)}get polygonMode(){return hr.get(this.h,_r.POLYGO_MODEL)}set polygonMode(e){hr.set(this.h,_r.POLYGO_MODEL,e)}get shadeModel(){return hr.get(this.h,_r.SHADE_MODEL)}set shadeModel(e){hr.set(this.h,_r.SHADE_MODEL,e)}get cullMode(){return hr.get(this.h,_r.CULL_MODE)}set cullMode(e){hr.set(this.h,_r.CULL_MODE,e)}get isFrontFaceCCW(){return!!hr.get(this.h,_r.IS_FRONT_FACE_CCW)}set isFrontFaceCCW(e){hr.set(this.h,_r.IS_FRONT_FACE_CCW,e?1:0)}get depthBiasEnabled(){return!!hr.get(this.h,_r.DEPTH_BIAS_ENABLED)}set depthBiasEnabled(e){hr.set(this.h,_r.DEPTH_BIAS_ENABLED,e?1:0)}get depthBias(){return hr.get(this.h,_r.DEPTH_BIAS)}set depthBias(e){hr.set(this.h,_r.DEPTH_BIAS,e)}get depthBiasClamp(){return hr.get(this.h,_r.DEPTH_BIAS_CLAMP)}set depthBiasClamp(e){hr.set(this.h,_r.DEPTH_BIAS_CLAMP,e)}get depthBiasSlop(){return hr.get(this.h,_r.DEPTH_BIAS_SLOP)}set depthBiasSlop(e){hr.set(this.h,_r.DEPTH_BIAS_SLOP,e)}get isDepthClip(){return!!hr.get(this.h,_r.IS_DEPTH_CLIP)}set isDepthClip(e){hr.set(this.h,_r.IS_DEPTH_CLIP,e?1:0)}get isMultisample(){return!!hr.get(this.h,_r.IS_MULTI_SAMPLE)}set isMultisample(e){hr.set(this.h,_r.IS_MULTI_SAMPLE,e?1:0)}get lineWidth(){return hr.get(this.h,_r.LINE_WIDTH)}set lineWidth(e){hr.set(this.h,_r.LINE_WIDTH,e)}get handle(){return this.h}reset(){this.assignProperties(!1,ba.FILL,Ca.GOURAND,Sa.BACK,!0,!1,0,0,0,!0,!1,1)}assign(e){e&&this.assignProperties(e.isDiscard,e.polygonMode,e.shadeModel,e.cullMode,e.isFrontFaceCCW,e.depthBiasEnabled,e.depthBias,e.depthBiasClamp,e.depthBiasSlop,e.isDepthClip,e.isMultisample,e.lineWidth)}destroy(){this.h&&(hr.free(this.h),this.h=Hi)}assignProperties(e,t,n,i,o,r,a,s,c,l,p,u){void 0!==e&&(this.isDiscard=e),void 0!==t&&(this.polygonMode=t),void 0!==n&&(this.shadeModel=n),void 0!==i&&(this.cullMode=i),void 0!==o&&(this.isFrontFaceCCW=o),void 0!==r&&(this.depthBiasEnabled=r),void 0!==a&&(this.depthBias=a),void 0!==s&&(this.depthBiasClamp=s),void 0!==c&&(this.depthBiasSlop=c),void 0!==l&&(this.isDepthClip=l),void 0!==p&&(this.isMultisample=p),void 0!==u&&(this.lineWidth=u)}}class Gs{constructor(e=!0,t=!0,n=ua.LESS,i=!1,o=ua.ALWAYS,r=65535,a=65535,s=_a.KEEP,c=_a.KEEP,l=_a.KEEP,p=1,u=!1,_=ua.ALWAYS,f=65535,h=65535,m=_a.KEEP,d=_a.KEEP,v=_a.KEEP,g=1){this.h=void 0,this.h=vr.alloc(),this.assignProperties(e,t,n,i,o,r,a,s,c,l,p,u,_,f,h,m,d,v,g)}get depthTest(){return!!vr.get(this.h,mr.DEPTH_TEST)}set depthTest(e){vr.set(this.h,mr.DEPTH_TEST,e?1:0)}get depthWrite(){return!!vr.get(this.h,mr.DEPTH_WRITE)}set depthWrite(e){vr.set(this.h,mr.DEPTH_WRITE,e?1:0)}get depthFunc(){return vr.get(this.h,mr.DEPTH_FUNC)}set depthFunc(e){vr.set(this.h,mr.DEPTH_FUNC,e)}get stencilTestFront(){return!!vr.get(this.h,mr.STENCIL_TEST_FRONT)}set stencilTestFront(e){vr.set(this.h,mr.STENCIL_TEST_FRONT,e?1:0)}get stencilFuncFront(){return vr.get(this.h,mr.STENCIL_FUNC_FRONT)}set stencilFuncFront(e){vr.set(this.h,mr.STENCIL_FUNC_FRONT,e)}get stencilReadMaskFront(){return vr.get(this.h,mr.STENCIL_READ_MASK_FRONT)}set stencilReadMaskFront(e){vr.set(this.h,mr.STENCIL_READ_MASK_FRONT,e)}get stencilWriteMaskFront(){return vr.get(this.h,mr.STENCIL_WRITE_MASK_FRONT)}set stencilWriteMaskFront(e){vr.set(this.h,mr.STENCIL_WRITE_MASK_FRONT,e)}get stencilFailOpFront(){return vr.get(this.h,mr.STENCIL_FAIL_OP_FRONT)}set stencilFailOpFront(e){vr.set(this.h,mr.STENCIL_FAIL_OP_FRONT,e)}get stencilZFailOpFront(){return vr.get(this.h,mr.STENCIL_Z_FAIL_OP_FRONT)}set stencilZFailOpFront(e){vr.set(this.h,mr.STENCIL_Z_FAIL_OP_FRONT,e)}get stencilPassOpFront(){return vr.get(this.h,mr.STENCIL_PASS_OP_FRONT)}set stencilPassOpFront(e){vr.set(this.h,mr.STENCIL_PASS_OP_FRONT,e)}get stencilRefFront(){return vr.get(this.h,mr.STENCIL_REF_FRONT)}set stencilRefFront(e){vr.set(this.h,mr.STENCIL_REF_FRONT,e)}get stencilTestBack(){return!!vr.get(this.h,mr.STENCIL_TEST_BACK)}set stencilTestBack(e){vr.set(this.h,mr.STENCIL_TEST_BACK,e?1:0)}get stencilFuncBack(){return vr.get(this.h,mr.STENCIL_FUNC_BACK)}set stencilFuncBack(e){vr.set(this.h,mr.STENCIL_FUNC_BACK,e)}get stencilReadMaskBack(){return vr.get(this.h,mr.STENCIL_READ_MADK_BACK)}set stencilReadMaskBack(e){vr.set(this.h,mr.STENCIL_READ_MADK_BACK,e)}get stencilWriteMaskBack(){return vr.get(this.h,mr.STENCIL_WRITE_MASK_BACK)}set stencilWriteMaskBack(e){vr.set(this.h,mr.STENCIL_WRITE_MASK_BACK,e)}get stencilFailOpBack(){return vr.get(this.h,mr.STENCIL_FAIL_OP_BACK)}set stencilFailOpBack(e){vr.set(this.h,mr.STENCIL_FAIL_OP_BACK,e)}get stencilZFailOpBack(){return vr.get(this.h,mr.STENCIL_Z_FAIL_OP_BACK)}set stencilZFailOpBack(e){vr.set(this.h,mr.STENCIL_Z_FAIL_OP_BACK,e)}get stencilPassOpBack(){return vr.get(this.h,mr.STENCIL_PASS_OP_BACK)}set stencilPassOpBack(e){vr.set(this.h,mr.STENCIL_PASS_OP_BACK,e)}get stencilRefBack(){return vr.get(this.h,mr.STENCIL_REF_BACK)}set stencilRefBack(e){vr.set(this.h,mr.STENCIL_REF_BACK,e)}get handle(){return this.h}reset(){this.assignProperties(!0,!0,ua.LESS,!1,ua.ALWAYS,65535,65535,_a.KEEP,_a.KEEP,_a.KEEP,1,!1,ua.ALWAYS,65535,65535,_a.KEEP,_a.KEEP,_a.KEEP,1)}assign(e){e&&this.assignProperties(e.depthTest,e.depthWrite,e.depthFunc,e.stencilTestFront,e.stencilFuncFront,e.stencilReadMaskFront,e.stencilWriteMaskFront,e.stencilFailOpFront,e.stencilZFailOpFront,e.stencilPassOpFront,e.stencilRefFront,e.stencilTestBack,e.stencilFuncBack,e.stencilReadMaskBack,e.stencilWriteMaskBack,e.stencilFailOpBack,e.stencilZFailOpBack,e.stencilPassOpBack,e.stencilRefBack)}destroy(){vr.free(this.h),this.h=Hi}assignProperties(e,t,n,i,o,r,a,s,c,l,p,u,_,f,h,m,d,v,g){void 0!==e&&(this.depthTest=e),void 0!==t&&(this.depthWrite=t),void 0!==n&&(this.depthFunc=n),void 0!==i&&(this.stencilTestFront=i),void 0!==o&&(this.stencilFuncFront=o),void 0!==r&&(this.stencilReadMaskFront=r),void 0!==a&&(this.stencilWriteMaskFront=a),void 0!==s&&(this.stencilFailOpFront=s),void 0!==c&&(this.stencilZFailOpFront=c),void 0!==l&&(this.stencilPassOpFront=l),void 0!==p&&(this.stencilRefFront=p),void 0!==u&&(this.stencilTestBack=u),void 0!==_&&(this.stencilFuncBack=_),void 0!==f&&(this.stencilReadMaskBack=f),void 0!==h&&(this.stencilWriteMaskBack=h),void 0!==m&&(this.stencilFailOpBack=m),void 0!==d&&(this.stencilZFailOpBack=d),void 0!==v&&(this.stencilPassOpBack=v),void 0!==g&&(this.stencilRefBack=g)}}class Hs{constructor(e=!1,t=fa.ONE,n=fa.ZERO,i=ha.ADD,o=fa.ONE,r=fa.ZERO,a=ha.ADD,s=ma.ALL){this.h=void 0,this.h=Ar.alloc(),this.assignProperties(e,t,n,i,o,r,a,s)}get blend(){return!!Ar.get(this.h,gr.BLEND)}set blend(e){Ar.set(this.h,gr.BLEND,e?1:0)}get blendSrc(){return Ar.get(this.h,gr.BLEND_SRC)}set blendSrc(e){Ar.set(this.h,gr.BLEND_SRC,e)}get blendDst(){return Ar.get(this.h,gr.BLEND_DST)}set blendDst(e){Ar.set(this.h,gr.BLEND_DST,e)}get blendEq(){return Ar.get(this.h,gr.BLEND_EQ)}set blendEq(e){Ar.set(this.h,gr.BLEND_EQ,e)}get blendSrcAlpha(){return Ar.get(this.h,gr.BLEND_SRC_ALPHA)}set blendSrcAlpha(e){Ar.set(this.h,gr.BLEND_SRC_ALPHA,e)}get blendDstAlpha(){return Ar.get(this.h,gr.BLEND_DST_ALPHA)}set blendDstAlpha(e){Ar.set(this.h,gr.BLEND_DST_ALPHA,e)}get blendAlphaEq(){return Ar.get(this.h,gr.BLEND_ALPHA_EQ)}set blendAlphaEq(e){Ar.set(this.h,gr.BLEND_ALPHA_EQ,e)}get blendColorMask(){return Ar.get(this.h,gr.BLEND_COLOR_MASK)}set blendColorMask(e){Ar.set(this.h,gr.BLEND_COLOR_MASK,e)}get handle(){return this.h}reset(){this.assignProperties(!1,fa.ONE,fa.ZERO,ha.ADD,fa.ONE,fa.ZERO,ha.ADD,ma.ALL)}destroy(){Ar.free(this.h),this.h=Hi}assign(e){e&&this.assignProperties(e.blend,e.blendSrc,e.blendDst,e.blendEq,e.blendSrcAlpha,e.blendDstAlpha,e.blendAlphaEq,e.blendColorMask)}assignProperties(e,t,n,i,o,r,a,s){void 0!==e&&(this.blend=e),void 0!==t&&(this.blendSrc=t),void 0!==n&&(this.blendDst=n),void 0!==i&&(this.blendEq=i),void 0!==o&&(this.blendSrcAlpha=o),void 0!==r&&(this.blendDstAlpha=r),void 0!==a&&(this.blendAlphaEq=a),void 0!==s&&(this.blendColorMask=s)}}class Vs{constructor(e=!1,t=!1,n=new Ha,i=[new Hs]){this.h=void 0,this.hBt=void 0,this.targets=void 0,this._blendColor=void 0,this.h=br.alloc(),this.targets=i,this.blendColor=n,this.isA2c=e,this.isIndepend=t,this.blendColor=n,this.hBt=eo.alloc(),br.set(this.h,yr.BLEND_TARGET,this.hBt);for(let e=0,t=i.length;e<t;++e)eo.push(this.hBt,i[e].handle)}get isA2c(){return!!br.get(this.h,yr.IS_A2C)}set isA2c(e){br.set(this.h,yr.IS_A2C,e?1:0)}get isIndepend(){return!!br.get(this.h,yr.IS_INDEPEND)}set isIndepend(e){br.set(this.h,yr.IS_INDEPEND,e?1:0)}get blendColor(){return this._blendColor}set blendColor(e){this._blendColor=e,br.setVec4(this.h,yr.BLEND_COLOR,e)}get handle(){return this.h}setTarget(e,t){let n=this.targets[e];n||(n=this.targets[e]=new Hs,eo.assign(this.hBt,e,n.handle)),n.assign(t)}reset(){this.isA2c=!1,this.isIndepend=!1,br.setVec4(this.h,yr.BLEND_COLOR,new Ha(0,0,0,0));const e=this.targets;for(let t=1,n=e.length;t<n;++t)e[t].destroy();e.length=1,e[0].reset(),eo.clear(this.hBt),eo.push(this.hBt,e[0].handle)}destroy(){br.free(this.h),this.h=Hi,eo.free(this.hBt),this.hBt=Hi;for(let e=0,t=this.targets.length;e<t;++e)this.targets[e].destroy();this.targets=null}}const Ws=gfx.PipelineState,qs=gfx.PipelineStateInfo;Ke(Kr),e("aM",class{constructor(){this._canvas=null,this._canvas2D=null,this._gfxAPI=Qr.UNKNOWN,this._transform=Zr.IDENTITY,this._deviceName="",this._renderer="",this._vendor="",this._version="",this._features=new Array(Jr.COUNT),this._queue=null,this._cmdBuff=null,this._devicePixelRatio=1,this._width=0,this._height=0,this._nativeWidth=0,this._nativeHeight=0,this._colorFmt=Kr.UNKNOWN,this._depthStencilFmt=Kr.UNKNOWN,this._numDrawCalls=0,this._numInstances=0,this._numTris=0,this._memoryStatus=new ws,this._caps=new Ma}get canvas(){return this._canvas}get canvas2D(){return this._canvas2D}get gfxAPI(){return this._gfxAPI}get queue(){return this._queue}get commandBuffer(){return this._cmdBuff}get devicePixelRatio(){return this._devicePixelRatio}get width(){return this._width}get height(){return this._height}get nativeWidth(){return this._nativeWidth}get nativeHeight(){return this._nativeHeight}get renderer(){return this._renderer}get vendor(){return this._vendor}get colorFormat(){return this._colorFmt}get depthStencilFormat(){return this._depthStencilFmt}get numDrawCalls(){return this._numDrawCalls}get numInstances(){return this._numInstances}get numTris(){return this._numTris}get memoryStatus(){return this._memoryStatus}get capabilities(){return this._caps}get surfaceTransform(){return this._transform}hasFeature(e){return this._features[e]}});const Ys=String.prototype.charCodeAt;function Xs(e){return this[e]}function Qs(e,t){let n=e.length,i=t^n,o=0;const r="string"==typeof e?Ys:Xs;for(;n>=4;){let t=255&r.call(e,o)|(255&r.call(e,++o))<<8|(255&r.call(e,++o))<<16|(255&r.call(e,++o))<<24;t=1540483477*(65535&t)+((1540483477*(t>>>16)&65535)<<16),t^=t>>>24,t=1540483477*(65535&t)+((1540483477*(t>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^t,n-=4,++o}switch(n){case 3:i^=(255&r.call(e,o+2))<<16;case 2:i^=(255&r.call(e,o+1))<<8;case 1:i^=255&r.call(e,o),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)}return i^=i>>>13,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),i^=i>>>15,i>>>0}class Zs extends Ts{get id(){return this._id}get name(){return this._name}get attributes(){return this._attributes}get blocks(){return this._blocks}get samplers(){return this._samplers}constructor(e){super(Yr.SHADER),this._device=void 0,this._id=void 0,this._name="",this._stages=[],this._attributes=[],this._blocks=[],this._samplers=[],this._device=e,this._id=Zs._shaderIdGen++}}e("aN",Zs),Zs._shaderIdGen=0;class Js extends Ts{get type(){return this._type}get usage(){return this._usage}get format(){return this._format}get width(){return this._width}get height(){return this._height}get depth(){return this._depth}get layerCount(){return this._layerCount}get levelCount(){return this._levelCount}get samples(){return this._samples}get flags(){return this._flags}get size(){return this._size}constructor(e){super(Yr.TEXTURE),this._device=void 0,this._type=ra.TEX2D,this._usage=aa.NONE,this._format=Kr.UNKNOWN,this._width=0,this._height=0,this._depth=1,this._layerCount=1,this._levelCount=1,this._samples=ca.X1,this._flags=sa.NONE,this._isPowerOf2=!1,this._size=0,this._device=e}}e("aO",Js);const Ks={Obj:"GFXObject",DRAW_INFO_SIZE:"GFX_DRAW_INFO_SIZE",DESCRIPTOR_BUFFER_TYPE:"",DESCRIPTOR_SAMPLER_TYPE:"",DESCRIPTOR_DYNAMIC_TYPE:"",getTypedArrayConstructor:""};for(const e in c.gfx){if("__esModule"===e)continue;let t=Ks[e];""===t?t=e:void 0===t&&(t=`GFX${e}`),W(c,"cc",[{name:t,newName:e,target:c.gfx,targetName:"cc.gfx"}])}const $s=Object.assign({},js);$s.Device=gfx.Device,$s.Buffer=gfx.Buffer,$s.Texture=gfx.Texture,$s.Sampler=gfx.Sampler,$s.Shader=gfx.Shader,$s.InputAssembler=gfx.InputAssembler,$s.RenderPass=gfx.RenderPass,$s.Framebuffer=gfx.Framebuffer,$s.DescriptorSet=gfx.DescriptorSet,$s.DescriptorSetLayout=gfx.DescriptorSetLayout,$s.PipelineLayout=gfx.PipelineLayout,$s.PipelineState=gfx.PipelineState,$s.CommandBuffer=gfx.CommandBuffer,$s.Queue=gfx.Queue,c.gfx=$s;const ec=e("al",gfx.Attribute),tc=(e("aP",Hs),e("aQ",Vs)),nc=e("aR",ks),ic=e("aS",Gs);let oc;e("aT",Ws),e("aU",qs),$s.BlendTarget=Hs,$s.BlendState=Vs,$s.RasterizerState=ks,$s.DepthStencilState=Gs,$s.PipelineStateInfo=qs,function(e){e[e.ALL=0]="ALL",e[e.CLOSEST=1]="CLOSEST",e[e.ANY=2]="ANY"}(oc||(oc={}));const rc=function(){const e=new mn(0,0,0);return function(t,n){const i=mn.dot(t.d,n.n);if(Math.abs(i)<Number.EPSILON)return 0;mn.multiplyScalar(e,n.n,n.d);const o=mn.dot(mn.subtract(e,e,t.o),n.n)/i;return o<0?0:o}}(),ac=function(){const e=new mn(0,0,0),t=new mn(0,0,0),n=new mn(0,0,0),i=new mn(0,0,0),o=new mn(0,0,0);return function(r,a,s){mn.subtract(e,a.b,a.a),mn.subtract(t,a.c,a.a),mn.cross(n,r.d,t);const c=mn.dot(e,n);if(c<Number.EPSILON&&(!s||c>-Number.EPSILON))return 0;const l=1/c;mn.subtract(i,r.o,a.a);const p=mn.dot(i,n)*l;if(p<0||p>1)return 0;mn.cross(o,i,e);const u=mn.dot(r.d,o)*l;if(u<0||p+u>1)return 0;const _=mn.dot(t,o)*l;return _<0?0:_}}(),sc=function(){const e=new mn(0,0,0);return function(t,n){const i=n.radius,o=n.center,r=t.o,a=t.d,s=i*i;mn.subtract(e,o,r);const c=e.lengthSqr(),l=mn.dot(e,a),p=s-(c-l*l);if(p<0)return 0;const u=Math.sqrt(p),_=c<s?l+u:l-u;return _<0?0:_}}(),cc=function(){const e=new mn,t=new mn;return function(n,i){return mn.subtract(e,i.center,i.halfExtents),mn.add(t,i.center,i.halfExtents),lc(n,e,t)}}();function lc(e,t,n){const i=e.o,o=e.d,r=1/o.x,a=1/o.y,s=1/o.z,c=(t.x-i.x)*r,l=(n.x-i.x)*r,p=(t.y-i.y)*a,u=(n.y-i.y)*a,_=(t.z-i.z)*s,f=(n.z-i.z)*s,h=Math.max(Math.max(Math.min(c,l),Math.min(p,u)),Math.min(_,f)),m=Math.min(Math.min(Math.max(c,l),Math.max(p,u)),Math.max(_,f));return m<0||h>m?0:h>0?h:m}const pc=function(){let e=new mn,t=new mn,n=new mn;const i=new mn,o=new mn,r=new mn,a=new mn,s=new Array(3),c=new Array(3),l=new Array(3),p=new Array(6);return function(u,_){s[0]=_.halfExtents.x,s[1]=_.halfExtents.y,s[2]=_.halfExtents.z,e=_.center,t=u.o,n=u.d,mn.set(i,_.orientation.m00,_.orientation.m01,_.orientation.m02),mn.set(o,_.orientation.m03,_.orientation.m04,_.orientation.m05),mn.set(r,_.orientation.m06,_.orientation.m07,_.orientation.m08),mn.subtract(a,e,t),c[0]=mn.dot(i,n),c[1]=mn.dot(o,n),c[2]=mn.dot(r,n),l[0]=mn.dot(i,a),l[1]=mn.dot(o,a),l[2]=mn.dot(r,a);for(let e=0;e<3;++e){if(0===c[e]){if(-l[e]-s[e]>0||-l[e]+s[e]<0)return 0;c[e]=1e-7}p[2*e+0]=(l[e]+s[e])/c[e],p[2*e+1]=(l[e]-s[e])/c[e]}const f=Math.max(Math.max(Math.min(p[0],p[1]),Math.min(p[2],p[3])),Math.min(p[4],p[5])),h=Math.min(Math.min(Math.max(p[0],p[1]),Math.max(p[2],p[3])),Math.max(p[4],p[5]));return h<0||f>h?0:f>0?f:h}}(),uc=function(){const e=new mn,t=new mn,n=new mn,i=new mn,o=new mn,r=new mn,a=new mn,s=new Vr;return function(c,l){const p=l.radius*l.radius,u=mn.normalize(e,c.d),_=l.ellipseCenter0,f=l.ellipseCenter1,h=mn.subtract(t,f,_);if(h.equals(mn.ZERO))return s.radius=l.radius,s.center.set(l.ellipseCenter0),Gc.raySphere(c,s);const m=c.o,d=mn.subtract(n,m,_),v=mn.cross(i,u,h),g=v.lengthSqr();if(0===g){s.radius=l.radius;const e=mn.subtract(o,f,m);return d.lengthSqr()<e.lengthSqr()?s.center.set(l.ellipseCenter0):s.center.set(l.ellipseCenter1),Gc.raySphere(c,s)}const A=mn.cross(o,d,h),y=h.lengthSqr(),x=2*mn.dot(v,A),b=x*x-4*g*(A.lengthSqr()-p*y);if(b<0)return 0;const C=(-x-Math.sqrt(b))/(2*g);if(C<0){s.radius=l.radius;const e=mn.subtract(r,f,m);return d.lengthSqr()<e.lengthSqr()?s.center.set(l.ellipseCenter0):s.center.set(l.ellipseCenter1),Gc.raySphere(c,s)}{const e=mn.scaleAndAdd(r,c.o,u,C),t=mn.subtract(a,e,_),n=mn.dot(t,h)/y;return n>=0&&n<=1?C:n<0?(s.radius=l.radius,s.center.set(l.ellipseCenter0),Gc.raySphere(c,s)):n>1?(s.radius=l.radius,s.center.set(l.ellipseCenter1),Gc.raySphere(c,s)):0}}}(),_c=function(){const e=Wr.create(),t={distance:1/0,doubleSided:!1,mode:oc.ANY};let n=0;const i=(e,t,i,o,r,a)=>{e===oc.CLOSEST?(n>t||0===n)&&(n=t,a&&(0===a.length?a.push({distance:t,vertexIndex0:i/3,vertexIndex1:o/3,vertexIndex2:r/3}):(a[0].distance=t,a[0].vertexIndex0=i/3,a[0].vertexIndex1=o/3,a[0].vertexIndex2=r/3))):(n=t,a&&a.push({distance:t,vertexIndex0:i/3,vertexIndex1:o/3,vertexIndex2:r/3}))};return function(o,r,a){if(n=0,0===r.geometricInfo.positions.length)return n;const s=void 0===a?t:a;if(lc(o,r.geometricInfo.boundingBox.min,r.geometricInfo.boundingBox.max)){const t=r.primitiveMode,{positions:n,indices:a}=r.geometricInfo;((t,n,o,r,a)=>{if(o===xa.TRIANGLE_LIST){const o=n.length;for(let s=0;s<o;s+=3){const o=3*n[s],c=3*n[s+1],l=3*n[s+2];mn.set(e.a,t[o],t[o+1],t[o+2]),mn.set(e.b,t[c],t[c+1],t[c+2]),mn.set(e.c,t[l],t[l+1],t[l+2]);const p=Gc.rayTriangle(r,e,a.doubleSided);if(!(0===p||p>a.distance)&&(i(a.mode,p,o,c,l,a.result),a.mode===oc.ANY))return p}}else if(o===xa.TRIANGLE_STRIP){const o=n.length-2;let s=0;for(let c=0;c<o;c+=1){const o=3*n[c-s],l=3*n[c+s+1],p=3*n[c+2];mn.set(e.a,t[o],t[o+1],t[o+2]),mn.set(e.b,t[l],t[l+1],t[l+2]),mn.set(e.c,t[p],t[p+1],t[p+2]),s=~s;const u=Gc.rayTriangle(r,e,a.doubleSided);if(!(0===u||u>a.distance)&&(i(a.mode,u,o,l,p,a.result),a.mode===oc.ANY))return u}}else if(o===xa.TRIANGLE_FAN){const o=n.length-1,s=3*n[0];mn.set(e.a,t[s],t[s+1],t[s+2]);for(let c=1;c<o;c+=1){const o=3*n[c],l=3*n[c+1];mn.set(e.b,t[o],t[o+1],t[o+2]),mn.set(e.c,t[l],t[l+1],t[l+2]);const p=Gc.rayTriangle(r,e,a.doubleSided);if(!(0===p||p>a.distance)&&(i(a.mode,p,s,o,l,a.result),a.mode===oc.ANY))return p}}})(n,a,t,o,s)}return n}}(),fc=function(){let e=0;const t={distance:1/0,doubleSided:!1,mode:oc.ANY};return function(n,i,o){e=0;const r=void 0===o?t:o,a=i.renderingSubMeshes.length,s=i.struct.minPosition,c=i.struct.maxPosition;if(s&&c&&!lc(n,s,c))return e;for(let t=0;t<a;t++){const o=i.renderingSubMeshes[t],a=_c(n,o,r);if(a)if(r.mode===oc.CLOSEST)(0===e||e>a)&&(e=a,r.subIndices&&(r.subIndices[0]=t));else if(e=a,r.subIndices&&r.subIndices.push(t),r.mode===oc.ANY)return a}return e&&r.mode===oc.CLOSEST&&(r.result&&(r.result[0].distance=e,r.result.length=1),r.subIndices&&(r.subIndices.length=1)),e}}(),hc=function(){let e=0;const t={distance:1/0,doubleSided:!1,mode:oc.ANY},n=new Br,i=new Rn;return function(o,r,a){e=0;const s=void 0===a?t:a,c=r.worldBounds;if(c&&!cc(o,c))return e;Br.copy(n,o),r.node&&(Rn.invert(i,r.node.getWorldMatrix(i)),mn.transformMat4(n.o,o.o,i),mn.transformMat4Normal(n.d,o.d,i));const l=r.subModels;for(let t=0;t<l.length;t++){const i=l[t].subMesh,o=_c(n,i,s);if(o)if(s.mode===oc.CLOSEST)(0===e||e>o)&&(e=o,s.subIndices&&(s.subIndices[0]=t));else if(e=o,s.subIndices&&s.subIndices.push(t),s.mode===oc.ANY)return o}return e&&s.mode===oc.CLOSEST&&(s.result&&(s.result[0].distance=e,s.result.length=1),s.subIndices&&(s.subIndices.length=1)),e}}(),mc=function(){const e=new mn(0,0,0);return function(t,n){mn.subtract(e,t.e,t.s);const i=(n.d-mn.dot(t.s,n.n))/mn.dot(e,n.n);return i<0||i>1?0:i}}(),dc=function(){const e=new mn(0,0,0),t=new mn(0,0,0),n=new mn(0,0,0),i=new mn(0,0,0),o=new mn(0,0,0),r=new mn(0,0,0);return function(a,s,c){mn.subtract(e,s.b,s.a),mn.subtract(t,s.c,s.a),mn.subtract(n,a.s,a.e),mn.cross(o,e,t);const l=mn.dot(n,o);if(l<=0)return 0;mn.subtract(i,a.s,s.a);const p=mn.dot(i,o);if(p<0||p>l)return 0;mn.cross(r,n,i);let u=mn.dot(t,r);if(u<0||u>l)return 0;let _=-mn.dot(e,r);if(_<0||u+_>l)return 0;if(c){const e=1/l;u*=e,_*=e;const t=1-u-_;mn.set(c,s.a.x*t+s.b.x*u+s.c.x*_,s.a.y*t+s.b.y*u+s.c.y*_,s.a.z*t+s.b.z*u+s.c.z*_)}return 1}}(),vc=new Br;function gc(e,t){vc.o.set(e.s),mn.subtract(vc.d,e.e,e.s),vc.d.normalize();const n=cc(vc,t);return n<=e.length()?n:0}function Ac(e,t){vc.o.set(e.s),mn.subtract(vc.d,e.e,e.s),vc.d.normalize();const n=pc(vc,t);return n<=e.length()?n:0}function yc(e,t){vc.o.set(e.s),mn.subtract(vc.d,e.e,e.s),vc.d.normalize();const n=sc(vc,t);return n<=e.length()?n:0}const xc=function(){const e=new mn,t=new mn,n=new mn,i=new mn;return function(o,r){return mn.subtract(e,o.center,o.halfExtents),mn.add(t,o.center,o.halfExtents),mn.subtract(n,r.center,r.halfExtents),mn.add(i,r.center,r.halfExtents),e.x<=i.x&&t.x>=n.x&&e.y<=i.y&&t.y>=n.y&&e.z<=i.z&&t.z>=n.z}}();function bc(e,t,n,i,o,r){mn.set(r[0],e.x+n.x*t.x+i.x*t.y+o.x*t.z,e.y+n.y*t.x+i.y*t.y+o.y*t.z,e.z+n.z*t.x+i.z*t.y+o.z*t.z),mn.set(r[1],e.x-n.x*t.x+i.x*t.y+o.x*t.z,e.y-n.y*t.x+i.y*t.y+o.y*t.z,e.z-n.z*t.x+i.z*t.y+o.z*t.z),mn.set(r[2],e.x+n.x*t.x-i.x*t.y+o.x*t.z,e.y+n.y*t.x-i.y*t.y+o.y*t.z,e.z+n.z*t.x-i.z*t.y+o.z*t.z),mn.set(r[3],e.x+n.x*t.x+i.x*t.y-o.x*t.z,e.y+n.y*t.x+i.y*t.y-o.y*t.z,e.z+n.z*t.x+i.z*t.y-o.z*t.z),mn.set(r[4],e.x-n.x*t.x-i.x*t.y-o.x*t.z,e.y-n.y*t.x-i.y*t.y-o.y*t.z,e.z-n.z*t.x-i.z*t.y-o.z*t.z),mn.set(r[5],e.x+n.x*t.x-i.x*t.y-o.x*t.z,e.y+n.y*t.x-i.y*t.y-o.y*t.z,e.z+n.z*t.x-i.z*t.y-o.z*t.z),mn.set(r[6],e.x-n.x*t.x+i.x*t.y-o.x*t.z,e.y-n.y*t.x+i.y*t.y-o.y*t.z,e.z-n.z*t.x+i.z*t.y-o.z*t.z),mn.set(r[7],e.x-n.x*t.x-i.x*t.y+o.x*t.z,e.y-n.y*t.x-i.y*t.y+o.y*t.z,e.z-n.z*t.x-i.z*t.y+o.z*t.z)}function Cc(e,t){let n=mn.dot(t,e[0]),i=n;for(let o=1;o<8;++o){const r=mn.dot(t,e[o]);n=r<n?r:n,i=r>i?r:i}return[n,i]}const Sc=function(){const e=new Array(15);for(let t=0;t<15;t++)e[t]=new mn(0,0,0);const t=new Array(8),n=new Array(8);for(let e=0;e<8;e++)t[e]=new mn(0,0,0),n[e]=new mn(0,0,0);const i=new mn,o=new mn;return function(r,a){mn.set(e[0],1,0,0),mn.set(e[1],0,1,0),mn.set(e[2],0,0,1),mn.set(e[3],a.orientation.m00,a.orientation.m01,a.orientation.m02),mn.set(e[4],a.orientation.m03,a.orientation.m04,a.orientation.m05),mn.set(e[5],a.orientation.m06,a.orientation.m07,a.orientation.m08);for(let t=0;t<3;++t)mn.cross(e[6+3*t],e[t],e[0]),mn.cross(e[7+3*t],e[t],e[1]),mn.cross(e[7+3*t],e[t],e[2]);mn.subtract(i,r.center,r.halfExtents),mn.add(o,r.center,r.halfExtents),function(e,t,n){mn.set(n[0],e.x,t.y,t.z),mn.set(n[1],e.x,t.y,e.z),mn.set(n[2],e.x,e.y,t.z),mn.set(n[3],e.x,e.y,e.z),mn.set(n[4],t.x,t.y,t.z),mn.set(n[5],t.x,t.y,e.z),mn.set(n[6],t.x,e.y,t.z),mn.set(n[7],t.x,e.y,e.z)}(i,o,t),bc(a.center,a.halfExtents,e[3],e[4],e[5],n);for(let i=0;i<15;++i){const o=Cc(t,e[i]),r=Cc(n,e[i]);if(r[0]>o[1]||o[0]>r[1])return 0}return 1}}(),Ec=function(e,t){const n=e.halfExtents.x*Math.abs(t.n.x)+e.halfExtents.y*Math.abs(t.n.y)+e.halfExtents.z*Math.abs(t.n.z),i=mn.dot(t.n,e.center);return i+n<t.d?-1:i-n>t.d?0:1},wc=function(e,t){for(let n=0;n<t.planes.length;n++)if(-1===Ec(e,t.planes[n]))return 0;return 1},Tc=function(){const e=new Array(8);let t=0,n=0;for(let t=0;t<e.length;t++)e[t]=new mn(0,0,0);return function(i,o){let r=0,a=!1;for(let e=0;e<o.planes.length;e++){if(r=Ec(i,o.planes[e]),-1===r)return 0;1===r&&(a=!0)}if(!a)return 1;for(let t=0;t<o.vertices.length;t++)mn.subtract(e[t],o.vertices[t],i.center);t=0,n=0;for(let r=0;r<o.vertices.length;r++)e[r].x>i.halfExtents.x?t++:e[r].x<-i.halfExtents.x&&n++;if(t===o.vertices.length||n===o.vertices.length)return 0;t=0,n=0;for(let r=0;r<o.vertices.length;r++)e[r].y>i.halfExtents.y?t++:e[r].y<-i.halfExtents.y&&n++;if(t===o.vertices.length||n===o.vertices.length)return 0;t=0,n=0;for(let r=0;r<o.vertices.length;r++)e[r].z>i.halfExtents.z?t++:e[r].z<-i.halfExtents.z&&n++;return t===o.vertices.length||n===o.vertices.length?0:1}}(),Pc=function(){const e=new mn(0,0,0),t=new An;return function(n,i){return mn.subtract(e,i,n.center),mn.transformMat3(e,e,An.transpose(t,n.orientation)),o=e,r=n.halfExtents,Math.abs(o.x)<r.x&&Math.abs(o.y)<r.y&&Math.abs(o.z)<r.z;var o,r}}(),Ic=function(){const e=function(e,t,n,i){return Math.abs(e.x*t+e.y*n+e.z*i)};return function(t,n){const i=t.halfExtents.x*e(n.n,t.orientation.m00,t.orientation.m01,t.orientation.m02)+t.halfExtents.y*e(n.n,t.orientation.m03,t.orientation.m04,t.orientation.m05)+t.halfExtents.z*e(n.n,t.orientation.m06,t.orientation.m07,t.orientation.m08),o=mn.dot(n.n,t.center);return o+i<n.d?-1:o-i>n.d?0:1}}(),Rc=function(e,t){for(let n=0;n<t.planes.length;n++)if(-1===Ic(e,t.planes[n]))return 0;return 1},Nc=function(){const e=new Array(8);let t=0,n=0,i=0;for(let t=0;t<e.length;t++)e[t]=new mn(0,0,0);const o=function(e,t,n,i){return e.x*t+e.y*n+e.z*i};return function(r,a){let s=0,c=!1;for(let e=0;e<a.planes.length;e++){if(s=Ic(r,a.planes[e]),-1===s)return 0;1===s&&(c=!0)}if(!c)return 1;for(let t=0;t<a.vertices.length;t++)mn.subtract(e[t],a.vertices[t],r.center);n=0,i=0;for(let s=0;s<a.vertices.length;s++)t=o(e[s],r.orientation.m00,r.orientation.m01,r.orientation.m02),t>r.halfExtents.x?n++:t<-r.halfExtents.x&&i++;if(n===a.vertices.length||i===a.vertices.length)return 0;n=0,i=0;for(let s=0;s<a.vertices.length;s++)t=o(e[s],r.orientation.m03,r.orientation.m04,r.orientation.m05),t>r.halfExtents.y?n++:t<-r.halfExtents.y&&i++;if(n===a.vertices.length||i===a.vertices.length)return 0;n=0,i=0;for(let s=0;s<a.vertices.length;s++)t=o(e[s],r.orientation.m06,r.orientation.m07,r.orientation.m08),t>r.halfExtents.z?n++:t<-r.halfExtents.z&&i++;return n===a.vertices.length||i===a.vertices.length?0:1}}(),Dc=function(){const e=new Array(15);for(let t=0;t<15;t++)e[t]=new mn(0,0,0);const t=new Array(8),n=new Array(8);for(let e=0;e<8;e++)t[e]=new mn(0,0,0),n[e]=new mn(0,0,0);return function(i,o){mn.set(e[0],i.orientation.m00,i.orientation.m01,i.orientation.m02),mn.set(e[1],i.orientation.m03,i.orientation.m04,i.orientation.m05),mn.set(e[2],i.orientation.m06,i.orientation.m07,i.orientation.m08),mn.set(e[3],o.orientation.m00,o.orientation.m01,o.orientation.m02),mn.set(e[4],o.orientation.m03,o.orientation.m04,o.orientation.m05),mn.set(e[5],o.orientation.m06,o.orientation.m07,o.orientation.m08);for(let t=0;t<3;++t)mn.cross(e[6+3*t],e[t],e[0]),mn.cross(e[7+3*t],e[t],e[1]),mn.cross(e[7+3*t],e[t],e[2]);bc(i.center,i.halfExtents,e[0],e[1],e[2],t),bc(o.center,o.halfExtents,e[3],e[4],e[5],n);for(let i=0;i<15;++i){const o=Cc(t,e[i]),r=Cc(n,e[i]);if(r[0]>o[1]||o[0]>r[1])return 0}return 1}}(),Mc=function(){const e=new Vr,t=new mn,n=new mn,i=new mn,o=new Array(8);for(let e=0;e<8;e++)o[e]=new mn;const r=new Array(8);for(let e=0;e<8;e++)r[e]=new mn;return function(a,s){if(0===mn.squaredDistance(s.ellipseCenter0,s.ellipseCenter1))return e.radius=s.radius,e.center.set(s.ellipseCenter0),Gc.sphereOBB(e,a);{t.x=a.orientation.m00,t.y=a.orientation.m01,t.z=a.orientation.m02,n.x=a.orientation.m03,n.y=a.orientation.m04,n.z=a.orientation.m05,i.x=a.orientation.m06,i.y=a.orientation.m07,i.z=a.orientation.m08,bc(a.center,a.halfExtents,t,n,i,o);const e=r,c=mn.copy(e[0],t),l=mn.copy(e[1],n),p=mn.copy(e[2],i);mn.subtract(e[3],s.center,a.center).normalize();const u=mn.subtract(e[4],s.ellipseCenter0,s.ellipseCenter1);u.normalize(),mn.cross(e[5],c,u),mn.cross(e[6],l,u),mn.cross(e[7],p,u);for(let t=0;t<8;++t){const n=Cc(o,e[t]),i=mn.dot(e[t],s.ellipseCenter0),r=mn.dot(e[t],s.ellipseCenter1),a=Math.max(i,r),c=Math.min(i,r)-s.radius,l=a+s.radius;if(c>n[1]||n[0]>l)return 0}return 1}}}(),Oc=function(e,t){const n=mn.dot(t.n,e.center),i=e.radius*t.n.length();return n+i<t.d?-1:n-i>t.d?0:1},Lc=function(e,t){for(let n=0;n<t.planes.length;n++)if(-1===Oc(e,t.planes[n]))return 0;return 1},zc=function(){const e=new mn(0,0,0),t=[1,-1,1,-1,1,-1];return function(n,i){for(let o=0;o<6;o++){const r=i.planes[o],a=n.radius,s=n.center,c=r.n,l=r.d,p=mn.dot(c,s);if(p+a<l)return 0;if(!(p-a>l)){mn.add(e,s,mn.multiplyScalar(e,c,a));for(let n=0;n<6;n++){if(n===o||n===o+t[o])continue;const r=i.planes[n];if(mn.dot(r.n,e)<r.d)return 0}}}return 1}}(),Fc=function(e,t){const n=e.radius+t.radius;return mn.squaredDistance(e.center,t.center)<n*n},Bc=function(){const e=new mn;return function(t,n){return Mr(e,t.center,n),mn.squaredDistance(t.center,e)<t.radius*t.radius}}(),Uc=function(){const e=new mn;return function(t,n){return Or(e,t.center,n),mn.squaredDistance(t.center,e)<t.radius*t.radius}}(),jc=function(){const e=new mn,t=new mn;return function(n,i){const o=n.radius+i.radius,r=o*o,a=mn.squaredDistance(i.ellipseCenter0,i.ellipseCenter1);if(0===a)return mn.squaredDistance(n.center,i.center)<r;{mn.subtract(e,n.center,i.ellipseCenter0),mn.subtract(t,i.ellipseCenter1,i.ellipseCenter0);const o=mn.dot(e,t)/a;return o<0?mn.squaredDistance(n.center,i.ellipseCenter0)<r:o>1?mn.squaredDistance(n.center,i.ellipseCenter1)<r:(mn.scaleAndAdd(e,i.ellipseCenter0,t,o),mn.squaredDistance(n.center,e)<r)}}}(),kc=function(){const e=new mn,t=new mn,n=new mn,i=new mn,o=new mn,r=new mn;return function(a,s){const c=mn.subtract(e,a.ellipseCenter1,a.ellipseCenter0),l=mn.subtract(t,s.ellipseCenter1,s.ellipseCenter0),p=mn.subtract(n,a.ellipseCenter0,s.ellipseCenter0),u=mn.dot(c,c),_=mn.dot(c,l),f=mn.dot(l,l),h=mn.dot(c,p),m=mn.dot(l,p),d=u*f-_*_;let v,g,A,y,x=d,b=d;d<Wt?(g=0,x=1,y=m,b=f):(g=_*m-f*h,y=u*m-_*h,g<0?(g=0,y=m,b=f):g>x&&(g=x,y=m+_,b=f)),y<0?(y=0,-h<0?g=0:-h>u?g=x:(g=-h,x=u)):y>b&&(y=b,-h+_<0?g=0:-h+_>u?g=x:(g=-h+_,x=u)),v=Math.abs(g)<Wt?0:g/x,A=Math.abs(y)<Wt?0:y/b;const C=i;C.set(p),C.add(mn.multiplyScalar(o,c,v)),C.subtract(mn.multiplyScalar(r,l,A));const S=a.radius+s.radius;return C.lengthSqr()<S*S}}(),Gc={raySphere:sc,rayAABB:cc,rayOBB:pc,rayPlane:rc,rayTriangle:ac,rayCapsule:uc,raySubMesh:_c,rayMesh:fc,rayModel:hc,lineSphere:yc,lineAABB:gc,lineOBB:Ac,linePlane:mc,lineTriangle:dc,sphereWithSphere:Fc,sphereAABB:Bc,sphereOBB:Uc,spherePlane:Oc,sphereFrustum:Lc,sphereFrustumAccurate:zc,sphereCapsule:jc,aabbWithAABB:xc,aabbWithOBB:Sc,aabbPlane:Ec,aabbFrustum:wc,aabbFrustumAccurate:Tc,obbWithOBB:Dc,obbPlane:Ic,obbFrustum:Rc,obbFrustumAccurate:Nc,obbPoint:Pc,obbCapsule:Mc,capsuleWithCapsule:kc,resolve(e,t,n=null){const i=e._type,o=t._type,r=this[i|o];return i<o?r(e,t,n):r(t,e,n)}};Gc[zr.SHAPE_RAY|zr.SHAPE_SPHERE]=sc,Gc[zr.SHAPE_RAY|zr.SHAPE_AABB]=cc,Gc[zr.SHAPE_RAY|zr.SHAPE_OBB]=pc,Gc[zr.SHAPE_RAY|zr.SHAPE_PLANE]=rc,Gc[zr.SHAPE_RAY|zr.SHAPE_TRIANGLE]=ac,Gc[zr.SHAPE_RAY|zr.SHAPE_CAPSULE]=uc,Gc[zr.SHAPE_LINE|zr.SHAPE_SPHERE]=yc,Gc[zr.SHAPE_LINE|zr.SHAPE_AABB]=gc,Gc[zr.SHAPE_LINE|zr.SHAPE_OBB]=Ac,Gc[zr.SHAPE_LINE|zr.SHAPE_PLANE]=mc,Gc[zr.SHAPE_LINE|zr.SHAPE_TRIANGLE]=dc,Gc[zr.SHAPE_SPHERE]=Fc,Gc[zr.SHAPE_SPHERE|zr.SHAPE_AABB]=Bc,Gc[zr.SHAPE_SPHERE|zr.SHAPE_OBB]=Uc,Gc[zr.SHAPE_SPHERE|zr.SHAPE_PLANE]=Oc,Gc[zr.SHAPE_SPHERE|zr.SHAPE_FRUSTUM]=Lc,Gc[zr.SHAPE_SPHERE|zr.SHAPE_FRUSTUM_ACCURATE]=zc,Gc[zr.SHAPE_SPHERE|zr.SHAPE_CAPSULE]=jc,Gc[zr.SHAPE_AABB]=xc,Gc[zr.SHAPE_AABB|zr.SHAPE_OBB]=Sc,Gc[zr.SHAPE_AABB|zr.SHAPE_PLANE]=Ec,Gc[zr.SHAPE_AABB|zr.SHAPE_FRUSTUM]=wc,Gc[zr.SHAPE_AABB|zr.SHAPE_FRUSTUM_ACCURATE]=Tc,Gc[zr.SHAPE_OBB]=Dc,Gc[zr.SHAPE_OBB|zr.SHAPE_PLANE]=Ic,Gc[zr.SHAPE_OBB|zr.SHAPE_FRUSTUM]=Rc,Gc[zr.SHAPE_OBB|zr.SHAPE_FRUSTUM_ACCURATE]=Nc,Gc[zr.SHAPE_OBB|zr.SHAPE_CAPSULE]=Mc,Gc[zr.SHAPE_CAPSULE]=kc,W(Fr.prototype,"line",[{name:"mag",newName:"len"},{name:"magnitude",newName:"len"}]),q(Gc,"intersect",[{name:"line_quad"}]);const Hc=new mn(0,0,0),Vc=new mn(0,0,0),Wc=c.mat4(),qc=c.v4();class Yc{static create(e,t,n,i){return new Yc(e,t,n,i)}static clone(e){return new Yc(e.n.x,e.n.y,e.n.z,e.d)}static copy(e,t){return mn.copy(e.n,t.n),e.d=t.d,e}static fromPoints(e,t,n,i){return mn.subtract(Hc,n,t),mn.subtract(Vc,i,t),mn.normalize(e.n,mn.cross(e.n,Hc,Vc)),e.d=mn.dot(e.n,t),e}static set(e,t,n,i,o){return e.n.x=t,e.n.y=n,e.n.z=i,e.d=o,e}static fromNormalAndPoint(e,t,n){return mn.copy(e.n,t),e.d=mn.dot(t,n),e}static normalize(e,t){const n=t.n.length();return mn.normalize(e.n,t.n),n>0&&(e.d=t.d/n),e}get type(){return this._type}set x(e){this.n.x=e}get x(){return this.n.x}set y(e){this.n.y=e}get y(){return this.n.y}set z(e){this.n.z=e}get z(){return this.n.z}set w(e){this.d=e}get w(){return this.d}constructor(e=0,t=1,n=0,i=0){this.n=void 0,this.d=void 0,this._type=void 0,this._type=zr.SHAPE_PLANE,this.n=new mn(e,t,n),this.d=i}transform(e){Rn.invert(Wc,e),Rn.transpose(Wc,Wc),Bn.set(qc,this.n.x,this.n.y,this.n.z,this.d),Bn.transformMat4(qc,qc,Wc),mn.set(this.n,qc.x,qc.y,qc.z),this.d=qc.w}}const Xc=new mn,Qc=new mn,Zc=new mn,Jc=new mn,Kc=new An,$c=(e,t,n)=>{Kc.m00=Math.abs(n.m00),Kc.m01=Math.abs(n.m01),Kc.m02=Math.abs(n.m02),Kc.m03=Math.abs(n.m04),Kc.m04=Math.abs(n.m05),Kc.m05=Math.abs(n.m06),Kc.m06=Math.abs(n.m08),Kc.m07=Math.abs(n.m09),Kc.m08=Math.abs(n.m10),mn.transformMat3(e,t,Kc)};class el{static create(e,t,n,i,o,r){return new el(e,t,n,i,o,r)}static clone(e){return new el(e.center.x,e.center.y,e.center.z,e.halfExtents.x,e.halfExtents.y,e.halfExtents.z)}static copy(e,t){return mn.copy(e.center,t.center),mn.copy(e.halfExtents,t.halfExtents),e}static fromPoints(e,t,n){return mn.add(Xc,n,t),mn.subtract(Qc,n,t),mn.multiplyScalar(e.center,Xc,.5),mn.multiplyScalar(e.halfExtents,Qc,.5),e}static set(e,t,n,i,o,r,a){return mn.set(e.center,t,n,i),mn.set(e.halfExtents,o,r,a),e}static merge(e,t,n){return mn.subtract(Xc,t.center,t.halfExtents),mn.subtract(Qc,n.center,n.halfExtents),mn.add(Zc,t.center,t.halfExtents),mn.add(Jc,n.center,n.halfExtents),mn.max(Jc,Zc,Jc),mn.min(Zc,Xc,Qc),el.fromPoints(e,Zc,Jc)}static toBoundingSphere(e,t){t.getBoundary(Xc,Qc),e.center.set(Xc),e.radius=0,mn.subtract(Zc,Qc,e.center);const n=Zc.length(),i=.5*n;return e.radius+=i,mn.multiplyScalar(Zc,Zc,i/n),mn.add(e.center,e.center,Zc),e}static transform(e,t,n){return mn.transformMat4(e.center,t.center,n),$c(e.halfExtents,t.halfExtents,n),e}get type(){return this._type}constructor(e=0,t=0,n=0,i=1,o=1,r=1){this.center=void 0,this.halfExtents=void 0,this._type=void 0,this._type=zr.SHAPE_AABB,this.center=new mn(e,t,n),this.halfExtents=new mn(i,o,r)}getBoundary(e,t){mn.subtract(e,this.center,this.halfExtents),mn.add(t,this.center,this.halfExtents)}transform(e,t,n,i,o){mn.transformMat4(o.center,this.center,e),$c(o.halfExtents,this.halfExtents,e)}clone(){return el.clone(this)}copy(e){return el.copy(this,e)}}e("bI",el);const tl=new mn,nl=new mn,il=new An;class ol{static create(e,t,n,i,o,r,a,s,c,l,p,u,_,f,h){return new ol(e,t,n,i,o,r,a,s,c,l,p,u,_,f,h)}static clone(e){return new ol(e.center.x,e.center.y,e.center.z,e.halfExtents.x,e.halfExtents.y,e.halfExtents.z,e.orientation.m00,e.orientation.m01,e.orientation.m02,e.orientation.m03,e.orientation.m04,e.orientation.m05,e.orientation.m06,e.orientation.m07,e.orientation.m08)}static copy(e,t){return mn.copy(e.center,t.center),mn.copy(e.halfExtents,t.halfExtents),An.copy(e.orientation,t.orientation),e}static fromPoints(e,t,n){return mn.multiplyScalar(e.center,mn.add(tl,t,n),.5),mn.multiplyScalar(e.halfExtents,mn.subtract(nl,n,t),.5),An.identity(e.orientation),e}static set(e,t,n,i,o,r,a,s,c,l,p,u,_,f,h,m){return mn.set(e.center,t,n,i),mn.set(e.halfExtents,o,r,a),An.set(e.orientation,s,c,l,p,u,_,f,h,m),e}get type(){return this._type}constructor(e=0,t=0,n=0,i=1,o=1,r=1,a=1,s=0,c=0,l=0,p=1,u=0,_=0,f=0,h=1){this.center=void 0,this.halfExtents=void 0,this.orientation=void 0,this._type=void 0,this._type=zr.SHAPE_OBB,this.center=new mn(e,t,n),this.halfExtents=new mn(i,o,r),this.orientation=new An(a,s,c,l,p,u,_,f,h)}getBoundary(e,t){var n,i,o;n=tl,i=this.halfExtents,o=this.orientation,il.m00=Math.abs(o.m00),il.m01=Math.abs(o.m01),il.m02=Math.abs(o.m02),il.m03=Math.abs(o.m03),il.m04=Math.abs(o.m04),il.m05=Math.abs(o.m05),il.m06=Math.abs(o.m06),il.m07=Math.abs(o.m07),il.m08=Math.abs(o.m08),mn.transformMat3(n,i,il),mn.subtract(e,this.center,tl),mn.add(t,this.center,tl)}transform(e,t,n,i,o){mn.transformMat4(o.center,this.center,e),An.fromQuat(o.orientation,n),mn.multiply(o.halfExtents,this.halfExtents,i)}translateAndRotate(e,t,n){mn.transformMat4(n.center,this.center,e),An.fromQuat(n.orientation,t)}setScale(e,t){mn.multiply(t.halfExtents,this.halfExtents,e)}}class rl{get type(){return this._type}constructor(e=.5,t=.5,n=1){this._type=void 0,this.radius=void 0,this.halfHeight=void 0,this.axis=void 0,this.center=void 0,this.rotation=void 0,this.ellipseCenter0=void 0,this.ellipseCenter1=void 0,this._type=zr.SHAPE_CAPSULE,this.radius=e,this.halfHeight=t,this.axis=n,this.center=new mn,this.rotation=new bn,this.ellipseCenter0=new mn(0,t,0),this.ellipseCenter1=new mn(0,-t,0),this.updateCache()}transform(e,t,n,i,o){const r=i,a=pn(r);o.radius=this.radius*Math.abs(a);let s=(this.halfHeight+this.radius)*Math.abs(r.y)-o.radius;s<0&&(s=0),o.halfHeight=s,mn.transformMat4(o.center,this.center,e),bn.multiply(o.rotation,this.rotation,n),o.updateCache()}updateCache(){this.updateLocalCenter(),mn.transformQuat(this.ellipseCenter0,this.ellipseCenter0,this.rotation),mn.transformQuat(this.ellipseCenter1,this.ellipseCenter1,this.rotation),this.ellipseCenter0.add(this.center),this.ellipseCenter1.add(this.center)}updateLocalCenter(){const e=this.halfHeight;switch(this.axis){case 0:this.ellipseCenter0.set(e,0,0),this.ellipseCenter1.set(-e,0,0);break;case 1:this.ellipseCenter0.set(0,e,0),this.ellipseCenter1.set(0,-e,0);break;case 2:this.ellipseCenter0.set(0,0,e),this.ellipseCenter1.set(0,0,-e)}}}const al=new Array(8);al[0]=new mn(1,1,1),al[1]=new mn(-1,1,1),al[2]=new mn(-1,-1,1),al[3]=new mn(1,-1,1),al[4]=new mn(1,1,-1),al[5]=new mn(-1,1,-1),al[6]=new mn(-1,-1,-1),al[7]=new mn(1,-1,-1);class sl{set accurate(e){this._type=e?zr.SHAPE_FRUSTUM_ACCURATE:zr.SHAPE_FRUSTUM}static create(){return new sl}static clone(e){return sl.copy(new sl,e)}static copy(e,t){e._type=t._type;for(let n=0;n<6;++n)Yc.copy(e.planes[n],t.planes[n]);for(let n=0;n<8;++n)mn.copy(e.vertices[n],t.vertices[n]);return e}get type(){return this._type}constructor(){this._type=void 0,this.planes=void 0,this.vertices=void 0,this._type=zr.SHAPE_FRUSTUM,this.planes=new Array(6);for(let e=0;e<6;++e)this.planes[e]=Yc.create(0,0,0,0);this.vertices=new Array(8);for(let e=0;e<8;++e)this.vertices[e]=new mn}update(e,t){if(mn.set(this.planes[0].n,e.m03+e.m00,e.m07+e.m04,e.m11+e.m08),this.planes[0].d=-(e.m15+e.m12),mn.set(this.planes[1].n,e.m03-e.m00,e.m07-e.m04,e.m11-e.m08),this.planes[1].d=-(e.m15-e.m12),mn.set(this.planes[2].n,e.m03+e.m01,e.m07+e.m05,e.m11+e.m09),this.planes[2].d=-(e.m15+e.m13),mn.set(this.planes[3].n,e.m03-e.m01,e.m07-e.m05,e.m11-e.m09),this.planes[3].d=-(e.m15-e.m13),mn.set(this.planes[4].n,e.m03+e.m02,e.m07+e.m06,e.m11+e.m10),this.planes[4].d=-(e.m15+e.m14),mn.set(this.planes[5].n,e.m03-e.m02,e.m07-e.m06,e.m11-e.m10),this.planes[5].d=-(e.m15-e.m14),this._type===zr.SHAPE_FRUSTUM_ACCURATE){for(let e=0;e<6;e++){const t=this.planes[e],n=1/t.n.length();mn.multiplyScalar(t.n,t.n,n),t.d*=n}for(let e=0;e<8;e++)mn.transformMat4(this.vertices[e],al[e],t)}}transform(e){if(this._type===zr.SHAPE_FRUSTUM_ACCURATE){for(let t=0;t<8;t++)mn.transformMat4(this.vertices[t],this.vertices[t],e);Yc.fromPoints(this.planes[0],this.vertices[1],this.vertices[5],this.vertices[6]),Yc.fromPoints(this.planes[1],this.vertices[3],this.vertices[7],this.vertices[4]),Yc.fromPoints(this.planes[2],this.vertices[6],this.vertices[7],this.vertices[3]),Yc.fromPoints(this.planes[3],this.vertices[0],this.vertices[4],this.vertices[5]),Yc.fromPoints(this.planes[4],this.vertices[2],this.vertices[3],this.vertices[0]),Yc.fromPoints(this.planes[0],this.vertices[7],this.vertices[6],this.vertices[5])}}}function cl(e,t){if(!t||e===Hi)return;const n=t.vertices;let i=Lo.VERTICES;for(let t=0;t<8;++t)Fo.setVec3(e,i,n[t]),i+=3;const o=t.planes;let r=Lo.PLANES;for(let t=0;t<6;t++,r+=4)Fo.setVec4(e,r,o[t])}let ll,pl;sl.createOrtho=(()=>{const e=new mn;return(t,n,i,o,r,a)=>{const s=n/2,c=i/2;mn.set(e,s,c,o),mn.transformMat4(t.vertices[0],e,a),mn.set(e,-s,c,o),mn.transformMat4(t.vertices[1],e,a),mn.set(e,-s,-c,o),mn.transformMat4(t.vertices[2],e,a),mn.set(e,s,-c,o),mn.transformMat4(t.vertices[3],e,a),mn.set(e,s,c,r),mn.transformMat4(t.vertices[4],e,a),mn.set(e,-s,c,r),mn.transformMat4(t.vertices[5],e,a),mn.set(e,-s,-c,r),mn.transformMat4(t.vertices[6],e,a),mn.set(e,s,-c,r),mn.transformMat4(t.vertices[7],e,a),Yc.fromPoints(t.planes[0],t.vertices[1],t.vertices[6],t.vertices[5]),Yc.fromPoints(t.planes[1],t.vertices[3],t.vertices[4],t.vertices[7]),Yc.fromPoints(t.planes[2],t.vertices[6],t.vertices[3],t.vertices[7]),Yc.fromPoints(t.planes[3],t.vertices[0],t.vertices[5],t.vertices[4]),Yc.fromPoints(t.planes[4],t.vertices[2],t.vertices[0],t.vertices[3]),Yc.fromPoints(t.planes[0],t.vertices[7],t.vertices[5],t.vertices[6])}})(),function(e){e[e.Default=0]="Default",e[e.Normal=1]="Normal",e[e.Loop=2]="Loop",e[e.ShouldWrap=4]="ShouldWrap",e[e.Clamp=8]="Clamp",e[e.PingPong=22]="PingPong",e[e.Reverse=36]="Reverse"}(ll||(ll={})),function(e){e[e.Default=ll.Default]="Default",e[e.Normal=ll.Normal]="Normal",e[e.Reverse=ll.Reverse]="Reverse",e[e.Loop=ll.Loop]="Loop",e[e.LoopReverse=ll.Loop|ll.Reverse]="LoopReverse",e[e.PingPong=ll.PingPong]="PingPong",e[e.PingPongReverse=ll.PingPong|ll.Reverse]="PingPongReverse"}(pl||(pl={})),Ke(pl);class ul{constructor(e){this.ratio=0,this.time=0,this.direction=1,this.stopped=!0,this.iterations=0,this.frameIndex=void 0,e&&this.set(e)}set(e){this.ratio=e.ratio,this.time=e.time,this.direction=e.direction,this.stopped=e.stopped,this.iterations=e.iterations,this.frameIndex=e.frameIndex}}const _l=Qe({Default:ll.Default,Normal:ll.Normal,Clamp:ll.Clamp,Loop:ll.Loop,PingPong:ll.PingPong});class fl{constructor(){this.time=0,this.value=0,this.inTangent=0,this.outTangent=0}}jt.fastDefine("cc.Keyframe",fl,{time:0,value:0,inTangent:0,outTangent:0});class hl{constructor(){this.index=void 0,this.time=void 0,this.endTime=void 0,this.coefficient=void 0,this.index=-1,this.time=0,this.endTime=0,this.coefficient=new Float32Array(4)}evaluate(e){return t=e-this.time,n=this.coefficient,t*(t*(t*n[0]+n[1])+n[2])+n[3];var t,n}}class ml{constructor(e=null){this.keyFrames=void 0,this.preWrapMode=_l.Loop,this.postWrapMode=_l.Clamp,this.cachedKey=void 0,this.keyFrames=e||[].concat(ml.defaultKF),this.cachedKey=new hl}addKey(e){null==this.keyFrames&&(this.keyFrames=[]),this.keyFrames.push(e)}evaluate_slow(e){let t=e;const n=e<0?this.preWrapMode:this.postWrapMode,i=this.keyFrames[0].time,o=this.keyFrames[this.keyFrames.length-1].time;switch(n){case _l.Loop:t=sn(e-i,o-i)+i;break;case _l.PingPong:t=cn(e-i,o-i)+i;break;case _l.Default:case _l.Normal:case _l.Clamp:default:t=Xt(e,i,o)}let r=0;if(t>this.keyFrames[0].time)if(t>=this.keyFrames[this.keyFrames.length-1].time)r=this.keyFrames.length-2;else for(let e=0;e<this.keyFrames.length-1;e++)if(t>=this.keyFrames[0].time&&t<=this.keyFrames[e+1].time){r=e;break}const a=this.keyFrames[r],s=this.keyFrames[r+1],c=ln(a.time,s.time,t),l=s.time-a.time,p=a.outTangent*l,u=s.inTangent*l,_=c*c,f=_*c,h=f-2*_+c,m=f-_,d=-2*f+3*_;return(2*f-3*_+1)*a.value+h*p+m*u+d*s.value}evaluate(e){let t=e;const n=e<0?this.preWrapMode:this.postWrapMode,i=this.keyFrames[0].time,o=this.keyFrames[this.keyFrames.length-1].time;switch(n){case _l.Loop:t=sn(e-i,o-i)+i;break;case _l.PingPong:t=cn(e-i,o-i)+i;break;case _l.Default:case _l.Normal:case _l.Clamp:default:t=Xt(e,i,o)}if(t>=this.cachedKey.time&&t<this.cachedKey.endTime)return this.cachedKey.evaluate(t);const r=this.findIndex(this.cachedKey,t),a=Math.min(r+1,this.keyFrames.length-1);return this.calcOptimizedKey(this.cachedKey,r,a),this.cachedKey.evaluate(t)}calcOptimizedKey(e,t,n){const i=this.keyFrames[t],o=this.keyFrames[n];e.index=t,e.time=i.time,e.endTime=o.time;const r=o.time-i.time,a=o.value-i.value,s=1/(r*r),c=i.outTangent*r,l=o.inTangent*r;e.coefficient[0]=(c+l-a-a)*s/r,e.coefficient[1]=(a+a+a-c-c-l)*s,e.coefficient[2]=i.outTangent,e.coefficient[3]=i.value}findIndex(e,t){const n=e.index;if(-1!==n)if(t>this.keyFrames[n].time)for(let e=0;e<3;e++){const i=n+e;if(i+1<this.keyFrames.length&&this.keyFrames[i+1].time>t)return i}else for(let e=0;e<3;e++){const i=n-e;if(i>=0&&this.keyFrames[i-1].time<=t)return i-1}let i,o=0,r=this.keyFrames.length;for(;r-o>1;)i=Math.floor((o+r)/2),this.keyFrames[i].time>=t?r=i:o=i;return o}}function dl(e,t){console.warn(`${e} is deprecated, please use ${t} instead.`)}e("dF",ml),ml.defaultKF=[{time:0,value:1,inTangent:0,outTangent:0},{time:1,value:1,inTangent:0,outTangent:0}],jt.fastDefine("cc.AnimationCurve",ml,{preWrapMode:_l.Default,postWrapMode:_l.Default,keyFrames:[]}),W(Gc,"intersect",[{name:"ray_aabb",newName:"rayAABB"},{name:"ray_plane",newName:"rayPlane"},{name:"ray_triangle",newName:"rayTriangle"},{name:"ray_sphere",newName:"raySphere"},{name:"ray_obb",newName:"rayOBB"},{name:"ray_capsule",newName:"rayCapsule"},{name:"ray_subMesh",newName:"raySubMesh"},{name:"ray_mesh",newName:"rayMesh"},{name:"ray_model",newName:"rayModel"},{name:"line_plane",newName:"linePlane"},{name:"line_triangle",newName:"lineTriangle"},{name:"line_aabb",newName:"lineAABB"},{name:"line_obb",newName:"lineOBB"},{name:"line_sphere",newName:"lineSphere"},{name:"aabb_aabb",newName:"aabbWithAABB"},{name:"aabb_obb",newName:"aabbWithOBB"},{name:"aabb_plane",newName:"aabbPlane"},{name:"aabb_frustum",newName:"aabbFrustum"},{name:"aabbFrustum_accurate",newName:"aabbFrustumAccurate"},{name:"obb_point",newName:"obbPoint"},{name:"obb_plane",newName:"obbPlane"},{name:"obb_frustum",newName:"obbFrustum"},{name:"obbFrustum_accurate",newName:"obbFrustumAccurate"},{name:"obb_obb",newName:"obbWithOBB"},{name:"obb_capsule",newName:"obbCapsule"},{name:"sphere_plane",newName:"spherePlane"},{name:"sphere_frustum",newName:"sphereFrustum"},{name:"sphereFrustum_accurate",newName:"sphereFrustumAccurate"},{name:"sphere_sphere",newName:"sphereWithSphere"},{name:"sphere_aabb",newName:"sphereAABB"},{name:"sphere_obb",newName:"sphereOBB"},{name:"sphere_capsule",newName:"sphereCapsule"},{name:"capsule_capsule",newName:"capsuleWithCapsule"}]);var vl=Object.freeze({__proto__:null,distance:Lr,enums:zr,intersect:Gc,Line:Fr,Plane:Yc,Ray:Br,Triangle:Wr,Sphere:Vr,AABB:el,OBB:ol,Capsule:rl,Frustum:sl,Keyframe:fl,AnimationCurve:ml,get ERaycastMode(){return oc},line:class extends Fr{constructor(){super(),dl("line","Line")}},plane:class extends Yc{constructor(){super(),dl("plane","Plane")}},ray:class extends Br{constructor(){super(),dl("ray","Ray")}},triangle:class extends Wr{constructor(){super(),dl("triangle","Triangle")}},sphere:class extends Vr{constructor(){super(),dl("sphere","Sphere")}},aabb:class extends el{constructor(){super(),dl("aabb","AABB")}},obb:class extends ol{constructor(){super(),dl("obb","OBB")}},capsule:class extends rl{constructor(){super(),dl("capsule","Capsule")}},frustum:class extends sl{constructor(){super(),dl("frustum","Frustum")}}});e("er",vl);const gl={NONE:0,IGNORE_RAYCAST:1<<20,GIZMOS:1<<21,EDITOR:1<<22,UI_3D:1<<23,SCENE_GIZMO:1<<24,UI_2D:1<<25,PROFILER:1<<28,DEFAULT:1<<30,ALL:4294967295};class Al{static makeMaskInclude(e){let t=0;for(const n of e)t|=n;return t}static makeMaskExclude(e){return~Al.makeMaskInclude(e)}static addLayer(e,t){void 0!==t?t>19||t<0?console.warn("maximum layers reached."):(Al.Enum[e]=1<<t,Al.Enum[t]=e,Al.BitMask[e]=1<<t,Al.BitMask[t]=e):console.warn("bitNum can't be undefined")}static deleteLayer(e){e>19||e<0?console.warn("do not change buildin layers."):(delete Al.Enum[Al.Enum[e]],delete Al.Enum[e],delete Al.BitMask[Al.BitMask[e]],delete Al.BitMask[e])}}let yl,xl;e("d8",Al),Al.Enum=Qe(gl),Al.BitMask=Xe({...gl}),c.Layers=Al,function(e){e[e.DEFAULT=100]="DEFAULT",e[e.UI=200]="UI"}(yl||(yl={})),c.RenderPassStage=yl,function(e){e[e.MIN=0]="MIN",e[e.MAX=255]="MAX",e[e.DEFAULT=128]="DEFAULT"}(xl||(xl=e("d6",{})));const bl={bindings:[],layouts:{}},Cl={bindings:[],layouts:{}};let Sl;!function(e){e[e.UBO_GLOBAL=0]="UBO_GLOBAL",e[e.UBO_CAMERA=1]="UBO_CAMERA",e[e.UBO_SHADOW=2]="UBO_SHADOW",e[e.SAMPLER_SHADOWMAP=3]="SAMPLER_SHADOWMAP",e[e.SAMPLER_ENVIRONMENT=4]="SAMPLER_ENVIRONMENT",e[e.SAMPLER_SPOT_LIGHTING_MAP=5]="SAMPLER_SPOT_LIGHTING_MAP",e[e.SAMPLER_GBUFFER_ALBEDOMAP=6]="SAMPLER_GBUFFER_ALBEDOMAP",e[e.SAMPLER_GBUFFER_POSITIONMAP=7]="SAMPLER_GBUFFER_POSITIONMAP",e[e.SAMPLER_GBUFFER_NORMALMAP=8]="SAMPLER_GBUFFER_NORMALMAP",e[e.SAMPLER_GBUFFER_EMISSIVEMAP=9]="SAMPLER_GBUFFER_EMISSIVEMAP",e[e.SAMPLER_LIGHTING_RESULTMAP=10]="SAMPLER_LIGHTING_RESULTMAP",e[e.COUNT=11]="COUNT"}(Sl||(Sl={}));const El=Sl.SAMPLER_SHADOWMAP,wl=Sl.COUNT-El;let Tl;!function(e){e[e.UBO_LOCAL=0]="UBO_LOCAL",e[e.UBO_FORWARD_LIGHTS=1]="UBO_FORWARD_LIGHTS",e[e.UBO_SKINNING_ANIMATION=2]="UBO_SKINNING_ANIMATION",e[e.UBO_SKINNING_TEXTURE=3]="UBO_SKINNING_TEXTURE",e[e.UBO_MORPH=4]="UBO_MORPH",e[e.SAMPLER_JOINTS=5]="SAMPLER_JOINTS",e[e.SAMPLER_MORPH_POSITION=6]="SAMPLER_MORPH_POSITION",e[e.SAMPLER_MORPH_NORMAL=7]="SAMPLER_MORPH_NORMAL",e[e.SAMPLER_MORPH_TANGENT=8]="SAMPLER_MORPH_TANGENT",e[e.SAMPLER_LIGHTMAP=9]="SAMPLER_LIGHTMAP",e[e.SAMPLER_SPRITE=10]="SAMPLER_SPRITE",e[e.COUNT=11]="COUNT"}(Tl||(Tl=e("dj",{})));const Pl=Tl.SAMPLER_JOINTS,Il=Tl.COUNT-Pl;let Rl;!function(e){e[e.GLOBAL=0]="GLOBAL",e[e.MATERIAL=1]="MATERIAL",e[e.LOCAL=2]="LOCAL"}(Rl||(Rl={}));const Nl=new Va;Nl.bufferOffsets=[0,El+Pl,El],Nl.samplerOffsets=[-El,wl+Il,wl-Pl],Nl.flexibleSet=1;class Dl{}Dl.TIME_OFFSET=0,Dl.NATIVE_SIZE_OFFSET=Dl.TIME_OFFSET+4,Dl.SCREEN_SIZE_OFFSET=Dl.NATIVE_SIZE_OFFSET+4,Dl.COUNT=Dl.SCREEN_SIZE_OFFSET+4,Dl.SIZE=4*Dl.COUNT,Dl.NAME="CCGlobal",Dl.BINDING=Sl.UBO_GLOBAL,Dl.DESCRIPTOR=new gs(Dl.BINDING,Ta.UNIFORM_BUFFER,1,da.ALL),Dl.LAYOUT=new es(Rl.GLOBAL,Dl.BINDING,Dl.NAME,[new $a("cc_time",ea.FLOAT4,1),new $a("cc_screenSize",ea.FLOAT4,1),new $a("cc_nativeSize",ea.FLOAT4,1)],1),bl.layouts[Dl.NAME]=Dl.LAYOUT,bl.bindings[Dl.BINDING]=Dl.DESCRIPTOR;class Ml{}Ml.MAT_VIEW_OFFSET=0,Ml.MAT_VIEW_INV_OFFSET=Ml.MAT_VIEW_OFFSET+16,Ml.MAT_PROJ_OFFSET=Ml.MAT_VIEW_INV_OFFSET+16,Ml.MAT_PROJ_INV_OFFSET=Ml.MAT_PROJ_OFFSET+16,Ml.MAT_VIEW_PROJ_OFFSET=Ml.MAT_PROJ_INV_OFFSET+16,Ml.MAT_VIEW_PROJ_INV_OFFSET=Ml.MAT_VIEW_PROJ_OFFSET+16,Ml.CAMERA_POS_OFFSET=Ml.MAT_VIEW_PROJ_INV_OFFSET+16,Ml.SCREEN_SCALE_OFFSET=Ml.CAMERA_POS_OFFSET+4,Ml.EXPOSURE_OFFSET=Ml.SCREEN_SCALE_OFFSET+4,Ml.MAIN_LIT_DIR_OFFSET=Ml.EXPOSURE_OFFSET+4,Ml.MAIN_LIT_COLOR_OFFSET=Ml.MAIN_LIT_DIR_OFFSET+4,Ml.AMBIENT_SKY_OFFSET=Ml.MAIN_LIT_COLOR_OFFSET+4,Ml.AMBIENT_GROUND_OFFSET=Ml.AMBIENT_SKY_OFFSET+4,Ml.GLOBAL_FOG_COLOR_OFFSET=Ml.AMBIENT_GROUND_OFFSET+4,Ml.GLOBAL_FOG_BASE_OFFSET=Ml.GLOBAL_FOG_COLOR_OFFSET+4,Ml.GLOBAL_FOG_ADD_OFFSET=Ml.GLOBAL_FOG_BASE_OFFSET+4,Ml.COUNT=Ml.GLOBAL_FOG_ADD_OFFSET+4,Ml.SIZE=4*Ml.COUNT,Ml.NAME="CCCamera",Ml.BINDING=Sl.UBO_CAMERA,Ml.DESCRIPTOR=new gs(Ml.BINDING,Ta.UNIFORM_BUFFER,1,da.ALL),Ml.LAYOUT=new es(Rl.GLOBAL,Ml.BINDING,Ml.NAME,[new $a("cc_matView",ea.MAT4,1),new $a("cc_matViewInv",ea.MAT4,1),new $a("cc_matProj",ea.MAT4,1),new $a("cc_matProjInv",ea.MAT4,1),new $a("cc_matViewProj",ea.MAT4,1),new $a("cc_matViewProjInv",ea.MAT4,1),new $a("cc_cameraPos",ea.FLOAT4,1),new $a("cc_screenScale",ea.FLOAT4,1),new $a("cc_exposure",ea.FLOAT4,1),new $a("cc_mainLitDir",ea.FLOAT4,1),new $a("cc_mainLitColor",ea.FLOAT4,1),new $a("cc_ambientSky",ea.FLOAT4,1),new $a("cc_ambientGround",ea.FLOAT4,1),new $a("cc_fogColor",ea.FLOAT4,1),new $a("cc_fogBase",ea.FLOAT4,1),new $a("cc_fogAdd",ea.FLOAT4,1)],1),bl.layouts[Ml.NAME]=Ml.LAYOUT,bl.bindings[Ml.BINDING]=Ml.DESCRIPTOR;class Ol{}Ol.MAT_LIGHT_PLANE_PROJ_OFFSET=0,Ol.MAT_LIGHT_VIEW_OFFSET=Ol.MAT_LIGHT_PLANE_PROJ_OFFSET+16,Ol.MAT_LIGHT_VIEW_PROJ_OFFSET=Ol.MAT_LIGHT_VIEW_OFFSET+16,Ol.SHADOW_NEAR_FAR_LINEAR_SELF_INFO_OFFSET=Ol.MAT_LIGHT_VIEW_PROJ_OFFSET+16,Ol.SHADOW_WIDTH_HEIGHT_PCF_BIAS_INFO_OFFSET=Ol.SHADOW_NEAR_FAR_LINEAR_SELF_INFO_OFFSET+4,Ol.SHADOW_LIGHT_PACKING_NBIAS_NULL_INFO_OFFSET=Ol.SHADOW_WIDTH_HEIGHT_PCF_BIAS_INFO_OFFSET+4,Ol.SHADOW_COLOR_OFFSET=Ol.SHADOW_LIGHT_PACKING_NBIAS_NULL_INFO_OFFSET+4,Ol.COUNT=Ol.SHADOW_COLOR_OFFSET+4,Ol.SIZE=4*Ol.COUNT,Ol.NAME="CCShadow",Ol.BINDING=Sl.UBO_SHADOW,Ol.DESCRIPTOR=new gs(Ol.BINDING,Ta.UNIFORM_BUFFER,1,da.ALL),Ol.LAYOUT=new es(Rl.GLOBAL,Ol.BINDING,Ol.NAME,[new $a("cc_matLightPlaneProj",ea.MAT4,1),new $a("cc_matLightView",ea.MAT4,1),new $a("cc_matLightViewProj",ea.MAT4,1),new $a("cc_shadowNFLSInfo",ea.FLOAT4,1),new $a("cc_shadowWHPBInfo",ea.FLOAT4,1),new $a("cc_shadowLPNNInfo",ea.FLOAT4,1),new $a("cc_shadowColor",ea.FLOAT4,1)],1),bl.layouts[Ol.NAME]=Ol.LAYOUT,bl.bindings[Ol.BINDING]=Ol.DESCRIPTOR;const Ll=Sl.SAMPLER_SHADOWMAP,zl=new gs(Ll,Ta.SAMPLER_TEXTURE,1,da.FRAGMENT),Fl=new ts(Rl.GLOBAL,Ll,"cc_shadowMap",ea.SAMPLER2D,1);bl.layouts.cc_shadowMap=Fl,bl.bindings[Ll]=zl;const Bl=Sl.SAMPLER_GBUFFER_ALBEDOMAP,Ul=new gs(Bl,Ta.SAMPLER_TEXTURE,1,da.FRAGMENT),jl=new ts(Rl.GLOBAL,Bl,"cc_gbuffer_albedoMap",ea.SAMPLER2D,1);bl.layouts.cc_gbuffer_albedoMap=jl,bl.bindings[Bl]=Ul;const kl=Sl.SAMPLER_GBUFFER_POSITIONMAP,Gl=new gs(kl,Ta.SAMPLER_TEXTURE,1,da.FRAGMENT),Hl=new ts(Rl.GLOBAL,kl,"cc_gbuffer_positionMap",ea.SAMPLER2D,1);bl.layouts.cc_gbuffer_positionMap=Hl,bl.bindings[kl]=Gl;const Vl=Sl.SAMPLER_GBUFFER_NORMALMAP,Wl=new gs(Vl,Ta.SAMPLER_TEXTURE,1,da.FRAGMENT),ql=new ts(Rl.GLOBAL,Vl,"cc_gbuffer_normalMap",ea.SAMPLER2D,1);bl.layouts.cc_gbuffer_normalMap=ql,bl.bindings[Vl]=Wl;const Yl=Sl.SAMPLER_LIGHTING_RESULTMAP,Xl=new gs(Yl,Ta.SAMPLER_TEXTURE,1,da.FRAGMENT),Ql=new ts(Rl.GLOBAL,Yl,"cc_lighting_resultMap",ea.SAMPLER2D,1);bl.layouts.cc_lighting_resultMap=Ql,bl.bindings[Yl]=Xl;const Zl=Sl.SAMPLER_GBUFFER_EMISSIVEMAP,Jl=new gs(Zl,Ta.SAMPLER_TEXTURE,1,da.FRAGMENT),Kl=new ts(Rl.GLOBAL,Zl,"cc_gbuffer_emissiveMap",ea.SAMPLER2D,1);bl.layouts.cc_gbuffer_emissiveMap=Kl,bl.bindings[Zl]=Jl;const $l=Sl.SAMPLER_ENVIRONMENT,ep=new gs($l,Ta.SAMPLER_TEXTURE,1,da.FRAGMENT),tp=new ts(Rl.GLOBAL,$l,"cc_environment",ea.SAMPLER_CUBE,1);bl.layouts.cc_environment=tp,bl.bindings[$l]=ep;const np=Sl.SAMPLER_SPOT_LIGHTING_MAP,ip=new gs(np,Ta.SAMPLER_TEXTURE,1,da.FRAGMENT),op=new ts(Rl.GLOBAL,np,"cc_spotLightingMap",ea.SAMPLER2D,1);bl.layouts.cc_spotLightingMap=op,bl.bindings[np]=ip;class rp{}e("dk",rp),rp.MAT_WORLD_OFFSET=0,rp.MAT_WORLD_IT_OFFSET=rp.MAT_WORLD_OFFSET+16,rp.LIGHTINGMAP_UVPARAM=rp.MAT_WORLD_IT_OFFSET+16,rp.COUNT=rp.LIGHTINGMAP_UVPARAM+4,rp.SIZE=4*rp.COUNT,rp.NAME="CCLocal",rp.BINDING=Tl.UBO_LOCAL,rp.DESCRIPTOR=new gs(rp.BINDING,Ta.UNIFORM_BUFFER,1,da.VERTEX),rp.LAYOUT=new es(Rl.LOCAL,rp.BINDING,rp.NAME,[new $a("cc_matWorld",ea.MAT4,1),new $a("cc_matWorldIT",ea.MAT4,1),new $a("cc_lightingMapUVParam",ea.FLOAT4,1)],1),Cl.layouts[rp.NAME]=rp.LAYOUT,Cl.bindings[rp.BINDING]=rp.DESCRIPTOR;class ap{}ap.BATCHING_COUNT=10,ap.MAT_WORLDS_OFFSET=0,ap.COUNT=16*ap.BATCHING_COUNT,ap.SIZE=4*ap.COUNT,ap.NAME="CCLocalBatched",ap.BINDING=Tl.UBO_LOCAL,ap.DESCRIPTOR=new gs(ap.BINDING,Ta.UNIFORM_BUFFER,1,da.VERTEX),ap.LAYOUT=new es(Rl.LOCAL,ap.BINDING,ap.NAME,[new $a("cc_matWorlds",ea.MAT4,ap.BATCHING_COUNT)],1),Cl.layouts[ap.NAME]=ap.LAYOUT,Cl.bindings[ap.BINDING]=ap.DESCRIPTOR;class sp{}sp.LIGHTS_PER_PASS=1,sp.LIGHT_POS_OFFSET=0,sp.LIGHT_COLOR_OFFSET=sp.LIGHT_POS_OFFSET+4*sp.LIGHTS_PER_PASS,sp.LIGHT_SIZE_RANGE_ANGLE_OFFSET=sp.LIGHT_COLOR_OFFSET+4*sp.LIGHTS_PER_PASS,sp.LIGHT_DIR_OFFSET=sp.LIGHT_SIZE_RANGE_ANGLE_OFFSET+4*sp.LIGHTS_PER_PASS,sp.COUNT=sp.LIGHT_DIR_OFFSET+4*sp.LIGHTS_PER_PASS,sp.SIZE=4*sp.COUNT,sp.NAME="CCForwardLight",sp.BINDING=Tl.UBO_FORWARD_LIGHTS,sp.DESCRIPTOR=new gs(sp.BINDING,Ta.DYNAMIC_UNIFORM_BUFFER,1,da.FRAGMENT),sp.LAYOUT=new es(Rl.LOCAL,sp.BINDING,sp.NAME,[new $a("cc_lightPos",ea.FLOAT4,sp.LIGHTS_PER_PASS),new $a("cc_lightColor",ea.FLOAT4,sp.LIGHTS_PER_PASS),new $a("cc_lightSizeRangeAngle",ea.FLOAT4,sp.LIGHTS_PER_PASS),new $a("cc_lightDir",ea.FLOAT4,sp.LIGHTS_PER_PASS)],1),Cl.layouts[sp.NAME]=sp.LAYOUT,Cl.bindings[sp.BINDING]=sp.DESCRIPTOR;class cp{}e("ct",cp),cp.JOINTS_TEXTURE_INFO_OFFSET=0,cp.COUNT=cp.JOINTS_TEXTURE_INFO_OFFSET+4,cp.SIZE=4*cp.COUNT,cp.NAME="CCSkinningTexture",cp.BINDING=Tl.UBO_SKINNING_TEXTURE,cp.DESCRIPTOR=new gs(cp.BINDING,Ta.UNIFORM_BUFFER,1,da.VERTEX),cp.LAYOUT=new es(Rl.LOCAL,cp.BINDING,cp.NAME,[new $a("cc_jointTextureInfo",ea.FLOAT4,1)],1),Cl.layouts[cp.NAME]=cp.LAYOUT,Cl.bindings[cp.BINDING]=cp.DESCRIPTOR;class lp{}e("cl",lp),lp.JOINTS_ANIM_INFO_OFFSET=0,lp.COUNT=lp.JOINTS_ANIM_INFO_OFFSET+4,lp.SIZE=4*lp.COUNT,lp.NAME="CCSkinningAnimation",lp.BINDING=Tl.UBO_SKINNING_ANIMATION,lp.DESCRIPTOR=new gs(lp.BINDING,Ta.UNIFORM_BUFFER,1,da.VERTEX),lp.LAYOUT=new es(Rl.LOCAL,lp.BINDING,lp.NAME,[new $a("cc_jointAnimInfo",ea.FLOAT4,1)],1),Cl.layouts[lp.NAME]=lp.LAYOUT,Cl.bindings[lp.BINDING]=lp.DESCRIPTOR,e("cv","a_jointAnimInfo");class pp{}e("cs",pp),pp.JOINTS_OFFSET=0,pp.COUNT=pp.JOINTS_OFFSET+360,pp.SIZE=4*pp.COUNT,pp.NAME="CCSkinning",pp.BINDING=Tl.UBO_SKINNING_TEXTURE,pp.DESCRIPTOR=new gs(pp.BINDING,Ta.UNIFORM_BUFFER,1,da.VERTEX),pp.LAYOUT=new es(Rl.LOCAL,pp.BINDING,pp.NAME,[new $a("cc_joints",ea.FLOAT4,90)],1),Cl.layouts[pp.NAME]=pp.LAYOUT,Cl.bindings[pp.BINDING]=pp.DESCRIPTOR;class up{}e("bs",up),up.MAX_MORPH_TARGET_COUNT=60,up.OFFSET_OF_WEIGHTS=0,up.OFFSET_OF_DISPLACEMENT_TEXTURE_WIDTH=4*up.MAX_MORPH_TARGET_COUNT,up.OFFSET_OF_DISPLACEMENT_TEXTURE_HEIGHT=up.OFFSET_OF_DISPLACEMENT_TEXTURE_WIDTH+4,up.OFFSET_OF_VERTICES_COUNT=up.OFFSET_OF_DISPLACEMENT_TEXTURE_HEIGHT+4,up.COUNT_BASE_4_BYTES=4*Math.ceil(up.MAX_MORPH_TARGET_COUNT/4)+4,up.SIZE=4*up.COUNT_BASE_4_BYTES,up.NAME="CCMorph",up.BINDING=Tl.UBO_MORPH,up.DESCRIPTOR=new gs(up.BINDING,Ta.UNIFORM_BUFFER,1,da.VERTEX),up.LAYOUT=new es(Rl.LOCAL,up.BINDING,up.NAME,[new $a("cc_displacementWeights",ea.FLOAT4,up.MAX_MORPH_TARGET_COUNT/4),new $a("cc_displacementTextureInfo",ea.FLOAT4,1)],1),Cl.layouts[up.NAME]=up.LAYOUT,Cl.bindings[up.BINDING]=up.DESCRIPTOR;const _p=e("cu",Tl.SAMPLER_JOINTS),fp=new gs(_p,Ta.SAMPLER_TEXTURE,1,da.VERTEX),hp=new ts(Rl.LOCAL,_p,"cc_jointTexture",ea.SAMPLER2D,1);Cl.layouts.cc_jointTexture=hp,Cl.bindings[_p]=fp;const mp=e("bC",Tl.SAMPLER_MORPH_POSITION),dp=new gs(mp,Ta.SAMPLER_TEXTURE,1,da.VERTEX),vp=new ts(Rl.LOCAL,mp,"cc_PositionDisplacements",ea.SAMPLER2D,1);Cl.layouts.cc_PositionDisplacements=vp,Cl.bindings[mp]=dp;const gp=e("bB",Tl.SAMPLER_MORPH_NORMAL),Ap=new gs(gp,Ta.SAMPLER_TEXTURE,1,da.VERTEX),yp=new ts(Rl.LOCAL,gp,"cc_NormalDisplacements",ea.SAMPLER2D,1);Cl.layouts.cc_NormalDisplacements=yp,Cl.bindings[gp]=Ap;const xp=e("bA",Tl.SAMPLER_MORPH_TANGENT),bp=new gs(xp,Ta.SAMPLER_TEXTURE,1,da.VERTEX),Cp=new ts(Rl.LOCAL,xp,"cc_TangentDisplacements",ea.SAMPLER2D,1);Cl.layouts.cc_TangentDisplacements=Cp,Cl.bindings[xp]=bp;const Sp=Tl.SAMPLER_LIGHTMAP,Ep=new gs(Sp,Ta.SAMPLER_TEXTURE,1,da.FRAGMENT),wp=new ts(Rl.LOCAL,Sp,"cc_lightingMap",ea.SAMPLER2D,1);Cl.layouts.cc_lightingMap=wp,Cl.bindings[Sp]=Ep;const Tp=Tl.SAMPLER_SPRITE,Pp=new gs(Tp,Ta.SAMPLER_TEXTURE,1,da.FRAGMENT),Ip=new ts(Rl.LOCAL,Tp,"cc_spriteTexture",ea.SAMPLER2D,1);Cl.layouts.cc_spriteTexture=Ip,Cl.bindings[Tp]=Pp;const Rp=Al.makeMaskExclude([Al.BitMask.UI_2D,Al.BitMask.GIZMOS,Al.BitMask.EDITOR,Al.BitMask.SCENE_GIZMO,Al.BitMask.PROFILER]);let Np,Dp,Mp,Op,Lp;Al.makeMaskExclude([Al.BitMask.UI_2D,Al.BitMask.PROFILER]),Al.Enum.ALL,function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(Np||(Np={})),function(e){e[e.ORTHO=0]="ORTHO",e[e.PERSPECTIVE=1]="PERSPECTIVE"}(Dp||(Dp={})),function(e){e[e.F1_8=0]="F1_8",e[e.F2_0=1]="F2_0",e[e.F2_2=2]="F2_2",e[e.F2_5=3]="F2_5",e[e.F2_8=4]="F2_8",e[e.F3_2=5]="F3_2",e[e.F3_5=6]="F3_5",e[e.F4_0=7]="F4_0",e[e.F4_5=8]="F4_5",e[e.F5_0=9]="F5_0",e[e.F5_6=10]="F5_6",e[e.F6_3=11]="F6_3",e[e.F7_1=12]="F7_1",e[e.F8_0=13]="F8_0",e[e.F9_0=14]="F9_0",e[e.F10_0=15]="F10_0",e[e.F11_0=16]="F11_0",e[e.F13_0=17]="F13_0",e[e.F14_0=18]="F14_0",e[e.F16_0=19]="F16_0",e[e.F18_0=20]="F18_0",e[e.F20_0=21]="F20_0",e[e.F22_0=22]="F22_0"}(Mp||(Mp={})),function(e){e[e.ISO100=0]="ISO100",e[e.ISO200=1]="ISO200",e[e.ISO400=2]="ISO400",e[e.ISO800=3]="ISO800"}(Op||(Op={})),function(e){e[e.D1=0]="D1",e[e.D2=1]="D2",e[e.D4=2]="D4",e[e.D8=3]="D8",e[e.D15=4]="D15",e[e.D30=5]="D30",e[e.D60=6]="D60",e[e.D125=7]="D125",e[e.D250=8]="D250",e[e.D500=9]="D500",e[e.D1000=10]="D1000",e[e.D2000=11]="D2000",e[e.D4000=12]="D4000"}(Lp||(Lp={}));const zp=[1.8,2,2.2,2.5,2.8,3.2,3.5,4,4.5,5,5.6,6.3,7.1,8,9,10,11,13,14,16,18,20,22],Fp=[1,.5,1/4,1/8,1/15,1/30,1/60,.008,.004,.002,.001,5e-4,1/4e3],Bp=[100,200,400,800],Up=new mn,jp=new mn,kp=new Rn,Gp=Ra.STENCIL<<1,Hp=[];class Vp{constructor(e){if(this.isWindowSize=!0,this.screenScale=void 0,this._device=void 0,this._scene=null,this._node=null,this._name=null,this._enabled=!1,this._proj=-1,this._aspect=void 0,this._orthoHeight=10,this._fovAxis=Np.VERTICAL,this._fov=Jt(45),this._nearClip=1,this._farClip=1e3,this._clearColor=new Ha(.2,.2,.2,1),this._viewport=new Hn(0,0,1,1),this._curTransform=Zr.IDENTITY,this._isProjDirty=!0,this._matView=new Rn,this._matViewInv=null,this._matProj=new Rn,this._matProjInv=new Rn,this._matViewProj=new Rn,this._matViewProjInv=new Rn,this._frustum=new sl,this._forward=new mn,this._position=new mn,this._priority=0,this._aperture=Mp.F16_0,this._apertureValue=void 0,this._shutter=Lp.D125,this._shutterValue=0,this._iso=Op.ISO100,this._isoValue=0,this._ec=0,this._poolHandle=Hi,this._frustumHandle=Hi,this._window=null,this._device=e,this._apertureValue=zp[this._aperture],this._shutterValue=Fp[this._shutter],this._isoValue=Bp[this._iso],this._aspect=this.screenScale=1,!Hp.length){const t=e.capabilities.clipSpaceSignY;Hp[Zr.IDENTITY]=new Rn(1,0,0,0,0,t),Hp[Zr.ROTATE_90]=new Rn(0,1,0,0,-t,0),Hp[Zr.ROTATE_180]=new Rn(-1,0,0,0,0,-t),Hp[Zr.ROTATE_270]=new Rn(0,-1,0,0,t,0)}}initialize(e){this._name=e.name,this._node=e.node,this._proj=e.projection,this._priority=e.priority||0,this._aspect=this.screenScale=1;const t=this._poolHandle=Eo.alloc();Eo.set(t,Co.WIDTH,1),Eo.set(t,Co.HEIGHT,1),Eo.set(t,Co.CLEAR_FLAGS,Ra.NONE),Eo.set(t,Co.CLEAR_DEPTH,1),Eo.set(t,Co.NODE,this._node.handle),Eo.set(t,Co.VISIBILITY,Rp),this._scene&&Eo.set(t,Co.SCENE,this._scene.handle),this._frustumHandle=Fo.alloc(),Eo.set(t,Co.FRUSTUM,this._frustumHandle),this.updateExposure(),this.changeTargetWindow(e.window),console.log(`Created Camera: ${this._name} ${Eo.get(t,Co.WIDTH)}x${Eo.get(t,Co.HEIGHT)}`)}destroy(){this._window&&this._window.detachCamera(this),this._name=null,this._poolHandle&&(Eo.free(this._poolHandle),this._poolHandle=Hi,this._frustumHandle&&(Fo.free(this._frustumHandle),this._frustumHandle=Hi))}attachToScene(e){this._scene=e,this._enabled=!0,Eo.set(this._poolHandle,Co.SCENE,e.handle)}detachFromScene(){this._scene=null,this._enabled=!1,Eo.set(this._poolHandle,Co.SCENE,0)}resize(e,t){const n=this._poolHandle;Eo.set(n,Co.WIDTH,e),Eo.set(n,Co.HEIGHT,t),this._aspect=e*this._viewport.width/(t*this._viewport.height),this._isProjDirty=!0}setFixedSize(e,t){const n=this._poolHandle;Eo.set(n,Co.WIDTH,e),Eo.set(n,Co.HEIGHT,t),this._aspect=e*this._viewport.width/(t*this._viewport.height),this.isWindowSize=!1}update(e=!1){if(!this._node)return;let t=!1;(this._node.hasChangedFlags||e)&&(Rn.invert(this._matView,this._node.worldMatrix),Eo.setMat4(this._poolHandle,Co.MAT_VIEW,this._matView),this._forward.x=-this._matView.m02,this._forward.y=-this._matView.m06,this._forward.z=-this._matView.m10,this._node.getWorldPosition(this._position),Eo.setVec3(this._poolHandle,Co.POSITION,this._position),Eo.setVec3(this._poolHandle,Co.FORWARD,this._forward),t=!0);let n=this._device.surfaceTransform;if(this._isProjDirty||this._curTransform!==n){var i;this._curTransform=n;const e=this._device.capabilities.clipSpaceSignY;if((null===(i=this.window)||void 0===i?void 0:i.hasOffScreenAttachments)&&(n=Zr.IDENTITY),this._proj===Dp.PERSPECTIVE)Rn.perspective(this._matProj,this._fov,this._aspect,this._nearClip,this._farClip,this._fovAxis===Np.VERTICAL,this._device.capabilities.clipSpaceMinZ,e,n);else{const t=this._orthoHeight*this._aspect,i=this._orthoHeight;Rn.ortho(this._matProj,-t,t,-i,i,this._nearClip,this._farClip,this._device.capabilities.clipSpaceMinZ,e,n)}Rn.invert(this._matProjInv,this._matProj),Eo.setMat4(this._poolHandle,Co.MAT_PROJ,this._matProj),Eo.setMat4(this._poolHandle,Co.MAT_PROJ_INV,this._matProjInv),t=!0,this._isProjDirty=!1}t&&(Rn.multiply(this._matViewProj,this._matProj,this._matView),Rn.invert(this._matViewProjInv,this._matViewProj),this._frustum.update(this._matViewProj,this._matViewProjInv),Eo.setMat4(this._poolHandle,Co.MAT_VIEW_PROJ,this._matViewProj),Eo.setMat4(this._poolHandle,Co.MAT_VIEW_PROJ_INV,this._matViewProjInv),cl(this._frustumHandle,this._frustum))}set node(e){this._node=e}get node(){return this._node}set enabled(e){this._enabled=e}get enabled(){return this._enabled}set orthoHeight(e){this._orthoHeight=e,this._isProjDirty=!0}get orthoHeight(){return this._orthoHeight}set projectionType(e){this._proj=e,this._isProjDirty=!0}get projectionType(){return this._proj}set fovAxis(e){this._fovAxis=e,this._isProjDirty=!0}get fovAxis(){return this._fovAxis}set fov(e){this._fov=e,this._isProjDirty=!0}get fov(){return this._fov}set nearClip(e){this._nearClip=e,this._isProjDirty=!0}get nearClip(){return this._nearClip}set farClip(e){this._farClip=e,this._isProjDirty=!0}get farClip(){return this._farClip}set clearColor(e){this._clearColor.x=e.x,this._clearColor.y=e.y,this._clearColor.z=e.z,this._clearColor.w=e.w,Eo.setVec4(this._poolHandle,Co.CLEAR_COLOR,e)}get clearColor(){return this._clearColor}get viewport(){return this._viewport}set viewport(e){const{x:t,width:n,height:i}=e,o=this._device.capabilities.clipSpaceSignY<0?1-e.y-i:e.y;switch(this._device.surfaceTransform){case Zr.ROTATE_90:this._viewport.x=1-o-i,this._viewport.y=t,this._viewport.width=i,this._viewport.height=n;break;case Zr.ROTATE_180:this._viewport.x=1-t-n,this._viewport.y=1-o-i,this._viewport.width=n,this._viewport.height=i;break;case Zr.ROTATE_270:this._viewport.x=o,this._viewport.y=1-t-n,this._viewport.width=i,this._viewport.height=n;break;case Zr.IDENTITY:this._viewport.x=t,this._viewport.y=o,this._viewport.width=n,this._viewport.height=i}Eo.setVec4(this._poolHandle,Co.VIEW_PORT,this._viewport),this.resize(this.width,this.height)}get scene(){return this._scene}get name(){return this._name}get width(){return Eo.get(this._poolHandle,Co.WIDTH)}get height(){return Eo.get(this._poolHandle,Co.HEIGHT)}get aspect(){return this._aspect}set matView(e){this._matView=e,Eo.setMat4(this._poolHandle,Co.MAT_VIEW,this._matView)}get matView(){return this._matView}set matViewInv(e){this._matViewInv=e}get matViewInv(){return this._matViewInv||this._node.worldMatrix}set matProj(e){this._matProj=e,Eo.setMat4(this._poolHandle,Co.MAT_PROJ,this._matProj)}get matProj(){return this._matProj}set matProjInv(e){this._matProjInv=e,Eo.setMat4(this._poolHandle,Co.MAT_PROJ_INV,this._matProjInv)}get matProjInv(){return this._matProjInv}set matViewProj(e){this._matViewProj=e,Eo.setMat4(this._poolHandle,Co.MAT_VIEW_PROJ,this._matViewProj)}get matViewProj(){return this._matViewProj}set matViewProjInv(e){this._matViewProjInv=e,Eo.setMat4(this._poolHandle,Co.MAT_VIEW_PROJ_INV,this._matViewProjInv)}get matViewProjInv(){return this._matViewProjInv}set frustum(e){this._frustum=e,cl(this._frustumHandle,e)}get frustum(){return this._frustum}set window(e){this._window=e,e&&Eo.set(this._poolHandle,Co.WINDOW,e.handle)}get window(){return this._window}set forward(e){this._forward=e,Eo.setVec3(this._poolHandle,Co.FORWARD,this._forward)}get forward(){return this._forward}set position(e){this._position=e,Eo.setVec3(this._poolHandle,Co.POSITION,this._position)}get position(){return this._position}set visibility(e){Eo.set(this._poolHandle,Co.VISIBILITY,e)}get visibility(){return Eo.get(this._poolHandle,Co.VISIBILITY)}get priority(){return this._priority}set priority(e){this._priority=e}set aperture(e){this._aperture=e,this._apertureValue=zp[this._aperture],this.updateExposure()}get aperture(){return this._aperture}get apertureValue(){return this._apertureValue}set shutter(e){this._shutter=e,this._shutterValue=Fp[this._shutter],this.updateExposure()}get shutter(){return this._shutter}get shutterValue(){return this._shutterValue}set iso(e){this._iso=e,this._isoValue=Bp[this._iso],this.updateExposure()}get iso(){return this._iso}get isoValue(){return this._isoValue}set ec(e){this._ec=e}get ec(){return this._ec}get exposure(){return Eo.get(this._poolHandle,Co.EXPOSURE)}get clearFlag(){return Eo.get(this._poolHandle,Co.CLEAR_FLAGS)}set clearFlag(e){Eo.set(this._poolHandle,Co.CLEAR_FLAGS,e)}get clearDepth(){return Eo.get(this._poolHandle,Co.CLEAR_DEPTH)}set clearDepth(e){Eo.set(this._poolHandle,Co.CLEAR_DEPTH,e)}get clearStencil(){return Eo.get(this._poolHandle,Co.CLEAR_STENCIL)}set clearStencil(e){Eo.set(this._poolHandle,Co.CLEAR_STENCIL,e)}get handle(){return this._poolHandle}changeTargetWindow(e=null){this._window&&this._window.detachCamera(this);const t=e||c.director.root.mainWindow;t&&(t.attachCamera(this),this.resize(t.width,t.height),this._window=t,Eo.set(this._poolHandle,Co.WINDOW,t.handle))}detachCamera(){this._window&&this._window.detachCamera(this)}screenPointToRay(e,t,n){if(!this._node)return null;const i=this._poolHandle,o=Eo.get(i,Co.WIDTH),r=Eo.get(i,Co.HEIGHT),a=this._viewport.x*o,s=this._viewport.y*r,c=this._viewport.width*o,l=this._viewport.height*r,p=this._proj===Dp.PERSPECTIVE,u=this._device.capabilities.clipSpaceSignY,_=In[this._curTransform];mn.set(Up,(t-a)/c*2-1,(n-s)/l*2-1,p?1:-1);const{x:f,y:h}=Up;return Up.x=f*_[0]+h*_[2]*u,Up.y=f*_[1]+h*_[3]*u,mn.transformMat4(p?Up:e.o,Up,this._matViewProjInv),p?(this._node.getWorldPosition(jp),Br.fromPoints(e,jp,Up)):mn.transformQuat(e.d,mn.FORWARD,this._node.worldRotation),e}screenToWorld(e,t){const n=this._poolHandle,i=Eo.get(n,Co.WIDTH),o=Eo.get(n,Co.HEIGHT),r=this._viewport.x*i,a=this._viewport.y*o,s=this._viewport.width*i,c=this._viewport.height*o,l=this._device.capabilities.clipSpaceSignY,p=In[this._curTransform];if(this._proj===Dp.PERSPECTIVE){mn.set(e,(t.x-r)/s*2-1,(t.y-a)/c*2-1,1);const{x:n,y:i}=e;e.x=n*p[0]+i*p[2]*l,e.y=n*p[1]+i*p[3]*l,mn.transformMat4(e,e,this._matViewProjInv),this._node&&this._node.getWorldPosition(Up),mn.lerp(e,Up,e,Zt(this._nearClip/this._farClip,1,t.z))}else{mn.set(e,(t.x-r)/s*2-1,(t.y-a)/c*2-1,2*t.z-1);const{x:n,y:i}=e;e.x=n*p[0]+i*p[2]*l,e.y=n*p[1]+i*p[3]*l,mn.transformMat4(e,e,this._matViewProjInv)}return e}worldToScreen(e,t){const n=this._poolHandle,i=Eo.get(n,Co.WIDTH),o=Eo.get(n,Co.HEIGHT),r=this._viewport.x*i,a=this._viewport.y*o,s=this._viewport.width*i,c=this._viewport.height*o,l=this._device.capabilities.clipSpaceSignY,p=In[this._curTransform];mn.transformMat4(e,t,this._matViewProj);const{x:u,y:_}=e;return e.x=u*p[0]+_*p[2]*l,e.y=u*p[1]+_*p[3]*l,e.x=r+.5*(e.x+1)*s,e.y=a+.5*(e.y+1)*c,e.z=.5*e.z+.5,e}worldMatrixToScreen(e,t,n,i){Rn.multiply(e,this._matViewProj,t),Rn.multiply(e,Hp[this._curTransform],e);const o=n/2,r=i/2;return Rn.identity(kp),Rn.transform(kp,kp,mn.set(Up,o,r,0)),Rn.scale(kp,kp,mn.set(Up,o,r,1)),Rn.multiply(e,kp,e),e}updateExposure(){const e=Math.log2(this._apertureValue*this._apertureValue/this._shutterValue*100/this._isoValue);Eo.set(this._poolHandle,Co.EXPOSURE,.833333/2**e)}}let Wp,qp;!function(e){e[e.LOCAL=0]="LOCAL",e[e.WORLD=1]="WORLD"}(Wp||(Wp={})),function(e){e[e.NONE=0]="NONE",e[e.POSITION=1]="POSITION",e[e.ROTATION=2]="ROTATION",e[e.SCALE=4]="SCALE",e[e.RS=e.ROTATION|e.SCALE]="RS",e[e.TRS=e.POSITION|e.ROTATION|e.SCALE]="TRS",e[e.TRS_MASK=~e.TRS]="TRS_MASK"}(qp||(qp=e("b_",{}))),c.internal.TransformBit=qp;class Yp{get root(){return this._root}get name(){return this._name}get cameras(){return this._cameras}get mainLight(){return this._mainLight}get sphereLights(){return this._sphereLights}get spotLights(){return this._spotLights}get models(){return this._models}get handle(){return this._scenePoolHandle}get batches(){return this._batches}static registerCreateFunc(e){e._createSceneFun=e=>new Yp(e)}constructor(e){this._root=void 0,this._name="",this._cameras=[],this._models=[],this._batches=[],this._directionalLights=[],this._sphereLights=[],this._spotLights=[],this._mainLight=null,this._modelId=0,this._scenePoolHandle=Hi,this._modelArrayHandle=Hi,this._batchArrayHandle=Hi,this._sphereLightsHandle=Hi,this._spotLightsHandle=Hi,this._root=e,this._createHandles()}initialize(e){return this._name=e.name,this._createHandles(),!0}update(e){const t=this._mainLight;t&&t.update();const n=this._sphereLights;for(let e=0;e<n.length;e++)n[e].update();const i=this._spotLights;for(let e=0;e<i.length;e++)i[e].update();const o=this._models;for(let t=0;t<o.length;t++){const n=o[t];n.enabled&&(n.updateTransform(e),n.updateUBOs(e))}}destroy(){this.removeCameras(),this.removeSphereLights(),this.removeSpotLights(),this.removeModels(),this._modelArrayHandle&&(Zi.free(this._modelArrayHandle),this._modelArrayHandle=Hi),this._scenePoolHandle&&(bo.free(this._scenePoolHandle),this._scenePoolHandle=Hi),this._sphereLightsHandle&&($i.free(this._sphereLightsHandle),this._sphereLightsHandle=Hi),this._spotLightsHandle&&($i.free(this._spotLightsHandle),this._spotLightsHandle=Hi),this._batchArrayHandle&&(to.free(this._batchArrayHandle),this._batchArrayHandle=Hi)}addCamera(e){e.attachToScene(this),this._cameras.push(e)}removeCamera(e){for(let t=0;t<this._cameras.length;++t)if(this._cameras[t]===e)return this._cameras.splice(t,1),void e.detachFromScene()}removeCameras(){for(const e of this._cameras)e.detachFromScene();this._cameras.splice(0)}setMainLight(e){this._mainLight=e,bo.set(this._scenePoolHandle,yo.MAIN_LIGHT,e.handle)}unsetMainLight(e){if(this._mainLight===e){const e=this._directionalLights;e.length?(this._mainLight=e[e.length-1],this._mainLight.node&&(this._mainLight.node.hasChangedFlags|=qp.ROTATION)):this._mainLight=null}}addDirectionalLight(e){e.attachToScene(this),this._directionalLights.push(e)}removeDirectionalLight(e){for(let t=0;t<this._directionalLights.length;++t)if(this._directionalLights[t]===e)return e.detachFromScene(),void this._directionalLights.splice(t,1)}addSphereLight(e){e.attachToScene(this),this._sphereLights.push(e),$i.push(this._sphereLightsHandle,e.handle)}removeSphereLight(e){for(let t=0;t<this._sphereLights.length;++t)if(this._sphereLights[t]===e)return e.detachFromScene(),this._sphereLights.splice(t,1),void $i.erase(this._sphereLightsHandle,t)}addSpotLight(e){e.attachToScene(this),this._spotLights.push(e),$i.push(this._spotLightsHandle,e.handle)}removeSpotLight(e){for(let t=0;t<this._spotLights.length;++t)if(this._spotLights[t]===e)return e.detachFromScene(),this._spotLights.splice(t,1),void $i.erase(this._spotLightsHandle,t)}removeSphereLights(){for(let e=0;e<this._sphereLights.length;++e)this._sphereLights[e].detachFromScene();this._sphereLights.length=0,$i.clear(this._sphereLightsHandle)}removeSpotLights(){for(let e=0;e<this._spotLights.length;++e)this._spotLights[e].detachFromScene();this._spotLights=[],$i.clear(this._spotLightsHandle)}addModel(e){e.attachToScene(this),this._models.push(e),Zi.push(this._modelArrayHandle,e.handle)}removeModel(e){for(let t=0;t<this._models.length;++t)if(this._models[t]===e)return e.detachFromScene(),this._models.splice(t,1),void Zi.erase(this._modelArrayHandle,t)}removeModels(){for(const e of this._models)e.detachFromScene(),e.destroy();this._models.length=0,Zi.clear(this._modelArrayHandle)}addBatch(e){this._batches.push(e),to.push(this._batchArrayHandle,e.handle)}removeBatch(e){for(let t=0;t<this._batches.length;++t)if(this._batches[t]===e)return this._batches.splice(t,1),void to.erase(this._batchArrayHandle,t)}removeBatches(){this._batches.length=0,to.clear(this._batchArrayHandle)}onGlobalPipelineStateChanged(){for(const e of this._models)e.onGlobalPipelineStateChanged()}generateModelId(){return this._modelId++}_createHandles(){this._modelArrayHandle||(this._modelArrayHandle=Zi.alloc(),this._scenePoolHandle=bo.alloc(),bo.set(this._scenePoolHandle,yo.MODEL_ARRAY,this._modelArrayHandle),this._spotLightsHandle=$i.alloc(),bo.set(this._scenePoolHandle,yo.SPOT_LIGHT_ARRAY,this._spotLightsHandle),this._sphereLightsHandle=$i.alloc(),bo.set(this._scenePoolHandle,yo.SPHERE_LIGHT_ARRAY,this._sphereLightsHandle)),this._batchArrayHandle||(this._batchArrayHandle=to.alloc(),bo.set(this._scenePoolHandle,yo.BATCH_ARRAY_2D,this._batchArrayHandle))}}function Xp(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Qp(e,t,n,i,o){var r={};return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}const Zp=()=>{},Jp=()=>Zp,Kp=$p((()=>{}));function $p(e){return function(t){return"function"==typeof t?e(t):function(n){return e(n,t)}}}function eu(e){return t=>n=>{!function(e,t,n){const i=nu(e);if(i){const e=iu(i,"proto");iu(e,"editor")[t]=n}}(n,e,t)}}const tu="__ccclassCache__";function nu(e){return iu(e,tu)}function iu(e,t){return e[t]||(e[t]={})}const ou=e("bD",$p(((e,t)=>{let n=Ye.getSuper(e);n===Object&&(n=null);const i={name:t,extends:n,ctor:e},o=e[tu];if(o){const t=o.proto;t&&Ye.mixin(i,t),e[tu]=void 0}return jt(i)}))),ru=e("cS",eu("requireComponent")),au=e("bV",eu("executionOrder")),su=e("cO",Kp);function cu(e,t,n){let i=null;function o(e,t,n){const o=nu(e.constructor);if(o){const r=iu(o,"proto"),a=iu(r,"properties");!function(e,t,n,i,o,r){let a;const s=o&&(o.get||o.set);i&&(a=Rt(i,s));const c=t[n],l=Ye.mixin(c||{},a||i||{});if(s)o.get&&(l.get=o.get),o.set&&(l.set=o.set);else if(o)o.initializer&&(l.default=function(e){let t;try{t=e()}catch(t){return e}return"object"!=typeof t||null===t?t:e}(o.initializer));else{const t=r.default||(r.default=function(e){let t;try{t=new e}catch(e){return{}}return t}(e));t.hasOwnProperty(n)&&(l.default=t[n])}t[n]=l}(e.constructor,a,t,i,n,o)}}return void 0===e?cu({type:void 0}):void 0===t?(i=e,o):void o(e,t,n)}const lu=e("bF",((e,t,n)=>cu(uu({}))(e,t,n))),pu=e("dB",((e,t,n)=>cu({editorOnly:!0})(e,t,n)));function uu(e){return e.__noImplicit=!0,"serializable"in e||(e.serializable=!0),e}const _u=e("bR",Kp),fu=e("bW",Jp),hu=e("e8",Kp),mu=Jp,du=Jp,vu=e("bU",Jp),gu=e("bP",Zp),Au=e("bY",Jp),yu=(e("dX",Zp),e("cT",Jp)),xu=e("bX",Jp),bu=e("c7",Jp),Cu=e("dp",Jp),Su=e("dq",Jp),Eu=Jp,wu=e("c6",Zp),Tu=e("cQ",Jp),Pu=(e("cb",Jp),e("dO",Zp),e("cU",Zp),e("bS",Zp)),Iu=Mu(yt),Ru=Mu(xt),Nu=Mu(bt),Du=e("cI",Mu(Ct));function Mu(e){return cu({type:e})}const Ou=e("cy",((e,t,n)=>cu({__noImplicit:!0,override:!0})(e,t,n)));class Lu{constructor(e){this._map=null,this._count=0,e?(this._map=e,this._count=Object.keys(e).length):(this._map=Ye.createMap(!0),this._count=0)}add(e,t){return e in this._map||this._count++,this._map[e]=t}get(e){return this._map[e]}has(e){return e in this._map}remove(e){const t=this._map[e];return e in this._map&&(delete this._map[e],this._count--),t}clear(){0!==this._count&&(this._map=Ye.createMap(!0),this._count=0)}forEach(e){for(const t in this._map)e(this._map[t],t)}find(e){for(const t in this._map)if(e(this._map[t],t))return this._map[t];return null}get count(){return this._count}destroy(){this._map=null}}class zu{constructor(e,t){this.id=zu._pipelineId++,this.name="",this.pipes=[],this.name=e;for(let e=0,n=t.length;e<n;e++)this.pipes.push(t[e])}insert(e,t){return t>this.pipes.length?(P(4921),this):(this.pipes.splice(t,0,e),this)}append(e){return this.pipes.push(e),this}remove(e){return this.pipes.splice(e,1),this}sync(e){const t=this.pipes;if(0===t.length)return null;e.isFinish=!1;for(let n=0,i=t.length;n<i;){const o=(0,t[n])(e);if(o)return e.isFinish=!0,o;n++,n!==i&&(e.input=e.output,e.output=null)}return e.isFinish=!0,e.output}async(e){0!==this.pipes.length&&(e.isFinish=!1,this._flow(0,e))}_flow(e,t){(0,this.pipes[e])(t,(n=>{n?(t.isFinish=!0,t.dispatch("complete",n)):++e<this.pipes.length?(t.input=t.output,t.output=null,this._flow(e,t)):(t.isFinish=!0,t.dispatch("complete",n,t.output))}))}}zu._pipelineId=0;const Fu=new Lu,Bu=new Lu,Uu=new Lu,ju=new Lu,ku=new zu("normal load",[]),Gu=new zu("fetch",[]),Hu=new zu("transform url",[]);let Vu;!function(e){e.UUID="uuid",e.PATH="path",e.DIR="dir",e.URL="url",e.SCENE="scene"}(Vu||(Vu={}));const Wu={default:{priority:0},preload:{maxConcurrency:6,maxRequestsPerFrame:2,priority:-1},scene:{maxConcurrency:20,maxRequestsPerFrame:20,priority:1},bundle:{maxConcurrency:20,maxRequestsPerFrame:20,priority:2},remote:{maxRetryCount:4}};let qu;!function(e){e.RESOURCES="resources",e.MAIN="main",e.START_SCENE="start-scene"}(qu||(qu={}));class Yu{static create(e){let t;return 0!==Yu._deadPool.length?(t=Yu._deadPool.pop(),t.set(e)):t=new Yu(e),t}constructor(e){this.id=Yu._taskId++,this.onComplete=null,this.onProgress=null,this.onError=null,this.source=null,this.output=null,this.input=null,this.progress=null,this.options=null,this.isFinish=!0,this.set(e)}set(e=Object.create(null)){this.onComplete=e.onComplete||null,this.onProgress=e.onProgress||null,this.onError=e.onError||null,this.source=this.input=e.input,this.output=null,this.progress=e.progress,this.options=e.options||Object.create(null)}dispatch(e,t,n,i,o){switch(e){case"complete":this.onComplete&&this.onComplete(t,n);break;case"progress":this.onProgress&&this.onProgress(t,n,i,o);break;case"error":this.onError&&this.onError(t,n,i,o);break;default:{const r=`on${e[0].toUpperCase()}${e.substr(1)}`;"function"==typeof this[r]&&this[r](t,n,i,o);break}}}recycle(){Yu._deadPool.length!==Yu.MAX_DEAD_NUM&&(this.onComplete=null,this.onProgress=null,this.onError=null,this.source=this.output=this.input=null,this.progress=null,this.options=null,Yu._deadPool.push(this))}}Yu.MAX_DEAD_NUM=500,Yu._taskId=0,Yu._deadPool=[];const Xu="0123456789abcdef".split(""),Qu=["","","",""],Zu=Qu.concat(Qu,"-",Qu,"-",Qu,"-",Qu,"-",Qu,Qu,Qu),Ju=Zu.map(((e,t)=>"-"===e?NaN:t)).filter(isFinite);function Ku(e){const t=e.split("@")[0];if(22!==t.length)return e;Zu[0]=e[0],Zu[1]=e[1];for(let t=2,n=2;t<22;t+=2){const i=it[e.charCodeAt(t)],o=it[e.charCodeAt(t+1)];Zu[Ju[n++]]=Xu[i>>2],Zu[Ju[n++]]=Xu[(3&i)<<2|o>>4],Zu[Ju[n++]]=Xu[15&o]}return e.replace(t,Zu.join(""))}const $u=/.*[/\\][0-9a-fA-F]{2}[/\\]([0-9a-fA-F-@]{8,}).*/;function e_(e){const t=$u.exec(e);return t?t[1]:""}function t_(e,t){(t=t||Object.create(null)).__isNative__=t.isNative,t.ext=t.nativeExt;const n=ju.find((t=>!!t.getAssetInfo(e)));return n&&(t.bundle=n.name),o_(e,t)}function n_(e){return e&&(e instanceof c.SceneAsset||e instanceof c.Scene)}function i_(e){return e&&(46===e.charCodeAt(0)&&47===e.charCodeAt(1)?e=e.slice(2):47===e.charCodeAt(0)&&(e=e.slice(1))),e}function o_(e,t){const n=Yu.create({input:e,options:t}),i=[];try{const e=Hu.sync(n);for(const t of e){const e=t.url;t.recycle(),i.push(e)}}catch(e){for(const e of n.output)e.recycle();A(e.message,e.stack)}return n.recycle(),i.length>1?i:i[0]}var r_,a_,s_,c_,l_=Object.freeze({__proto__:null,getUuidFromURL:e_,getUrlWithUuid:t_,isScene:n_,normalize:i_,transform:o_,decodeUuid:Ku});class p_{constructor(e,t){this.type=void 0,this.bubbles=void 0,this.target=null,this.currentTarget=null,this.eventPhase=0,this.propagationStopped=!1,this.propagationImmediateStopped=!1,this.type=e,this.bubbles=!!t}unuse(){this.type=p_.NO_TYPE,this.target=null,this.currentTarget=null,this.eventPhase=p_.NONE,this.propagationStopped=!1,this.propagationImmediateStopped=!1}reuse(e,t){this.type=e,this.bubbles=t||!1}isStopped(){return this.propagationStopped||this.propagationImmediateStopped}getCurrentTarget(){return this.currentTarget}getType(){return this.type}}e("dz",p_),p_.NO_TYPE="no_type",p_.TOUCH="touch",p_.MOUSE="mouse",p_.KEYBOARD="keyboard",p_.ACCELERATION="acceleration",p_.NONE=0,p_.CAPTURING_PHASE=1,p_.AT_TARGET=2,p_.BUBBLING_PHASE=3,c.Event=p_;let u_=e("bG",ou("cc.Asset")((c_=class extends(oi(Xn)){static deserialize(e){return c.deserialize(e)}get nativeUrl(){if(!this._nativeUrl){if(!this._native)return"";const e=this._native;if(47===e.charCodeAt(0))return e.slice(1);46===e.charCodeAt(0)?this._nativeUrl=t_(this._uuid,{nativeExt:e,isNative:!0}):this._nativeUrl=t_(this._uuid,{__nativeName__:e,nativeExt:xi(e),isNative:!0})}return this._nativeUrl}get _nativeAsset(){return this._file}set _nativeAsset(e){this._file=e}constructor(...e){super(...e),this.loaded=!0,Xp(this,"_native",s_,this),this._nativeUrl="",this.__onLoadedInvoked__=!1,this.__nativeDepend__=null,this.__depends__=null,this._file=null,this._ref=0,Object.defineProperty(this,"_uuid",{value:"",writable:!0})}toString(){return this.nativeUrl}serialize(){}_setRawAsset(e,t=!0){this._native=!1!==t?e||"":`/${e}`}get _nativeDep(){if(this._native)return{__isNative__:!0,uuid:this._uuid,ext:this._native}}get refCount(){return this._ref}addRef(){return this._ref++,this}decRef(e=!0){return this._ref>0&&this._ref--,e&&c.assetManager._releaseManager.tryRelease(this),this}onLoaded(){}initDefault(e){e&&(this._uuid=e),this.isDefault=!0}validate(){return!0}},s_=Qp((a_=c_).prototype,"_native",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qp(a_.prototype,"_nativeAsset",[cu],Object.getOwnPropertyDescriptor(a_.prototype,"_nativeAsset"),a_.prototype),r_=a_))||r_);u_.prototype.createNode=null,c.Asset=u_;let __,f_,h_,m_=1024;var d_,v_,g_,A_;function y_(e){return c.sys.capabilities.imageBitmap&&e instanceof ImageBitmap}!function(e){e[e.RGB565=Kr.R5G6B5]="RGB565",e[e.RGB5A1=Kr.RGB5A1]="RGB5A1",e[e.RGBA4444=Kr.RGBA4]="RGBA4444",e[e.RGB888=Kr.RGB8]="RGB888",e[e.RGB32F=Kr.RGB32F]="RGB32F",e[e.RGBA8888=Kr.RGBA8]="RGBA8888",e[e.RGBA32F=Kr.RGBA32F]="RGBA32F",e[e.A8=Kr.A8]="A8",e[e.I8=Kr.L8]="I8",e[e.AI8=Kr.LA8]="AI8",e[e.RGB_PVRTC_2BPPV1=Kr.PVRTC_RGB2]="RGB_PVRTC_2BPPV1",e[e.RGBA_PVRTC_2BPPV1=Kr.PVRTC_RGBA2]="RGBA_PVRTC_2BPPV1",e[e.RGB_A_PVRTC_2BPPV1=m_++]="RGB_A_PVRTC_2BPPV1",e[e.RGB_PVRTC_4BPPV1=Kr.PVRTC_RGB4]="RGB_PVRTC_4BPPV1",e[e.RGBA_PVRTC_4BPPV1=Kr.PVRTC_RGBA4]="RGBA_PVRTC_4BPPV1",e[e.RGB_A_PVRTC_4BPPV1=m_++]="RGB_A_PVRTC_4BPPV1",e[e.RGB_ETC1=Kr.ETC_RGB8]="RGB_ETC1",e[e.RGBA_ETC1=m_++]="RGBA_ETC1",e[e.RGB_ETC2=Kr.ETC2_RGB8]="RGB_ETC2",e[e.RGBA_ETC2=Kr.ETC2_RGBA8]="RGBA_ETC2",e[e.RGBA_ASTC_4x4=Kr.ASTC_RGBA_4x4]="RGBA_ASTC_4x4",e[e.RGBA_ASTC_5x4=Kr.ASTC_RGBA_5x4]="RGBA_ASTC_5x4",e[e.RGBA_ASTC_5x5=Kr.ASTC_RGBA_5x5]="RGBA_ASTC_5x5",e[e.RGBA_ASTC_6x5=Kr.ASTC_RGBA_6x5]="RGBA_ASTC_6x5",e[e.RGBA_ASTC_6x6=Kr.ASTC_RGBA_6x6]="RGBA_ASTC_6x6",e[e.RGBA_ASTC_8x5=Kr.ASTC_RGBA_8x5]="RGBA_ASTC_8x5",e[e.RGBA_ASTC_8x6=Kr.ASTC_RGBA_8x6]="RGBA_ASTC_8x6",e[e.RGBA_ASTC_8x8=Kr.ASTC_RGBA_8x8]="RGBA_ASTC_8x8",e[e.RGBA_ASTC_10x5=Kr.ASTC_RGBA_10x5]="RGBA_ASTC_10x5",e[e.RGBA_ASTC_10x6=Kr.ASTC_RGBA_10x6]="RGBA_ASTC_10x6",e[e.RGBA_ASTC_10x8=Kr.ASTC_RGBA_10x8]="RGBA_ASTC_10x8",e[e.RGBA_ASTC_10x10=Kr.ASTC_RGBA_10x10]="RGBA_ASTC_10x10",e[e.RGBA_ASTC_12x10=Kr.ASTC_RGBA_12x10]="RGBA_ASTC_12x10",e[e.RGBA_ASTC_12x12=Kr.ASTC_RGBA_12x12]="RGBA_ASTC_12x12"}(__||(__=e("cB",{}))),function(e){e[e.REPEAT=pa.WRAP]="REPEAT",e[e.CLAMP_TO_EDGE=pa.CLAMP]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=pa.MIRROR]="MIRRORED_REPEAT",e[e.CLAMP_TO_BORDER=pa.BORDER]="CLAMP_TO_BORDER"}(f_||(f_=e("dH",{}))),function(e){e[e.NONE=la.NONE]="NONE",e[e.LINEAR=la.LINEAR]="LINEAR",e[e.NEAREST=la.POINT]="NEAREST"}(h_||(h_=e("cA",{})));let x_,b_=e("bu",ou("cc.ImageAsset")((A_=g_=class e extends u_{get _nativeAsset(){return this._nativeData}set _nativeAsset(e){e instanceof HTMLElement||y_(e)||(e.format=e.format||this._format),this.reset(e)}get data(){return this._nativeData&&!0!==(e=this._nativeData)._compressed&&(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||y_(e))?this._nativeData:this._nativeData&&this._nativeData._data;var e}get width(){return this._nativeData.width||this._width}get height(){return this._nativeData.height||this._height}get format(){return this._format}get isCompressed(){return this._format>=__.RGB_ETC1&&this._format<=__.RGBA_ASTC_12x12||this._format>=__.RGB_A_PVRTC_2BPPV1&&this._format<=__.RGBA_ETC1}get url(){return this.nativeUrl}set _texture(e){this._tex=e}get _texture(){if(!this._tex){const e=new c.Texture2D;e.name=this.nativeUrl,e.image=this,this._tex=e}return this._tex}constructor(e){super(),this._nativeData=void 0,this._tex=void 0,this._exportedExts=void 0,this._format=__.RGBA8888,this._width=0,this._height=0,this.loaded=!1,this._nativeData={_data:null,width:0,height:0,format:0,_compressed:!1},void 0!==e&&this.reset(e)}reset(e){y_(e)?(this._nativeData=e,this._onDataComplete()):e instanceof HTMLElement?(this._nativeData=e,e.complete||e instanceof HTMLCanvasElement?this._onDataComplete():(this.loaded=!1,e.addEventListener("load",(()=>{this._onDataComplete()})),e.addEventListener("error",(e=>{P(3119,e.message)})))):(this._nativeData=e,this._format=e.format,this._onDataComplete())}destroy(){return this.data&&this.data instanceof HTMLImageElement?(this.data.src="",this._setRawAsset(""),this.data.destroy()):y_(this.data)&&this.data.close&&this.data.close(),super.destroy()}_serialize(){}_deserialize(t){let n="";"string"==typeof t?n=t:(this._width=t.w,this._height=t.h,n=t.fmt);const i=c.director.root?c.director.root.device:null,o=n.split("_");let r="",a=Number.MAX_VALUE,s=this._format,l="";const p=c.macro.SUPPORT_TEXTURE_FORMATS;for(const t of o){const n=t.split("@"),o=parseInt(n[0],void 0),u=e.extnames[o]||n[0],_=p.indexOf(u);if(-1!==_&&_<a){const e=n[1]?parseInt(n[1]):this._format;if(!(".astc"!==u||i&&i.hasFeature(Jr.FORMAT_ASTC)))continue;if(!(".pvr"!==u||i&&i.hasFeature(Jr.FORMAT_PVRTC)))continue;if(!(e!==__.RGB_ETC1&&e!==__.RGBA_ETC1||i&&i.hasFeature(Jr.FORMAT_ETC1)))continue;if(!(e!==__.RGB_ETC2&&e!==__.RGBA_ETC2||i&&i.hasFeature(Jr.FORMAT_ETC2)))continue;if(".webp"===u&&!c.sys.capabilities.webp)continue;a=_,l=u,s=e}else r||(r=u)}l?(this._setRawAsset(l),this._format=s):r?(this._setRawAsset(r),P(3120,r,r)):P(3121)}_onDataComplete(){this.loaded=!0,this.emit("load")}initDefault(t){if(super.initDefault(t),e._sharedPlaceHolderCanvas)this.reset(e._sharedPlaceHolderCanvas);else{const t=document.createElement("canvas"),n=t.getContext("2d"),i=t.width=t.height=2;n.fillStyle="#ff00ff",n.fillRect(0,0,i,i),this.reset(t),e._sharedPlaceHolderCanvas=t}}validate(){return!!this.data}},g_.extnames=[".png",".jpg",".jpeg",".bmp",".webp",".pvr",".pkm",".astc"],g_._sharedPlaceHolderCanvas=null,Qp((v_=A_).prototype,"_nativeAsset",[Ou],Object.getOwnPropertyDescriptor(v_.prototype,"_nativeAsset"),v_.prototype),d_=v_))||d_);c.ImageAsset=b_,function(e){e[e.minFilter=0]="minFilter",e[e.magFilter=1]="magFilter",e[e.mipFilter=2]="mipFilter",e[e.addressU=3]="addressU",e[e.addressV=4]="addressV",e[e.addressW=5]="addressW",e[e.maxAnisotropy=6]="maxAnisotropy",e[e.cmpFunc=7]="cmpFunc",e[e.mipLODBias=8]="mipLODBias",e[e.total=9]="total"}(x_||(x_={}));const C_=[la.LINEAR,la.LINEAR,la.NONE,pa.WRAP,pa.WRAP,pa.WRAP,0,ua.NEVER,0],S_=T_(C_),E_=new Ha,w_=new Ka;function T_(e){let t=0,n=0;for(let i=0;i<C_.length;i++)switch(t=e[i]||C_[i],i){case x_.minFilter:n|=t;break;case x_.magFilter:n|=t<<2;break;case x_.mipFilter:n|=t<<4;break;case x_.addressU:n|=t<<6;break;case x_.addressV:n|=t<<8;break;case x_.addressW:n|=t<<10;break;case x_.maxAnisotropy:n|=t<<12;break;case x_.cmpFunc:n|=t<<16;break;case x_.mipLODBias:n|=t<<28}return n}const P_=e("bw",new class{constructor(){this._cache={}}getSampler(e,t){t||(t=S_);const n=this._cache[t];return n||(w_.minFilter=3&t,w_.magFilter=t>>2&3,w_.mipFilter=t>>4&3,w_.addressU=t>>6&3,w_.addressV=t>>8&3,w_.addressW=t>>10&3,w_.maxAnisotropy=t>>12&15,w_.cmpFunc=t>>16&15,w_.mipLODBias=t>>28&15,w_.borderColor=E_,this._cache[t]=e.createSampler(w_))}});var I_,R_,N_,D_,M_,O_,L_,z_,F_,B_,U_,j_;c.samplerLib=P_;const k_=new ae("Tex");let G_=e("cV",ou("cc.TextureBase")((j_=U_=class extends u_{get isCompressed(){return this._format>=__.RGB_ETC1&&this._format<=__.RGBA_ASTC_12x12||this._format>=__.RGB_A_PVRTC_2BPPV1&&this._format<=__.RGBA_ETC1}get width(){return this._width}get height(){return this._height}constructor(){super(),Xp(this,"_format",N_,this),Xp(this,"_minFilter",D_,this),Xp(this,"_magFilter",M_,this),Xp(this,"_mipFilter",O_,this),Xp(this,"_wrapS",L_,this),Xp(this,"_wrapT",z_,this),Xp(this,"_wrapR",F_,this),Xp(this,"_anisotropy",B_,this),this._width=1,this._height=1,this._id=void 0,this._samplerInfo=[],this._samplerHash=0,this._gfxSampler=null,this._gfxDevice=null,this._textureHash=0,this._id=k_.getNewId(),this.loaded=!1,this._gfxDevice=this._getGFXDevice(),this._textureHash=Qs(this._id,666)}getId(){return this._id}getPixelFormat(){return this._format}getAnisotropy(){return this._anisotropy}setWrapMode(e,t,n){this._wrapS=e,this._samplerInfo[x_.addressU]=e,this._wrapT=t,this._samplerInfo[x_.addressV]=t,void 0!==n&&(this._wrapR=n,this._samplerInfo[x_.addressW]=n),this._samplerHash=T_(this._samplerInfo),this._gfxDevice&&(this._gfxSampler=P_.getSampler(this._gfxDevice,this._samplerHash))}setFilters(e,t){this._minFilter=e,this._samplerInfo[x_.minFilter]=e,this._magFilter=t,this._samplerInfo[x_.magFilter]=t,this._samplerHash=T_(this._samplerInfo),this._gfxDevice&&(this._gfxSampler=P_.getSampler(this._gfxDevice,this._samplerHash))}setMipFilter(e){this._mipFilter=e,this._samplerInfo[x_.mipFilter]=e,this._samplerHash=T_(this._samplerInfo),this._gfxDevice&&(this._gfxSampler=P_.getSampler(this._gfxDevice,this._samplerHash))}setAnisotropy(e){this._anisotropy=e,this._samplerInfo[x_.maxAnisotropy]=e,this._samplerHash=T_(this._samplerInfo),this._gfxDevice&&(this._gfxSampler=P_.getSampler(this._gfxDevice,this._samplerHash))}destroy(){const e=super.destroy();return e&&c.director.root&&c.director.root.batcher2D&&c.director.root.batcher2D._releaseDescriptorSetCache(this._textureHash),e}getHash(){return this._textureHash}getGFXTexture(){return null}getSamplerHash(){return this._samplerHash}getGFXSampler(){return this._gfxSampler||(this._gfxDevice?this._gfxSampler=P_.getSampler(this._gfxDevice,this._samplerHash):R(9302)),this._gfxSampler}_serialize(e){return""}_deserialize(e,t){const n=e.split(",");n.unshift(""),n.length>=5&&(this.setFilters(parseInt(n[1]),parseInt(n[2])),this.setWrapMode(parseInt(n[3]),parseInt(n[4]))),n.length>=7&&(this.setMipFilter(parseInt(n[5])),this.setAnisotropy(parseInt(n[6])))}_getGFXDevice(){return c.director.root?c.director.root.device:null}_getGFXFormat(){return this._getGFXPixelFormat(this._format)}_setGFXFormat(e){this._format=void 0===e?__.RGBA8888:e}_getGFXPixelFormat(e){return e===__.RGBA_ETC1?e=__.RGB_ETC1:e===__.RGB_A_PVRTC_4BPPV1?e=__.RGB_PVRTC_4BPPV1:e===__.RGB_A_PVRTC_2BPPV1&&(e=__.RGB_PVRTC_2BPPV1),e}},U_.PixelFormat=__,U_.WrapMode=f_,U_.Filter=h_,N_=Qp((R_=j_).prototype,"_format",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return __.RGBA8888}}),D_=Qp(R_.prototype,"_minFilter",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h_.LINEAR}}),M_=Qp(R_.prototype,"_magFilter",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h_.LINEAR}}),O_=Qp(R_.prototype,"_mipFilter",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h_.NONE}}),L_=Qp(R_.prototype,"_wrapS",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f_.REPEAT}}),z_=Qp(R_.prototype,"_wrapT",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f_.REPEAT}}),F_=Qp(R_.prototype,"_wrapR",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f_.REPEAT}}),B_=Qp(R_.prototype,"_anisotropy",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I_=R_))||I_);c.TextureBase=G_;const H_=[On,mn,Bn,bn,fn,kn,Hn,Rn];function V_(e,t){e.x=t[1],e.y=t[2],e.z=t[3],e.w=t[4]}const W_=[(e,t)=>{e.x=t[1],e.y=t[2]},(e,t)=>{e.x=t[1],e.y=t[2],e.z=t[3]},V_,V_,(e,t)=>{e._val=t[1]},(e,t)=>{e.width=t[1],e.height=t[2]},(e,t)=>{e.x=t[1],e.y=t[2],e.width=t[3],e.height=t[4]},(e,t)=>{Rn.fromArray(e,t,1)}];class q_{constructor(){this.uuidObjList=null,this.uuidPropList=null,this.uuidList=null,this.uuidTypeList=[]}init(e){this.uuidObjList=e[8],this.uuidPropList=e[9],this.uuidList=e[10]}reset(){this.uuidList=null,this.uuidObjList=null,this.uuidPropList=null}push(e,t,n,i){this.uuidObjList.push(e),this.uuidPropList.push(t),this.uuidList.push(n),this.uuidTypeList.push(i||"")}}function Y_(e,t){const n=e[4][t[0]],i=n[0],o=new(0,i[0]),r=i[1],a=i[2],s=n[n.length-1];let c=1;for(;c<s;++c)o[r[n[c]]]=t[c];for(;c<t.length;++c){const s=r[n[c]],l=i[n[c]+a];(0,$_[l])(e,o,s,t[c])}return o}function X_(e,t,n){const i=new t;return i._deserialize?i._deserialize(n,e[0]):R(5303,ge(t)),i}function Q_(e,t,n,i){i>=0?t[n]=e[5][i]:e[7][3*~i]=t}function Z_(e){return(t,n,i,o)=>{n[i]=o;for(let n=0;n<o.length;++n)e(t,o,n,o[n])}}function J_(e,t,n,i){t[n]=null,e[8][i]=t}function K_(e,t,n,i){t[n]=Y_(e,i)}e("eU",q_),q_.pool=new We((e=>{e.reset()}),5),q_.pool.get=function(){return this._get()||new q_};const $_=new Array(13);function ef(e,t){return e||rf.reportMissingClass(t),Object}function tf(e,t,n,i,o,r){let a=e(t);if(!a){if(o)return void(n[i]=(s=n,c=i,l=t,function(){const t=e(l)||ef(r,l);return s[c]=t,new t}));a=ef(r,t)}var s,c,l;n[i]=a}function nf(e,t,n){const i=n||Ge,o=e[3];for(let e=0;e<o.length;++e){const r=o[e];"string"!=typeof r?tf(i,r[0],r,0,t,n):tf(i,r,o,e,t,n)}}function of(e){const t=e[4];if(t){const n=e[3];for(let e=0;e<t.length;++e){const i=t[e];i[0]=n[i[0]]}}}function rf(e,t,n){"string"==typeof e&&(e=JSON.parse(e));const i=!t;let o;{(t=t||q_.pool.get()).init(e),n=n||{};let i=e[0],s=!1;if("object"==typeof i&&(s=i.preprocessed,i=i.version),i<1)throw new Error(O(5304,i));n._version=i,n.result=t,e[0]=n,s||(nf(e,!1,n.classFinder),of(e)),c.game._isCloning=!0;const l=e[5],p=function(e){const t=e[5],n=e[6],i=0===n?0:n.length;let o=t[t.length-1],r=t.length-i;"number"!=typeof o?o=0:(o<0&&(o=~o),--r);let a=0;for(;a<r;++a)t[a]=Y_(e,t[a]);const s=e[3];for(let o=0;o<i;++o,++a){let i=n[o];const r=t[a];if(i>=0){const n=s[i];t[a]=X_(e,n,r)}else i=~i,(0,$_[i])(e,t,a,r)}return o}(e);c.game._isCloning=!1,e[7]&&function(e,t,n){const i=e.length-1;let o=0;const r=3*e[i];for(;o<r;o+=3){const i=e[o],r=t[e[o+2]],a=e[o+1];a>=0?i[n[a]]=r:i[~a]=r}for(;o<i;o+=3){const i=t[e[o]],r=t[e[o+2]],a=e[o+1];a>=0?i[n[a]]=r:i[~a]=r}}(e[7],l,e[2]),function(e){const t=e[5],n=e[2],i=e[1],o=e[8],r=e[9],a=e[10];for(let e=0;e<o.length;++e){const s=o[e];"number"==typeof s&&(o[e]=t[s]);let c=r[e];"number"==typeof c&&(c=c>=0?n[c]:~c,r[e]=c);const l=a[e];"number"==typeof l&&(a[e]=i[l])}}(e);for(let e=0;e<l.length;++e){var r,a;null===(r=l[e])||void 0===r||null===(a=r.onAfterDeserialize_JSB)||void 0===a||a.call(r)}o=l[p]}return i&&q_.pool.put(t),o}$_[0]=function(e,t,n,i){t[n]=i},$_[1]=Q_,$_[2]=Z_(Q_),$_[3]=Z_(J_),$_[4]=K_,$_[5]=function(e,t,n,i){W_[i[0]](t[n],i)},$_[6]=J_,$_[7]=function(e,t,n,i){t[n].set(i)},$_[8]=function(e,t,n,i){const o=new H_[i[0]];W_[i[0]](o,i),t[n]=o},$_[9]=Z_(K_),$_[10]=function(e,t,n,i){const o=e[3][i[0]];t[n]=X_(e,o,i[1])},$_[11]=function(e,t,n,i){const o=i[0];t[n]=o;for(let t=1;t<i.length;t+=3){const n=i[t],r=i[t+1],a=i[t+2];(0,$_[r])(e,o,n,a)}},$_[12]=function(e,t,n,i){const o=i[0];t[n]=o;for(let t=0;t<o.length;++t){const n=o[t],r=i[t+1];0!==r&&(0,$_[r])(e,o,t,n)}},rf.Details=q_,rf.reportMissingClass=e=>{P(5302,e)};class af{constructor(e){this.preprocessed=!0,this.version=e}}function sf(e,t,n){return[1,0,0,[e],0,n?[t,-1]:[t],[0],0,[],[],[]]}var cf,lf,pf;c.deserialize=rf;let uf=e("f0",ou("cc.Script")(cf=class extends u_{})||cf);c._Script=uf;let _f=e("f1",ou("cc.JavaScript")(lf=class extends uf{})||lf);c._JavaScript=_f;let ff=e("f2",ou("cc.TypeScript")(pf=class extends uf{})||pf);var hf,mf,df,vf,gf,Af,yf,xf,bf,Cf,Sf;c._TypeScript=ff;const Ef=new ae("Comp"),wf=Xn.Flags.IsOnLoadCalled;let Tf=e("c8",(hf=ou("cc.Component"),mf=yu(),df=Mu(uf),vf=xu(),hf((Sf=Cf=class extends Xn{constructor(...e){super(...e),Xp(this,"node",yf,this),Xp(this,"_enabled",xf,this),Xp(this,"__prefab",bf,this),this._sceneGetter=null,this._id=Ef.getNewId()}get name(){if(this._name)return this._name;let e=ge(this);const t=e.lastIndexOf(".");return t>=0&&(e=e.slice(t+1)),`${this.node.name}<${e}>`}set name(e){this._name=e}get uuid(){return this._id}get __scriptAsset(){return null}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&(this._enabled=e,this.node.activeInHierarchy)){const t=c.director._compScheduler;e?t.enableComp(this):t.disableComp(this)}}get enabledInHierarchy(){return this._enabled&&this.node&&this.node.activeInHierarchy}get _isOnLoadCalled(){return this._objFlags&wf}_getRenderScene(){return this._sceneGetter?this._sceneGetter():this.node.scene._renderScene}addComponent(e){return this.node.addComponent(e)}getComponent(e){return this.node.getComponent(e)}getComponents(e){return this.node.getComponents(e)}getComponentInChildren(e){return this.node.getComponentInChildren(e)}getComponentsInChildren(e){return this.node.getComponentsInChildren(e)}destroy(){return!!super.destroy()&&(this._enabled&&this.node.activeInHierarchy&&c.director._compScheduler.disableComp(this),!0)}_onPreDestroy(){this.unscheduleAllCallbacks(),c.director._nodeActivator.destroyComp(this),this.node._removeComponent(this)}_instantiate(e){return e||(e=c.instantiate._clone(this,this)),e&&(e.node=null),e}schedule(e,t=0,n=c.macro.REPEAT_FOREVER,i=0){D(e,1619),D((t=t||0)>=0,1620),n=Number.isNaN(n)?c.macro.REPEAT_FOREVER:n,i=i||0;const o=c.director.getScheduler(),r=o.isTargetPaused(this);o.schedule(e,this,t,n,i,r)}scheduleOnce(e,t=0){this.schedule(e,0,0,t)}unschedule(e){e&&c.director.getScheduler().unschedule(e,this)}unscheduleAllCallbacks(){c.director.getScheduler().unscheduleAllForTarget(this)}},Cf.system=null,Qp((Af=Sf).prototype,"__scriptAsset",[mf,df,vf,Pu],Object.getOwnPropertyDescriptor(Af.prototype,"__scriptAsset"),Af.prototype),yf=Qp(Af.prototype,"node",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xf=Qp(Af.prototype,"_enabled",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bf=Qp(Af.prototype,"__prefab",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gf=Af))||gf));const Pf=Tf.prototype;var If,Rf,Nf;Pf.update=null,Pf.lateUpdate=null,Pf.__preload=null,Pf.onLoad=null,Pf.start=null,Pf.onEnable=null,Pf.onDisable=null,Pf.onDestroy=null,Pf.onFocusInEditor=null,Pf.onLostFocusInEditor=null,Pf.resetInEditor=null,Pf._getLocalBounds=null,Pf.onRestore=null,Tf._requireComponent=null,Tf._executionOrder=0,fe(Tf,"_registerEditorProps",((e,t)=>{const n=t.requireComponent;n&&(e._requireComponent=n);const i=t.executionOrder;i&&"number"==typeof i&&(e._executionOrder=i)})),c.Component=Tf;let Df=e("fG",ou("cc.MissingScript")(If=mu()((Nf=Qp((Rf=class extends Tf{static safeFindClass(e){const t=Ge(e);if(t)return t;c.deserialize.reportMissingClass(e)}constructor(){super(),Xp(this,"_$erialized",Nf,this)}onLoad(){P(4600,this.node.name)}}).prototype,"_$erialized",[lu,pu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),If=Rf))||If)||If);function Mf(e,t){let n;n=Df.safeFindClass;const i=q_.pool.get();let o;try{o=rf(e,i,{classFinder:n,customEnv:t})}catch(e){throw A(e),q_.pool.put(i),e}o._uuid=t.__uuid__||"";const r=i.uuidList,a=i.uuidObjList,s=i.uuidPropList,c=i.uuidTypeList||[],l=[];for(let e=0;e<r.length;e++){const t=r[e];l[e]={uuid:Ku(t),owner:a[e],prop:s[e],type:Ye._getClassById(c[e])}}return o.__depends__=l,o._native&&(o.__nativeDepend__=!0),q_.pool.put(i),o}c._MissingScript=Df;var Of,Lf=new class{constructor(){this._depends=new Lu}init(){this._depends.clear()}getNativeDep(e){const t=this._depends.get(e);return t&&t.nativeDep?{...t.nativeDep}:null}getDeps(e){return this._depends.has(e)?this._depends.get(e).deps:[]}getDepsRecursively(e){const t=Object.create(null),n=[];return this._descend(e,t,n),n}remove(e){this._depends.remove(e)}parse(e,t){let n=null;if(Array.isArray(t)||t.__type__){if(this._depends.has(e))return this._depends.get(e);if(Array.isArray(t)&&!function(e){const t=e[5],n=t[t.length-1];return"number"==typeof n&&n<0}(t))n={deps:this._parseDepsFromJson(t)};else try{const i=Mf(t,{__uuid__:e});n=this._parseDepsFromAsset(i),n.nativeDep&&(n.nativeDep.uuid=e),Uu.add(`${e}@import`,i)}catch(t){Bu.remove(`${e}@import`),n={deps:[]}}}else{if(this._depends.has(e)&&(n=this._depends.get(e),n.parsedFromExistAsset))return n;n=this._parseDepsFromAsset(t)}return this._depends.add(e,n),n}_parseDepsFromAsset(e){const t={deps:[],parsedFromExistAsset:!0},n=e.__depends__;for(let e=0,i=n.length;e<i;e++)t.deps.push(n[e].uuid);return e.__nativeDepend__&&(t.nativeDep=e._nativeDep),t}_parseDepsFromJson(e){let t=null;return t=function(e){const t=e[1];return e[10].map((e=>t[e]))}(e),t.forEach(((e,n)=>t[n]=Ku(e))),t}_descend(e,t,n){const i=this.getDeps(e);for(let e=0;e<i.length;e++){const o=i[e];t[o]||(t[o]=!0,n.push(o),this._descend(o,t,n))}}};const zf=[new ka];function Ff(e){return e&&0==(e&e-1)}let Bf=ou("cc.SimpleTexture")(Of=class extends G_{constructor(...e){super(...e),this._gfxTexture=null,this._mipmapLevel=1,this._textureWidth=0,this._textureHeight=0}get mipmapLevel(){return this._mipmapLevel}getGFXTexture(){return this._gfxTexture}destroy(){return this._tryDestroyTexture(),super.destroy()}updateImage(){this.updateMipmaps(0)}updateMipmaps(e=0,t){}uploadData(e,t=0,n=0){if(!this._gfxTexture||this._mipmapLevel<=t)return;const i=this._getGFXDevice();if(!i)return;const o=zf[0];o.texExtent.width=this._textureWidth>>t,o.texExtent.height=this._textureHeight>>t,o.texSubres.mipLevel=t,o.texSubres.baseArrayLayer=n,ArrayBuffer.isView(e)?i.copyBuffersToTexture([e],this._gfxTexture,zf):i.copyTexImagesToTexture([e],this._gfxTexture,zf)}_assignImage(e,t,n){const i=()=>{const i=e.data;if(i&&(this.uploadData(i,t,n),this._checkTextureLoaded(),et.CLEANUP_IMAGE_CACHE)){const t=Lf.getDeps(this._uuid),n=t.indexOf(e._uuid);-1!==n&&(ne(t,n),e.decRef())}};if(e.loaded)i();else{if(e.once("load",(()=>{i()})),!this.isCompressed){const e=c.builtinResMgr.get("black-texture").image;this.uploadData(e.data,t,n)}c.assetManager.postLoadNative(e)}}_checkTextureLoaded(){this._textureReady()}_textureReady(){this.loaded=!0,this.emit("load")}_setMipmapLevel(e){this._mipmapLevel=e<1?1:e}_getGfxTextureCreateInfo(e){return null}_tryReset(){if(this._tryDestroyTexture(),0===this._mipmapLevel)return;const e=this._getGFXDevice();e&&this._createTexture(e)}_createTexture(e){if(0===this._width||0===this._height)return;let t=sa.NONE;this._mipFilter!==h_.NONE&&function(e,t,n){return!(e.gfxAPI===Qr.WEBGL)||Ff(t)&&Ff(n)}(e,this._width,this._height)&&(this._mipmapLevel=function(e,t){let n=Math.max(e,t),i=0;for(;n;)n>>=1,i++;return i}(this._width,this._height),t=sa.GEN_MIPMAP);const n=this._getGfxTextureCreateInfo({usage:aa.SAMPLED|aa.TRANSFER_DST,format:this._getGFXFormat(),levelCount:this._mipmapLevel,flags:t|sa.IMMUTABLE});if(!n)return;const i=e.createTexture(n);this._textureWidth=n.width,this._textureHeight=n.height,this._gfxTexture=i}_tryDestroyTexture(){this._gfxTexture&&(this._gfxTexture.destroy(),this._gfxTexture=null)}})||Of;var Uf,jf,kf,Gf,Hf;c.SimpleTexture=Bf;let Vf=e("bv",(Uf=ou("cc.Texture2D"),jf=Mu([b_]),Uf((Hf=Qp((Gf=class extends Bf{constructor(...e){super(...e),Xp(this,"_mipmaps",Hf,this)}get mipmaps(){return this._mipmaps}set mipmaps(e){if(this._mipmaps=e,this._setMipmapLevel(this._mipmaps.length),this._mipmaps.length>0){const e=this._mipmaps[0];this.reset({width:e.width,height:e.height,format:e.format,mipmapLevel:this._mipmaps.length}),this._mipmaps.forEach(((e,t)=>{this._assignImage(e,t)}))}else this.reset({width:0,height:0,mipmapLevel:this._mipmaps.length})}get image(){return 0===this._mipmaps.length?null:this._mipmaps[0]}set image(e){this.mipmaps=e?[e]:[]}initialize(){this.mipmaps=this._mipmaps}onLoaded(){this.initialize()}reset(e){this._width=e.width,this._height=e.height,this._setGFXFormat(e.format),this._setMipmapLevel(e.mipmapLevel||1),this._tryReset()}create(e,t,n=__.RGBA8888,i=1){this.reset({width:e,height:t,format:n,mipmapLevel:i})}toString(){return 0!==this._mipmaps.length?this._mipmaps[0].url:""}updateMipmaps(e=0,t){if(e>=this._mipmaps.length)return;const n=Math.min(void 0===t?this._mipmaps.length:t,this._mipmaps.length-e);for(let t=0;t<n;++t){const n=e+t;this._assignImage(this._mipmaps[n],n)}}getHtmlElementObj(){return this._mipmaps[0]&&this._mipmaps[0].data instanceof HTMLElement?this._mipmaps[0].data:null}destroy(){return this._mipmaps=[],super.destroy()}description(){return`<cc.Texture2D | Name = ${this._mipmaps[0]?this._mipmaps[0].url:""} | Dimension = ${this.width} x ${this.height}>`}releaseTexture(){this.destroy()}_serialize(e){return null}_deserialize(e,t){const n=e;super._deserialize(n.base,t),this._mipmaps=new Array(n.mipmaps.length);for(let e=0;e<n.mipmaps.length;++e){if(this._mipmaps[e]=new b_,!n.mipmaps[e])continue;const i=n.mipmaps[e];t.result.push(this._mipmaps,`${e}`,i,Ye._getClassId(b_)),this._mipmaps[e]._texture=this}}_getGfxTextureCreateInfo(e){const t=new Za(ra.TEX2D);return t.width=this._width,t.height=this._height,Object.assign(t,e)}_checkTextureLoaded(){let e=!0;for(let t=0;t<this._mipmaps.length;++t)if(!this._mipmaps[t].loaded){e=!1;break}e&&super._textureReady()}initDefault(e){super.initDefault(e);const t=new b_;t.initDefault(),this.image=t}validate(){return this.mipmaps&&0!==this.mipmaps.length}}).prototype,"_mipmaps",[jf],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kf=Gf))||kf));var Wf,qf,Yf,Xf,Qf,Zf;c.Texture2D=Vf,function(e){e[e.right=0]="right",e[e.left=1]="left",e[e.top=2]="top",e[e.bottom=3]="bottom",e[e.front=4]="front",e[e.back=5]="back"}(Zf||(Zf={}));let Jf=e("e$",ou("cc.TextureCube")((Qf=Xf=class e extends Bf{constructor(...e){super(...e),Xp(this,"_mipmaps",Yf,this)}get mipmaps(){return this._mipmaps}set mipmaps(e){if(this._mipmaps=e,this._setMipmapLevel(this._mipmaps.length),this._mipmaps.length>0){const e=this._mipmaps[0].front;this.reset({width:e.width,height:e.height,format:e.format,mipmapLevel:this._mipmaps.length}),this._mipmaps.forEach(((e,t)=>{Kf(e,((e,n)=>{this._assignImage(e,t,n)}))}))}else this.reset({width:0,height:0,mipmapLevel:this._mipmaps.length})}get image(){return 0===this._mipmaps.length?null:this._mipmaps[0]}set image(e){this.mipmaps=e?[e]:[]}static fromTexture2DArray(t,n){const i=[],o=t.length/6;for(let e=0;e<o;e++){const n=6*e;i.push({front:t[n+Zf.front].image,back:t[n+Zf.back].image,left:t[n+Zf.left].image,right:t[n+Zf.right].image,top:t[n+Zf.top].image,bottom:t[n+Zf.bottom].image})}return(n=n||new e).mipmaps=i,n}onLoaded(){this.mipmaps=this._mipmaps,this.loaded=!0,this.emit("load")}reset(e){this._width=e.width,this._height=e.height,this._setGFXFormat(e.format),this._setMipmapLevel(e.mipmapLevel||1),this._tryReset()}updateMipmaps(e=0,t){if(e>=this._mipmaps.length)return;const n=Math.min(void 0===t?this._mipmaps.length:t,this._mipmaps.length-e);for(let t=0;t<n;++t){const n=e+t;Kf(this._mipmaps[n],((e,t)=>{this._assignImage(e,n,t)}))}}destroy(){return this._mipmaps=[],super.destroy()}releaseTexture(){this.mipmaps=[]}_serialize(e){return null}_deserialize(e,t){const n=e;super._deserialize(n.base,t),this._mipmaps=new Array(n.mipmaps.length);for(let e=0;e<n.mipmaps.length;++e){this._mipmaps[e]={front:new b_,back:new b_,left:new b_,right:new b_,top:new b_,bottom:new b_};const i=n.mipmaps[e],o=Ye._getClassId(b_);t.result.push(this._mipmaps[e],"front",i.front,o),t.result.push(this._mipmaps[e],"back",i.back,o),t.result.push(this._mipmaps[e],"left",i.left,o),t.result.push(this._mipmaps[e],"right",i.right,o),t.result.push(this._mipmaps[e],"top",i.top,o),t.result.push(this._mipmaps[e],"bottom",i.bottom,o)}}_getGfxTextureCreateInfo(e){const t=new Za(ra.CUBE);return t.width=this._width,t.height=this._height,t.layerCount=6,Object.assign(t,e),t}initDefault(e){super.initDefault(e);const t=new b_;t.initDefault(),this.mipmaps=[{front:t,back:t,top:t,bottom:t,left:t,right:t}]}validate(){return 0!==this._mipmaps.length&&!this._mipmaps.find((e=>!(e.top&&e.bottom&&e.front&&e.back&&e.left&&e.right)))}},Xf.FaceIndex=Zf,Yf=Qp((qf=Qf).prototype,"_mipmaps",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wf=qf))||Wf);function Kf(e,t){t(e.front,Zf.front),t(e.back,Zf.back),t(e.left,Zf.left),t(e.right,Zf.right),t(e.top,Zf.top),t(e.bottom,Zf.bottom)}c.TextureCube=Jf;const $f=e("fH",[{name:"billboard",techniques:[{name:"add",passes:[{rasterizerState:{cullMode:0},blendState:{targets:[{blend:!0,blendSrc:2,blendDst:1,blendSrcAlpha:2,blendDstAlpha:1}]},program:"billboard|vert:vs_main|tinted-fs:add",depthStencilState:{depthTest:!0,depthWrite:!1},properties:{mainTexture:{value:"grey",type:28},mainTiling_Offset:{value:[1,1,0,0],type:16},tintColor:{value:[.5,.5,.5,.5],type:16}}}]}],shaders:[{name:"billboard|vert:vs_main|tinted-fs:add",hash:456146524,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:50,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:38},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplerTextures:[]}},defines:[{name:"CC_USE_HDR",type:"boolean"}],blocks:[{name:"Constants",defines:[],binding:0,stageFlags:1,members:[{name:"mainTiling_Offset",type:16,count:1},{name:"frameTile_velLenScale",type:16,count:1},{name:"scale",type:16,count:1}]},{name:"builtin",defines:[],binding:1,stageFlags:1,members:[{name:"cc_size_rotation",type:16,count:1}]},{name:"FragConstants",defines:[],binding:2,stageFlags:16,members:[{name:"tintColor",type:16,count:1}]}],samplerTextures:[{name:"mainTexture",type:28,count:1,defines:[],stageFlags:16,binding:3}],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:1},{name:"a_color",type:16,count:1,defines:[],stageFlags:1,format:44,location:2}]}]},{name:"clear-stencil",techniques:[{passes:[{blendState:{targets:[{blend:!0}]},rasterizerState:{cullMode:0},program:"clear-stencil|sprite-vs:vert|sprite-fs:frag",depthStencilState:{depthTest:!1,depthWrite:!1}}]}],shaders:[{name:"clear-stencil|sprite-vs:vert|sprite-fs:frag",hash:1062464958,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:0,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:0},globals:{blocks:[],samplerTextures:[]},locals:{blocks:[],samplerTextures:[]}},defines:[],blocks:[],samplerTextures:[],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0}]}]},{name:"graphics",techniques:[{passes:[{blendState:{targets:[{blend:!0,blendSrc:1,blendDst:4,blendSrcAlpha:1,blendDstAlpha:4}]},rasterizerState:{cullMode:0},program:"graphics|vs:vert|fs:frag",depthStencilState:{depthTest:!1,depthWrite:!1}}]}],shaders:[{name:"graphics|vs:vert|fs:frag",hash:3946667351,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:46,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:0},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplerTextures:[]}},defines:[],blocks:[],samplerTextures:[],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_color",type:16,count:1,defines:[],stageFlags:1,format:44,location:1},{name:"a_dist",type:13,count:1,defines:[],stageFlags:1,format:11,location:2}]}]},{name:"particle-gpu",techniques:[{name:"add",passes:[{rasterizerState:{cullMode:0},blendState:{targets:[{blend:!0,blendSrc:2,blendDst:1,blendSrcAlpha:2,blendDstAlpha:1}]},program:"particle-gpu|particle-vs-gpu:gpvs_main|tinted-fs:add",depthStencilState:{depthTest:!0,depthWrite:!1},properties:{mainTexture:{value:"grey",type:28},mainTiling_Offset:{value:[1,1,0,0],type:16},tintColor:{value:[.5,.5,.5,.5],type:16}}}]}],shaders:[{name:"particle-gpu|particle-vs-gpu:gpvs_main|tinted-fs:add",hash:932177378,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:60,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:38},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplerTextures:[]}},defines:[{name:"CC_RENDER_MODE",type:"number",range:[0,4]},{name:"COLOR_OVER_TIME_MODULE_ENABLE",type:"boolean"},{name:"ROTATION_OVER_TIME_MODULE_ENABLE",type:"boolean"},{name:"SIZE_OVER_TIME_MODULE_ENABLE",type:"boolean"},{name:"FORCE_OVER_TIME_MODULE_ENABLE",type:"boolean"},{name:"VELOCITY_OVER_TIME_MODULE_ENABLE",type:"boolean"},{name:"TEXTURE_ANIMATION_MODULE_ENABLE",type:"boolean"},{name:"CC_USE_WORLD_SPACE",type:"boolean"},{name:"CC_USE_HDR",type:"boolean"}],blocks:[{name:"Constants",defines:[],binding:0,stageFlags:1,members:[{name:"mainTiling_Offset",type:16,count:1},{name:"frameTile_velLenScale",type:16,count:1},{name:"scale",type:16,count:1}]},{name:"SampleConstants",defines:[],binding:1,stageFlags:1,members:[{name:"u_sampleInfo",type:16,count:1}]},{name:"TickConstants",defines:[],binding:2,stageFlags:1,members:[{name:"u_worldRot",type:16,count:1},{name:"u_timeDelta",type:16,count:1}]},{name:"ColorConstant",defines:["COLOR_OVER_TIME_MODULE_ENABLE"],binding:3,stageFlags:1,members:[{name:"u_color_mode",type:5,count:1}]},{name:"RotationConstant",defines:["ROTATION_OVER_TIME_MODULE_ENABLE"],binding:4,stageFlags:1,members:[{name:"u_rotation_mode",type:5,count:1}]},{name:"SizeConstant",defines:["SIZE_OVER_TIME_MODULE_ENABLE"],binding:5,stageFlags:1,members:[{name:"u_size_mode",type:5,count:1}]},{name:"ForceConstant",defines:["FORCE_OVER_TIME_MODULE_ENABLE"],binding:6,stageFlags:1,members:[{name:"u_force_mode",type:5,count:1},{name:"u_force_space",type:5,count:1}]},{name:"VelocityConstant",defines:["VELOCITY_OVER_TIME_MODULE_ENABLE"],binding:7,stageFlags:1,members:[{name:"u_velocity_mode",type:5,count:1},{name:"u_velocity_space",type:5,count:1}]},{name:"AnimationConstant",defines:["TEXTURE_ANIMATION_MODULE_ENABLE"],binding:8,stageFlags:1,members:[{name:"u_anim_info",type:16,count:1}]},{name:"FragConstants",defines:[],binding:9,stageFlags:16,members:[{name:"tintColor",type:16,count:1}]}],samplerTextures:[{name:"color_over_time_tex0",type:28,count:1,defines:["COLOR_OVER_TIME_MODULE_ENABLE"],stageFlags:1,binding:10},{name:"rotation_over_time_tex0",type:28,count:1,defines:["ROTATION_OVER_TIME_MODULE_ENABLE"],stageFlags:1,binding:11},{name:"size_over_time_tex0",type:28,count:1,defines:["SIZE_OVER_TIME_MODULE_ENABLE"],stageFlags:1,binding:12},{name:"force_over_time_tex0",type:28,count:1,defines:["FORCE_OVER_TIME_MODULE_ENABLE"],stageFlags:1,binding:13},{name:"velocity_over_time_tex0",type:28,count:1,defines:["VELOCITY_OVER_TIME_MODULE_ENABLE"],stageFlags:1,binding:14},{name:"texture_animation_tex0",type:28,count:1,defines:["TEXTURE_ANIMATION_MODULE_ENABLE"],stageFlags:1,binding:15},{name:"mainTexture",type:28,count:1,defines:[],stageFlags:16,binding:16}],attributes:[{name:"a_position_starttime",type:16,count:1,defines:[],stageFlags:1,format:44,location:0},{name:"a_size_uv",type:16,count:1,defines:[],stageFlags:1,format:44,location:1},{name:"a_rotation_uv",type:16,count:1,defines:[],stageFlags:1,format:44,location:2},{name:"a_color",type:16,count:1,defines:[],stageFlags:1,format:44,location:3},{name:"a_dir_life",type:16,count:1,defines:[],stageFlags:1,format:44,location:4},{name:"a_rndSeed",type:13,count:1,defines:[],stageFlags:1,format:11,location:5},{name:"a_texCoord",type:15,count:1,defines:["CC_RENDER_MODE"],stageFlags:1,format:32,location:6},{name:"a_texCoord3",type:15,count:1,defines:["CC_RENDER_MODE"],stageFlags:1,format:32,location:7},{name:"a_normal",type:15,count:1,defines:["CC_RENDER_MODE"],stageFlags:1,format:32,location:8},{name:"a_color1",type:16,count:1,defines:["CC_RENDER_MODE"],stageFlags:1,format:44,location:9}]}]},{name:"particle-trail",techniques:[{name:"add",passes:[{rasterizerState:{cullMode:0},blendState:{targets:[{blend:!0,blendSrc:2,blendDst:1,blendSrcAlpha:2,blendDstAlpha:1}]},program:"particle-trail|particle-trail:vs_main|tinted-fs:add",depthStencilState:{depthTest:!0,depthWrite:!1},properties:{mainTexture:{value:"grey",type:28},mainTiling_Offset:{value:[1,1,0,0],type:16},frameTile_velLenScale:{value:[1,1,0,0],type:16},tintColor:{value:[.5,.5,.5,.5],type:16}}}]}],shaders:[{name:"particle-trail|particle-trail:vs_main|tinted-fs:add",hash:293909391,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:49,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:38},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplerTextures:[]}},defines:[{name:"CC_RENDER_MODE",type:"number",range:[0,4]},{name:"CC_DRAW_WIRE_FRAME",type:"boolean"},{name:"CC_USE_WORLD_SPACE",type:"boolean"},{name:"CC_USE_HDR",type:"boolean"}],blocks:[{name:"Constants",defines:[],binding:0,stageFlags:1,members:[{name:"mainTiling_Offset",type:16,count:1},{name:"frameTile_velLenScale",type:16,count:1},{name:"scale",type:16,count:1}]},{name:"FragConstants",defines:[],binding:1,stageFlags:16,members:[{name:"tintColor",type:16,count:1}]}],samplerTextures:[{name:"mainTexture",type:28,count:1,defines:[],stageFlags:16,binding:2}],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_texCoord",type:16,count:1,defines:[],stageFlags:1,format:44,location:1},{name:"a_texCoord1",type:15,count:1,defines:[],stageFlags:1,format:32,location:2},{name:"a_texCoord2",type:15,count:1,defines:[],stageFlags:1,format:32,location:3},{name:"a_color",type:16,count:1,defines:[],stageFlags:1,format:44,location:4}]}]},{name:"particle",techniques:[{name:"add",passes:[{rasterizerState:{cullMode:0},blendState:{targets:[{blend:!0,blendSrc:2,blendDst:1,blendSrcAlpha:2,blendDstAlpha:1}]},program:"particle|particle-vs-legacy:lpvs_main|tinted-fs:add",depthStencilState:{depthTest:!0,depthWrite:!1},properties:{mainTexture:{value:"grey",type:28},mainTiling_Offset:{value:[1,1,0,0],type:16},tintColor:{value:[.5,.5,.5,.5],type:16}}}]}],shaders:[{name:"particle|particle-vs-legacy:lpvs_main|tinted-fs:add",hash:3802928649,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:49,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:38},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplerTextures:[]}},defines:[{name:"CC_RENDER_MODE",type:"number",range:[0,4]},{name:"CC_USE_WORLD_SPACE",type:"boolean"},{name:"CC_USE_HDR",type:"boolean"}],blocks:[{name:"Constants",defines:[],binding:0,stageFlags:1,members:[{name:"mainTiling_Offset",type:16,count:1},{name:"frameTile_velLenScale",type:16,count:1},{name:"scale",type:16,count:1}]},{name:"FragConstants",defines:[],binding:1,stageFlags:16,members:[{name:"tintColor",type:16,count:1}]}],samplerTextures:[{name:"mainTexture",type:28,count:1,defines:[],stageFlags:16,binding:2}],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_texCoord",type:15,count:1,defines:[],stageFlags:1,format:32,location:1},{name:"a_texCoord1",type:15,count:1,defines:[],stageFlags:1,format:32,location:2},{name:"a_texCoord2",type:15,count:1,defines:[],stageFlags:1,format:32,location:3},{name:"a_color",type:16,count:1,defines:[],stageFlags:1,format:44,location:4},{name:"a_color1",type:15,count:1,defines:["CC_RENDER_MODE"],stageFlags:1,format:32,location:8},{name:"a_texCoord3",type:15,count:1,defines:["CC_RENDER_MODE"],stageFlags:1,format:32,location:6},{name:"a_normal",type:15,count:1,defines:["CC_RENDER_MODE"],stageFlags:1,format:32,location:7}]}]},{name:"spine",techniques:[{passes:[{blendState:{targets:[{blend:!0,blendSrc:2,blendDst:4,blendDstAlpha:4}]},rasterizerState:{cullMode:0},program:"spine|sprite-vs:vert|sprite-fs:frag",depthStencilState:{depthTest:!1,depthWrite:!1},properties:{alphaThreshold:{value:[.5],type:13}}}]}],shaders:[{name:"spine|sprite-vs:vert|sprite-fs:frag",hash:2041444135,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:46,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:1},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCLocal",defines:["USE_LOCAL"]}],samplerTextures:[{name:"cc_spriteTexture",defines:[]}]}},defines:[{name:"USE_LOCAL",type:"boolean"},{name:"TWO_COLORED",type:"boolean"},{name:"USE_ALPHA_TEST",type:"boolean"}],blocks:[{name:"ALPHA_TEST_DATA",defines:["USE_ALPHA_TEST"],binding:0,stageFlags:16,members:[{name:"alphaThreshold",type:13,count:1}]}],samplerTextures:[],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:1},{name:"a_color",type:16,count:1,defines:[],stageFlags:1,format:44,location:2},{name:"a_color2",type:16,count:1,defines:["TWO_COLORED"],stageFlags:1,format:44,location:3}]}]},{name:"sprite",techniques:[{passes:[{blendState:{targets:[{blend:!0,blendSrc:2,blendDst:4,blendDstAlpha:4}]},rasterizerState:{cullMode:0},program:"sprite|sprite-vs:vert|sprite-fs:frag",depthStencilState:{depthTest:!1,depthWrite:!1},properties:{alphaThreshold:{value:[.5],type:13}}}]}],shaders:[{name:"sprite|sprite-vs:vert|sprite-fs:frag",hash:1142786345,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:46,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:1},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCLocal",defines:["USE_LOCAL"]}],samplerTextures:[{name:"cc_spriteTexture",defines:["USE_TEXTURE"]}]}},defines:[{name:"USE_LOCAL",type:"boolean"},{name:"SAMPLE_FROM_RT",type:"boolean"},{name:"USE_PIXEL_ALIGNMENT",type:"boolean"},{name:"CC_USE_EMBEDDED_ALPHA",type:"boolean"},{name:"USE_ALPHA_TEST",type:"boolean"},{name:"USE_TEXTURE",type:"boolean"},{name:"IS_GRAY",type:"boolean"}],blocks:[{name:"ALPHA_TEST_DATA",defines:["USE_ALPHA_TEST"],binding:0,stageFlags:16,members:[{name:"alphaThreshold",type:13,count:1}]}],samplerTextures:[],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:1},{name:"a_color",type:16,count:1,defines:[],stageFlags:1,format:44,location:2}]}]},{name:"standard",techniques:[{name:"opaque",passes:[{program:"standard|standard-vs|standard-fs",properties:{tilingOffset:{value:[1,1,0,0],type:16},mainColor:{value:[1,1,1,1],type:16,handleInfo:["albedo",0,16]},albedoScale:{value:[1,1,1],type:15,handleInfo:["albedoScaleAndCutoff",0,15]},alphaThreshold:{value:[.5],type:13,handleInfo:["albedoScaleAndCutoff",3,13]},occlusion:{value:[1],type:13,handleInfo:["pbrParams",0,13]},roughness:{value:[.8],type:13,handleInfo:["pbrParams",1,13]},metallic:{value:[.6],type:13,handleInfo:["pbrParams",2,13]},normalStrenth:{value:[1],type:13,handleInfo:["pbrParams",3,13]},emissive:{value:[0,0,0,1],type:16},emissiveScale:{value:[1,1,1],type:15,handleInfo:["emissiveScaleParam",0,15]},mainTexture:{value:"grey",type:28,handleInfo:["albedoMap",0,28]},normalMap:{value:"normal",type:28},pbrMap:{value:"grey",type:28},metallicRoughnessMap:{value:"grey",type:28},occlusionMap:{value:"white",type:28},emissiveMap:{value:"grey",type:28},albedo:{type:16,value:[1,1,1,1]},albedoScaleAndCutoff:{type:16,value:[1,1,1,.5]},pbrParams:{type:16,value:[1,.8,.6,1]},emissiveScaleParam:{type:16,value:[1,1,1,0]},albedoMap:{type:28,value:"grey"}}},{phase:"deferred",propertyIndex:0,blendState:{targets:[{blend:!1},{blend:!1},{blend:!1},{blend:!1}]},program:"standard|standard-vs|standard-fs",properties:{tilingOffset:{value:[1,1,0,0],type:16},mainColor:{value:[1,1,1,1],type:16,handleInfo:["albedo",0,16]},albedoScale:{value:[1,1,1],type:15,handleInfo:["albedoScaleAndCutoff",0,15]},alphaThreshold:{value:[.5],type:13,handleInfo:["albedoScaleAndCutoff",3,13]},occlusion:{value:[1],type:13,handleInfo:["pbrParams",0,13]},roughness:{value:[.8],type:13,handleInfo:["pbrParams",1,13]},metallic:{value:[.6],type:13,handleInfo:["pbrParams",2,13]},normalStrenth:{value:[1],type:13,handleInfo:["pbrParams",3,13]},emissive:{value:[0,0,0,1],type:16},emissiveScale:{value:[1,1,1],type:15,handleInfo:["emissiveScaleParam",0,15]},mainTexture:{value:"grey",type:28,handleInfo:["albedoMap",0,28]},normalMap:{value:"normal",type:28},pbrMap:{value:"grey",type:28},metallicRoughnessMap:{value:"grey",type:28},occlusionMap:{value:"white",type:28},emissiveMap:{value:"grey",type:28},albedo:{type:16,value:[1,1,1,1]},albedoScaleAndCutoff:{type:16,value:[1,1,1,.5]},pbrParams:{type:16,value:[1,.8,.6,1]},emissiveScaleParam:{type:16,value:[1,1,1,0]},albedoMap:{type:28,value:"grey"}}},{phase:"forward-add",propertyIndex:0,embeddedMacros:{CC_FORWARD_ADD:!0},blendState:{targets:[{blend:!0,blendSrc:1,blendDst:1,blendSrcAlpha:0,blendDstAlpha:1}]},program:"standard|standard-vs|standard-fs",depthStencilState:{depthFunc:2,depthTest:!0,depthWrite:!1},properties:{tilingOffset:{value:[1,1,0,0],type:16},mainColor:{value:[1,1,1,1],type:16,handleInfo:["albedo",0,16]},albedoScale:{value:[1,1,1],type:15,handleInfo:["albedoScaleAndCutoff",0,15]},alphaThreshold:{value:[.5],type:13,handleInfo:["albedoScaleAndCutoff",3,13]},occlusion:{value:[1],type:13,handleInfo:["pbrParams",0,13]},roughness:{value:[.8],type:13,handleInfo:["pbrParams",1,13]},metallic:{value:[.6],type:13,handleInfo:["pbrParams",2,13]},normalStrenth:{value:[1],type:13,handleInfo:["pbrParams",3,13]},emissive:{value:[0,0,0,1],type:16},emissiveScale:{value:[1,1,1],type:15,handleInfo:["emissiveScaleParam",0,15]},mainTexture:{value:"grey",type:28,handleInfo:["albedoMap",0,28]},normalMap:{value:"normal",type:28},pbrMap:{value:"grey",type:28},metallicRoughnessMap:{value:"grey",type:28},occlusionMap:{value:"white",type:28},emissiveMap:{value:"grey",type:28},albedo:{type:16,value:[1,1,1,1]},albedoScaleAndCutoff:{type:16,value:[1,1,1,.5]},pbrParams:{type:16,value:[1,.8,.6,1]},emissiveScaleParam:{type:16,value:[1,1,1,0]},albedoMap:{type:28,value:"grey"}}},{phase:"shadow-caster",propertyIndex:0,rasterizerState:{cullMode:1},program:"standard|shadow-caster-vs:vert|shadow-caster-fs:frag",properties:{tilingOffset:{value:[1,1,0,0],type:16},mainColor:{value:[1,1,1,1],type:16,handleInfo:["albedo",0,16]},albedoScale:{value:[1,1,1],type:15,handleInfo:["albedoScaleAndCutoff",0,15]},alphaThreshold:{value:[.5],type:13,handleInfo:["albedoScaleAndCutoff",3,13]},occlusion:{value:[1],type:13,handleInfo:["pbrParams",0,13]},roughness:{value:[.8],type:13,handleInfo:["pbrParams",1,13]},metallic:{value:[.6],type:13,handleInfo:["pbrParams",2,13]},normalStrenth:{value:[1],type:13,handleInfo:["pbrParams",3,13]},emissive:{value:[0,0,0,1],type:16},emissiveScale:{value:[1,1,1],type:15,handleInfo:["emissiveScaleParam",0,15]},mainTexture:{value:"grey",type:28,handleInfo:["albedoMap",0,28]},albedo:{type:16,value:[1,1,1,1]},albedoScaleAndCutoff:{type:16,value:[1,1,1,.5]},pbrParams:{type:16,value:[1,.8,.6,1]},emissiveScaleParam:{type:16,value:[1,1,1,0]},albedoMap:{type:28,value:"grey"}}}]}],shaders:[{name:"standard|standard-vs|standard-fs",hash:632993342,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:216,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:59},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]},{name:"CCShadow",defines:[]}],samplerTextures:[{name:"cc_shadowMap",defines:["CC_RECEIVE_SHADOW"]},{name:"cc_spotLightingMap",defines:["CC_RECEIVE_SHADOW"]},{name:"cc_environment",defines:["CC_USE_IBL"]}]},locals:{blocks:[{name:"CCMorph",defines:["CC_USE_MORPH"]},{name:"CCSkinningTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinningAnimation",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinning",defines:["CC_USE_SKINNING","!CC_USE_BAKED_ANIMATION"]},{name:"CCLocalBatched",defines:["!USE_INSTANCING","USE_BATCHING"]},{name:"CCLocal",defines:["!USE_INSTANCING","!USE_BATCHING"]},{name:"CCForwardLight",defines:["CC_FORWARD_ADD"]}],samplerTextures:[{name:"cc_PositionDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_POSITION"]},{name:"cc_NormalDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_NORMAL"]},{name:"cc_TangentDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_TANGENT"]},{name:"cc_jointTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"cc_lightingMap",defines:["USE_LIGHTMAP","!USE_BATCHING","!CC_FORWARD_ADD"]}]}},defines:[{name:"CC_USE_MORPH",type:"boolean"},{name:"CC_MORPH_TARGET_COUNT",type:"number",range:[2,8]},{name:"CC_MORPH_PRECOMPUTED",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_POSITION",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_NORMAL",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_TANGENT",type:"boolean"},{name:"CC_USE_SKINNING",type:"boolean"},{name:"CC_USE_BAKED_ANIMATION",type:"boolean"},{name:"USE_INSTANCING",type:"boolean"},{name:"USE_BATCHING",type:"boolean"},{name:"USE_LIGHTMAP",type:"boolean"},{name:"CC_USE_FOG",type:"number",range:[0,4]},{name:"CC_FORWARD_ADD",type:"boolean"},{name:"CC_RECEIVE_SHADOW",type:"boolean"},{name:"USE_VERTEX_COLOR",type:"boolean"},{name:"USE_NORMAL_MAP",type:"boolean"},{name:"HAS_SECOND_UV",type:"boolean"},{name:"SAMPLE_FROM_RT",type:"boolean"},{name:"CC_USE_IBL",type:"number",range:[0,2]},{name:"CC_USE_HDR",type:"boolean"},{name:"USE_ALBEDO_MAP",type:"boolean"},{name:"ALBEDO_UV",type:"string",options:["v_uv","v_uv1"]},{name:"NORMAL_UV",type:"string",options:["v_uv","v_uv1"]},{name:"PBR_UV",type:"string",options:["v_uv","v_uv1"]},{name:"USE_PBR_MAP",type:"boolean"},{name:"USE_METALLIC_ROUGHNESS_MAP",type:"boolean"},{name:"USE_OCCLUSION_MAP",type:"boolean"},{name:"USE_EMISSIVE_MAP",type:"boolean"},{name:"EMISSIVE_UV",type:"string",options:["v_uv","v_uv1"]},{name:"USE_ALPHA_TEST",type:"boolean"},{name:"ALPHA_TEST_CHANNEL",type:"string",options:["a","r"]},{name:"CC_PIPELINE_TYPE",type:"number",range:[0,1]}],blocks:[{name:"Constants",defines:[],binding:0,stageFlags:17,members:[{name:"tilingOffset",type:16,count:1},{name:"albedo",type:16,count:1},{name:"albedoScaleAndCutoff",type:16,count:1},{name:"pbrParams",type:16,count:1},{name:"emissive",type:16,count:1},{name:"emissiveScaleParam",type:16,count:1}]}],samplerTextures:[{name:"albedoMap",type:28,count:1,defines:["USE_ALBEDO_MAP"],stageFlags:16,binding:1},{name:"normalMap",type:28,count:1,defines:["USE_NORMAL_MAP"],stageFlags:16,binding:2},{name:"pbrMap",type:28,count:1,defines:["USE_PBR_MAP"],stageFlags:16,binding:3},{name:"metallicRoughnessMap",type:28,count:1,defines:["USE_METALLIC_ROUGHNESS_MAP"],stageFlags:16,binding:4},{name:"occlusionMap",type:28,count:1,defines:["USE_OCCLUSION_MAP"],stageFlags:16,binding:5},{name:"emissiveMap",type:28,count:1,defines:["USE_EMISSIVE_MAP"],stageFlags:16,binding:6}],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_normal",type:15,count:1,defines:[],stageFlags:1,format:32,location:1},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:2},{name:"a_tangent",type:16,count:1,defines:[],stageFlags:1,format:44,location:3},{name:"a_vertexId",type:13,count:1,defines:["CC_USE_MORPH"],stageFlags:1,format:11,location:6},{name:"a_joints",type:"u32vec4",count:1,defines:["CC_USE_SKINNING"],stageFlags:1,location:4},{name:"a_weights",type:16,count:1,defines:["CC_USE_SKINNING"],stageFlags:1,format:44,location:5},{name:"a_jointAnimInfo",type:16,count:1,defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION","USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:7},{name:"a_matWorld0",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:8},{name:"a_matWorld1",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:9},{name:"a_matWorld2",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:10},{name:"a_lightingMapUVParam",type:16,count:1,defines:["USE_INSTANCING","USE_LIGHTMAP"],stageFlags:1,format:44,isInstanced:!0,location:11},{name:"a_dyn_batch_id",type:13,count:1,defines:["!USE_INSTANCING","USE_BATCHING"],stageFlags:1,format:11,location:12},{name:"a_color",type:16,count:1,defines:["USE_VERTEX_COLOR"],stageFlags:1,format:44,location:13},{name:"a_texCoord1",type:14,count:1,defines:[],stageFlags:1,format:21,location:14}]},{name:"standard|shadow-caster-vs:vert|shadow-caster-fs:frag",hash:1518991842,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:179,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:22},globals:{blocks:[{name:"CCShadow",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCMorph",defines:["CC_USE_MORPH"]},{name:"CCSkinningTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinningAnimation",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinning",defines:["CC_USE_SKINNING","!CC_USE_BAKED_ANIMATION"]},{name:"CCLocalBatched",defines:["!USE_INSTANCING","USE_BATCHING"]},{name:"CCLocal",defines:["!USE_INSTANCING","!USE_BATCHING"]}],samplerTextures:[{name:"cc_PositionDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_POSITION"]},{name:"cc_NormalDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_NORMAL"]},{name:"cc_TangentDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_TANGENT"]},{name:"cc_jointTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]}]}},defines:[{name:"CC_USE_MORPH",type:"boolean"},{name:"CC_MORPH_TARGET_COUNT",type:"number",range:[2,8]},{name:"CC_MORPH_PRECOMPUTED",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_POSITION",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_NORMAL",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_TANGENT",type:"boolean"},{name:"CC_USE_SKINNING",type:"boolean"},{name:"CC_USE_BAKED_ANIMATION",type:"boolean"},{name:"USE_INSTANCING",type:"boolean"},{name:"USE_BATCHING",type:"boolean"},{name:"USE_LIGHTMAP",type:"boolean"},{name:"HAS_SECOND_UV",type:"boolean"},{name:"USE_ALBEDO_MAP",type:"boolean"},{name:"ALBEDO_UV",type:"string",options:["v_uv","v_uv1"]},{name:"USE_ALPHA_TEST",type:"boolean"},{name:"ALPHA_TEST_CHANNEL",type:"string",options:["a","r"]}],blocks:[{name:"Constants",defines:[],binding:0,stageFlags:17,members:[{name:"tilingOffset",type:16,count:1},{name:"albedo",type:16,count:1},{name:"albedoScaleAndCutoff",type:16,count:1},{name:"pbrParams",type:16,count:1},{name:"emissive",type:16,count:1},{name:"emissiveScaleParam",type:16,count:1}]}],samplerTextures:[{name:"albedoMap",type:28,count:1,defines:["USE_ALBEDO_MAP"],stageFlags:16,binding:1}],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_normal",type:15,count:1,defines:[],stageFlags:1,format:32,location:1},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:2},{name:"a_tangent",type:16,count:1,defines:[],stageFlags:1,format:44,location:3},{name:"a_vertexId",type:13,count:1,defines:["CC_USE_MORPH"],stageFlags:1,format:11,location:6},{name:"a_joints",type:"u32vec4",count:1,defines:["CC_USE_SKINNING"],stageFlags:1,location:4},{name:"a_weights",type:16,count:1,defines:["CC_USE_SKINNING"],stageFlags:1,format:44,location:5},{name:"a_jointAnimInfo",type:16,count:1,defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION","USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:7},{name:"a_matWorld0",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:8},{name:"a_matWorld1",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:9},{name:"a_matWorld2",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:10},{name:"a_lightingMapUVParam",type:16,count:1,defines:["USE_INSTANCING","USE_LIGHTMAP"],stageFlags:1,format:44,isInstanced:!0,location:11},{name:"a_dyn_batch_id",type:13,count:1,defines:["!USE_INSTANCING","USE_BATCHING"],stageFlags:1,format:11,location:12},{name:"a_texCoord1",type:14,count:1,defines:[],stageFlags:1,format:21,location:13}]}]},{name:"terrain",techniques:[{name:"opaque",passes:[{program:"terrain|terrain-vs|terrain-fs",properties:{UVScale:{value:[1,1,1,1],type:16},lightMapUVParam:{value:[0,0,0,0],type:16},metallic:{value:[0,0,0,0],type:16},roughness:{value:[1,1,1,1],type:16},weightMap:{value:"black",type:28},detailMap0:{value:"grey",type:28},detailMap1:{value:"grey",type:28},detailMap2:{value:"grey",type:28},detailMap3:{value:"grey",type:28},normalMap0:{value:"normal",type:28},normalMap1:{value:"normal",type:28},normalMap2:{value:"normal",type:28},normalMap3:{value:"normal",type:28},lightMap:{value:"grey",type:28}}},{phase:"deferred",propertyIndex:0,blendState:{targets:[{blend:!1},{blend:!1},{blend:!1},{blend:!1}]},program:"terrain|terrain-vs|terrain-fs",properties:{UVScale:{value:[1,1,1,1],type:16},lightMapUVParam:{value:[0,0,0,0],type:16},metallic:{value:[0,0,0,0],type:16},roughness:{value:[1,1,1,1],type:16},weightMap:{value:"black",type:28},detailMap0:{value:"grey",type:28},detailMap1:{value:"grey",type:28},detailMap2:{value:"grey",type:28},detailMap3:{value:"grey",type:28},normalMap0:{value:"normal",type:28},normalMap1:{value:"normal",type:28},normalMap2:{value:"normal",type:28},normalMap3:{value:"normal",type:28},lightMap:{value:"grey",type:28}}},{phase:"forward-add",propertyIndex:0,embeddedMacros:{CC_FORWARD_ADD:!0},blendState:{targets:[{blend:!0,blendSrc:1,blendDst:1,blendSrcAlpha:0,blendDstAlpha:1}]},program:"terrain|terrain-vs|terrain-fs",depthStencilState:{depthFunc:2,depthTest:!0,depthWrite:!1},properties:{UVScale:{value:[1,1,1,1],type:16},lightMapUVParam:{value:[0,0,0,0],type:16},metallic:{value:[0,0,0,0],type:16},roughness:{value:[1,1,1,1],type:16},weightMap:{value:"black",type:28},detailMap0:{value:"grey",type:28},detailMap1:{value:"grey",type:28},detailMap2:{value:"grey",type:28},detailMap3:{value:"grey",type:28},normalMap0:{value:"normal",type:28},normalMap1:{value:"normal",type:28},normalMap2:{value:"normal",type:28},normalMap3:{value:"normal",type:28},lightMap:{value:"grey",type:28}}},{phase:"shadow-add",propertyIndex:0,rasterizerState:{cullMode:2},program:"terrain|shadow-caster-vs:vert|shadow-caster-fs:frag"}]}],shaders:[{name:"terrain|terrain-vs|terrain-fs",hash:2532494361,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:64,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:55},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]},{name:"CCShadow",defines:[]}],samplerTextures:[{name:"cc_shadowMap",defines:["CC_RECEIVE_SHADOW"]},{name:"cc_spotLightingMap",defines:["CC_RECEIVE_SHADOW"]},{name:"cc_environment",defines:["CC_USE_IBL"]}]},locals:{blocks:[{name:"CCLocal",defines:[]},{name:"CCForwardLight",defines:["CC_FORWARD_ADD"]}],samplerTextures:[{name:"cc_lightingMap",defines:["USE_LIGHTMAP","!USE_BATCHING","!CC_FORWARD_ADD"]}]}},defines:[{name:"CC_USE_FOG",type:"number",range:[0,4]},{name:"CC_FORWARD_ADD",type:"boolean"},{name:"CC_RECEIVE_SHADOW",type:"boolean"},{name:"USE_NORMALMAP",type:"boolean"},{name:"USE_LIGHTMAP",type:"boolean"},{name:"CC_USE_IBL",type:"number",range:[0,2]},{name:"USE_BATCHING",type:"boolean"},{name:"CC_USE_HDR",type:"boolean"},{name:"LAYERS",type:"number",range:[0,4]},{name:"USE_PBR",type:"boolean"},{name:"CC_PIPELINE_TYPE",type:"number",range:[0,1]}],blocks:[{name:"TexCoords",defines:[],binding:0,stageFlags:1,members:[{name:"UVScale",type:16,count:1},{name:"lightMapUVParam",type:16,count:1}]},{name:"PbrParams",defines:[],binding:1,stageFlags:16,members:[{name:"metallic",type:16,count:1},{name:"roughness",type:16,count:1}]}],samplerTextures:[{name:"weightMap",type:28,count:1,defines:[],stageFlags:16,binding:2},{name:"detailMap0",type:28,count:1,defines:[],stageFlags:16,binding:3},{name:"detailMap1",type:28,count:1,defines:[],stageFlags:16,binding:4},{name:"detailMap2",type:28,count:1,defines:[],stageFlags:16,binding:5},{name:"detailMap3",type:28,count:1,defines:[],stageFlags:16,binding:6},{name:"normalMap0",type:28,count:1,defines:[],stageFlags:16,binding:7},{name:"normalMap1",type:28,count:1,defines:[],stageFlags:16,binding:8},{name:"normalMap2",type:28,count:1,defines:[],stageFlags:16,binding:9},{name:"normalMap3",type:28,count:1,defines:[],stageFlags:16,binding:10},{name:"lightMap",type:28,count:1,defines:[],stageFlags:16,binding:11}],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_normal",type:15,count:1,defines:[],stageFlags:1,format:32,location:1},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:2}]},{name:"terrain|shadow-caster-vs:vert|shadow-caster-fs:frag",hash:3874167763,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:62,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:0},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]},{name:"CCShadow",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplerTextures:[]}},defines:[],blocks:[],samplerTextures:[],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_normal",type:15,count:1,defines:[],stageFlags:1,format:32,location:1},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:2}]}]},{name:"unlit",techniques:[{name:"opaque",passes:[{program:"unlit|unlit-vs:vert|unlit-fs:frag",properties:{mainTexture:{value:"grey",type:28},tilingOffset:{value:[1,1,0,0],type:16},mainColor:{value:[1,1,1,1],type:16},colorScale:{value:[1,1,1],type:15,handleInfo:["colorScaleAndCutoff",0,15]},alphaThreshold:{value:[.5],type:13,handleInfo:["colorScaleAndCutoff",3,13]},color:{type:16,handleInfo:["mainColor",0,16]},colorScaleAndCutoff:{type:16,value:[1,1,1,.5]}}}]}],shaders:[{name:"unlit|unlit-vs:vert|unlit-fs:frag",hash:3579616855,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:195,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:39},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCMorph",defines:["CC_USE_MORPH"]},{name:"CCSkinningTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinningAnimation",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinning",defines:["CC_USE_SKINNING","!CC_USE_BAKED_ANIMATION"]},{name:"CCLocalBatched",defines:["!USE_INSTANCING","USE_BATCHING"]},{name:"CCLocal",defines:["!USE_INSTANCING","!USE_BATCHING"]}],samplerTextures:[{name:"cc_PositionDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_POSITION"]},{name:"cc_NormalDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_NORMAL"]},{name:"cc_TangentDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_TANGENT"]},{name:"cc_jointTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]}]}},defines:[{name:"CC_USE_MORPH",type:"boolean"},{name:"CC_MORPH_TARGET_COUNT",type:"number",range:[2,8]},{name:"CC_MORPH_PRECOMPUTED",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_POSITION",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_NORMAL",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_TANGENT",type:"boolean"},{name:"CC_USE_SKINNING",type:"boolean"},{name:"CC_USE_BAKED_ANIMATION",type:"boolean"},{name:"USE_INSTANCING",type:"boolean"},{name:"USE_BATCHING",type:"boolean"},{name:"USE_LIGHTMAP",type:"boolean"},{name:"CC_USE_FOG",type:"number",range:[0,4]},{name:"CC_FORWARD_ADD",type:"boolean"},{name:"USE_VERTEX_COLOR",type:"boolean"},{name:"USE_TEXTURE",type:"boolean"},{name:"SAMPLE_FROM_RT",type:"boolean"},{name:"CC_USE_HDR",type:"boolean"},{name:"USE_ALPHA_TEST",type:"boolean"},{name:"ALPHA_TEST_CHANNEL",type:"string",options:["a","r","g","b"]}],blocks:[{name:"TexCoords",defines:["USE_TEXTURE"],binding:0,stageFlags:1,members:[{name:"tilingOffset",type:16,count:1}]},{name:"Constant",defines:[],binding:1,stageFlags:16,members:[{name:"mainColor",type:16,count:1},{name:"colorScaleAndCutoff",type:16,count:1}]}],samplerTextures:[{name:"mainTexture",type:28,count:1,defines:["USE_TEXTURE"],stageFlags:16,binding:2}],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_normal",type:15,count:1,defines:[],stageFlags:1,format:32,location:1},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:2},{name:"a_tangent",type:16,count:1,defines:[],stageFlags:1,format:44,location:3},{name:"a_vertexId",type:13,count:1,defines:["CC_USE_MORPH"],stageFlags:1,format:11,location:6},{name:"a_joints",type:"u32vec4",count:1,defines:["CC_USE_SKINNING"],stageFlags:1,location:4},{name:"a_weights",type:16,count:1,defines:["CC_USE_SKINNING"],stageFlags:1,format:44,location:5},{name:"a_jointAnimInfo",type:16,count:1,defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION","USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:7},{name:"a_matWorld0",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:8},{name:"a_matWorld1",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:9},{name:"a_matWorld2",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:10},{name:"a_lightingMapUVParam",type:16,count:1,defines:["USE_INSTANCING","USE_LIGHTMAP"],stageFlags:1,format:44,isInstanced:!0,location:11},{name:"a_dyn_batch_id",type:13,count:1,defines:["!USE_INSTANCING","USE_BATCHING"],stageFlags:1,format:11,location:12},{name:"a_color",type:16,count:1,defines:["USE_VERTEX_COLOR"],stageFlags:1,format:44,location:13}]}]},{name:"deferred-lighting",techniques:[{passes:[{phase:"deferred-lighting",program:"deferred-lighting|lighting-vs|lighting-fs",depthStencilState:{depthFunc:4,depthTest:!0,depthWrite:!1}}]}],shaders:[{name:"deferred-lighting|lighting-vs|lighting-fs",hash:4181944545,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:37,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:53},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]},{name:"CCShadow",defines:[]}],samplerTextures:[{name:"cc_shadowMap",defines:["CC_RECEIVE_SHADOW"]},{name:"cc_spotLightingMap",defines:["CC_RECEIVE_SHADOW"]},{name:"cc_environment",defines:["CC_USE_IBL"]},{name:"cc_gbuffer_albedoMap",defines:[]},{name:"cc_gbuffer_positionMap",defines:[]},{name:"cc_gbuffer_normalMap",defines:[]},{name:"cc_gbuffer_emissiveMap",defines:[]}]},locals:{blocks:[{name:"CCForwardLight",defines:[]}],samplerTextures:[]}},defines:[{name:"CC_RECEIVE_SHADOW",type:"boolean"},{name:"CC_USE_IBL",type:"number",range:[0,2]},{name:"USE_LIGHTMAP",type:"boolean"},{name:"USE_BATCHING",type:"boolean"},{name:"CC_FORWARD_ADD",type:"boolean"},{name:"CC_USE_HDR",type:"boolean"},{name:"CC_PIPELINE_TYPE",type:"number",range:[0,1]},{name:"CC_USE_FOG",type:"number",range:[0,4]}],blocks:[],samplerTextures:[],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_normal",type:15,count:1,defines:[],stageFlags:1,format:32,location:1},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:2},{name:"a_tangent",type:16,count:1,defines:[],stageFlags:1,format:44,location:3}]}]},{name:"planar-shadow",techniques:[{passes:[{phase:"planarShadow",blendState:{targets:[{blend:!0,blendSrc:2,blendDst:4,blendDstAlpha:4}]},program:"planar-shadow|planar-shadow-vs:vert|planar-shadow-fs:frag",depthStencilState:{depthTest:!0,depthWrite:!1,stencilTestFront:!0,stencilFuncFront:5,stencilPassOpFront:2,stencilRefBack:128,stencilRefFront:128,stencilReadMaskBack:128,stencilReadMaskFront:128,stencilWriteMaskBack:128,stencilWriteMaskFront:128}}]}],shaders:[{name:"planar-shadow|planar-shadow-vs:vert|planar-shadow-fs:frag",hash:3940098901,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:210,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:53},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]},{name:"CCShadow",defines:[]}],samplerTextures:[]},locals:{blocks:[{name:"CCMorph",defines:["CC_USE_MORPH"]},{name:"CCSkinningTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinningAnimation",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinning",defines:["CC_USE_SKINNING","!CC_USE_BAKED_ANIMATION"]},{name:"CCLocalBatched",defines:["!USE_INSTANCING","USE_BATCHING"]},{name:"CCLocal",defines:["!USE_INSTANCING","!USE_BATCHING"]}],samplerTextures:[{name:"cc_PositionDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_POSITION"]},{name:"cc_NormalDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_NORMAL"]},{name:"cc_TangentDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_TANGENT"]},{name:"cc_jointTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]}]}},defines:[{name:"CC_USE_MORPH",type:"boolean"},{name:"CC_MORPH_TARGET_COUNT",type:"number",range:[2,8]},{name:"CC_MORPH_PRECOMPUTED",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_POSITION",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_NORMAL",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_TANGENT",type:"boolean"},{name:"CC_USE_SKINNING",type:"boolean"},{name:"CC_USE_BAKED_ANIMATION",type:"boolean"},{name:"USE_INSTANCING",type:"boolean"},{name:"USE_BATCHING",type:"boolean"},{name:"USE_LIGHTMAP",type:"boolean"},{name:"CC_USE_HDR",type:"boolean"}],blocks:[],samplerTextures:[],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_normal",type:15,count:1,defines:[],stageFlags:1,format:32,location:1},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:2},{name:"a_tangent",type:16,count:1,defines:[],stageFlags:1,format:44,location:3},{name:"a_vertexId",type:13,count:1,defines:["CC_USE_MORPH"],stageFlags:1,format:11,location:6},{name:"a_joints",type:"u32vec4",count:1,defines:["CC_USE_SKINNING"],stageFlags:1,location:4},{name:"a_weights",type:16,count:1,defines:["CC_USE_SKINNING"],stageFlags:1,format:44,location:5},{name:"a_jointAnimInfo",type:16,count:1,defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION","USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:7},{name:"a_matWorld0",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:8},{name:"a_matWorld1",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:9},{name:"a_matWorld2",type:16,count:1,defines:["USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:10},{name:"a_lightingMapUVParam",type:16,count:1,defines:["USE_INSTANCING","USE_LIGHTMAP"],stageFlags:1,format:44,isInstanced:!0,location:11},{name:"a_dyn_batch_id",type:13,count:1,defines:["!USE_INSTANCING","USE_BATCHING"],stageFlags:1,format:11,location:12}]}]},{name:"post-process",techniques:[{passes:[{phase:"post-process",blendState:{targets:[{blend:!0,blendSrc:2,blendDst:4,blendSrcAlpha:2,blendDstAlpha:4}]},program:"post-process|post-process-vs|post-process-fs",depthStencilState:{depthTest:!1,depthWrite:!1}}]}],shaders:[{name:"post-process|post-process-vs|post-process-fs",hash:2054814724,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:145,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:37},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[{name:"cc_lighting_resultMap",defines:[]}]},locals:{blocks:[{name:"CCMorph",defines:["CC_USE_MORPH"]},{name:"CCSkinningTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinningAnimation",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinning",defines:["CC_USE_SKINNING","!CC_USE_BAKED_ANIMATION"]}],samplerTextures:[{name:"cc_PositionDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_POSITION"]},{name:"cc_NormalDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_NORMAL"]},{name:"cc_TangentDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_TANGENT"]},{name:"cc_jointTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]}]}},defines:[{name:"CC_USE_MORPH",type:"boolean"},{name:"CC_MORPH_TARGET_COUNT",type:"number",range:[2,8]},{name:"CC_MORPH_PRECOMPUTED",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_POSITION",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_NORMAL",type:"boolean"},{name:"CC_MORPH_TARGET_HAS_TANGENT",type:"boolean"},{name:"CC_USE_SKINNING",type:"boolean"},{name:"CC_USE_BAKED_ANIMATION",type:"boolean"},{name:"USE_INSTANCING",type:"boolean"}],blocks:[],samplerTextures:[],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_normal",type:15,count:1,defines:[],stageFlags:1,format:32,location:1},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:2},{name:"a_tangent",type:16,count:1,defines:[],stageFlags:1,format:44,location:3},{name:"a_vertexId",type:13,count:1,defines:["CC_USE_MORPH"],stageFlags:1,format:11,location:6},{name:"a_joints",type:"u32vec4",count:1,defines:["CC_USE_SKINNING"],stageFlags:1,location:4},{name:"a_weights",type:16,count:1,defines:["CC_USE_SKINNING"],stageFlags:1,format:44,location:5},{name:"a_jointAnimInfo",type:16,count:1,defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION","USE_INSTANCING"],stageFlags:1,format:44,isInstanced:!0,location:7}]}]},{name:"skybox",techniques:[{passes:[{rasterizerState:{cullMode:0},program:"skybox|sky-vs:vert|sky-fs:frag",priority:245,depthStencilState:{depthTest:!0,depthWrite:!1}}]}],shaders:[{name:"skybox|sky-vs:vert|sky-fs:frag",hash:553035852,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:37,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:37},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[{name:"cc_environment",defines:[]}]},locals:{blocks:[],samplerTextures:[]}},defines:[{name:"CC_USE_IBL",type:"number",range:[0,2]},{name:"CC_USE_HDR",type:"boolean"},{name:"USE_RGBE_CUBEMAP",type:"boolean"}],blocks:[],samplerTextures:[],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_normal",type:15,count:1,defines:[],stageFlags:1,format:32,location:1},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:2},{name:"a_tangent",type:16,count:1,defines:[],stageFlags:1,format:44,location:3}]}]},{name:"profiler",techniques:[{passes:[{blendState:{targets:[{blend:!0,blendSrc:2,blendDst:4,blendDstAlpha:4}]},rasterizerState:{cullMode:0},program:"profiler|profiler-vs:vert|profiler-fs:frag",depthStencilState:{depthTest:!1,depthWrite:!1}}]}],shaders:[{name:"profiler|profiler-vs:vert|profiler-fs:frag",hash:3108604430,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:58,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:37},globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[]},locals:{blocks:[],samplerTextures:[]}},defines:[{name:"CC_USE_HDR",type:"boolean"}],blocks:[{name:"Constants",defines:[],binding:0,stageFlags:1,members:[{name:"offset",type:16,count:1}]},{name:"PerFrameInfo",defines:[],binding:1,stageFlags:1,members:[{name:"digits",type:16,count:20}]}],samplerTextures:[{name:"mainTexture",type:28,count:1,defines:[],stageFlags:16,binding:2}],attributes:[{name:"a_position",type:15,count:1,defines:[],stageFlags:1,format:32,location:0},{name:"a_color",type:16,count:1,defines:[],stageFlags:1,format:44,location:1}]}]},{name:"splash-screen",techniques:[{name:"default",passes:[{blendState:{targets:[{blend:!0,blendSrc:2,blendDst:4,blendDstAlpha:4}]},rasterizerState:{cullMode:0},program:"splash-screen|splash-screen-vs:vert|splash-screen-fs:frag",depthStencilState:{depthTest:!1,depthWrite:!1},properties:{mainTexture:{value:"grey",type:28},resolution:{value:[640,960],type:14,handleInfo:["u_buffer0",0,14]},precent:{value:[.5],type:13,handleInfo:["u_buffer0",2,13]},scale:{value:[200,500],type:14,handleInfo:["u_buffer1",0,14]},translate:{value:[320,480],type:14,handleInfo:["u_buffer1",2,14]},u_buffer0:{type:16,value:[640,960,.5,0]},u_buffer1:{type:16,value:[200,500,320,480]}}}]}],shaders:[{name:"splash-screen|splash-screen-vs:vert|splash-screen-fs:frag",hash:624029864,builtins:{statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:6,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:0},globals:{blocks:[],samplerTextures:[]},locals:{blocks:[],samplerTextures:[]}},defines:[],blocks:[{name:"Constant",defines:[],binding:0,stageFlags:1,members:[{name:"u_buffer0",type:16,count:1},{name:"u_buffer1",type:16,count:1},{name:"u_projection",type:25,count:1}]}],samplerTextures:[{name:"mainTexture",type:28,count:1,defines:[],stageFlags:16,binding:1}],attributes:[{name:"a_position",type:14,count:1,defines:[],stageFlags:1,format:21,location:0},{name:"a_texCoord",type:14,count:1,defines:[],stageFlags:1,format:21,location:1}]}]}]),eh=4026531840,th=264241152,nh=3145728,ih=1032192;let oh;!function(e){e[e.BUFFER=0]="BUFFER",e[e.TEXTURE=1]="TEXTURE"}(oh||(oh={}));const rh=(e,t,n,i,o=0)=>e<<28&eh|i<<22&th|t<<20&nh|n<<14&ih|16383&o,ah=e=>(e&eh)>>>28,sh=e=>(e&th)>>>22,ch=e=>(e&ih)>>>14,lh=e=>16383&e,ph=(e,t)=>e&~th|t<<22&th,uh={[ea.UNKNOWN]:()=>console.warn("illegal uniform handle"),[ea.INT]:(e,t,n=0)=>e[n],[ea.INT2]:(e,t,n=0)=>On.fromArray(t,e,n),[ea.INT3]:(e,t,n=0)=>mn.fromArray(t,e,n),[ea.INT4]:(e,t,n=0)=>Bn.fromArray(t,e,n),[ea.FLOAT]:(e,t,n=0)=>e[n],[ea.FLOAT2]:(e,t,n=0)=>On.fromArray(t,e,n),[ea.FLOAT3]:(e,t,n=0)=>mn.fromArray(t,e,n),[ea.FLOAT4]:(e,t,n=0)=>Bn.fromArray(t,e,n),[ea.MAT3]:(e,t,n=0)=>An.fromArray(t,e,n),[ea.MAT4]:(e,t,n=0)=>Rn.fromArray(t,e,n)},_h={[ea.UNKNOWN]:()=>console.warn("illegal uniform handle"),[ea.INT]:(e,t,n=0)=>e[n]=t,[ea.INT2]:(e,t,n=0)=>On.toArray(e,t,n),[ea.INT3]:(e,t,n=0)=>mn.toArray(e,t,n),[ea.INT4]:(e,t,n=0)=>Bn.toArray(e,t,n),[ea.FLOAT]:(e,t,n=0)=>e[n]=t,[ea.FLOAT2]:(e,t,n=0)=>On.toArray(e,t,n),[ea.FLOAT3]:(e,t,n=0)=>mn.toArray(e,t,n),[ea.FLOAT4]:(e,t,n=0)=>Bn.toArray(e,t,n),[ea.MAT3]:(e,t,n=0)=>An.toArray(e,t,n),[ea.MAT4]:(e,t,n=0)=>Rn.toArray(e,t,n)},fh=[Object.freeze([0]),Object.freeze([0,0]),Object.freeze([0,0,0,0]),Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])];function hh(e){switch(e){case ea.BOOL:case ea.INT:case ea.UINT:case ea.FLOAT:return fh[0];case ea.BOOL2:case ea.INT2:case ea.UINT2:case ea.FLOAT2:return fh[1];case ea.BOOL4:case ea.INT4:case ea.UINT4:case ea.FLOAT4:return fh[2];case ea.MAT4:return fh[3];case ea.SAMPLER2D:return"default-texture";case ea.SAMPLER_CUBE:return"default-cube-texture"}return fh[0]}function mh(e,t){const n=Object.entries(t);let i=!1;for(let t=0;t<n.length;t++)e[n[t][0]]!==n[t][1]&&(e[n[t][0]]=n[t][1],i=!0);return i}const dh=new As;function vh(e){return Math.ceil(Math.log2(Math.max(e,2)))}function gh(e,t){switch(e.type){case"boolean":return"number"==typeof t?t.toString():t?"1":"0";case"string":return void 0!==t?t:e.options[0];case"number":return void 0!==t?t.toString():e.range[0].toString();default:return console.warn(`unknown define type '${e.type}'`),"-1"}}function Ah(e,t,n,i,o){const r=e.builtins[i],a=[];for(let e=0;e<r.blocks.length;e++){const t=r.blocks[e],i=n.layouts[t.name],s=i&&n.bindings.find((e=>e.binding===i.binding));i&&s&&s.descriptorType&Rs?(a.push(i),o&&!o.includes(s)&&o.push(s)):console.warn(`builtin UBO '${t.name}' not available!`)}Array.prototype.unshift.apply(t.gfxBlocks,a);const s=[];for(let e=0;e<r.samplerTextures.length;e++){const t=r.samplerTextures[e],i=n.layouts[t.name],a=i&&n.bindings.find((e=>e.binding===i.binding));i&&a&&a.descriptorType&Ns?(s.push(i),o&&!o.includes(a)&&o.push(a)):console.warn(`builtin samplerTexture '${t.name}' not available!`)}Array.prototype.unshift.apply(t.gfxSamplerTextures,s),o&&o.sort(((e,t)=>e.binding-t.binding))}function yh(e){return e.members.reduce(((e,t)=>e+Bs(t.type)*t.count),0)}function xh(e,t){for(let n=0;n<e.length;n++){const i=e[n];if("!"===i[0]){if(t[i.slice(1)])return!1}else if(!t[i])return!1}return!0}function bh(e){switch(e.gfxAPI){case Qr.GLES2:case Qr.WEBGL:return"glsl1";case Qr.GLES3:case Qr.WEBGL2:return"glsl3";default:return"glsl4"}}const Ch=new class{constructor(){this._templates={},this._cache={},this._templateInfos={}}register(e){for(let t=0;t<e.shaders.length;t++)this.define(e.shaders[t]).effectName=e.name}define(e){const t=this._templates[e.name];if(t&&t.hash===e.hash)return t;const n={...e};let i=0;for(let e=0;e<n.defines.length;e++){const t=n.defines[e];let o=1;if("number"===t.type){const e=t.range;o=vh(e[1]-e[0]+1),t._map=t=>t-e[0]}else"string"===t.type?(o=vh(t.options.length),t._map=e=>Math.max(0,t.options.findIndex((t=>t===e)))):"boolean"===t.type&&(t._map=e=>e?1:0);t._offset=i,i+=o}i>31&&(n.uber=!0),n.constantMacros="";for(const e in n.builtins.statistics)n.constantMacros+=`#define ${e} ${n.builtins.statistics[e]}\n`;if(this._templates[e.name]=n,!this._templateInfos[n.hash]){const e={};e.samplerStartBinding=n.blocks.length,e.gfxBlocks=[],e.gfxSamplerTextures=[],e.bindings=[],e.blockSizes=[];for(let t=0;t<n.blocks.length;t++){const i=n.blocks[t];e.blockSizes.push(yh(i)),e.bindings.push(new gs(i.binding,i.descriptorType||Ta.UNIFORM_BUFFER,1,i.stageFlags)),e.gfxBlocks.push(new es(Rl.MATERIAL,i.binding,i.name,i.members.map((e=>new $a(e.name,e.type,e.count))),1))}for(let t=0;t<n.samplerTextures.length;t++){const i=n.samplerTextures[t];e.bindings.push(new gs(i.binding,i.descriptorType||Ta.SAMPLER_TEXTURE,i.count,i.stageFlags)),e.gfxSamplerTextures.push(new ts(Rl.MATERIAL,i.binding,i.name,i.type,i.count))}e.gfxAttributes=[];for(let t=0;t<n.attributes.length;t++){const i=n.attributes[t];e.gfxAttributes.push(new ec(i.name,i.format,i.isNormalized,0,i.isInstanced,i.location))}Ah(n,e,Cl,"locals"),e.gfxStages=[],e.gfxStages.push(new ss(da.VERTEX,"")),e.gfxStages.push(new ss(da.FRAGMENT,"")),e.handleMap=function(e){const t={};for(let n=0;n<e.blocks.length;n++){const i=e.blocks[n],o=i.members;let r=0;for(let e=0;e<o.length;e++){const n=o[e];t[n.name]=rh(oh.BUFFER,Rl.MATERIAL,i.binding,n.type,r),r+=(Bs(n.type)>>2)*n.count}}for(let n=0;n<e.samplerTextures.length;n++){const i=e.samplerTextures[n];t[i.name]=rh(oh.TEXTURE,Rl.MATERIAL,i.binding,i.type)}return t}(n),e.hPipelineLayout=Hi,e.setLayouts=[],this._templateInfos[n.hash]=e}return n}getTemplate(e){return this._templates[e]}getTemplateInfo(e){const t=this._templates[e].hash;return this._templateInfos[t]}getDescriptorSetLayout(e,t,n=!1){const i=this._templates[t],o=this._templateInfos[i.hash];return o.setLayouts.length||(dh.bindings=o.bindings,o.setLayouts[Rl.MATERIAL]=e.createDescriptorSetLayout(dh),dh.bindings=Cl.bindings,o.setLayouts[Rl.LOCAL]=e.createDescriptorSetLayout(dh)),o.setLayouts[n?Rl.LOCAL:Rl.MATERIAL]}hasProgram(e){return void 0!==this._templates[e]}getKey(e,t){const n=this._templates[e],i=n.defines;if(n.uber){let e="";for(let n=0;n<i.length;n++){const o=i[n],r=t[o.name];if(!r||!o._map)continue;const a=o._map(r);e+=`${o._offset}${a}|`}return`${e}${n.hash}`}let o=0;for(let e=0;e<i.length;e++){const n=i[e],r=t[n.name];r&&n._map&&(o|=n._map(r)<<n._offset)}return`${o.toString(16)}|${n.hash}`}destroyShaderByDefines(e){const t=Object.keys(e);if(!t.length)return;const n=t.map((t=>{let n=e[t];return"boolean"==typeof n&&(n=n?"1":"0"),new RegExp(`${t}${n}`)})),i=Object.keys(this._cache).filter((e=>n.every((t=>t.test(Vi.get(this._cache[e]).name)))));for(let e=0;e<i.length;e++){const t=i[e],n=Vi.get(this._cache[t]);console.log(`destroyed shader ${n.name}`),n.destroy(),delete this._cache[t]}}getGFXShader(e,t,n,i,o){Object.assign(n,i.macros),o||(o=this.getKey(t,n));const r=this._cache[o];if(r)return r;const a=this._templates[t],s=this._templateInfos[a.hash];s.hPipelineLayout||(this.getDescriptorSetLayout(e,t),Ah(a,s,bl,"globals"),s.setLayouts[Rl.GLOBAL]=i.descriptorSetLayout,s.hPipelineLayout=Yi.alloc(e,new xs(s.setLayouts)));const c=function(e,t){const n=[];for(let i=0;i<t.length;i++){const o=t[i],r=o.name,a=e[r],s=gh(o,a),c=!a||"0"===a;n.push({name:r,value:s,isDefault:c})}return n}(n,a.defines),l=i.constantMacros+a.constantMacros+c.reduce(((e,t)=>`${e}#define ${t.name} ${t.value}\n`),"");let p=a.glsl3;const u=bh(e);u?p=a[u]:console.error("Invalid GFX API!"),s.gfxStages[0].source=l+p.vert,s.gfxStages[1].source=l+p.frag;const _=function(e,t,n){const i=[],o=e.attributes,r=t.gfxAttributes;for(let e=0;e<o.length;e++)xh(o[e].defines,n)&&i.push(r[e]);return i}(a,s,n),f=function(e,t){return e+t.reduce(((e,t)=>t.isDefault?e:`${e}|${t.name}${t.value}`),"")}(t,c),h=new ls(f,s.gfxStages,_,s.gfxBlocks);return h.samplerTextures=s.gfxSamplerTextures,this._cache[o]=Vi.alloc(e,h)}};c.programLib=Ch;const Sh={glsl1:[[{vert:"\nprecision mediump float;\nuniform highp mat4 cc_matView;\nuniform highp mat4 cc_matViewInv;\nuniform highp mat4 cc_matViewProj;\nuniform highp mat4 cc_matWorld;\nvec4 quaternionFromAxis (vec3 xAxis,vec3 yAxis,vec3 zAxis){\nmat3 m = mat3(xAxis,yAxis,zAxis);\nfloat trace = m[0][0] + m[1][1] + m[2][2];\nvec4 quat;\nif (trace > 0.) {\nfloat s = 0.5 / sqrt(trace + 1.0);\nquat.w = 0.25 / s;\nquat.x = (m[2][1] - m[1][2]) * s;\nquat.y = (m[0][2] - m[2][0]) * s;\nquat.z = (m[1][0] - m[0][1]) * s;\n} else if ((m[0][0] > m[1][1]) && (m[0][0] > m[2][2])) {\nfloat s = 2.0 * sqrt(1.0 + m[0][0] - m[1][1] - m[2][2]);\nquat.w = (m[2][1] - m[1][2]) / s;\nquat.x = 0.25 * s;\nquat.y = (m[0][1] + m[1][0]) / s;\nquat.z = (m[0][2] + m[2][0]) / s;\n} else if (m[1][1] > m[2][2]) {\nfloat s = 2.0 * sqrt(1.0 + m[1][1] - m[0][0] - m[2][2]);\nquat.w = (m[0][2] - m[2][0]) / s;\nquat.x = (m[0][1] + m[1][0]) / s;\nquat.y = 0.25 * s;\nquat.z = (m[1][2] + m[2][1]) / s;\n} else {\nfloat s = 2.0 * sqrt(1.0 + m[2][2] - m[0][0] - m[1][1]);\nquat.w = (m[1][0] - m[0][1]) / s;\nquat.x = (m[0][2] + m[2][0]) / s;\nquat.y = (m[1][2] + m[2][1]) / s;\nquat.z = 0.25 * s;\n}\nfloat len = quat.x * quat.x + quat.y * quat.y + quat.z * quat.z + quat.w * quat.w;\nif (len > 0.) {\nlen = 1. / sqrt(len);\nquat.x = quat.x * len;\nquat.y = quat.y * len;\nquat.z = quat.z * len;\nquat.w = quat.w * len;\n}\nreturn quat;\n}\nvec4 quaternionFromEuler (vec3 angle){\nfloat x = angle.x / 2.;\nfloat y = angle.y / 2.;\nfloat z = angle.z / 2.;\nfloat sx = sin(x);\nfloat cx = cos(x);\nfloat sy = sin(y);\nfloat cy = cos(y);\nfloat sz = sin(z);\nfloat cz = cos(z);\nvec4 quat = vec4(0);\nquat.x = sx * cy * cz + cx * sy * sz;\nquat.y = cx * sy * cz + sx * cy * sz;\nquat.z = cx * cy * sz - sx * sy * cz;\nquat.w = cx * cy * cz - sx * sy * sz;\nreturn quat;\n}\nvec4 quatMultiply (vec4 a, vec4 b){\nvec4 quat;\nquat.x = a.x * b.w + a.w * b.x + a.y * b.z - a.z * b.y;\nquat.y = a.y * b.w + a.w * b.y + a.z * b.x - a.x * b.z;\nquat.z = a.z * b.w + a.w * b.z + a.x * b.y - a.y * b.x;\nquat.w = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;\nreturn quat;\n}\nvoid rotateVecFromQuat (inout vec3 v, vec4 q){\nfloat ix = q.w * v.x + q.y * v.z - q.z * v.y;\nfloat iy = q.w * v.y + q.z * v.x - q.x * v.z;\nfloat iz = q.w * v.z + q.x * v.y - q.y * v.x;\nfloat iw = -q.x * v.x - q.y * v.y - q.z * v.z;\nv.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\nv.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\nv.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n}\nvec3 rotateInLocalSpace (vec3 pos, vec3 xAxis, vec3 yAxis, vec3 zAxis, vec4 q){\nvec4 viewQuat = quaternionFromAxis(xAxis, yAxis, zAxis);\nvec4 rotQuat = quatMultiply(viewQuat, q);\nrotateVecFromQuat(pos, rotQuat);\nreturn pos;\n}\nvoid rotateCorner (inout vec2 corner, float angle){\nfloat xOS = cos(angle) * corner.x - sin(angle) * corner.y;\nfloat yOS = sin(angle) * corner.x + cos(angle) * corner.y;\ncorner.x = xOS;\ncorner.y = yOS;\n}\nvarying mediump vec2 uv;\nvarying mediump vec4 color;\nvoid computeVertPos (inout vec4 pos, vec2 vertOffset, vec4 q, vec3 s\n, mat4 viewInv\n) {\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = normalize(vec3(viewInv[0][0], viewInv[1][0], viewInv[2][0]));\nvec3 camY = normalize(vec3(viewInv[0][1], viewInv[1][1], viewInv[2][1]));\nvec3 camZ = normalize(vec3(viewInv[0][2], viewInv[1][2], viewInv[2][2]));\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, camZ, q);\n}\nattribute vec3 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nuniform vec4 cc_size_rotation;\nvec4 vs_main() {\nvec4 pos = vec4(a_position, 1);\npos = cc_matWorld * pos;\nvec2 vertOffset = a_texCoord.xy - 0.5;\ncomputeVertPos(pos, vertOffset, quaternionFromEuler(vec3(0., 0., cc_size_rotation.z)), vec3(cc_size_rotation.xy, 0.), cc_matViewInv);\npos = cc_matViewProj * pos;\nuv = a_texCoord.xy;\ncolor = a_color;\nreturn pos;\n}\nvoid main() { gl_Position = vs_main(); }",frag:"\nprecision mediump float;\nuniform mediump vec4 cc_exposure;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nvarying vec2 uv;\nvarying vec4 color;\nuniform sampler2D mainTexture;\nuniform vec4 tintColor;\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture2D(mainTexture, uv);\nreturn CCFragOutput(col);\n}\nvoid main() { gl_FragColor = add(); }"}],[{vert:"\nprecision highp float;\nattribute vec3 a_position;\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nvec4 frag () {\nvec4 o = vec4(1.0);\nreturn o;\n}\nvoid main() { gl_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nuniform highp mat4 cc_matViewProj;\nuniform highp mat4 cc_matWorld;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\nattribute float a_dist;\nvarying float v_dist;\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\npos = cc_matViewProj * cc_matWorld * pos;\nv_color = a_color;\nv_dist = a_dist;\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives: enable\n#endif\nprecision highp float;\nvarying vec4 v_color;\nvarying float v_dist;\nvec4 frag () {\nvec4 o = v_color;\n#ifdef GL_OES_standard_derivatives\nfloat aa = fwidth(v_dist);\n#else\nfloat aa = 0.05;\n#endif\nfloat alpha = 1. - smoothstep(-aa, 0., abs(v_dist) - 1.0);\no.rgb *= o.a;\no *= alpha;\nreturn o;\n}\nvoid main() { gl_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nvec4 quaternionFromAxis (vec3 xAxis,vec3 yAxis,vec3 zAxis){\nmat3 m = mat3(xAxis,yAxis,zAxis);\nfloat trace = m[0][0] + m[1][1] + m[2][2];\nvec4 quat;\nif (trace > 0.) {\nfloat s = 0.5 / sqrt(trace + 1.0);\nquat.w = 0.25 / s;\nquat.x = (m[2][1] - m[1][2]) * s;\nquat.y = (m[0][2] - m[2][0]) * s;\nquat.z = (m[1][0] - m[0][1]) * s;\n} else if ((m[0][0] > m[1][1]) && (m[0][0] > m[2][2])) {\nfloat s = 2.0 * sqrt(1.0 + m[0][0] - m[1][1] - m[2][2]);\nquat.w = (m[2][1] - m[1][2]) / s;\nquat.x = 0.25 * s;\nquat.y = (m[0][1] + m[1][0]) / s;\nquat.z = (m[0][2] + m[2][0]) / s;\n} else if (m[1][1] > m[2][2]) {\nfloat s = 2.0 * sqrt(1.0 + m[1][1] - m[0][0] - m[2][2]);\nquat.w = (m[0][2] - m[2][0]) / s;\nquat.x = (m[0][1] + m[1][0]) / s;\nquat.y = 0.25 * s;\nquat.z = (m[1][2] + m[2][1]) / s;\n} else {\nfloat s = 2.0 * sqrt(1.0 + m[2][2] - m[0][0] - m[1][1]);\nquat.w = (m[1][0] - m[0][1]) / s;\nquat.x = (m[0][2] + m[2][0]) / s;\nquat.y = (m[1][2] + m[2][1]) / s;\nquat.z = 0.25 * s;\n}\nfloat len = quat.x * quat.x + quat.y * quat.y + quat.z * quat.z + quat.w * quat.w;\nif (len > 0.) {\nlen = 1. / sqrt(len);\nquat.x = quat.x * len;\nquat.y = quat.y * len;\nquat.z = quat.z * len;\nquat.w = quat.w * len;\n}\nreturn quat;\n}\nvec4 quaternionFromEuler (vec3 angle){\nfloat x = angle.x / 2.;\nfloat y = angle.y / 2.;\nfloat z = angle.z / 2.;\nfloat sx = sin(x);\nfloat cx = cos(x);\nfloat sy = sin(y);\nfloat cy = cos(y);\nfloat sz = sin(z);\nfloat cz = cos(z);\nvec4 quat = vec4(0);\nquat.x = sx * cy * cz + cx * sy * sz;\nquat.y = cx * sy * cz + sx * cy * sz;\nquat.z = cx * cy * sz - sx * sy * cz;\nquat.w = cx * cy * cz - sx * sy * sz;\nreturn quat;\n}\nmat4 matrixFromRT (vec4 q, vec3 p){\nfloat x2 = q.x + q.x;\nfloat y2 = q.y + q.y;\nfloat z2 = q.z + q.z;\nfloat xx = q.x * x2;\nfloat xy = q.x * y2;\nfloat xz = q.x * z2;\nfloat yy = q.y * y2;\nfloat yz = q.y * z2;\nfloat zz = q.z * z2;\nfloat wx = q.w * x2;\nfloat wy = q.w * y2;\nfloat wz = q.w * z2;\nreturn mat4(\n1. - (yy + zz), xy + wz, xz - wy, 0,\nxy - wz, 1. - (xx + zz), yz + wx, 0,\nxz + wy, yz - wx, 1. - (xx + yy), 0,\np.x, p.y, p.z, 1\n);\n}\nmat4 matFromRTS (vec4 q, vec3 t, vec3 s){\nfloat x = q.x, y = q.y, z = q.z, w = q.w;\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat xy = x * y2;\nfloat xz = x * z2;\nfloat yy = y * y2;\nfloat yz = y * z2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\nfloat sx = s.x;\nfloat sy = s.y;\nfloat sz = s.z;\nreturn mat4((1. - (yy + zz)) * sx, (xy + wz) * sx, (xz - wy) * sx, 0,\n(xy - wz) * sy, (1. - (xx + zz)) * sy, (yz + wx) * sy, 0,\n(xz + wy) * sz, (yz - wx) * sz, (1. - (xx + yy)) * sz, 0,\nt.x, t.y, t.z, 1);\n}\nvec4 quatMultiply (vec4 a, vec4 b){\nvec4 quat;\nquat.x = a.x * b.w + a.w * b.x + a.y * b.z - a.z * b.y;\nquat.y = a.y * b.w + a.w * b.y + a.z * b.x - a.x * b.z;\nquat.z = a.z * b.w + a.w * b.z + a.x * b.y - a.y * b.x;\nquat.w = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;\nreturn quat;\n}\nvoid rotateVecFromQuat (inout vec3 v, vec4 q){\nfloat ix = q.w * v.x + q.y * v.z - q.z * v.y;\nfloat iy = q.w * v.y + q.z * v.x - q.x * v.z;\nfloat iz = q.w * v.z + q.x * v.y - q.y * v.x;\nfloat iw = -q.x * v.x - q.y * v.y - q.z * v.z;\nv.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\nv.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\nv.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n}\nvec3 rotateInLocalSpace (vec3 pos, vec3 xAxis, vec3 yAxis, vec3 zAxis, vec4 q){\nvec4 viewQuat = quaternionFromAxis(xAxis, yAxis, zAxis);\nvec4 rotQuat = quatMultiply(viewQuat, q);\nrotateVecFromQuat(pos, rotQuat);\nreturn pos;\n}\nvoid rotateCorner (inout vec2 corner, float angle){\nfloat xOS = cos(angle) * corner.x - sin(angle) * corner.y;\nfloat yOS = sin(angle) * corner.x + cos(angle) * corner.y;\ncorner.x = xOS;\ncorner.y = yOS;\n}\nuniform vec4 mainTiling_Offset;\nuniform vec4 frameTile_velLenScale;\nuniform vec4 scale;\nuniform highp mat4 cc_matView;\nuniform highp mat4 cc_matViewInv;\nuniform highp mat4 cc_matViewProj;\nuniform highp vec4 cc_cameraPos;\nuniform highp mat4 cc_matWorld;\nvarying mediump vec2 uv;\nvarying mediump vec4 color;\nvoid computeVertPos (inout vec4 pos, vec2 vertOffset, vec4 q, vec3 s\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, mat4 viewInv\n#endif\n#if CC_RENDER_MODE == 1\n, vec3 eye\n, vec4 velocity\n, float velocityScale\n, float lengthScale\n, float xIndex\n#endif\n) {\n#if CC_RENDER_MODE == 0\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = normalize(vec3(viewInv[0][0], viewInv[1][0], viewInv[2][0]));\nvec3 camY = normalize(vec3(viewInv[0][1], viewInv[1][1], viewInv[2][1]));\nvec3 camZ = normalize(vec3(viewInv[0][2], viewInv[1][2], viewInv[2][2]));\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, camZ, q);\n#elif CC_RENDER_MODE == 1\nvec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz)) * s.x;\nvec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * s.y;\npos.xyz += (camRight * abs(vertOffset.x) * sign(vertOffset.y)) - camUp * xIndex;\n#elif CC_RENDER_MODE == 2\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = vec3(1, 0, 0);\nvec3 camY = vec3(0, 0, -1);\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, cross(camX, camY), q);\n#elif CC_RENDER_MODE == 3\nvec2 viewSpaceVert = vec2(vertOffset.x * s.x, vertOffset.y * s.y);\nrotateCorner(viewSpaceVert, q.z);\nvec3 camX = normalize(vec3(cc_matView[0][0], cc_matView[1][0], cc_matView[2][0]));\nvec3 camY = vec3(0, 1, 0);\nvec3 offset = camX * viewSpaceVert.x + camY * viewSpaceVert.y;\npos.xyz += offset;\n#else\npos.x += vertOffset.x;\npos.y += vertOffset.y;\n#endif\n}\nvec2 computeUV (float frameIndex, vec2 vertIndex, vec2 frameTile){\nvec2 aniUV = vec2(0, floor(frameIndex * frameTile.y));\naniUV.x = floor(frameIndex * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\n#if CC_RENDER_MODE != 4\nvertIndex.y = 1. - vertIndex.y;\n#endif\nreturn (aniUV.xy + vertIndex) / vec2(frameTile.x, frameTile.y);\n}\nuniform vec4 u_sampleInfo;\nuniform vec4 u_worldRot;\nuniform vec4 u_timeDelta;\nattribute vec4 a_position_starttime;\nattribute vec4 a_size_uv;\nattribute vec4 a_rotation_uv;\nattribute vec4 a_color;\nattribute vec4 a_dir_life;\nattribute float a_rndSeed;\n#if CC_RENDER_MODE == 4\nattribute vec3 a_texCoord;\nattribute vec3 a_texCoord3;\nattribute vec3 a_normal;\nattribute vec4 a_color1;\n#endif\nvec3 unpackCurveData (sampler2D tex, vec2 coord) {\nvec4 a = texture2D(tex, coord);\nvec4 b = texture2D(tex, coord + u_sampleInfo.y);\nfloat c = fract(coord.x * u_sampleInfo.x);\nreturn mix(a.xyz, b.xyz, c);\n}\nvec3 unpackCurveData (sampler2D tex, vec2 coord, out float w) {\nvec4 a = texture2D(tex, coord);\nvec4 b = texture2D(tex, coord + u_sampleInfo.y);\nfloat c = fract(coord.x * u_sampleInfo.x);\nw = mix(a.w, b.w, c);\nreturn mix(a.xyz, b.xyz, c);\n}\nfloat pseudoRandom (float seed) {\nseed = mod(seed, 233280.);\nfloat q = (seed * 9301. + 49297.) / 233280.;\nreturn fract(q);\n}\n#if COLOR_OVER_TIME_MODULE_ENABLE\nuniform sampler2D color_over_time_tex0;\nuniform int u_color_mode;\n#endif\n#if ROTATION_OVER_TIME_MODULE_ENABLE\nuniform sampler2D rotation_over_time_tex0;\nuniform int u_rotation_mode;\n#endif\n#if SIZE_OVER_TIME_MODULE_ENABLE\nuniform sampler2D size_over_time_tex0;\nuniform int u_size_mode;\n#endif\n#if FORCE_OVER_TIME_MODULE_ENABLE\nuniform sampler2D force_over_time_tex0;\nuniform int u_force_mode;\nuniform int u_force_space;\n#endif\n#if VELOCITY_OVER_TIME_MODULE_ENABLE\nuniform sampler2D velocity_over_time_tex0;\nuniform int u_velocity_mode;\nuniform int u_velocity_space;\n#endif\n#if TEXTURE_ANIMATION_MODULE_ENABLE\nuniform sampler2D texture_animation_tex0;\nuniform vec4 u_anim_info;\n#endif\nfloat repeat (float t, float length) {\nreturn t - floor(t / length) * length;\n}\nvec4 rotateQuat (vec4 p, vec4 q) {\nvec3 iv = cross(q.xyz, p.xyz) + q.w * p.xyz;\nvec3 res = p.xyz + 2.0 * cross(q.xyz, iv);\nreturn vec4(res.xyz, p.w);\n}\nvec4 gpvs_main () {\nfloat activeTime = u_timeDelta.x - a_position_starttime.w;\nfloat normalizedTime = clamp(activeTime / a_dir_life.w, 0.0, 1.0);\nvec2 timeCoord0 = vec2(normalizedTime, 0.);\nvec2 timeCoord1 = vec2(normalizedTime, 1.);\n#if CC_RENDER_MODE == 4\nvec2 vertIdx = vec2(a_texCoord.x, a_texCoord.y);\n#else\nvec2 vertIdx = vec2(a_size_uv.w, a_rotation_uv.w);\n#endif\nvec4 velocity = vec4(a_dir_life.xyz, 0.);\nvec4 pos = vec4(a_position_starttime.xyz, 1.);\nvec3 size = a_size_uv.xyz;\n#if SIZE_OVER_TIME_MODULE_ENABLE\nif (u_size_mode == 1) {\nsize *= unpackCurveData(size_over_time_tex0, timeCoord0);\n} else {\nvec3 size_0 = unpackCurveData(size_over_time_tex0, timeCoord0);\nvec3 size_1 = unpackCurveData(size_over_time_tex0, timeCoord1);\nfloat factor_s = pseudoRandom(a_rndSeed + 39825.);\nsize *= mix(size_0, size_1, factor_s);\n}\n#endif\nvec3 compScale = scale.xyz * size;\n#if FORCE_OVER_TIME_MODULE_ENABLE\nvec3 forceAnim = vec3(0.);\nif (u_force_mode == 1) {\nforceAnim = unpackCurveData(force_over_time_tex0, timeCoord0);\n} else {\nvec3 force_0 = unpackCurveData(force_over_time_tex0, timeCoord0);\nvec3 force_1 = unpackCurveData(force_over_time_tex0, timeCoord1);\nfloat factor_f =  pseudoRandom(a_rndSeed + 212165.);\nforceAnim = mix(force_0, force_1, factor_f);\n}\nvec4 forceTrack = vec4(forceAnim, 0.);\nif (u_force_space == 0) {\nforceTrack = rotateQuat(forceTrack, u_worldRot);\n}\nvelocity.xyz += forceTrack.xyz;\n#endif\n#if VELOCITY_OVER_TIME_MODULE_ENABLE\nfloat speedModifier0 = 1.;\nfloat speedModifier1 = 1.;\nvec3 velocityAnim = vec3(0.);\nif (u_velocity_mode == 1) {\nvelocityAnim = unpackCurveData(velocity_over_time_tex0, timeCoord0, speedModifier0);\n} else {\nvec3 vectory_0 = unpackCurveData(velocity_over_time_tex0, timeCoord0, speedModifier0);\nvec3 vectory_1 = unpackCurveData(velocity_over_time_tex0, timeCoord1, speedModifier1);\nfloat factor_v = pseudoRandom(a_rndSeed + 197866.);\nvelocityAnim = mix(vectory_0, vectory_1, factor_v);\nspeedModifier0 = mix(speedModifier0, speedModifier1, factor_v);\n}\nvec4 velocityTrack = vec4(velocityAnim, 0.);\nif (u_velocity_space == 0) {\nvelocityTrack = rotateQuat(velocityTrack, u_worldRot);\n}\nvelocity.xyz += velocityTrack.xyz;\nvelocity.xyz *= speedModifier0;\n#endif\npos.xyz += velocity.xyz * normalizedTime * a_dir_life.w;\n#if !CC_USE_WORLD_SPACE\npos = cc_matWorld * pos;\n#if CC_RENDER_MODE == 1\nvelocity = rotateQuat(velocity, u_worldRot);\n#endif\n#endif\nvec3 rotation = a_rotation_uv.xyz;\n#if ROTATION_OVER_TIME_MODULE_ENABLE\nif (u_rotation_mode == 1) {\nrotation += unpackCurveData(rotation_over_time_tex0, timeCoord0) * normalizedTime * a_dir_life.w;\n} else {\nvec3 rotation_0 = unpackCurveData(rotation_over_time_tex0, timeCoord0);\nvec3 rotation_1 = unpackCurveData(rotation_over_time_tex0, timeCoord1);\nfloat factor_r = pseudoRandom(a_rndSeed + 125292.);\nrotation += mix(rotation_0, rotation_1, factor_r) * normalizedTime * a_dir_life.w;\n}\n#endif\n#if COLOR_OVER_TIME_MODULE_ENABLE\nif (u_color_mode == 1) {\ncolor = a_color * texture2D(color_over_time_tex0, timeCoord0);\n} else {\nvec4 color_0 = texture2D(color_over_time_tex0, timeCoord0);\nvec4 color_1 = texture2D(color_over_time_tex0, timeCoord1);\nfloat factor_c = pseudoRandom(a_rndSeed + 91041.);\ncolor = a_color * mix(color_0, color_1, factor_c);\n}\n#else\ncolor = a_color;\n#endif\n#if CC_RENDER_MODE != 4\nvec2 cornerOffset = vec2((vertIdx - 0.5));\n#if CC_RENDER_MODE == 0\nvec3 rotEuler = rotation.xyz;\n#elif CC_RENDER_MODE == 1\nvec3 rotEuler = vec3(0.);\n#else\nvec3 rotEuler = vec3(0., 0., rotation.z);\n#endif\ncomputeVertPos(pos, cornerOffset, quaternionFromEuler(rotEuler), compScale\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, cc_matViewInv\n#endif\n#if CC_RENDER_MODE == 1\n, cc_cameraPos.xyz\n, velocity\n, frameTile_velLenScale.z\n, frameTile_velLenScale.w\n, a_size_uv.w\n#endif\n);\n#else\nmat4 xformNoScale = matrixFromRT(quaternionFromEuler(rotation), pos.xyz);\nmat4 xform = matFromRTS(quaternionFromEuler(rotation), pos.xyz, compScale);\npos = xform * vec4(a_texCoord3, 1);\nvec4 normal = xformNoScale * vec4(a_normal, 0);\ncolor *= a_color1;\n#endif\npos = cc_matViewProj * pos;\nfloat frameIndex = 0.;\n#if TEXTURE_ANIMATION_MODULE_ENABLE\nfloat startFrame = 0.;\nvec3 frameInfo = vec3(0.);\nif (int(u_anim_info.x) == 1) {\nframeInfo = unpackCurveData(texture_animation_tex0, timeCoord0);\n} else {\nvec3 frameInfo0 = unpackCurveData(texture_animation_tex0, timeCoord0);\nvec3 frameInfo1 = unpackCurveData(texture_animation_tex0, timeCoord1);\nfloat factor_t = pseudoRandom(a_rndSeed + 90794.);\nframeInfo = mix(frameInfo0, frameInfo1, factor_t);\n}\nstartFrame = frameInfo.x / u_anim_info.y;\nframeIndex = repeat(u_anim_info.z * (frameInfo.y + startFrame), 1.);\n#endif\nuv = computeUV(frameIndex, vertIdx, frameTile_velLenScale.xy) * mainTiling_Offset.xy + mainTiling_Offset.zw;\nreturn pos;\n}\nvoid main() { gl_Position = gpvs_main(); }",frag:"\nprecision mediump float;\nuniform mediump vec4 cc_exposure;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nvarying vec2 uv;\nvarying vec4 color;\nuniform sampler2D mainTexture;\nuniform vec4 tintColor;\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture2D(mainTexture, uv);\nreturn CCFragOutput(col);\n}\nvoid main() { gl_FragColor = add(); }"}],[{vert:"\nprecision mediump float;\nuniform vec4 mainTiling_Offset;\nuniform highp mat4 cc_matViewProj;\nuniform highp vec4 cc_cameraPos;\nuniform highp mat4 cc_matWorld;\nvarying mediump vec2 uv;\nvarying mediump vec4 color;\nattribute vec3 a_position;\nattribute vec4 a_texCoord;\nattribute vec3 a_texCoord1;\nattribute vec3 a_texCoord2;\nattribute vec4 a_color;\n#if CC_DRAW_WIRE_FRAME\nvarying vec3 vBarycentric;\n#endif\nvec4 vs_main() {\nhighp vec4 pos = vec4(a_position, 1);\nvec4 velocity = vec4(a_texCoord1.xyz, 0);\n#if !CC_USE_WORLD_SPACE\npos = cc_matWorld * pos;\nvelocity = cc_matWorld * velocity;\n#endif\nfloat vertOffset = (a_texCoord.x - 0.5) * a_texCoord.y;\nvec3 camUp = normalize(cross(pos.xyz - cc_cameraPos.xyz, velocity.xyz));\npos.xyz += camUp * vertOffset;\npos = cc_matViewProj * pos;\nuv = a_texCoord.zw * mainTiling_Offset.xy + mainTiling_Offset.zw;;\ncolor = a_color;\n#if CC_DRAW_WIRE_FRAME\nvBarycentric = a_texCoord2;\n#endif\nreturn pos;\n}\nvoid main() { gl_Position = vs_main(); }",frag:"\nprecision mediump float;\nuniform mediump vec4 cc_exposure;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nvarying vec2 uv;\nvarying vec4 color;\n#if CC_DRAW_WIRE_FRAME\nvarying vec3 vBarycentric;\n#endif\nuniform sampler2D mainTexture;\nuniform vec4 tintColor;\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture2D(mainTexture, uv);\n#if CC_DRAW_WIRE_FRAME\nif (any(lessThan(vBarycentric, vec3(0.02)))) {\ncol = vec4(0., 1., 1., 1.);\n}\n#endif\nreturn CCFragOutput(col);\n}\nvoid main() { gl_FragColor = add(); }"}],[{vert:"\nprecision highp float;\nvec4 quaternionFromAxis (vec3 xAxis,vec3 yAxis,vec3 zAxis){\nmat3 m = mat3(xAxis,yAxis,zAxis);\nfloat trace = m[0][0] + m[1][1] + m[2][2];\nvec4 quat;\nif (trace > 0.) {\nfloat s = 0.5 / sqrt(trace + 1.0);\nquat.w = 0.25 / s;\nquat.x = (m[2][1] - m[1][2]) * s;\nquat.y = (m[0][2] - m[2][0]) * s;\nquat.z = (m[1][0] - m[0][1]) * s;\n} else if ((m[0][0] > m[1][1]) && (m[0][0] > m[2][2])) {\nfloat s = 2.0 * sqrt(1.0 + m[0][0] - m[1][1] - m[2][2]);\nquat.w = (m[2][1] - m[1][2]) / s;\nquat.x = 0.25 * s;\nquat.y = (m[0][1] + m[1][0]) / s;\nquat.z = (m[0][2] + m[2][0]) / s;\n} else if (m[1][1] > m[2][2]) {\nfloat s = 2.0 * sqrt(1.0 + m[1][1] - m[0][0] - m[2][2]);\nquat.w = (m[0][2] - m[2][0]) / s;\nquat.x = (m[0][1] + m[1][0]) / s;\nquat.y = 0.25 * s;\nquat.z = (m[1][2] + m[2][1]) / s;\n} else {\nfloat s = 2.0 * sqrt(1.0 + m[2][2] - m[0][0] - m[1][1]);\nquat.w = (m[1][0] - m[0][1]) / s;\nquat.x = (m[0][2] + m[2][0]) / s;\nquat.y = (m[1][2] + m[2][1]) / s;\nquat.z = 0.25 * s;\n}\nfloat len = quat.x * quat.x + quat.y * quat.y + quat.z * quat.z + quat.w * quat.w;\nif (len > 0.) {\nlen = 1. / sqrt(len);\nquat.x = quat.x * len;\nquat.y = quat.y * len;\nquat.z = quat.z * len;\nquat.w = quat.w * len;\n}\nreturn quat;\n}\nvec4 quaternionFromEuler (vec3 angle){\nfloat x = angle.x / 2.;\nfloat y = angle.y / 2.;\nfloat z = angle.z / 2.;\nfloat sx = sin(x);\nfloat cx = cos(x);\nfloat sy = sin(y);\nfloat cy = cos(y);\nfloat sz = sin(z);\nfloat cz = cos(z);\nvec4 quat = vec4(0);\nquat.x = sx * cy * cz + cx * sy * sz;\nquat.y = cx * sy * cz + sx * cy * sz;\nquat.z = cx * cy * sz - sx * sy * cz;\nquat.w = cx * cy * cz - sx * sy * sz;\nreturn quat;\n}\nmat4 matrixFromRT (vec4 q, vec3 p){\nfloat x2 = q.x + q.x;\nfloat y2 = q.y + q.y;\nfloat z2 = q.z + q.z;\nfloat xx = q.x * x2;\nfloat xy = q.x * y2;\nfloat xz = q.x * z2;\nfloat yy = q.y * y2;\nfloat yz = q.y * z2;\nfloat zz = q.z * z2;\nfloat wx = q.w * x2;\nfloat wy = q.w * y2;\nfloat wz = q.w * z2;\nreturn mat4(\n1. - (yy + zz), xy + wz, xz - wy, 0,\nxy - wz, 1. - (xx + zz), yz + wx, 0,\nxz + wy, yz - wx, 1. - (xx + yy), 0,\np.x, p.y, p.z, 1\n);\n}\nmat4 matFromRTS (vec4 q, vec3 t, vec3 s){\nfloat x = q.x, y = q.y, z = q.z, w = q.w;\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat xy = x * y2;\nfloat xz = x * z2;\nfloat yy = y * y2;\nfloat yz = y * z2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\nfloat sx = s.x;\nfloat sy = s.y;\nfloat sz = s.z;\nreturn mat4((1. - (yy + zz)) * sx, (xy + wz) * sx, (xz - wy) * sx, 0,\n(xy - wz) * sy, (1. - (xx + zz)) * sy, (yz + wx) * sy, 0,\n(xz + wy) * sz, (yz - wx) * sz, (1. - (xx + yy)) * sz, 0,\nt.x, t.y, t.z, 1);\n}\nvec4 quatMultiply (vec4 a, vec4 b){\nvec4 quat;\nquat.x = a.x * b.w + a.w * b.x + a.y * b.z - a.z * b.y;\nquat.y = a.y * b.w + a.w * b.y + a.z * b.x - a.x * b.z;\nquat.z = a.z * b.w + a.w * b.z + a.x * b.y - a.y * b.x;\nquat.w = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;\nreturn quat;\n}\nvoid rotateVecFromQuat (inout vec3 v, vec4 q){\nfloat ix = q.w * v.x + q.y * v.z - q.z * v.y;\nfloat iy = q.w * v.y + q.z * v.x - q.x * v.z;\nfloat iz = q.w * v.z + q.x * v.y - q.y * v.x;\nfloat iw = -q.x * v.x - q.y * v.y - q.z * v.z;\nv.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\nv.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\nv.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n}\nvec3 rotateInLocalSpace (vec3 pos, vec3 xAxis, vec3 yAxis, vec3 zAxis, vec4 q){\nvec4 viewQuat = quaternionFromAxis(xAxis, yAxis, zAxis);\nvec4 rotQuat = quatMultiply(viewQuat, q);\nrotateVecFromQuat(pos, rotQuat);\nreturn pos;\n}\nvoid rotateCorner (inout vec2 corner, float angle){\nfloat xOS = cos(angle) * corner.x - sin(angle) * corner.y;\nfloat yOS = sin(angle) * corner.x + cos(angle) * corner.y;\ncorner.x = xOS;\ncorner.y = yOS;\n}\nuniform vec4 mainTiling_Offset;\nuniform vec4 frameTile_velLenScale;\nuniform vec4 scale;\nuniform highp mat4 cc_matView;\nuniform highp mat4 cc_matViewInv;\nuniform highp mat4 cc_matViewProj;\nuniform highp vec4 cc_cameraPos;\nuniform highp mat4 cc_matWorld;\nvarying mediump vec2 uv;\nvarying mediump vec4 color;\nvoid computeVertPos (inout vec4 pos, vec2 vertOffset, vec4 q, vec3 s\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, mat4 viewInv\n#endif\n#if CC_RENDER_MODE == 1\n, vec3 eye\n, vec4 velocity\n, float velocityScale\n, float lengthScale\n, float xIndex\n#endif\n) {\n#if CC_RENDER_MODE == 0\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = normalize(vec3(viewInv[0][0], viewInv[1][0], viewInv[2][0]));\nvec3 camY = normalize(vec3(viewInv[0][1], viewInv[1][1], viewInv[2][1]));\nvec3 camZ = normalize(vec3(viewInv[0][2], viewInv[1][2], viewInv[2][2]));\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, camZ, q);\n#elif CC_RENDER_MODE == 1\nvec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz)) * s.x;\nvec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * s.y;\npos.xyz += (camRight * abs(vertOffset.x) * sign(vertOffset.y)) - camUp * xIndex;\n#elif CC_RENDER_MODE == 2\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = vec3(1, 0, 0);\nvec3 camY = vec3(0, 0, -1);\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, cross(camX, camY), q);\n#elif CC_RENDER_MODE == 3\nvec2 viewSpaceVert = vec2(vertOffset.x * s.x, vertOffset.y * s.y);\nrotateCorner(viewSpaceVert, q.z);\nvec3 camX = normalize(vec3(cc_matView[0][0], cc_matView[1][0], cc_matView[2][0]));\nvec3 camY = vec3(0, 1, 0);\nvec3 offset = camX * viewSpaceVert.x + camY * viewSpaceVert.y;\npos.xyz += offset;\n#else\npos.x += vertOffset.x;\npos.y += vertOffset.y;\n#endif\n}\nvec2 computeUV (float frameIndex, vec2 vertIndex, vec2 frameTile){\nvec2 aniUV = vec2(0, floor(frameIndex * frameTile.y));\naniUV.x = floor(frameIndex * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\n#if CC_RENDER_MODE != 4\nvertIndex.y = 1. - vertIndex.y;\n#endif\nreturn (aniUV.xy + vertIndex) / vec2(frameTile.x, frameTile.y);\n}\nattribute vec3 a_position;\nattribute vec3 a_texCoord;\nattribute vec3 a_texCoord1;\nattribute vec3 a_texCoord2;\nattribute vec4 a_color;\n#if CC_RENDER_MODE == 1\nattribute vec3 a_color1;\n#endif\n#if CC_RENDER_MODE == 4\nattribute vec3 a_texCoord3;\nattribute vec3 a_normal;\nattribute vec4 a_color1;\n#endif\nvec4 lpvs_main () {\nvec3 compScale = scale.xyz * a_texCoord1;\nvec4 pos = vec4(a_position, 1);\n#if CC_RENDER_MODE == 1\nvec4 velocity = vec4(a_color1.xyz, 0);\n#endif\n#if !CC_USE_WORLD_SPACE\npos = cc_matWorld * pos;\n#if CC_RENDER_MODE == 1\nvelocity = cc_matWorld * velocity;\n#endif\n#endif\n#if CC_RENDER_MODE != 4\nvec2 cornerOffset = vec2((a_texCoord.xy - 0.5));\n#if CC_RENDER_MODE == 0\nvec3 rotEuler = a_texCoord2;\n#elif CC_RENDER_MODE == 1\nvec3 rotEuler = vec3(0.);\n#else\nvec3 rotEuler = vec3(0., 0., a_texCoord2.z);\n#endif\ncomputeVertPos(pos, cornerOffset, quaternionFromEuler(rotEuler), compScale\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, cc_matViewInv\n#endif\n#if CC_RENDER_MODE == 1\n, cc_cameraPos.xyz\n, velocity\n, frameTile_velLenScale.z\n, frameTile_velLenScale.w\n, a_texCoord.x\n#endif\n);\ncolor = a_color;\n#else\nmat4 xformNoScale = matrixFromRT(quaternionFromEuler(a_texCoord2), pos.xyz);\nmat4 xform = matFromRTS(quaternionFromEuler(a_texCoord2), pos.xyz, compScale);\npos = xform * vec4(a_texCoord3, 1);\nvec4 normal = xformNoScale * vec4(a_normal, 0);\ncolor = a_color * a_color1;\n#endif\nuv = computeUV(a_texCoord.z, a_texCoord.xy, frameTile_velLenScale.xy) * mainTiling_Offset.xy + mainTiling_Offset.zw;\npos = cc_matViewProj * pos;\nreturn pos;\n}\nvoid main() { gl_Position = lpvs_main(); }",frag:"\nprecision mediump float;\nuniform mediump vec4 cc_exposure;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nvarying vec2 uv;\nvarying vec4 color;\nuniform sampler2D mainTexture;\nuniform vec4 tintColor;\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture2D(mainTexture, uv);\nreturn CCFragOutput(col);\n}\nvoid main() { gl_FragColor = add(); }"}],[{vert:"\nprecision highp float;\nuniform highp mat4 cc_matViewProj;\n#if USE_LOCAL\nuniform highp mat4 cc_matWorld;\n#endif\nattribute vec3 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying vec4 v_light;\nvarying vec2 uv0;\n#if TWO_COLORED\nattribute vec4 a_color2;\nvarying vec4 v_dark;\n#endif\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\n#if USE_LOCAL\npos = cc_matWorld * pos;\n#endif\npos = cc_matViewProj * pos;\nuv0 = a_texCoord;\nv_light = a_color;\n#if TWO_COLORED\nv_dark = a_color2;\n#endif\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\nuniform float alphaThreshold;\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n#if USE_ALPHA_TEST\nif (color.a < alphaThreshold) discard;\n#endif\n}\nvoid ALPHA_TEST (in float alpha) {\n#if USE_ALPHA_TEST\nif (alpha < alphaThreshold) discard;\n#endif\n}\nvarying vec4 v_light;\n#if TWO_COLORED\nvarying vec4 v_dark;\n#endif\nvarying vec2 uv0;\nuniform sampler2D cc_spriteTexture;\nvec4 frag () {\nvec4 o = vec4(1, 1, 1, 1);\n#if TWO_COLORED\nvec4 texColor = vec4(1, 1, 1, 1);\ntexColor *= texture2D(cc_spriteTexture, uv0);\no.a = texColor.a * v_light.a;\no.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n#else\no *= texture2D(cc_spriteTexture, uv0);\no *= v_light;\n#endif\nALPHA_TEST(o);\nreturn o;\n}\nvoid main() { gl_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nuniform highp mat4 cc_matView;\nuniform highp mat4 cc_matProj;\nuniform highp mat4 cc_matViewProj;\nuniform highp vec4 cc_cameraPos;\n#if USE_LOCAL\nuniform highp mat4 cc_matWorld;\n#endif\n#if SAMPLE_FROM_RT\n#endif\nattribute vec3 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying vec4 color;\nvarying vec2 uv0;\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\n#if USE_LOCAL\npos = cc_matWorld * pos;\n#endif\n#if USE_PIXEL_ALIGNMENT\npos = cc_matView * pos;\npos.xyz = floor(pos.xyz);\npos = cc_matProj * pos;\n#else\npos = cc_matViewProj * pos;\n#endif\nuv0 = a_texCoord;\n#if SAMPLE_FROM_RT\nuv0 = cc_cameraPos.w > 1.0 ? vec2(uv0.x, 1.0 - uv0.y) : uv0;\n#endif\ncolor = a_color;\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nvec4 CCSampleWithAlphaSeparated(sampler2D tex, vec2 uv) {\n#if CC_USE_EMBEDDED_ALPHA\nreturn vec4(texture2D(tex, uv).rgb, texture2D(tex, uv + vec2(0.0, 0.5)).r);\n#else\nreturn texture2D(tex, uv);\n#endif\n}\n#if USE_ALPHA_TEST\nuniform float alphaThreshold;\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n#if USE_ALPHA_TEST\nif (color.a < alphaThreshold) discard;\n#endif\n}\nvoid ALPHA_TEST (in float alpha) {\n#if USE_ALPHA_TEST\nif (alpha < alphaThreshold) discard;\n#endif\n}\nvarying vec4 color;\n#if USE_TEXTURE\nvarying vec2 uv0;\nuniform sampler2D cc_spriteTexture;\n#endif\nvec4 frag () {\nvec4 o = vec4(1, 1, 1, 1);\n#if USE_TEXTURE\no *= CCSampleWithAlphaSeparated(cc_spriteTexture, uv0);\n#if IS_GRAY\nfloat gray  = 0.2126 * o.r + 0.7152 * o.g + 0.0722 * o.b;\no.r = o.g = o.b = gray;\n#endif\n#endif\no *= color;\nALPHA_TEST(o);\nreturn o;\n}\nvoid main() { gl_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_texCoord;\nattribute vec4 a_tangent;\n#if CC_USE_MORPH\nattribute float a_vertexId;\nint getVertexId() {\nreturn int(a_vertexId);\n}\nuniform vec4 cc_displacementWeights[15];\nuniform vec4 cc_displacementTextureInfo;\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 uv = getPixelCoordFromLocation(location, cc_displacementTextureInfo.xy);\nreturn texture2D(tex, uv);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture2D(tex, x)),\ndecode32(texture2D(tex, y)),\ndecode32(texture2D(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nuniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nuniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nuniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nattribute vec4 a_joints;\nattribute vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nattribute highp vec4 a_jointAnimInfo;\n#endif\nuniform highp vec4 cc_jointTextureInfo;\nuniform highp vec4 cc_jointAnimInfo;\nuniform highp sampler2D cc_jointTexture;\n#else\nuniform highp vec4 cc_joints[90];\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nuniform highp mat4 cc_matView;\nuniform highp mat4 cc_matProj;\nuniform highp vec4 cc_cameraPos;\nuniform mediump vec4 cc_fogBase;\nuniform mediump vec4 cc_fogAdd;\n#if USE_INSTANCING\nattribute vec4 a_matWorld0;\nattribute vec4 a_matWorld1;\nattribute vec4 a_matWorld2;\n#if USE_LIGHTMAP\nattribute vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nattribute float a_dyn_batch_id;\nuniform highp mat4 cc_matWorlds[10];\n#else\nuniform highp mat4 cc_matWorld;\nuniform highp mat4 cc_matWorldIT;\nuniform highp vec4 cc_lightingMapUVParam;\n#endif\nuniform vec4 tilingOffset;\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nvarying float v_fog_factor;\nvarying highp vec4 v_shadowPos;\nuniform highp mat4 cc_matLightViewProj;\n#if CC_RECEIVE_SHADOW\nuniform sampler2D cc_shadowMap;\nuniform sampler2D cc_spotLightingMap;\n#endif\n#if USE_VERTEX_COLOR\nattribute vec4 a_color;\nvarying vec4 v_color;\n#endif\nvarying vec3 v_position;\nvarying vec3 v_normal;\nvarying vec2 v_uv;\nvarying vec2 v_uv1;\n#if USE_NORMAL_MAP\nvarying vec3 v_tangent;\nvarying vec3 v_bitangent;\n#endif\n#if HAS_SECOND_UV || USE_LIGHTMAP\nattribute vec2 a_texCoord1;\n#endif\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nvarying vec3 v_luv;\nvoid CCLightingMapCaclUV()\n{\n#if !USE_INSTANCING\nv_luv.xy = cc_lightingMapUVParam.xy + a_texCoord1 * cc_lightingMapUVParam.zw;\nv_luv.z = cc_lightingMapUVParam.z;\n#else\nv_luv.xy = a_lightingMapUVParam.xy + a_texCoord1 * a_lightingMapUVParam.zw;\nv_luv.z = a_lightingMapUVParam.z;\n#endif\n}\n#endif\nvoid main () {\nStandardVertInput In;\nIn.position = vec4(a_position, 1.0);\nIn.normal = a_normal;\nIn.tangent = a_tangent;\n#if CC_USE_MORPH\napplyMorph(In);\n#endif\n#if CC_USE_SKINNING\nCCSkin(In);\n#endif\nmat4 matWorld, matWorldIT;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\nmatWorldIT = matWorld;\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\nmatWorldIT = matWorld;\n#else\nmatWorld = cc_matWorld;\nmatWorldIT = cc_matWorldIT;\n#endif\nvec4 pos = matWorld * In.position;\nv_position = pos.xyz;\nv_normal = normalize((matWorldIT * vec4(In.normal, 0.0)).xyz);\n#if USE_NORMAL_MAP\nv_tangent = normalize((matWorld * vec4(In.tangent.xyz, 0.0)).xyz);\nv_bitangent = cross(v_normal, v_tangent) * In.tangent.w;\n#endif\nv_uv = a_texCoord * tilingOffset.xy + tilingOffset.zw;\n#if SAMPLE_FROM_RT\nv_uv = cc_cameraPos.w > 1.0 ? vec2(v_uv.x, 1.0 - v_uv.y) : v_uv;\n#endif\n#if HAS_SECOND_UV\nv_uv1 = a_texCoord1 * tilingOffset.xy + tilingOffset.zw;\n#if SAMPLE_FROM_RT\nv_uv1 = cc_cameraPos.w > 1.0 ? vec2(v_uv1.x, 1.0 - v_uv1.y) : v_uv1;\n#endif\n#endif\n#if USE_VERTEX_COLOR\nv_color = a_color;\n#endif\n#if CC_USE_FOG == 0\nv_fog_factor = LinearFog(pos);\n#elif CC_USE_FOG == 1\nv_fog_factor = ExpFog(pos);\n#elif CC_USE_FOG == 2\nv_fog_factor = ExpSquaredFog(pos);\n#elif CC_USE_FOG == 3\nv_fog_factor = LayeredFog(pos);\n#else\nv_fog_factor = 1.0;\n#endif\nv_shadowPos = cc_matLightViewProj * pos;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nCCLightingMapCaclUV();\n#endif\ngl_Position = cc_matProj * (cc_matView * matWorld) * In.position;\n}",frag:"\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers: enable\n#endif\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod: enable\n#endif\nprecision highp float;\nuniform highp vec4 cc_cameraPos;\nuniform mediump vec4 cc_exposure;\nuniform mediump vec4 cc_mainLitDir;\nuniform mediump vec4 cc_mainLitColor;\nuniform mediump vec4 cc_ambientSky;\nuniform mediump vec4 cc_ambientGround;\nuniform mediump vec4 cc_fogColor;\nuniform vec4 albedo;\nuniform vec4 albedoScaleAndCutoff;\nuniform vec4 pbrParams;\nuniform vec4 emissive;\nuniform vec4 emissiveScaleParam;\nvarying float v_fog_factor;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nuniform highp mat4 cc_matLightView;\nuniform lowp vec4 cc_shadowNFLSInfo;\nuniform lowp vec4 cc_shadowWHPBInfo;\nuniform lowp vec4 cc_shadowLPNNInfo;\nuniform lowp vec4 cc_shadowColor;\n#if CC_RECEIVE_SHADOW\nuniform sampler2D cc_shadowMap;\nuniform sampler2D cc_spotLightingMap;\nfloat CCGetLinearDepth (vec3 worldPos) {\nvec4 viewStartPos = cc_matLightView * vec4(worldPos.xyz, 1.0);\nfloat dist = length(viewStartPos.xyz);\nreturn cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\n}\nfloat CCGetShadowFactorX1 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture2D(cc_shadowMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture2D(cc_shadowMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, clipPos.z- cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetShadowFactorX5 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetShadowFactorX9 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetShadowFactorX25 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\nfloat CCGetDirLightShadowFactorX1 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nfloat depth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture2D(cc_spotLightingMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture2D(cc_spotLightingMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, depth - cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetDirLightShadowFactorX5 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetDirLightShadowFactorX9 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetDirLightShadowFactorX25 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat depth = 0.0;\nfloat shadow = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\n#endif\n#if CC_USE_IBL\nuniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec4 fragTextureLod (sampler2D tex, vec2 coord, float lod) {\n#ifdef GL_EXT_shader_texture_lod\nreturn texture2DLodEXT(tex, coord, lod);\n#else\nreturn texture2D(tex, coord, lod);\n#endif\n}\nvec4 fragTextureLod (samplerCube tex, vec3 coord, float lod) {\n#ifdef GL_EXT_shader_texture_lod\nreturn textureCubeLodEXT(tex, coord, lod);\n#else\nreturn textureCube(tex, coord, lod);\n#endif\n}\n#endif\nfloat GGXMobile (float roughness, float NoH, vec3 H, vec3 N) {\nvec3 NxH = cross(N, H);\nfloat OneMinusNoHSqr = dot(NxH, NxH);\nfloat a = roughness * roughness;\nfloat n = NoH * a;\nfloat p = a / (OneMinusNoHSqr + n * n);\nreturn p * p;\n}\nfloat CalcSpecular (float roughness, float NoH, vec3 H, vec3 N) {\nreturn (roughness * 0.25 + 0.25) * GGXMobile(roughness, NoH, H, N);\n}\nvec3 BRDFApprox (vec3 specular, float roughness, float NoV) {\nconst vec4 c0 = vec4(-1.0, -0.0275, -0.572, 0.022);\nconst vec4 c1 = vec4(1.0, 0.0425, 1.04, -0.04);\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NoV)) * r.x + r.y;\nvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\nAB.y *= clamp(50.0 * specular.g, 0.0, 1.0);\nreturn specular * AB.x + AB.y;\n}\nstruct StandardSurface {\nvec4 albedo;\nvec3 position;\nvec3 normal;\nvec3 emissive;\nvec3 lightmap;\nfloat lightmap_test;\nfloat roughness;\nfloat metallic;\nfloat occlusion;\n};\nvec4 CCStandardShadingBase (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 L = normalize(-cc_mainLitDir.xyz);\nvec3 H = normalize(L + V);\nfloat NH = max(dot(N, H), 0.0);\nfloat NL = max(dot(N, L), 0.001);\nvec3 finalColor = NL * cc_mainLitColor.rgb * cc_mainLitColor.w;\nvec3 diffuseContrib = diffuse;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nif (s.lightmap_test > 0.0001) {\nfinalColor = s.lightmap.rgb;\n}\n#else\ndiffuseContrib /= 3.14159265359;\n#endif\nvec3 specularContrib = specular * CalcSpecular(s.roughness, NH, H, N);\nfinalColor *= (diffuseContrib + specularContrib);\nfloat fAmb = 0.5 - N.y * 0.5;\nvec3 ambDiff = mix(cc_ambientSky.rgb, cc_ambientGround.rgb, fAmb) * cc_ambientSky.w;\nfinalColor += (ambDiff.rgb * diffuse);\n#if CC_USE_IBL\nvec3 R = normalize(reflect(-V, N));\nvec4 envmap = fragTextureLod(cc_environment, R, s.roughness * cc_ambientGround.w);\n#if CC_USE_IBL == 2\nvec3 env = unpackRGBE(envmap);\n#else\nvec3 env = SRGBToLinear(envmap.rgb);\n#endif\nfinalColor += env * cc_ambientSky.w * specular;\n#endif\nfinalColor = finalColor * s.occlusion;\n#if CC_USE_HDR\ns.emissive *= cc_exposure.w;\n#endif\nfinalColor += s.emissive;\n#if CC_RECEIVE_SHADOW\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, L.xyz), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetShadowFactorX25(pos);\nelse if (pcf > 2.0) shadowAttenuation = CCGetShadowFactorX9(pos);\nelse if (pcf > 1.0) shadowAttenuation = CCGetShadowFactorX5(pos);\nelse shadowAttenuation = CCGetShadowFactorX1(pos);\nvec3 shadowColor = cc_shadowColor.rgb * cc_shadowColor.a + finalColor.rgb * (1.0 - cc_shadowColor.a);\nif (cc_shadowNFLSInfo.w > 0.000001) {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation + finalColor.rgb * (1.0 - shadowAttenuation);\n} else {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation * NL + finalColor.rgb * (1.0 - shadowAttenuation * NL);\n}\n}\n#endif\nreturn vec4(finalColor, s.albedo.a);\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nvarying highp vec4 v_shadowPos;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nvarying vec3 v_luv;\nuniform sampler2D cc_lightingMap;\nvec3 UnpackLightingmap(vec4 color) {\nvec3 c;\nfloat e = 1.0 + color.a * (8.0 - 1.0);\nc.r = color.r * e;\nc.g = color.g * e;\nc.b = color.b * e;\nreturn c;\n}\n#endif\nvarying vec3 v_position;\nvarying vec2 v_uv;\nvarying vec2 v_uv1;\nvarying vec3 v_normal;\n#if USE_VERTEX_COLOR\nvarying vec4 v_color;\n#endif\n#if USE_ALBEDO_MAP\nuniform sampler2D albedoMap;\n#endif\n#if USE_NORMAL_MAP\nvarying vec3 v_tangent;\nvarying vec3 v_bitangent;\nuniform sampler2D normalMap;\n#endif\n#if USE_PBR_MAP\nuniform sampler2D pbrMap;\n#endif\n#if USE_METALLIC_ROUGHNESS_MAP\nuniform sampler2D metallicRoughnessMap;\n#endif\n#if USE_OCCLUSION_MAP\nuniform sampler2D occlusionMap;\n#endif\n#if USE_EMISSIVE_MAP\nuniform sampler2D emissiveMap;\n#endif\n#if USE_ALPHA_TEST\n#endif\nvoid surf (out StandardSurface s) {\nvec4 baseColor = albedo;\n#if USE_VERTEX_COLOR\nbaseColor *= v_color;\n#endif\n#if USE_ALBEDO_MAP\nvec4 texColor = texture2D(albedoMap, ALBEDO_UV);\ntexColor.rgb = SRGBToLinear(texColor.rgb);\nbaseColor *= texColor;\n#endif\ns.albedo = baseColor;\ns.albedo.rgb *= albedoScaleAndCutoff.xyz;\n#if USE_ALPHA_TEST\nif (s.albedo.ALPHA_TEST_CHANNEL < albedoScaleAndCutoff.w) discard;\n#endif\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nvec4 lightColor = texture2D(cc_lightingMap, v_luv.xy);\ns.lightmap = UnpackLightingmap(lightColor);\ns.lightmap_test = v_luv.z;\n#endif\ns.normal = v_normal;\n#if USE_NORMAL_MAP\nvec3 nmmp = texture2D(normalMap, NORMAL_UV).xyz - vec3(0.5);\ns.normal =\n(nmmp.x * pbrParams.w) * normalize(v_tangent) +\n(nmmp.y * pbrParams.w) * normalize(v_bitangent) +\nnmmp.z * normalize(s.normal);\n#endif\ns.position = v_position;\nvec4 pbr = pbrParams;\n#if USE_PBR_MAP\nvec4 res = texture2D(pbrMap, PBR_UV);\npbr.x *= res.r;\npbr.y *= res.g;\npbr.z *= res.b;\n#endif\n#if USE_METALLIC_ROUGHNESS_MAP\nvec4 metallicRoughness = texture2D(metallicRoughnessMap, PBR_UV);\npbr.z *= metallicRoughness.b;\npbr.y *= metallicRoughness.g;\n#endif\n#if USE_OCCLUSION_MAP\npbr.x *= texture2D(occlusionMap, PBR_UV).r;\n#endif\ns.occlusion = clamp(pbr.x, 0.0, 0.96);\ns.roughness = clamp(pbr.y, 0.04, 1.0);\ns.metallic = pbr.z;\ns.emissive = emissive.rgb * emissiveScaleParam.xyz;\n#if USE_EMISSIVE_MAP\ns.emissive *= SRGBToLinear(texture2D(emissiveMap, EMISSIVE_UV).rgb);\n#endif\n}\n#if CC_FORWARD_ADD\n#if CC_PIPELINE_TYPE == 0\n# define LIGHTS_PER_PASS 1\n#else\n# define LIGHTS_PER_PASS 10\n#endif\nuniform highp vec4 cc_lightPos[LIGHTS_PER_PASS];\nuniform vec4 cc_lightColor[LIGHTS_PER_PASS];\nuniform vec4 cc_lightSizeRangeAngle[LIGHTS_PER_PASS];\nuniform vec4 cc_lightDir[LIGHTS_PER_PASS];\nfloat SmoothDistAtt (float distSqr, float invSqrAttRadius) {\nfloat factor = distSqr * invSqrAttRadius;\nfloat smoothFactor = clamp(1.0 - factor * factor, 0.0, 1.0);\nreturn smoothFactor * smoothFactor;\n}\nfloat GetDistAtt (float distSqr, float invSqrAttRadius) {\nfloat attenuation = 1.0 / max(distSqr, 0.01*0.01);\nattenuation *= SmoothDistAtt(distSqr , invSqrAttRadius);\nreturn attenuation;\n}\nfloat GetAngleAtt (vec3 L, vec3 litDir, float litAngleScale, float litAngleOffset) {\nfloat cd = dot(litDir, L);\nfloat attenuation = clamp(cd * litAngleScale + litAngleOffset, 0.0, 1.0);\nreturn (attenuation * attenuation);\n}\nvec4 CCStandardShadingAdditive (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 diffuseContrib = diffuse / 3.14159265359;\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 finalColor = vec3(0.0);\nint numLights = CC_PIPELINE_TYPE == 0 ? LIGHTS_PER_PASS : int(cc_lightDir[0].w);\nfor (int i = 0; i < LIGHTS_PER_PASS; i++) {\nif (i >= numLights) break;\nvec3 SLU = cc_lightPos[i].xyz - s.position;\nvec3 SL = normalize(SLU);\nvec3 SH = normalize(SL + V);\nfloat SNL = max(dot(N, SL), 0.001);\nfloat SNH = max(dot(N, SH), 0.0);\nfloat distSqr = dot(SLU, SLU);\nfloat litRadius = cc_lightSizeRangeAngle[i].x;\nfloat litRadiusSqr = litRadius * litRadius;\nfloat illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\nfloat attRadiusSqrInv = 1.0 / max(cc_lightSizeRangeAngle[i].y, 0.01);\nattRadiusSqrInv *= attRadiusSqrInv;\nfloat att = GetDistAtt(distSqr, attRadiusSqrInv);\nvec3 lspec = specular * CalcSpecular(s.roughness, SNH, SH, N);\nif (cc_lightPos[i].w > 0.0) {\nfloat cosInner = max(dot(-cc_lightDir[i].xyz, SL), 0.01);\nfloat cosOuter = cc_lightSizeRangeAngle[i].z;\nfloat litAngleScale = 1.0 / max(0.001, cosInner - cosOuter);\nfloat litAngleOffset = -cosOuter * litAngleScale;\natt *= GetAngleAtt(SL, -cc_lightDir[i].xyz, litAngleScale, litAngleOffset);\n}\nvec3 lightColor = cc_lightColor[i].rgb;\n#if CC_RECEIVE_SHADOW\nif (cc_lightPos[i].w > 0.0) {\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, normalize(cc_lightPos[i].xyz - s.position.xyz)), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetDirLightShadowFactorX25(pos, s.position);\nelse if (pcf > 2.0) shadowAttenuation = CCGetDirLightShadowFactorX9(pos, s.position);\nelse if (pcf > 1.0) shadowAttenuation = CCGetDirLightShadowFactorX5(pos, s.position);\nelse shadowAttenuation = CCGetDirLightShadowFactorX1(pos, s.position);\nlightColor *= 1.0 - shadowAttenuation;\n}\n}\n#endif\nfinalColor += SNL * lightColor * cc_lightColor[i].w * illum * att * (diffuseContrib + lspec);\n}\nfinalColor = finalColor * s.occlusion;\nreturn vec4(finalColor, 0.0);\n}\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingAdditive(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\ngl_FragData[0] = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 0\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingBase(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\ngl_FragData[0] = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 1\nvoid main () {\nStandardSurface s; surf(s);\ngl_FragData[0] = s.albedo;\ngl_FragData[1] = vec4(s.position, s.roughness);\ngl_FragData[2] = vec4(s.normal, s.metallic);\ngl_FragData[3] = vec4(s.emissive, s.occlusion);\n}\n#endif"},{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_texCoord;\nattribute vec4 a_tangent;\n#if CC_USE_MORPH\nattribute float a_vertexId;\nint getVertexId() {\nreturn int(a_vertexId);\n}\nuniform vec4 cc_displacementWeights[15];\nuniform vec4 cc_displacementTextureInfo;\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 uv = getPixelCoordFromLocation(location, cc_displacementTextureInfo.xy);\nreturn texture2D(tex, uv);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture2D(tex, x)),\ndecode32(texture2D(tex, y)),\ndecode32(texture2D(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nuniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nuniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nuniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nattribute vec4 a_joints;\nattribute vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nattribute highp vec4 a_jointAnimInfo;\n#endif\nuniform highp vec4 cc_jointTextureInfo;\nuniform highp vec4 cc_jointAnimInfo;\nuniform highp sampler2D cc_jointTexture;\n#else\nuniform highp vec4 cc_joints[90];\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\n#if USE_INSTANCING\nattribute vec4 a_matWorld0;\nattribute vec4 a_matWorld1;\nattribute vec4 a_matWorld2;\n#if USE_LIGHTMAP\nattribute vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nattribute float a_dyn_batch_id;\nuniform highp mat4 cc_matWorlds[10];\n#else\nuniform highp mat4 cc_matWorld;\nuniform highp mat4 cc_matWorldIT;\n#endif\nuniform vec4 tilingOffset;\nuniform highp mat4 cc_matLightViewProj;\n#if HAS_SECOND_UV || USE_LIGHTMAP\nattribute vec2 a_texCoord1;\n#endif\nvarying vec2 v_uv;\nvarying vec2 v_uv1;\nvarying vec4 v_worldPos;\nvarying float v_clip_depth;\nvec4 vert () {\nStandardVertInput In;\nIn.position = vec4(a_position, 1.0);\nIn.normal = a_normal;\nIn.tangent = a_tangent;\n#if CC_USE_MORPH\napplyMorph(In);\n#endif\n#if CC_USE_SKINNING\nCCSkin(In);\n#endif\nmat4 matWorld, matWorldIT;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\nmatWorldIT = matWorld;\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\nmatWorldIT = matWorld;\n#else\nmatWorld = cc_matWorld;\nmatWorldIT = cc_matWorldIT;\n#endif\nv_worldPos = matWorld * In.position;\nvec4 clipPos = cc_matLightViewProj * v_worldPos;\nv_uv = a_texCoord * tilingOffset.xy + tilingOffset.zw;\n#if HAS_SECOND_UV\nv_uv1 = a_texCoord1 * tilingOffset.xy + tilingOffset.zw;\n#endif\nv_clip_depth = clipPos.z / clipPos.w * 0.5 + 0.5;\nreturn clipPos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nuniform vec4 albedo;\nuniform vec4 albedoScaleAndCutoff;\nvec4 packDepthToRGBA (float depth) {\nvec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\nret = fract(ret);\nret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\nreturn ret;\n}\nuniform highp mat4 cc_matLightView;\nuniform lowp vec4 cc_shadowNFLSInfo;\nuniform lowp vec4 cc_shadowLPNNInfo;\nvarying vec2 v_uv;\nvarying vec2 v_uv1;\nvarying vec4 v_worldPos;\nvarying float v_clip_depth;\n#if USE_ALBEDO_MAP\nuniform sampler2D albedoMap;\n#endif\n#if USE_ALPHA_TEST\n#endif\nvec4 frag () {\nvec4 baseColor = albedo;\n#if USE_ALBEDO_MAP\nbaseColor *= texture2D(albedoMap, ALBEDO_UV);\n#endif\n#if USE_ALPHA_TEST\nif (baseColor.ALPHA_TEST_CHANNEL < albedoScaleAndCutoff.w) discard;\n#endif\nif(cc_shadowLPNNInfo.x > 0.000001 && cc_shadowLPNNInfo.x < 1.999999) {\nif (cc_shadowNFLSInfo.z > 0.000001) {\nvec4 viewStartPos = cc_matLightView * v_worldPos;\nfloat dist = length(viewStartPos.xyz);\nfloat linearDepth = cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\nreturn vec4(linearDepth, 1.0, 1.0, 1.0);\n}\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nreturn packDepthToRGBA(v_clip_depth);\n}\nreturn vec4(v_clip_depth, 1.0, 1.0, 1.0);\n}\nvoid main() { gl_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nuniform highp mat4 cc_matViewProj;\nuniform highp vec4 cc_cameraPos;\nuniform mediump vec4 cc_fogBase;\nuniform mediump vec4 cc_fogAdd;\nuniform highp mat4 cc_matWorld;\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nvarying float v_fog_factor;\nvarying highp vec4 v_shadowPos;\nuniform highp mat4 cc_matLightViewProj;\n#if CC_RECEIVE_SHADOW\nuniform sampler2D cc_shadowMap;\nuniform sampler2D cc_spotLightingMap;\n#endif\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_texCoord;\nvarying highp vec3 v_position;\nvarying mediump vec3 v_normal;\n#if USE_NORMALMAP\nvarying mediump vec3 v_tangent;\nvarying mediump vec3 v_binormal;\n#endif\nvarying mediump vec2 uvw;\nvarying mediump vec2 uv0;\nvarying mediump vec2 uv1;\nvarying mediump vec2 uv2;\nvarying mediump vec2 uv3;\nvarying mediump vec3 luv;\nvarying mediump vec3 diffuse;\nuniform vec4 UVScale;\nuniform vec4 lightMapUVParam;\nvoid main () {\nvec3 worldPos;\nworldPos.x = cc_matWorld[3][0] + a_position.x;\nworldPos.y = cc_matWorld[3][1] + a_position.y;\nworldPos.z = cc_matWorld[3][2] + a_position.z;\nvec4 pos = vec4(worldPos, 1.0);\npos = cc_matViewProj * pos;\nuvw = a_texCoord;\nuv0 = a_position.xz * UVScale.x;\nuv1 = a_position.xz * UVScale.y;\nuv2 = a_position.xz * UVScale.z;\nuv3 = a_position.xz * UVScale.w;\n#if USE_LIGHTMAP\nluv.xy = lightMapUVParam.xy + a_texCoord * lightMapUVParam.zw;\nluv.z = lightMapUVParam.z;\n#endif\nv_position = worldPos;\nv_normal = a_normal;\n#if CC_USE_FOG == 0\nv_fog_factor = LinearFog(vec4(worldPos, 1.0));\n#elif CC_USE_FOG == 1\nv_fog_factor = ExpFog(vec4(worldPos, 1.0));\n#elif CC_USE_FOG == 2\nv_fog_factor = ExpSquaredFog(vec4(worldPos, 1.0));\n#elif CC_USE_FOG == 3\nv_fog_factor = LayeredFog(vec4(worldPos, 1.0));\n#else\nv_fog_factor = 1.0;\n#endif\n#if USE_NORMALMAP\nv_tangent = vec3(1.0, 0.0, 0.0);\nv_binormal = vec3(0.0, 0.0, 1.0);\nv_binormal = cross(v_tangent, a_normal);\nv_tangent = cross(a_normal, v_binormal);\n#endif\nv_shadowPos = cc_matLightViewProj * vec4(worldPos, 1.0);\ngl_Position = pos;\n}",frag:"\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers: enable\n#endif\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod: enable\n#endif\nprecision highp float;\nuniform highp vec4 cc_cameraPos;\nuniform mediump vec4 cc_exposure;\nuniform mediump vec4 cc_mainLitDir;\nuniform mediump vec4 cc_mainLitColor;\nuniform mediump vec4 cc_ambientSky;\nuniform mediump vec4 cc_ambientGround;\nuniform mediump vec4 cc_fogColor;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nuniform highp mat4 cc_matLightView;\nuniform lowp vec4 cc_shadowNFLSInfo;\nuniform lowp vec4 cc_shadowWHPBInfo;\nuniform lowp vec4 cc_shadowLPNNInfo;\nuniform lowp vec4 cc_shadowColor;\n#if CC_RECEIVE_SHADOW\nuniform sampler2D cc_shadowMap;\nuniform sampler2D cc_spotLightingMap;\nfloat CCGetLinearDepth (vec3 worldPos) {\nvec4 viewStartPos = cc_matLightView * vec4(worldPos.xyz, 1.0);\nfloat dist = length(viewStartPos.xyz);\nreturn cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\n}\nfloat CCGetShadowFactorX1 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture2D(cc_shadowMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture2D(cc_shadowMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, clipPos.z- cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetShadowFactorX5 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetShadowFactorX9 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetShadowFactorX25 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\nfloat CCGetDirLightShadowFactorX1 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nfloat depth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture2D(cc_spotLightingMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture2D(cc_spotLightingMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, depth - cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetDirLightShadowFactorX5 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetDirLightShadowFactorX9 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetDirLightShadowFactorX25 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat depth = 0.0;\nfloat shadow = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\n#endif\n#if CC_USE_IBL\nuniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec4 fragTextureLod (sampler2D tex, vec2 coord, float lod) {\n#ifdef GL_EXT_shader_texture_lod\nreturn texture2DLodEXT(tex, coord, lod);\n#else\nreturn texture2D(tex, coord, lod);\n#endif\n}\nvec4 fragTextureLod (samplerCube tex, vec3 coord, float lod) {\n#ifdef GL_EXT_shader_texture_lod\nreturn textureCubeLodEXT(tex, coord, lod);\n#else\nreturn textureCube(tex, coord, lod);\n#endif\n}\n#endif\nfloat GGXMobile (float roughness, float NoH, vec3 H, vec3 N) {\nvec3 NxH = cross(N, H);\nfloat OneMinusNoHSqr = dot(NxH, NxH);\nfloat a = roughness * roughness;\nfloat n = NoH * a;\nfloat p = a / (OneMinusNoHSqr + n * n);\nreturn p * p;\n}\nfloat CalcSpecular (float roughness, float NoH, vec3 H, vec3 N) {\nreturn (roughness * 0.25 + 0.25) * GGXMobile(roughness, NoH, H, N);\n}\nvec3 BRDFApprox (vec3 specular, float roughness, float NoV) {\nconst vec4 c0 = vec4(-1.0, -0.0275, -0.572, 0.022);\nconst vec4 c1 = vec4(1.0, 0.0425, 1.04, -0.04);\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NoV)) * r.x + r.y;\nvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\nAB.y *= clamp(50.0 * specular.g, 0.0, 1.0);\nreturn specular * AB.x + AB.y;\n}\nstruct StandardSurface {\nvec4 albedo;\nvec3 position;\nvec3 normal;\nvec3 emissive;\nvec3 lightmap;\nfloat lightmap_test;\nfloat roughness;\nfloat metallic;\nfloat occlusion;\n};\nvec4 CCStandardShadingBase (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 L = normalize(-cc_mainLitDir.xyz);\nvec3 H = normalize(L + V);\nfloat NH = max(dot(N, H), 0.0);\nfloat NL = max(dot(N, L), 0.001);\nvec3 finalColor = NL * cc_mainLitColor.rgb * cc_mainLitColor.w;\nvec3 diffuseContrib = diffuse;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nif (s.lightmap_test > 0.0001) {\nfinalColor = s.lightmap.rgb;\n}\n#else\ndiffuseContrib /= 3.14159265359;\n#endif\nvec3 specularContrib = specular * CalcSpecular(s.roughness, NH, H, N);\nfinalColor *= (diffuseContrib + specularContrib);\nfloat fAmb = 0.5 - N.y * 0.5;\nvec3 ambDiff = mix(cc_ambientSky.rgb, cc_ambientGround.rgb, fAmb) * cc_ambientSky.w;\nfinalColor += (ambDiff.rgb * diffuse);\n#if CC_USE_IBL\nvec3 R = normalize(reflect(-V, N));\nvec4 envmap = fragTextureLod(cc_environment, R, s.roughness * cc_ambientGround.w);\n#if CC_USE_IBL == 2\nvec3 env = unpackRGBE(envmap);\n#else\nvec3 env = SRGBToLinear(envmap.rgb);\n#endif\nfinalColor += env * cc_ambientSky.w * specular;\n#endif\nfinalColor = finalColor * s.occlusion;\n#if CC_USE_HDR\ns.emissive *= cc_exposure.w;\n#endif\nfinalColor += s.emissive;\n#if CC_RECEIVE_SHADOW\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, L.xyz), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetShadowFactorX25(pos);\nelse if (pcf > 2.0) shadowAttenuation = CCGetShadowFactorX9(pos);\nelse if (pcf > 1.0) shadowAttenuation = CCGetShadowFactorX5(pos);\nelse shadowAttenuation = CCGetShadowFactorX1(pos);\nvec3 shadowColor = cc_shadowColor.rgb * cc_shadowColor.a + finalColor.rgb * (1.0 - cc_shadowColor.a);\nif (cc_shadowNFLSInfo.w > 0.000001) {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation + finalColor.rgb * (1.0 - shadowAttenuation);\n} else {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation * NL + finalColor.rgb * (1.0 - shadowAttenuation * NL);\n}\n}\n#endif\nreturn vec4(finalColor, s.albedo.a);\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nvarying float v_fog_factor;\nvarying highp vec4 v_shadowPos;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nvarying vec3 v_luv;\nuniform sampler2D cc_lightingMap;\nvec3 UnpackLightingmap(vec4 color) {\nvec3 c;\nfloat e = 1.0 + color.a * (8.0 - 1.0);\nc.r = color.r * e;\nc.g = color.g * e;\nc.b = color.b * e;\nreturn c;\n}\n#endif\nvarying highp vec3 v_position;\nvarying mediump vec3 v_normal;\n#if USE_NORMALMAP\nvarying mediump vec3 v_tangent;\nvarying mediump vec3 v_binormal;\n#endif\nvarying mediump vec2 uvw;\nvarying mediump vec2 uv0;\nvarying mediump vec2 uv1;\nvarying mediump vec2 uv2;\nvarying mediump vec2 uv3;\nvarying mediump vec3 diffuse;\nvarying mediump vec3 luv;\nuniform vec4 metallic;\nuniform vec4 roughness;\nuniform sampler2D weightMap;\nuniform sampler2D detailMap0;\nuniform sampler2D detailMap1;\nuniform sampler2D detailMap2;\nuniform sampler2D detailMap3;\nuniform sampler2D normalMap0;\nuniform sampler2D normalMap1;\nuniform sampler2D normalMap2;\nuniform sampler2D normalMap3;\nuniform sampler2D lightMap;\nvoid surf (out StandardSurface s) {\n#if LAYERS > 1\nvec4 w = texture2D(weightMap, uvw);\n#endif\nvec4 baseColor = vec4(0, 0, 0, 0);\n#if LAYERS == 1\nbaseColor = texture2D(detailMap0, uv0);\n#elif LAYERS == 2\nbaseColor += texture2D(detailMap0, uv0) * w.r;\nbaseColor += texture2D(detailMap1, uv1) * w.g;\n#elif LAYERS == 3\nbaseColor += texture2D(detailMap0, uv0) * w.r;\nbaseColor += texture2D(detailMap1, uv1) * w.g;\nbaseColor += texture2D(detailMap2, uv2) * w.b;\n#elif LAYERS == 4\nbaseColor += texture2D(detailMap0, uv0) * w.r;\nbaseColor += texture2D(detailMap1, uv1) * w.g;\nbaseColor += texture2D(detailMap2, uv2) * w.b;\nbaseColor += texture2D(detailMap3, uv3) * w.a;\n#else\nbaseColor = texture2D(detailMap0, uv0);\n#endif\ns.position = v_position;\n#if USE_NORMALMAP\nvec4 baseNormal = vec4(0, 0, 0, 0);\n#if LAYERS == 1\nbaseNormal = texture2D(normalMap0, uv0);\n#elif LAYERS == 2\nbaseNormal += texture2D(normalMap0, uv0) * w.r;\nbaseNormal += texture2D(normalMap1, uv1) * w.g;\n#elif LAYERS == 3\nbaseNormal += texture2D(normalMap0, uv0) * w.r;\nbaseNormal += texture2D(normalMap1, uv1) * w.g;\nbaseNormal += texture2D(normalMap2, uv2) * w.b;\n#elif LAYERS == 4\nbaseNormal += texture2D(normalMap0, uv0) * w.r;\nbaseNormal += texture2D(normalMap1, uv1) * w.g;\nbaseNormal += texture2D(normalMap2, uv2) * w.b;\nbaseNormal += texture2D(normalMap3, uv3) * w.a;\n#else\nbaseNormal = texture2D(normalMap0, uv0);\n#endif\nvec3 nmmp = baseNormal.xyz - vec3(0.5);\ns.normal =\nnmmp.x * normalize(v_tangent) +\nnmmp.y * normalize(v_binormal) +\nnmmp.z * normalize(v_normal);\n#else\ns.normal = v_normal;\n#endif\ns.albedo = vec4(SRGBToLinear(baseColor.rgb), 1.0);\ns.occlusion = 1.0;\n#if USE_PBR\ns.roughness = 0.0;\n#if LAYERS == 1\ns.roughness = roughness.x;\n#elif LAYERS == 2\ns.roughness += roughness.x * w.r;\ns.roughness += roughness.y * w.g;\n#elif LAYERS == 3\ns.roughness += roughness.x * w.r;\ns.roughness += roughness.y * w.g;\ns.roughness += roughness.z * w.b;\n#elif LAYERS == 4\ns.roughness += roughness.x * w.r;\ns.roughness += roughness.y * w.g;\ns.roughness += roughness.z * w.b;\ns.roughness += roughness.w * w.a;\n#else\ns.roughness = 1.0;\n#endif\ns.metallic = 0.0;\n#if LAYERS == 1\ns.metallic = metallic.x;\n#elif LAYERS == 2\ns.metallic += metallic.x * w.r;\ns.metallic += metallic.y * w.g;\n#elif LAYERS == 3\ns.metallic += metallic.x * w.r;\ns.metallic += metallic.y * w.g;\ns.metallic += metallic.z * w.b;\n#elif LAYERS == 4\ns.metallic += metallic.x * w.r;\ns.metallic += metallic.y * w.g;\ns.metallic += metallic.z * w.b;\ns.metallic += metallic.w * w.a;\n#else\ns.metallic = 0.0;\n#endif\n#else\ns.roughness = 1.0;\ns.metallic = 0.0;\n#endif\ns.emissive = vec3(0.0, 0.0, 0.0);\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nvec4 lightColor = texture2D(lightMap, luv.xy);\ns.lightmap = UnpackLightingmap(lightColor);\ns.lightmap_test = luv.z;\n#endif\n}\n#if CC_FORWARD_ADD\n#if CC_PIPELINE_TYPE == 0\n# define LIGHTS_PER_PASS 1\n#else\n# define LIGHTS_PER_PASS 10\n#endif\nuniform highp vec4 cc_lightPos[LIGHTS_PER_PASS];\nuniform vec4 cc_lightColor[LIGHTS_PER_PASS];\nuniform vec4 cc_lightSizeRangeAngle[LIGHTS_PER_PASS];\nuniform vec4 cc_lightDir[LIGHTS_PER_PASS];\nfloat SmoothDistAtt (float distSqr, float invSqrAttRadius) {\nfloat factor = distSqr * invSqrAttRadius;\nfloat smoothFactor = clamp(1.0 - factor * factor, 0.0, 1.0);\nreturn smoothFactor * smoothFactor;\n}\nfloat GetDistAtt (float distSqr, float invSqrAttRadius) {\nfloat attenuation = 1.0 / max(distSqr, 0.01*0.01);\nattenuation *= SmoothDistAtt(distSqr , invSqrAttRadius);\nreturn attenuation;\n}\nfloat GetAngleAtt (vec3 L, vec3 litDir, float litAngleScale, float litAngleOffset) {\nfloat cd = dot(litDir, L);\nfloat attenuation = clamp(cd * litAngleScale + litAngleOffset, 0.0, 1.0);\nreturn (attenuation * attenuation);\n}\nvec4 CCStandardShadingAdditive (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 diffuseContrib = diffuse / 3.14159265359;\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 finalColor = vec3(0.0);\nint numLights = CC_PIPELINE_TYPE == 0 ? LIGHTS_PER_PASS : int(cc_lightDir[0].w);\nfor (int i = 0; i < LIGHTS_PER_PASS; i++) {\nif (i >= numLights) break;\nvec3 SLU = cc_lightPos[i].xyz - s.position;\nvec3 SL = normalize(SLU);\nvec3 SH = normalize(SL + V);\nfloat SNL = max(dot(N, SL), 0.001);\nfloat SNH = max(dot(N, SH), 0.0);\nfloat distSqr = dot(SLU, SLU);\nfloat litRadius = cc_lightSizeRangeAngle[i].x;\nfloat litRadiusSqr = litRadius * litRadius;\nfloat illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\nfloat attRadiusSqrInv = 1.0 / max(cc_lightSizeRangeAngle[i].y, 0.01);\nattRadiusSqrInv *= attRadiusSqrInv;\nfloat att = GetDistAtt(distSqr, attRadiusSqrInv);\nvec3 lspec = specular * CalcSpecular(s.roughness, SNH, SH, N);\nif (cc_lightPos[i].w > 0.0) {\nfloat cosInner = max(dot(-cc_lightDir[i].xyz, SL), 0.01);\nfloat cosOuter = cc_lightSizeRangeAngle[i].z;\nfloat litAngleScale = 1.0 / max(0.001, cosInner - cosOuter);\nfloat litAngleOffset = -cosOuter * litAngleScale;\natt *= GetAngleAtt(SL, -cc_lightDir[i].xyz, litAngleScale, litAngleOffset);\n}\nvec3 lightColor = cc_lightColor[i].rgb;\n#if CC_RECEIVE_SHADOW\nif (cc_lightPos[i].w > 0.0) {\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, normalize(cc_lightPos[i].xyz - s.position.xyz)), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetDirLightShadowFactorX25(pos, s.position);\nelse if (pcf > 2.0) shadowAttenuation = CCGetDirLightShadowFactorX9(pos, s.position);\nelse if (pcf > 1.0) shadowAttenuation = CCGetDirLightShadowFactorX5(pos, s.position);\nelse shadowAttenuation = CCGetDirLightShadowFactorX1(pos, s.position);\nlightColor *= 1.0 - shadowAttenuation;\n}\n}\n#endif\nfinalColor += SNL * lightColor * cc_lightColor[i].w * illum * att * (diffuseContrib + lspec);\n}\nfinalColor = finalColor * s.occlusion;\nreturn vec4(finalColor, 0.0);\n}\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingAdditive(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\ngl_FragData[0] = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 0\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingBase(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\ngl_FragData[0] = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 1\nvoid main () {\nStandardSurface s; surf(s);\ngl_FragData[0] = s.albedo;\ngl_FragData[1] = vec4(s.position, s.roughness);\ngl_FragData[2] = vec4(s.normal, s.metallic);\ngl_FragData[3] = vec4(s.emissive, s.occlusion);\n}\n#endif"},{vert:"\nprecision highp float;\nuniform highp mat4 cc_matWorld;\nuniform highp mat4 cc_matLightViewProj;\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_texCoord;\nvarying vec2 v_clip_depth;\nvec4 vert () {\nvec4 worldPos;\nworldPos.x = cc_matWorld[3][0] + a_position.x;\nworldPos.y = cc_matWorld[3][1] + a_position.y;\nworldPos.z = cc_matWorld[3][2] + a_position.z;\nworldPos.w = 1.0;\nvec4 clipPos = cc_matLightViewProj * worldPos;\nv_clip_depth = clipPos.zw;\nreturn clipPos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nvec4 packDepthToRGBA (float depth) {\nvec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\nret = fract(ret);\nret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\nreturn ret;\n}\nvarying vec2 v_clip_depth;\nvec4 frag () {\nreturn packDepthToRGBA(v_clip_depth.x / v_clip_depth.y * 0.5 + 0.5);\n}\nvoid main() { gl_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_texCoord;\nattribute vec4 a_tangent;\n#if CC_USE_MORPH\nattribute float a_vertexId;\nint getVertexId() {\nreturn int(a_vertexId);\n}\nuniform vec4 cc_displacementWeights[15];\nuniform vec4 cc_displacementTextureInfo;\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 uv = getPixelCoordFromLocation(location, cc_displacementTextureInfo.xy);\nreturn texture2D(tex, uv);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture2D(tex, x)),\ndecode32(texture2D(tex, y)),\ndecode32(texture2D(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nuniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nuniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nuniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nattribute vec4 a_joints;\nattribute vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nattribute highp vec4 a_jointAnimInfo;\n#endif\nuniform highp vec4 cc_jointTextureInfo;\nuniform highp vec4 cc_jointAnimInfo;\nuniform highp sampler2D cc_jointTexture;\n#else\nuniform highp vec4 cc_joints[90];\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nuniform highp mat4 cc_matView;\nuniform highp mat4 cc_matProj;\nuniform highp vec4 cc_cameraPos;\nuniform mediump vec4 cc_fogBase;\nuniform mediump vec4 cc_fogAdd;\n#if USE_INSTANCING\nattribute vec4 a_matWorld0;\nattribute vec4 a_matWorld1;\nattribute vec4 a_matWorld2;\n#if USE_LIGHTMAP\nattribute vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nattribute float a_dyn_batch_id;\nuniform highp mat4 cc_matWorlds[10];\n#else\nuniform highp mat4 cc_matWorld;\n#endif\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nvarying float v_fog_factor;\n#if USE_VERTEX_COLOR\nattribute lowp vec4 a_color;\nvarying lowp vec4 v_color;\n#endif\n#if USE_TEXTURE\nvarying vec2 v_uv;\nuniform vec4 tilingOffset;\n#endif\nvec4 vert () {\nvec4 position;\nposition = vec4(a_position, 1.0);\n#if CC_USE_MORPH\napplyMorph(position);\n#endif\n#if CC_USE_SKINNING\nCCSkin(position);\n#endif\nmat4 matWorld;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\n#else\nmatWorld = cc_matWorld;\n#endif\n#if USE_TEXTURE\nv_uv = a_texCoord * tilingOffset.xy + tilingOffset.zw;\n#if SAMPLE_FROM_RT\nv_uv = cc_cameraPos.w > 1.0 ? vec2(v_uv.x, 1.0 - v_uv.y) : v_uv;\n#endif\n#endif\n#if USE_VERTEX_COLOR\nv_color = a_color;\n#endif\n#if CC_USE_FOG == 0\nv_fog_factor = LinearFog(matWorld * position);\n#elif CC_USE_FOG == 1\nv_fog_factor = ExpFog(matWorld * position);\n#elif CC_USE_FOG == 2\nv_fog_factor = ExpSquaredFog(matWorld * position);\n#elif CC_USE_FOG == 3\nv_fog_factor = LayeredFog(matWorld * position);\n#else\nv_fog_factor = 1.0;\n#endif\nreturn cc_matProj * (cc_matView * matWorld) * position;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nuniform mediump vec4 cc_exposure;\nuniform mediump vec4 cc_fogColor;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nvarying float v_fog_factor;\n#if USE_ALPHA_TEST\n#endif\n#if USE_TEXTURE\nvarying vec2 v_uv;\nuniform sampler2D mainTexture;\n#endif\nuniform vec4 mainColor;\nuniform vec4 colorScaleAndCutoff;\n#if USE_VERTEX_COLOR\nvarying lowp vec4 v_color;\n#endif\nvec4 frag () {\nvec4 o = mainColor;\no.rgb *= colorScaleAndCutoff.xyz;\n#if USE_VERTEX_COLOR\no *= v_color;\n#endif\n#if USE_TEXTURE\no *= texture2D(mainTexture, v_uv);\n#endif\n#if USE_ALPHA_TEST\nif (o.ALPHA_TEST_CHANNEL < colorScaleAndCutoff.w) discard;\n#endif\no = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, o.rgb, v_fog_factor), o.a);\nreturn CCFragOutput(o);\n}\nvoid main() { gl_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_texCoord;\nattribute vec4 a_tangent;\nuniform highp vec4 cc_cameraPos;\nvarying vec2 v_uv;\nvoid main () {\nvec4 position;\nposition = vec4(a_position, 1.0);\nposition.xy = cc_cameraPos.w == 0.0 ? vec2(position.xy.x, -position.xy.y) : position.xy;\ngl_Position = vec4(position.x, position.y, 1.0, 1.0);\nv_uv = a_texCoord;\n}",frag:"\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod: enable\n#endif\nprecision highp float;\nuniform highp vec4 cc_cameraPos;\nuniform mediump vec4 cc_exposure;\nuniform mediump vec4 cc_mainLitDir;\nuniform mediump vec4 cc_mainLitColor;\nuniform mediump vec4 cc_ambientSky;\nuniform mediump vec4 cc_ambientGround;\nuniform mediump vec4 cc_fogColor;\nuniform mediump vec4 cc_fogBase;\nuniform mediump vec4 cc_fogAdd;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nuniform highp mat4 cc_matLightView;\nuniform highp mat4 cc_matLightViewProj;\nuniform lowp vec4 cc_shadowNFLSInfo;\nuniform lowp vec4 cc_shadowWHPBInfo;\nuniform lowp vec4 cc_shadowLPNNInfo;\nuniform lowp vec4 cc_shadowColor;\n#if CC_RECEIVE_SHADOW\nuniform sampler2D cc_shadowMap;\nuniform sampler2D cc_spotLightingMap;\nfloat CCGetLinearDepth (vec3 worldPos) {\nvec4 viewStartPos = cc_matLightView * vec4(worldPos.xyz, 1.0);\nfloat dist = length(viewStartPos.xyz);\nreturn cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\n}\nfloat CCGetShadowFactorX1 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture2D(cc_shadowMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture2D(cc_shadowMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, clipPos.z- cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetShadowFactorX5 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetShadowFactorX9 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetShadowFactorX25 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture2D(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\nfloat CCGetDirLightShadowFactorX1 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nfloat depth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture2D(cc_spotLightingMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture2D(cc_spotLightingMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, depth - cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetDirLightShadowFactorX5 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture2D(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetDirLightShadowFactorX9 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetDirLightShadowFactorX25 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat depth = 0.0;\nfloat shadow = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture2D(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\n#endif\n#if CC_USE_IBL\nuniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec4 fragTextureLod (sampler2D tex, vec2 coord, float lod) {\n#ifdef GL_EXT_shader_texture_lod\nreturn texture2DLodEXT(tex, coord, lod);\n#else\nreturn texture2D(tex, coord, lod);\n#endif\n}\nvec4 fragTextureLod (samplerCube tex, vec3 coord, float lod) {\n#ifdef GL_EXT_shader_texture_lod\nreturn textureCubeLodEXT(tex, coord, lod);\n#else\nreturn textureCube(tex, coord, lod);\n#endif\n}\n#endif\nfloat GGXMobile (float roughness, float NoH, vec3 H, vec3 N) {\nvec3 NxH = cross(N, H);\nfloat OneMinusNoHSqr = dot(NxH, NxH);\nfloat a = roughness * roughness;\nfloat n = NoH * a;\nfloat p = a / (OneMinusNoHSqr + n * n);\nreturn p * p;\n}\nfloat CalcSpecular (float roughness, float NoH, vec3 H, vec3 N) {\nreturn (roughness * 0.25 + 0.25) * GGXMobile(roughness, NoH, H, N);\n}\nvec3 BRDFApprox (vec3 specular, float roughness, float NoV) {\nconst vec4 c0 = vec4(-1.0, -0.0275, -0.572, 0.022);\nconst vec4 c1 = vec4(1.0, 0.0425, 1.04, -0.04);\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NoV)) * r.x + r.y;\nvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\nAB.y *= clamp(50.0 * specular.g, 0.0, 1.0);\nreturn specular * AB.x + AB.y;\n}\nstruct StandardSurface {\nvec4 albedo;\nvec3 position;\nvec3 normal;\nvec3 emissive;\nvec3 lightmap;\nfloat lightmap_test;\nfloat roughness;\nfloat metallic;\nfloat occlusion;\n};\nvec4 CCStandardShadingBase (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 L = normalize(-cc_mainLitDir.xyz);\nvec3 H = normalize(L + V);\nfloat NH = max(dot(N, H), 0.0);\nfloat NL = max(dot(N, L), 0.001);\nvec3 finalColor = NL * cc_mainLitColor.rgb * cc_mainLitColor.w;\nvec3 diffuseContrib = diffuse;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nif (s.lightmap_test > 0.0001) {\nfinalColor = s.lightmap.rgb;\n}\n#else\ndiffuseContrib /= 3.14159265359;\n#endif\nvec3 specularContrib = specular * CalcSpecular(s.roughness, NH, H, N);\nfinalColor *= (diffuseContrib + specularContrib);\nfloat fAmb = 0.5 - N.y * 0.5;\nvec3 ambDiff = mix(cc_ambientSky.rgb, cc_ambientGround.rgb, fAmb) * cc_ambientSky.w;\nfinalColor += (ambDiff.rgb * diffuse);\n#if CC_USE_IBL\nvec3 R = normalize(reflect(-V, N));\nvec4 envmap = fragTextureLod(cc_environment, R, s.roughness * cc_ambientGround.w);\n#if CC_USE_IBL == 2\nvec3 env = unpackRGBE(envmap);\n#else\nvec3 env = SRGBToLinear(envmap.rgb);\n#endif\nfinalColor += env * cc_ambientSky.w * specular;\n#endif\nfinalColor = finalColor * s.occlusion;\n#if CC_USE_HDR\ns.emissive *= cc_exposure.w;\n#endif\nfinalColor += s.emissive;\n#if CC_RECEIVE_SHADOW\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, L.xyz), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetShadowFactorX25(pos);\nelse if (pcf > 2.0) shadowAttenuation = CCGetShadowFactorX9(pos);\nelse if (pcf > 1.0) shadowAttenuation = CCGetShadowFactorX5(pos);\nelse shadowAttenuation = CCGetShadowFactorX1(pos);\nvec3 shadowColor = cc_shadowColor.rgb * cc_shadowColor.a + finalColor.rgb * (1.0 - cc_shadowColor.a);\nif (cc_shadowNFLSInfo.w > 0.000001) {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation + finalColor.rgb * (1.0 - shadowAttenuation);\n} else {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation * NL + finalColor.rgb * (1.0 - shadowAttenuation * NL);\n}\n}\n#endif\nreturn vec4(finalColor, s.albedo.a);\n}\n#if CC_PIPELINE_TYPE == 0\n# define LIGHTS_PER_PASS 1\n#else\n# define LIGHTS_PER_PASS 10\n#endif\nuniform highp vec4 cc_lightPos[LIGHTS_PER_PASS];\nuniform vec4 cc_lightColor[LIGHTS_PER_PASS];\nuniform vec4 cc_lightSizeRangeAngle[LIGHTS_PER_PASS];\nuniform vec4 cc_lightDir[LIGHTS_PER_PASS];\nfloat SmoothDistAtt (float distSqr, float invSqrAttRadius) {\nfloat factor = distSqr * invSqrAttRadius;\nfloat smoothFactor = clamp(1.0 - factor * factor, 0.0, 1.0);\nreturn smoothFactor * smoothFactor;\n}\nfloat GetDistAtt (float distSqr, float invSqrAttRadius) {\nfloat attenuation = 1.0 / max(distSqr, 0.01*0.01);\nattenuation *= SmoothDistAtt(distSqr , invSqrAttRadius);\nreturn attenuation;\n}\nfloat GetAngleAtt (vec3 L, vec3 litDir, float litAngleScale, float litAngleOffset) {\nfloat cd = dot(litDir, L);\nfloat attenuation = clamp(cd * litAngleScale + litAngleOffset, 0.0, 1.0);\nreturn (attenuation * attenuation);\n}\nvec4 CCStandardShadingAdditive (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 diffuseContrib = diffuse / 3.14159265359;\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 finalColor = vec3(0.0);\nint numLights = CC_PIPELINE_TYPE == 0 ? LIGHTS_PER_PASS : int(cc_lightDir[0].w);\nfor (int i = 0; i < LIGHTS_PER_PASS; i++) {\nif (i >= numLights) break;\nvec3 SLU = cc_lightPos[i].xyz - s.position;\nvec3 SL = normalize(SLU);\nvec3 SH = normalize(SL + V);\nfloat SNL = max(dot(N, SL), 0.001);\nfloat SNH = max(dot(N, SH), 0.0);\nfloat distSqr = dot(SLU, SLU);\nfloat litRadius = cc_lightSizeRangeAngle[i].x;\nfloat litRadiusSqr = litRadius * litRadius;\nfloat illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\nfloat attRadiusSqrInv = 1.0 / max(cc_lightSizeRangeAngle[i].y, 0.01);\nattRadiusSqrInv *= attRadiusSqrInv;\nfloat att = GetDistAtt(distSqr, attRadiusSqrInv);\nvec3 lspec = specular * CalcSpecular(s.roughness, SNH, SH, N);\nif (cc_lightPos[i].w > 0.0) {\nfloat cosInner = max(dot(-cc_lightDir[i].xyz, SL), 0.01);\nfloat cosOuter = cc_lightSizeRangeAngle[i].z;\nfloat litAngleScale = 1.0 / max(0.001, cosInner - cosOuter);\nfloat litAngleOffset = -cosOuter * litAngleScale;\natt *= GetAngleAtt(SL, -cc_lightDir[i].xyz, litAngleScale, litAngleOffset);\n}\nvec3 lightColor = cc_lightColor[i].rgb;\n#if CC_RECEIVE_SHADOW\nif (cc_lightPos[i].w > 0.0) {\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, normalize(cc_lightPos[i].xyz - s.position.xyz)), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetDirLightShadowFactorX25(pos, s.position);\nelse if (pcf > 2.0) shadowAttenuation = CCGetDirLightShadowFactorX9(pos, s.position);\nelse if (pcf > 1.0) shadowAttenuation = CCGetDirLightShadowFactorX5(pos, s.position);\nelse shadowAttenuation = CCGetDirLightShadowFactorX1(pos, s.position);\nlightColor *= 1.0 - shadowAttenuation;\n}\n}\n#endif\nfinalColor += SNL * lightColor * cc_lightColor[i].w * illum * att * (diffuseContrib + lspec);\n}\nfinalColor = finalColor * s.occlusion;\nreturn vec4(finalColor, 0.0);\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nvarying vec2 v_uv;\nuniform sampler2D cc_gbuffer_albedoMap;\nuniform sampler2D cc_gbuffer_positionMap;\nuniform sampler2D cc_gbuffer_normalMap;\nuniform sampler2D cc_gbuffer_emissiveMap;\nvoid main () {\nStandardSurface s;\nvec4 albedoMap = texture2D(cc_gbuffer_albedoMap,v_uv);\nvec4 positionMap = texture2D(cc_gbuffer_positionMap,v_uv);\nvec4 normalMap = texture2D(cc_gbuffer_normalMap,v_uv);\nvec4 emissiveMap = texture2D(cc_gbuffer_emissiveMap,v_uv);\ns.albedo = albedoMap;\ns.position = positionMap.xyz;\ns.roughness = positionMap.w;\ns.normal = normalMap.xyz;\ns.metallic = normalMap.w;\ns.emissive = emissiveMap.xyz;\ns.occlusion = emissiveMap.w;\nfloat fogFactor;\n#if CC_USE_FOG == 0\nfogFactor = LinearFog(vec4(s.position, 1));\n#elif CC_USE_FOG == 1\nfogFactor = ExpFog(vec4(s.position, 1));\n#elif CC_USE_FOG == 2\nfogFactor = ExpSquaredFog(vec4(s.position, 1));\n#elif CC_USE_FOG == 3\nfogFactor = LayeredFog(vec4(s.position, 1));\n#else\nfogFactor = 1.0;\n#endif\nvec4 shadowPos;\nshadowPos = cc_matLightViewProj * vec4(s.position, 1);\nvec4 color = CCStandardShadingBase(s, shadowPos) +\nCCStandardShadingAdditive(s, shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, fogFactor), color.a);\ngl_FragColor = CCFragOutput(color);\n}"}],[{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_texCoord;\nattribute vec4 a_tangent;\n#if CC_USE_MORPH\nattribute float a_vertexId;\nint getVertexId() {\nreturn int(a_vertexId);\n}\nuniform vec4 cc_displacementWeights[15];\nuniform vec4 cc_displacementTextureInfo;\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 uv = getPixelCoordFromLocation(location, cc_displacementTextureInfo.xy);\nreturn texture2D(tex, uv);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture2D(tex, x)),\ndecode32(texture2D(tex, y)),\ndecode32(texture2D(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nuniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nuniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nuniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nattribute vec4 a_joints;\nattribute vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nattribute highp vec4 a_jointAnimInfo;\n#endif\nuniform highp vec4 cc_jointTextureInfo;\nuniform highp vec4 cc_jointAnimInfo;\nuniform highp sampler2D cc_jointTexture;\n#else\nuniform highp vec4 cc_joints[90];\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nuniform highp mat4 cc_matView;\nuniform highp mat4 cc_matProj;\n#if USE_INSTANCING\nattribute vec4 a_matWorld0;\nattribute vec4 a_matWorld1;\nattribute vec4 a_matWorld2;\n#if USE_LIGHTMAP\nattribute vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nattribute float a_dyn_batch_id;\nuniform highp mat4 cc_matWorlds[10];\n#else\nuniform highp mat4 cc_matWorld;\n#endif\nuniform highp mat4 cc_matLightPlaneProj;\nvec4 vert () {\nvec4 position;\nposition = vec4(a_position, 1.0);\n#if CC_USE_MORPH\napplyMorph(position);\n#endif\n#if CC_USE_SKINNING\nCCSkin(position);\n#endif\nmat4 matWorld;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\n#else\nmatWorld = cc_matWorld;\n#endif\nposition = cc_matProj * (cc_matView * cc_matLightPlaneProj * matWorld) * position;\nposition.z -= 0.0001;\nreturn position;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nuniform lowp vec4 cc_shadowColor;\nuniform mediump vec4 cc_exposure;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nvec4 frag () {\nreturn CCFragOutput(cc_shadowColor);\n}\nvoid main() { gl_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_texCoord;\nattribute vec4 a_tangent;\n#if CC_USE_MORPH\nattribute float a_vertexId;\nint getVertexId() {\nreturn int(a_vertexId);\n}\nuniform vec4 cc_displacementWeights[15];\nuniform vec4 cc_displacementTextureInfo;\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 uv = getPixelCoordFromLocation(location, cc_displacementTextureInfo.xy);\nreturn texture2D(tex, uv);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture2D(tex, x)),\ndecode32(texture2D(tex, y)),\ndecode32(texture2D(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nuniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nuniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nuniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nattribute vec4 a_joints;\nattribute vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nattribute highp vec4 a_jointAnimInfo;\n#endif\nuniform highp vec4 cc_jointTextureInfo;\nuniform highp vec4 cc_jointAnimInfo;\nuniform highp sampler2D cc_jointTexture;\n#else\nuniform highp vec4 cc_joints[90];\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture2D(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture2D(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nuniform highp vec4 cc_cameraPos;\nvarying vec2 v_uv;\nvoid main () {\nStandardVertInput In;\nIn.position = vec4(a_position, 1.0);\nIn.normal = a_normal;\nIn.tangent = a_tangent;\n#if CC_USE_MORPH\napplyMorph(In);\n#endif\n#if CC_USE_SKINNING\nCCSkin(In);\n#endif\nIn.position.xy = cc_cameraPos.w == 0.0 ? vec2(In.position.xy.x, -In.position.xy.y) : In.position.xy;\ngl_Position = In.position;\ngl_Position.y = gl_Position.y;\nv_uv = a_texCoord;\n}",frag:"\nprecision highp float;\nuniform mediump vec4 cc_screenSize;\nvarying vec2 v_uv;\nuniform sampler2D cc_lighting_resultMap;\nvoid texcoords(vec2 fragCoord, vec2 resolution,\nout vec2 v_rgbNW, out vec2 v_rgbNE,\nout vec2 v_rgbSW, out vec2 v_rgbSE,\nout vec2 v_rgbM) {\nvec2 inverseVP = 1.0 / resolution.xy;\nv_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\nv_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\nv_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\nv_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\nv_rgbM = vec2(fragCoord * inverseVP);\n}\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\nvec2 v_rgbNW, vec2 v_rgbNE,\nvec2 v_rgbSW, vec2 v_rgbSE,\nvec2 v_rgbM) {\nvec4 color;\nmediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\nvec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\nvec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\nvec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\nvec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\nvec4 texColor = texture2D(tex, v_rgbM);\nvec3 rgbM  = texColor.xyz;\nvec3 luma = vec3(0.299, 0.587, 0.114);\nfloat lumaNW = dot(rgbNW, luma);\nfloat lumaNE = dot(rgbNE, luma);\nfloat lumaSW = dot(rgbSW, luma);\nfloat lumaSE = dot(rgbSE, luma);\nfloat lumaM  = dot(rgbM,  luma);\nfloat lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\nfloat lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\nmediump vec2 dir;\ndir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\ndir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\nfloat dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n(0.25 * (1.0 / 8.0)), (1.0/ 128.0));\nfloat rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\ndir = min(vec2(8.0, 8.0),\nmax(vec2(-8.0, -8.0),\ndir * rcpDirMin)) * inverseVP;\nvec3 rgbA = 0.5 * (\ntexture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\ntexture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\nvec3 rgbB = rgbA * 0.5 + 0.25 * (\ntexture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\ntexture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\nfloat lumaB = dot(rgbB, luma);\nif ((lumaB < lumaMin) || (lumaB > lumaMax))\ncolor = vec4(rgbA, texColor.a);\nelse\ncolor = vec4(rgbB, texColor.a);\nreturn color;\n}\nvoid main () {\nmediump vec2 v_rgbNW;\nmediump vec2 v_rgbNE;\nmediump vec2 v_rgbSW;\nmediump vec2 v_rgbSE;\nmediump vec2 v_rgbM;\nvec2 resolution = cc_screenSize.xy;\nvec2 fragCoord = v_uv * resolution;\ntexcoords(fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\ngl_FragColor = fxaa(cc_lighting_resultMap, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}"}],[{vert:"\nprecision highp float;\nuniform highp mat4 cc_matView;\nuniform highp mat4 cc_matProj;\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_texCoord;\nattribute vec4 a_tangent;\nvarying mediump vec4 viewDir;\nvec4 vert () {\nviewDir = vec4(a_position, 1.0);\nmat4 matViewRotOnly = mat4(mat3(cc_matView));\nmat4 matProj = cc_matProj;\nif (matProj[3].w > 0.0) {\nvec2 scale = vec2(48.0, 24.0);\nmatProj[0].xy *= scale;\nmatProj[1].xy *= scale;\nmatProj[2].zw = vec2(-1.0);\nmatProj[3].zw = vec2(0.0);\n}\nvec4 pos = matProj * matViewRotOnly * viewDir;\npos.z = 0.99999 * pos.w;\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nuniform mediump vec4 cc_ambientSky;\nuniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nvarying mediump vec4 viewDir;\nvec4 frag () {\n#if USE_RGBE_CUBEMAP\nvec3 c = unpackRGBE(textureCube(cc_environment, viewDir.xyz));\n#else\nvec3 c = SRGBToLinear(textureCube(cc_environment, viewDir.xyz).rgb);\n#endif\nreturn CCFragOutput(vec4(c * cc_ambientSky.w, 1.0));\n}\nvoid main() { gl_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nuniform highp mat4 cc_matViewProj;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec2 v_uv;\nuniform vec4 offset;\nuniform vec4 digits[20];\nfloat getComponent(vec4 v, float i) {\nif (i < 1.0) { return v.x; }\nelse if (i < 2.0) { return v.y; }\nelse if (i < 3.0) { return v.z; }\nelse { return v.w; }\n}\nvec4 vert () {\nvec4 position = cc_matViewProj * vec4(a_position, 1.0);\nposition.xy += offset.xy;\nv_uv = a_color.xy;\nif (a_color.z >= 0.0) {\nfloat n = getComponent(digits[int(a_color.z)], a_color.w);\nv_uv += vec2(offset.z * n, 0.0);\n}\nreturn position;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nuniform mediump vec4 cc_exposure;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nvarying vec2 v_uv;\nuniform sampler2D mainTexture;\nvec4 frag () {\nreturn CCFragOutput(texture2D(mainTexture, v_uv));\n}\nvoid main() { gl_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_uv;\nvarying float v_percent;\nuniform vec4 u_buffer0;\nuniform vec4 u_buffer1;\nuniform mat4 u_projection;\nvec4 vert () {\nvec2 worldPos = a_position * u_buffer1.xy + u_buffer1.zw;\nvec2 clipSpace = worldPos / u_buffer0.xy * 2.0 - 1.0;\nvec4 screenPos = u_projection * vec4(clipSpace, 0.0, 1.0);\nv_uv = a_texCoord;\nv_percent = u_buffer0.z;\nreturn screenPos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nvarying vec2 v_uv;\nvarying float v_percent;\nuniform sampler2D mainTexture;\nvec4 frag () {\nvec4 color = texture2D(mainTexture, v_uv);\nfloat precent = clamp(v_percent, 0.0, 1.0);\ncolor.xyz *= precent;\nreturn color;\n}\nvoid main() { gl_FragColor = frag(); }"}]],glsl3:[[{vert:"\nprecision mediump float;\nlayout(std140) uniform Constants {\nvec4 mainTiling_Offset;\nvec4 frameTile_velLenScale;\nvec4 scale;\n};\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nvec4 quaternionFromAxis (vec3 xAxis,vec3 yAxis,vec3 zAxis){\nmat3 m = mat3(xAxis,yAxis,zAxis);\nfloat trace = m[0][0] + m[1][1] + m[2][2];\nvec4 quat;\nif (trace > 0.) {\nfloat s = 0.5 / sqrt(trace + 1.0);\nquat.w = 0.25 / s;\nquat.x = (m[2][1] - m[1][2]) * s;\nquat.y = (m[0][2] - m[2][0]) * s;\nquat.z = (m[1][0] - m[0][1]) * s;\n} else if ((m[0][0] > m[1][1]) && (m[0][0] > m[2][2])) {\nfloat s = 2.0 * sqrt(1.0 + m[0][0] - m[1][1] - m[2][2]);\nquat.w = (m[2][1] - m[1][2]) / s;\nquat.x = 0.25 * s;\nquat.y = (m[0][1] + m[1][0]) / s;\nquat.z = (m[0][2] + m[2][0]) / s;\n} else if (m[1][1] > m[2][2]) {\nfloat s = 2.0 * sqrt(1.0 + m[1][1] - m[0][0] - m[2][2]);\nquat.w = (m[0][2] - m[2][0]) / s;\nquat.x = (m[0][1] + m[1][0]) / s;\nquat.y = 0.25 * s;\nquat.z = (m[1][2] + m[2][1]) / s;\n} else {\nfloat s = 2.0 * sqrt(1.0 + m[2][2] - m[0][0] - m[1][1]);\nquat.w = (m[1][0] - m[0][1]) / s;\nquat.x = (m[0][2] + m[2][0]) / s;\nquat.y = (m[1][2] + m[2][1]) / s;\nquat.z = 0.25 * s;\n}\nfloat len = quat.x * quat.x + quat.y * quat.y + quat.z * quat.z + quat.w * quat.w;\nif (len > 0.) {\nlen = 1. / sqrt(len);\nquat.x = quat.x * len;\nquat.y = quat.y * len;\nquat.z = quat.z * len;\nquat.w = quat.w * len;\n}\nreturn quat;\n}\nvec4 quaternionFromEuler (vec3 angle){\nfloat x = angle.x / 2.;\nfloat y = angle.y / 2.;\nfloat z = angle.z / 2.;\nfloat sx = sin(x);\nfloat cx = cos(x);\nfloat sy = sin(y);\nfloat cy = cos(y);\nfloat sz = sin(z);\nfloat cz = cos(z);\nvec4 quat = vec4(0);\nquat.x = sx * cy * cz + cx * sy * sz;\nquat.y = cx * sy * cz + sx * cy * sz;\nquat.z = cx * cy * sz - sx * sy * cz;\nquat.w = cx * cy * cz - sx * sy * sz;\nreturn quat;\n}\nvec4 quatMultiply (vec4 a, vec4 b){\nvec4 quat;\nquat.x = a.x * b.w + a.w * b.x + a.y * b.z - a.z * b.y;\nquat.y = a.y * b.w + a.w * b.y + a.z * b.x - a.x * b.z;\nquat.z = a.z * b.w + a.w * b.z + a.x * b.y - a.y * b.x;\nquat.w = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;\nreturn quat;\n}\nvoid rotateVecFromQuat (inout vec3 v, vec4 q){\nfloat ix = q.w * v.x + q.y * v.z - q.z * v.y;\nfloat iy = q.w * v.y + q.z * v.x - q.x * v.z;\nfloat iz = q.w * v.z + q.x * v.y - q.y * v.x;\nfloat iw = -q.x * v.x - q.y * v.y - q.z * v.z;\nv.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\nv.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\nv.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n}\nvec3 rotateInLocalSpace (vec3 pos, vec3 xAxis, vec3 yAxis, vec3 zAxis, vec4 q){\nvec4 viewQuat = quaternionFromAxis(xAxis, yAxis, zAxis);\nvec4 rotQuat = quatMultiply(viewQuat, q);\nrotateVecFromQuat(pos, rotQuat);\nreturn pos;\n}\nvoid rotateCorner (inout vec2 corner, float angle){\nfloat xOS = cos(angle) * corner.x - sin(angle) * corner.y;\nfloat yOS = sin(angle) * corner.x + cos(angle) * corner.y;\ncorner.x = xOS;\ncorner.y = yOS;\n}\nout mediump vec2 uv;\nout mediump vec4 color;\nvoid computeVertPos (inout vec4 pos, vec2 vertOffset, vec4 q, vec3 s\n, mat4 viewInv\n) {\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = normalize(vec3(viewInv[0][0], viewInv[1][0], viewInv[2][0]));\nvec3 camY = normalize(vec3(viewInv[0][1], viewInv[1][1], viewInv[2][1]));\nvec3 camZ = normalize(vec3(viewInv[0][2], viewInv[1][2], viewInv[2][2]));\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, camZ, q);\n}\nin vec3 a_position;\nin vec2 a_texCoord;\nin vec4 a_color;\nlayout(std140) uniform builtin {\nvec4 cc_size_rotation;\n};\nvec4 vs_main() {\nvec4 pos = vec4(a_position, 1);\npos = cc_matWorld * pos;\nvec2 vertOffset = a_texCoord.xy - 0.5;\ncomputeVertPos(pos, vertOffset, quaternionFromEuler(vec3(0., 0., cc_size_rotation.z)), vec3(cc_size_rotation.xy, 0.), cc_matViewInv);\npos = cc_matViewProj * pos;\nuv = a_texCoord.xy;\ncolor = a_color;\nreturn pos;\n}\nvoid main() { gl_Position = vs_main(); }",frag:"\nprecision mediump float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nin vec2 uv;\nin vec4 color;\nuniform sampler2D mainTexture;\nlayout(std140) uniform FragConstants {\nvec4 tintColor;\n};\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture(mainTexture, uv);\nreturn CCFragOutput(col);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = add(); }"}],[{vert:"\nprecision highp float;\nin vec3 a_position;\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nvec4 frag () {\nvec4 o = vec4(1.0);\nreturn o;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\nin float a_dist;\nout float v_dist;\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\npos = cc_matViewProj * cc_matWorld * pos;\nv_color = a_color;\nv_dist = a_dist;\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nin vec4 v_color;\nin float v_dist;\nvec4 frag () {\nvec4 o = v_color;\nfloat aa = fwidth(v_dist);\nfloat alpha = 1. - smoothstep(-aa, 0., abs(v_dist) - 1.0);\no.rgb *= o.a;\no *= alpha;\nreturn o;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nvec4 quaternionFromAxis (vec3 xAxis,vec3 yAxis,vec3 zAxis){\nmat3 m = mat3(xAxis,yAxis,zAxis);\nfloat trace = m[0][0] + m[1][1] + m[2][2];\nvec4 quat;\nif (trace > 0.) {\nfloat s = 0.5 / sqrt(trace + 1.0);\nquat.w = 0.25 / s;\nquat.x = (m[2][1] - m[1][2]) * s;\nquat.y = (m[0][2] - m[2][0]) * s;\nquat.z = (m[1][0] - m[0][1]) * s;\n} else if ((m[0][0] > m[1][1]) && (m[0][0] > m[2][2])) {\nfloat s = 2.0 * sqrt(1.0 + m[0][0] - m[1][1] - m[2][2]);\nquat.w = (m[2][1] - m[1][2]) / s;\nquat.x = 0.25 * s;\nquat.y = (m[0][1] + m[1][0]) / s;\nquat.z = (m[0][2] + m[2][0]) / s;\n} else if (m[1][1] > m[2][2]) {\nfloat s = 2.0 * sqrt(1.0 + m[1][1] - m[0][0] - m[2][2]);\nquat.w = (m[0][2] - m[2][0]) / s;\nquat.x = (m[0][1] + m[1][0]) / s;\nquat.y = 0.25 * s;\nquat.z = (m[1][2] + m[2][1]) / s;\n} else {\nfloat s = 2.0 * sqrt(1.0 + m[2][2] - m[0][0] - m[1][1]);\nquat.w = (m[1][0] - m[0][1]) / s;\nquat.x = (m[0][2] + m[2][0]) / s;\nquat.y = (m[1][2] + m[2][1]) / s;\nquat.z = 0.25 * s;\n}\nfloat len = quat.x * quat.x + quat.y * quat.y + quat.z * quat.z + quat.w * quat.w;\nif (len > 0.) {\nlen = 1. / sqrt(len);\nquat.x = quat.x * len;\nquat.y = quat.y * len;\nquat.z = quat.z * len;\nquat.w = quat.w * len;\n}\nreturn quat;\n}\nvec4 quaternionFromEuler (vec3 angle){\nfloat x = angle.x / 2.;\nfloat y = angle.y / 2.;\nfloat z = angle.z / 2.;\nfloat sx = sin(x);\nfloat cx = cos(x);\nfloat sy = sin(y);\nfloat cy = cos(y);\nfloat sz = sin(z);\nfloat cz = cos(z);\nvec4 quat = vec4(0);\nquat.x = sx * cy * cz + cx * sy * sz;\nquat.y = cx * sy * cz + sx * cy * sz;\nquat.z = cx * cy * sz - sx * sy * cz;\nquat.w = cx * cy * cz - sx * sy * sz;\nreturn quat;\n}\nmat4 matrixFromRT (vec4 q, vec3 p){\nfloat x2 = q.x + q.x;\nfloat y2 = q.y + q.y;\nfloat z2 = q.z + q.z;\nfloat xx = q.x * x2;\nfloat xy = q.x * y2;\nfloat xz = q.x * z2;\nfloat yy = q.y * y2;\nfloat yz = q.y * z2;\nfloat zz = q.z * z2;\nfloat wx = q.w * x2;\nfloat wy = q.w * y2;\nfloat wz = q.w * z2;\nreturn mat4(\n1. - (yy + zz), xy + wz, xz - wy, 0,\nxy - wz, 1. - (xx + zz), yz + wx, 0,\nxz + wy, yz - wx, 1. - (xx + yy), 0,\np.x, p.y, p.z, 1\n);\n}\nmat4 matFromRTS (vec4 q, vec3 t, vec3 s){\nfloat x = q.x, y = q.y, z = q.z, w = q.w;\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat xy = x * y2;\nfloat xz = x * z2;\nfloat yy = y * y2;\nfloat yz = y * z2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\nfloat sx = s.x;\nfloat sy = s.y;\nfloat sz = s.z;\nreturn mat4((1. - (yy + zz)) * sx, (xy + wz) * sx, (xz - wy) * sx, 0,\n(xy - wz) * sy, (1. - (xx + zz)) * sy, (yz + wx) * sy, 0,\n(xz + wy) * sz, (yz - wx) * sz, (1. - (xx + yy)) * sz, 0,\nt.x, t.y, t.z, 1);\n}\nvec4 quatMultiply (vec4 a, vec4 b){\nvec4 quat;\nquat.x = a.x * b.w + a.w * b.x + a.y * b.z - a.z * b.y;\nquat.y = a.y * b.w + a.w * b.y + a.z * b.x - a.x * b.z;\nquat.z = a.z * b.w + a.w * b.z + a.x * b.y - a.y * b.x;\nquat.w = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;\nreturn quat;\n}\nvoid rotateVecFromQuat (inout vec3 v, vec4 q){\nfloat ix = q.w * v.x + q.y * v.z - q.z * v.y;\nfloat iy = q.w * v.y + q.z * v.x - q.x * v.z;\nfloat iz = q.w * v.z + q.x * v.y - q.y * v.x;\nfloat iw = -q.x * v.x - q.y * v.y - q.z * v.z;\nv.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\nv.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\nv.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n}\nvec3 rotateInLocalSpace (vec3 pos, vec3 xAxis, vec3 yAxis, vec3 zAxis, vec4 q){\nvec4 viewQuat = quaternionFromAxis(xAxis, yAxis, zAxis);\nvec4 rotQuat = quatMultiply(viewQuat, q);\nrotateVecFromQuat(pos, rotQuat);\nreturn pos;\n}\nvoid rotateCorner (inout vec2 corner, float angle){\nfloat xOS = cos(angle) * corner.x - sin(angle) * corner.y;\nfloat yOS = sin(angle) * corner.x + cos(angle) * corner.y;\ncorner.x = xOS;\ncorner.y = yOS;\n}\nlayout(std140) uniform Constants {\nvec4 mainTiling_Offset;\nvec4 frameTile_velLenScale;\nvec4 scale;\n};\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nout mediump vec2 uv;\nout mediump vec4 color;\nvoid computeVertPos (inout vec4 pos, vec2 vertOffset, vec4 q, vec3 s\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, mat4 viewInv\n#endif\n#if CC_RENDER_MODE == 1\n, vec3 eye\n, vec4 velocity\n, float velocityScale\n, float lengthScale\n, float xIndex\n#endif\n) {\n#if CC_RENDER_MODE == 0\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = normalize(vec3(viewInv[0][0], viewInv[1][0], viewInv[2][0]));\nvec3 camY = normalize(vec3(viewInv[0][1], viewInv[1][1], viewInv[2][1]));\nvec3 camZ = normalize(vec3(viewInv[0][2], viewInv[1][2], viewInv[2][2]));\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, camZ, q);\n#elif CC_RENDER_MODE == 1\nvec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz)) * s.x;\nvec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * s.y;\npos.xyz += (camRight * abs(vertOffset.x) * sign(vertOffset.y)) - camUp * xIndex;\n#elif CC_RENDER_MODE == 2\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = vec3(1, 0, 0);\nvec3 camY = vec3(0, 0, -1);\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, cross(camX, camY), q);\n#elif CC_RENDER_MODE == 3\nvec2 viewSpaceVert = vec2(vertOffset.x * s.x, vertOffset.y * s.y);\nrotateCorner(viewSpaceVert, q.z);\nvec3 camX = normalize(vec3(cc_matView[0][0], cc_matView[1][0], cc_matView[2][0]));\nvec3 camY = vec3(0, 1, 0);\nvec3 offset = camX * viewSpaceVert.x + camY * viewSpaceVert.y;\npos.xyz += offset;\n#else\npos.x += vertOffset.x;\npos.y += vertOffset.y;\n#endif\n}\nvec2 computeUV (float frameIndex, vec2 vertIndex, vec2 frameTile){\nvec2 aniUV = vec2(0, floor(frameIndex * frameTile.y));\naniUV.x = floor(frameIndex * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\n#if CC_RENDER_MODE != 4\nvertIndex.y = 1. - vertIndex.y;\n#endif\nreturn (aniUV.xy + vertIndex) / vec2(frameTile.x, frameTile.y);\n}\nlayout(std140) uniform SampleConstants {\nvec4 u_sampleInfo;\n};\nlayout(std140) uniform TickConstants {\nvec4 u_worldRot;\nvec4 u_timeDelta;\n};\nin vec4 a_position_starttime;\nin vec4 a_size_uv;\nin vec4 a_rotation_uv;\nin vec4 a_color;\nin vec4 a_dir_life;\nin float a_rndSeed;\n#if CC_RENDER_MODE == 4\nin vec3 a_texCoord;\nin vec3 a_texCoord3;\nin vec3 a_normal;\nin vec4 a_color1;\n#endif\nvec3 unpackCurveData (sampler2D tex, vec2 coord) {\nvec4 a = texture(tex, coord);\nvec4 b = texture(tex, coord + u_sampleInfo.y);\nfloat c = fract(coord.x * u_sampleInfo.x);\nreturn mix(a.xyz, b.xyz, c);\n}\nvec3 unpackCurveData (sampler2D tex, vec2 coord, out float w) {\nvec4 a = texture(tex, coord);\nvec4 b = texture(tex, coord + u_sampleInfo.y);\nfloat c = fract(coord.x * u_sampleInfo.x);\nw = mix(a.w, b.w, c);\nreturn mix(a.xyz, b.xyz, c);\n}\nfloat pseudoRandom (float seed) {\nseed = mod(seed, 233280.);\nfloat q = (seed * 9301. + 49297.) / 233280.;\nreturn fract(q);\n}\n#if COLOR_OVER_TIME_MODULE_ENABLE\nuniform sampler2D color_over_time_tex0;\nlayout(std140) uniform ColorConstant {\nint u_color_mode;\n};\n#endif\n#if ROTATION_OVER_TIME_MODULE_ENABLE\nuniform sampler2D rotation_over_time_tex0;\nlayout(std140) uniform RotationConstant {\nint u_rotation_mode;\n};\n#endif\n#if SIZE_OVER_TIME_MODULE_ENABLE\nuniform sampler2D size_over_time_tex0;\nlayout(std140) uniform SizeConstant {\nint u_size_mode;\n};\n#endif\n#if FORCE_OVER_TIME_MODULE_ENABLE\nuniform sampler2D force_over_time_tex0;\nlayout(std140) uniform ForceConstant {\nint u_force_mode;\nint u_force_space;\n};\n#endif\n#if VELOCITY_OVER_TIME_MODULE_ENABLE\nuniform sampler2D velocity_over_time_tex0;\nlayout(std140) uniform VelocityConstant {\nint u_velocity_mode;\nint u_velocity_space;\n};\n#endif\n#if TEXTURE_ANIMATION_MODULE_ENABLE\nuniform sampler2D texture_animation_tex0;\nlayout(std140) uniform AnimationConstant {\nvec4 u_anim_info;\n};\n#endif\nfloat repeat (float t, float length) {\nreturn t - floor(t / length) * length;\n}\nvec4 rotateQuat (vec4 p, vec4 q) {\nvec3 iv = cross(q.xyz, p.xyz) + q.w * p.xyz;\nvec3 res = p.xyz + 2.0 * cross(q.xyz, iv);\nreturn vec4(res.xyz, p.w);\n}\nvec4 gpvs_main () {\nfloat activeTime = u_timeDelta.x - a_position_starttime.w;\nfloat normalizedTime = clamp(activeTime / a_dir_life.w, 0.0, 1.0);\nvec2 timeCoord0 = vec2(normalizedTime, 0.);\nvec2 timeCoord1 = vec2(normalizedTime, 1.);\n#if CC_RENDER_MODE == 4\nvec2 vertIdx = vec2(a_texCoord.x, a_texCoord.y);\n#else\nvec2 vertIdx = vec2(a_size_uv.w, a_rotation_uv.w);\n#endif\nvec4 velocity = vec4(a_dir_life.xyz, 0.);\nvec4 pos = vec4(a_position_starttime.xyz, 1.);\nvec3 size = a_size_uv.xyz;\n#if SIZE_OVER_TIME_MODULE_ENABLE\nif (u_size_mode == 1) {\nsize *= unpackCurveData(size_over_time_tex0, timeCoord0);\n} else {\nvec3 size_0 = unpackCurveData(size_over_time_tex0, timeCoord0);\nvec3 size_1 = unpackCurveData(size_over_time_tex0, timeCoord1);\nfloat factor_s = pseudoRandom(a_rndSeed + 39825.);\nsize *= mix(size_0, size_1, factor_s);\n}\n#endif\nvec3 compScale = scale.xyz * size;\n#if FORCE_OVER_TIME_MODULE_ENABLE\nvec3 forceAnim = vec3(0.);\nif (u_force_mode == 1) {\nforceAnim = unpackCurveData(force_over_time_tex0, timeCoord0);\n} else {\nvec3 force_0 = unpackCurveData(force_over_time_tex0, timeCoord0);\nvec3 force_1 = unpackCurveData(force_over_time_tex0, timeCoord1);\nfloat factor_f =  pseudoRandom(a_rndSeed + 212165.);\nforceAnim = mix(force_0, force_1, factor_f);\n}\nvec4 forceTrack = vec4(forceAnim, 0.);\nif (u_force_space == 0) {\nforceTrack = rotateQuat(forceTrack, u_worldRot);\n}\nvelocity.xyz += forceTrack.xyz;\n#endif\n#if VELOCITY_OVER_TIME_MODULE_ENABLE\nfloat speedModifier0 = 1.;\nfloat speedModifier1 = 1.;\nvec3 velocityAnim = vec3(0.);\nif (u_velocity_mode == 1) {\nvelocityAnim = unpackCurveData(velocity_over_time_tex0, timeCoord0, speedModifier0);\n} else {\nvec3 vectory_0 = unpackCurveData(velocity_over_time_tex0, timeCoord0, speedModifier0);\nvec3 vectory_1 = unpackCurveData(velocity_over_time_tex0, timeCoord1, speedModifier1);\nfloat factor_v = pseudoRandom(a_rndSeed + 197866.);\nvelocityAnim = mix(vectory_0, vectory_1, factor_v);\nspeedModifier0 = mix(speedModifier0, speedModifier1, factor_v);\n}\nvec4 velocityTrack = vec4(velocityAnim, 0.);\nif (u_velocity_space == 0) {\nvelocityTrack = rotateQuat(velocityTrack, u_worldRot);\n}\nvelocity.xyz += velocityTrack.xyz;\nvelocity.xyz *= speedModifier0;\n#endif\npos.xyz += velocity.xyz * normalizedTime * a_dir_life.w;\n#if !CC_USE_WORLD_SPACE\npos = cc_matWorld * pos;\n#if CC_RENDER_MODE == 1\nvelocity = rotateQuat(velocity, u_worldRot);\n#endif\n#endif\nvec3 rotation = a_rotation_uv.xyz;\n#if ROTATION_OVER_TIME_MODULE_ENABLE\nif (u_rotation_mode == 1) {\nrotation += unpackCurveData(rotation_over_time_tex0, timeCoord0) * normalizedTime * a_dir_life.w;\n} else {\nvec3 rotation_0 = unpackCurveData(rotation_over_time_tex0, timeCoord0);\nvec3 rotation_1 = unpackCurveData(rotation_over_time_tex0, timeCoord1);\nfloat factor_r = pseudoRandom(a_rndSeed + 125292.);\nrotation += mix(rotation_0, rotation_1, factor_r) * normalizedTime * a_dir_life.w;\n}\n#endif\n#if COLOR_OVER_TIME_MODULE_ENABLE\nif (u_color_mode == 1) {\ncolor = a_color * texture(color_over_time_tex0, timeCoord0);\n} else {\nvec4 color_0 = texture(color_over_time_tex0, timeCoord0);\nvec4 color_1 = texture(color_over_time_tex0, timeCoord1);\nfloat factor_c = pseudoRandom(a_rndSeed + 91041.);\ncolor = a_color * mix(color_0, color_1, factor_c);\n}\n#else\ncolor = a_color;\n#endif\n#if CC_RENDER_MODE != 4\nvec2 cornerOffset = vec2((vertIdx - 0.5));\n#if CC_RENDER_MODE == 0\nvec3 rotEuler = rotation.xyz;\n#elif CC_RENDER_MODE == 1\nvec3 rotEuler = vec3(0.);\n#else\nvec3 rotEuler = vec3(0., 0., rotation.z);\n#endif\ncomputeVertPos(pos, cornerOffset, quaternionFromEuler(rotEuler), compScale\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, cc_matViewInv\n#endif\n#if CC_RENDER_MODE == 1\n, cc_cameraPos.xyz\n, velocity\n, frameTile_velLenScale.z\n, frameTile_velLenScale.w\n, a_size_uv.w\n#endif\n);\n#else\nmat4 xformNoScale = matrixFromRT(quaternionFromEuler(rotation), pos.xyz);\nmat4 xform = matFromRTS(quaternionFromEuler(rotation), pos.xyz, compScale);\npos = xform * vec4(a_texCoord3, 1);\nvec4 normal = xformNoScale * vec4(a_normal, 0);\ncolor *= a_color1;\n#endif\npos = cc_matViewProj * pos;\nfloat frameIndex = 0.;\n#if TEXTURE_ANIMATION_MODULE_ENABLE\nfloat startFrame = 0.;\nvec3 frameInfo = vec3(0.);\nif (int(u_anim_info.x) == 1) {\nframeInfo = unpackCurveData(texture_animation_tex0, timeCoord0);\n} else {\nvec3 frameInfo0 = unpackCurveData(texture_animation_tex0, timeCoord0);\nvec3 frameInfo1 = unpackCurveData(texture_animation_tex0, timeCoord1);\nfloat factor_t = pseudoRandom(a_rndSeed + 90794.);\nframeInfo = mix(frameInfo0, frameInfo1, factor_t);\n}\nstartFrame = frameInfo.x / u_anim_info.y;\nframeIndex = repeat(u_anim_info.z * (frameInfo.y + startFrame), 1.);\n#endif\nuv = computeUV(frameIndex, vertIdx, frameTile_velLenScale.xy) * mainTiling_Offset.xy + mainTiling_Offset.zw;\nreturn pos;\n}\nvoid main() { gl_Position = gpvs_main(); }",frag:"\nprecision mediump float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nin vec2 uv;\nin vec4 color;\nuniform sampler2D mainTexture;\nlayout(std140) uniform FragConstants {\nvec4 tintColor;\n};\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture(mainTexture, uv);\nreturn CCFragOutput(col);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = add(); }"}],[{vert:"\nprecision mediump float;\nlayout(std140) uniform Constants {\nvec4 mainTiling_Offset;\nvec4 frameTile_velLenScale;\nvec4 scale;\n};\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nout mediump vec2 uv;\nout mediump vec4 color;\nin vec3 a_position;\nin vec4 a_texCoord;\nin vec3 a_texCoord1;\nin vec3 a_texCoord2;\nin vec4 a_color;\n#if CC_DRAW_WIRE_FRAME\nout vec3 vBarycentric;\n#endif\nvec4 vs_main() {\nhighp vec4 pos = vec4(a_position, 1);\nvec4 velocity = vec4(a_texCoord1.xyz, 0);\n#if !CC_USE_WORLD_SPACE\npos = cc_matWorld * pos;\nvelocity = cc_matWorld * velocity;\n#endif\nfloat vertOffset = (a_texCoord.x - 0.5) * a_texCoord.y;\nvec3 camUp = normalize(cross(pos.xyz - cc_cameraPos.xyz, velocity.xyz));\npos.xyz += camUp * vertOffset;\npos = cc_matViewProj * pos;\nuv = a_texCoord.zw * mainTiling_Offset.xy + mainTiling_Offset.zw;;\ncolor = a_color;\n#if CC_DRAW_WIRE_FRAME\nvBarycentric = a_texCoord2;\n#endif\nreturn pos;\n}\nvoid main() { gl_Position = vs_main(); }",frag:"\nprecision mediump float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nin vec2 uv;\nin vec4 color;\n#if CC_DRAW_WIRE_FRAME\nin vec3 vBarycentric;\n#endif\nuniform sampler2D mainTexture;\nlayout(std140) uniform FragConstants {\nvec4 tintColor;\n};\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture(mainTexture, uv);\n#if CC_DRAW_WIRE_FRAME\nif (any(lessThan(vBarycentric, vec3(0.02)))) {\ncol = vec4(0., 1., 1., 1.);\n}\n#endif\nreturn CCFragOutput(col);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = add(); }"}],[{vert:"\nprecision highp float;\nvec4 quaternionFromAxis (vec3 xAxis,vec3 yAxis,vec3 zAxis){\nmat3 m = mat3(xAxis,yAxis,zAxis);\nfloat trace = m[0][0] + m[1][1] + m[2][2];\nvec4 quat;\nif (trace > 0.) {\nfloat s = 0.5 / sqrt(trace + 1.0);\nquat.w = 0.25 / s;\nquat.x = (m[2][1] - m[1][2]) * s;\nquat.y = (m[0][2] - m[2][0]) * s;\nquat.z = (m[1][0] - m[0][1]) * s;\n} else if ((m[0][0] > m[1][1]) && (m[0][0] > m[2][2])) {\nfloat s = 2.0 * sqrt(1.0 + m[0][0] - m[1][1] - m[2][2]);\nquat.w = (m[2][1] - m[1][2]) / s;\nquat.x = 0.25 * s;\nquat.y = (m[0][1] + m[1][0]) / s;\nquat.z = (m[0][2] + m[2][0]) / s;\n} else if (m[1][1] > m[2][2]) {\nfloat s = 2.0 * sqrt(1.0 + m[1][1] - m[0][0] - m[2][2]);\nquat.w = (m[0][2] - m[2][0]) / s;\nquat.x = (m[0][1] + m[1][0]) / s;\nquat.y = 0.25 * s;\nquat.z = (m[1][2] + m[2][1]) / s;\n} else {\nfloat s = 2.0 * sqrt(1.0 + m[2][2] - m[0][0] - m[1][1]);\nquat.w = (m[1][0] - m[0][1]) / s;\nquat.x = (m[0][2] + m[2][0]) / s;\nquat.y = (m[1][2] + m[2][1]) / s;\nquat.z = 0.25 * s;\n}\nfloat len = quat.x * quat.x + quat.y * quat.y + quat.z * quat.z + quat.w * quat.w;\nif (len > 0.) {\nlen = 1. / sqrt(len);\nquat.x = quat.x * len;\nquat.y = quat.y * len;\nquat.z = quat.z * len;\nquat.w = quat.w * len;\n}\nreturn quat;\n}\nvec4 quaternionFromEuler (vec3 angle){\nfloat x = angle.x / 2.;\nfloat y = angle.y / 2.;\nfloat z = angle.z / 2.;\nfloat sx = sin(x);\nfloat cx = cos(x);\nfloat sy = sin(y);\nfloat cy = cos(y);\nfloat sz = sin(z);\nfloat cz = cos(z);\nvec4 quat = vec4(0);\nquat.x = sx * cy * cz + cx * sy * sz;\nquat.y = cx * sy * cz + sx * cy * sz;\nquat.z = cx * cy * sz - sx * sy * cz;\nquat.w = cx * cy * cz - sx * sy * sz;\nreturn quat;\n}\nmat4 matrixFromRT (vec4 q, vec3 p){\nfloat x2 = q.x + q.x;\nfloat y2 = q.y + q.y;\nfloat z2 = q.z + q.z;\nfloat xx = q.x * x2;\nfloat xy = q.x * y2;\nfloat xz = q.x * z2;\nfloat yy = q.y * y2;\nfloat yz = q.y * z2;\nfloat zz = q.z * z2;\nfloat wx = q.w * x2;\nfloat wy = q.w * y2;\nfloat wz = q.w * z2;\nreturn mat4(\n1. - (yy + zz), xy + wz, xz - wy, 0,\nxy - wz, 1. - (xx + zz), yz + wx, 0,\nxz + wy, yz - wx, 1. - (xx + yy), 0,\np.x, p.y, p.z, 1\n);\n}\nmat4 matFromRTS (vec4 q, vec3 t, vec3 s){\nfloat x = q.x, y = q.y, z = q.z, w = q.w;\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat xy = x * y2;\nfloat xz = x * z2;\nfloat yy = y * y2;\nfloat yz = y * z2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\nfloat sx = s.x;\nfloat sy = s.y;\nfloat sz = s.z;\nreturn mat4((1. - (yy + zz)) * sx, (xy + wz) * sx, (xz - wy) * sx, 0,\n(xy - wz) * sy, (1. - (xx + zz)) * sy, (yz + wx) * sy, 0,\n(xz + wy) * sz, (yz - wx) * sz, (1. - (xx + yy)) * sz, 0,\nt.x, t.y, t.z, 1);\n}\nvec4 quatMultiply (vec4 a, vec4 b){\nvec4 quat;\nquat.x = a.x * b.w + a.w * b.x + a.y * b.z - a.z * b.y;\nquat.y = a.y * b.w + a.w * b.y + a.z * b.x - a.x * b.z;\nquat.z = a.z * b.w + a.w * b.z + a.x * b.y - a.y * b.x;\nquat.w = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;\nreturn quat;\n}\nvoid rotateVecFromQuat (inout vec3 v, vec4 q){\nfloat ix = q.w * v.x + q.y * v.z - q.z * v.y;\nfloat iy = q.w * v.y + q.z * v.x - q.x * v.z;\nfloat iz = q.w * v.z + q.x * v.y - q.y * v.x;\nfloat iw = -q.x * v.x - q.y * v.y - q.z * v.z;\nv.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\nv.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\nv.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n}\nvec3 rotateInLocalSpace (vec3 pos, vec3 xAxis, vec3 yAxis, vec3 zAxis, vec4 q){\nvec4 viewQuat = quaternionFromAxis(xAxis, yAxis, zAxis);\nvec4 rotQuat = quatMultiply(viewQuat, q);\nrotateVecFromQuat(pos, rotQuat);\nreturn pos;\n}\nvoid rotateCorner (inout vec2 corner, float angle){\nfloat xOS = cos(angle) * corner.x - sin(angle) * corner.y;\nfloat yOS = sin(angle) * corner.x + cos(angle) * corner.y;\ncorner.x = xOS;\ncorner.y = yOS;\n}\nlayout(std140) uniform Constants {\nvec4 mainTiling_Offset;\nvec4 frameTile_velLenScale;\nvec4 scale;\n};\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nout mediump vec2 uv;\nout mediump vec4 color;\nvoid computeVertPos (inout vec4 pos, vec2 vertOffset, vec4 q, vec3 s\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, mat4 viewInv\n#endif\n#if CC_RENDER_MODE == 1\n, vec3 eye\n, vec4 velocity\n, float velocityScale\n, float lengthScale\n, float xIndex\n#endif\n) {\n#if CC_RENDER_MODE == 0\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = normalize(vec3(viewInv[0][0], viewInv[1][0], viewInv[2][0]));\nvec3 camY = normalize(vec3(viewInv[0][1], viewInv[1][1], viewInv[2][1]));\nvec3 camZ = normalize(vec3(viewInv[0][2], viewInv[1][2], viewInv[2][2]));\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, camZ, q);\n#elif CC_RENDER_MODE == 1\nvec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz)) * s.x;\nvec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * s.y;\npos.xyz += (camRight * abs(vertOffset.x) * sign(vertOffset.y)) - camUp * xIndex;\n#elif CC_RENDER_MODE == 2\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = vec3(1, 0, 0);\nvec3 camY = vec3(0, 0, -1);\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, cross(camX, camY), q);\n#elif CC_RENDER_MODE == 3\nvec2 viewSpaceVert = vec2(vertOffset.x * s.x, vertOffset.y * s.y);\nrotateCorner(viewSpaceVert, q.z);\nvec3 camX = normalize(vec3(cc_matView[0][0], cc_matView[1][0], cc_matView[2][0]));\nvec3 camY = vec3(0, 1, 0);\nvec3 offset = camX * viewSpaceVert.x + camY * viewSpaceVert.y;\npos.xyz += offset;\n#else\npos.x += vertOffset.x;\npos.y += vertOffset.y;\n#endif\n}\nvec2 computeUV (float frameIndex, vec2 vertIndex, vec2 frameTile){\nvec2 aniUV = vec2(0, floor(frameIndex * frameTile.y));\naniUV.x = floor(frameIndex * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\n#if CC_RENDER_MODE != 4\nvertIndex.y = 1. - vertIndex.y;\n#endif\nreturn (aniUV.xy + vertIndex) / vec2(frameTile.x, frameTile.y);\n}\nin vec3 a_position;\nin vec3 a_texCoord;\nin vec3 a_texCoord1;\nin vec3 a_texCoord2;\nin vec4 a_color;\n#if CC_RENDER_MODE == 1\nin vec3 a_color1;\n#endif\n#if CC_RENDER_MODE == 4\nin vec3 a_texCoord3;\nin vec3 a_normal;\nin vec4 a_color1;\n#endif\nvec4 lpvs_main () {\nvec3 compScale = scale.xyz * a_texCoord1;\nvec4 pos = vec4(a_position, 1);\n#if CC_RENDER_MODE == 1\nvec4 velocity = vec4(a_color1.xyz, 0);\n#endif\n#if !CC_USE_WORLD_SPACE\npos = cc_matWorld * pos;\n#if CC_RENDER_MODE == 1\nvelocity = cc_matWorld * velocity;\n#endif\n#endif\n#if CC_RENDER_MODE != 4\nvec2 cornerOffset = vec2((a_texCoord.xy - 0.5));\n#if CC_RENDER_MODE == 0\nvec3 rotEuler = a_texCoord2;\n#elif CC_RENDER_MODE == 1\nvec3 rotEuler = vec3(0.);\n#else\nvec3 rotEuler = vec3(0., 0., a_texCoord2.z);\n#endif\ncomputeVertPos(pos, cornerOffset, quaternionFromEuler(rotEuler), compScale\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, cc_matViewInv\n#endif\n#if CC_RENDER_MODE == 1\n, cc_cameraPos.xyz\n, velocity\n, frameTile_velLenScale.z\n, frameTile_velLenScale.w\n, a_texCoord.x\n#endif\n);\ncolor = a_color;\n#else\nmat4 xformNoScale = matrixFromRT(quaternionFromEuler(a_texCoord2), pos.xyz);\nmat4 xform = matFromRTS(quaternionFromEuler(a_texCoord2), pos.xyz, compScale);\npos = xform * vec4(a_texCoord3, 1);\nvec4 normal = xformNoScale * vec4(a_normal, 0);\ncolor = a_color * a_color1;\n#endif\nuv = computeUV(a_texCoord.z, a_texCoord.xy, frameTile_velLenScale.xy) * mainTiling_Offset.xy + mainTiling_Offset.zw;\npos = cc_matViewProj * pos;\nreturn pos;\n}\nvoid main() { gl_Position = lpvs_main(); }",frag:"\nprecision mediump float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nin vec2 uv;\nin vec4 color;\nuniform sampler2D mainTexture;\nlayout(std140) uniform FragConstants {\nvec4 tintColor;\n};\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture(mainTexture, uv);\nreturn CCFragOutput(col);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = add(); }"}],[{vert:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\n#if USE_LOCAL\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\nin vec3 a_position;\nin vec2 a_texCoord;\nin vec4 a_color;\nout vec4 v_light;\nout vec2 uv0;\n#if TWO_COLORED\nin vec4 a_color2;\nout vec4 v_dark;\n#endif\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\n#if USE_LOCAL\npos = cc_matWorld * pos;\n#endif\npos = cc_matViewProj * pos;\nuv0 = a_texCoord;\nv_light = a_color;\n#if TWO_COLORED\nv_dark = a_color2;\n#endif\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\nlayout(std140) uniform ALPHA_TEST_DATA {\nfloat alphaThreshold;\n};\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n#if USE_ALPHA_TEST\nif (color.a < alphaThreshold) discard;\n#endif\n}\nvoid ALPHA_TEST (in float alpha) {\n#if USE_ALPHA_TEST\nif (alpha < alphaThreshold) discard;\n#endif\n}\nin vec4 v_light;\n#if TWO_COLORED\nin vec4 v_dark;\n#endif\nin vec2 uv0;\nuniform sampler2D cc_spriteTexture;\nvec4 frag () {\nvec4 o = vec4(1, 1, 1, 1);\n#if TWO_COLORED\nvec4 texColor = vec4(1, 1, 1, 1);\ntexColor *= texture(cc_spriteTexture, uv0);\no.a = texColor.a * v_light.a;\no.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n#else\no *= texture(cc_spriteTexture, uv0);\no *= v_light;\n#endif\nALPHA_TEST(o);\nreturn o;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\n#if USE_LOCAL\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\n#if SAMPLE_FROM_RT\n#endif\nin vec3 a_position;\nin vec2 a_texCoord;\nin vec4 a_color;\nout vec4 color;\nout vec2 uv0;\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\n#if USE_LOCAL\npos = cc_matWorld * pos;\n#endif\n#if USE_PIXEL_ALIGNMENT\npos = cc_matView * pos;\npos.xyz = floor(pos.xyz);\npos = cc_matProj * pos;\n#else\npos = cc_matViewProj * pos;\n#endif\nuv0 = a_texCoord;\n#if SAMPLE_FROM_RT\nuv0 = cc_cameraPos.w > 1.0 ? vec2(uv0.x, 1.0 - uv0.y) : uv0;\n#endif\ncolor = a_color;\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nvec4 CCSampleWithAlphaSeparated(sampler2D tex, vec2 uv) {\n#if CC_USE_EMBEDDED_ALPHA\nreturn vec4(texture(tex, uv).rgb, texture(tex, uv + vec2(0.0, 0.5)).r);\n#else\nreturn texture(tex, uv);\n#endif\n}\n#if USE_ALPHA_TEST\nlayout(std140) uniform ALPHA_TEST_DATA {\nfloat alphaThreshold;\n};\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n#if USE_ALPHA_TEST\nif (color.a < alphaThreshold) discard;\n#endif\n}\nvoid ALPHA_TEST (in float alpha) {\n#if USE_ALPHA_TEST\nif (alpha < alphaThreshold) discard;\n#endif\n}\nin vec4 color;\n#if USE_TEXTURE\nin vec2 uv0;\nuniform sampler2D cc_spriteTexture;\n#endif\nvec4 frag () {\nvec4 o = vec4(1, 1, 1, 1);\n#if USE_TEXTURE\no *= CCSampleWithAlphaSeparated(cc_spriteTexture, uv0);\n#if IS_GRAY\nfloat gray  = 0.2126 * o.r + 0.7152 * o.g + 0.0722 * o.b;\no.r = o.g = o.b = gray;\n#endif\n#endif\no *= color;\nALPHA_TEST(o);\nreturn o;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nin vec3 a_position;\nin vec3 a_normal;\nin vec2 a_texCoord;\nin vec4 a_tangent;\n#if CC_USE_MORPH\nin float a_vertexId;\nint getVertexId() {\nreturn int(a_vertexId);\n}\nlayout(std140) uniform CCMorph {\nvec4 cc_displacementWeights[15];\nvec4 cc_displacementTextureInfo;\n};\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\nivec2 texSize = textureSize(tex, 0);\nreturn texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture(tex, x)),\ndecode32(texture(tex, y)),\ndecode32(texture(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nuniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nuniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nuniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nin vec4 a_joints;\nin vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nin highp vec4 a_jointAnimInfo;\n#endif\nlayout(std140) uniform CCSkinningTexture {\nhighp vec4 cc_jointTextureInfo;\n};\nlayout(std140) uniform CCSkinningAnimation {\nhighp vec4 cc_jointAnimInfo;\n};\nuniform highp sampler2D cc_jointTexture;\n#else\nlayout(std140) uniform CCSkinning {\nhighp vec4 cc_joints[30 * 3];\n};\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\n#if USE_INSTANCING\nin vec4 a_matWorld0;\nin vec4 a_matWorld1;\nin vec4 a_matWorld2;\n#if USE_LIGHTMAP\nin vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nin float a_dyn_batch_id;\nlayout(std140) uniform CCLocalBatched {\nhighp mat4 cc_matWorlds[10];\n};\n#else\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\nlayout(std140) uniform Constants {\nvec4 tilingOffset;\nvec4 albedo;\nvec4 albedoScaleAndCutoff;\nvec4 pbrParams;\nvec4 emissive;\nvec4 emissiveScaleParam;\n};\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nout float v_fog_factor;\nout highp vec4 v_shadowPos;\nlayout(std140) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if CC_RECEIVE_SHADOW\nuniform sampler2D cc_shadowMap;\nuniform sampler2D cc_spotLightingMap;\n#endif\n#if USE_VERTEX_COLOR\nin vec4 a_color;\nout vec4 v_color;\n#endif\nout vec3 v_position;\nout vec3 v_normal;\nout vec2 v_uv;\nout vec2 v_uv1;\n#if USE_NORMAL_MAP\nout vec3 v_tangent;\nout vec3 v_bitangent;\n#endif\n#if HAS_SECOND_UV || USE_LIGHTMAP\nin vec2 a_texCoord1;\n#endif\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nout vec3 v_luv;\nvoid CCLightingMapCaclUV()\n{\n#if !USE_INSTANCING\nv_luv.xy = cc_lightingMapUVParam.xy + a_texCoord1 * cc_lightingMapUVParam.zw;\nv_luv.z = cc_lightingMapUVParam.z;\n#else\nv_luv.xy = a_lightingMapUVParam.xy + a_texCoord1 * a_lightingMapUVParam.zw;\nv_luv.z = a_lightingMapUVParam.z;\n#endif\n}\n#endif\nvoid main () {\nStandardVertInput In;\nIn.position = vec4(a_position, 1.0);\nIn.normal = a_normal;\nIn.tangent = a_tangent;\n#if CC_USE_MORPH\napplyMorph(In);\n#endif\n#if CC_USE_SKINNING\nCCSkin(In);\n#endif\nmat4 matWorld, matWorldIT;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\nmatWorldIT = matWorld;\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\nmatWorldIT = matWorld;\n#else\nmatWorld = cc_matWorld;\nmatWorldIT = cc_matWorldIT;\n#endif\nvec4 pos = matWorld * In.position;\nv_position = pos.xyz;\nv_normal = normalize((matWorldIT * vec4(In.normal, 0.0)).xyz);\n#if USE_NORMAL_MAP\nv_tangent = normalize((matWorld * vec4(In.tangent.xyz, 0.0)).xyz);\nv_bitangent = cross(v_normal, v_tangent) * In.tangent.w;\n#endif\nv_uv = a_texCoord * tilingOffset.xy + tilingOffset.zw;\n#if SAMPLE_FROM_RT\nv_uv = cc_cameraPos.w > 1.0 ? vec2(v_uv.x, 1.0 - v_uv.y) : v_uv;\n#endif\n#if HAS_SECOND_UV\nv_uv1 = a_texCoord1 * tilingOffset.xy + tilingOffset.zw;\n#if SAMPLE_FROM_RT\nv_uv1 = cc_cameraPos.w > 1.0 ? vec2(v_uv1.x, 1.0 - v_uv1.y) : v_uv1;\n#endif\n#endif\n#if USE_VERTEX_COLOR\nv_color = a_color;\n#endif\n#if CC_USE_FOG == 0\nv_fog_factor = LinearFog(pos);\n#elif CC_USE_FOG == 1\nv_fog_factor = ExpFog(pos);\n#elif CC_USE_FOG == 2\nv_fog_factor = ExpSquaredFog(pos);\n#elif CC_USE_FOG == 3\nv_fog_factor = LayeredFog(pos);\n#else\nv_fog_factor = 1.0;\n#endif\nv_shadowPos = cc_matLightViewProj * pos;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nCCLightingMapCaclUV();\n#endif\ngl_Position = cc_matProj * (cc_matView * matWorld) * In.position;\n}",frag:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(std140) uniform Constants {\nvec4 tilingOffset;\nvec4 albedo;\nvec4 albedoScaleAndCutoff;\nvec4 pbrParams;\nvec4 emissive;\nvec4 emissiveScaleParam;\n};\nin float v_fog_factor;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nlayout(std140) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if CC_RECEIVE_SHADOW\nuniform sampler2D cc_shadowMap;\nuniform sampler2D cc_spotLightingMap;\nfloat CCGetLinearDepth (vec3 worldPos) {\nvec4 viewStartPos = cc_matLightView * vec4(worldPos.xyz, 1.0);\nfloat dist = length(viewStartPos.xyz);\nreturn cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\n}\nfloat CCGetShadowFactorX1 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_shadowMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_shadowMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, clipPos.z- cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetShadowFactorX5 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetShadowFactorX9 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetShadowFactorX25 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\nfloat CCGetDirLightShadowFactorX1 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nfloat depth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_spotLightingMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_spotLightingMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, depth - cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetDirLightShadowFactorX5 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetDirLightShadowFactorX9 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetDirLightShadowFactorX25 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat depth = 0.0;\nfloat shadow = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\n#endif\n#if CC_USE_IBL\nuniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec4 fragTextureLod (sampler2D tex, vec2 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\nvec4 fragTextureLod (samplerCube tex, vec3 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\n#endif\nfloat GGXMobile (float roughness, float NoH, vec3 H, vec3 N) {\nvec3 NxH = cross(N, H);\nfloat OneMinusNoHSqr = dot(NxH, NxH);\nfloat a = roughness * roughness;\nfloat n = NoH * a;\nfloat p = a / (OneMinusNoHSqr + n * n);\nreturn p * p;\n}\nfloat CalcSpecular (float roughness, float NoH, vec3 H, vec3 N) {\nreturn (roughness * 0.25 + 0.25) * GGXMobile(roughness, NoH, H, N);\n}\nvec3 BRDFApprox (vec3 specular, float roughness, float NoV) {\nconst vec4 c0 = vec4(-1.0, -0.0275, -0.572, 0.022);\nconst vec4 c1 = vec4(1.0, 0.0425, 1.04, -0.04);\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NoV)) * r.x + r.y;\nvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\nAB.y *= clamp(50.0 * specular.g, 0.0, 1.0);\nreturn specular * AB.x + AB.y;\n}\nstruct StandardSurface {\nvec4 albedo;\nvec3 position;\nvec3 normal;\nvec3 emissive;\nvec3 lightmap;\nfloat lightmap_test;\nfloat roughness;\nfloat metallic;\nfloat occlusion;\n};\nvec4 CCStandardShadingBase (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 L = normalize(-cc_mainLitDir.xyz);\nvec3 H = normalize(L + V);\nfloat NH = max(dot(N, H), 0.0);\nfloat NL = max(dot(N, L), 0.001);\nvec3 finalColor = NL * cc_mainLitColor.rgb * cc_mainLitColor.w;\nvec3 diffuseContrib = diffuse;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nif (s.lightmap_test > 0.0001) {\nfinalColor = s.lightmap.rgb;\n}\n#else\ndiffuseContrib /= 3.14159265359;\n#endif\nvec3 specularContrib = specular * CalcSpecular(s.roughness, NH, H, N);\nfinalColor *= (diffuseContrib + specularContrib);\nfloat fAmb = 0.5 - N.y * 0.5;\nvec3 ambDiff = mix(cc_ambientSky.rgb, cc_ambientGround.rgb, fAmb) * cc_ambientSky.w;\nfinalColor += (ambDiff.rgb * diffuse);\n#if CC_USE_IBL\nvec3 R = normalize(reflect(-V, N));\nvec4 envmap = fragTextureLod(cc_environment, R, s.roughness * cc_ambientGround.w);\n#if CC_USE_IBL == 2\nvec3 env = unpackRGBE(envmap);\n#else\nvec3 env = SRGBToLinear(envmap.rgb);\n#endif\nfinalColor += env * cc_ambientSky.w * specular;\n#endif\nfinalColor = finalColor * s.occlusion;\n#if CC_USE_HDR\ns.emissive *= cc_exposure.w;\n#endif\nfinalColor += s.emissive;\n#if CC_RECEIVE_SHADOW\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, L.xyz), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetShadowFactorX25(pos);\nelse if (pcf > 2.0) shadowAttenuation = CCGetShadowFactorX9(pos);\nelse if (pcf > 1.0) shadowAttenuation = CCGetShadowFactorX5(pos);\nelse shadowAttenuation = CCGetShadowFactorX1(pos);\nvec3 shadowColor = cc_shadowColor.rgb * cc_shadowColor.a + finalColor.rgb * (1.0 - cc_shadowColor.a);\nif (cc_shadowNFLSInfo.w > 0.000001) {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation + finalColor.rgb * (1.0 - shadowAttenuation);\n} else {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation * NL + finalColor.rgb * (1.0 - shadowAttenuation * NL);\n}\n}\n#endif\nreturn vec4(finalColor, s.albedo.a);\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nin highp vec4 v_shadowPos;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nin vec3 v_luv;\nuniform sampler2D cc_lightingMap;\nvec3 UnpackLightingmap(vec4 color) {\nvec3 c;\nfloat e = 1.0 + color.a * (8.0 - 1.0);\nc.r = color.r * e;\nc.g = color.g * e;\nc.b = color.b * e;\nreturn c;\n}\n#endif\nin vec3 v_position;\nin vec2 v_uv;\nin vec2 v_uv1;\nin vec3 v_normal;\n#if USE_VERTEX_COLOR\nin vec4 v_color;\n#endif\n#if USE_ALBEDO_MAP\nuniform sampler2D albedoMap;\n#endif\n#if USE_NORMAL_MAP\nin vec3 v_tangent;\nin vec3 v_bitangent;\nuniform sampler2D normalMap;\n#endif\n#if USE_PBR_MAP\nuniform sampler2D pbrMap;\n#endif\n#if USE_METALLIC_ROUGHNESS_MAP\nuniform sampler2D metallicRoughnessMap;\n#endif\n#if USE_OCCLUSION_MAP\nuniform sampler2D occlusionMap;\n#endif\n#if USE_EMISSIVE_MAP\nuniform sampler2D emissiveMap;\n#endif\n#if USE_ALPHA_TEST\n#endif\nvoid surf (out StandardSurface s) {\nvec4 baseColor = albedo;\n#if USE_VERTEX_COLOR\nbaseColor *= v_color;\n#endif\n#if USE_ALBEDO_MAP\nvec4 texColor = texture(albedoMap, ALBEDO_UV);\ntexColor.rgb = SRGBToLinear(texColor.rgb);\nbaseColor *= texColor;\n#endif\ns.albedo = baseColor;\ns.albedo.rgb *= albedoScaleAndCutoff.xyz;\n#if USE_ALPHA_TEST\nif (s.albedo.ALPHA_TEST_CHANNEL < albedoScaleAndCutoff.w) discard;\n#endif\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nvec4 lightColor = texture(cc_lightingMap, v_luv.xy);\ns.lightmap = UnpackLightingmap(lightColor);\ns.lightmap_test = v_luv.z;\n#endif\ns.normal = v_normal;\n#if USE_NORMAL_MAP\nvec3 nmmp = texture(normalMap, NORMAL_UV).xyz - vec3(0.5);\ns.normal =\n(nmmp.x * pbrParams.w) * normalize(v_tangent) +\n(nmmp.y * pbrParams.w) * normalize(v_bitangent) +\nnmmp.z * normalize(s.normal);\n#endif\ns.position = v_position;\nvec4 pbr = pbrParams;\n#if USE_PBR_MAP\nvec4 res = texture(pbrMap, PBR_UV);\npbr.x *= res.r;\npbr.y *= res.g;\npbr.z *= res.b;\n#endif\n#if USE_METALLIC_ROUGHNESS_MAP\nvec4 metallicRoughness = texture(metallicRoughnessMap, PBR_UV);\npbr.z *= metallicRoughness.b;\npbr.y *= metallicRoughness.g;\n#endif\n#if USE_OCCLUSION_MAP\npbr.x *= texture(occlusionMap, PBR_UV).r;\n#endif\ns.occlusion = clamp(pbr.x, 0.0, 0.96);\ns.roughness = clamp(pbr.y, 0.04, 1.0);\ns.metallic = pbr.z;\ns.emissive = emissive.rgb * emissiveScaleParam.xyz;\n#if USE_EMISSIVE_MAP\ns.emissive *= SRGBToLinear(texture(emissiveMap, EMISSIVE_UV).rgb);\n#endif\n}\n#if CC_FORWARD_ADD\n#if CC_PIPELINE_TYPE == 0\n# define LIGHTS_PER_PASS 1\n#else\n# define LIGHTS_PER_PASS 10\n#endif\nlayout(std140) uniform CCForwardLight {\nhighp vec4 cc_lightPos[LIGHTS_PER_PASS];\nvec4 cc_lightColor[LIGHTS_PER_PASS];\nvec4 cc_lightSizeRangeAngle[LIGHTS_PER_PASS];\nvec4 cc_lightDir[LIGHTS_PER_PASS];\n};\nfloat SmoothDistAtt (float distSqr, float invSqrAttRadius) {\nfloat factor = distSqr * invSqrAttRadius;\nfloat smoothFactor = clamp(1.0 - factor * factor, 0.0, 1.0);\nreturn smoothFactor * smoothFactor;\n}\nfloat GetDistAtt (float distSqr, float invSqrAttRadius) {\nfloat attenuation = 1.0 / max(distSqr, 0.01*0.01);\nattenuation *= SmoothDistAtt(distSqr , invSqrAttRadius);\nreturn attenuation;\n}\nfloat GetAngleAtt (vec3 L, vec3 litDir, float litAngleScale, float litAngleOffset) {\nfloat cd = dot(litDir, L);\nfloat attenuation = clamp(cd * litAngleScale + litAngleOffset, 0.0, 1.0);\nreturn (attenuation * attenuation);\n}\nvec4 CCStandardShadingAdditive (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 diffuseContrib = diffuse / 3.14159265359;\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 finalColor = vec3(0.0);\nint numLights = CC_PIPELINE_TYPE == 0 ? LIGHTS_PER_PASS : int(cc_lightDir[0].w);\nfor (int i = 0; i < LIGHTS_PER_PASS; i++) {\nif (i >= numLights) break;\nvec3 SLU = cc_lightPos[i].xyz - s.position;\nvec3 SL = normalize(SLU);\nvec3 SH = normalize(SL + V);\nfloat SNL = max(dot(N, SL), 0.001);\nfloat SNH = max(dot(N, SH), 0.0);\nfloat distSqr = dot(SLU, SLU);\nfloat litRadius = cc_lightSizeRangeAngle[i].x;\nfloat litRadiusSqr = litRadius * litRadius;\nfloat illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\nfloat attRadiusSqrInv = 1.0 / max(cc_lightSizeRangeAngle[i].y, 0.01);\nattRadiusSqrInv *= attRadiusSqrInv;\nfloat att = GetDistAtt(distSqr, attRadiusSqrInv);\nvec3 lspec = specular * CalcSpecular(s.roughness, SNH, SH, N);\nif (cc_lightPos[i].w > 0.0) {\nfloat cosInner = max(dot(-cc_lightDir[i].xyz, SL), 0.01);\nfloat cosOuter = cc_lightSizeRangeAngle[i].z;\nfloat litAngleScale = 1.0 / max(0.001, cosInner - cosOuter);\nfloat litAngleOffset = -cosOuter * litAngleScale;\natt *= GetAngleAtt(SL, -cc_lightDir[i].xyz, litAngleScale, litAngleOffset);\n}\nvec3 lightColor = cc_lightColor[i].rgb;\n#if CC_RECEIVE_SHADOW\nif (cc_lightPos[i].w > 0.0) {\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, normalize(cc_lightPos[i].xyz - s.position.xyz)), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetDirLightShadowFactorX25(pos, s.position);\nelse if (pcf > 2.0) shadowAttenuation = CCGetDirLightShadowFactorX9(pos, s.position);\nelse if (pcf > 1.0) shadowAttenuation = CCGetDirLightShadowFactorX5(pos, s.position);\nelse shadowAttenuation = CCGetDirLightShadowFactorX1(pos, s.position);\nlightColor *= 1.0 - shadowAttenuation;\n}\n}\n#endif\nfinalColor += SNL * lightColor * cc_lightColor[i].w * illum * att * (diffuseContrib + lspec);\n}\nfinalColor = finalColor * s.occlusion;\nreturn vec4(finalColor, 0.0);\n}\nlayout(location = 0) out vec4 fragColorX;\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingAdditive(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\nfragColorX = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 0\nlayout(location = 0) out vec4 fragColorX;\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingBase(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\nfragColorX = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 1\nlayout(location = 0) out vec4 fragColor0;\nlayout(location = 1) out vec4 fragColor1;\nlayout(location = 2) out vec4 fragColor2;\nlayout(location = 3) out vec4 fragColor3;\nvoid main () {\nStandardSurface s; surf(s);\nfragColor0 = s.albedo;\nfragColor1 = vec4(s.position, s.roughness);\nfragColor2 = vec4(s.normal, s.metallic);\nfragColor3 = vec4(s.emissive, s.occlusion);\n}\n#endif"},{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nin vec3 a_position;\nin vec3 a_normal;\nin vec2 a_texCoord;\nin vec4 a_tangent;\n#if CC_USE_MORPH\nin float a_vertexId;\nint getVertexId() {\nreturn int(a_vertexId);\n}\nlayout(std140) uniform CCMorph {\nvec4 cc_displacementWeights[15];\nvec4 cc_displacementTextureInfo;\n};\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\nivec2 texSize = textureSize(tex, 0);\nreturn texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture(tex, x)),\ndecode32(texture(tex, y)),\ndecode32(texture(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nuniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nuniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nuniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nin vec4 a_joints;\nin vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nin highp vec4 a_jointAnimInfo;\n#endif\nlayout(std140) uniform CCSkinningTexture {\nhighp vec4 cc_jointTextureInfo;\n};\nlayout(std140) uniform CCSkinningAnimation {\nhighp vec4 cc_jointAnimInfo;\n};\nuniform highp sampler2D cc_jointTexture;\n#else\nlayout(std140) uniform CCSkinning {\nhighp vec4 cc_joints[30 * 3];\n};\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\n#if USE_INSTANCING\nin vec4 a_matWorld0;\nin vec4 a_matWorld1;\nin vec4 a_matWorld2;\n#if USE_LIGHTMAP\nin vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nin float a_dyn_batch_id;\nlayout(std140) uniform CCLocalBatched {\nhighp mat4 cc_matWorlds[10];\n};\n#else\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\nlayout(std140) uniform Constants {\nvec4 tilingOffset;\nvec4 albedo;\nvec4 albedoScaleAndCutoff;\nvec4 pbrParams;\nvec4 emissive;\nvec4 emissiveScaleParam;\n};\nlayout(std140) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if HAS_SECOND_UV || USE_LIGHTMAP\nin vec2 a_texCoord1;\n#endif\nout vec2 v_uv;\nout vec2 v_uv1;\nout vec4 v_worldPos;\nout float v_clip_depth;\nvec4 vert () {\nStandardVertInput In;\nIn.position = vec4(a_position, 1.0);\nIn.normal = a_normal;\nIn.tangent = a_tangent;\n#if CC_USE_MORPH\napplyMorph(In);\n#endif\n#if CC_USE_SKINNING\nCCSkin(In);\n#endif\nmat4 matWorld, matWorldIT;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\nmatWorldIT = matWorld;\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\nmatWorldIT = matWorld;\n#else\nmatWorld = cc_matWorld;\nmatWorldIT = cc_matWorldIT;\n#endif\nv_worldPos = matWorld * In.position;\nvec4 clipPos = cc_matLightViewProj * v_worldPos;\nv_uv = a_texCoord * tilingOffset.xy + tilingOffset.zw;\n#if HAS_SECOND_UV\nv_uv1 = a_texCoord1 * tilingOffset.xy + tilingOffset.zw;\n#endif\nv_clip_depth = clipPos.z / clipPos.w * 0.5 + 0.5;\nreturn clipPos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nlayout(std140) uniform Constants {\nvec4 tilingOffset;\nvec4 albedo;\nvec4 albedoScaleAndCutoff;\nvec4 pbrParams;\nvec4 emissive;\nvec4 emissiveScaleParam;\n};\nvec4 packDepthToRGBA (float depth) {\nvec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\nret = fract(ret);\nret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\nreturn ret;\n}\nlayout(std140) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\nin vec2 v_uv;\nin vec2 v_uv1;\nin vec4 v_worldPos;\nin float v_clip_depth;\n#if USE_ALBEDO_MAP\nuniform sampler2D albedoMap;\n#endif\n#if USE_ALPHA_TEST\n#endif\nvec4 frag () {\nvec4 baseColor = albedo;\n#if USE_ALBEDO_MAP\nbaseColor *= texture(albedoMap, ALBEDO_UV);\n#endif\n#if USE_ALPHA_TEST\nif (baseColor.ALPHA_TEST_CHANNEL < albedoScaleAndCutoff.w) discard;\n#endif\nif(cc_shadowLPNNInfo.x > 0.000001 && cc_shadowLPNNInfo.x < 1.999999) {\nif (cc_shadowNFLSInfo.z > 0.000001) {\nvec4 viewStartPos = cc_matLightView * v_worldPos;\nfloat dist = length(viewStartPos.xyz);\nfloat linearDepth = cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\nreturn vec4(linearDepth, 1.0, 1.0, 1.0);\n}\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nreturn packDepthToRGBA(v_clip_depth);\n}\nreturn vec4(v_clip_depth, 1.0, 1.0, 1.0);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nout float v_fog_factor;\nout highp vec4 v_shadowPos;\nlayout(std140) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if CC_RECEIVE_SHADOW\nuniform sampler2D cc_shadowMap;\nuniform sampler2D cc_spotLightingMap;\n#endif\nin vec3 a_position;\nin vec3 a_normal;\nin vec2 a_texCoord;\nout highp vec3 v_position;\nout mediump vec3 v_normal;\n#if USE_NORMALMAP\nout mediump vec3 v_tangent;\nout mediump vec3 v_binormal;\n#endif\nout mediump vec2 uvw;\nout mediump vec2 uv0;\nout mediump vec2 uv1;\nout mediump vec2 uv2;\nout mediump vec2 uv3;\nout mediump vec3 luv;\nout mediump vec3 diffuse;\nlayout(std140) uniform TexCoords {\nvec4 UVScale;\nvec4 lightMapUVParam;\n};\nvoid main () {\nvec3 worldPos;\nworldPos.x = cc_matWorld[3][0] + a_position.x;\nworldPos.y = cc_matWorld[3][1] + a_position.y;\nworldPos.z = cc_matWorld[3][2] + a_position.z;\nvec4 pos = vec4(worldPos, 1.0);\npos = cc_matViewProj * pos;\nuvw = a_texCoord;\nuv0 = a_position.xz * UVScale.x;\nuv1 = a_position.xz * UVScale.y;\nuv2 = a_position.xz * UVScale.z;\nuv3 = a_position.xz * UVScale.w;\n#if USE_LIGHTMAP\nluv.xy = lightMapUVParam.xy + a_texCoord * lightMapUVParam.zw;\nluv.z = lightMapUVParam.z;\n#endif\nv_position = worldPos;\nv_normal = a_normal;\n#if CC_USE_FOG == 0\nv_fog_factor = LinearFog(vec4(worldPos, 1.0));\n#elif CC_USE_FOG == 1\nv_fog_factor = ExpFog(vec4(worldPos, 1.0));\n#elif CC_USE_FOG == 2\nv_fog_factor = ExpSquaredFog(vec4(worldPos, 1.0));\n#elif CC_USE_FOG == 3\nv_fog_factor = LayeredFog(vec4(worldPos, 1.0));\n#else\nv_fog_factor = 1.0;\n#endif\n#if USE_NORMALMAP\nv_tangent = vec3(1.0, 0.0, 0.0);\nv_binormal = vec3(0.0, 0.0, 1.0);\nv_binormal = cross(v_tangent, a_normal);\nv_tangent = cross(a_normal, v_binormal);\n#endif\nv_shadowPos = cc_matLightViewProj * vec4(worldPos, 1.0);\ngl_Position = pos;\n}",frag:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nlayout(std140) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if CC_RECEIVE_SHADOW\nuniform sampler2D cc_shadowMap;\nuniform sampler2D cc_spotLightingMap;\nfloat CCGetLinearDepth (vec3 worldPos) {\nvec4 viewStartPos = cc_matLightView * vec4(worldPos.xyz, 1.0);\nfloat dist = length(viewStartPos.xyz);\nreturn cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\n}\nfloat CCGetShadowFactorX1 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_shadowMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_shadowMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, clipPos.z- cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetShadowFactorX5 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetShadowFactorX9 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetShadowFactorX25 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\nfloat CCGetDirLightShadowFactorX1 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nfloat depth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_spotLightingMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_spotLightingMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, depth - cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetDirLightShadowFactorX5 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetDirLightShadowFactorX9 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetDirLightShadowFactorX25 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat depth = 0.0;\nfloat shadow = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\n#endif\n#if CC_USE_IBL\nuniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec4 fragTextureLod (sampler2D tex, vec2 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\nvec4 fragTextureLod (samplerCube tex, vec3 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\n#endif\nfloat GGXMobile (float roughness, float NoH, vec3 H, vec3 N) {\nvec3 NxH = cross(N, H);\nfloat OneMinusNoHSqr = dot(NxH, NxH);\nfloat a = roughness * roughness;\nfloat n = NoH * a;\nfloat p = a / (OneMinusNoHSqr + n * n);\nreturn p * p;\n}\nfloat CalcSpecular (float roughness, float NoH, vec3 H, vec3 N) {\nreturn (roughness * 0.25 + 0.25) * GGXMobile(roughness, NoH, H, N);\n}\nvec3 BRDFApprox (vec3 specular, float roughness, float NoV) {\nconst vec4 c0 = vec4(-1.0, -0.0275, -0.572, 0.022);\nconst vec4 c1 = vec4(1.0, 0.0425, 1.04, -0.04);\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NoV)) * r.x + r.y;\nvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\nAB.y *= clamp(50.0 * specular.g, 0.0, 1.0);\nreturn specular * AB.x + AB.y;\n}\nstruct StandardSurface {\nvec4 albedo;\nvec3 position;\nvec3 normal;\nvec3 emissive;\nvec3 lightmap;\nfloat lightmap_test;\nfloat roughness;\nfloat metallic;\nfloat occlusion;\n};\nvec4 CCStandardShadingBase (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 L = normalize(-cc_mainLitDir.xyz);\nvec3 H = normalize(L + V);\nfloat NH = max(dot(N, H), 0.0);\nfloat NL = max(dot(N, L), 0.001);\nvec3 finalColor = NL * cc_mainLitColor.rgb * cc_mainLitColor.w;\nvec3 diffuseContrib = diffuse;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nif (s.lightmap_test > 0.0001) {\nfinalColor = s.lightmap.rgb;\n}\n#else\ndiffuseContrib /= 3.14159265359;\n#endif\nvec3 specularContrib = specular * CalcSpecular(s.roughness, NH, H, N);\nfinalColor *= (diffuseContrib + specularContrib);\nfloat fAmb = 0.5 - N.y * 0.5;\nvec3 ambDiff = mix(cc_ambientSky.rgb, cc_ambientGround.rgb, fAmb) * cc_ambientSky.w;\nfinalColor += (ambDiff.rgb * diffuse);\n#if CC_USE_IBL\nvec3 R = normalize(reflect(-V, N));\nvec4 envmap = fragTextureLod(cc_environment, R, s.roughness * cc_ambientGround.w);\n#if CC_USE_IBL == 2\nvec3 env = unpackRGBE(envmap);\n#else\nvec3 env = SRGBToLinear(envmap.rgb);\n#endif\nfinalColor += env * cc_ambientSky.w * specular;\n#endif\nfinalColor = finalColor * s.occlusion;\n#if CC_USE_HDR\ns.emissive *= cc_exposure.w;\n#endif\nfinalColor += s.emissive;\n#if CC_RECEIVE_SHADOW\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, L.xyz), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetShadowFactorX25(pos);\nelse if (pcf > 2.0) shadowAttenuation = CCGetShadowFactorX9(pos);\nelse if (pcf > 1.0) shadowAttenuation = CCGetShadowFactorX5(pos);\nelse shadowAttenuation = CCGetShadowFactorX1(pos);\nvec3 shadowColor = cc_shadowColor.rgb * cc_shadowColor.a + finalColor.rgb * (1.0 - cc_shadowColor.a);\nif (cc_shadowNFLSInfo.w > 0.000001) {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation + finalColor.rgb * (1.0 - shadowAttenuation);\n} else {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation * NL + finalColor.rgb * (1.0 - shadowAttenuation * NL);\n}\n}\n#endif\nreturn vec4(finalColor, s.albedo.a);\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nin float v_fog_factor;\nin highp vec4 v_shadowPos;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nin vec3 v_luv;\nuniform sampler2D cc_lightingMap;\nvec3 UnpackLightingmap(vec4 color) {\nvec3 c;\nfloat e = 1.0 + color.a * (8.0 - 1.0);\nc.r = color.r * e;\nc.g = color.g * e;\nc.b = color.b * e;\nreturn c;\n}\n#endif\nin highp vec3 v_position;\nin mediump vec3 v_normal;\n#if USE_NORMALMAP\nin mediump vec3 v_tangent;\nin mediump vec3 v_binormal;\n#endif\nin mediump vec2 uvw;\nin mediump vec2 uv0;\nin mediump vec2 uv1;\nin mediump vec2 uv2;\nin mediump vec2 uv3;\nin mediump vec3 diffuse;\nin mediump vec3 luv;\nlayout(std140) uniform PbrParams {\nvec4 metallic;\nvec4 roughness;\n};\nuniform sampler2D weightMap;\nuniform sampler2D detailMap0;\nuniform sampler2D detailMap1;\nuniform sampler2D detailMap2;\nuniform sampler2D detailMap3;\nuniform sampler2D normalMap0;\nuniform sampler2D normalMap1;\nuniform sampler2D normalMap2;\nuniform sampler2D normalMap3;\nuniform sampler2D lightMap;\nvoid surf (out StandardSurface s) {\n#if LAYERS > 1\nvec4 w = texture(weightMap, uvw);\n#endif\nvec4 baseColor = vec4(0, 0, 0, 0);\n#if LAYERS == 1\nbaseColor = texture(detailMap0, uv0);\n#elif LAYERS == 2\nbaseColor += texture(detailMap0, uv0) * w.r;\nbaseColor += texture(detailMap1, uv1) * w.g;\n#elif LAYERS == 3\nbaseColor += texture(detailMap0, uv0) * w.r;\nbaseColor += texture(detailMap1, uv1) * w.g;\nbaseColor += texture(detailMap2, uv2) * w.b;\n#elif LAYERS == 4\nbaseColor += texture(detailMap0, uv0) * w.r;\nbaseColor += texture(detailMap1, uv1) * w.g;\nbaseColor += texture(detailMap2, uv2) * w.b;\nbaseColor += texture(detailMap3, uv3) * w.a;\n#else\nbaseColor = texture(detailMap0, uv0);\n#endif\ns.position = v_position;\n#if USE_NORMALMAP\nvec4 baseNormal = vec4(0, 0, 0, 0);\n#if LAYERS == 1\nbaseNormal = texture(normalMap0, uv0);\n#elif LAYERS == 2\nbaseNormal += texture(normalMap0, uv0) * w.r;\nbaseNormal += texture(normalMap1, uv1) * w.g;\n#elif LAYERS == 3\nbaseNormal += texture(normalMap0, uv0) * w.r;\nbaseNormal += texture(normalMap1, uv1) * w.g;\nbaseNormal += texture(normalMap2, uv2) * w.b;\n#elif LAYERS == 4\nbaseNormal += texture(normalMap0, uv0) * w.r;\nbaseNormal += texture(normalMap1, uv1) * w.g;\nbaseNormal += texture(normalMap2, uv2) * w.b;\nbaseNormal += texture(normalMap3, uv3) * w.a;\n#else\nbaseNormal = texture(normalMap0, uv0);\n#endif\nvec3 nmmp = baseNormal.xyz - vec3(0.5);\ns.normal =\nnmmp.x * normalize(v_tangent) +\nnmmp.y * normalize(v_binormal) +\nnmmp.z * normalize(v_normal);\n#else\ns.normal = v_normal;\n#endif\ns.albedo = vec4(SRGBToLinear(baseColor.rgb), 1.0);\ns.occlusion = 1.0;\n#if USE_PBR\ns.roughness = 0.0;\n#if LAYERS == 1\ns.roughness = roughness.x;\n#elif LAYERS == 2\ns.roughness += roughness.x * w.r;\ns.roughness += roughness.y * w.g;\n#elif LAYERS == 3\ns.roughness += roughness.x * w.r;\ns.roughness += roughness.y * w.g;\ns.roughness += roughness.z * w.b;\n#elif LAYERS == 4\ns.roughness += roughness.x * w.r;\ns.roughness += roughness.y * w.g;\ns.roughness += roughness.z * w.b;\ns.roughness += roughness.w * w.a;\n#else\ns.roughness = 1.0;\n#endif\ns.metallic = 0.0;\n#if LAYERS == 1\ns.metallic = metallic.x;\n#elif LAYERS == 2\ns.metallic += metallic.x * w.r;\ns.metallic += metallic.y * w.g;\n#elif LAYERS == 3\ns.metallic += metallic.x * w.r;\ns.metallic += metallic.y * w.g;\ns.metallic += metallic.z * w.b;\n#elif LAYERS == 4\ns.metallic += metallic.x * w.r;\ns.metallic += metallic.y * w.g;\ns.metallic += metallic.z * w.b;\ns.metallic += metallic.w * w.a;\n#else\ns.metallic = 0.0;\n#endif\n#else\ns.roughness = 1.0;\ns.metallic = 0.0;\n#endif\ns.emissive = vec3(0.0, 0.0, 0.0);\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nvec4 lightColor = texture(lightMap, luv.xy);\ns.lightmap = UnpackLightingmap(lightColor);\ns.lightmap_test = luv.z;\n#endif\n}\n#if CC_FORWARD_ADD\n#if CC_PIPELINE_TYPE == 0\n# define LIGHTS_PER_PASS 1\n#else\n# define LIGHTS_PER_PASS 10\n#endif\nlayout(std140) uniform CCForwardLight {\nhighp vec4 cc_lightPos[LIGHTS_PER_PASS];\nvec4 cc_lightColor[LIGHTS_PER_PASS];\nvec4 cc_lightSizeRangeAngle[LIGHTS_PER_PASS];\nvec4 cc_lightDir[LIGHTS_PER_PASS];\n};\nfloat SmoothDistAtt (float distSqr, float invSqrAttRadius) {\nfloat factor = distSqr * invSqrAttRadius;\nfloat smoothFactor = clamp(1.0 - factor * factor, 0.0, 1.0);\nreturn smoothFactor * smoothFactor;\n}\nfloat GetDistAtt (float distSqr, float invSqrAttRadius) {\nfloat attenuation = 1.0 / max(distSqr, 0.01*0.01);\nattenuation *= SmoothDistAtt(distSqr , invSqrAttRadius);\nreturn attenuation;\n}\nfloat GetAngleAtt (vec3 L, vec3 litDir, float litAngleScale, float litAngleOffset) {\nfloat cd = dot(litDir, L);\nfloat attenuation = clamp(cd * litAngleScale + litAngleOffset, 0.0, 1.0);\nreturn (attenuation * attenuation);\n}\nvec4 CCStandardShadingAdditive (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 diffuseContrib = diffuse / 3.14159265359;\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 finalColor = vec3(0.0);\nint numLights = CC_PIPELINE_TYPE == 0 ? LIGHTS_PER_PASS : int(cc_lightDir[0].w);\nfor (int i = 0; i < LIGHTS_PER_PASS; i++) {\nif (i >= numLights) break;\nvec3 SLU = cc_lightPos[i].xyz - s.position;\nvec3 SL = normalize(SLU);\nvec3 SH = normalize(SL + V);\nfloat SNL = max(dot(N, SL), 0.001);\nfloat SNH = max(dot(N, SH), 0.0);\nfloat distSqr = dot(SLU, SLU);\nfloat litRadius = cc_lightSizeRangeAngle[i].x;\nfloat litRadiusSqr = litRadius * litRadius;\nfloat illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\nfloat attRadiusSqrInv = 1.0 / max(cc_lightSizeRangeAngle[i].y, 0.01);\nattRadiusSqrInv *= attRadiusSqrInv;\nfloat att = GetDistAtt(distSqr, attRadiusSqrInv);\nvec3 lspec = specular * CalcSpecular(s.roughness, SNH, SH, N);\nif (cc_lightPos[i].w > 0.0) {\nfloat cosInner = max(dot(-cc_lightDir[i].xyz, SL), 0.01);\nfloat cosOuter = cc_lightSizeRangeAngle[i].z;\nfloat litAngleScale = 1.0 / max(0.001, cosInner - cosOuter);\nfloat litAngleOffset = -cosOuter * litAngleScale;\natt *= GetAngleAtt(SL, -cc_lightDir[i].xyz, litAngleScale, litAngleOffset);\n}\nvec3 lightColor = cc_lightColor[i].rgb;\n#if CC_RECEIVE_SHADOW\nif (cc_lightPos[i].w > 0.0) {\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, normalize(cc_lightPos[i].xyz - s.position.xyz)), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetDirLightShadowFactorX25(pos, s.position);\nelse if (pcf > 2.0) shadowAttenuation = CCGetDirLightShadowFactorX9(pos, s.position);\nelse if (pcf > 1.0) shadowAttenuation = CCGetDirLightShadowFactorX5(pos, s.position);\nelse shadowAttenuation = CCGetDirLightShadowFactorX1(pos, s.position);\nlightColor *= 1.0 - shadowAttenuation;\n}\n}\n#endif\nfinalColor += SNL * lightColor * cc_lightColor[i].w * illum * att * (diffuseContrib + lspec);\n}\nfinalColor = finalColor * s.occlusion;\nreturn vec4(finalColor, 0.0);\n}\nlayout(location = 0) out vec4 fragColorX;\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingAdditive(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\nfragColorX = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 0\nlayout(location = 0) out vec4 fragColorX;\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingBase(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\nfragColorX = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 1\nlayout(location = 0) out vec4 fragColor0;\nlayout(location = 1) out vec4 fragColor1;\nlayout(location = 2) out vec4 fragColor2;\nlayout(location = 3) out vec4 fragColor3;\nvoid main () {\nStandardSurface s; surf(s);\nfragColor0 = s.albedo;\nfragColor1 = vec4(s.position, s.roughness);\nfragColor2 = vec4(s.normal, s.metallic);\nfragColor3 = vec4(s.emissive, s.occlusion);\n}\n#endif"},{vert:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nlayout(std140) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\nin vec3 a_position;\nin vec3 a_normal;\nin vec2 a_texCoord;\nout vec2 v_clip_depth;\nvec4 vert () {\nvec4 worldPos;\nworldPos.x = cc_matWorld[3][0] + a_position.x;\nworldPos.y = cc_matWorld[3][1] + a_position.y;\nworldPos.z = cc_matWorld[3][2] + a_position.z;\nworldPos.w = 1.0;\nvec4 clipPos = cc_matLightViewProj * worldPos;\nv_clip_depth = clipPos.zw;\nreturn clipPos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nvec4 packDepthToRGBA (float depth) {\nvec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\nret = fract(ret);\nret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\nreturn ret;\n}\nin vec2 v_clip_depth;\nvec4 frag () {\nreturn packDepthToRGBA(v_clip_depth.x / v_clip_depth.y * 0.5 + 0.5);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nin vec3 a_position;\nin vec3 a_normal;\nin vec2 a_texCoord;\nin vec4 a_tangent;\n#if CC_USE_MORPH\nin float a_vertexId;\nint getVertexId() {\nreturn int(a_vertexId);\n}\nlayout(std140) uniform CCMorph {\nvec4 cc_displacementWeights[15];\nvec4 cc_displacementTextureInfo;\n};\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\nivec2 texSize = textureSize(tex, 0);\nreturn texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture(tex, x)),\ndecode32(texture(tex, y)),\ndecode32(texture(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nuniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nuniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nuniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nin vec4 a_joints;\nin vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nin highp vec4 a_jointAnimInfo;\n#endif\nlayout(std140) uniform CCSkinningTexture {\nhighp vec4 cc_jointTextureInfo;\n};\nlayout(std140) uniform CCSkinningAnimation {\nhighp vec4 cc_jointAnimInfo;\n};\nuniform highp sampler2D cc_jointTexture;\n#else\nlayout(std140) uniform CCSkinning {\nhighp vec4 cc_joints[30 * 3];\n};\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\n#if USE_INSTANCING\nin vec4 a_matWorld0;\nin vec4 a_matWorld1;\nin vec4 a_matWorld2;\n#if USE_LIGHTMAP\nin vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nin float a_dyn_batch_id;\nlayout(std140) uniform CCLocalBatched {\nhighp mat4 cc_matWorlds[10];\n};\n#else\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nout float v_fog_factor;\n#if USE_VERTEX_COLOR\nin lowp vec4 a_color;\nout lowp vec4 v_color;\n#endif\n#if USE_TEXTURE\nout vec2 v_uv;\nlayout(std140) uniform TexCoords {\nvec4 tilingOffset;\n};\n#endif\nvec4 vert () {\nvec4 position;\nposition = vec4(a_position, 1.0);\n#if CC_USE_MORPH\napplyMorph(position);\n#endif\n#if CC_USE_SKINNING\nCCSkin(position);\n#endif\nmat4 matWorld;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\n#else\nmatWorld = cc_matWorld;\n#endif\n#if USE_TEXTURE\nv_uv = a_texCoord * tilingOffset.xy + tilingOffset.zw;\n#if SAMPLE_FROM_RT\nv_uv = cc_cameraPos.w > 1.0 ? vec2(v_uv.x, 1.0 - v_uv.y) : v_uv;\n#endif\n#endif\n#if USE_VERTEX_COLOR\nv_color = a_color;\n#endif\n#if CC_USE_FOG == 0\nv_fog_factor = LinearFog(matWorld * position);\n#elif CC_USE_FOG == 1\nv_fog_factor = ExpFog(matWorld * position);\n#elif CC_USE_FOG == 2\nv_fog_factor = ExpSquaredFog(matWorld * position);\n#elif CC_USE_FOG == 3\nv_fog_factor = LayeredFog(matWorld * position);\n#else\nv_fog_factor = 1.0;\n#endif\nreturn cc_matProj * (cc_matView * matWorld) * position;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nin float v_fog_factor;\n#if USE_ALPHA_TEST\n#endif\n#if USE_TEXTURE\nin vec2 v_uv;\nuniform sampler2D mainTexture;\n#endif\nlayout(std140) uniform Constant {\nvec4 mainColor;\nvec4 colorScaleAndCutoff;\n};\n#if USE_VERTEX_COLOR\nin lowp vec4 v_color;\n#endif\nvec4 frag () {\nvec4 o = mainColor;\no.rgb *= colorScaleAndCutoff.xyz;\n#if USE_VERTEX_COLOR\no *= v_color;\n#endif\n#if USE_TEXTURE\no *= texture(mainTexture, v_uv);\n#endif\n#if USE_ALPHA_TEST\nif (o.ALPHA_TEST_CHANNEL < colorScaleAndCutoff.w) discard;\n#endif\no = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, o.rgb, v_fog_factor), o.a);\nreturn CCFragOutput(o);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nin vec3 a_position;\nin vec3 a_normal;\nin vec2 a_texCoord;\nin vec4 a_tangent;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nout vec2 v_uv;\nvoid main () {\nvec4 position;\nposition = vec4(a_position, 1.0);\nposition.xy = cc_cameraPos.w == 0.0 ? vec2(position.xy.x, -position.xy.y) : position.xy;\ngl_Position = vec4(position.x, position.y, 1.0, 1.0);\nv_uv = a_texCoord;\n}",frag:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nlayout(std140) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if CC_RECEIVE_SHADOW\nuniform sampler2D cc_shadowMap;\nuniform sampler2D cc_spotLightingMap;\nfloat CCGetLinearDepth (vec3 worldPos) {\nvec4 viewStartPos = cc_matLightView * vec4(worldPos.xyz, 1.0);\nfloat dist = length(viewStartPos.xyz);\nreturn cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\n}\nfloat CCGetShadowFactorX1 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_shadowMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_shadowMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, clipPos.z- cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetShadowFactorX5 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetShadowFactorX9 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetShadowFactorX25 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\nfloat CCGetDirLightShadowFactorX1 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nfloat depth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_spotLightingMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_spotLightingMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, depth - cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetDirLightShadowFactorX5 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetDirLightShadowFactorX9 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetDirLightShadowFactorX25 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat depth = 0.0;\nfloat shadow = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\n#endif\n#if CC_USE_IBL\nuniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec4 fragTextureLod (sampler2D tex, vec2 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\nvec4 fragTextureLod (samplerCube tex, vec3 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\n#endif\nfloat GGXMobile (float roughness, float NoH, vec3 H, vec3 N) {\nvec3 NxH = cross(N, H);\nfloat OneMinusNoHSqr = dot(NxH, NxH);\nfloat a = roughness * roughness;\nfloat n = NoH * a;\nfloat p = a / (OneMinusNoHSqr + n * n);\nreturn p * p;\n}\nfloat CalcSpecular (float roughness, float NoH, vec3 H, vec3 N) {\nreturn (roughness * 0.25 + 0.25) * GGXMobile(roughness, NoH, H, N);\n}\nvec3 BRDFApprox (vec3 specular, float roughness, float NoV) {\nconst vec4 c0 = vec4(-1.0, -0.0275, -0.572, 0.022);\nconst vec4 c1 = vec4(1.0, 0.0425, 1.04, -0.04);\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NoV)) * r.x + r.y;\nvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\nAB.y *= clamp(50.0 * specular.g, 0.0, 1.0);\nreturn specular * AB.x + AB.y;\n}\nstruct StandardSurface {\nvec4 albedo;\nvec3 position;\nvec3 normal;\nvec3 emissive;\nvec3 lightmap;\nfloat lightmap_test;\nfloat roughness;\nfloat metallic;\nfloat occlusion;\n};\nvec4 CCStandardShadingBase (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 L = normalize(-cc_mainLitDir.xyz);\nvec3 H = normalize(L + V);\nfloat NH = max(dot(N, H), 0.0);\nfloat NL = max(dot(N, L), 0.001);\nvec3 finalColor = NL * cc_mainLitColor.rgb * cc_mainLitColor.w;\nvec3 diffuseContrib = diffuse;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nif (s.lightmap_test > 0.0001) {\nfinalColor = s.lightmap.rgb;\n}\n#else\ndiffuseContrib /= 3.14159265359;\n#endif\nvec3 specularContrib = specular * CalcSpecular(s.roughness, NH, H, N);\nfinalColor *= (diffuseContrib + specularContrib);\nfloat fAmb = 0.5 - N.y * 0.5;\nvec3 ambDiff = mix(cc_ambientSky.rgb, cc_ambientGround.rgb, fAmb) * cc_ambientSky.w;\nfinalColor += (ambDiff.rgb * diffuse);\n#if CC_USE_IBL\nvec3 R = normalize(reflect(-V, N));\nvec4 envmap = fragTextureLod(cc_environment, R, s.roughness * cc_ambientGround.w);\n#if CC_USE_IBL == 2\nvec3 env = unpackRGBE(envmap);\n#else\nvec3 env = SRGBToLinear(envmap.rgb);\n#endif\nfinalColor += env * cc_ambientSky.w * specular;\n#endif\nfinalColor = finalColor * s.occlusion;\n#if CC_USE_HDR\ns.emissive *= cc_exposure.w;\n#endif\nfinalColor += s.emissive;\n#if CC_RECEIVE_SHADOW\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, L.xyz), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetShadowFactorX25(pos);\nelse if (pcf > 2.0) shadowAttenuation = CCGetShadowFactorX9(pos);\nelse if (pcf > 1.0) shadowAttenuation = CCGetShadowFactorX5(pos);\nelse shadowAttenuation = CCGetShadowFactorX1(pos);\nvec3 shadowColor = cc_shadowColor.rgb * cc_shadowColor.a + finalColor.rgb * (1.0 - cc_shadowColor.a);\nif (cc_shadowNFLSInfo.w > 0.000001) {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation + finalColor.rgb * (1.0 - shadowAttenuation);\n} else {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation * NL + finalColor.rgb * (1.0 - shadowAttenuation * NL);\n}\n}\n#endif\nreturn vec4(finalColor, s.albedo.a);\n}\n#if CC_PIPELINE_TYPE == 0\n# define LIGHTS_PER_PASS 1\n#else\n# define LIGHTS_PER_PASS 10\n#endif\nlayout(std140) uniform CCForwardLight {\nhighp vec4 cc_lightPos[LIGHTS_PER_PASS];\nvec4 cc_lightColor[LIGHTS_PER_PASS];\nvec4 cc_lightSizeRangeAngle[LIGHTS_PER_PASS];\nvec4 cc_lightDir[LIGHTS_PER_PASS];\n};\nfloat SmoothDistAtt (float distSqr, float invSqrAttRadius) {\nfloat factor = distSqr * invSqrAttRadius;\nfloat smoothFactor = clamp(1.0 - factor * factor, 0.0, 1.0);\nreturn smoothFactor * smoothFactor;\n}\nfloat GetDistAtt (float distSqr, float invSqrAttRadius) {\nfloat attenuation = 1.0 / max(distSqr, 0.01*0.01);\nattenuation *= SmoothDistAtt(distSqr , invSqrAttRadius);\nreturn attenuation;\n}\nfloat GetAngleAtt (vec3 L, vec3 litDir, float litAngleScale, float litAngleOffset) {\nfloat cd = dot(litDir, L);\nfloat attenuation = clamp(cd * litAngleScale + litAngleOffset, 0.0, 1.0);\nreturn (attenuation * attenuation);\n}\nvec4 CCStandardShadingAdditive (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 diffuseContrib = diffuse / 3.14159265359;\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 finalColor = vec3(0.0);\nint numLights = CC_PIPELINE_TYPE == 0 ? LIGHTS_PER_PASS : int(cc_lightDir[0].w);\nfor (int i = 0; i < LIGHTS_PER_PASS; i++) {\nif (i >= numLights) break;\nvec3 SLU = cc_lightPos[i].xyz - s.position;\nvec3 SL = normalize(SLU);\nvec3 SH = normalize(SL + V);\nfloat SNL = max(dot(N, SL), 0.001);\nfloat SNH = max(dot(N, SH), 0.0);\nfloat distSqr = dot(SLU, SLU);\nfloat litRadius = cc_lightSizeRangeAngle[i].x;\nfloat litRadiusSqr = litRadius * litRadius;\nfloat illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\nfloat attRadiusSqrInv = 1.0 / max(cc_lightSizeRangeAngle[i].y, 0.01);\nattRadiusSqrInv *= attRadiusSqrInv;\nfloat att = GetDistAtt(distSqr, attRadiusSqrInv);\nvec3 lspec = specular * CalcSpecular(s.roughness, SNH, SH, N);\nif (cc_lightPos[i].w > 0.0) {\nfloat cosInner = max(dot(-cc_lightDir[i].xyz, SL), 0.01);\nfloat cosOuter = cc_lightSizeRangeAngle[i].z;\nfloat litAngleScale = 1.0 / max(0.001, cosInner - cosOuter);\nfloat litAngleOffset = -cosOuter * litAngleScale;\natt *= GetAngleAtt(SL, -cc_lightDir[i].xyz, litAngleScale, litAngleOffset);\n}\nvec3 lightColor = cc_lightColor[i].rgb;\n#if CC_RECEIVE_SHADOW\nif (cc_lightPos[i].w > 0.0) {\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, normalize(cc_lightPos[i].xyz - s.position.xyz)), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetDirLightShadowFactorX25(pos, s.position);\nelse if (pcf > 2.0) shadowAttenuation = CCGetDirLightShadowFactorX9(pos, s.position);\nelse if (pcf > 1.0) shadowAttenuation = CCGetDirLightShadowFactorX5(pos, s.position);\nelse shadowAttenuation = CCGetDirLightShadowFactorX1(pos, s.position);\nlightColor *= 1.0 - shadowAttenuation;\n}\n}\n#endif\nfinalColor += SNL * lightColor * cc_lightColor[i].w * illum * att * (diffuseContrib + lspec);\n}\nfinalColor = finalColor * s.occlusion;\nreturn vec4(finalColor, 0.0);\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nin vec2 v_uv;\nuniform sampler2D cc_gbuffer_albedoMap;\nuniform sampler2D cc_gbuffer_positionMap;\nuniform sampler2D cc_gbuffer_normalMap;\nuniform sampler2D cc_gbuffer_emissiveMap;\nlayout(location = 0) out vec4 fragColor;\nvoid main () {\nStandardSurface s;\nvec4 albedoMap = texture(cc_gbuffer_albedoMap,v_uv);\nvec4 positionMap = texture(cc_gbuffer_positionMap,v_uv);\nvec4 normalMap = texture(cc_gbuffer_normalMap,v_uv);\nvec4 emissiveMap = texture(cc_gbuffer_emissiveMap,v_uv);\ns.albedo = albedoMap;\ns.position = positionMap.xyz;\ns.roughness = positionMap.w;\ns.normal = normalMap.xyz;\ns.metallic = normalMap.w;\ns.emissive = emissiveMap.xyz;\ns.occlusion = emissiveMap.w;\nfloat fogFactor;\n#if CC_USE_FOG == 0\nfogFactor = LinearFog(vec4(s.position, 1));\n#elif CC_USE_FOG == 1\nfogFactor = ExpFog(vec4(s.position, 1));\n#elif CC_USE_FOG == 2\nfogFactor = ExpSquaredFog(vec4(s.position, 1));\n#elif CC_USE_FOG == 3\nfogFactor = LayeredFog(vec4(s.position, 1));\n#else\nfogFactor = 1.0;\n#endif\nvec4 shadowPos;\nshadowPos = cc_matLightViewProj * vec4(s.position, 1);\nvec4 color = CCStandardShadingBase(s, shadowPos) +\nCCStandardShadingAdditive(s, shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, fogFactor), color.a);\nfragColor = CCFragOutput(color);\n}"}],[{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nin vec3 a_position;\nin vec3 a_normal;\nin vec2 a_texCoord;\nin vec4 a_tangent;\n#if CC_USE_MORPH\nin float a_vertexId;\nint getVertexId() {\nreturn int(a_vertexId);\n}\nlayout(std140) uniform CCMorph {\nvec4 cc_displacementWeights[15];\nvec4 cc_displacementTextureInfo;\n};\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\nivec2 texSize = textureSize(tex, 0);\nreturn texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture(tex, x)),\ndecode32(texture(tex, y)),\ndecode32(texture(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nuniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nuniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nuniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nin vec4 a_joints;\nin vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nin highp vec4 a_jointAnimInfo;\n#endif\nlayout(std140) uniform CCSkinningTexture {\nhighp vec4 cc_jointTextureInfo;\n};\nlayout(std140) uniform CCSkinningAnimation {\nhighp vec4 cc_jointAnimInfo;\n};\nuniform highp sampler2D cc_jointTexture;\n#else\nlayout(std140) uniform CCSkinning {\nhighp vec4 cc_joints[30 * 3];\n};\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\n#if USE_INSTANCING\nin vec4 a_matWorld0;\nin vec4 a_matWorld1;\nin vec4 a_matWorld2;\n#if USE_LIGHTMAP\nin vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nin float a_dyn_batch_id;\nlayout(std140) uniform CCLocalBatched {\nhighp mat4 cc_matWorlds[10];\n};\n#else\nlayout(std140) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\nlayout(std140) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\nvec4 vert () {\nvec4 position;\nposition = vec4(a_position, 1.0);\n#if CC_USE_MORPH\napplyMorph(position);\n#endif\n#if CC_USE_SKINNING\nCCSkin(position);\n#endif\nmat4 matWorld;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\n#else\nmatWorld = cc_matWorld;\n#endif\nposition = cc_matProj * (cc_matView * cc_matLightPlaneProj * matWorld) * position;\nposition.z -= 0.0001;\nreturn position;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nlayout(std140) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nvec4 frag () {\nreturn CCFragOutput(cc_shadowColor);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nin vec3 a_position;\nin vec3 a_normal;\nin vec2 a_texCoord;\nin vec4 a_tangent;\n#if CC_USE_MORPH\nin float a_vertexId;\nint getVertexId() {\nreturn int(a_vertexId);\n}\nlayout(std140) uniform CCMorph {\nvec4 cc_displacementWeights[15];\nvec4 cc_displacementTextureInfo;\n};\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\nivec2 texSize = textureSize(tex, 0);\nreturn texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture(tex, x)),\ndecode32(texture(tex, y)),\ndecode32(texture(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nuniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nuniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nuniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nin vec4 a_joints;\nin vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nin highp vec4 a_jointAnimInfo;\n#endif\nlayout(std140) uniform CCSkinningTexture {\nhighp vec4 cc_jointTextureInfo;\n};\nlayout(std140) uniform CCSkinningAnimation {\nhighp vec4 cc_jointAnimInfo;\n};\nuniform highp sampler2D cc_jointTexture;\n#else\nlayout(std140) uniform CCSkinning {\nhighp vec4 cc_joints[30 * 3];\n};\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nout vec2 v_uv;\nvoid main () {\nStandardVertInput In;\nIn.position = vec4(a_position, 1.0);\nIn.normal = a_normal;\nIn.tangent = a_tangent;\n#if CC_USE_MORPH\napplyMorph(In);\n#endif\n#if CC_USE_SKINNING\nCCSkin(In);\n#endif\nIn.position.xy = cc_cameraPos.w == 0.0 ? vec2(In.position.xy.x, -In.position.xy.y) : In.position.xy;\ngl_Position = In.position;\ngl_Position.y = gl_Position.y;\nv_uv = a_texCoord;\n}",frag:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nin vec2 v_uv;\nuniform sampler2D cc_lighting_resultMap;\nlayout(location = 0) out vec4 fragColor;\nvoid texcoords(vec2 fragCoord, vec2 resolution,\nout vec2 v_rgbNW, out vec2 v_rgbNE,\nout vec2 v_rgbSW, out vec2 v_rgbSE,\nout vec2 v_rgbM) {\nvec2 inverseVP = 1.0 / resolution.xy;\nv_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\nv_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\nv_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\nv_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\nv_rgbM = vec2(fragCoord * inverseVP);\n}\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\nvec2 v_rgbNW, vec2 v_rgbNE,\nvec2 v_rgbSW, vec2 v_rgbSE,\nvec2 v_rgbM) {\nvec4 color;\nmediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\nvec3 rgbNW = texture(tex, v_rgbNW).xyz;\nvec3 rgbNE = texture(tex, v_rgbNE).xyz;\nvec3 rgbSW = texture(tex, v_rgbSW).xyz;\nvec3 rgbSE = texture(tex, v_rgbSE).xyz;\nvec4 texColor = texture(tex, v_rgbM);\nvec3 rgbM  = texColor.xyz;\nvec3 luma = vec3(0.299, 0.587, 0.114);\nfloat lumaNW = dot(rgbNW, luma);\nfloat lumaNE = dot(rgbNE, luma);\nfloat lumaSW = dot(rgbSW, luma);\nfloat lumaSE = dot(rgbSE, luma);\nfloat lumaM  = dot(rgbM,  luma);\nfloat lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\nfloat lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\nmediump vec2 dir;\ndir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\ndir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\nfloat dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n(0.25 * (1.0 / 8.0)), (1.0/ 128.0));\nfloat rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\ndir = min(vec2(8.0, 8.0),\nmax(vec2(-8.0, -8.0),\ndir * rcpDirMin)) * inverseVP;\nvec3 rgbA = 0.5 * (\ntexture(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\ntexture(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\nvec3 rgbB = rgbA * 0.5 + 0.25 * (\ntexture(tex, fragCoord * inverseVP + dir * -0.5).xyz +\ntexture(tex, fragCoord * inverseVP + dir * 0.5).xyz);\nfloat lumaB = dot(rgbB, luma);\nif ((lumaB < lumaMin) || (lumaB > lumaMax))\ncolor = vec4(rgbA, texColor.a);\nelse\ncolor = vec4(rgbB, texColor.a);\nreturn color;\n}\nvoid main () {\nmediump vec2 v_rgbNW;\nmediump vec2 v_rgbNE;\nmediump vec2 v_rgbSW;\nmediump vec2 v_rgbSE;\nmediump vec2 v_rgbM;\nvec2 resolution = cc_screenSize.xy;\nvec2 fragCoord = v_uv * resolution;\ntexcoords(fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\nfragColor = fxaa(cc_lighting_resultMap, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}"}],[{vert:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nin vec3 a_position;\nin vec3 a_normal;\nin vec2 a_texCoord;\nin vec4 a_tangent;\nout mediump vec4 viewDir;\nvec4 vert () {\nviewDir = vec4(a_position, 1.0);\nmat4 matViewRotOnly = mat4(mat3(cc_matView));\nmat4 matProj = cc_matProj;\nif (matProj[3].w > 0.0) {\nvec2 scale = vec2(48.0, 24.0);\nmatProj[0].xy *= scale;\nmatProj[1].xy *= scale;\nmatProj[2].zw = vec2(-1.0);\nmatProj[3].zw = vec2(0.0);\n}\nvec4 pos = matProj * matViewRotOnly * viewDir;\npos.z = 0.99999 * pos.w;\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nuniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nin mediump vec4 viewDir;\nvec4 frag () {\n#if USE_RGBE_CUBEMAP\nvec3 c = unpackRGBE(texture(cc_environment, viewDir.xyz));\n#else\nvec3 c = SRGBToLinear(texture(cc_environment, viewDir.xyz).rgb);\n#endif\nreturn CCFragOutput(vec4(c * cc_ambientSky.w, 1.0));\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec2 v_uv;\nlayout(std140) uniform Constants {\nvec4 offset;\n};\nlayout(std140) uniform PerFrameInfo {\nvec4 digits[8 * 10 / 4];\n};\nfloat getComponent(vec4 v, float i) {\nif (i < 1.0) { return v.x; }\nelse if (i < 2.0) { return v.y; }\nelse if (i < 3.0) { return v.z; }\nelse { return v.w; }\n}\nvec4 vert () {\nvec4 position = cc_matViewProj * vec4(a_position, 1.0);\nposition.xy += offset.xy;\nv_uv = a_color.xy;\nif (a_color.z >= 0.0) {\nfloat n = getComponent(digits[int(a_color.z)], a_color.w);\nv_uv += vec2(offset.z * n, 0.0);\n}\nreturn position;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nlayout(std140) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nin vec2 v_uv;\nuniform sampler2D mainTexture;\nvec4 frag () {\nreturn CCFragOutput(texture(mainTexture, v_uv));\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nin vec2 a_position;\nin vec2 a_texCoord;\nout vec2 v_uv;\nout float v_percent;\nlayout(std140) uniform Constant {\nvec4 u_buffer0;\nvec4 u_buffer1;\nmat4 u_projection;\n};\nvec4 vert () {\nvec2 worldPos = a_position * u_buffer1.xy + u_buffer1.zw;\nvec2 clipSpace = worldPos / u_buffer0.xy * 2.0 - 1.0;\nvec4 screenPos = u_projection * vec4(clipSpace, 0.0, 1.0);\nv_uv = a_texCoord;\nv_percent = u_buffer0.z;\nreturn screenPos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nin vec2 v_uv;\nin float v_percent;\nuniform sampler2D mainTexture;\nvec4 frag () {\nvec4 color = texture(mainTexture, v_uv);\nfloat precent = clamp(v_percent, 0.0, 1.0);\ncolor.xyz *= precent;\nreturn color;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}]],glsl4:[[{vert:"\nprecision mediump float;\nlayout(set = 1, binding = 0) uniform Constants {\nvec4 mainTiling_Offset;\nvec4 frameTile_velLenScale;\nvec4 scale;\n};\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nvec4 quaternionFromAxis (vec3 xAxis,vec3 yAxis,vec3 zAxis){\nmat3 m = mat3(xAxis,yAxis,zAxis);\nfloat trace = m[0][0] + m[1][1] + m[2][2];\nvec4 quat;\nif (trace > 0.) {\nfloat s = 0.5 / sqrt(trace + 1.0);\nquat.w = 0.25 / s;\nquat.x = (m[2][1] - m[1][2]) * s;\nquat.y = (m[0][2] - m[2][0]) * s;\nquat.z = (m[1][0] - m[0][1]) * s;\n} else if ((m[0][0] > m[1][1]) && (m[0][0] > m[2][2])) {\nfloat s = 2.0 * sqrt(1.0 + m[0][0] - m[1][1] - m[2][2]);\nquat.w = (m[2][1] - m[1][2]) / s;\nquat.x = 0.25 * s;\nquat.y = (m[0][1] + m[1][0]) / s;\nquat.z = (m[0][2] + m[2][0]) / s;\n} else if (m[1][1] > m[2][2]) {\nfloat s = 2.0 * sqrt(1.0 + m[1][1] - m[0][0] - m[2][2]);\nquat.w = (m[0][2] - m[2][0]) / s;\nquat.x = (m[0][1] + m[1][0]) / s;\nquat.y = 0.25 * s;\nquat.z = (m[1][2] + m[2][1]) / s;\n} else {\nfloat s = 2.0 * sqrt(1.0 + m[2][2] - m[0][0] - m[1][1]);\nquat.w = (m[1][0] - m[0][1]) / s;\nquat.x = (m[0][2] + m[2][0]) / s;\nquat.y = (m[1][2] + m[2][1]) / s;\nquat.z = 0.25 * s;\n}\nfloat len = quat.x * quat.x + quat.y * quat.y + quat.z * quat.z + quat.w * quat.w;\nif (len > 0.) {\nlen = 1. / sqrt(len);\nquat.x = quat.x * len;\nquat.y = quat.y * len;\nquat.z = quat.z * len;\nquat.w = quat.w * len;\n}\nreturn quat;\n}\nvec4 quaternionFromEuler (vec3 angle){\nfloat x = angle.x / 2.;\nfloat y = angle.y / 2.;\nfloat z = angle.z / 2.;\nfloat sx = sin(x);\nfloat cx = cos(x);\nfloat sy = sin(y);\nfloat cy = cos(y);\nfloat sz = sin(z);\nfloat cz = cos(z);\nvec4 quat = vec4(0);\nquat.x = sx * cy * cz + cx * sy * sz;\nquat.y = cx * sy * cz + sx * cy * sz;\nquat.z = cx * cy * sz - sx * sy * cz;\nquat.w = cx * cy * cz - sx * sy * sz;\nreturn quat;\n}\nvec4 quatMultiply (vec4 a, vec4 b){\nvec4 quat;\nquat.x = a.x * b.w + a.w * b.x + a.y * b.z - a.z * b.y;\nquat.y = a.y * b.w + a.w * b.y + a.z * b.x - a.x * b.z;\nquat.z = a.z * b.w + a.w * b.z + a.x * b.y - a.y * b.x;\nquat.w = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;\nreturn quat;\n}\nvoid rotateVecFromQuat (inout vec3 v, vec4 q){\nfloat ix = q.w * v.x + q.y * v.z - q.z * v.y;\nfloat iy = q.w * v.y + q.z * v.x - q.x * v.z;\nfloat iz = q.w * v.z + q.x * v.y - q.y * v.x;\nfloat iw = -q.x * v.x - q.y * v.y - q.z * v.z;\nv.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\nv.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\nv.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n}\nvec3 rotateInLocalSpace (vec3 pos, vec3 xAxis, vec3 yAxis, vec3 zAxis, vec4 q){\nvec4 viewQuat = quaternionFromAxis(xAxis, yAxis, zAxis);\nvec4 rotQuat = quatMultiply(viewQuat, q);\nrotateVecFromQuat(pos, rotQuat);\nreturn pos;\n}\nvoid rotateCorner (inout vec2 corner, float angle){\nfloat xOS = cos(angle) * corner.x - sin(angle) * corner.y;\nfloat yOS = sin(angle) * corner.x + cos(angle) * corner.y;\ncorner.x = xOS;\ncorner.y = yOS;\n}\nlayout(location = 0) out mediump vec2 uv;\nlayout(location = 1) out mediump vec4 color;\nvoid computeVertPos (inout vec4 pos, vec2 vertOffset, vec4 q, vec3 s\n, mat4 viewInv\n) {\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = normalize(vec3(viewInv[0][0], viewInv[1][0], viewInv[2][0]));\nvec3 camY = normalize(vec3(viewInv[0][1], viewInv[1][1], viewInv[2][1]));\nvec3 camZ = normalize(vec3(viewInv[0][2], viewInv[1][2], viewInv[2][2]));\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, camZ, q);\n}\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec2 a_texCoord;\nlayout(location = 2) in vec4 a_color;\nlayout(set = 1, binding = 1) uniform builtin {\nvec4 cc_size_rotation;\n};\nvec4 vs_main() {\nvec4 pos = vec4(a_position, 1);\npos = cc_matWorld * pos;\nvec2 vertOffset = a_texCoord.xy - 0.5;\ncomputeVertPos(pos, vertOffset, quaternionFromEuler(vec3(0., 0., cc_size_rotation.z)), vec3(cc_size_rotation.xy, 0.), cc_matViewInv);\npos = cc_matViewProj * pos;\nuv = a_texCoord.xy;\ncolor = a_color;\nreturn pos;\n}\nvoid main() { gl_Position = vs_main(); }",frag:"\nprecision mediump float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nlayout(location = 0) in vec2 uv;\nlayout(location = 1) in vec4 color;\nlayout(set = 1, binding = 3) uniform sampler2D mainTexture;\nlayout(set = 1, binding = 2) uniform FragConstants {\nvec4 tintColor;\n};\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture(mainTexture, uv);\nreturn CCFragOutput(col);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = add(); }"}],[{vert:"\nprecision highp float;\nlayout(location = 0) in vec3 a_position;\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nvec4 frag () {\nvec4 o = vec4(1.0);\nreturn o;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec4 a_color;\nlayout(location = 0) out vec4 v_color;\nlayout(location = 2) in float a_dist;\nlayout(location = 1) out float v_dist;\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\npos = cc_matViewProj * cc_matWorld * pos;\nv_color = a_color;\nv_dist = a_dist;\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nlayout(location = 0) in vec4 v_color;\nlayout(location = 1) in float v_dist;\nvec4 frag () {\nvec4 o = v_color;\nfloat aa = fwidth(v_dist);\nfloat alpha = 1. - smoothstep(-aa, 0., abs(v_dist) - 1.0);\no.rgb *= o.a;\no *= alpha;\nreturn o;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nvec4 quaternionFromAxis (vec3 xAxis,vec3 yAxis,vec3 zAxis){\nmat3 m = mat3(xAxis,yAxis,zAxis);\nfloat trace = m[0][0] + m[1][1] + m[2][2];\nvec4 quat;\nif (trace > 0.) {\nfloat s = 0.5 / sqrt(trace + 1.0);\nquat.w = 0.25 / s;\nquat.x = (m[2][1] - m[1][2]) * s;\nquat.y = (m[0][2] - m[2][0]) * s;\nquat.z = (m[1][0] - m[0][1]) * s;\n} else if ((m[0][0] > m[1][1]) && (m[0][0] > m[2][2])) {\nfloat s = 2.0 * sqrt(1.0 + m[0][0] - m[1][1] - m[2][2]);\nquat.w = (m[2][1] - m[1][2]) / s;\nquat.x = 0.25 * s;\nquat.y = (m[0][1] + m[1][0]) / s;\nquat.z = (m[0][2] + m[2][0]) / s;\n} else if (m[1][1] > m[2][2]) {\nfloat s = 2.0 * sqrt(1.0 + m[1][1] - m[0][0] - m[2][2]);\nquat.w = (m[0][2] - m[2][0]) / s;\nquat.x = (m[0][1] + m[1][0]) / s;\nquat.y = 0.25 * s;\nquat.z = (m[1][2] + m[2][1]) / s;\n} else {\nfloat s = 2.0 * sqrt(1.0 + m[2][2] - m[0][0] - m[1][1]);\nquat.w = (m[1][0] - m[0][1]) / s;\nquat.x = (m[0][2] + m[2][0]) / s;\nquat.y = (m[1][2] + m[2][1]) / s;\nquat.z = 0.25 * s;\n}\nfloat len = quat.x * quat.x + quat.y * quat.y + quat.z * quat.z + quat.w * quat.w;\nif (len > 0.) {\nlen = 1. / sqrt(len);\nquat.x = quat.x * len;\nquat.y = quat.y * len;\nquat.z = quat.z * len;\nquat.w = quat.w * len;\n}\nreturn quat;\n}\nvec4 quaternionFromEuler (vec3 angle){\nfloat x = angle.x / 2.;\nfloat y = angle.y / 2.;\nfloat z = angle.z / 2.;\nfloat sx = sin(x);\nfloat cx = cos(x);\nfloat sy = sin(y);\nfloat cy = cos(y);\nfloat sz = sin(z);\nfloat cz = cos(z);\nvec4 quat = vec4(0);\nquat.x = sx * cy * cz + cx * sy * sz;\nquat.y = cx * sy * cz + sx * cy * sz;\nquat.z = cx * cy * sz - sx * sy * cz;\nquat.w = cx * cy * cz - sx * sy * sz;\nreturn quat;\n}\nmat4 matrixFromRT (vec4 q, vec3 p){\nfloat x2 = q.x + q.x;\nfloat y2 = q.y + q.y;\nfloat z2 = q.z + q.z;\nfloat xx = q.x * x2;\nfloat xy = q.x * y2;\nfloat xz = q.x * z2;\nfloat yy = q.y * y2;\nfloat yz = q.y * z2;\nfloat zz = q.z * z2;\nfloat wx = q.w * x2;\nfloat wy = q.w * y2;\nfloat wz = q.w * z2;\nreturn mat4(\n1. - (yy + zz), xy + wz, xz - wy, 0,\nxy - wz, 1. - (xx + zz), yz + wx, 0,\nxz + wy, yz - wx, 1. - (xx + yy), 0,\np.x, p.y, p.z, 1\n);\n}\nmat4 matFromRTS (vec4 q, vec3 t, vec3 s){\nfloat x = q.x, y = q.y, z = q.z, w = q.w;\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat xy = x * y2;\nfloat xz = x * z2;\nfloat yy = y * y2;\nfloat yz = y * z2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\nfloat sx = s.x;\nfloat sy = s.y;\nfloat sz = s.z;\nreturn mat4((1. - (yy + zz)) * sx, (xy + wz) * sx, (xz - wy) * sx, 0,\n(xy - wz) * sy, (1. - (xx + zz)) * sy, (yz + wx) * sy, 0,\n(xz + wy) * sz, (yz - wx) * sz, (1. - (xx + yy)) * sz, 0,\nt.x, t.y, t.z, 1);\n}\nvec4 quatMultiply (vec4 a, vec4 b){\nvec4 quat;\nquat.x = a.x * b.w + a.w * b.x + a.y * b.z - a.z * b.y;\nquat.y = a.y * b.w + a.w * b.y + a.z * b.x - a.x * b.z;\nquat.z = a.z * b.w + a.w * b.z + a.x * b.y - a.y * b.x;\nquat.w = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;\nreturn quat;\n}\nvoid rotateVecFromQuat (inout vec3 v, vec4 q){\nfloat ix = q.w * v.x + q.y * v.z - q.z * v.y;\nfloat iy = q.w * v.y + q.z * v.x - q.x * v.z;\nfloat iz = q.w * v.z + q.x * v.y - q.y * v.x;\nfloat iw = -q.x * v.x - q.y * v.y - q.z * v.z;\nv.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\nv.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\nv.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n}\nvec3 rotateInLocalSpace (vec3 pos, vec3 xAxis, vec3 yAxis, vec3 zAxis, vec4 q){\nvec4 viewQuat = quaternionFromAxis(xAxis, yAxis, zAxis);\nvec4 rotQuat = quatMultiply(viewQuat, q);\nrotateVecFromQuat(pos, rotQuat);\nreturn pos;\n}\nvoid rotateCorner (inout vec2 corner, float angle){\nfloat xOS = cos(angle) * corner.x - sin(angle) * corner.y;\nfloat yOS = sin(angle) * corner.x + cos(angle) * corner.y;\ncorner.x = xOS;\ncorner.y = yOS;\n}\nlayout(set = 1, binding = 0) uniform Constants {\nvec4 mainTiling_Offset;\nvec4 frameTile_velLenScale;\nvec4 scale;\n};\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nlayout(location = 0) out mediump vec2 uv;\nlayout(location = 1) out mediump vec4 color;\nvoid computeVertPos (inout vec4 pos, vec2 vertOffset, vec4 q, vec3 s\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, mat4 viewInv\n#endif\n#if CC_RENDER_MODE == 1\n, vec3 eye\n, vec4 velocity\n, float velocityScale\n, float lengthScale\n, float xIndex\n#endif\n) {\n#if CC_RENDER_MODE == 0\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = normalize(vec3(viewInv[0][0], viewInv[1][0], viewInv[2][0]));\nvec3 camY = normalize(vec3(viewInv[0][1], viewInv[1][1], viewInv[2][1]));\nvec3 camZ = normalize(vec3(viewInv[0][2], viewInv[1][2], viewInv[2][2]));\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, camZ, q);\n#elif CC_RENDER_MODE == 1\nvec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz)) * s.x;\nvec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * s.y;\npos.xyz += (camRight * abs(vertOffset.x) * sign(vertOffset.y)) - camUp * xIndex;\n#elif CC_RENDER_MODE == 2\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = vec3(1, 0, 0);\nvec3 camY = vec3(0, 0, -1);\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, cross(camX, camY), q);\n#elif CC_RENDER_MODE == 3\nvec2 viewSpaceVert = vec2(vertOffset.x * s.x, vertOffset.y * s.y);\nrotateCorner(viewSpaceVert, q.z);\nvec3 camX = normalize(vec3(cc_matView[0][0], cc_matView[1][0], cc_matView[2][0]));\nvec3 camY = vec3(0, 1, 0);\nvec3 offset = camX * viewSpaceVert.x + camY * viewSpaceVert.y;\npos.xyz += offset;\n#else\npos.x += vertOffset.x;\npos.y += vertOffset.y;\n#endif\n}\nvec2 computeUV (float frameIndex, vec2 vertIndex, vec2 frameTile){\nvec2 aniUV = vec2(0, floor(frameIndex * frameTile.y));\naniUV.x = floor(frameIndex * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\n#if CC_RENDER_MODE != 4\nvertIndex.y = 1. - vertIndex.y;\n#endif\nreturn (aniUV.xy + vertIndex) / vec2(frameTile.x, frameTile.y);\n}\nlayout(set = 1, binding = 1) uniform SampleConstants {\nvec4 u_sampleInfo;\n};\nlayout(set = 1, binding = 2) uniform TickConstants {\nvec4 u_worldRot;\nvec4 u_timeDelta;\n};\nlayout(location = 0) in vec4 a_position_starttime;\nlayout(location = 1) in vec4 a_size_uv;\nlayout(location = 2) in vec4 a_rotation_uv;\nlayout(location = 3) in vec4 a_color;\nlayout(location = 4) in vec4 a_dir_life;\nlayout(location = 5) in float a_rndSeed;\n#if CC_RENDER_MODE == 4\nlayout(location = 6) in vec3 a_texCoord;\nlayout(location = 7) in vec3 a_texCoord3;\nlayout(location = 8) in vec3 a_normal;\nlayout(location = 9) in vec4 a_color1;\n#endif\nvec3 unpackCurveData (sampler2D tex, vec2 coord) {\nvec4 a = texture(tex, coord);\nvec4 b = texture(tex, coord + u_sampleInfo.y);\nfloat c = fract(coord.x * u_sampleInfo.x);\nreturn mix(a.xyz, b.xyz, c);\n}\nvec3 unpackCurveData (sampler2D tex, vec2 coord, out float w) {\nvec4 a = texture(tex, coord);\nvec4 b = texture(tex, coord + u_sampleInfo.y);\nfloat c = fract(coord.x * u_sampleInfo.x);\nw = mix(a.w, b.w, c);\nreturn mix(a.xyz, b.xyz, c);\n}\nfloat pseudoRandom (float seed) {\nseed = mod(seed, 233280.);\nfloat q = (seed * 9301. + 49297.) / 233280.;\nreturn fract(q);\n}\n#if COLOR_OVER_TIME_MODULE_ENABLE\nlayout(set = 1, binding = 10) uniform sampler2D color_over_time_tex0;\nlayout(set = 1, binding = 3) uniform ColorConstant {\nint u_color_mode;\n};\n#endif\n#if ROTATION_OVER_TIME_MODULE_ENABLE\nlayout(set = 1, binding = 11) uniform sampler2D rotation_over_time_tex0;\nlayout(set = 1, binding = 4) uniform RotationConstant {\nint u_rotation_mode;\n};\n#endif\n#if SIZE_OVER_TIME_MODULE_ENABLE\nlayout(set = 1, binding = 12) uniform sampler2D size_over_time_tex0;\nlayout(set = 1, binding = 5) uniform SizeConstant {\nint u_size_mode;\n};\n#endif\n#if FORCE_OVER_TIME_MODULE_ENABLE\nlayout(set = 1, binding = 13) uniform sampler2D force_over_time_tex0;\nlayout(set = 1, binding = 6) uniform ForceConstant {\nint u_force_mode;\nint u_force_space;\n};\n#endif\n#if VELOCITY_OVER_TIME_MODULE_ENABLE\nlayout(set = 1, binding = 14) uniform sampler2D velocity_over_time_tex0;\nlayout(set = 1, binding = 7) uniform VelocityConstant {\nint u_velocity_mode;\nint u_velocity_space;\n};\n#endif\n#if TEXTURE_ANIMATION_MODULE_ENABLE\nlayout(set = 1, binding = 15) uniform sampler2D texture_animation_tex0;\nlayout(set = 1, binding = 8) uniform AnimationConstant {\nvec4 u_anim_info;\n};\n#endif\nfloat repeat (float t, float length) {\nreturn t - floor(t / length) * length;\n}\nvec4 rotateQuat (vec4 p, vec4 q) {\nvec3 iv = cross(q.xyz, p.xyz) + q.w * p.xyz;\nvec3 res = p.xyz + 2.0 * cross(q.xyz, iv);\nreturn vec4(res.xyz, p.w);\n}\nvec4 gpvs_main () {\nfloat activeTime = u_timeDelta.x - a_position_starttime.w;\nfloat normalizedTime = clamp(activeTime / a_dir_life.w, 0.0, 1.0);\nvec2 timeCoord0 = vec2(normalizedTime, 0.);\nvec2 timeCoord1 = vec2(normalizedTime, 1.);\n#if CC_RENDER_MODE == 4\nvec2 vertIdx = vec2(a_texCoord.x, a_texCoord.y);\n#else\nvec2 vertIdx = vec2(a_size_uv.w, a_rotation_uv.w);\n#endif\nvec4 velocity = vec4(a_dir_life.xyz, 0.);\nvec4 pos = vec4(a_position_starttime.xyz, 1.);\nvec3 size = a_size_uv.xyz;\n#if SIZE_OVER_TIME_MODULE_ENABLE\nif (u_size_mode == 1) {\nsize *= unpackCurveData(size_over_time_tex0, timeCoord0);\n} else {\nvec3 size_0 = unpackCurveData(size_over_time_tex0, timeCoord0);\nvec3 size_1 = unpackCurveData(size_over_time_tex0, timeCoord1);\nfloat factor_s = pseudoRandom(a_rndSeed + 39825.);\nsize *= mix(size_0, size_1, factor_s);\n}\n#endif\nvec3 compScale = scale.xyz * size;\n#if FORCE_OVER_TIME_MODULE_ENABLE\nvec3 forceAnim = vec3(0.);\nif (u_force_mode == 1) {\nforceAnim = unpackCurveData(force_over_time_tex0, timeCoord0);\n} else {\nvec3 force_0 = unpackCurveData(force_over_time_tex0, timeCoord0);\nvec3 force_1 = unpackCurveData(force_over_time_tex0, timeCoord1);\nfloat factor_f =  pseudoRandom(a_rndSeed + 212165.);\nforceAnim = mix(force_0, force_1, factor_f);\n}\nvec4 forceTrack = vec4(forceAnim, 0.);\nif (u_force_space == 0) {\nforceTrack = rotateQuat(forceTrack, u_worldRot);\n}\nvelocity.xyz += forceTrack.xyz;\n#endif\n#if VELOCITY_OVER_TIME_MODULE_ENABLE\nfloat speedModifier0 = 1.;\nfloat speedModifier1 = 1.;\nvec3 velocityAnim = vec3(0.);\nif (u_velocity_mode == 1) {\nvelocityAnim = unpackCurveData(velocity_over_time_tex0, timeCoord0, speedModifier0);\n} else {\nvec3 vectory_0 = unpackCurveData(velocity_over_time_tex0, timeCoord0, speedModifier0);\nvec3 vectory_1 = unpackCurveData(velocity_over_time_tex0, timeCoord1, speedModifier1);\nfloat factor_v = pseudoRandom(a_rndSeed + 197866.);\nvelocityAnim = mix(vectory_0, vectory_1, factor_v);\nspeedModifier0 = mix(speedModifier0, speedModifier1, factor_v);\n}\nvec4 velocityTrack = vec4(velocityAnim, 0.);\nif (u_velocity_space == 0) {\nvelocityTrack = rotateQuat(velocityTrack, u_worldRot);\n}\nvelocity.xyz += velocityTrack.xyz;\nvelocity.xyz *= speedModifier0;\n#endif\npos.xyz += velocity.xyz * normalizedTime * a_dir_life.w;\n#if !CC_USE_WORLD_SPACE\npos = cc_matWorld * pos;\n#if CC_RENDER_MODE == 1\nvelocity = rotateQuat(velocity, u_worldRot);\n#endif\n#endif\nvec3 rotation = a_rotation_uv.xyz;\n#if ROTATION_OVER_TIME_MODULE_ENABLE\nif (u_rotation_mode == 1) {\nrotation += unpackCurveData(rotation_over_time_tex0, timeCoord0) * normalizedTime * a_dir_life.w;\n} else {\nvec3 rotation_0 = unpackCurveData(rotation_over_time_tex0, timeCoord0);\nvec3 rotation_1 = unpackCurveData(rotation_over_time_tex0, timeCoord1);\nfloat factor_r = pseudoRandom(a_rndSeed + 125292.);\nrotation += mix(rotation_0, rotation_1, factor_r) * normalizedTime * a_dir_life.w;\n}\n#endif\n#if COLOR_OVER_TIME_MODULE_ENABLE\nif (u_color_mode == 1) {\ncolor = a_color * texture(color_over_time_tex0, timeCoord0);\n} else {\nvec4 color_0 = texture(color_over_time_tex0, timeCoord0);\nvec4 color_1 = texture(color_over_time_tex0, timeCoord1);\nfloat factor_c = pseudoRandom(a_rndSeed + 91041.);\ncolor = a_color * mix(color_0, color_1, factor_c);\n}\n#else\ncolor = a_color;\n#endif\n#if CC_RENDER_MODE != 4\nvec2 cornerOffset = vec2((vertIdx - 0.5));\n#if CC_RENDER_MODE == 0\nvec3 rotEuler = rotation.xyz;\n#elif CC_RENDER_MODE == 1\nvec3 rotEuler = vec3(0.);\n#else\nvec3 rotEuler = vec3(0., 0., rotation.z);\n#endif\ncomputeVertPos(pos, cornerOffset, quaternionFromEuler(rotEuler), compScale\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, cc_matViewInv\n#endif\n#if CC_RENDER_MODE == 1\n, cc_cameraPos.xyz\n, velocity\n, frameTile_velLenScale.z\n, frameTile_velLenScale.w\n, a_size_uv.w\n#endif\n);\n#else\nmat4 xformNoScale = matrixFromRT(quaternionFromEuler(rotation), pos.xyz);\nmat4 xform = matFromRTS(quaternionFromEuler(rotation), pos.xyz, compScale);\npos = xform * vec4(a_texCoord3, 1);\nvec4 normal = xformNoScale * vec4(a_normal, 0);\ncolor *= a_color1;\n#endif\npos = cc_matViewProj * pos;\nfloat frameIndex = 0.;\n#if TEXTURE_ANIMATION_MODULE_ENABLE\nfloat startFrame = 0.;\nvec3 frameInfo = vec3(0.);\nif (int(u_anim_info.x) == 1) {\nframeInfo = unpackCurveData(texture_animation_tex0, timeCoord0);\n} else {\nvec3 frameInfo0 = unpackCurveData(texture_animation_tex0, timeCoord0);\nvec3 frameInfo1 = unpackCurveData(texture_animation_tex0, timeCoord1);\nfloat factor_t = pseudoRandom(a_rndSeed + 90794.);\nframeInfo = mix(frameInfo0, frameInfo1, factor_t);\n}\nstartFrame = frameInfo.x / u_anim_info.y;\nframeIndex = repeat(u_anim_info.z * (frameInfo.y + startFrame), 1.);\n#endif\nuv = computeUV(frameIndex, vertIdx, frameTile_velLenScale.xy) * mainTiling_Offset.xy + mainTiling_Offset.zw;\nreturn pos;\n}\nvoid main() { gl_Position = gpvs_main(); }",frag:"\nprecision mediump float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nlayout(location = 0) in vec2 uv;\nlayout(location = 1) in vec4 color;\nlayout(set = 1, binding = 16) uniform sampler2D mainTexture;\nlayout(set = 1, binding = 9) uniform FragConstants {\nvec4 tintColor;\n};\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture(mainTexture, uv);\nreturn CCFragOutput(col);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = add(); }"}],[{vert:"\nprecision mediump float;\nlayout(set = 1, binding = 0) uniform Constants {\nvec4 mainTiling_Offset;\nvec4 frameTile_velLenScale;\nvec4 scale;\n};\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nlayout(location = 0) out mediump vec2 uv;\nlayout(location = 1) out mediump vec4 color;\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec4 a_texCoord;\nlayout(location = 2) in vec3 a_texCoord1;\nlayout(location = 3) in vec3 a_texCoord2;\nlayout(location = 4) in vec4 a_color;\n#if CC_DRAW_WIRE_FRAME\nlayout(location = 2) out vec3 vBarycentric;\n#endif\nvec4 vs_main() {\nhighp vec4 pos = vec4(a_position, 1);\nvec4 velocity = vec4(a_texCoord1.xyz, 0);\n#if !CC_USE_WORLD_SPACE\npos = cc_matWorld * pos;\nvelocity = cc_matWorld * velocity;\n#endif\nfloat vertOffset = (a_texCoord.x - 0.5) * a_texCoord.y;\nvec3 camUp = normalize(cross(pos.xyz - cc_cameraPos.xyz, velocity.xyz));\npos.xyz += camUp * vertOffset;\npos = cc_matViewProj * pos;\nuv = a_texCoord.zw * mainTiling_Offset.xy + mainTiling_Offset.zw;;\ncolor = a_color;\n#if CC_DRAW_WIRE_FRAME\nvBarycentric = a_texCoord2;\n#endif\nreturn pos;\n}\nvoid main() { gl_Position = vs_main(); }",frag:"\nprecision mediump float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nlayout(location = 0) in vec2 uv;\nlayout(location = 1) in vec4 color;\n#if CC_DRAW_WIRE_FRAME\nlayout(location = 2) in vec3 vBarycentric;\n#endif\nlayout(set = 1, binding = 2) uniform sampler2D mainTexture;\nlayout(set = 1, binding = 1) uniform FragConstants {\nvec4 tintColor;\n};\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture(mainTexture, uv);\n#if CC_DRAW_WIRE_FRAME\nif (any(lessThan(vBarycentric, vec3(0.02)))) {\ncol = vec4(0., 1., 1., 1.);\n}\n#endif\nreturn CCFragOutput(col);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = add(); }"}],[{vert:"\nprecision highp float;\nvec4 quaternionFromAxis (vec3 xAxis,vec3 yAxis,vec3 zAxis){\nmat3 m = mat3(xAxis,yAxis,zAxis);\nfloat trace = m[0][0] + m[1][1] + m[2][2];\nvec4 quat;\nif (trace > 0.) {\nfloat s = 0.5 / sqrt(trace + 1.0);\nquat.w = 0.25 / s;\nquat.x = (m[2][1] - m[1][2]) * s;\nquat.y = (m[0][2] - m[2][0]) * s;\nquat.z = (m[1][0] - m[0][1]) * s;\n} else if ((m[0][0] > m[1][1]) && (m[0][0] > m[2][2])) {\nfloat s = 2.0 * sqrt(1.0 + m[0][0] - m[1][1] - m[2][2]);\nquat.w = (m[2][1] - m[1][2]) / s;\nquat.x = 0.25 * s;\nquat.y = (m[0][1] + m[1][0]) / s;\nquat.z = (m[0][2] + m[2][0]) / s;\n} else if (m[1][1] > m[2][2]) {\nfloat s = 2.0 * sqrt(1.0 + m[1][1] - m[0][0] - m[2][2]);\nquat.w = (m[0][2] - m[2][0]) / s;\nquat.x = (m[0][1] + m[1][0]) / s;\nquat.y = 0.25 * s;\nquat.z = (m[1][2] + m[2][1]) / s;\n} else {\nfloat s = 2.0 * sqrt(1.0 + m[2][2] - m[0][0] - m[1][1]);\nquat.w = (m[1][0] - m[0][1]) / s;\nquat.x = (m[0][2] + m[2][0]) / s;\nquat.y = (m[1][2] + m[2][1]) / s;\nquat.z = 0.25 * s;\n}\nfloat len = quat.x * quat.x + quat.y * quat.y + quat.z * quat.z + quat.w * quat.w;\nif (len > 0.) {\nlen = 1. / sqrt(len);\nquat.x = quat.x * len;\nquat.y = quat.y * len;\nquat.z = quat.z * len;\nquat.w = quat.w * len;\n}\nreturn quat;\n}\nvec4 quaternionFromEuler (vec3 angle){\nfloat x = angle.x / 2.;\nfloat y = angle.y / 2.;\nfloat z = angle.z / 2.;\nfloat sx = sin(x);\nfloat cx = cos(x);\nfloat sy = sin(y);\nfloat cy = cos(y);\nfloat sz = sin(z);\nfloat cz = cos(z);\nvec4 quat = vec4(0);\nquat.x = sx * cy * cz + cx * sy * sz;\nquat.y = cx * sy * cz + sx * cy * sz;\nquat.z = cx * cy * sz - sx * sy * cz;\nquat.w = cx * cy * cz - sx * sy * sz;\nreturn quat;\n}\nmat4 matrixFromRT (vec4 q, vec3 p){\nfloat x2 = q.x + q.x;\nfloat y2 = q.y + q.y;\nfloat z2 = q.z + q.z;\nfloat xx = q.x * x2;\nfloat xy = q.x * y2;\nfloat xz = q.x * z2;\nfloat yy = q.y * y2;\nfloat yz = q.y * z2;\nfloat zz = q.z * z2;\nfloat wx = q.w * x2;\nfloat wy = q.w * y2;\nfloat wz = q.w * z2;\nreturn mat4(\n1. - (yy + zz), xy + wz, xz - wy, 0,\nxy - wz, 1. - (xx + zz), yz + wx, 0,\nxz + wy, yz - wx, 1. - (xx + yy), 0,\np.x, p.y, p.z, 1\n);\n}\nmat4 matFromRTS (vec4 q, vec3 t, vec3 s){\nfloat x = q.x, y = q.y, z = q.z, w = q.w;\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat xy = x * y2;\nfloat xz = x * z2;\nfloat yy = y * y2;\nfloat yz = y * z2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\nfloat sx = s.x;\nfloat sy = s.y;\nfloat sz = s.z;\nreturn mat4((1. - (yy + zz)) * sx, (xy + wz) * sx, (xz - wy) * sx, 0,\n(xy - wz) * sy, (1. - (xx + zz)) * sy, (yz + wx) * sy, 0,\n(xz + wy) * sz, (yz - wx) * sz, (1. - (xx + yy)) * sz, 0,\nt.x, t.y, t.z, 1);\n}\nvec4 quatMultiply (vec4 a, vec4 b){\nvec4 quat;\nquat.x = a.x * b.w + a.w * b.x + a.y * b.z - a.z * b.y;\nquat.y = a.y * b.w + a.w * b.y + a.z * b.x - a.x * b.z;\nquat.z = a.z * b.w + a.w * b.z + a.x * b.y - a.y * b.x;\nquat.w = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;\nreturn quat;\n}\nvoid rotateVecFromQuat (inout vec3 v, vec4 q){\nfloat ix = q.w * v.x + q.y * v.z - q.z * v.y;\nfloat iy = q.w * v.y + q.z * v.x - q.x * v.z;\nfloat iz = q.w * v.z + q.x * v.y - q.y * v.x;\nfloat iw = -q.x * v.x - q.y * v.y - q.z * v.z;\nv.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\nv.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\nv.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n}\nvec3 rotateInLocalSpace (vec3 pos, vec3 xAxis, vec3 yAxis, vec3 zAxis, vec4 q){\nvec4 viewQuat = quaternionFromAxis(xAxis, yAxis, zAxis);\nvec4 rotQuat = quatMultiply(viewQuat, q);\nrotateVecFromQuat(pos, rotQuat);\nreturn pos;\n}\nvoid rotateCorner (inout vec2 corner, float angle){\nfloat xOS = cos(angle) * corner.x - sin(angle) * corner.y;\nfloat yOS = sin(angle) * corner.x + cos(angle) * corner.y;\ncorner.x = xOS;\ncorner.y = yOS;\n}\nlayout(set = 1, binding = 0) uniform Constants {\nvec4 mainTiling_Offset;\nvec4 frameTile_velLenScale;\nvec4 scale;\n};\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nlayout(location = 0) out mediump vec2 uv;\nlayout(location = 1) out mediump vec4 color;\nvoid computeVertPos (inout vec4 pos, vec2 vertOffset, vec4 q, vec3 s\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, mat4 viewInv\n#endif\n#if CC_RENDER_MODE == 1\n, vec3 eye\n, vec4 velocity\n, float velocityScale\n, float lengthScale\n, float xIndex\n#endif\n) {\n#if CC_RENDER_MODE == 0\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = normalize(vec3(viewInv[0][0], viewInv[1][0], viewInv[2][0]));\nvec3 camY = normalize(vec3(viewInv[0][1], viewInv[1][1], viewInv[2][1]));\nvec3 camZ = normalize(vec3(viewInv[0][2], viewInv[1][2], viewInv[2][2]));\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, camZ, q);\n#elif CC_RENDER_MODE == 1\nvec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz)) * s.x;\nvec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * s.y;\npos.xyz += (camRight * abs(vertOffset.x) * sign(vertOffset.y)) - camUp * xIndex;\n#elif CC_RENDER_MODE == 2\nvec3 viewSpaceVert = vec3(vertOffset.x * s.x, vertOffset.y * s.y, 0.);\nvec3 camX = vec3(1, 0, 0);\nvec3 camY = vec3(0, 0, -1);\npos.xyz += rotateInLocalSpace(viewSpaceVert, camX, camY, cross(camX, camY), q);\n#elif CC_RENDER_MODE == 3\nvec2 viewSpaceVert = vec2(vertOffset.x * s.x, vertOffset.y * s.y);\nrotateCorner(viewSpaceVert, q.z);\nvec3 camX = normalize(vec3(cc_matView[0][0], cc_matView[1][0], cc_matView[2][0]));\nvec3 camY = vec3(0, 1, 0);\nvec3 offset = camX * viewSpaceVert.x + camY * viewSpaceVert.y;\npos.xyz += offset;\n#else\npos.x += vertOffset.x;\npos.y += vertOffset.y;\n#endif\n}\nvec2 computeUV (float frameIndex, vec2 vertIndex, vec2 frameTile){\nvec2 aniUV = vec2(0, floor(frameIndex * frameTile.y));\naniUV.x = floor(frameIndex * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\n#if CC_RENDER_MODE != 4\nvertIndex.y = 1. - vertIndex.y;\n#endif\nreturn (aniUV.xy + vertIndex) / vec2(frameTile.x, frameTile.y);\n}\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_texCoord;\nlayout(location = 2) in vec3 a_texCoord1;\nlayout(location = 3) in vec3 a_texCoord2;\nlayout(location = 4) in vec4 a_color;\n#if CC_RENDER_MODE == 1\nlayout(location = 8) in vec3 a_color1;\n#endif\n#if CC_RENDER_MODE == 4\nlayout(location = 6) in vec3 a_texCoord3;\nlayout(location = 7) in vec3 a_normal;\nlayout(location = 8) in vec4 a_color1;\n#endif\nvec4 lpvs_main () {\nvec3 compScale = scale.xyz * a_texCoord1;\nvec4 pos = vec4(a_position, 1);\n#if CC_RENDER_MODE == 1\nvec4 velocity = vec4(a_color1.xyz, 0);\n#endif\n#if !CC_USE_WORLD_SPACE\npos = cc_matWorld * pos;\n#if CC_RENDER_MODE == 1\nvelocity = cc_matWorld * velocity;\n#endif\n#endif\n#if CC_RENDER_MODE != 4\nvec2 cornerOffset = vec2((a_texCoord.xy - 0.5));\n#if CC_RENDER_MODE == 0\nvec3 rotEuler = a_texCoord2;\n#elif CC_RENDER_MODE == 1\nvec3 rotEuler = vec3(0.);\n#else\nvec3 rotEuler = vec3(0., 0., a_texCoord2.z);\n#endif\ncomputeVertPos(pos, cornerOffset, quaternionFromEuler(rotEuler), compScale\n#if CC_RENDER_MODE == 0 || CC_RENDER_MODE == 3\n, cc_matViewInv\n#endif\n#if CC_RENDER_MODE == 1\n, cc_cameraPos.xyz\n, velocity\n, frameTile_velLenScale.z\n, frameTile_velLenScale.w\n, a_texCoord.x\n#endif\n);\ncolor = a_color;\n#else\nmat4 xformNoScale = matrixFromRT(quaternionFromEuler(a_texCoord2), pos.xyz);\nmat4 xform = matFromRTS(quaternionFromEuler(a_texCoord2), pos.xyz, compScale);\npos = xform * vec4(a_texCoord3, 1);\nvec4 normal = xformNoScale * vec4(a_normal, 0);\ncolor = a_color * a_color1;\n#endif\nuv = computeUV(a_texCoord.z, a_texCoord.xy, frameTile_velLenScale.xy) * mainTiling_Offset.xy + mainTiling_Offset.zw;\npos = cc_matViewProj * pos;\nreturn pos;\n}\nvoid main() { gl_Position = lpvs_main(); }",frag:"\nprecision mediump float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nlayout(location = 0) in vec2 uv;\nlayout(location = 1) in vec4 color;\nlayout(set = 1, binding = 2) uniform sampler2D mainTexture;\nlayout(set = 1, binding = 1) uniform FragConstants {\nvec4 tintColor;\n};\nvec4 add () {\nvec4 col = 2.0 * color * tintColor * texture(mainTexture, uv);\nreturn CCFragOutput(col);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = add(); }"}],[{vert:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\n#if USE_LOCAL\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec2 a_texCoord;\nlayout(location = 2) in vec4 a_color;\nlayout(location = 0) out vec4 v_light;\nlayout(location = 1) out vec2 uv0;\n#if TWO_COLORED\nlayout(location = 3) in vec4 a_color2;\nlayout(location = 2) out vec4 v_dark;\n#endif\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\n#if USE_LOCAL\npos = cc_matWorld * pos;\n#endif\npos = cc_matViewProj * pos;\nuv0 = a_texCoord;\nv_light = a_color;\n#if TWO_COLORED\nv_dark = a_color2;\n#endif\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\nlayout(set = 1, binding = 0) uniform ALPHA_TEST_DATA {\nfloat alphaThreshold;\n};\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n#if USE_ALPHA_TEST\nif (color.a < alphaThreshold) discard;\n#endif\n}\nvoid ALPHA_TEST (in float alpha) {\n#if USE_ALPHA_TEST\nif (alpha < alphaThreshold) discard;\n#endif\n}\nlayout(location = 0) in vec4 v_light;\n#if TWO_COLORED\nlayout(location = 2) in vec4 v_dark;\n#endif\nlayout(location = 1) in vec2 uv0;\nlayout(set = 2, binding = 10) uniform sampler2D cc_spriteTexture;\nvec4 frag () {\nvec4 o = vec4(1, 1, 1, 1);\n#if TWO_COLORED\nvec4 texColor = vec4(1, 1, 1, 1);\ntexColor *= texture(cc_spriteTexture, uv0);\no.a = texColor.a * v_light.a;\no.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n#else\no *= texture(cc_spriteTexture, uv0);\no *= v_light;\n#endif\nALPHA_TEST(o);\nreturn o;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\n#if USE_LOCAL\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\n#if SAMPLE_FROM_RT\n#endif\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec2 a_texCoord;\nlayout(location = 2) in vec4 a_color;\nlayout(location = 0) out vec4 color;\nlayout(location = 1) out vec2 uv0;\nvec4 vert () {\nvec4 pos = vec4(a_position, 1);\n#if USE_LOCAL\npos = cc_matWorld * pos;\n#endif\n#if USE_PIXEL_ALIGNMENT\npos = cc_matView * pos;\npos.xyz = floor(pos.xyz);\npos = cc_matProj * pos;\n#else\npos = cc_matViewProj * pos;\n#endif\nuv0 = a_texCoord;\n#if SAMPLE_FROM_RT\nuv0 = cc_cameraPos.w > 1.0 ? vec2(uv0.x, 1.0 - uv0.y) : uv0;\n#endif\ncolor = a_color;\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nvec4 CCSampleWithAlphaSeparated(sampler2D tex, vec2 uv) {\n#if CC_USE_EMBEDDED_ALPHA\nreturn vec4(texture(tex, uv).rgb, texture(tex, uv + vec2(0.0, 0.5)).r);\n#else\nreturn texture(tex, uv);\n#endif\n}\n#if USE_ALPHA_TEST\nlayout(set = 1, binding = 0) uniform ALPHA_TEST_DATA {\nfloat alphaThreshold;\n};\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n#if USE_ALPHA_TEST\nif (color.a < alphaThreshold) discard;\n#endif\n}\nvoid ALPHA_TEST (in float alpha) {\n#if USE_ALPHA_TEST\nif (alpha < alphaThreshold) discard;\n#endif\n}\nlayout(location = 0) in vec4 color;\n#if USE_TEXTURE\nlayout(location = 1) in vec2 uv0;\nlayout(set = 2, binding = 10) uniform sampler2D cc_spriteTexture;\n#endif\nvec4 frag () {\nvec4 o = vec4(1, 1, 1, 1);\n#if USE_TEXTURE\no *= CCSampleWithAlphaSeparated(cc_spriteTexture, uv0);\n#if IS_GRAY\nfloat gray  = 0.2126 * o.r + 0.7152 * o.g + 0.0722 * o.b;\no.r = o.g = o.b = gray;\n#endif\n#endif\no *= color;\nALPHA_TEST(o);\nreturn o;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"#extension GL_EXT_shader_explicit_arithmetic_types_int32: require\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_normal;\nlayout(location = 2) in vec2 a_texCoord;\nlayout(location = 3) in vec4 a_tangent;\n#if CC_USE_MORPH\nint getVertexId() {\nreturn gl_VertexIndex;\n}\nlayout(set = 2, binding = 4) uniform CCMorph {\nvec4 cc_displacementWeights[15];\nvec4 cc_displacementTextureInfo;\n};\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\nivec2 texSize = textureSize(tex, 0);\nreturn texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture(tex, x)),\ndecode32(texture(tex, y)),\ndecode32(texture(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nlayout(set = 2, binding = 6) uniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nlayout(set = 2, binding = 7) uniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nlayout(set = 2, binding = 8) uniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nlayout(location = 4) in u32vec4 a_joints;\nlayout(location = 5) in vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nlayout(location = 7) in highp vec4 a_jointAnimInfo;\n#endif\nlayout(set = 2, binding = 3) uniform CCSkinningTexture {\nhighp vec4 cc_jointTextureInfo;\n};\nlayout(set = 2, binding = 2) uniform CCSkinningAnimation {\nhighp vec4 cc_jointAnimInfo;\n};\nlayout(set = 2, binding = 5) uniform highp sampler2D cc_jointTexture;\n#else\nlayout(set = 2, binding = 3) uniform CCSkinning {\nhighp vec4 cc_joints[30 * 3];\n};\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\n#if USE_INSTANCING\nlayout(location = 8) in vec4 a_matWorld0;\nlayout(location = 9) in vec4 a_matWorld1;\nlayout(location = 10) in vec4 a_matWorld2;\n#if USE_LIGHTMAP\nlayout(location = 11) in vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nlayout(location = 12) in float a_dyn_batch_id;\nlayout(set = 2, binding = 0) uniform CCLocalBatched {\nhighp mat4 cc_matWorlds[10];\n};\n#else\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\nlayout(set = 1, binding = 0) uniform Constants {\nvec4 tilingOffset;\nvec4 albedo;\nvec4 albedoScaleAndCutoff;\nvec4 pbrParams;\nvec4 emissive;\nvec4 emissiveScaleParam;\n};\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nlayout(location = 0) out float v_fog_factor;\nlayout(location = 1) out highp vec4 v_shadowPos;\nlayout(set = 0, binding = 2) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if CC_RECEIVE_SHADOW\nlayout(set = 0, binding = 3) uniform sampler2D cc_shadowMap;\nlayout(set = 0, binding = 5) uniform sampler2D cc_spotLightingMap;\n#endif\n#if USE_VERTEX_COLOR\nlayout(location = 13) in vec4 a_color;\nlayout(location = 2) out vec4 v_color;\n#endif\nlayout(location = 3) out vec3 v_position;\nlayout(location = 4) out vec3 v_normal;\nlayout(location = 5) out vec2 v_uv;\nlayout(location = 6) out vec2 v_uv1;\n#if USE_NORMAL_MAP\nlayout(location = 7) out vec3 v_tangent;\nlayout(location = 8) out vec3 v_bitangent;\n#endif\n#if HAS_SECOND_UV || USE_LIGHTMAP\nlayout(location = 14) in vec2 a_texCoord1;\n#endif\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nlayout(location = 9) out vec3 v_luv;\nvoid CCLightingMapCaclUV()\n{\n#if !USE_INSTANCING\nv_luv.xy = cc_lightingMapUVParam.xy + a_texCoord1 * cc_lightingMapUVParam.zw;\nv_luv.z = cc_lightingMapUVParam.z;\n#else\nv_luv.xy = a_lightingMapUVParam.xy + a_texCoord1 * a_lightingMapUVParam.zw;\nv_luv.z = a_lightingMapUVParam.z;\n#endif\n}\n#endif\nvoid main () {\nStandardVertInput In;\nIn.position = vec4(a_position, 1.0);\nIn.normal = a_normal;\nIn.tangent = a_tangent;\n#if CC_USE_MORPH\napplyMorph(In);\n#endif\n#if CC_USE_SKINNING\nCCSkin(In);\n#endif\nmat4 matWorld, matWorldIT;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\nmatWorldIT = matWorld;\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\nmatWorldIT = matWorld;\n#else\nmatWorld = cc_matWorld;\nmatWorldIT = cc_matWorldIT;\n#endif\nvec4 pos = matWorld * In.position;\nv_position = pos.xyz;\nv_normal = normalize((matWorldIT * vec4(In.normal, 0.0)).xyz);\n#if USE_NORMAL_MAP\nv_tangent = normalize((matWorld * vec4(In.tangent.xyz, 0.0)).xyz);\nv_bitangent = cross(v_normal, v_tangent) * In.tangent.w;\n#endif\nv_uv = a_texCoord * tilingOffset.xy + tilingOffset.zw;\n#if SAMPLE_FROM_RT\nv_uv = cc_cameraPos.w > 1.0 ? vec2(v_uv.x, 1.0 - v_uv.y) : v_uv;\n#endif\n#if HAS_SECOND_UV\nv_uv1 = a_texCoord1 * tilingOffset.xy + tilingOffset.zw;\n#if SAMPLE_FROM_RT\nv_uv1 = cc_cameraPos.w > 1.0 ? vec2(v_uv1.x, 1.0 - v_uv1.y) : v_uv1;\n#endif\n#endif\n#if USE_VERTEX_COLOR\nv_color = a_color;\n#endif\n#if CC_USE_FOG == 0\nv_fog_factor = LinearFog(pos);\n#elif CC_USE_FOG == 1\nv_fog_factor = ExpFog(pos);\n#elif CC_USE_FOG == 2\nv_fog_factor = ExpSquaredFog(pos);\n#elif CC_USE_FOG == 3\nv_fog_factor = LayeredFog(pos);\n#else\nv_fog_factor = 1.0;\n#endif\nv_shadowPos = cc_matLightViewProj * pos;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nCCLightingMapCaclUV();\n#endif\ngl_Position = cc_matProj * (cc_matView * matWorld) * In.position;\n}",frag:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(set = 1, binding = 0) uniform Constants {\nvec4 tilingOffset;\nvec4 albedo;\nvec4 albedoScaleAndCutoff;\nvec4 pbrParams;\nvec4 emissive;\nvec4 emissiveScaleParam;\n};\nlayout(location = 0) in float v_fog_factor;\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nlayout(set = 0, binding = 2) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if CC_RECEIVE_SHADOW\nlayout(set = 0, binding = 3) uniform sampler2D cc_shadowMap;\nlayout(set = 0, binding = 5) uniform sampler2D cc_spotLightingMap;\nfloat CCGetLinearDepth (vec3 worldPos) {\nvec4 viewStartPos = cc_matLightView * vec4(worldPos.xyz, 1.0);\nfloat dist = length(viewStartPos.xyz);\nreturn cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\n}\nfloat CCGetShadowFactorX1 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_shadowMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_shadowMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, clipPos.z- cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetShadowFactorX5 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetShadowFactorX9 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetShadowFactorX25 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\nfloat CCGetDirLightShadowFactorX1 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nfloat depth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_spotLightingMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_spotLightingMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, depth - cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetDirLightShadowFactorX5 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetDirLightShadowFactorX9 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetDirLightShadowFactorX25 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat depth = 0.0;\nfloat shadow = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\n#endif\n#if CC_USE_IBL\nlayout(set = 0, binding = 4) uniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec4 fragTextureLod (sampler2D tex, vec2 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\nvec4 fragTextureLod (samplerCube tex, vec3 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\n#endif\nfloat GGXMobile (float roughness, float NoH, vec3 H, vec3 N) {\nvec3 NxH = cross(N, H);\nfloat OneMinusNoHSqr = dot(NxH, NxH);\nfloat a = roughness * roughness;\nfloat n = NoH * a;\nfloat p = a / (OneMinusNoHSqr + n * n);\nreturn p * p;\n}\nfloat CalcSpecular (float roughness, float NoH, vec3 H, vec3 N) {\nreturn (roughness * 0.25 + 0.25) * GGXMobile(roughness, NoH, H, N);\n}\nvec3 BRDFApprox (vec3 specular, float roughness, float NoV) {\nconst vec4 c0 = vec4(-1.0, -0.0275, -0.572, 0.022);\nconst vec4 c1 = vec4(1.0, 0.0425, 1.04, -0.04);\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NoV)) * r.x + r.y;\nvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\nAB.y *= clamp(50.0 * specular.g, 0.0, 1.0);\nreturn specular * AB.x + AB.y;\n}\nstruct StandardSurface {\nvec4 albedo;\nvec3 position;\nvec3 normal;\nvec3 emissive;\nvec3 lightmap;\nfloat lightmap_test;\nfloat roughness;\nfloat metallic;\nfloat occlusion;\n};\nvec4 CCStandardShadingBase (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 L = normalize(-cc_mainLitDir.xyz);\nvec3 H = normalize(L + V);\nfloat NH = max(dot(N, H), 0.0);\nfloat NL = max(dot(N, L), 0.001);\nvec3 finalColor = NL * cc_mainLitColor.rgb * cc_mainLitColor.w;\nvec3 diffuseContrib = diffuse;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nif (s.lightmap_test > 0.0001) {\nfinalColor = s.lightmap.rgb;\n}\n#else\ndiffuseContrib /= 3.14159265359;\n#endif\nvec3 specularContrib = specular * CalcSpecular(s.roughness, NH, H, N);\nfinalColor *= (diffuseContrib + specularContrib);\nfloat fAmb = 0.5 - N.y * 0.5;\nvec3 ambDiff = mix(cc_ambientSky.rgb, cc_ambientGround.rgb, fAmb) * cc_ambientSky.w;\nfinalColor += (ambDiff.rgb * diffuse);\n#if CC_USE_IBL\nvec3 R = normalize(reflect(-V, N));\nvec4 envmap = fragTextureLod(cc_environment, R, s.roughness * cc_ambientGround.w);\n#if CC_USE_IBL == 2\nvec3 env = unpackRGBE(envmap);\n#else\nvec3 env = SRGBToLinear(envmap.rgb);\n#endif\nfinalColor += env * cc_ambientSky.w * specular;\n#endif\nfinalColor = finalColor * s.occlusion;\n#if CC_USE_HDR\ns.emissive *= cc_exposure.w;\n#endif\nfinalColor += s.emissive;\n#if CC_RECEIVE_SHADOW\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, L.xyz), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetShadowFactorX25(pos);\nelse if (pcf > 2.0) shadowAttenuation = CCGetShadowFactorX9(pos);\nelse if (pcf > 1.0) shadowAttenuation = CCGetShadowFactorX5(pos);\nelse shadowAttenuation = CCGetShadowFactorX1(pos);\nvec3 shadowColor = cc_shadowColor.rgb * cc_shadowColor.a + finalColor.rgb * (1.0 - cc_shadowColor.a);\nif (cc_shadowNFLSInfo.w > 0.000001) {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation + finalColor.rgb * (1.0 - shadowAttenuation);\n} else {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation * NL + finalColor.rgb * (1.0 - shadowAttenuation * NL);\n}\n}\n#endif\nreturn vec4(finalColor, s.albedo.a);\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nlayout(location = 1) in highp vec4 v_shadowPos;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nlayout(location = 9) in vec3 v_luv;\nlayout(set = 2, binding = 9) uniform sampler2D cc_lightingMap;\nvec3 UnpackLightingmap(vec4 color) {\nvec3 c;\nfloat e = 1.0 + color.a * (8.0 - 1.0);\nc.r = color.r * e;\nc.g = color.g * e;\nc.b = color.b * e;\nreturn c;\n}\n#endif\nlayout(location = 3) in vec3 v_position;\nlayout(location = 5) in vec2 v_uv;\nlayout(location = 6) in vec2 v_uv1;\nlayout(location = 4) in vec3 v_normal;\n#if USE_VERTEX_COLOR\nlayout(location = 2) in vec4 v_color;\n#endif\n#if USE_ALBEDO_MAP\nlayout(set = 1, binding = 1) uniform sampler2D albedoMap;\n#endif\n#if USE_NORMAL_MAP\nlayout(location = 7) in vec3 v_tangent;\nlayout(location = 8) in vec3 v_bitangent;\nlayout(set = 1, binding = 2) uniform sampler2D normalMap;\n#endif\n#if USE_PBR_MAP\nlayout(set = 1, binding = 3) uniform sampler2D pbrMap;\n#endif\n#if USE_METALLIC_ROUGHNESS_MAP\nlayout(set = 1, binding = 4) uniform sampler2D metallicRoughnessMap;\n#endif\n#if USE_OCCLUSION_MAP\nlayout(set = 1, binding = 5) uniform sampler2D occlusionMap;\n#endif\n#if USE_EMISSIVE_MAP\nlayout(set = 1, binding = 6) uniform sampler2D emissiveMap;\n#endif\n#if USE_ALPHA_TEST\n#endif\nvoid surf (out StandardSurface s) {\nvec4 baseColor = albedo;\n#if USE_VERTEX_COLOR\nbaseColor *= v_color;\n#endif\n#if USE_ALBEDO_MAP\nvec4 texColor = texture(albedoMap, ALBEDO_UV);\ntexColor.rgb = SRGBToLinear(texColor.rgb);\nbaseColor *= texColor;\n#endif\ns.albedo = baseColor;\ns.albedo.rgb *= albedoScaleAndCutoff.xyz;\n#if USE_ALPHA_TEST\nif (s.albedo.ALPHA_TEST_CHANNEL < albedoScaleAndCutoff.w) discard;\n#endif\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nvec4 lightColor = texture(cc_lightingMap, v_luv.xy);\ns.lightmap = UnpackLightingmap(lightColor);\ns.lightmap_test = v_luv.z;\n#endif\ns.normal = v_normal;\n#if USE_NORMAL_MAP\nvec3 nmmp = texture(normalMap, NORMAL_UV).xyz - vec3(0.5);\ns.normal =\n(nmmp.x * pbrParams.w) * normalize(v_tangent) +\n(nmmp.y * pbrParams.w) * normalize(v_bitangent) +\nnmmp.z * normalize(s.normal);\n#endif\ns.position = v_position;\nvec4 pbr = pbrParams;\n#if USE_PBR_MAP\nvec4 res = texture(pbrMap, PBR_UV);\npbr.x *= res.r;\npbr.y *= res.g;\npbr.z *= res.b;\n#endif\n#if USE_METALLIC_ROUGHNESS_MAP\nvec4 metallicRoughness = texture(metallicRoughnessMap, PBR_UV);\npbr.z *= metallicRoughness.b;\npbr.y *= metallicRoughness.g;\n#endif\n#if USE_OCCLUSION_MAP\npbr.x *= texture(occlusionMap, PBR_UV).r;\n#endif\ns.occlusion = clamp(pbr.x, 0.0, 0.96);\ns.roughness = clamp(pbr.y, 0.04, 1.0);\ns.metallic = pbr.z;\ns.emissive = emissive.rgb * emissiveScaleParam.xyz;\n#if USE_EMISSIVE_MAP\ns.emissive *= SRGBToLinear(texture(emissiveMap, EMISSIVE_UV).rgb);\n#endif\n}\n#if CC_FORWARD_ADD\n#if CC_PIPELINE_TYPE == 0\n# define LIGHTS_PER_PASS 1\n#else\n# define LIGHTS_PER_PASS 10\n#endif\nlayout(set = 2, binding = 1) uniform CCForwardLight {\nhighp vec4 cc_lightPos[LIGHTS_PER_PASS];\nvec4 cc_lightColor[LIGHTS_PER_PASS];\nvec4 cc_lightSizeRangeAngle[LIGHTS_PER_PASS];\nvec4 cc_lightDir[LIGHTS_PER_PASS];\n};\nfloat SmoothDistAtt (float distSqr, float invSqrAttRadius) {\nfloat factor = distSqr * invSqrAttRadius;\nfloat smoothFactor = clamp(1.0 - factor * factor, 0.0, 1.0);\nreturn smoothFactor * smoothFactor;\n}\nfloat GetDistAtt (float distSqr, float invSqrAttRadius) {\nfloat attenuation = 1.0 / max(distSqr, 0.01*0.01);\nattenuation *= SmoothDistAtt(distSqr , invSqrAttRadius);\nreturn attenuation;\n}\nfloat GetAngleAtt (vec3 L, vec3 litDir, float litAngleScale, float litAngleOffset) {\nfloat cd = dot(litDir, L);\nfloat attenuation = clamp(cd * litAngleScale + litAngleOffset, 0.0, 1.0);\nreturn (attenuation * attenuation);\n}\nvec4 CCStandardShadingAdditive (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 diffuseContrib = diffuse / 3.14159265359;\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 finalColor = vec3(0.0);\nint numLights = CC_PIPELINE_TYPE == 0 ? LIGHTS_PER_PASS : int(cc_lightDir[0].w);\nfor (int i = 0; i < LIGHTS_PER_PASS; i++) {\nif (i >= numLights) break;\nvec3 SLU = cc_lightPos[i].xyz - s.position;\nvec3 SL = normalize(SLU);\nvec3 SH = normalize(SL + V);\nfloat SNL = max(dot(N, SL), 0.001);\nfloat SNH = max(dot(N, SH), 0.0);\nfloat distSqr = dot(SLU, SLU);\nfloat litRadius = cc_lightSizeRangeAngle[i].x;\nfloat litRadiusSqr = litRadius * litRadius;\nfloat illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\nfloat attRadiusSqrInv = 1.0 / max(cc_lightSizeRangeAngle[i].y, 0.01);\nattRadiusSqrInv *= attRadiusSqrInv;\nfloat att = GetDistAtt(distSqr, attRadiusSqrInv);\nvec3 lspec = specular * CalcSpecular(s.roughness, SNH, SH, N);\nif (cc_lightPos[i].w > 0.0) {\nfloat cosInner = max(dot(-cc_lightDir[i].xyz, SL), 0.01);\nfloat cosOuter = cc_lightSizeRangeAngle[i].z;\nfloat litAngleScale = 1.0 / max(0.001, cosInner - cosOuter);\nfloat litAngleOffset = -cosOuter * litAngleScale;\natt *= GetAngleAtt(SL, -cc_lightDir[i].xyz, litAngleScale, litAngleOffset);\n}\nvec3 lightColor = cc_lightColor[i].rgb;\n#if CC_RECEIVE_SHADOW\nif (cc_lightPos[i].w > 0.0) {\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, normalize(cc_lightPos[i].xyz - s.position.xyz)), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetDirLightShadowFactorX25(pos, s.position);\nelse if (pcf > 2.0) shadowAttenuation = CCGetDirLightShadowFactorX9(pos, s.position);\nelse if (pcf > 1.0) shadowAttenuation = CCGetDirLightShadowFactorX5(pos, s.position);\nelse shadowAttenuation = CCGetDirLightShadowFactorX1(pos, s.position);\nlightColor *= 1.0 - shadowAttenuation;\n}\n}\n#endif\nfinalColor += SNL * lightColor * cc_lightColor[i].w * illum * att * (diffuseContrib + lspec);\n}\nfinalColor = finalColor * s.occlusion;\nreturn vec4(finalColor, 0.0);\n}\nlayout(location = 0) out vec4 fragColorX;\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingAdditive(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\nfragColorX = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 0\nlayout(location = 0) out vec4 fragColorX;\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingBase(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\nfragColorX = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 1\nlayout(location = 0) out vec4 fragColor0;\nlayout(location = 1) out vec4 fragColor1;\nlayout(location = 2) out vec4 fragColor2;\nlayout(location = 3) out vec4 fragColor3;\nvoid main () {\nStandardSurface s; surf(s);\nfragColor0 = s.albedo;\nfragColor1 = vec4(s.position, s.roughness);\nfragColor2 = vec4(s.normal, s.metallic);\nfragColor3 = vec4(s.emissive, s.occlusion);\n}\n#endif"},{vert:"#extension GL_EXT_shader_explicit_arithmetic_types_int32: require\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_normal;\nlayout(location = 2) in vec2 a_texCoord;\nlayout(location = 3) in vec4 a_tangent;\n#if CC_USE_MORPH\nint getVertexId() {\nreturn gl_VertexIndex;\n}\nlayout(set = 2, binding = 4) uniform CCMorph {\nvec4 cc_displacementWeights[15];\nvec4 cc_displacementTextureInfo;\n};\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\nivec2 texSize = textureSize(tex, 0);\nreturn texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture(tex, x)),\ndecode32(texture(tex, y)),\ndecode32(texture(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nlayout(set = 2, binding = 6) uniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nlayout(set = 2, binding = 7) uniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nlayout(set = 2, binding = 8) uniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nlayout(location = 4) in u32vec4 a_joints;\nlayout(location = 5) in vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nlayout(location = 7) in highp vec4 a_jointAnimInfo;\n#endif\nlayout(set = 2, binding = 3) uniform CCSkinningTexture {\nhighp vec4 cc_jointTextureInfo;\n};\nlayout(set = 2, binding = 2) uniform CCSkinningAnimation {\nhighp vec4 cc_jointAnimInfo;\n};\nlayout(set = 2, binding = 5) uniform highp sampler2D cc_jointTexture;\n#else\nlayout(set = 2, binding = 3) uniform CCSkinning {\nhighp vec4 cc_joints[30 * 3];\n};\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\n#if USE_INSTANCING\nlayout(location = 8) in vec4 a_matWorld0;\nlayout(location = 9) in vec4 a_matWorld1;\nlayout(location = 10) in vec4 a_matWorld2;\n#if USE_LIGHTMAP\nlayout(location = 11) in vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nlayout(location = 12) in float a_dyn_batch_id;\nlayout(set = 2, binding = 0) uniform CCLocalBatched {\nhighp mat4 cc_matWorlds[10];\n};\n#else\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\nlayout(set = 1, binding = 0) uniform Constants {\nvec4 tilingOffset;\nvec4 albedo;\nvec4 albedoScaleAndCutoff;\nvec4 pbrParams;\nvec4 emissive;\nvec4 emissiveScaleParam;\n};\nlayout(set = 0, binding = 2) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if HAS_SECOND_UV || USE_LIGHTMAP\nlayout(location = 13) in vec2 a_texCoord1;\n#endif\nlayout(location = 0) out vec2 v_uv;\nlayout(location = 1) out vec2 v_uv1;\nlayout(location = 2) out vec4 v_worldPos;\nlayout(location = 3) out float v_clip_depth;\nvec4 vert () {\nStandardVertInput In;\nIn.position = vec4(a_position, 1.0);\nIn.normal = a_normal;\nIn.tangent = a_tangent;\n#if CC_USE_MORPH\napplyMorph(In);\n#endif\n#if CC_USE_SKINNING\nCCSkin(In);\n#endif\nmat4 matWorld, matWorldIT;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\nmatWorldIT = matWorld;\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\nmatWorldIT = matWorld;\n#else\nmatWorld = cc_matWorld;\nmatWorldIT = cc_matWorldIT;\n#endif\nv_worldPos = matWorld * In.position;\nvec4 clipPos = cc_matLightViewProj * v_worldPos;\nv_uv = a_texCoord * tilingOffset.xy + tilingOffset.zw;\n#if HAS_SECOND_UV\nv_uv1 = a_texCoord1 * tilingOffset.xy + tilingOffset.zw;\n#endif\nv_clip_depth = clipPos.z / clipPos.w * 0.5 + 0.5;\nreturn clipPos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nlayout(set = 1, binding = 0) uniform Constants {\nvec4 tilingOffset;\nvec4 albedo;\nvec4 albedoScaleAndCutoff;\nvec4 pbrParams;\nvec4 emissive;\nvec4 emissiveScaleParam;\n};\nvec4 packDepthToRGBA (float depth) {\nvec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\nret = fract(ret);\nret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\nreturn ret;\n}\nlayout(set = 0, binding = 2) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\nlayout(location = 0) in vec2 v_uv;\nlayout(location = 1) in vec2 v_uv1;\nlayout(location = 2) in vec4 v_worldPos;\nlayout(location = 3) in float v_clip_depth;\n#if USE_ALBEDO_MAP\nlayout(set = 1, binding = 1) uniform sampler2D albedoMap;\n#endif\n#if USE_ALPHA_TEST\n#endif\nvec4 frag () {\nvec4 baseColor = albedo;\n#if USE_ALBEDO_MAP\nbaseColor *= texture(albedoMap, ALBEDO_UV);\n#endif\n#if USE_ALPHA_TEST\nif (baseColor.ALPHA_TEST_CHANNEL < albedoScaleAndCutoff.w) discard;\n#endif\nif(cc_shadowLPNNInfo.x > 0.000001 && cc_shadowLPNNInfo.x < 1.999999) {\nif (cc_shadowNFLSInfo.z > 0.000001) {\nvec4 viewStartPos = cc_matLightView * v_worldPos;\nfloat dist = length(viewStartPos.xyz);\nfloat linearDepth = cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\nreturn vec4(linearDepth, 1.0, 1.0, 1.0);\n}\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nreturn packDepthToRGBA(v_clip_depth);\n}\nreturn vec4(v_clip_depth, 1.0, 1.0, 1.0);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nlayout(location = 0) out float v_fog_factor;\nlayout(location = 1) out highp vec4 v_shadowPos;\nlayout(set = 0, binding = 2) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if CC_RECEIVE_SHADOW\nlayout(set = 0, binding = 3) uniform sampler2D cc_shadowMap;\nlayout(set = 0, binding = 5) uniform sampler2D cc_spotLightingMap;\n#endif\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_normal;\nlayout(location = 2) in vec2 a_texCoord;\nlayout(location = 2) out highp vec3 v_position;\nlayout(location = 3) out mediump vec3 v_normal;\n#if USE_NORMALMAP\nlayout(location = 4) out mediump vec3 v_tangent;\nlayout(location = 5) out mediump vec3 v_binormal;\n#endif\nlayout(location = 6) out mediump vec2 uvw;\nlayout(location = 7) out mediump vec2 uv0;\nlayout(location = 8) out mediump vec2 uv1;\nlayout(location = 9) out mediump vec2 uv2;\nlayout(location = 10) out mediump vec2 uv3;\nlayout(location = 11) out mediump vec3 luv;\nlayout(location = 12) out mediump vec3 diffuse;\nlayout(set = 1, binding = 0) uniform TexCoords {\nvec4 UVScale;\nvec4 lightMapUVParam;\n};\nvoid main () {\nvec3 worldPos;\nworldPos.x = cc_matWorld[3][0] + a_position.x;\nworldPos.y = cc_matWorld[3][1] + a_position.y;\nworldPos.z = cc_matWorld[3][2] + a_position.z;\nvec4 pos = vec4(worldPos, 1.0);\npos = cc_matViewProj * pos;\nuvw = a_texCoord;\nuv0 = a_position.xz * UVScale.x;\nuv1 = a_position.xz * UVScale.y;\nuv2 = a_position.xz * UVScale.z;\nuv3 = a_position.xz * UVScale.w;\n#if USE_LIGHTMAP\nluv.xy = lightMapUVParam.xy + a_texCoord * lightMapUVParam.zw;\nluv.z = lightMapUVParam.z;\n#endif\nv_position = worldPos;\nv_normal = a_normal;\n#if CC_USE_FOG == 0\nv_fog_factor = LinearFog(vec4(worldPos, 1.0));\n#elif CC_USE_FOG == 1\nv_fog_factor = ExpFog(vec4(worldPos, 1.0));\n#elif CC_USE_FOG == 2\nv_fog_factor = ExpSquaredFog(vec4(worldPos, 1.0));\n#elif CC_USE_FOG == 3\nv_fog_factor = LayeredFog(vec4(worldPos, 1.0));\n#else\nv_fog_factor = 1.0;\n#endif\n#if USE_NORMALMAP\nv_tangent = vec3(1.0, 0.0, 0.0);\nv_binormal = vec3(0.0, 0.0, 1.0);\nv_binormal = cross(v_tangent, a_normal);\nv_tangent = cross(a_normal, v_binormal);\n#endif\nv_shadowPos = cc_matLightViewProj * vec4(worldPos, 1.0);\ngl_Position = pos;\n}",frag:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nlayout(set = 0, binding = 2) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if CC_RECEIVE_SHADOW\nlayout(set = 0, binding = 3) uniform sampler2D cc_shadowMap;\nlayout(set = 0, binding = 5) uniform sampler2D cc_spotLightingMap;\nfloat CCGetLinearDepth (vec3 worldPos) {\nvec4 viewStartPos = cc_matLightView * vec4(worldPos.xyz, 1.0);\nfloat dist = length(viewStartPos.xyz);\nreturn cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\n}\nfloat CCGetShadowFactorX1 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_shadowMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_shadowMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, clipPos.z- cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetShadowFactorX5 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetShadowFactorX9 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetShadowFactorX25 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\nfloat CCGetDirLightShadowFactorX1 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nfloat depth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_spotLightingMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_spotLightingMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, depth - cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetDirLightShadowFactorX5 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetDirLightShadowFactorX9 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetDirLightShadowFactorX25 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat depth = 0.0;\nfloat shadow = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\n#endif\n#if CC_USE_IBL\nlayout(set = 0, binding = 4) uniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec4 fragTextureLod (sampler2D tex, vec2 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\nvec4 fragTextureLod (samplerCube tex, vec3 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\n#endif\nfloat GGXMobile (float roughness, float NoH, vec3 H, vec3 N) {\nvec3 NxH = cross(N, H);\nfloat OneMinusNoHSqr = dot(NxH, NxH);\nfloat a = roughness * roughness;\nfloat n = NoH * a;\nfloat p = a / (OneMinusNoHSqr + n * n);\nreturn p * p;\n}\nfloat CalcSpecular (float roughness, float NoH, vec3 H, vec3 N) {\nreturn (roughness * 0.25 + 0.25) * GGXMobile(roughness, NoH, H, N);\n}\nvec3 BRDFApprox (vec3 specular, float roughness, float NoV) {\nconst vec4 c0 = vec4(-1.0, -0.0275, -0.572, 0.022);\nconst vec4 c1 = vec4(1.0, 0.0425, 1.04, -0.04);\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NoV)) * r.x + r.y;\nvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\nAB.y *= clamp(50.0 * specular.g, 0.0, 1.0);\nreturn specular * AB.x + AB.y;\n}\nstruct StandardSurface {\nvec4 albedo;\nvec3 position;\nvec3 normal;\nvec3 emissive;\nvec3 lightmap;\nfloat lightmap_test;\nfloat roughness;\nfloat metallic;\nfloat occlusion;\n};\nvec4 CCStandardShadingBase (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 L = normalize(-cc_mainLitDir.xyz);\nvec3 H = normalize(L + V);\nfloat NH = max(dot(N, H), 0.0);\nfloat NL = max(dot(N, L), 0.001);\nvec3 finalColor = NL * cc_mainLitColor.rgb * cc_mainLitColor.w;\nvec3 diffuseContrib = diffuse;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nif (s.lightmap_test > 0.0001) {\nfinalColor = s.lightmap.rgb;\n}\n#else\ndiffuseContrib /= 3.14159265359;\n#endif\nvec3 specularContrib = specular * CalcSpecular(s.roughness, NH, H, N);\nfinalColor *= (diffuseContrib + specularContrib);\nfloat fAmb = 0.5 - N.y * 0.5;\nvec3 ambDiff = mix(cc_ambientSky.rgb, cc_ambientGround.rgb, fAmb) * cc_ambientSky.w;\nfinalColor += (ambDiff.rgb * diffuse);\n#if CC_USE_IBL\nvec3 R = normalize(reflect(-V, N));\nvec4 envmap = fragTextureLod(cc_environment, R, s.roughness * cc_ambientGround.w);\n#if CC_USE_IBL == 2\nvec3 env = unpackRGBE(envmap);\n#else\nvec3 env = SRGBToLinear(envmap.rgb);\n#endif\nfinalColor += env * cc_ambientSky.w * specular;\n#endif\nfinalColor = finalColor * s.occlusion;\n#if CC_USE_HDR\ns.emissive *= cc_exposure.w;\n#endif\nfinalColor += s.emissive;\n#if CC_RECEIVE_SHADOW\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, L.xyz), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetShadowFactorX25(pos);\nelse if (pcf > 2.0) shadowAttenuation = CCGetShadowFactorX9(pos);\nelse if (pcf > 1.0) shadowAttenuation = CCGetShadowFactorX5(pos);\nelse shadowAttenuation = CCGetShadowFactorX1(pos);\nvec3 shadowColor = cc_shadowColor.rgb * cc_shadowColor.a + finalColor.rgb * (1.0 - cc_shadowColor.a);\nif (cc_shadowNFLSInfo.w > 0.000001) {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation + finalColor.rgb * (1.0 - shadowAttenuation);\n} else {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation * NL + finalColor.rgb * (1.0 - shadowAttenuation * NL);\n}\n}\n#endif\nreturn vec4(finalColor, s.albedo.a);\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nlayout(location = 0) in float v_fog_factor;\nlayout(location = 1) in highp vec4 v_shadowPos;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nlayout(location = 13) in vec3 v_luv;\nlayout(set = 2, binding = 9) uniform sampler2D cc_lightingMap;\nvec3 UnpackLightingmap(vec4 color) {\nvec3 c;\nfloat e = 1.0 + color.a * (8.0 - 1.0);\nc.r = color.r * e;\nc.g = color.g * e;\nc.b = color.b * e;\nreturn c;\n}\n#endif\nlayout(location = 2) in highp vec3 v_position;\nlayout(location = 3) in mediump vec3 v_normal;\n#if USE_NORMALMAP\nlayout(location = 4) in mediump vec3 v_tangent;\nlayout(location = 5) in mediump vec3 v_binormal;\n#endif\nlayout(location = 6) in mediump vec2 uvw;\nlayout(location = 7) in mediump vec2 uv0;\nlayout(location = 8) in mediump vec2 uv1;\nlayout(location = 9) in mediump vec2 uv2;\nlayout(location = 10) in mediump vec2 uv3;\nlayout(location = 12) in mediump vec3 diffuse;\nlayout(location = 11) in mediump vec3 luv;\nlayout(set = 1, binding = 1) uniform PbrParams {\nvec4 metallic;\nvec4 roughness;\n};\nlayout(set = 1, binding = 2) uniform sampler2D weightMap;\nlayout(set = 1, binding = 3) uniform sampler2D detailMap0;\nlayout(set = 1, binding = 4) uniform sampler2D detailMap1;\nlayout(set = 1, binding = 5) uniform sampler2D detailMap2;\nlayout(set = 1, binding = 6) uniform sampler2D detailMap3;\nlayout(set = 1, binding = 7) uniform sampler2D normalMap0;\nlayout(set = 1, binding = 8) uniform sampler2D normalMap1;\nlayout(set = 1, binding = 9) uniform sampler2D normalMap2;\nlayout(set = 1, binding = 10) uniform sampler2D normalMap3;\nlayout(set = 1, binding = 11) uniform sampler2D lightMap;\nvoid surf (out StandardSurface s) {\n#if LAYERS > 1\nvec4 w = texture(weightMap, uvw);\n#endif\nvec4 baseColor = vec4(0, 0, 0, 0);\n#if LAYERS == 1\nbaseColor = texture(detailMap0, uv0);\n#elif LAYERS == 2\nbaseColor += texture(detailMap0, uv0) * w.r;\nbaseColor += texture(detailMap1, uv1) * w.g;\n#elif LAYERS == 3\nbaseColor += texture(detailMap0, uv0) * w.r;\nbaseColor += texture(detailMap1, uv1) * w.g;\nbaseColor += texture(detailMap2, uv2) * w.b;\n#elif LAYERS == 4\nbaseColor += texture(detailMap0, uv0) * w.r;\nbaseColor += texture(detailMap1, uv1) * w.g;\nbaseColor += texture(detailMap2, uv2) * w.b;\nbaseColor += texture(detailMap3, uv3) * w.a;\n#else\nbaseColor = texture(detailMap0, uv0);\n#endif\ns.position = v_position;\n#if USE_NORMALMAP\nvec4 baseNormal = vec4(0, 0, 0, 0);\n#if LAYERS == 1\nbaseNormal = texture(normalMap0, uv0);\n#elif LAYERS == 2\nbaseNormal += texture(normalMap0, uv0) * w.r;\nbaseNormal += texture(normalMap1, uv1) * w.g;\n#elif LAYERS == 3\nbaseNormal += texture(normalMap0, uv0) * w.r;\nbaseNormal += texture(normalMap1, uv1) * w.g;\nbaseNormal += texture(normalMap2, uv2) * w.b;\n#elif LAYERS == 4\nbaseNormal += texture(normalMap0, uv0) * w.r;\nbaseNormal += texture(normalMap1, uv1) * w.g;\nbaseNormal += texture(normalMap2, uv2) * w.b;\nbaseNormal += texture(normalMap3, uv3) * w.a;\n#else\nbaseNormal = texture(normalMap0, uv0);\n#endif\nvec3 nmmp = baseNormal.xyz - vec3(0.5);\ns.normal =\nnmmp.x * normalize(v_tangent) +\nnmmp.y * normalize(v_binormal) +\nnmmp.z * normalize(v_normal);\n#else\ns.normal = v_normal;\n#endif\ns.albedo = vec4(SRGBToLinear(baseColor.rgb), 1.0);\ns.occlusion = 1.0;\n#if USE_PBR\ns.roughness = 0.0;\n#if LAYERS == 1\ns.roughness = roughness.x;\n#elif LAYERS == 2\ns.roughness += roughness.x * w.r;\ns.roughness += roughness.y * w.g;\n#elif LAYERS == 3\ns.roughness += roughness.x * w.r;\ns.roughness += roughness.y * w.g;\ns.roughness += roughness.z * w.b;\n#elif LAYERS == 4\ns.roughness += roughness.x * w.r;\ns.roughness += roughness.y * w.g;\ns.roughness += roughness.z * w.b;\ns.roughness += roughness.w * w.a;\n#else\ns.roughness = 1.0;\n#endif\ns.metallic = 0.0;\n#if LAYERS == 1\ns.metallic = metallic.x;\n#elif LAYERS == 2\ns.metallic += metallic.x * w.r;\ns.metallic += metallic.y * w.g;\n#elif LAYERS == 3\ns.metallic += metallic.x * w.r;\ns.metallic += metallic.y * w.g;\ns.metallic += metallic.z * w.b;\n#elif LAYERS == 4\ns.metallic += metallic.x * w.r;\ns.metallic += metallic.y * w.g;\ns.metallic += metallic.z * w.b;\ns.metallic += metallic.w * w.a;\n#else\ns.metallic = 0.0;\n#endif\n#else\ns.roughness = 1.0;\ns.metallic = 0.0;\n#endif\ns.emissive = vec3(0.0, 0.0, 0.0);\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nvec4 lightColor = texture(lightMap, luv.xy);\ns.lightmap = UnpackLightingmap(lightColor);\ns.lightmap_test = luv.z;\n#endif\n}\n#if CC_FORWARD_ADD\n#if CC_PIPELINE_TYPE == 0\n# define LIGHTS_PER_PASS 1\n#else\n# define LIGHTS_PER_PASS 10\n#endif\nlayout(set = 2, binding = 1) uniform CCForwardLight {\nhighp vec4 cc_lightPos[LIGHTS_PER_PASS];\nvec4 cc_lightColor[LIGHTS_PER_PASS];\nvec4 cc_lightSizeRangeAngle[LIGHTS_PER_PASS];\nvec4 cc_lightDir[LIGHTS_PER_PASS];\n};\nfloat SmoothDistAtt (float distSqr, float invSqrAttRadius) {\nfloat factor = distSqr * invSqrAttRadius;\nfloat smoothFactor = clamp(1.0 - factor * factor, 0.0, 1.0);\nreturn smoothFactor * smoothFactor;\n}\nfloat GetDistAtt (float distSqr, float invSqrAttRadius) {\nfloat attenuation = 1.0 / max(distSqr, 0.01*0.01);\nattenuation *= SmoothDistAtt(distSqr , invSqrAttRadius);\nreturn attenuation;\n}\nfloat GetAngleAtt (vec3 L, vec3 litDir, float litAngleScale, float litAngleOffset) {\nfloat cd = dot(litDir, L);\nfloat attenuation = clamp(cd * litAngleScale + litAngleOffset, 0.0, 1.0);\nreturn (attenuation * attenuation);\n}\nvec4 CCStandardShadingAdditive (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 diffuseContrib = diffuse / 3.14159265359;\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 finalColor = vec3(0.0);\nint numLights = CC_PIPELINE_TYPE == 0 ? LIGHTS_PER_PASS : int(cc_lightDir[0].w);\nfor (int i = 0; i < LIGHTS_PER_PASS; i++) {\nif (i >= numLights) break;\nvec3 SLU = cc_lightPos[i].xyz - s.position;\nvec3 SL = normalize(SLU);\nvec3 SH = normalize(SL + V);\nfloat SNL = max(dot(N, SL), 0.001);\nfloat SNH = max(dot(N, SH), 0.0);\nfloat distSqr = dot(SLU, SLU);\nfloat litRadius = cc_lightSizeRangeAngle[i].x;\nfloat litRadiusSqr = litRadius * litRadius;\nfloat illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\nfloat attRadiusSqrInv = 1.0 / max(cc_lightSizeRangeAngle[i].y, 0.01);\nattRadiusSqrInv *= attRadiusSqrInv;\nfloat att = GetDistAtt(distSqr, attRadiusSqrInv);\nvec3 lspec = specular * CalcSpecular(s.roughness, SNH, SH, N);\nif (cc_lightPos[i].w > 0.0) {\nfloat cosInner = max(dot(-cc_lightDir[i].xyz, SL), 0.01);\nfloat cosOuter = cc_lightSizeRangeAngle[i].z;\nfloat litAngleScale = 1.0 / max(0.001, cosInner - cosOuter);\nfloat litAngleOffset = -cosOuter * litAngleScale;\natt *= GetAngleAtt(SL, -cc_lightDir[i].xyz, litAngleScale, litAngleOffset);\n}\nvec3 lightColor = cc_lightColor[i].rgb;\n#if CC_RECEIVE_SHADOW\nif (cc_lightPos[i].w > 0.0) {\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, normalize(cc_lightPos[i].xyz - s.position.xyz)), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetDirLightShadowFactorX25(pos, s.position);\nelse if (pcf > 2.0) shadowAttenuation = CCGetDirLightShadowFactorX9(pos, s.position);\nelse if (pcf > 1.0) shadowAttenuation = CCGetDirLightShadowFactorX5(pos, s.position);\nelse shadowAttenuation = CCGetDirLightShadowFactorX1(pos, s.position);\nlightColor *= 1.0 - shadowAttenuation;\n}\n}\n#endif\nfinalColor += SNL * lightColor * cc_lightColor[i].w * illum * att * (diffuseContrib + lspec);\n}\nfinalColor = finalColor * s.occlusion;\nreturn vec4(finalColor, 0.0);\n}\nlayout(location = 0) out vec4 fragColorX;\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingAdditive(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\nfragColorX = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 0\nlayout(location = 0) out vec4 fragColorX;\nvoid main () {\nStandardSurface s; surf(s);\nvec4 color = CCStandardShadingBase(s, v_shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, v_fog_factor), color.a);\nfragColorX = CCFragOutput(color);\n}\n#elif CC_PIPELINE_TYPE == 1\nlayout(location = 0) out vec4 fragColor0;\nlayout(location = 1) out vec4 fragColor1;\nlayout(location = 2) out vec4 fragColor2;\nlayout(location = 3) out vec4 fragColor3;\nvoid main () {\nStandardSurface s; surf(s);\nfragColor0 = s.albedo;\nfragColor1 = vec4(s.position, s.roughness);\nfragColor2 = vec4(s.normal, s.metallic);\nfragColor3 = vec4(s.emissive, s.occlusion);\n}\n#endif"},{vert:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\nlayout(set = 0, binding = 2) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_normal;\nlayout(location = 2) in vec2 a_texCoord;\nlayout(location = 0) out vec2 v_clip_depth;\nvec4 vert () {\nvec4 worldPos;\nworldPos.x = cc_matWorld[3][0] + a_position.x;\nworldPos.y = cc_matWorld[3][1] + a_position.y;\nworldPos.z = cc_matWorld[3][2] + a_position.z;\nworldPos.w = 1.0;\nvec4 clipPos = cc_matLightViewProj * worldPos;\nv_clip_depth = clipPos.zw;\nreturn clipPos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nvec4 packDepthToRGBA (float depth) {\nvec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\nret = fract(ret);\nret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\nreturn ret;\n}\nlayout(location = 0) in vec2 v_clip_depth;\nvec4 frag () {\nreturn packDepthToRGBA(v_clip_depth.x / v_clip_depth.y * 0.5 + 0.5);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"#extension GL_EXT_shader_explicit_arithmetic_types_int32: require\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_normal;\nlayout(location = 2) in vec2 a_texCoord;\nlayout(location = 3) in vec4 a_tangent;\n#if CC_USE_MORPH\nint getVertexId() {\nreturn gl_VertexIndex;\n}\nlayout(set = 2, binding = 4) uniform CCMorph {\nvec4 cc_displacementWeights[15];\nvec4 cc_displacementTextureInfo;\n};\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\nivec2 texSize = textureSize(tex, 0);\nreturn texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture(tex, x)),\ndecode32(texture(tex, y)),\ndecode32(texture(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nlayout(set = 2, binding = 6) uniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nlayout(set = 2, binding = 7) uniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nlayout(set = 2, binding = 8) uniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nlayout(location = 4) in u32vec4 a_joints;\nlayout(location = 5) in vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nlayout(location = 7) in highp vec4 a_jointAnimInfo;\n#endif\nlayout(set = 2, binding = 3) uniform CCSkinningTexture {\nhighp vec4 cc_jointTextureInfo;\n};\nlayout(set = 2, binding = 2) uniform CCSkinningAnimation {\nhighp vec4 cc_jointAnimInfo;\n};\nlayout(set = 2, binding = 5) uniform highp sampler2D cc_jointTexture;\n#else\nlayout(set = 2, binding = 3) uniform CCSkinning {\nhighp vec4 cc_joints[30 * 3];\n};\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\n#if USE_INSTANCING\nlayout(location = 8) in vec4 a_matWorld0;\nlayout(location = 9) in vec4 a_matWorld1;\nlayout(location = 10) in vec4 a_matWorld2;\n#if USE_LIGHTMAP\nlayout(location = 11) in vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nlayout(location = 12) in float a_dyn_batch_id;\nlayout(set = 2, binding = 0) uniform CCLocalBatched {\nhighp mat4 cc_matWorlds[10];\n};\n#else\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nlayout(location = 0) out float v_fog_factor;\n#if USE_VERTEX_COLOR\nlayout(location = 13) in lowp vec4 a_color;\nlayout(location = 1) out lowp vec4 v_color;\n#endif\n#if USE_TEXTURE\nlayout(location = 2) out vec2 v_uv;\nlayout(set = 1, binding = 0) uniform TexCoords {\nvec4 tilingOffset;\n};\n#endif\nvec4 vert () {\nvec4 position;\nposition = vec4(a_position, 1.0);\n#if CC_USE_MORPH\napplyMorph(position);\n#endif\n#if CC_USE_SKINNING\nCCSkin(position);\n#endif\nmat4 matWorld;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\n#else\nmatWorld = cc_matWorld;\n#endif\n#if USE_TEXTURE\nv_uv = a_texCoord * tilingOffset.xy + tilingOffset.zw;\n#if SAMPLE_FROM_RT\nv_uv = cc_cameraPos.w > 1.0 ? vec2(v_uv.x, 1.0 - v_uv.y) : v_uv;\n#endif\n#endif\n#if USE_VERTEX_COLOR\nv_color = a_color;\n#endif\n#if CC_USE_FOG == 0\nv_fog_factor = LinearFog(matWorld * position);\n#elif CC_USE_FOG == 1\nv_fog_factor = ExpFog(matWorld * position);\n#elif CC_USE_FOG == 2\nv_fog_factor = ExpSquaredFog(matWorld * position);\n#elif CC_USE_FOG == 3\nv_fog_factor = LayeredFog(matWorld * position);\n#else\nv_fog_factor = 1.0;\n#endif\nreturn cc_matProj * (cc_matView * matWorld) * position;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nlayout(location = 0) in float v_fog_factor;\n#if USE_ALPHA_TEST\n#endif\n#if USE_TEXTURE\nlayout(location = 2) in vec2 v_uv;\nlayout(set = 1, binding = 2) uniform sampler2D mainTexture;\n#endif\nlayout(set = 1, binding = 1) uniform Constant {\nvec4 mainColor;\nvec4 colorScaleAndCutoff;\n};\n#if USE_VERTEX_COLOR\nlayout(location = 1) in lowp vec4 v_color;\n#endif\nvec4 frag () {\nvec4 o = mainColor;\no.rgb *= colorScaleAndCutoff.xyz;\n#if USE_VERTEX_COLOR\no *= v_color;\n#endif\n#if USE_TEXTURE\no *= texture(mainTexture, v_uv);\n#endif\n#if USE_ALPHA_TEST\nif (o.ALPHA_TEST_CHANNEL < colorScaleAndCutoff.w) discard;\n#endif\no = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, o.rgb, v_fog_factor), o.a);\nreturn CCFragOutput(o);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision highp float;\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_normal;\nlayout(location = 2) in vec2 a_texCoord;\nlayout(location = 3) in vec4 a_tangent;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(location = 0) out vec2 v_uv;\nvoid main () {\nvec4 position;\nposition = vec4(a_position, 1.0);\nposition.xy = cc_cameraPos.w == 0.0 ? vec2(position.xy.x, -position.xy.y) : position.xy;\ngl_Position = vec4(position.x, position.y, 1.0, 1.0);\nv_uv = a_texCoord;\n}",frag:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nlayout(set = 0, binding = 2) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\n#if CC_RECEIVE_SHADOW\nlayout(set = 0, binding = 3) uniform sampler2D cc_shadowMap;\nlayout(set = 0, binding = 5) uniform sampler2D cc_spotLightingMap;\nfloat CCGetLinearDepth (vec3 worldPos) {\nvec4 viewStartPos = cc_matLightView * vec4(worldPos.xyz, 1.0);\nfloat dist = length(viewStartPos.xyz);\nreturn cc_shadowNFLSInfo.x + (-dist / (cc_shadowNFLSInfo.y - cc_shadowNFLSInfo.x));\n}\nfloat CCGetShadowFactorX1 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_shadowMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_shadowMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, clipPos.z- cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetShadowFactorX5 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_shadowMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetShadowFactorX9 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetShadowFactorX25 (vec4 shadowPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_shadowMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\nfloat CCGetDirLightShadowFactorX1 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat shadow = 0.0;\nfloat closestDepth = 0.0;\nfloat depth = 0.0;\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nif (cc_shadowLPNNInfo.y > 0.000001) {\nclosestDepth = dot(texture(cc_spotLightingMap, clipPos.xy), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\n} else {\nclosestDepth = texture(cc_spotLightingMap, clipPos.xy).x;\n}\nshadow = step(closestDepth, depth - cc_shadowWHPBInfo.w);\nreturn shadow;\n}\nfloat CCGetDirLightShadowFactorX5 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = dot(texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n} else {\nfloat closestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x - offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x, clipPos.y)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y - offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\nclosestDepth = texture(cc_spotLightingMap, vec2(clipPos.x + offsetx, clipPos.y + offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\nreturn shadow / 5.0;\n}\nfloat CCGetDirLightShadowFactorX9 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat shadow = 0.0;\nfloat depth = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -1; i <= 1; i++) {\nfor (int j = -1; j <= 1; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, depth - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 9.0;\n}\nfloat CCGetDirLightShadowFactorX25 (vec4 shadowPos, vec3 worldPos) {\nvec3 clipPos = shadowPos.xyz / shadowPos.w * 0.5 + 0.5;\nif (clipPos.x < 0.0 || clipPos.x > 1.0 ||\nclipPos.y < 0.0 || clipPos.y > 1.0 ||\nclipPos.z <-1.0 || clipPos.z > 1.0) { return 0.0; }\nfloat offsetx = 1.0 / cc_shadowWHPBInfo.x;\nfloat offsety = 1.0 / cc_shadowWHPBInfo.y;\nfloat depth = 0.0;\nfloat shadow = 0.0;\nif (cc_shadowNFLSInfo.z > 0.000001) {\ndepth = CCGetLinearDepth(worldPos);\n} else {\ndepth = clipPos.z;\n}\nclipPos.xy = cc_cameraPos.w == 1.0 ? vec2(clipPos.xy.x, 1.0 - clipPos.xy.y) : clipPos.xy;\nif (cc_shadowLPNNInfo.y > 0.000001) {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = dot(texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)), vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n} else {\nfor (int i = -2; i <= 2; i++) {\nfor (int j = -2; j <= 2; j++) {\nfloat closestDepth = texture(cc_spotLightingMap, clipPos.xy + vec2(i, j) * vec2(offsetx, offsety)).x;\nshadow += step(closestDepth, clipPos.z - cc_shadowWHPBInfo.w);\n}\n}\n}\nreturn shadow / 25.0;\n}\n#endif\n#if CC_USE_IBL\nlayout(set = 0, binding = 4) uniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec4 fragTextureLod (sampler2D tex, vec2 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\nvec4 fragTextureLod (samplerCube tex, vec3 coord, float lod) {\nreturn textureLod(tex, coord, lod);\n}\n#endif\nfloat GGXMobile (float roughness, float NoH, vec3 H, vec3 N) {\nvec3 NxH = cross(N, H);\nfloat OneMinusNoHSqr = dot(NxH, NxH);\nfloat a = roughness * roughness;\nfloat n = NoH * a;\nfloat p = a / (OneMinusNoHSqr + n * n);\nreturn p * p;\n}\nfloat CalcSpecular (float roughness, float NoH, vec3 H, vec3 N) {\nreturn (roughness * 0.25 + 0.25) * GGXMobile(roughness, NoH, H, N);\n}\nvec3 BRDFApprox (vec3 specular, float roughness, float NoV) {\nconst vec4 c0 = vec4(-1.0, -0.0275, -0.572, 0.022);\nconst vec4 c1 = vec4(1.0, 0.0425, 1.04, -0.04);\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NoV)) * r.x + r.y;\nvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\nAB.y *= clamp(50.0 * specular.g, 0.0, 1.0);\nreturn specular * AB.x + AB.y;\n}\nstruct StandardSurface {\nvec4 albedo;\nvec3 position;\nvec3 normal;\nvec3 emissive;\nvec3 lightmap;\nfloat lightmap_test;\nfloat roughness;\nfloat metallic;\nfloat occlusion;\n};\nvec4 CCStandardShadingBase (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 L = normalize(-cc_mainLitDir.xyz);\nvec3 H = normalize(L + V);\nfloat NH = max(dot(N, H), 0.0);\nfloat NL = max(dot(N, L), 0.001);\nvec3 finalColor = NL * cc_mainLitColor.rgb * cc_mainLitColor.w;\nvec3 diffuseContrib = diffuse;\n#if USE_LIGHTMAP && !USE_BATCHING && !CC_FORWARD_ADD\nif (s.lightmap_test > 0.0001) {\nfinalColor = s.lightmap.rgb;\n}\n#else\ndiffuseContrib /= 3.14159265359;\n#endif\nvec3 specularContrib = specular * CalcSpecular(s.roughness, NH, H, N);\nfinalColor *= (diffuseContrib + specularContrib);\nfloat fAmb = 0.5 - N.y * 0.5;\nvec3 ambDiff = mix(cc_ambientSky.rgb, cc_ambientGround.rgb, fAmb) * cc_ambientSky.w;\nfinalColor += (ambDiff.rgb * diffuse);\n#if CC_USE_IBL\nvec3 R = normalize(reflect(-V, N));\nvec4 envmap = fragTextureLod(cc_environment, R, s.roughness * cc_ambientGround.w);\n#if CC_USE_IBL == 2\nvec3 env = unpackRGBE(envmap);\n#else\nvec3 env = SRGBToLinear(envmap.rgb);\n#endif\nfinalColor += env * cc_ambientSky.w * specular;\n#endif\nfinalColor = finalColor * s.occlusion;\n#if CC_USE_HDR\ns.emissive *= cc_exposure.w;\n#endif\nfinalColor += s.emissive;\n#if CC_RECEIVE_SHADOW\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, L.xyz), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetShadowFactorX25(pos);\nelse if (pcf > 2.0) shadowAttenuation = CCGetShadowFactorX9(pos);\nelse if (pcf > 1.0) shadowAttenuation = CCGetShadowFactorX5(pos);\nelse shadowAttenuation = CCGetShadowFactorX1(pos);\nvec3 shadowColor = cc_shadowColor.rgb * cc_shadowColor.a + finalColor.rgb * (1.0 - cc_shadowColor.a);\nif (cc_shadowNFLSInfo.w > 0.000001) {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation + finalColor.rgb * (1.0 - shadowAttenuation);\n} else {\nfinalColor.rgb = shadowColor.rgb * shadowAttenuation * NL + finalColor.rgb * (1.0 - shadowAttenuation * NL);\n}\n}\n#endif\nreturn vec4(finalColor, s.albedo.a);\n}\n#if CC_PIPELINE_TYPE == 0\n# define LIGHTS_PER_PASS 1\n#else\n# define LIGHTS_PER_PASS 10\n#endif\nlayout(set = 2, binding = 1) uniform CCForwardLight {\nhighp vec4 cc_lightPos[LIGHTS_PER_PASS];\nvec4 cc_lightColor[LIGHTS_PER_PASS];\nvec4 cc_lightSizeRangeAngle[LIGHTS_PER_PASS];\nvec4 cc_lightDir[LIGHTS_PER_PASS];\n};\nfloat SmoothDistAtt (float distSqr, float invSqrAttRadius) {\nfloat factor = distSqr * invSqrAttRadius;\nfloat smoothFactor = clamp(1.0 - factor * factor, 0.0, 1.0);\nreturn smoothFactor * smoothFactor;\n}\nfloat GetDistAtt (float distSqr, float invSqrAttRadius) {\nfloat attenuation = 1.0 / max(distSqr, 0.01*0.01);\nattenuation *= SmoothDistAtt(distSqr , invSqrAttRadius);\nreturn attenuation;\n}\nfloat GetAngleAtt (vec3 L, vec3 litDir, float litAngleScale, float litAngleOffset) {\nfloat cd = dot(litDir, L);\nfloat attenuation = clamp(cd * litAngleScale + litAngleOffset, 0.0, 1.0);\nreturn (attenuation * attenuation);\n}\nvec4 CCStandardShadingAdditive (StandardSurface s, vec4 shadowPos) {\nvec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\nvec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\nvec3 diffuseContrib = diffuse / 3.14159265359;\nvec3 N = normalize(s.normal);\nvec3 V = normalize(cc_cameraPos.xyz - s.position);\nfloat NV = max(abs(dot(N, V)), 0.001);\nspecular = BRDFApprox(specular, s.roughness, NV);\nvec3 finalColor = vec3(0.0);\nint numLights = CC_PIPELINE_TYPE == 0 ? LIGHTS_PER_PASS : int(cc_lightDir[0].w);\nfor (int i = 0; i < LIGHTS_PER_PASS; i++) {\nif (i >= numLights) break;\nvec3 SLU = cc_lightPos[i].xyz - s.position;\nvec3 SL = normalize(SLU);\nvec3 SH = normalize(SL + V);\nfloat SNL = max(dot(N, SL), 0.001);\nfloat SNH = max(dot(N, SH), 0.0);\nfloat distSqr = dot(SLU, SLU);\nfloat litRadius = cc_lightSizeRangeAngle[i].x;\nfloat litRadiusSqr = litRadius * litRadius;\nfloat illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\nfloat attRadiusSqrInv = 1.0 / max(cc_lightSizeRangeAngle[i].y, 0.01);\nattRadiusSqrInv *= attRadiusSqrInv;\nfloat att = GetDistAtt(distSqr, attRadiusSqrInv);\nvec3 lspec = specular * CalcSpecular(s.roughness, SNH, SH, N);\nif (cc_lightPos[i].w > 0.0) {\nfloat cosInner = max(dot(-cc_lightDir[i].xyz, SL), 0.01);\nfloat cosOuter = cc_lightSizeRangeAngle[i].z;\nfloat litAngleScale = 1.0 / max(0.001, cosInner - cosOuter);\nfloat litAngleOffset = -cosOuter * litAngleScale;\natt *= GetAngleAtt(SL, -cc_lightDir[i].xyz, litAngleScale, litAngleOffset);\n}\nvec3 lightColor = cc_lightColor[i].rgb;\n#if CC_RECEIVE_SHADOW\nif (cc_lightPos[i].w > 0.0) {\n{\nfloat pcf = cc_shadowWHPBInfo.z + 0.001;\nfloat shadowAttenuation = 0.0;\nfloat cosAngle = clamp(1.0 - dot(N, normalize(cc_lightPos[i].xyz - s.position.xyz)), 0.0, 1.0);\nvec3 projWorldPos = shadowPos.xyz + cosAngle * cc_shadowLPNNInfo.z * N;\nvec4 pos = vec4(projWorldPos.xyz, shadowPos.w);\nif (pcf > 3.0) shadowAttenuation = CCGetDirLightShadowFactorX25(pos, s.position);\nelse if (pcf > 2.0) shadowAttenuation = CCGetDirLightShadowFactorX9(pos, s.position);\nelse if (pcf > 1.0) shadowAttenuation = CCGetDirLightShadowFactorX5(pos, s.position);\nelse shadowAttenuation = CCGetDirLightShadowFactorX1(pos, s.position);\nlightColor *= 1.0 - shadowAttenuation;\n}\n}\n#endif\nfinalColor += SNL * lightColor * cc_lightColor[i].w * illum * att * (diffuseContrib + lspec);\n}\nfinalColor = finalColor * s.occlusion;\nreturn vec4(finalColor, 0.0);\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nfloat LinearFog(vec4 pos) {\nvec4 wPos = pos;\nfloat cam_dis = distance(cc_cameraPos, wPos);\nfloat fogStart = cc_fogBase.x;\nfloat fogEnd = cc_fogBase.y;\nreturn clamp((fogEnd - cam_dis) / (fogEnd - fogStart), 0., 1.);\n}\nfloat ExpFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * fogDensity);\nreturn f;\n}\nfloat ExpSquaredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat fogDensity = cc_fogBase.z;\nfloat cam_dis = distance(cc_cameraPos, wPos) / fogAtten * 4.;\nfloat f = exp(-cam_dis * cam_dis * fogDensity * fogDensity);\nreturn f;\n}\nfloat LayeredFog(vec4 pos) {\nvec4 wPos = pos;\nfloat fogAtten = cc_fogAdd.z;\nfloat _FogTop = cc_fogAdd.x;\nfloat _FogRange = cc_fogAdd.y;\nvec3 camWorldProj = cc_cameraPos.xyz;\ncamWorldProj.y = 0.;\nvec3 worldPosProj = wPos.xyz;\nworldPosProj.y = 0.;\nfloat fDeltaD = distance(worldPosProj, camWorldProj) / fogAtten * 2.0;\nfloat fDeltaY, fDensityIntegral;\nif (cc_cameraPos.y > _FogTop) {\nif (wPos.y < _FogTop) {\nfDeltaY = (_FogTop - wPos.y) / _FogRange * 2.0;\nfDensityIntegral = fDeltaY * fDeltaY * 0.5;\n} else {\nfDeltaY = 0.;\nfDensityIntegral = 0.;\n}\n} else {\nif (wPos.y < _FogTop) {\nfloat fDeltaA = (_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfloat fDeltaB = (_FogTop - wPos.y) / _FogRange * 2.;\nfDeltaY = abs(fDeltaA - fDeltaB);\nfDensityIntegral = abs((fDeltaA * fDeltaA * 0.5) - (fDeltaB * fDeltaB * 0.5));\n} else {\nfDeltaY = abs(_FogTop - cc_cameraPos.y) / _FogRange * 2.;\nfDensityIntegral = abs(fDeltaY * fDeltaY * 0.5);\n}\n}\nfloat fDensity;\nif (fDeltaY != 0.) {\nfDensity = (sqrt(1.0 + ((fDeltaD / fDeltaY) * (fDeltaD / fDeltaY)))) * fDensityIntegral;\n} else {\nfDensity = 0.;\n}\nfloat f = exp(-fDensity);\nreturn f;\n}\nlayout(location = 0) in vec2 v_uv;\nlayout (set = 0, binding = 6) uniform sampler2D cc_gbuffer_albedoMap;\nlayout (set = 0, binding = 7) uniform sampler2D cc_gbuffer_positionMap;\nlayout (set = 0, binding = 8) uniform sampler2D cc_gbuffer_normalMap;\nlayout (set = 0, binding = 9) uniform sampler2D cc_gbuffer_emissiveMap;\nlayout(location = 0) out vec4 fragColor;\nvoid main () {\nStandardSurface s;\nvec4 albedoMap = texture(cc_gbuffer_albedoMap,v_uv);\nvec4 positionMap = texture(cc_gbuffer_positionMap,v_uv);\nvec4 normalMap = texture(cc_gbuffer_normalMap,v_uv);\nvec4 emissiveMap = texture(cc_gbuffer_emissiveMap,v_uv);\ns.albedo = albedoMap;\ns.position = positionMap.xyz;\ns.roughness = positionMap.w;\ns.normal = normalMap.xyz;\ns.metallic = normalMap.w;\ns.emissive = emissiveMap.xyz;\ns.occlusion = emissiveMap.w;\nfloat fogFactor;\n#if CC_USE_FOG == 0\nfogFactor = LinearFog(vec4(s.position, 1));\n#elif CC_USE_FOG == 1\nfogFactor = ExpFog(vec4(s.position, 1));\n#elif CC_USE_FOG == 2\nfogFactor = ExpSquaredFog(vec4(s.position, 1));\n#elif CC_USE_FOG == 3\nfogFactor = LayeredFog(vec4(s.position, 1));\n#else\nfogFactor = 1.0;\n#endif\nvec4 shadowPos;\nshadowPos = cc_matLightViewProj * vec4(s.position, 1);\nvec4 color = CCStandardShadingBase(s, shadowPos) +\nCCStandardShadingAdditive(s, shadowPos);\ncolor = vec4(mix(CC_FORWARD_ADD > 0 ? vec3(0.0) : cc_fogColor.rgb, color.rgb, fogFactor), color.a);\nfragColor = CCFragOutput(color);\n}"}],[{vert:"#extension GL_EXT_shader_explicit_arithmetic_types_int32: require\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_normal;\nlayout(location = 2) in vec2 a_texCoord;\nlayout(location = 3) in vec4 a_tangent;\n#if CC_USE_MORPH\nint getVertexId() {\nreturn gl_VertexIndex;\n}\nlayout(set = 2, binding = 4) uniform CCMorph {\nvec4 cc_displacementWeights[15];\nvec4 cc_displacementTextureInfo;\n};\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\nivec2 texSize = textureSize(tex, 0);\nreturn texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture(tex, x)),\ndecode32(texture(tex, y)),\ndecode32(texture(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nlayout(set = 2, binding = 6) uniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nlayout(set = 2, binding = 7) uniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nlayout(set = 2, binding = 8) uniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nlayout(location = 4) in u32vec4 a_joints;\nlayout(location = 5) in vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nlayout(location = 7) in highp vec4 a_jointAnimInfo;\n#endif\nlayout(set = 2, binding = 3) uniform CCSkinningTexture {\nhighp vec4 cc_jointTextureInfo;\n};\nlayout(set = 2, binding = 2) uniform CCSkinningAnimation {\nhighp vec4 cc_jointAnimInfo;\n};\nlayout(set = 2, binding = 5) uniform highp sampler2D cc_jointTexture;\n#else\nlayout(set = 2, binding = 3) uniform CCSkinning {\nhighp vec4 cc_joints[30 * 3];\n};\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\n#if USE_INSTANCING\nlayout(location = 8) in vec4 a_matWorld0;\nlayout(location = 9) in vec4 a_matWorld1;\nlayout(location = 10) in vec4 a_matWorld2;\n#if USE_LIGHTMAP\nlayout(location = 11) in vec4 a_lightingMapUVParam;\n#endif\n#elif USE_BATCHING\nlayout(location = 12) in float a_dyn_batch_id;\nlayout(set = 2, binding = 0) uniform CCLocalBatched {\nhighp mat4 cc_matWorlds[10];\n};\n#else\nlayout(set = 2, binding = 0) uniform CCLocal {\nhighp mat4 cc_matWorld;\nhighp mat4 cc_matWorldIT;\nhighp vec4 cc_lightingMapUVParam;\n};\n#endif\nlayout(set = 0, binding = 2) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\nvec4 vert () {\nvec4 position;\nposition = vec4(a_position, 1.0);\n#if CC_USE_MORPH\napplyMorph(position);\n#endif\n#if CC_USE_SKINNING\nCCSkin(position);\n#endif\nmat4 matWorld;\n#if USE_INSTANCING\nmatWorld = mat4(\nvec4(a_matWorld0.xyz, 0.0),\nvec4(a_matWorld1.xyz, 0.0),\nvec4(a_matWorld2.xyz, 0.0),\nvec4(a_matWorld0.w, a_matWorld1.w, a_matWorld2.w, 1.0)\n);\n#elif USE_BATCHING\nmatWorld = cc_matWorlds[int(a_dyn_batch_id)];\n#else\nmatWorld = cc_matWorld;\n#endif\nposition = cc_matProj * (cc_matView * cc_matLightPlaneProj * matWorld) * position;\nposition.z -= 0.0001;\nreturn position;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nlayout(set = 0, binding = 2) uniform CCShadow {\nhighp mat4 cc_matLightPlaneProj;\nhighp mat4 cc_matLightView;\nhighp mat4 cc_matLightViewProj;\nlowp  vec4 cc_shadowNFLSInfo;\nlowp  vec4 cc_shadowWHPBInfo;\nlowp  vec4 cc_shadowLPNNInfo;\nlowp  vec4 cc_shadowColor;\n};\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nvec4 frag () {\nreturn CCFragOutput(cc_shadowColor);\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"#extension GL_EXT_shader_explicit_arithmetic_types_int32: require\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\nrgba = rgba * 255.0;\nhighp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\nhighp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\nhighp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\nreturn Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_normal;\nlayout(location = 2) in vec2 a_texCoord;\nlayout(location = 3) in vec4 a_tangent;\n#if CC_USE_MORPH\nint getVertexId() {\nreturn gl_VertexIndex;\n}\nlayout(set = 2, binding = 4) uniform CCMorph {\nvec4 cc_displacementWeights[15];\nvec4 cc_displacementTextureInfo;\n};\nvec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\nfloat pixelIndexF = float(pixelIndex);\nfloat x = mod(pixelIndexF, textureResolution.x);\nfloat y = floor(pixelIndexF / textureResolution.x);\nreturn vec2(x, y);\n}\nvec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\nreturn (vec2(location.x, location.y) + .5) / textureResolution;\n}\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\nivec2 texSize = textureSize(tex, 0);\nreturn texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n}\n#else\nvec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\nint pixelIndex = elementIndex * 4;\nvec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\nvec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\nvec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\nreturn vec4(\ndecode32(texture(tex, x)),\ndecode32(texture(tex, y)),\ndecode32(texture(tex, z)),\n1.0\n);\n}\n#endif\nfloat getDisplacementWeight(int index) {\nint quot = index / 4;\nint remainder = index - quot * 4;\nif (remainder == 0) {\nreturn cc_displacementWeights[quot].x;\n} else if (remainder == 1) {\nreturn cc_displacementWeights[quot].y;\n} else if (remainder == 2) {\nreturn cc_displacementWeights[quot].z;\n} else {\nreturn cc_displacementWeights[quot].w;\n}\n}\nvec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n#if CC_MORPH_PRECOMPUTED\nreturn fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n#else\nvec3 result = vec3(0, 0, 0);\nint nVertices = int(cc_displacementTextureInfo.z);\nfor (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\nresult += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n}\nreturn result;\n#endif\n}\n#if CC_MORPH_TARGET_HAS_POSITION\nlayout(set = 2, binding = 6) uniform sampler2D cc_PositionDisplacements;\nvec3 getPositionDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nlayout(set = 2, binding = 7) uniform sampler2D cc_NormalDisplacements;\nvec3 getNormalDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n}\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nlayout(set = 2, binding = 8) uniform sampler2D cc_TangentDisplacements;\nvec3 getTangentDisplacement(int vertexId) {\nreturn getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n}\n#endif\nvoid applyMorph (inout StandardVertInput attr) {\nint vertexId = getVertexId();\n#if CC_MORPH_TARGET_HAS_POSITION\nattr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_NORMAL\nattr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n#endif\n#if CC_MORPH_TARGET_HAS_TANGENT\nattr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n#endif\n}\nvoid applyMorph (inout vec4 position) {\n#if CC_MORPH_TARGET_HAS_POSITION\nposition.xyz = position.xyz + getPositionDisplacement(getVertexId());\n#endif\n}\n#endif\n#if CC_USE_SKINNING\nlayout(location = 4) in u32vec4 a_joints;\nlayout(location = 5) in vec4 a_weights;\n#if CC_USE_BAKED_ANIMATION\n#if USE_INSTANCING\nlayout(location = 7) in highp vec4 a_jointAnimInfo;\n#endif\nlayout(set = 2, binding = 3) uniform CCSkinningTexture {\nhighp vec4 cc_jointTextureInfo;\n};\nlayout(set = 2, binding = 2) uniform CCSkinningAnimation {\nhighp vec4 cc_jointAnimInfo;\n};\nlayout(set = 2, binding = 5) uniform highp sampler2D cc_jointTexture;\n#else\nlayout(set = 2, binding = 3) uniform CCSkinning {\nhighp vec4 cc_joints[30 * 3];\n};\n#endif\n#if CC_USE_BAKED_ANIMATION\n#if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\nvec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\nvec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#else\nmat4 getJointMatrix (float i) {\n#if USE_INSTANCING\nhighp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n#else\nhighp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n#endif\nhighp float invSize = cc_jointTextureInfo.w;\nhighp float y = floor(j * invSize);\nhighp float x = floor(j - y * cc_jointTextureInfo.x);\ny = (y + 0.5) * invSize;\nvec4 v1 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n);\nvec4 v2 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n);\nvec4 v3 = vec4(\ndecode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\ndecode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n);\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\n#else\nmat4 getJointMatrix (float i) {\nint idx = int(i);\nvec4 v1 = cc_joints[idx * 3];\nvec4 v2 = cc_joints[idx * 3 + 1];\nvec4 v3 = cc_joints[idx * 3 + 2];\nreturn mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n}\n#endif\nmat4 skinMatrix () {\nvec4 joints = vec4(a_joints);\nreturn getJointMatrix(joints.x) * a_weights.x\n+ getJointMatrix(joints.y) * a_weights.y\n+ getJointMatrix(joints.z) * a_weights.z\n+ getJointMatrix(joints.w) * a_weights.w;\n}\nvoid CCSkin (inout vec4 position) {\nmat4 m = skinMatrix();\nposition = m * position;\n}\nvoid CCSkin (inout StandardVertInput attr) {\nmat4 m = skinMatrix();\nattr.position = m * attr.position;\nattr.normal = (m * vec4(attr.normal, 0.0)).xyz;\nattr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n}\n#endif\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(location = 0) out vec2 v_uv;\nvoid main () {\nStandardVertInput In;\nIn.position = vec4(a_position, 1.0);\nIn.normal = a_normal;\nIn.tangent = a_tangent;\n#if CC_USE_MORPH\napplyMorph(In);\n#endif\n#if CC_USE_SKINNING\nCCSkin(In);\n#endif\nIn.position.xy = cc_cameraPos.w == 0.0 ? vec2(In.position.xy.x, -In.position.xy.y) : In.position.xy;\ngl_Position = In.position;\ngl_Position.y = gl_Position.y;\nv_uv = a_texCoord;\n}",frag:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(location = 0) in vec2 v_uv;\nlayout (set = 0, binding = 10) uniform sampler2D cc_lighting_resultMap;\nlayout(location = 0) out vec4 fragColor;\nvoid texcoords(vec2 fragCoord, vec2 resolution,\nout vec2 v_rgbNW, out vec2 v_rgbNE,\nout vec2 v_rgbSW, out vec2 v_rgbSE,\nout vec2 v_rgbM) {\nvec2 inverseVP = 1.0 / resolution.xy;\nv_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\nv_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\nv_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\nv_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\nv_rgbM = vec2(fragCoord * inverseVP);\n}\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\nvec2 v_rgbNW, vec2 v_rgbNE,\nvec2 v_rgbSW, vec2 v_rgbSE,\nvec2 v_rgbM) {\nvec4 color;\nmediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\nvec3 rgbNW = texture(tex, v_rgbNW).xyz;\nvec3 rgbNE = texture(tex, v_rgbNE).xyz;\nvec3 rgbSW = texture(tex, v_rgbSW).xyz;\nvec3 rgbSE = texture(tex, v_rgbSE).xyz;\nvec4 texColor = texture(tex, v_rgbM);\nvec3 rgbM  = texColor.xyz;\nvec3 luma = vec3(0.299, 0.587, 0.114);\nfloat lumaNW = dot(rgbNW, luma);\nfloat lumaNE = dot(rgbNE, luma);\nfloat lumaSW = dot(rgbSW, luma);\nfloat lumaSE = dot(rgbSE, luma);\nfloat lumaM  = dot(rgbM,  luma);\nfloat lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\nfloat lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\nmediump vec2 dir;\ndir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\ndir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\nfloat dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n(0.25 * (1.0 / 8.0)), (1.0/ 128.0));\nfloat rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\ndir = min(vec2(8.0, 8.0),\nmax(vec2(-8.0, -8.0),\ndir * rcpDirMin)) * inverseVP;\nvec3 rgbA = 0.5 * (\ntexture(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\ntexture(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\nvec3 rgbB = rgbA * 0.5 + 0.25 * (\ntexture(tex, fragCoord * inverseVP + dir * -0.5).xyz +\ntexture(tex, fragCoord * inverseVP + dir * 0.5).xyz);\nfloat lumaB = dot(rgbB, luma);\nif ((lumaB < lumaMin) || (lumaB > lumaMax))\ncolor = vec4(rgbA, texColor.a);\nelse\ncolor = vec4(rgbB, texColor.a);\nreturn color;\n}\nvoid main () {\nmediump vec2 v_rgbNW;\nmediump vec2 v_rgbNE;\nmediump vec2 v_rgbSW;\nmediump vec2 v_rgbSE;\nmediump vec2 v_rgbM;\nvec2 resolution = cc_screenSize.xy;\nvec2 fragCoord = v_uv * resolution;\ntexcoords(fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\nfragColor = fxaa(cc_lighting_resultMap, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}"}],[{vert:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nstruct StandardVertInput {\nhighp vec4 position;\nvec3 normal;\nvec4 tangent;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_normal;\nlayout(location = 2) in vec2 a_texCoord;\nlayout(location = 3) in vec4 a_tangent;\nlayout(location = 0) out mediump vec4 viewDir;\nvec4 vert () {\nviewDir = vec4(a_position, 1.0);\nmat4 matViewRotOnly = mat4(mat3(cc_matView));\nmat4 matProj = cc_matProj;\nif (matProj[3].w > 0.0) {\nvec2 scale = vec2(48.0, 24.0);\nmatProj[0].xy *= scale;\nmatProj[1].xy *= scale;\nmatProj[2].zw = vec2(-1.0);\nmatProj[3].zw = vec2(0.0);\n}\nvec4 pos = matProj * matViewRotOnly * viewDir;\npos.z = 0.99999 * pos.w;\nreturn pos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(set = 0, binding = 4) uniform samplerCube cc_environment;\nvec3 unpackRGBE (vec4 rgbe) {\nreturn rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec3 ACESToneMap (vec3 color) {\ncolor = min(color, vec3(8.0));\nconst float A = 2.51;\nconst float B = 0.03;\nconst float C = 2.43;\nconst float D = 0.59;\nconst float E = 0.14;\nreturn (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nvec4 CCFragOutput (vec4 color) {\n#if !CC_USE_HDR\ncolor.rgb = sqrt(ACESToneMap(color.rgb));\n#endif\nreturn color;\n}\nlayout(location = 0) in mediump vec4 viewDir;\nvec4 frag () {\n#if USE_RGBE_CUBEMAP\nvec3 c = unpackRGBE(texture(cc_environment, viewDir.xyz));\n#else\nvec3 c = SRGBToLinear(texture(cc_environment, viewDir.xyz).rgb);\n#endif\nreturn CCFragOutput(vec4(c * cc_ambientSky.w, 1.0));\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec4 a_color;\nlayout(location = 0) out vec2 v_uv;\nlayout(set = 1, binding = 0) uniform Constants {\nvec4 offset;\n};\nlayout(set = 1, binding = 1) uniform PerFrameInfo {\nvec4 digits[8 * 10 / 4];\n};\nfloat getComponent(vec4 v, float i) {\nif (i < 1.0) { return v.x; }\nelse if (i < 2.0) { return v.y; }\nelse if (i < 3.0) { return v.z; }\nelse { return v.w; }\n}\nvec4 vert () {\nvec4 position = cc_matViewProj * vec4(a_position, 1.0);\nposition.xy += offset.xy;\nv_uv = a_color.xy;\nif (a_color.z >= 0.0) {\nfloat n = getComponent(digits[int(a_color.z)], a_color.w);\nv_uv += vec2(offset.z * n, 0.0);\n}\nreturn position;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\nhighp   vec4 cc_time;\nmediump vec4 cc_screenSize;\nmediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\nhighp   mat4 cc_matView;\nhighp   mat4 cc_matViewInv;\nhighp   mat4 cc_matProj;\nhighp   mat4 cc_matProjInv;\nhighp   mat4 cc_matViewProj;\nhighp   mat4 cc_matViewProjInv;\nhighp   vec4 cc_cameraPos;\nmediump vec4 cc_screenScale;\nmediump vec4 cc_exposure;\nmediump vec4 cc_mainLitDir;\nmediump vec4 cc_mainLitColor;\nmediump vec4 cc_ambientSky;\nmediump vec4 cc_ambientGround;\nmediump vec4 cc_fogColor;\nmediump vec4 cc_fogBase;\nmediump vec4 cc_fogAdd;\n};\nvec3 SRGBToLinear (vec3 gamma) {\nreturn gamma * gamma;\n}\nvec4 CCFragOutput (vec4 color) {\n#if CC_USE_HDR\ncolor.rgb = mix(color.rgb, SRGBToLinear(color.rgb) * cc_exposure.w, vec3(cc_exposure.z));\n#endif\nreturn color;\n}\nlayout(location = 0) in vec2 v_uv;\nlayout(set = 1, binding = 2) uniform sampler2D mainTexture;\nvec4 frag () {\nreturn CCFragOutput(texture(mainTexture, v_uv));\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}],[{vert:"\nprecision mediump float;\nlayout(location = 0) in vec2 a_position;\nlayout(location = 1) in vec2 a_texCoord;\nlayout(location = 0) out vec2 v_uv;\nlayout(location = 1) out float v_percent;\nlayout(set = 1, binding = 0) uniform Constant {\nvec4 u_buffer0;\nvec4 u_buffer1;\nmat4 u_projection;\n};\nvec4 vert () {\nvec2 worldPos = a_position * u_buffer1.xy + u_buffer1.zw;\nvec2 clipSpace = worldPos / u_buffer0.xy * 2.0 - 1.0;\nvec4 screenPos = u_projection * vec4(clipSpace, 0.0, 1.0);\nv_uv = a_texCoord;\nv_percent = u_buffer0.z;\nreturn screenPos;\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision mediump float;\nlayout(location = 0) in vec2 v_uv;\nlayout(location = 1) in float v_percent;\nlayout(set = 1, binding = 1) uniform sampler2D mainTexture;\nvec4 frag () {\nvec4 color = texture(mainTexture, v_uv);\nfloat precent = clamp(v_percent, 0.0, 1.0);\ncolor.xyz *= precent;\nreturn color;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"}]]},Eh=e("b$",c.builtinResMgr=new class{constructor(){this._device=null,this._resources={}}initBuiltinRes(e){this._device=e;const t=this._resources,n=document.createElement("canvas"),i=n.getContext("2d"),o=new b_(n),r=n.width=n.height=2;i.fillStyle="#000",i.fillRect(0,0,r,r);const a=new Vf;a._uuid="black-texture",a.image=o,t[a._uuid]=a,i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,r,r);const s=new Vf;s._uuid="empty-texture",s.image=o,t[s._uuid]=s;const l=new Jf;l._uuid="black-cube-texture",l.setMipFilter(Jf.Filter.NEAREST),l.image={front:new b_(n),back:new b_(n),left:new b_(n),right:new b_(n),top:new b_(n),bottom:new b_(n)},t[l._uuid]=l,i.fillStyle="#777",i.fillRect(0,0,r,r);const p=new Vf;p._uuid="grey-texture",p.image=o,t[p._uuid]=p,i.fillStyle="#fff",i.fillRect(0,0,r,r);const u=new Vf;u._uuid="white-texture",u.image=o,t[u._uuid]=u;const _=new Jf;_._uuid="white-cube-texture",_.setMipFilter(Jf.Filter.NEAREST),_.image={front:new b_(n),back:new b_(n),left:new b_(n),right:new b_(n),top:new b_(n),bottom:new b_(n)},t[_._uuid]=_,i.fillStyle="#7f7fff",i.fillRect(0,0,r,r);const f=new Vf;f._uuid="normal-texture",f.image=o,t[f._uuid]=f,n.width=n.height=16,i.fillStyle="#ddd",i.fillRect(0,0,16,16),i.fillStyle="#555",i.fillRect(0,0,8,8),i.fillStyle="#555",i.fillRect(8,8,8,8);const h=new Vf;h._uuid="default-texture",h.image=o,t[h._uuid]=h;const m=new Jf;if(m.setMipFilter(Jf.Filter.NEAREST),m._uuid="default-cube-texture",m.image={front:new b_(n),back:new b_(n),left:new b_(n),right:new b_(n),top:new b_(n),bottom:new b_(n)},t[m._uuid]=m,c.SpriteFrame){const e=new c.SpriteFrame,n=o._texture;e.texture=n,e._uuid="default-spriteframe",t[e._uuid]=e}const d=bh(e);if(!d)return Promise.reject(Error("Failed to initialize builtin shaders: unknown device."));const v=Sh[d];return v?Promise.resolve().then((()=>{$f.forEach(((e,t)=>{const n=Object.assign(new c.EffectAsset,e);n.shaders.forEach(((e,n)=>{const i=v[t][n];i&&(e[d]=i)})),n.hideInEditor=!0,n.onLoaded()})),this._initMaterials()})):Promise.reject(Error(`Current device is requiring builtin shaders of version ${d} but shaders of that version are not assembled in this build.`))}get(e){return this._resources[e]}_initMaterials(){const e=this._resources,t=[],n=new c.Material;n._uuid="standard-material",n.initialize({effectName:"standard"}),e[n._uuid]=n,t.push(n);const i=new c.Material;i._uuid="missing-effect-material",i.initialize({effectName:"unlit",defines:{USE_COLOR:!0}}),i.setProperty("mainColor",c.color("#ffff00")),e[i._uuid]=i,t.push(i);const o=new c.Material;o._uuid="missing-material",o.initialize({effectName:"unlit",defines:{USE_COLOR:!0}}),o.setProperty("mainColor",c.color("#ff00ff")),e[o._uuid]=o,t.push(o);const r=new c.Material;r._uuid="default-clear-stencil",r.initialize({defines:{USE_TEXTURE:!1},effectName:"clear-stencil"}),e[r._uuid]=r,t.push(r);const a=new c.Material;a._uuid="ui-base-material",a.initialize({defines:{USE_TEXTURE:!1},effectName:"sprite"}),e[a._uuid]=a,t.push(a);const s=new c.Material;s._uuid="ui-sprite-material",s.initialize({defines:{USE_TEXTURE:!0,CC_USE_EMBEDDED_ALPHA:!1,IS_GRAY:!1},effectName:"sprite"}),e[s._uuid]=s,t.push(s);const l=new c.Material;l._uuid="ui-alpha-test-material",l.initialize({defines:{USE_TEXTURE:!0,USE_ALPHA_TEST:!0,CC_USE_EMBEDDED_ALPHA:!1,IS_GRAY:!1},effectName:"sprite"}),e[l._uuid]=l,t.push(l);const p=new c.Material;p._uuid="ui-sprite-gray-material",p.initialize({defines:{USE_TEXTURE:!0,CC_USE_EMBEDDED_ALPHA:!1,IS_GRAY:!0},effectName:"sprite"}),e[p._uuid]=p,t.push(p);const u=new c.Material;u._uuid="ui-sprite-alpha-sep-material",u.initialize({defines:{USE_TEXTURE:!0,CC_USE_EMBEDDED_ALPHA:!0,IS_GRAY:!1},effectName:"sprite"}),e[u._uuid]=u,t.push(u);const _=new c.Material;_._uuid="ui-sprite-gray-alpha-sep-material",_.initialize({defines:{USE_TEXTURE:!0,CC_USE_EMBEDDED_ALPHA:!0,IS_GRAY:!0},effectName:"sprite"}),e[_._uuid]=_,t.push(_);const f=new c.Material;f._uuid="ui-graphics-material",f.initialize({effectName:"graphics"}),e[f._uuid]=f,t.push(f);const h=new c.Material;h._uuid="default-particle-material",h.initialize({effectName:"particle"}),e[h._uuid]=h,t.push(h);const m=new c.Material;m._uuid="default-particle-gpu-material",m.initialize({effectName:"particle-gpu"}),e[m._uuid]=m,t.push(m);const d=new c.Material;d._uuid="default-trail-material",d.initialize({effectName:"particle-trail"}),e[d._uuid]=d,t.push(d);const v=new c.Material;v._uuid="default-billboard-material",v.initialize({effectName:"billboard"}),e[v._uuid]=v,t.push(v);const g=new c.Material;g._uuid="default-spine-material",g.initialize({defines:{USE_TEXTURE:!0,CC_USE_EMBEDDED_ALPHA:!1,IS_GRAY:!1},effectName:"spine"}),e[g._uuid]=g,t.push(g);const A=new c.Material;A._uuid="builtin-deferred-material",A.initialize({effectName:"deferred-lighting"}),e[A._uuid]=A,t.push(A);const y=new c.Material;y._uuid="builtin-post-process-material",y.initialize({effectName:"post-process"}),e[y._uuid]=y,t.push(y),c.game.on(c.Game.EVENT_RENDERER_INITED,(()=>{for(let e=0;e<t.length;++e){const n=t[e];for(let e=0;e<n.passes.length;++e)n.passes[e].tryCompile()}}))}}),wh=(()=>{const e=new Map;let t=0;return n=>"number"==typeof n?n:(e.has(n)||(e.set(n,1<<t),t++),e.get(n))})(),Th=new Wa(ta.UNIFORM|ta.TRANSFER_DST,oa.HOST|oa.DEVICE),Ph=new qa(null),Ih=new ys(null);let Rh;!function(e){e[e.INSTANCING=1]="INSTANCING",e[e.VB_MERGING=2]="VB_MERGING"}(Rh||(Rh={}));class Nh{static fillPipelineInfo(e,t){const n=e.handle;void 0!==t.priority&&ao.set(n,oo.PRIORITY,t.priority),void 0!==t.primitive&&ao.set(n,oo.PRIMITIVE,t.primitive),void 0!==t.stage&&ao.set(n,oo.STAGE,t.stage),void 0!==t.dynamicStates&&ao.set(n,oo.DYNAMIC_STATES,t.dynamicStates),void 0!==t.phase&&ao.set(n,oo.PHASE,wh(t.phase));const i=e._bs;if(t.blendState){const e=t.blendState,{targets:n}=e;n&&n.forEach(((e,t)=>{i.setTarget(t,e)})),void 0!==e.isA2C&&(i.isA2C=e.isA2C),void 0!==e.isIndepend&&(i.isIndepend=e.isIndepend),void 0!==e.blendColor&&(i.blendColor=e.blendColor)}e._rs.assign(t.rasterizerState),e._dss.assign(t.depthStencilState)}static getPassHash(e,t){const n=e.handle;let i=`${t},${ao.get(n,oo.PRIMITIVE)},${ao.get(n,oo.DYNAMIC_STATES)}`;var o;return i+=function(e){let t=`,bs,${e.isA2C}`;for(const n of e.targets)t+=`,bt,${n.blend},${n.blendEq},${n.blendAlphaEq},${n.blendColorMask}`,t+=`,${n.blendSrc},${n.blendDst},${n.blendSrcAlpha},${n.blendDstAlpha}`;return t}(e._bs),i+=function(e){let t=`,dss,${e.depthTest},${e.depthWrite},${e.depthFunc}`;return t+=`,${e.stencilTestFront},${e.stencilFuncFront},${e.stencilRefFront},${e.stencilReadMaskFront}`,t+=`,${e.stencilFailOpFront},${e.stencilZFailOpFront},${e.stencilPassOpFront},${e.stencilWriteMaskFront}`,t+=`,${e.stencilTestBack},${e.stencilFuncBack},${e.stencilRefBack},${e.stencilReadMaskBack}`,t+=`,${e.stencilFailOpBack},${e.stencilZFailOpBack},${e.stencilPassOpBack},${e.stencilWriteMaskBack}`,t}(e._dss),i+=`,rs,${(o=e._rs).cullMode},${o.depthBias},${o.isFrontFaceCCW}`,Qs(i,666)}constructor(e){this._rootBuffer=null,this._rootBufferDirty=!1,this._buffers=[],this._descriptorSet=null,this._passIndex=0,this._propertyIndex=0,this._programName="",this._dynamics={},this._propertyHandleMap={},this._rootBlock=null,this._blocks=[],this._shaderInfo=null,this._defines={},this._properties={},this._root=void 0,this._device=void 0,this._hShaderDefault=Hi,this._handle=Hi,this._bs=new tc,this._dss=new ic,this._rs=new nc,this._root=e,this._device=e.device}initialize(e){this._doInit(e),this.resetUBOs(),this.resetTextures(),this.tryCompile()}getHandle(e,t=0,n=ea.UNKNOWN){let i=this._propertyHandleMap[e];return i?(n?i=ph(i,n):t&&(i=ph(i,sh(i)-t)),i+t):0}getBinding(e){const t=this.getHandle(e);return t?Nh.getBindingFromHandle(t):-1}setUniform(e,t){const n=Nh.getBindingFromHandle(e),i=Nh.getTypeFromHandle(e),o=Nh.getOffsetFromHandle(e),r=this._blocks[n];_h[i](r,t,o),this._rootBufferDirty=!0}getUniform(e,t){const n=Nh.getBindingFromHandle(e),i=Nh.getTypeFromHandle(e),o=Nh.getOffsetFromHandle(e),r=this._blocks[n];return uh[i](r,t,o)}setUniformArray(e,t){const n=Nh.getBindingFromHandle(e),i=Nh.getTypeFromHandle(e),o=Bs(i)>>2,r=this._blocks[n];let a=Nh.getOffsetFromHandle(e);for(let e=0;e<t.length;e++,a+=o)null!==t[e]&&_h[i](r,t[e],a);this._rootBufferDirty=!0}bindTexture(e,t,n){this._descriptorSet.bindTexture(e,t,n||0)}bindSampler(e,t,n){this._descriptorSet.bindSampler(e,t,n||0)}setDynamicState(e,t){const n=this._dynamics[e];n&&n.value===t||(n.value=t,n.dirty=!0)}overridePipelineStates(e,t){console.warn("base pass cannot override states, please use pass instance instead.")}update(){this._rootBufferDirty&&this._rootBuffer&&(this._rootBuffer.update(this._rootBlock),this._rootBufferDirty=!1),this._descriptorSet.update()}destroy(){for(let e=0;e<this._shaderInfo.blocks.length;e++){const t=this._shaderInfo.blocks[e];this._buffers[t.binding].destroy()}this._buffers=[],this._rootBuffer&&(this._rootBuffer.destroy(),this._rootBlock=null),this._descriptorSet=null,this._rs.destroy(),this._dss.destroy(),this._bs.destroy(),this._handle&&(Wi.free(ao.get(this._handle,oo.DESCRIPTOR_SET)),ao.free(this._handle),this._handle=Hi)}resetUniform(e){const t=this.getHandle(e);if(!t)return;const n=Nh.getTypeFromHandle(t),i=Nh.getBindingFromHandle(t),o=Nh.getOffsetFromHandle(t),r=this._blocks[i],a=this._properties[e],s=a&&a.value||hh(n);_h[n](r,s,o),this._rootBufferDirty=!0}resetTexture(e,t){const n=this.getHandle(e);if(!n)return;const i=Nh.getTypeFromHandle(n),o=Nh.getBindingFromHandle(n),r=this._properties[e],a=r&&r.value,s=a?`${a}-texture`:hh(i),c=Eh.get(s),l=c&&c.getGFXTexture(),p=r&&void 0!==r.samplerHash?r.samplerHash:c&&c.getSamplerHash(),u=P_.getSampler(this._device,p);this._descriptorSet.bindSampler(o,u,t),this._descriptorSet.bindTexture(o,l,t)}resetUBOs(){for(let e=0;e<this._shaderInfo.blocks.length;e++){const t=this._shaderInfo.blocks[e],n=this._blocks[t.binding];let i=0;for(let e=0;e<t.members.length;e++){const o=t.members[e],r=this._properties[o.name],a=r&&r.value||hh(o.type),s=(Bs(o.type)>>2)*o.count;for(let e=0;e+a.length<=s;e+=a.length)n.set(a,i+e);i+=s}}this._rootBufferDirty=!0}resetTextures(){for(let e=0;e<this._shaderInfo.samplerTextures.length;e++){const t=this._shaderInfo.samplerTextures[e];for(let e=0;e<t.count;e++)this.resetTexture(t.name,e)}}tryCompile(){const{pipeline:e}=this._root;return!!e&&(this._syncBatchingScheme(),this._hShaderDefault=Ch.getGFXShader(this._device,this._programName,this._defines,e),this._hShaderDefault?(ao.set(this._handle,oo.PIPELINE_LAYOUT,Ch.getTemplateInfo(this._programName).hPipelineLayout),ao.set(this._handle,oo.HASH,Nh.getPassHash(this,this._hShaderDefault)),!0):(console.warn(`create shader ${this._programName} failed`),!1))}getShaderVariant(e=null){if(!this._hShaderDefault&&!this.tryCompile())return console.warn("pass resources incomplete"),Hi;if(!e)return this._hShaderDefault;const{pipeline:t}=this._root;for(let t=0;t<e.length;t++){const n=e[t];this._defines[n.name]=n.value}const n=Ch.getGFXShader(this._device,this._programName,this._defines,t);for(let t=0;t<e.length;t++){const n=e[t];delete this._defines[n.name]}return n}beginChangeStatesSilently(){}endChangeStatesSilently(){}_doInit(e,t=!1){const n=this._handle=ao.alloc();ao.set(n,oo.PRIORITY,xl.DEFAULT),ao.set(n,oo.STAGE,yl.DEFAULT),ao.set(n,oo.PHASE,wh("default")),ao.set(n,oo.PRIMITIVE,xa.TRIANGLE_LIST),ao.set(n,oo.RASTERIZER_STATE,this._rs.handle),ao.set(n,oo.DEPTH_STENCIL_STATE,this._dss.handle),ao.set(n,oo.BLEND_STATE,this._bs.handle),this._passIndex=e.passIndex,this._propertyIndex=void 0!==e.propertyIndex?e.propertyIndex:e.passIndex,this._programName=e.program,this._defines=t?{...e.defines}:e.defines,this._shaderInfo=Ch.getTemplate(e.program),this._properties=e.properties||this._properties;const i=this._device;Nh.fillPipelineInfo(this,e),e.stateOverrides&&Nh.fillPipelineInfo(this,e.stateOverrides),Ih.layout=Ch.getDescriptorSetLayout(this._device,e.program);const o=Wi.alloc(this._device,Ih);ao.set(this._handle,oo.DESCRIPTOR_SET,o),this._descriptorSet=Wi.get(o);const r=this._shaderInfo.blocks,a=Ch.getTemplateInfo(e.program),{blockSizes:s,handleMap:c}=a,l=i.capabilities.uboOffsetAlignment,p=[];let u=0,_=0;for(let e=0;e<r.length;e++){const t=s[e];p.push(_),_+=Math.ceil(t/l)*l,u=t}const f=p[p.length-1]+u;f&&(Th.size=16*Math.ceil(f/16),this._rootBuffer=i.createBuffer(Th),this._rootBlock=new ArrayBuffer(f));for(let e=0,t=0;e<r.length;e++){const{binding:n}=r[e],o=s[e];Ph.buffer=this._rootBuffer,Ph.offset=p[t++],Ph.range=16*Math.ceil(o/16);const a=this._buffers[n]=i.createBuffer(Ph);this._blocks[n]=new Float32Array(this._rootBlock,Ph.offset,o/Float32Array.BYTES_PER_ELEMENT),this._descriptorSet.bindBuffer(n,a)}const h=this._propertyHandleMap=c,m={};for(const e in this._properties){const t=this._properties[e];t.handleInfo&&(m[e]=this.getHandle.apply(this,t.handleInfo))}Object.assign(h,m)}_syncBatchingScheme(){this._defines.USE_INSTANCING?this._device.hasFeature(Jr.INSTANCED_ARRAYS)?ao.set(this._handle,oo.BATCHING_SCHEME,Rh.INSTANCING):(this._defines.USE_INSTANCING=!1,ao.set(this._handle,oo.BATCHING_SCHEME,0)):this._defines.USE_BATCHING?ao.set(this._handle,oo.BATCHING_SCHEME,Rh.VB_MERGING):ao.set(this._handle,oo.BATCHING_SCHEME,0)}_destroyHandle(){this._handle&&(ao.free(this._handle),this._handle=Hi)}_initPassFromTarget(e,t,n,i){ao.set(this.handle,oo.PRIORITY,e.priority),ao.set(this.handle,oo.STAGE,e.stage),ao.set(this.handle,oo.PHASE,e.phase),ao.set(this.handle,oo.BATCHING_SCHEME,e.batchingScheme),ao.set(this.handle,oo.PRIMITIVE,e.primitive),ao.set(this.handle,oo.DYNAMIC_STATES,e.dynamicStates),this._descriptorSet=e.descriptorSet,ao.set(this.handle,oo.DESCRIPTOR_SET,ao.get(e.handle,oo.DESCRIPTOR_SET)),this._bs=n,ao.set(this.handle,oo.BLEND_STATE,n.handle),this._rs=e.rasterizerState,ao.set(this.handle,oo.RASTERIZER_STATE,ao.get(e.handle,oo.RASTERIZER_STATE)),this._dss=t,ao.set(this.handle,oo.DEPTH_STENCIL_STATE,t.handle),this._passIndex=e.passIndex,this._propertyIndex=e.propertyIndex,this._programName=e.program,this._defines=e.defines,this._shaderInfo=e._shaderInfo,this._properties=e._properties,this._blocks=e._blocks,this._dynamics=e._dynamics,this._hShaderDefault=e._hShaderDefault,ao.set(this._handle,oo.PIPELINE_LAYOUT,Ch.getTemplateInfo(this._programName).hPipelineLayout);const o=ao.get(e.handle,oo.HASH);ao.set(this._handle,oo.HASH,o^i)}get root(){return this._root}get device(){return this._device}get shaderInfo(){return this._shaderInfo}get localSetLayout(){return Ch.getDescriptorSetLayout(this._device,this._programName,!0)}get program(){return this._programName}get properties(){return this._properties}get defines(){return this._defines}get passIndex(){return this._passIndex}get propertyIndex(){return this._propertyIndex}get dynamics(){return this._dynamics}get blocks(){return this._blocks}get handle(){return this._handle}get priority(){return ao.get(this._handle,oo.PRIORITY)}get primitive(){return ao.get(this._handle,oo.PRIMITIVE)}get stage(){return ao.get(this._handle,oo.STAGE)}get phase(){return ao.get(this._handle,oo.PHASE)}get rasterizerState(){return this._rs}get depthStencilState(){return this._dss}get blendState(){return this._bs}get dynamicStates(){return ao.get(this._handle,oo.DYNAMIC_STATES)}get batchingScheme(){return ao.get(this._handle,oo.BATCHING_SCHEME)}get descriptorSet(){return this._descriptorSet}get hash(){return ao.get(this._handle,oo.HASH)}get rootBufferDirty(){return this._rootBufferDirty}}e("db",Nh),Nh.PropertyType=oh,Nh.getPropertyTypeFromHandle=ah,Nh.getTypeFromHandle=sh,Nh.getBindingFromHandle=ch,Nh.getOffsetFromHandle=lh,q(Yp.prototype,"RenderScene.prototype",[{name:"raycastUI2DNode"},{name:"raycastUINode"}]),q(Yp.prototype,"RenderScene.prototype",[{name:"raycastAll",suggest:"using intersect.rayModel in geometry"},{name:"raycastAllModels",suggest:"using intersect.rayModel in geometry"},{name:"raycastSingleModel",suggest:"using intersect.rayModel in geometry"},{name:"raycastAllCanvas",suggest:"using intersect.rayAABB in geometry"},{name:"rayResultCanvas"},{name:"rayResultModels"},{name:"rayResultAll"},{name:"rayResultSingleModel"}]);const Dh={};q(Dh,"CameraVisFlags",[{name:"GENERAL"}]),W(Dh,"CameraVisFlags",[{name:"PROFILER",newName:"PROFILER",target:Al.BitMask,targetName:"PROFILER"},{name:"GIZMOS",newName:"GIZMOS",target:Al.BitMask,targetName:"GIZMOS"},{name:"EDITOR",newName:"EDITOR",target:Al.BitMask,targetName:"EDITOR"},{name:"UI",newName:"UI",target:Al.BitMask,targetName:"UI_3D"},{name:"UI2D",newName:"UI2D",target:Al.BitMask,targetName:"UI_2D"}]),c.CameraVisFlags=Dh;const Mh={};function Oh(e,t){t<1e3?t=1e3:t>15e3&&(t=15e3);const n=t*t,i=(.860117757+.000154118254*t+1.28641212e-7*n)/(1+.000842420235*t+7.08145163e-7*n),o=(.317398726+422806245e-13*t+4.20481691e-8*n)/(1-289741816e-13*t+1.61456053e-7*n),r=2*i-8*o+4,a=3*i/r,s=2*o/r,c=1/s*a,l=1/s*(1-a-s);e.x=3.2404542*c-1.5371385+-.4985314*l,e.y=-.969266*c+1.8760108+.041556*l,e.z=.0556434*c-.2040259+1.0572252*l}let Lh;q(Mh,"VisibilityFlags",[{name:"GENERAL"}]),W(Mh,"VisibilityFlags",[{name:"ALWALS",newName:"ALWALS",target:Al.Enum,targetName:"ALWALS"},{name:"PROFILER",newName:"PROFILER",target:Al.Enum,targetName:"PROFILER"},{name:"GIZMOS",newName:"GIZMOS",target:Al.Enum,targetName:"GIZMOS"},{name:"EDITOR",newName:"EDITOR",target:Al.Enum,targetName:"EDITOR"},{name:"UI",newName:"UI",target:Al.Enum,targetName:"UI_3D"},{name:"UI2D",newName:"UI2D",target:Al.Enum,targetName:"UI_2D"}]),c.VisibilityFlags=Mh,W(Nh.prototype,"Pass.prototype",[{name:"getBindingTypeFromHandle",newName:"getDescriptorTypeFromHandle"}]),q(Vp.prototype,"Camera.prototype",[{name:"getSplitFrustum"}]),function(e){e[e.DIRECTIONAL=0]="DIRECTIONAL",e[e.SPHERE=1]="SPHERE",e[e.SPOT=2]="SPOT",e[e.UNKNOWN=3]="UNKNOWN"}(Lh||(Lh=e("c5",{})));const zh=e("cd",(e=>4*Math.PI*Math.PI*e*e));class Fh{constructor(){this._baked=!1,this._color=new mn(1,1,1),this._colorTemp=6550,this._colorTempRGB=new mn(1,1,1),this._scene=null,this._node=null,this._name=null,this._handle=Hi}get baked(){return this._baked}set baked(e){this._baked=e}set color(e){this._color.set(e),tr.setVec3(this._handle,$o.COLOR,e)}get color(){return this._color}set useColorTemperature(e){tr.set(this._handle,$o.USE_COLOR_TEMPERATURE,e?1:0)}get useColorTemperature(){return 1===tr.get(this._handle,$o.USE_COLOR_TEMPERATURE)}set colorTemperature(e){this._colorTemp=e,Oh(this._colorTempRGB,this._colorTemp),tr.setVec3(this._handle,$o.COLOR_TEMPERATURE_RGB,this._colorTempRGB)}get colorTemperature(){return this._colorTemp}get colorTemperatureRGB(){return this._colorTempRGB}set node(e){this._node=e,this._node&&(this._node.hasChangedFlags|=qp.ROTATION,tr.set(this._handle,$o.NODE,this._node.handle))}get node(){return this._node}get type(){return tr.get(this._handle,$o.TYPE)}get name(){return this._name}set name(e){this._name=e}get scene(){return this._scene}get handle(){return this._handle}initialize(){this._handle=tr.alloc(),tr.setVec3(this._handle,$o.COLOR,this._color),tr.setVec3(this._handle,$o.COLOR_TEMPERATURE_RGB,this._colorTempRGB),tr.set(this._handle,$o.TYPE,Lh.UNKNOWN)}attachToScene(e){this._scene=e}detachFromScene(){this._scene=null}destroy(){this._name=null,this._node=null,this._handle&&(tr.free(this._handle),this._handle=Hi)}update(){}}e("c9",Fh);const Bh=new mn(0,0,-1),Uh=new mn;class jh extends Fh{set direction(e){mn.normalize(this._dir,e),tr.setVec3(this._handle,$o.DIRECTION,this._dir)}get direction(){return this._dir}set illuminance(e){tr.set(this._handle,$o.ILLUMINANCE,e)}get illuminance(){return tr.get(this._handle,$o.ILLUMINANCE)}constructor(){super(),this._dir=new mn(1,-1,-1)}initialize(){super.initialize(),tr.set(this._handle,$o.ILLUMINANCE,Cr.SUN_ILLUM),tr.setVec3(this._handle,$o.DIRECTION,this._dir),tr.set(this._handle,$o.TYPE,Lh.DIRECTIONAL)}update(){this._node&&this._node.hasChangedFlags&&(this.direction=mn.transformQuat(Uh,Bh,this._node.worldRotation))}}function kh(e,t){for(const n of t)Array.isArray(n)?kh(e,n):e.push(n)}function Gh(e){const t=[];return kh(t,e),t.join("")}e("cc",jh);const Hh=Xn.Flags.Destroyed,Vh=Xn.Flags.PersistentMask,Wh=jt.IDENTIFIER_RE,qh="var ",Yh="o",Xh={"cc.ClickEvent":!1,"cc.PrefabInfo":!1},Qh=jt.escapeForJS;class Zh{constructor(e,t){this.varName=void 0,this.expression=void 0,this.varName=e,this.expression=t}toString(){return`${qh+this.varName}=${this.expression};`}}function Jh(e,t){return t instanceof Zh?new Zh(t.varName,e+t.expression):e+t}function Kh(e,t,n){Array.isArray(n)?(n[0]=Jh(t,n[0]),e.push(n)):e.push(`${Jh(t,n)};`)}class $h{constructor(e){this._exps=void 0,this._targetExp=void 0,this._exps=[],this._targetExp=e}append(e,t){this._exps.push([e,t])}writeCode(e){let t;if(this._exps.length>1)e.push(`t=${this._targetExp};`),t="t";else{if(1!==this._exps.length)return;t=this._targetExp}for(let n=0;n<this._exps.length;n++){const i=this._exps[n];Kh(e,`${t+em(i[0])}=`,i[1])}}}function em(e){return Wh.test(e)?`.${e}`:`[${Qh(e)}]`}$h.pool=void 0,$h.pool=new We((e=>{e._exps.length=0,e._targetExp=null}),1),$h.pool.get=function(e){const t=this._get()||new $h;return t._targetExp=e,t};class tm{constructor(e,t){let n;this.parent=void 0,this.objsToClear_iN$t=void 0,this.codeArray=void 0,this.objs=void 0,this.funcs=void 0,this.funcModuleCache=void 0,this.globalVariables=void 0,this.globalVariableId=void 0,this.localVariableId=void 0,this.result=void 0,this.parent=t,this.objsToClear_iN$t=[],this.codeArray=[],this.objs=[],this.funcs=[],this.funcModuleCache=ve(),Pe(this.funcModuleCache,Xh),this.globalVariables=[],this.globalVariableId=0,this.localVariableId=0,this.codeArray.push("var o,t;","if(R){","o=R;","}else{",`o=R=new ${this.getFuncModule(e.constructor,!0)}();`,"}"),e._iN$t={globalVar:"R"},this.objsToClear_iN$t.push(e),this.enumerateObject(this.codeArray,e),this.globalVariables.length>0&&(n=`${qh+this.globalVariables.join(",")};`);const i=Gh(["return (function(R){",n||[],this.codeArray,"return o;","})"]);this.result=Function("O","F",i)(this.objs,this.funcs);for(let e=0,t=this.objsToClear_iN$t.length;e<t;++e)this.objsToClear_iN$t[e]._iN$t=null;this.objsToClear_iN$t.length=0}getFuncModule(e,t){const n=ge(e);if(n){const t=this.funcModuleCache[n];if(t)return t;if(void 0===t){let t=-1!==n.indexOf(".");if(t)try{if(t=e===Function(`return ${n}`)(),t)return this.funcModuleCache[n]=n,n}catch(e){}}}let i=this.funcs.indexOf(e);i<0&&(i=this.funcs.length,this.funcs.push(e));let o=`F[${i}]`;return t&&(o=`(${o})`),this.funcModuleCache[n]=o,o}getObjRef(e){let t=this.objs.indexOf(e);return t<0&&(t=this.objs.length,this.objs.push(e)),`O[${t}]`}setValueType(e,t,n,i){const o=$h.pool.get(i);let r=t.constructor.__props__;r||(r=Object.keys(t));for(let e=0;e<r.length;e++){const i=r[e],a=n[i];if(t[i]===a)continue;const s=this.enumerateField(n,i,a);o.append(i,s)}o.writeCode(e),$h.pool.put(o)}enumerateCCClass(e,t,n){const i=n.__values__,o=vt(n);for(let n=0;n<i.length;n++){const r=i[n],a=t[r];let s=o[r+"$_$default"];if(!nm(s,a))if("object"==typeof a&&a instanceof c.ValueType&&(s=jt.getDefault(s),s&&s.constructor===a.constructor)){const t=Yh+em(r);this.setValueType(e,s,a,t)}else this.setObjProp(e,t,r,a)}}instantiateArray(e){if(0===e.length)return"[]";const t="a"+ ++this.localVariableId,n=[new Zh(t,`new Array(${e.length})`)];e._iN$t={globalVar:"",source:n},this.objsToClear_iN$t.push(e);for(let i=0;i<e.length;++i)Kh(n,`${t}[${i}]=`,this.enumerateField(e,i,e[i]));return n}instantiateTypedArray(e){const t=e.constructor.name;if(0===e.length)return`new ${t}`;const n="a"+ ++this.localVariableId,i=[new Zh(n,`new ${t}(${e.length})`)];e._iN$t={globalVar:"",source:i},this.objsToClear_iN$t.push(e);for(let t=0;t<e.length;++t)0!==e[t]&&Kh(i,`${n}[${t}]=`,e[t]);return i}enumerateField(e,t,n){if("object"==typeof n&&n){const e=n._iN$t;if(e){let t=e.globalVar;if(!t){t=e.globalVar="v"+ ++this.globalVariableId,this.globalVariables.push(t);const n=e.source[0];e.source[0]=Jh(`${t}=`,n)}return t}return ArrayBuffer.isView(n)?this.instantiateTypedArray(n):Array.isArray(n)?this.instantiateArray(n):this.instantiateObj(n)}return"function"==typeof n?this.getFuncModule(n):"string"==typeof n?Qh(n):("_objFlags"===t&&e instanceof Xn&&(n&=Vh),n)}setObjProp(e,t,n,i){Kh(e,`${Yh+em(n)}=`,this.enumerateField(t,n,i))}enumerateObject(e,t){const n=t.constructor;if(c.Class._isCCClass(n))this.enumerateCCClass(e,t,n);else for(const n in t){if(!t.hasOwnProperty(n)||95===n.charCodeAt(0)&&95===n.charCodeAt(1)&&"__type__"!==n)continue;const i=t[n];"object"==typeof i&&i&&i===t._iN$t||this.setObjProp(e,t,n,i)}}instantiateObj(e){if(e instanceof c.ValueType)return jt.getNewValueTypeCode(e);if(e instanceof c.Asset)return this.getObjRef(e);if(e._objFlags&Hh)return null;let t;const n=e.constructor;if(c.Class._isCCClass(n)){if(this.parent)if(this.parent instanceof c.Component){if(e instanceof c._BaseNode||e instanceof c.Component)return this.getObjRef(e)}else if(this.parent instanceof c._BaseNode)if(e instanceof c._BaseNode){if(!e.isChildOf(this.parent))return this.getObjRef(e)}else if(e instanceof c.Component&&!e.node.isChildOf(this.parent))return this.getObjRef(e);t=new Zh(Yh,`new ${this.getFuncModule(n,!0)}()`)}else if(n===Object)t=new Zh(Yh,"{}");else{if(n)return this.getObjRef(e);t=new Zh(Yh,"Object.create(null)")}const i=[t];return e._iN$t={globalVar:"",source:i},this.objsToClear_iN$t.push(e),this.enumerateObject(i,e),["(function(){",i,"return o;})();"]}}function nm(e,t){if("function"==typeof e)try{e=e()}catch(e){return!1}if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t&&e.constructor===t.constructor)if(e instanceof c.ValueType){if(e.equals(t))return!0}else{if(Array.isArray(e))return 0===e.length&&0===t.length;if(e.constructor===Object)return _e(e)&&_e(t)}return!1}class im{get uiTransformComp(){return this._uiTransformComp||(this._uiTransformComp=this._node.getComponent("cc.UITransform")),this._uiTransformComp}set uiTransformComp(e){this._uiTransformComp=e}get uiComp(){return this._uiComp}set uiComp(e){this._uiComp&&e?P(12002):this._uiComp=e}constructor(e){this._uiComp=null,this.opacity=1,this.localOpacity=1,this._uiTransformComp=null,this._node=void 0,this._node=e}}let om;!function(e){e.TOUCH_START="touch-start",e.TOUCH_MOVE="touch-move",e.TOUCH_END="touch-end",e.TOUCH_CANCEL="touch-cancel",e.MOUSE_DOWN="mouse-down",e.MOUSE_MOVE="mouse-move",e.MOUSE_UP="mouse-up",e.MOUSE_WHEEL="mouse-wheel",e.MOUSE_ENTER="mouse-enter",e.MOUSE_LEAVE="mouse-leave",e.KEY_DOWN="keydown",e.KEY_UP="keyup",e.DEVICEMOTION="devicemotion",e.TRANSFORM_CHANGED="transform-changed",e.SCENE_CHANGED_FOR_PERSISTS="scene-changed-for-persists",e.SIZE_CHANGED="size-changed",e.ANCHOR_CHANGED="anchor-changed",e.COLOR_CHANGED="color-changed",e.CHILD_ADDED="child-added",e.CHILD_REMOVED="child-removed",e.PARENT_CHANGED="parent-changed",e.NODE_DESTROYED="node-destroyed",e.LAYER_CHANGED="layer-changed",e.SIBLING_ORDER_CHANGED="sibling-order-changed"}(om||(om=e("cP",{}))),Ke(om),c.SystemEventType=om;class rm{static create(e){D(e&&e.event,1900);const t=e.event;delete e.event;let n=null;if(t===c.EventListener.TOUCH_ONE_BY_ONE?n=new cm:t===c.EventListener.TOUCH_ALL_AT_ONCE?n=new lm:t===c.EventListener.MOUSE?n=new sm:t===c.EventListener.KEYBOARD?n=new um:t===c.EventListener.ACCELERATION&&(n=new pm(e.callback),delete e.callback),n)for(const t of Object.keys(e))n[t]=e[t];return n}get onEvent(){return this._onEvent}constructor(e,t,n){this._cameraPriority=0,this.owner=null,this.mask=null,this._previousIn=!1,this._target=null,this._onEvent=void 0,this._type=void 0,this._listenerID=void 0,this._registered=!1,this._fixedPriority=0,this._node=null,this._paused=!0,this._isEnabled=!0,this._onEvent=n,this._type=e||0,this._listenerID=t||""}_setPaused(e){this._paused=e}_isPaused(){return this._paused}_setRegistered(e){this._registered=e}_isRegistered(){return this._registered}_getType(){return this._type}_getListenerID(){return this._listenerID}_setFixedPriority(e){this._fixedPriority=e}_getFixedPriority(){return this._fixedPriority}_setSceneGraphPriority(e){this._target=e,this._node=e}_getSceneGraphPriority(){return this._node}checkAvailable(){return null!==this._onEvent}clone(){return null}setEnabled(e){this._isEnabled=e}isEnabled(){return this._isEnabled}}rm.UNKNOWN=0,rm.TOUCH_ONE_BY_ONE=1,rm.TOUCH_ALL_AT_ONCE=2,rm.KEYBOARD=3,rm.MOUSE=4,rm.ACCELERATION=6,rm.CUSTOM=8,rm.ListenerID={MOUSE:"__cc_mouse",TOUCH_ONE_BY_ONE:"__cc_touch_one_by_one",TOUCH_ALL_AT_ONCE:"__cc_touch_all_at_once",KEYBOARD:"__cc_keyboard",ACCELERATION:"__cc_acceleration"};const am=rm.ListenerID;class sm extends rm{constructor(){super(rm.MOUSE,am.MOUSE,null),this.onMouseDown=null,this.onMouseUp=null,this.onMouseMove=null,this.onMouseScroll=null,this._onEvent=e=>this._callback(e)}_callback(e){switch(e.eventType){case om.MOUSE_DOWN:this.onMouseDown&&this.onMouseDown(e);break;case om.MOUSE_UP:this.onMouseUp&&this.onMouseUp(e);break;case om.MOUSE_MOVE:this.onMouseMove&&this.onMouseMove(e);break;case om.MOUSE_WHEEL:this.onMouseScroll&&this.onMouseScroll(e)}}clone(){const e=new sm;return e.onMouseDown=this.onMouseDown,e.onMouseUp=this.onMouseUp,e.onMouseMove=this.onMouseMove,e.onMouseScroll=this.onMouseScroll,e}checkAvailable(){return!0}}class cm extends rm{constructor(){super(rm.TOUCH_ONE_BY_ONE,am.TOUCH_ONE_BY_ONE,null),this.swallowTouches=!1,this.onTouchBegan=null,this.onTouchMoved=null,this.onTouchEnded=null,this.onTouchCancelled=null,this._claimedTouches=[]}setSwallowTouches(e){this.swallowTouches=e}isSwallowTouches(){return this.swallowTouches}clone(){const e=new cm;return e.onTouchBegan=this.onTouchBegan,e.onTouchMoved=this.onTouchMoved,e.onTouchEnded=this.onTouchEnded,e.onTouchCancelled=this.onTouchCancelled,e.swallowTouches=this.swallowTouches,e}checkAvailable(){return!!this.onTouchBegan||(w(1801),!1)}}class lm extends rm{constructor(){super(rm.TOUCH_ALL_AT_ONCE,am.TOUCH_ALL_AT_ONCE,null),this.onTouchesBegan=null,this.onTouchesMoved=null,this.onTouchesEnded=null,this.onTouchesCancelled=null}clone(){const e=new lm;return e.onTouchesBegan=this.onTouchesBegan,e.onTouchesMoved=this.onTouchesMoved,e.onTouchesEnded=this.onTouchesEnded,e.onTouchesCancelled=this.onTouchesCancelled,e}checkAvailable(){return null!==this.onTouchesBegan||null!==this.onTouchesMoved||null!==this.onTouchesEnded||null!==this.onTouchesCancelled||(w(1802),!1)}}class pm extends rm{constructor(e){super(rm.ACCELERATION,am.ACCELERATION,null),this._onAccelerationEvent=null,this._onEvent=e=>this._callback(e),this._onAccelerationEvent=e}_callback(e){this._onAccelerationEvent&&this._onAccelerationEvent(e.acc,e)}checkAvailable(){return D(this._onAccelerationEvent,1803),!0}clone(){return new pm(this._onAccelerationEvent)}}class um extends rm{constructor(){super(rm.KEYBOARD,am.KEYBOARD,null),this.onKeyPressed=null,this.onKeyReleased=null,this._onEvent=e=>this._callback(e)}_callback(e){e.isPressed?this.onKeyPressed&&this.onKeyPressed(e.keyCode,e):this.onKeyReleased&&this.onKeyReleased(e.keyCode,e)}clone(){const e=new um;return e.onKeyPressed=this.onKeyPressed,e.onKeyReleased=this.onKeyReleased,e}checkAvailable(){return null!==this.onKeyPressed||null!==this.onKeyReleased||(w(1800),!1)}}c.EventListener=rm;const _m=rm.ListenerID;class fm{constructor(){this.gt0Index=0,this._fixedListeners=[],this._sceneGraphListeners=[]}size(){return this._fixedListeners.length+this._sceneGraphListeners.length}empty(){return 0===this._fixedListeners.length&&0===this._sceneGraphListeners.length}push(e){0===e._getFixedPriority()?this._sceneGraphListeners.push(e):this._fixedListeners.push(e)}clearSceneGraphListeners(){this._sceneGraphListeners.length=0}clearFixedListeners(){this._fixedListeners.length=0}clear(){this._sceneGraphListeners.length=0,this._fixedListeners.length=0}getFixedPriorityListeners(){return this._fixedListeners}getSceneGraphPriorityListeners(){return this._sceneGraphListeners}}const hm=e("f9",new class{constructor(){this._listenersMap={},this._priorityDirtyFlagMap={},this._nodeListenersMap={},this._toAddedListeners=[],this._toRemovedListeners=[],this._dirtyListeners={},this._inDispatch=0,this._isEnabled=!1,this._internalCustomListenerIDs=[],this._currentTouch=null,this._currentTouchListener=null}pauseTarget(e,t=!1){if(!(e instanceof c._BaseNode))return void P(3506);const n=this._nodeListenersMap[e.uuid];if(n)for(let e=0;e<n.length;++e)n[e]._setPaused(!0);if(!0===t){const t=e.children;if(t)for(let e=0;e<t.length;++e){const n=t[e];this.pauseTarget(n,!0)}}}resumeTarget(e,t=!1){if(!(e instanceof c._BaseNode))return void P(3506);const n=this._nodeListenersMap[e.uuid];if(n)for(let e=0;e<n.length;++e)n[e]._setPaused(!1);if(this._setDirtyForNode(e),!0===t&&e.children.length>0){const t=e.children;if(t)for(let e=0;e<t.length;++e){const n=t[e];this.resumeTarget(n,!0)}}}frameUpdateListeners(){const e=this._listenersMap,t=this._priorityDirtyFlagMap;for(const n in e)e[n].empty()&&(delete t[n],delete e[n]);const n=this._toAddedListeners;if(0!==n.length){for(let e=0,t=n.length;e<t;e++)this._forceAddEventListener(n[e]);n.length=0}0!==this._toRemovedListeners.length&&this._cleanToRemovedListeners()}hasEventListener(e){return!!this._getListeners(e)}addListener(e,t){if(D(e&&t,3503),!(c.js.isNumber(t)||t instanceof c._BaseNode))return P(3506),null;if(e instanceof c.EventListener){if(e._isRegistered())return w(3505),null}else D(!c.js.isNumber(t),3504),e=c.EventListener.create(e);if(!e.checkAvailable())return null;if(c.js.isNumber(t)){if(0===t)return w(3500),null;e._setSceneGraphPriority(null),e._setFixedPriority(t),e._setRegistered(!0),e._setPaused(!1),this._addListener(e)}else{if(!(n=t)||!n.getComponent("cc.UITransform"))return w(3512),null;e._setSceneGraphPriority(t),e._setFixedPriority(0),e._setRegistered(!0),this._addListener(e)}var n;return e}addCustomListener(e,t){const n=rm.create({event:c.EventListener.CUSTOM,eventName:e,callback:t});return this.addListener(n,1),n}removeListener(e){if(null==e)return;let t=!1;const n=this._listenersMap;e===this._currentTouchListener&&(this._currentTouchListener=this._currentTouch=null);for(const i in n){const o=n[i],r=o.getFixedPriorityListeners(),a=o.getSceneGraphPriorityListeners();if(t=this._removeListenerInVector(a,e),t?this._setDirty(e._getListenerID(),2):(t=this._removeListenerInVector(r,e),t&&this._setDirty(e._getListenerID(),1)),o.empty()&&(delete this._priorityDirtyFlagMap[e._getListenerID()],delete n[i]),t)break}if(!t){const t=this._toAddedListeners;for(let n=t.length-1;n>=0;n--){const i=t[n];if(i===e){c.js.array.removeAt(t,n),i._setRegistered(!1);break}}}}removeListeners(e,t=!1){if(c.js.isNumber(e)||e instanceof c._BaseNode)if(void 0!==e._id){const n=this._nodeListenersMap[e._id];if(n){const t=c.js.array.copy(n);for(let e=0;e<t.length;++e){const n=t[e];this.removeListener(n)}delete this._nodeListenersMap[e._id]}const i=this._toAddedListeners;for(let t=0;t<i.length;){const n=i[t];n._getSceneGraphPriority()===e?(n._setSceneGraphPriority(null),n._setRegistered(!1),i.splice(t,1)):++t}if(!0===t){const t=e.getChildren();for(let e=0;e<t.length;++e){const n=t[e];this.removeListeners(n,!0)}}}else e===c.EventListener.TOUCH_ONE_BY_ONE?this._removeListenersForListenerID(_m.TOUCH_ONE_BY_ONE):e===c.EventListener.TOUCH_ALL_AT_ONCE?this._removeListenersForListenerID(_m.TOUCH_ALL_AT_ONCE):e===c.EventListener.MOUSE?this._removeListenersForListenerID(_m.MOUSE):e===c.EventListener.ACCELERATION?this._removeListenersForListenerID(_m.ACCELERATION):e===c.EventListener.KEYBOARD?this._removeListenersForListenerID(_m.KEYBOARD):w(3501);else P(3506)}removeCustomListeners(e){this._removeListenersForListenerID(e)}removeAllListeners(){const e=this._listenersMap,t=this._internalCustomListenerIDs;for(const n in e)-1===t.indexOf(n)&&this._removeListenersForListenerID(n)}setPriority(e,t){if(null==e)return;const n=this._listenersMap;for(const i in n){const o=n[i].getFixedPriorityListeners();if(o&&-1!==o.indexOf(e))return null!=e._getSceneGraphPriority()&&w(3502),void(e._getFixedPriority()!==t&&(e._setFixedPriority(t),this._setDirty(e._getListenerID(),1)))}}setEnabled(e){this._isEnabled=e}isEnabled(){return this._isEnabled}dispatchEvent(e){if(!this._isEnabled)return;if(this._updateDirtyFlagForSceneGraph(),this._inDispatch++,!e||!e.getType)return void R(3511);if(e.getType().startsWith(c.Event.TOUCH))return this._dispatchTouchEvent(e),void this._inDispatch--;const t=function(e){const t=p_,n=e.type;return n===t.ACCELERATION?_m.ACCELERATION:n===t.KEYBOARD?_m.KEYBOARD:n.startsWith(t.MOUSE)?_m.MOUSE:(n.startsWith(t.TOUCH)&&w(2e3),"")}(e);this._sortEventListeners(t);const n=this._listenersMap[t];null!=n&&(this._dispatchEventToListeners(n,this._onListenerCallback,e),this._onUpdateListeners(n)),this._inDispatch--}_onListenerCallback(e,t){t.currentTarget=e._target;const n=e.onEvent;return n&&n(t),t.isStopped()}dispatchCustomEvent(e,t){const n=new c.Event.EventCustom(e);n.setUserData(t),this.dispatchEvent(n)}_setDirtyForNode(e){const t=this._nodeListenersMap[e._id];if(void 0!==t)for(let e=0,n=t.length;e<n;e++){const n=t[e]._getListenerID();this._dirtyListeners[n]||(this._dirtyListeners[n]=!0)}if(e.children.length>0){const t=e.children;for(let e=0,n=t?t.length:0;e<n;e++)this._setDirtyForNode(t[e])}}_addListener(e){0===this._inDispatch?this._forceAddEventListener(e):this._toAddedListeners.push(e)}_forceAddEventListener(e){const t=e._getListenerID();let n=this._listenersMap[t];if(n||(n=new fm,this._listenersMap[t]=n),n.push(e),0===e._getFixedPriority()){this._setDirty(t,2);const n=e._getSceneGraphPriority();null===n&&w(3507),this._associateNodeAndEventListener(n,e),n.activeInHierarchy&&this.resumeTarget(n)}else this._setDirty(t,1)}_getListeners(e){return this._listenersMap[e]}_updateDirtyFlagForSceneGraph(){const e=this._dirtyListeners;for(const t in e)this._setDirty(t,2),e[t]=!1}_removeAllListenersInVector(e){if(!e)return;let t;for(let n=e.length-1;n>=0;n--)t=e[n],t._setRegistered(!1),null!=t._getSceneGraphPriority()&&(this._dissociateNodeAndEventListener(t._getSceneGraphPriority(),t),t._setSceneGraphPriority(null)),0===this._inDispatch&&c.js.array.removeAt(e,n)}_removeListenersForListenerID(e){const t=this._listenersMap[e];if(t){const n=t.getFixedPriorityListeners(),i=t.getSceneGraphPriorityListeners();this._removeAllListenersInVector(i),this._removeAllListenersInVector(n),delete this._priorityDirtyFlagMap[e],this._inDispatch||(t.clear(),delete this._listenersMap[e])}const n=this._toAddedListeners;for(let t=n.length-1;t>=0;t--){const i=n[t];i&&i._getListenerID()===e&&c.js.array.removeAt(n,t)}}_sortEventListeners(e){let t=0;const n=this._priorityDirtyFlagMap;n[e]&&(t=n[e]),0!==t&&(n[e]=0,1&t&&this._sortListenersOfFixedPriority(e),2&t)&&c.director.getScene()&&this._sortListenersOfSceneGraphPriority(e)}_sortListenersOfSceneGraphPriority(e){const t=this._getListeners(e);if(!t)return;const n=t.getSceneGraphPriorityListeners();if(!n||0===n.length)return;const i=t.getSceneGraphPriorityListeners();i.forEach((e=>{const t=e._getSceneGraphPriority()._uiProps.uiTransformComp;e._cameraPriority=t.cameraPriority})),i.sort(this._sortEventListenersOfSceneGraphPriorityDes)}_sortEventListenersOfSceneGraphPriorityDes(e,t){const n=e._getSceneGraphPriority(),i=t._getSceneGraphPriority();if(!(t&&i&&i._activeInHierarchy&&i._uiProps.uiTransformComp))return-1;if(!(e&&n&&n._activeInHierarchy&&n._uiProps.uiTransformComp))return 1;let o=n,r=i,a=!1;if(e._cameraPriority!==t._cameraPriority)return t._cameraPriority-e._cameraPriority;for(;o.parent._id!==r.parent._id;)o=null===o.parent.parent?(a=!0)&&i:o.parent,r=null===r.parent.parent?(a=!0)&&n:r.parent;if(o._id===r._id){if(o._id===i._id)return-1;if(o._id===n._id)return 1}const s=o.getSiblingIndex(),c=r.getSiblingIndex();return a?s-c:c-s}_sortListenersOfFixedPriority(e){const t=this._listenersMap[e];if(!t)return;const n=t.getFixedPriorityListeners();if(!n||0===n.length)return;n.sort(this._sortListenersOfFixedPriorityAsc);let i=0;for(const e=n.length;i<e&&!(n[i]._getFixedPriority()>=0);)++i;t.gt0Index=i}_sortListenersOfFixedPriorityAsc(e,t){return e._getFixedPriority()-t._getFixedPriority()}_onUpdateListeners(e){const t=e.getFixedPriorityListeners(),n=e.getSceneGraphPriorityListeners(),i=this._toRemovedListeners;if(n)for(let e=n.length-1;e>=0;e--){const t=n[e];if(!t._isRegistered()){c.js.array.removeAt(n,e);const o=i.indexOf(t);-1!==o&&i.splice(o,1)}}if(t)for(let e=t.length-1;e>=0;e--){const n=t[e];if(!n._isRegistered()){c.js.array.removeAt(t,e);const o=i.indexOf(n);-1!==o&&i.splice(o,1)}}n&&0===n.length&&e.clearSceneGraphListeners(),t&&0===t.length&&e.clearFixedListeners()}_updateTouchListeners(e){const t=this._inDispatch;if(D(t>0,3508),t>1)return;let n;n=this._listenersMap[_m.TOUCH_ONE_BY_ONE],n&&this._onUpdateListeners(n),n=this._listenersMap[_m.TOUCH_ALL_AT_ONCE],n&&this._onUpdateListeners(n),D(1===t,3509);const i=this._toAddedListeners;if(0!==i.length){for(let e=0,t=i.length;e<t;e++)this._forceAddEventListener(i[e]);this._toAddedListeners.length=0}0!==this._toRemovedListeners.length&&this._cleanToRemovedListeners()}_cleanToRemovedListeners(){const e=this._toRemovedListeners;for(let t=0;t<e.length;++t){const n=e[t],i=this._listenersMap[n._getListenerID()];if(!i)continue;const o=i.getFixedPriorityListeners(),r=i.getSceneGraphPriorityListeners();if(r){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}if(o){const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}e.length=0}_onTouchEventCallback(e,t){if(!e._isRegistered())return!1;const n=t.event,i=n.touch;n.currentTarget=e._getSceneGraphPriority();let o=!1,r=-1;const a=n.getEventCode();if(a===om.TOUCH_START){if(!et.ENABLE_MULTI_TOUCH&&hm._currentTouch){const e=hm._currentTouchListener._node;if(!e||e.activeInHierarchy)return!1}e.onTouchBegan&&(o=e.onTouchBegan(i,n),o&&e._isRegistered()&&!e._isPaused()&&(e._claimedTouches.push(i),!et.ENABLE_MULTI_TOUCH&&hm._currentTouch||(hm._currentTouch=i),hm._currentTouchListener=e))}else if(e._claimedTouches.length>0&&(r=e._claimedTouches.indexOf(i),-1!==r)){if(o=!0,!et.ENABLE_MULTI_TOUCH&&hm._currentTouch&&hm._currentTouch!==i)return!1;a===om.TOUCH_MOVE&&e.onTouchMoved?e.onTouchMoved(i,n):a===om.TOUCH_END?(e.onTouchEnded&&e.onTouchEnded(i,n),e._isRegistered()&&e._claimedTouches.splice(r,1),(et.ENABLE_MULTI_TOUCH||hm._currentTouch===i)&&(hm._currentTouch=null),hm._currentTouchListener=null):a===om.TOUCH_CANCEL&&(e.onTouchCancelled&&e.onTouchCancelled(i,n),e._isRegistered()&&e._claimedTouches.splice(r,1),(et.ENABLE_MULTI_TOUCH||hm._currentTouch===i)&&(hm._currentTouch=null),hm._currentTouchListener=null)}return n.isStopped()?(hm._updateTouchListeners(n),!0):!!(o&&e._isRegistered()&&e.swallowTouches)&&(t.needsMutableSet&&t.touches.splice(i,1),!0)}_dispatchTouchEvent(e){this._sortEventListeners(_m.TOUCH_ONE_BY_ONE),this._sortEventListeners(_m.TOUCH_ALL_AT_ONCE);const t=this._getListeners(_m.TOUCH_ONE_BY_ONE),n=this._getListeners(_m.TOUCH_ALL_AT_ONCE);if(null===t&&null===n)return;const i=e.getTouches(),o=c.js.array.copy(i),r={event:e,needsMutableSet:t&&n,touches:o,selTouch:null};if(t)for(let n=0;n<i.length;++n){const o=i[n];e.touch=o,e.propagationStopped=e.propagationImmediateStopped=!1,this._dispatchEventToListeners(t,this._onTouchEventCallback,r)}n&&o.length>0&&(this._dispatchEventToListeners(n,this._onTouchesEventCallback,{event:e,touches:o}),e.isStopped())||this._updateTouchListeners(e)}_onTouchesEventCallback(e,t){if(!e._isRegistered())return!1;const n=t.event,i=t.touches,o=n.getEventCode();return n.currentTarget=e._getSceneGraphPriority(),o===om.TOUCH_START&&e.onTouchesBegan?e.onTouchesBegan(i,n):o===om.TOUCH_MOVE&&e.onTouchesMoved?e.onTouchesMoved(i,n):o===om.TOUCH_END&&e.onTouchesEnded?e.onTouchesEnded(i,n):o===om.TOUCH_CANCEL&&e.onTouchesCancelled&&e.onTouchesCancelled(i,n),!!n.isStopped()&&(hm._updateTouchListeners(n),!0)}_associateNodeAndEventListener(e,t){let n=this._nodeListenersMap[e.uuid];n||(n=[],this._nodeListenersMap[e.uuid]=n),n.push(t)}_dissociateNodeAndEventListener(e,t){const n=this._nodeListenersMap[e.uuid];n&&(c.js.array.remove(n,t),0===n.length&&delete this._nodeListenersMap[e.uuid])}_dispatchEventToListeners(e,t,n){let i=!1;const o=e.getFixedPriorityListeners(),r=e.getSceneGraphPriorityListeners();let a=0;if(o&&0!==o.length)for(;a<e.gt0Index;++a){const e=o[a];if(e.isEnabled()&&!e._isPaused()&&e._isRegistered()&&t(e,n)){i=!0;break}}if(r&&!i)for(let e=0;e<r.length;++e){const o=r[e];if(o.isEnabled()&&!o._isPaused()&&o._isRegistered()&&t(o,n)){i=!0;break}}if(o&&!i)for(;a<o.length;++a){const e=o[a];if(e.isEnabled()&&!e._isPaused()&&e._isRegistered()&&t(e,n)){i=!0;break}}}_setDirty(e,t){const n=this._priorityDirtyFlagMap;null==n[e]?n[e]=t:n[e]|=t}_sortNumberAsc(e,t){return e-t}_removeListenerInCallback(e,t){if(null==e)return!1;for(let n=e.length-1;n>=0;n--){const i=e[n];if(i._onCustomEvent===t||i.onEvent===t)return i._setRegistered(!1),null!=i._getSceneGraphPriority()&&(this._dissociateNodeAndEventListener(i._getSceneGraphPriority(),i),i._setSceneGraphPriority(null)),0===this._inDispatch?c.js.array.removeAt(e,n):this._toRemovedListeners.push(i),!0}return!1}_removeListenerInVector(e,t){if(null==e)return!1;for(let n=e.length-1;n>=0;n--){const i=e[n];if(i===t)return i._setRegistered(!1),null!=i._getSceneGraphPriority()&&(this._dissociateNodeAndEventListener(i._getSceneGraphPriority(),i),i._setSceneGraphPriority(null)),0===this._inDispatch?c.js.array.removeAt(e,n):this._toRemovedListeners.push(i),!0}return!1}});var mm,dm,vm,gm,Am,ym,xm,bm,Cm;c.eventManager=hm,Xn.Flags.Destroying;const Sm=Xn.Flags.Destroying,Em=Xn.Flags.DontDestroy,wm=Xn.Flags.Deactivating,Tm=new ae("Node");function Pm(e){return e?"string"==typeof e?He(e):e:(R(3804),null)}let Im=e("fD",ou("cc.BaseNode")((Cm=bm=class e extends Xn{get components(){return this._components}get _persistNode(){return(this._objFlags&Em)>0}set _persistNode(e){e?this._objFlags|=Em:this._objFlags&=~Em}get name(){return this._name}set name(e){this._name=e}get uuid(){return this._id}get children(){return this._children}get active(){return this._active}set active(e){if(this._active!==e){this._active=e;const t=this._parent;t&&t._activeInHierarchy&&c.director._nodeActivator.activateNode(this,e)}}get activeInHierarchy(){return this._activeInHierarchy}get parent(){return this._parent}set parent(e){this.setParent(e)}get scene(){return this._scene}get eventProcessor(){return this._eventProcessor}static _setScene(e){e._updateScene()}static _findComponent(e,t){const n=t,i=e._components;if(n._sealed)for(let e=0;e<i.length;++e){const n=i[e];if(n.constructor===t)return n}else for(let e=0;e<i.length;++e){const n=i[e];if(n instanceof t)return n}return null}static _findComponents(e,t,n){const i=t,o=e._components;if(i._sealed)for(let e=0;e<o.length;++e){const i=o[e];i.constructor===t&&n.push(i)}else for(let e=0;e<o.length;++e){const i=o[e];i instanceof t&&n.push(i)}}static _findChildComponent(t,n){for(let i=0;i<t.length;++i){const o=t[i];let r=e._findComponent(o,n);if(r)return r;if(o._children.length>0&&(r=e._findChildComponent(o._children,n),r))return r}return null}static _findChildComponents(t,n,i){for(let o=0;o<t.length;++o){const r=t[o];e._findComponents(r,n,i),r._children.length>0&&e._findChildComponents(r._children,n,i)}}_updateScene(){null==this._parent?A("Node %s(%s) has not attached to a scene.",this.name,this.uuid):this._scene=this._parent._scene}constructor(e){super(e),Xp(this,"_parent",vm,this),Xp(this,"_children",gm,this),Xp(this,"_active",Am,this),Xp(this,"_components",ym,this),Xp(this,"_prefab",xm,this),this._scene=null,this._activeInHierarchy=!1,this._id=Tm.getNewId(),this._name=void 0,this._eventProcessor=new c.NodeEventProcessor(this),this._eventMask=0,this._siblingIndex=0,this._originalSceneId="",this._registerIfAttached=void 0,this._name=void 0!==e?e:"New Node"}attr(e){Pe(this,e)}getParent(){return this._parent}setParent(e,t=!1){if(this._parent===e)return;const n=this._parent,i=e;if(this._parent=i,this._siblingIndex=0,this._onSetParent(n,t),this.emit&&this.emit(om.PARENT_CHANGED,n),n&&!(n._objFlags&Sm)){const e=n._children.indexOf(this);n._children.splice(e,1),n._updateSiblingIndex(),n.emit&&n.emit(om.CHILD_REMOVED,this)}i&&(i._children.push(this),this._siblingIndex=i._children.length-1,i.emit&&i.emit(om.CHILD_ADDED,this)),this._onHierarchyChanged(n)}getChildByUuid(e){if(!e)return v("Invalid uuid"),null;const t=this._children;for(let n=0,i=t.length;n<i;n++)if(t[n]._id===e)return t[n];return null}getChildByName(e){if(!e)return v("Invalid name"),null;const t=this._children;for(let n=0,i=t.length;n<i;n++)if(t[n]._name===e)return t[n];return null}getChildByPath(e){const t=e.split("/");let n=this;for(let e=0;e<t.length;++e){const i=t[e];if(0===i.length)continue;const o=n.children.find((e=>e.name===i));if(!o)return null;n=o}return n}addChild(e){e.setParent(this)}insertChild(e,t){e.parent=this,e.setSiblingIndex(t)}getSiblingIndex(){return this._siblingIndex}setSiblingIndex(e){if(!this._parent)return;if(this._parent._objFlags&wm)return void R(3821);const t=this._parent._children;e=-1!==e?e:t.length-1;const n=t.indexOf(this);e!==n&&(t.splice(n,1),e<t.length?t.splice(e,0,this):t.push(this),this._parent._updateSiblingIndex(),this._onSiblingIndexChanged&&this._onSiblingIndexChanged(e))}walk(t,n){let i=1,o=null,r=null,a=0,s=e._stacks[e._stackId];s||(s=[],e._stacks.push(s)),e._stackId++,s.length=0,s[0]=this;let c=null,l=!1;for(;i;)if(i--,r=s[i],r)if(!l&&t?t(r):l&&n&&n(r),s[i]=null,l){if(c===this._parent)break;if(l=!1,o)if(a++,o[a])s[i]=o[a],i++;else if(c&&(s[i]=c,i++,l=!0,c._parent?(o=c._parent._children,a=o.indexOf(c),c=c._parent):(c=null,o=null),a<0))break}else r._children.length>0?(c=r,o=r._children,a=0,s[i]=o[a],i++):(s[i]=r,i++,l=!0);s.length=0,e._stackId--}removeFromParent(){this._parent&&this._parent.removeChild(this)}removeChild(e){this._children.indexOf(e)>-1&&(e.parent=null)}removeAllChildren(){const e=this._children;for(let t=e.length-1;t>=0;t--){const n=e[t];n&&(n.parent=null)}this._children.length=0}isChildOf(e){let t=this;do{if(t===e)return!0;t=t._parent}while(t);return!1}getComponent(t){const n=Pm(t);return n?e._findComponent(this,n):null}getComponents(t){const n=Pm(t),i=[];return n&&e._findComponents(this,n,i),i}getComponentInChildren(t){const n=Pm(t);return n?e._findChildComponent(this._children,n):null}getComponentsInChildren(t){const n=Pm(t),i=[];return n&&(e._findComponents(this,n,i),e._findChildComponents(this._children,n,i)),i}addComponent(e){let t;if("string"==typeof e){if(t=He(e),!t)throw c._RF.peek()&&R(3808,e),TypeError(O(3807,e))}else{if(!e)throw TypeError(O(3804));t=e}if("function"!=typeof t)throw TypeError(O(3809));if(!Ne(t,c.Component))throw TypeError(O(3810));const n=t._requireComponent;n&&!this.getComponent(n)&&this.addComponent(n);const i=new t;return i.node=this,this._components.push(i),this._activeInHierarchy&&c.director._nodeActivator.activateComp(i),i}removeComponent(e){if(!e)return void R(3813);let t=null;t=e instanceof Tf?e:this.getComponent(e),t&&t.destroy()}on(e,t,n,i=!1){switch(e){case om.TRANSFORM_CHANGED:this._eventMask|=1}this._eventProcessor.on(e,t,n,i)}off(e,t,n,i=!1){if(this._eventProcessor.off(e,t,n,i),!this._eventProcessor.hasEventListener(e))switch(e){case om.TRANSFORM_CHANGED:this._eventMask&=-2}}once(e,t,n,i){this._eventProcessor.once(e,t,n,i)}emit(e,t,n,i,o,r){this._eventProcessor.emit(e,t,n,i,o,r)}dispatchEvent(e){this._eventProcessor.dispatchEvent(e)}hasEventListener(e,t,n){return this._eventProcessor.hasEventListener(e,t,n)}targetOff(e){this._eventProcessor.targetOff(e),1&this._eventMask&&!this._eventProcessor.hasEventListener(om.TRANSFORM_CHANGED)&&(this._eventMask&=-2)}destroy(){return!!super.destroy()&&(this.active=!1,!0)}destroyAllChildren(){const e=this._children;for(let t=0;t<e.length;++t)e[t].destroy()}_removeComponent(e){if(e){if(!(this._objFlags&Sm)){const t=this._components.indexOf(e);-1!==t?this._components.splice(t,1):e.node!==this&&R(3815)}}else R(3814)}_updateSiblingIndex(){for(let e=0;e<this._children.length;++e)this._children[e]._siblingIndex=e;this.emit(om.SIBLING_ORDER_CHANGED)}_onSetParent(t,n=!1){this._parent&&(null!=t&&t._scene===this._parent._scene||null==this._parent._scene||this.walk(e._setScene))}_onPostActivated(e){}_onBatchCreated(e){this._parent&&(this._siblingIndex=this._parent.children.indexOf(this))}_onPreDestroy(){this._onPreDestroyBase()}_onHierarchyChanged(e){return this._onHierarchyChangedBase(e)}_instantiate(e,t){return e||(e=c.instantiate._clone(this,this)),e._prefab,e._parent=null,e._onBatchCreated(t),e}_onHierarchyChangedBase(e){const t=this._parent;!this._persistNode||t instanceof c.Scene||c.game.removePersistRootNode(this);const n=this._active&&!(!t||!t._activeInHierarchy);this._activeInHierarchy!==n&&c.director._nodeActivator.activateNode(this,n)}_onPreDestroyBase(){this._objFlags|=Sm;const e=this._parent,t=!!e&&0!=(e._objFlags&Sm);if(!t&&i&&this._registerIfAttached(!1),this._persistNode&&c.game.removePersistRootNode(this),!t&&e){this.emit(om.PARENT_CHANGED,this);const t=e._children.indexOf(this);e._children.splice(t,1),this._siblingIndex=0,e._updateSiblingIndex(),e.emit&&e.emit(om.CHILD_REMOVED,this)}this.emit(om.NODE_DESTROYED,this),this._eventProcessor.destroy();const n=this._children;for(let e=0;e<n.length;++e)n[e]._destroyImmediate();const o=this._components;for(let e=0;e<o.length;++e)o[e]._destroyImmediate();return t}},bm.idGenerator=Tm,bm._stacks=[[]],bm._stackId=0,Qp((dm=Cm).prototype,"_persistNode",[cu],Object.getOwnPropertyDescriptor(dm.prototype,"_persistNode"),dm.prototype),Qp(dm.prototype,"name",[gu],Object.getOwnPropertyDescriptor(dm.prototype,"name"),dm.prototype),Qp(dm.prototype,"children",[gu],Object.getOwnPropertyDescriptor(dm.prototype,"children"),dm.prototype),Qp(dm.prototype,"active",[gu],Object.getOwnPropertyDescriptor(dm.prototype,"active"),dm.prototype),Qp(dm.prototype,"activeInHierarchy",[gu],Object.getOwnPropertyDescriptor(dm.prototype,"activeInHierarchy"),dm.prototype),Qp(dm.prototype,"parent",[gu],Object.getOwnPropertyDescriptor(dm.prototype,"parent"),dm.prototype),vm=Qp(dm.prototype,"_parent",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gm=Qp(dm.prototype,"_children",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Am=Qp(dm.prototype,"_active",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ym=Qp(dm.prototype,"_components",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xm=Qp(dm.prototype,"_prefab",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mm=dm))||mm);function Rm(e){const t=e._prefab;if(!t)return;if(!t.instance)return;if(!t.asset)return R(3701,e.name),void(t.instance=void 0);const n=e._objFlags,i=e._parent,o=e._id,r=e._prefab;c.game._isCloning=!0,t.asset._doInstantiate(e),c.game._isCloning=!1,e._objFlags=n,e._parent=i,e._id=o,e._prefab&&(e._prefab.instance=null==r?void 0:r.instance)}function Nm(e,t,n){var i;if(!t)return;let o=t;const r=null===(i=e._prefab)||void 0===i?void 0:i.instance;!n&&r&&(t[r.fileId]={},o=t[r.fileId]);const a=e._prefab;a&&(o[a.fileId]=e);const s=e.components;for(let e=0;e<s.length;e++){const t=s[e];t.__prefab&&(o[t.__prefab.fileId]=t)}for(let t=0;t<e.children.length;t++)Nm(e.children[t],o,!1)}function Dm(e,t){if(!e)return null;let n=null,i=t;for(let t=0;t<e.length;t++){if(!i)return null;i=i[e[t]]}return n=i,n}function Mm(e,t,n){if(t)for(let e=0;e<t.length;e++){const i=t[e];if(i&&i.targetInfo){const e=Dm(i.targetInfo.localID,n);if(!e)continue;let t=n;const o=i.targetInfo.localID;if(o.length>0)for(let e=0;e<o.length-1;e++)t=t[o[e]];if(i.nodes)for(let n=0;n<i.nodes.length;n++){const o=i.nodes[n];o&&(e._children.push(o),o._parent=e,Nm(o,t,!1),o._siblingIndex=e._children.length-1,o._onBatchCreated(!1))}}}}function Om(e,t,n){if(t)for(let e=0;e<t.length;e++){const i=t[e];if(i&&i.targetInfo){const e=Dm(i.targetInfo.localID,n);if(!e)continue;if(i.components)for(let t=0;t<i.components.length;t++){const n=i.components[t];n&&(n.node=e,e._components.push(n))}}}}function Lm(e,t,n){if(t)for(let e=0;e<t.length;e++){const i=t[e];if(i){const e=Dm(i.localID,n);if(!e||!e.node)continue;const t=e.node.components.indexOf(e);t>=0&&e.node._components.splice(t,1)}}}function zm(e,t,n){if(t.length<=0)return;let i=null;for(let e=0;e<t.length;e++){const o=t[e];if(o&&o.targetInfo){if(i=Dm(o.targetInfo.localID,n),!i)continue;let e=i;const t=o.propertyPath.slice();if(t.length>0){const n=t.pop();if(!n)continue;for(let n=0;n<t.length&&(e=e[t[n]],e);n++);if(!e)continue;if(Array.isArray(e))if("length"===n)e[n]=o.value;else{const t=Number.parseInt(n);Number.isInteger(t)&&t<e.length&&(e[n]=o.value)}else e[n]=o.value}}}}function Fm(e){var t;const n=null===(t=e._prefab)||void 0===t?void 0:t.targetOverrides;if(n)for(let e=0;e<n.length;e++){var i,o;const t=n[e];let s=t.source;const c=t.sourceInfo;if(c){var r,a;const e=null===(r=t.source)||void 0===r||null===(a=r._prefab)||void 0===a?void 0:a.instance;e&&e.targetMap&&(s=Dm(c.localID,e.targetMap))}if(!s)continue;let l=null;const p=t.targetInfo;if(!p)continue;const u=null===(i=t.target)||void 0===i||null===(o=i._prefab)||void 0===o?void 0:o.instance;if(!u||!u.targetMap)continue;if(l=Dm(p.localID,u.targetMap),!l)continue;const _=t.propertyPath.slice();let f=s;if(_.length>0){const e=_.pop();if(!e)return;for(let e=0;e<_.length&&(f=f[_[e]],f);e++);if(!f)continue;f[e]=l}}}var Bm,Um,jm,km,Gm,Hm,Vm,Wm,qm,Ym,Xm;c._BaseNode=Im;const Qm=new mn,Zm=new bn,Jm=new bn,Km=new Array(10),$m=new bn,ed=new An,td=new An,nd=new Rn,id=new Map;let od=e("cw",(Bm=ou("cc.Node"),Um=Mu(mn),Bm((Xm=Ym=class e extends Im{constructor(e){super(e),this._uiProps=new im(this),this._static=!1,this._pos=new mn,this._rot=new bn,this._scale=new mn(1,1,1),this._mat=new Rn,Xp(this,"_lpos",Gm,this),Xp(this,"_lrot",Hm,this),Xp(this,"_lscale",Vm,this),Xp(this,"_layer",Wm,this),Xp(this,"_euler",qm,this),this._dirtyFlags=qp.NONE,this._eulerDirty=!1,this._poolHandle=Hi,this._poolHandle=Po.alloc(),Po.set(this._poolHandle,wo.LAYER,this._layer)}static isNode(t){return t instanceof e&&(t.constructor===e||!(t instanceof c.Scene))}destroy(){return this._poolHandle&&(Po.free(this._poolHandle),this._poolHandle=Hi),super.destroy()}get handle(){return this._poolHandle}get position(){return this._lpos}set position(e){this.setPosition(e)}get worldPosition(){return this.updateWorldTransform(),this._pos}set worldPosition(e){this.setWorldPosition(e)}get rotation(){return this._lrot}set rotation(e){this.setRotation(e)}set eulerAngles(e){this.setRotationFromEuler(e.x,e.y,e.z)}get eulerAngles(){return this._eulerDirty&&(bn.toEuler(this._euler,this._lrot),this._eulerDirty=!1),this._euler}get angle(){return this._euler.z}set angle(e){mn.set(this._euler,0,0,e),bn.fromAngleZ(this._lrot,e),this._eulerDirty=!1,this.invalidateChildren(qp.ROTATION),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.ROTATION)}get worldRotation(){return this.updateWorldTransform(),this._rot}set worldRotation(e){this.setWorldRotation(e)}get scale(){return this._lscale}set scale(e){this.setScale(e)}get worldScale(){return this.updateWorldTransform(),this._scale}set worldScale(e){this.setWorldScale(e)}set matrix(e){Rn.toRTS(e,this._lrot,this._lpos,this._lscale),this.invalidateChildren(qp.TRS),this._eulerDirty=!0,1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.TRS)}get worldMatrix(){return this.updateWorldTransform(),this._mat}get forward(){return mn.transformQuat(new mn,mn.FORWARD,this.worldRotation)}set forward(e){const t=e.length();mn.multiplyScalar(Qm,e,-1/t),bn.fromViewUp(Zm,Qm),this.setWorldRotation(Zm)}set layer(e){this._layer=e,Po.set(this._poolHandle,wo.LAYER,this._layer),this.emit(om.LAYER_CHANGED,this._layer)}get layer(){return this._layer}get hasChangedFlags(){return id.get(this)||0}set hasChangedFlags(e){id.set(this,e),Po.set(this._poolHandle,wo.FLAGS_CHANGED,e)}setParent(e,t=!1){t&&this.updateWorldTransform(),super.setParent(e,t)}_onSetParent(e,t){if(super._onSetParent(e,t),t){const e=this._parent;e?(e.updateWorldTransform(),Rn.multiply(nd,Rn.invert(nd,e._mat),this._mat),Rn.toRTS(nd,this._lrot,this._lpos,this._lscale)):(mn.copy(this._lpos,this._pos),bn.copy(this._lrot,this._rot),mn.copy(this._lscale,this._scale)),this._eulerDirty=!0}this.invalidateChildren(qp.TRS)}_onHierarchyChanged(e){this.eventProcessor.reattach(),super._onHierarchyChangedBase(e)}_onBatchCreated(e){var t;Po.set(this._poolHandle,wo.LAYER,this._layer),Po.setVec3(this._poolHandle,wo.WORLD_SCALE,this._scale);const n=null===(t=this._prefab)||void 0===t?void 0:t.instance;!e&&n&&Rm(this),this.hasChangedFlags=qp.TRS,this._dirtyFlags=qp.TRS;const i=this._children.length;for(let t=0;t<i;++t)this._children[t]._siblingIndex=t,this._children[t]._onBatchCreated(e);if(!e&&n){const e={};n.targetMap=e,Nm(this,e,!0),Mm(0,n.mountedChildren,e),Lm(0,n.removedComponents,e),Om(0,n.mountedComponents,e),zm(0,n.propertyOverrides,e)}Fm(this)}_onBeforeSerialize(){this.eulerAngles}_onPostActivated(e){e?(hm.resumeTarget(this),this.invalidateChildren(qp.TRS)):hm.pauseTarget(this)}translate(e,t){const n=t||Wp.LOCAL;if(n===Wp.LOCAL)mn.transformQuat(Qm,e,this._lrot),this._lpos.x+=Qm.x,this._lpos.y+=Qm.y,this._lpos.z+=Qm.z;else if(n===Wp.WORLD)if(this._parent){bn.invert(Zm,this._parent.worldRotation),mn.transformQuat(Qm,e,Zm);const t=this.worldScale;this._lpos.x+=Qm.x/t.x,this._lpos.y+=Qm.y/t.y,this._lpos.z+=Qm.z/t.z}else this._lpos.x+=e.x,this._lpos.y+=e.y,this._lpos.z+=e.z;this.invalidateChildren(qp.POSITION),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.POSITION),Po.setVec3(this._poolHandle,wo.WORLD_POSITION,this.worldPosition)}rotate(e,t){const n=t||Wp.LOCAL;if(bn.normalize(Zm,e),n===Wp.LOCAL)bn.multiply(this._lrot,this._lrot,Zm);else if(n===Wp.WORLD){const e=this.worldRotation;bn.multiply(Jm,Zm,e),bn.invert(Zm,e),bn.multiply(Jm,Zm,Jm),bn.multiply(this._lrot,this._lrot,Jm)}this._eulerDirty=!0,this.invalidateChildren(qp.ROTATION),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.ROTATION),Po.setVec4(this._poolHandle,wo.WORLD_ROTATION,this.worldRotation)}lookAt(e,t){this.getWorldPosition(Qm),mn.subtract(Qm,Qm,e),mn.normalize(Qm,Qm),bn.fromViewUp(Zm,Qm,t),this.setWorldRotation(Zm)}invalidateChildren(e){const t=this.hasChangedFlags;if((this._dirtyFlags&t&e)===e)return;this._dirtyFlags|=e,this.hasChangedFlags=t|e;const n=e|qp.POSITION,i=this._children.length;for(let e=0;e<i;++e){const t=this._children[e];t.isValid&&t.invalidateChildren(n)}}updateWorldTransform(){if(!this._dirtyFlags)return;let e,t=this,n=0;for(;t&&t._dirtyFlags;)Km[n++]=t,t=t._parent;let i=0;for(;n;)e=Km[--n],i|=e._dirtyFlags,t?(i&qp.POSITION&&(mn.transformMat4(e._pos,e._lpos,t._mat),e._mat.m12=e._pos.x,e._mat.m13=e._pos.y,e._mat.m14=e._pos.z,Po.setVec3(e._poolHandle,wo.WORLD_POSITION,e._pos)),i&qp.RS&&(Rn.fromRTS(e._mat,e._lrot,e._lpos,e._lscale),Rn.multiply(e._mat,t._mat,e._mat),i&qp.ROTATION&&(bn.multiply(e._rot,t._rot,e._lrot),Po.setVec4(e._poolHandle,wo.WORLD_ROTATION,e._rot)),An.fromQuat(ed,bn.conjugate($m,e._rot)),An.multiplyMat4(ed,ed,e._mat),e._scale.x=ed.m00,e._scale.y=ed.m04,e._scale.z=ed.m08,Po.setVec3(e._poolHandle,wo.WORLD_SCALE,e._scale))):(i&qp.POSITION&&(mn.copy(e._pos,e._lpos),e._mat.m12=e._pos.x,e._mat.m13=e._pos.y,e._mat.m14=e._pos.z,Po.setVec3(e._poolHandle,wo.WORLD_POSITION,e._pos)),i&qp.RS&&(i&qp.ROTATION&&(bn.copy(e._rot,e._lrot),Po.setVec4(e._poolHandle,wo.WORLD_ROTATION,e._rot)),i&qp.SCALE&&(mn.copy(e._scale,e._lscale),Po.setVec3(e._poolHandle,wo.WORLD_SCALE,e._scale),Rn.fromRTS(e._mat,e._rot,e._pos,e._scale)))),i!==qp.NONE&&Po.setMat4(e._poolHandle,wo.WORLD_MATRIX,e._mat),e._dirtyFlags=qp.NONE,t=e}setPosition(e,t,n){void 0===t&&void 0===n?mn.copy(this._lpos,e):void 0===n?mn.set(this._lpos,e,t,this._lpos.z):mn.set(this._lpos,e,t,n),this.invalidateChildren(qp.POSITION),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.POSITION)}getPosition(e){return e?mn.set(e,this._lpos.x,this._lpos.y,this._lpos.z):mn.copy(new mn,this._lpos)}setRotation(e,t,n,i){void 0===t||void 0===n||void 0===i?bn.copy(this._lrot,e):bn.set(this._lrot,e,t,n,i),this._eulerDirty=!0,this.invalidateChildren(qp.ROTATION),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.ROTATION)}setRotationFromEuler(e,t,n){const i=void 0===n?this._euler.z:n;void 0===t?(mn.copy(this._euler,e),bn.fromEuler(this._lrot,e.x,e.y,e.z)):(mn.set(this._euler,e,t,i),bn.fromEuler(this._lrot,e,t,i)),this._eulerDirty=!1,this.invalidateChildren(qp.ROTATION),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.ROTATION)}getRotation(e){return e?bn.set(e,this._lrot.x,this._lrot.y,this._lrot.z,this._lrot.w):bn.copy(new bn,this._lrot)}setScale(e,t,n){void 0===t&&void 0===n?mn.copy(this._lscale,e):void 0===n?mn.set(this._lscale,e,t,this._lscale.z):mn.set(this._lscale,e,t,n),this.invalidateChildren(qp.SCALE),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.SCALE)}getScale(e){return e?mn.set(e,this._lscale.x,this._lscale.y,this._lscale.z):mn.copy(new mn,this._lscale)}inverseTransformPoint(e,t){mn.copy(e,t);let n=this,i=0;for(;n._parent;)Km[i++]=n,n=n._parent;for(;i>=0;)mn.transformInverseRTS(e,e,n._lrot,n._lpos,n._lscale),n=Km[--i];return e}setWorldPosition(e,t,n){void 0===t||void 0===n?mn.copy(this._pos,e):mn.set(this._pos,e,t,n),Po.setVec3(this._poolHandle,wo.WORLD_POSITION,this._pos);const i=this._parent,o=this._lpos;i?(i.updateWorldTransform(),mn.transformMat4(o,this._pos,Rn.invert(nd,i._mat))):mn.copy(o,this._pos),this.invalidateChildren(qp.POSITION),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.POSITION)}getWorldPosition(e){return this.updateWorldTransform(),e?mn.copy(e,this._pos):mn.copy(new mn,this._pos)}setWorldRotation(e,t,n,i){void 0===t||void 0===n||void 0===i?bn.copy(this._rot,e):bn.set(this._rot,e,t,n,i),Po.setVec4(this._poolHandle,wo.WORLD_ROTATION,this._rot),this._parent?(this._parent.updateWorldTransform(),bn.multiply(this._lrot,bn.conjugate(this._lrot,this._parent._rot),this._rot)):bn.copy(this._lrot,this._rot),this._eulerDirty=!0,this.invalidateChildren(qp.ROTATION),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.ROTATION)}setWorldRotationFromEuler(e,t,n){bn.fromEuler(this._rot,e,t,n),this._parent?(this._parent.updateWorldTransform(),bn.multiply(this._lrot,bn.conjugate(this._lrot,this._parent._rot),this._rot)):bn.copy(this._lrot,this._rot),this._eulerDirty=!0,this.invalidateChildren(qp.ROTATION),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.ROTATION)}getWorldRotation(e){return this.updateWorldTransform(),e?bn.copy(e,this._rot):bn.copy(new bn,this._rot)}setWorldScale(e,t,n){void 0===t||void 0===n?mn.copy(this._scale,e):mn.set(this._scale,e,t,n),Po.setVec3(this._poolHandle,wo.WORLD_SCALE,this._scale);const i=this._parent;i?(i.updateWorldTransform(),An.fromQuat(ed,bn.conjugate($m,i._rot)),An.multiplyMat4(ed,ed,i._mat),td.m00=this._scale.x,td.m04=this._scale.y,td.m08=this._scale.z,An.multiply(ed,td,An.invert(ed,ed)),this._lscale.x=mn.set(Qm,ed.m00,ed.m01,ed.m02).length(),this._lscale.y=mn.set(Qm,ed.m03,ed.m04,ed.m05).length(),this._lscale.z=mn.set(Qm,ed.m06,ed.m07,ed.m08).length()):mn.copy(this._lscale,this._scale),this.invalidateChildren(qp.SCALE),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,qp.SCALE)}getWorldScale(e){return this.updateWorldTransform(),e?mn.copy(e,this._scale):mn.copy(new mn,this._scale)}getWorldMatrix(e){this.updateWorldTransform();const t=e||new Rn;return Rn.copy(t,this._mat)}getWorldRS(e){this.updateWorldTransform();const t=e||new Rn;return Rn.copy(t,this._mat),t.m12=0,t.m13=0,t.m14=0,t}getWorldRT(e){this.updateWorldTransform();const t=e||new Rn;return Rn.fromRT(t,this._rot,this._pos)}setRTS(e,t,n){let i=0;e&&(i|=qp.ROTATION,void 0!==e.w?(bn.copy(this._lrot,e),this._eulerDirty=!0):(mn.copy(this._euler,e),bn.fromEuler(this._lrot,e.x,e.y,e.z),this._eulerDirty=!1)),t&&(mn.copy(this._lpos,t),i|=qp.POSITION),n&&(mn.copy(this._lscale,n),i|=qp.SCALE),i&&(this.invalidateChildren(i),1&this._eventMask&&this.emit(om.TRANSFORM_CHANGED,i))}pauseSystemEvents(e){hm.pauseTarget(this,e)}resumeSystemEvents(e){hm.resumeTarget(this,e)}static clearBooks(){id.forEach(((e,t)=>{t.isValid&&(t.hasChangedFlags=qp.NONE)})),id.clear()}syncToNativeTransform(){const e=this.hasChangedFlags;e&&(e&qp.POSITION&&Po.setVec3(this._poolHandle,wo.WORLD_POSITION,this.worldPosition),e&qp.ROTATION&&Po.setVec3(this._poolHandle,wo.WORLD_ROTATION,this.worldRotation),e&qp.SCALE&&Po.setVec3(this._poolHandle,wo.WORLD_SCALE,this.worldScale))}syncFromNativeTransform(){const e=Po.get(this._poolHandle,wo.FLAGS_CHANGED);e&&(e&qp.POSITION&&(Po.getVec3(this._poolHandle,wo.WORLD_POSITION,Qm),this.setWorldPosition(Qm)),e&qp.ROTATION&&(Po.getVec4(this._poolHandle,wo.WORLD_ROTATION,Zm),this.setWorldRotation(Zm)),e&qp.SCALE&&(Po.getVec3(this._poolHandle,wo.WORLD_SCALE,Qm),this.setWorldScale(Qm)))}},Ym.bookOfChange=id,Ym.EventType=om,Ym.NodeSpace=Wp,Ym.TransformDirtyBit=qp,Ym.TransformBit=qp,Gm=Qp((km=Xm).prototype,"_lpos",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new mn}}),Hm=Qp(km.prototype,"_lrot",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new bn}}),Vm=Qp(km.prototype,"_lscale",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new mn(1,1,1)}}),Wm=Qp(km.prototype,"_layer",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Al.Enum.DEFAULT}}),qm=Qp(km.prototype,"_euler",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new mn}}),Qp(km.prototype,"eulerAngles",[Um],Object.getOwnPropertyDescriptor(km.prototype,"eulerAngles"),km.prototype),Qp(km.prototype,"angle",[gu],Object.getOwnPropertyDescriptor(km.prototype,"angle"),km.prototype),Qp(km.prototype,"layer",[gu],Object.getOwnPropertyDescriptor(km.prototype,"layer"),km.prototype),jm=km))||jm));var rd,ad,sd,cd,ld,pd,ud,_d,fd,hd,md,dd,vd,gd,Ad,yd,xd,bd,Cd,Sd,Ed,wd,Td,Pd,Id,Rd,Nd,Dd,Md,Od,Ld,zd,Fd,Bd,Ud,jd,kd,Gd,Hd,Vd,Wd,qd,Yd,Xd,Qd,Zd,Jd,Kd,$d,ev,tv,nv,iv,ov,rv,av,sv,cv,lv,pv,uv,_v,fv,hv,mv;c.Node=od;let dv=ou("cc.TargetInfo")((sd=Qp((ad=class{constructor(){Xp(this,"localID",sd,this)}}).prototype,"localID",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rd=ad))||rd,vv=(cd=ou("cc.TargetOverrideInfo"),ld=Mu(Xn),pd=Mu(dv),ud=Mu(od),_d=Mu(dv),cd((md=Qp((hd=class{constructor(){Xp(this,"source",md,this),Xp(this,"sourceInfo",dd,this),Xp(this,"propertyPath",vd,this),Xp(this,"target",gd,this),Xp(this,"targetInfo",Ad,this)}}).prototype,"source",[lu,ld],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dd=Qp(hd.prototype,"sourceInfo",[lu,pd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vd=Qp(hd.prototype,"propertyPath",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gd=Qp(hd.prototype,"target",[lu,ud],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ad=Qp(hd.prototype,"targetInfo",[lu,_d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fd=hd))||fd),gv=ou("cc.CompPrefabInfo")((bd=Qp((xd=class{constructor(){Xp(this,"fileId",bd,this)}}).prototype,"fileId",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yd=xd))||yd,Av=(Cd=ou("CCPropertyOverrideInfo"),Sd=Mu(dv),Cd((Td=Qp((wd=class{constructor(){Xp(this,"targetInfo",Td,this),Xp(this,"propertyPath",Pd,this),Xp(this,"value",Id,this)}isTarget(e,t){}}).prototype,"targetInfo",[lu,Sd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pd=Qp(wd.prototype,"propertyPath",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Id=Qp(wd.prototype,"value",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ed=wd))||Ed),yv=(Rd=ou("cc.MountedChildrenInfo"),Nd=Mu(dv),Dd=Mu([od]),Rd((Ld=Qp((Od=class{constructor(){Xp(this,"targetInfo",Ld,this),Xp(this,"nodes",zd,this)}isTarget(e){}}).prototype,"targetInfo",[lu,Nd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zd=Qp(Od.prototype,"nodes",[lu,Dd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Md=Od))||Md),xv=(Fd=ou("cc.MountedComponentsInfo"),Bd=Mu(dv),Ud=Mu([Tf]),Fd((Gd=Qp((kd=class{constructor(){Xp(this,"targetInfo",Gd,this),Xp(this,"components",Hd,this)}isTarget(e){}}).prototype,"targetInfo",[lu,Bd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hd=Qp(kd.prototype,"components",[lu,Ud],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jd=kd))||jd),bv=(Vd=ou("cc.PrefabInstance"),Wd=Mu(od),qd=Mu([yv]),Yd=Mu([xv]),Xd=Mu([Av]),Qd=Mu([dv]),Vd((Kd=Qp((Jd=class{constructor(){Xp(this,"fileId",Kd,this),Xp(this,"prefabRootNode",$d,this),Xp(this,"mountedChildren",ev,this),Xp(this,"mountedComponents",tv,this),Xp(this,"propertyOverrides",nv,this),Xp(this,"removedComponents",iv,this),this.targetMap={}}findPropertyOverride(e,t){}removePropertyOverride(e,t){}}).prototype,"fileId",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$d=Qp(Jd.prototype,"prefabRootNode",[lu,Wd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ev=Qp(Jd.prototype,"mountedChildren",[lu,qd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tv=Qp(Jd.prototype,"mountedComponents",[lu,Yd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nv=Qp(Jd.prototype,"propertyOverrides",[lu,Xd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),iv=Qp(Jd.prototype,"removedComponents",[lu,Qd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zd=Jd))||Zd),Cv=(ov=ou("cc.PrefabInfo"),rv=Mu(od),av=Mu(c.Prefab),sv=Mu(bv),cv=Mu([vv]),ov((uv=Qp((pv=class{constructor(){Xp(this,"root",uv,this),Xp(this,"asset",_v,this),Xp(this,"fileId",fv,this),Xp(this,"instance",hv,this),Xp(this,"targetOverrides",mv,this)}}).prototype,"root",[lu,rv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_v=Qp(pv.prototype,"asset",[lu,av],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fv=Qp(pv.prototype,"fileId",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hv=Qp(pv.prototype,"instance",[lu,sv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mv=Qp(pv.prototype,"targetOverrides",[lu,cv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lv=pv))||lv);c._PrefabInfo=Cv;var Sv,Ev,wv,Tv,Pv,Iv,Rv=Object.freeze({__proto__:null,TargetInfo:dv,TargetOverrideInfo:vv,CompPrefabInfo:gv,PropertyOverrideInfo:Av,MountedChildrenInfo:yv,MountedComponentsInfo:xv,PrefabInstance:bv,PrefabInfo:Cv,createNodeWithPrefab:Rm,generateTargetMap:Nm,getTarget:Dm,applyMountedChildren:Mm,applyMountedComponents:Om,applyRemovedComponents:Lm,applyPropertyOverrides:zm,applyTargetOverrides:Fm});const Nv=Qe({AUTO:0,SINGLE_INSTANCE:1,MULTI_INSTANCE:2});let Dv=e("eY",ou("cc.Prefab")((Iv=Pv=class e extends u_{constructor(){super(),Xp(this,"data",wv,this),Xp(this,"optimizationPolicy",Tv,this),this._createFunction=void 0,this._instantiatedTimes=void 0,this._createFunction=null,this._instantiatedTimes=0}createNode(e){const t=c.instantiate(this);t.name=this.name,e(null,t)}compileCreateFunction(){this._createFunction=function(e){const t=e instanceof c._BaseNode&&e;return new tm(e,t).result}(this.data)}_doInstantiate(e){return this.data._prefab||P(3700),this._createFunction||this.compileCreateFunction(),this._createFunction(e)}_instantiate(){let t,n=!1;return n=this.optimizationPolicy!==Nv.SINGLE_INSTANCE&&(this.optimizationPolicy===Nv.MULTI_INSTANCE||this._instantiatedTimes+1>=e.OptimizationPolicyThreshold),n?(t=this._doInstantiate(),this.data._instantiate(t)):t=this.data._instantiate(),++this._instantiatedTimes,t}initDefault(e){super.initDefault(e),this.data=new od,this.data.name="(Missing Node)";const t=new Cv;t.asset=this,t.root=this.data,this.data._prefab=t}validate(){return!!this.data}},Pv.OptimizationPolicy=Nv,Pv.OptimizationPolicyThreshold=3,wv=Qp((Ev=Iv).prototype,"data",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tv=Qp(Ev.prototype,"optimizationPolicy",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nv.AUTO}}),Sv=Ev))||Sv);var Mv,Ov,Lv,zv,Fv,Bv;Ye.value(Dv,"_utils",Rv),c.Prefab=Dv,Ae(c,"cc._Prefab","Prefab"),e("eO",(Mv=ou("cc.PrefabLink"),Ov=Mu(Dv),Lv=Au(),Mv((Bv=Qp((Fv=class extends Tf{constructor(...e){super(...e),Xp(this,"prefab",Bv,this)}}).prototype,"prefab",[Ov,lu,Lv],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zv=Fv))||zv));const Uv=new mn;function jv(e,t,n,i){i||(i=new mn),e.convertToUINode(t,n,i);const o=n.position;return i.add(o),i}function kv(e,t,n){return n||(n=new mn),e.worldToScreen(t,n),n.x/=c.view.getScaleX(),n.y/=c.view.getScaleY(),n}const Gv=e("eS",{WorldNode3DToLocalNodeUI:jv,WorldNode3DToWorldNodeUI:kv});c.pipelineUtils=Gv,W(c.pipelineUtils,"cc.pipelineUtils",[{name:"WorldNode3DToLocalNodeUI",newName:"convertToUINode",targetName:"cc.Camera.prototype",customFunction(...e){const t=e[0],n=e[3]||Uv;return t.convertToUINode(e[1],e[2],n),n.add(e[2].position),e[3]||n.clone()}}]),W(om,"Node.EventType",[{name:"POSITION_PART",newName:"TRANSFORM_CHANGED"},{name:"ROTATION_PART",newName:"TRANSFORM_CHANGED"},{name:"SCALE_PART",newName:"TRANSFORM_CHANGED"}]);class Hv{constructor(){this.support=void 0,this._intervalInSeconds=.2,this._intervalId=void 0,this._isEnabled=!1,this._eventTarget=new ri,this._didAccelerateFunc=void 0;const e=di.isMobile;this.support=e,this._didAccelerateFunc=this._didAccelerate.bind(this)}_didAccelerate(){const e=jsb.device.getDeviceMotionValue();let t=.1*e[3],n=.1*e[4];const i=.1*e[5],o=di.getOrientation(),r=t;o===ui.LANDSCAPE_RIGHT?(t=-n,n=r):o===ui.LANDSCAPE_LEFT?(t=n,n=-r):o===ui.PORTRAIT_UPSIDE_DOWN&&(t=-t,n=-n),di.os===pi.ANDROID&&(t=-t,n=-n);const a={type:om.DEVICEMOTION,x:t,y:n,z:i,timestamp:performance.now()};this._eventTarget.emit(om.DEVICEMOTION,a)}start(){this._intervalId&&clearInterval(this._intervalId),this._intervalId=setInterval(this._didAccelerateFunc,1e3*this._intervalInSeconds),jsb.device.setAccelerometerInterval(this._intervalInSeconds),jsb.device.setAccelerometerEnabled(!0),this._isEnabled=!0}stop(){this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),jsb.device.setAccelerometerEnabled(!1),this._isEnabled=!1}setInterval(e){this._intervalInSeconds=e/1e3,jsb.device.setAccelerometerInterval(this._intervalInSeconds),this._isEnabled&&(jsb.device.setAccelerometerEnabled(!1),jsb.device.setAccelerometerEnabled(!0))}onChange(e){this._eventTarget.on(om.DEVICEMOTION,e)}}class Vv{constructor(){this.support=void 0,this.support=!0}show(){throw new Error("Method not implemented.")}hide(){throw new Error("Method not implemented.")}onChange(){throw new Error("Method not implemented.")}onComplete(){throw new Error("Method not implemented.")}offChange(){throw new Error("Method not implemented.")}offComplete(){throw new Error("Method not implemented.")}}class Wv{constructor(){this.support=void 0,this._eventTarget=new ri,this.support=!di.isMobile,this._registerEvent()}_registerEvent(){jsb.onKeyDown=this._createCallback(om.KEY_DOWN),jsb.onKeyUp=this._createCallback(om.KEY_UP)}_createCallback(e){return t=>{const n={type:e,code:t.keyCode,timestamp:performance.now()};this._eventTarget.emit(e,n)}}onDown(e){this._eventTarget.on(om.KEY_DOWN,e)}onUp(e){this._eventTarget.on(om.KEY_UP,e)}}class qv{constructor(){this.support=void 0,this._eventTarget=new ri,this.support=!di.isMobile,this._registerEvent()}_getLocation(e){return new On(e.x,e.y)}_registerEvent(){jsb.onMouseDown=this._createCallback(om.MOUSE_DOWN),jsb.onMouseMove=this._createCallback(om.MOUSE_MOVE),jsb.onMouseUp=this._createCallback(om.MOUSE_UP),jsb.onMouseWheel=e=>{const t=this._getLocation(e),n=di.getViewSize(),i={type:om.MOUSE_WHEEL,x:t.x,y:n.height-t.y,button:e.button,deltaX:120*e.wheelDeltaX,deltaY:120*e.wheelDeltaY,timestamp:performance.now()};this._eventTarget.emit(om.MOUSE_WHEEL,i)}}_createCallback(e){return t=>{const n=this._getLocation(t),i=di.getViewSize(),o={type:e,x:n.x,y:i.height-n.y,button:t.button,timestamp:performance.now()};this._eventTarget.emit(e,o)}}onDown(e){this._eventTarget.on(om.MOUSE_DOWN,e)}onMove(e){this._eventTarget.on(om.MOUSE_MOVE,e)}onUp(e){this._eventTarget.on(om.MOUSE_UP,e)}onWheel(e){this._eventTarget.on(om.MOUSE_WHEEL,e)}}class Yv{constructor(){this.support=void 0,this._eventTarget=new ri,this.support=!0,this._registerEvent()}_registerEvent(){jsb.onTouchStart=this._createCallback(om.TOUCH_START),jsb.onTouchMove=this._createCallback(om.TOUCH_MOVE),jsb.onTouchEnd=this._createCallback(om.TOUCH_END),jsb.onTouchCancel=this._createCallback(om.TOUCH_CANCEL)}_createCallback(e){return t=>{const n=[],i=t.length,o=di.getViewSize();for(let e=0;e<i;++e){const i=t[e],r=this._getLocation(i),a=r.x,s=o.height-r.y,c={identifier:i.identifier,x:a,y:s,force:i.force};n.push(c)}const r={type:e,changedTouches:n,timestamp:performance.now()};this._eventTarget.emit(e,r)}}_getLocation(e){return new On(e.clientX,e.clientY)}onStart(e){this._eventTarget.on(om.TOUCH_START,e)}onMove(e){this._eventTarget.on(om.TOUCH_MOVE,e)}onEnd(e){this._eventTarget.on(om.TOUCH_END,e)}onCancel(e){this._eventTarget.on(om.TOUCH_CANCEL,e)}}const Xv=new class{constructor(){this._touch=new Yv,this._mouse=new qv,this._keyboard=new Wv,this._accelerometer=new Hv,this._inputBox=new Vv,this._inputEventList=[],this._registerEvent()}_registerEvent(){}_pushEvent(e){this._inputEventList.push(e)}pollEvent(){return this._inputEventList.shift()}},Qv=new On;class Zv extends p_{constructor(e,t,n){super(p_.MOUSE,t),this.movementX=0,this.movementY=0,this.eventType=void 0,this._button=Zv.BUTTON_MISSING,this._x=0,this._y=0,this._prevX=0,this._prevY=0,this._scrollX=0,this._scrollY=0,this.eventType=e,n&&(this._prevX=n.x,this._prevY=n.y)}setScrollData(e,t){this._scrollX=e,this._scrollY=t}getScrollX(){return this._scrollX}getScrollY(){return this._scrollY}setLocation(e,t){this._x=e,this._y=t}getLocation(e){return e||(e=new On),On.set(e,this._x,this._y),e}getLocationInView(e){return e||(e=new On),On.set(e,this._x,c.view._designResolutionSize.height-this._y),e}getUILocation(e){return e||(e=new On),On.set(e,this._x,this._y),c.view._convertPointWithScale(e),e}getPreviousLocation(e){return e||(e=new On),On.set(e,this._prevX,this._prevY),e}getUIPreviousLocation(e){return e||(e=new On),On.set(e,this._prevX,this._prevY),c.view._convertPointWithScale(e),e}getDelta(e){return e||(e=new On),On.set(e,this._x-this._prevX,this._y-this._prevY),e}getDeltaX(){return this._x-this._prevX}getDeltaY(){return this._y-this._prevY}getUIDelta(e){return e||(e=new On),On.set(e,(this._x-this._prevX)/c.view.getScaleX(),(this._y-this._prevY)/c.view.getScaleY()),e}getUIDeltaX(){return(this._x-this._prevX)/c.view.getScaleX()}getUIDeltaY(){return(this._y-this._prevY)/c.view.getScaleY()}setButton(e){this._button=e}getButton(){return this._button}getLocationX(){return this._x}getLocationY(){return this._y}getUILocationX(){const e=c.view.getViewportRect();return(this._x-e.x)/c.view.getScaleX()}getUILocationY(){const e=c.view.getViewportRect();return(this._y-e.y)/c.view.getScaleY()}}e("fc",Zv),Zv.BUTTON_MISSING=-1,Zv.BUTTON_LEFT=0,Zv.BUTTON_RIGHT=2,Zv.BUTTON_MIDDLE=1,Zv.BUTTON_4=3,Zv.BUTTON_5=4,Zv.BUTTON_6=5,Zv.BUTTON_7=6,Zv.BUTTON_8=7;class Jv extends p_{constructor(e,t,n,i){super(p_.TOUCH,t),this.touch=null,this.simulate=!1,this._eventCode=void 0,this._touches=void 0,this._allTouches=void 0,this._eventCode=n||"",this._touches=e||[],this._allTouches=i||[]}getEventCode(){return this._eventCode}getTouches(){return this._touches}getAllTouches(){return this._allTouches}setLocation(e,t){this.touch&&this.touch.setTouchInfo(this.touch.getID(),e,t)}getLocation(e){return this.touch?this.touch.getLocation(e):new On}getUILocation(e){return this.touch?this.touch.getUILocation(e):new On}getLocationInView(e){return this.touch?this.touch.getLocationInView(e):new On}getPreviousLocation(e){return this.touch?this.touch.getPreviousLocation(e):new On}getStartLocation(e){return this.touch?this.touch.getStartLocation(e):new On}getUIStartLocation(e){return this.touch?this.touch.getUIStartLocation(e):new On}getID(){return this.touch?this.touch.getID():null}getDelta(e){return this.touch?this.touch.getDelta(e):new On}getUIDelta(e){return this.touch?this.touch.getUIDelta(e):new On}getDeltaX(){return this.touch?this.touch.getDelta(Qv).x:0}getDeltaY(){return this.touch?this.touch.getDelta(Qv).y:0}getLocationX(){return this.touch?this.touch.getLocationX():0}getLocationY(){return this.touch?this.touch.getLocationY():0}}e("dy",Jv),Jv.MAX_TOUCHES=5;class Kv extends p_{constructor(e,t){super(p_.ACCELERATION,t),this.acc=void 0,this.acc=e}}e("fd",Kv);class $v extends p_{constructor(e,t,n){super(p_.KEYBOARD,n),this.keyCode=void 0,this.rawEvent=void 0,this.isPressed=void 0,"number"==typeof e?this.keyCode=e:(this.keyCode=e.keyCode,this.rawEvent=e),this.isPressed=t}}e("fe",$v),p_.EventMouse=Zv,p_.EventTouch=Jv,p_.EventAcceleration=Kv,p_.EventKeyboard=$v;const eg=new On;class tg{get lastModified(){return this._lastModified}constructor(e,t,n=0){this._point=new On,this._prevPoint=new On,this._lastModified=0,this._id=0,this._startPoint=new On,this._startPointCaptured=!1,this.setTouchInfo(n,e,t)}getLocation(e){return e||(e=new On),e.set(this._point.x,this._point.y),e}getLocationX(){return this._point.x}getLocationY(){return this._point.y}getUILocation(e){return e||(e=new On),e.set(this._point.x,this._point.y),c.view._convertPointWithScale(e),e}getUILocationX(){const e=c.view.getViewportRect();return(this._point.x-e.x)/c.view.getScaleX()}getUILocationY(){const e=c.view.getViewportRect();return(this._point.y-e.y)/c.view.getScaleY()}getPreviousLocation(e){return e||(e=new On),e.set(this._prevPoint.x,this._prevPoint.y),e}getUIPreviousLocation(e){return e||(e=new On),e.set(this._prevPoint.x,this._prevPoint.y),c.view._convertPointWithScale(e),e}getStartLocation(e){return e||(e=new On),e.set(this._startPoint.x,this._startPoint.y),e}getUIStartLocation(e){return e||(e=new On),e.set(this._startPoint.x,this._startPoint.y),c.view._convertPointWithScale(e),e}getDelta(e){return e||(e=new On),e.set(this._point),e.subtract(this._prevPoint),e}getUIDelta(e){return e||(e=new On),eg.set(this._point),eg.subtract(this._prevPoint),e.set(c.view.getScaleX(),c.view.getScaleY()),On.divide(e,eg,e),e}getLocationInView(e){return e||(e=new On),e.set(this._point.x,c.view._designResolutionSize.height-this._point.y),e}getPreviousLocationInView(e){return e||(e=new On),e.set(this._prevPoint.x,c.view._designResolutionSize.height-this._prevPoint.y),e}getStartLocationInView(e){return e||(e=new On),e.set(this._startPoint.x,c.view._designResolutionSize.height-this._startPoint.y),e}getID(){return this._id}setTouchInfo(e=0,t,n){this._prevPoint=this._point,this._point=new On(t||0,n||0),this._id=e,this._startPointCaptured||(this._startPoint=new On(this._point),this._startPointCaptured=!0)}setPoint(e,t){"object"==typeof e?(this._point.x=e.x,this._point.y=e.y):(this._point.x=e||0,this._point.y=t||0),this._lastModified=c.director.getCurrentTime()}setPrevPoint(e,t){this._prevPoint="object"==typeof e?new On(e.x,e.y):new On(e||0,t||0),this._lastModified=c.director.getCurrentTime()}}e("ff",tg),c.Touch=tg;class ng{constructor(e=0,t=0,n=0,i=0){this.x=void 0,this.y=void 0,this.z=void 0,this.timestamp=void 0,this.x=e,this.y=t,this.z=n,this.timestamp=i}}const ig=et.TOUCH_TIMEOUT,og=new On,rg=new On,ag=new class{constructor(){this._isRegisterEvent=!1,this._preTouchPoint=new On,this._prevMousePoint=new On,this._preTouchPool=[],this._preTouchPoolPointer=0,this._touches=[],this._touchesIntegerDict={},this._indexBitsUsed=0,this._maxTouches=8,this._glView=null}handleTouchesBegin(e){const t=[],n=this._touchesIntegerDict;for(let i=0;i<e.length;++i){const o=e[i],r=o.getID();if(null!==r&&void 0===n[r]){const e=this._getUnUsedIndex();if(-1===e){w(2300,e);continue}o.getLocation(og);const i=new tg(og.x,og.y,r);this._touches[e]=i,o.getPreviousLocation(og),i.setPrevPoint(og),n[r]=e,t.push(i)}}if(t.length>0){const e=new Jv(t,!1,om.TOUCH_START,et.ENABLE_MULTI_TOUCH?this._getUsefulTouches():t);hm.dispatchEvent(e)}}handleTouchesMove(e){const t=[],n=this._touches;for(let i=0;i<e.length;++i){const o=e[i],r=o.getID();if(null===r)continue;const a=this._touchesIntegerDict[r];void 0!==a&&n[a]&&(o.getLocation(og),n[a].setPoint(og),o.getPreviousLocation(og),n[a].setPrevPoint(og),t.push(n[a]))}if(t.length>0){const e=new Jv(t,!1,om.TOUCH_MOVE,et.ENABLE_MULTI_TOUCH?this._getUsefulTouches():t);hm.dispatchEvent(e)}}handleTouchesEnd(e){const t=this.getSetOfTouchesEndOrCancel(e);if(t.length>0){const e=new Jv(t,!1,om.TOUCH_END,et.ENABLE_MULTI_TOUCH?this._getUsefulTouches():t);hm.dispatchEvent(e)}this._preTouchPool.length=0}handleTouchesCancel(e){const t=this.getSetOfTouchesEndOrCancel(e);if(t.length>0){const e=new Jv(t,!1,om.TOUCH_CANCEL,et.ENABLE_MULTI_TOUCH?this._getUsefulTouches():t);hm.dispatchEvent(e)}this._preTouchPool.length=0}getSetOfTouchesEndOrCancel(e){const t=[],n=this._touches,i=this._touchesIntegerDict;for(let o=0;o<e.length;++o){const r=e[o],a=r.getID();if(null===a)continue;const s=i[a];void 0!==s&&n[s]&&(r.getLocation(og),n[s].setPoint(og),r.getPreviousLocation(og),n[s].setPrevPoint(og),t.push(n[s]),this._removeUsedIndexBit(s),delete i[a])}return t}_getPreTouch(e){let t=null;const n=this._preTouchPool,i=e.getID();for(let e=n.length-1;e>=0;e--)if(n[e].getID()===i){t=n[e];break}return t||(t=e),t}_setPreTouch(e){let t=!1;const n=this._preTouchPool,i=e.getID();for(let o=n.length-1;o>=0;o--)if(n[o].getID()===i){n[o]=e,t=!0;break}t||(n.length<=50?n.push(e):(n[this._preTouchPoolPointer]=e,this._preTouchPoolPointer=(this._preTouchPoolPointer+1)%50))}_getViewPixelRatio(){return this._glView?this._glView._devicePixelRatio:1}_getTouch(e){const t=this._preTouchPoint,n=this._getViewPixelRatio(),i=e.x*n,o=e.y*n,r=new tg(i,o,0);return r.setPrevPoint(t.x,t.y),t.x=i,t.y=o,r}_getMouseEvent(e){const t=this._prevMousePoint,n=new Zv(e.type,!1,t),i=this._getViewPixelRatio();return t.x=e.x*i,t.y=e.y*i,c.GAME_VIEW&&(t.x/=c.gameView.canvas.width/c.game.canvas.width,t.y/=c.gameView.canvas.height/c.game.canvas.height),n.setLocation(t.x,t.y),n.setButton(e.button),e.movementX&&(n.movementX=e.movementX),e.movementY&&(n.movementY=e.movementY),n}_getTouchList(e){const t=[],n=this._preTouchPoint,i=e.changedTouches.length,o=this._getViewPixelRatio();for(let r=0;r<i;r++){const i=e.changedTouches[r],a=i.x*o,s=i.y*o,c=new tg(a,s,i.identifier);if(this._getPreTouch(c).getLocation(rg),c.setPrevPoint(rg.x,rg.y),this._setPreTouch(c),n.x=a,n.y=s,t.push(c),!et.ENABLE_MULTI_TOUCH)break}return t}_getUnUsedIndex(){let e=this._indexBitsUsed;const t=c.director.getCurrentTime();for(let n=0;n<this._maxTouches;n++){if(!(1&e))return this._indexBitsUsed|=1<<n,n;{const e=this._touches[n];if(t-e.lastModified>ig){this._removeUsedIndexBit(n);const t=e.getID();return null!==t&&delete this._touchesIntegerDict[t],n}}e>>=1}return-1}_removeUsedIndexBit(e){if(e<0||e>=this._maxTouches)return;let t=1<<e;t=~t,this._indexBitsUsed&=t}_getUsefulTouches(){const e=[],t=this._touchesIntegerDict;for(const n in t){const i=t[parseInt(n)];if(null==i)continue;const o=this._touches[i];e.push(o)}return e}setAccelerometerEnabled(e){e?Xv._accelerometer.start():Xv._accelerometer.stop()}setAccelerometerInterval(e){Xv._accelerometer.setInterval(e)}registerSystemEvent(){this._isRegisterEvent||(this._glView=c.view,Xv._mouse.support&&this._registerMouseEvents(),Xv._touch.support&&this._registerTouchEvents(),Xv._keyboard.support&&this._registerKeyboardEvent(),Xv._accelerometer.support&&this._registerAccelerometerEvent(),this._isRegisterEvent=!0)}_registerMouseEvents(){Xv._mouse.onDown((e=>{const t=this._getMouseEvent(e),n=this._getTouch(e);this.handleTouchesBegin([n]),hm.dispatchEvent(t)})),Xv._mouse.onMove((e=>{const t=this._getMouseEvent(e),n=this._getTouch(e);this.handleTouchesMove([n]),hm.dispatchEvent(t)})),Xv._mouse.onUp((e=>{const t=this._getMouseEvent(e),n=this._getTouch(e);this.handleTouchesEnd([n]),hm.dispatchEvent(t)})),Xv._mouse.onWheel((e=>{const t=this._getMouseEvent(e);t.setScrollData(e.deltaX,e.deltaY),hm.dispatchEvent(t)}))}_registerTouchEvents(){Xv._touch.onStart((e=>{const t=this._getTouchList(e);this.handleTouchesBegin(t)})),Xv._touch.onMove((e=>{const t=this._getTouchList(e);this.handleTouchesMove(t)})),Xv._touch.onEnd((e=>{const t=this._getTouchList(e);this.handleTouchesEnd(t)})),Xv._touch.onCancel((e=>{const t=this._getTouchList(e);this.handleTouchesCancel(t)}))}_registerKeyboardEvent(){Xv._keyboard.onDown((e=>{hm.dispatchEvent(new $v(e.code,!0))})),Xv._keyboard.onUp((e=>{hm.dispatchEvent(new $v(e.code,!1))}))}_registerAccelerometerEvent(){Xv._accelerometer.onChange((e=>{const{x:t,y:n,z:i,timestamp:o}=e;hm.dispatchEvent(new Kv(new ng(t,n,i,o)))}))}};c.internal.inputManager=ag;let sg=null,cg=null,lg=null,pg=null;class ug extends ri{constructor(){super()}setAccelerometerEnabled(e){e&&window.DeviceMotionEvent&&"function"==typeof DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((e=>{w(3520,e),ag.setAccelerometerEnabled("granted"===e)})).catch((e=>{P(3521,e.message),ag.setAccelerometerEnabled(!1)})):ag.setAccelerometerEnabled(e)}setAccelerometerInterval(e){ag.setAccelerometerInterval(e)}on(e,t,n,i){return super.on(e,t,n,i),e!==om.KEY_DOWN&&e!==om.KEY_UP||sg||(sg=rm.create({event:rm.KEYBOARD,onKeyPressed(e,t){t.type=om.KEY_DOWN,_g.emit(t.type,t)},onKeyReleased(e,t){t.type=om.KEY_UP,_g.emit(t.type,t)}}),hm.addListener(sg,256)),e===om.DEVICEMOTION&&(cg||(cg=rm.create({event:rm.ACCELERATION,callback(e,t){t.type=om.DEVICEMOTION,c.systemEvent.emit(t.type,t)}}),hm.addListener(cg,256))),e!==om.TOUCH_START&&e!==om.TOUCH_MOVE&&e!==om.TOUCH_END&&e!==om.TOUCH_CANCEL||lg||(lg=rm.create({event:rm.TOUCH_ONE_BY_ONE,onTouchBegan:(e,t)=>(t.type=om.TOUCH_START,c.systemEvent.emit(t.type,e,t),!0),onTouchMoved(e,t){t.type=om.TOUCH_MOVE,c.systemEvent.emit(t.type,e,t)},onTouchEnded(e,t){t.type=om.TOUCH_END,c.systemEvent.emit(t.type,e,t)},onTouchCancelled(e,t){t.type=om.TOUCH_CANCEL,c.systemEvent.emit(t.type,e,t)}}),hm.addListener(lg,256)),e!==om.MOUSE_DOWN&&e!==om.MOUSE_MOVE&&e!==om.MOUSE_UP&&e!==om.MOUSE_WHEEL||pg||(pg=rm.create({event:rm.MOUSE,onMouseDown(e){e.type=om.MOUSE_DOWN,c.systemEvent.emit(e.type,e)},onMouseMove(e){e.type=om.MOUSE_MOVE,c.systemEvent.emit(e.type,e)},onMouseUp(e){e.type=om.MOUSE_UP,c.systemEvent.emit(e.type,e)},onMouseScroll(e){e.type=om.MOUSE_WHEEL,c.systemEvent.emit(e.type,e)}}),hm.addListener(pg,256)),t}off(e,t,n){if(super.off(e,t,n),sg&&(e===om.KEY_DOWN||e===om.KEY_UP)){const e=this.hasEventListener(om.KEY_DOWN),t=this.hasEventListener(om.KEY_UP);e||t||(hm.removeListener(sg),sg=null)}if(cg&&e===om.DEVICEMOTION&&(hm.removeListener(cg),cg=null),lg&&(e===om.TOUCH_START||e===om.TOUCH_MOVE||e===om.TOUCH_END||e===om.TOUCH_CANCEL)){const e=this.hasEventListener(om.TOUCH_START),t=this.hasEventListener(om.TOUCH_MOVE),n=this.hasEventListener(om.TOUCH_END),i=this.hasEventListener(om.TOUCH_CANCEL);e||t||n||i||(hm.removeListener(lg),lg=null)}if(pg&&(e===om.MOUSE_DOWN||e===om.MOUSE_MOVE||e===om.MOUSE_UP||e===om.MOUSE_WHEEL)){const e=this.hasEventListener(om.MOUSE_DOWN),t=this.hasEventListener(om.MOUSE_MOVE),n=this.hasEventListener(om.MOUSE_UP),i=this.hasEventListener(om.MOUSE_WHEEL);e||t||n||i||(hm.removeListener(pg),pg=null)}}}e("fa",ug),ug.EventType=om,c.SystemEvent=ug;const _g=e("fb",new ug);c.systemEvent=_g;const fg=di.getViewSize(),hg=di.pixelRatio,mg=e("bm",{NetworkType:li,Language:ci,OS:pi,Platform:_i,BrowserType:ai,isNative:di.isNative,isBrowser:di.isBrowser,isMobile:di.isMobile,isLittleEndian:di.isLittleEndian,platform:di.platform,language:di.language,languageCode:di.nativeLanguage,os:di.os,osVersion:di.osVersion,osMainVersion:di.osMainVersion,browserType:di.browserType,browserVersion:di.browserVersion,windowPixelResolution:{width:fg.width*hg,height:fg.height*hg},capabilities:{canvas:di.supportCapability.canvas,opengl:di.supportCapability.gl,webp:di.supportCapability.webp,imageBitmap:di.supportCapability.imageBitmap,touches:!1,mouse:!1,keyboard:!1,accelerometer:!1},localStorage:null,getNetworkType:()=>di.networkType,getBatteryLevel:()=>di.getBatteryLevel(),garbageCollect(){di.triggerGC()},isObjectValid:e=>null!=e,dump(){let e="";e+=`isMobile : ${this.isMobile}\r\n`,e+=`language : ${this.language}\r\n`,e+=`browserType : ${this.browserType}\r\n`,e+=`browserVersion : ${this.browserVersion}\r\n`,e+=`capabilities : ${JSON.stringify(this.capabilities)}\r\n`,e+=`os : ${this.os}\r\n`,e+=`osVersion : ${this.osVersion}\r\n`,e+=`platform : ${this.platform}\r\n`,e+=`Using ${c.game.renderType===c.game.RENDER_TYPE_WEBGL?"WEBGL":"CANVAS"} renderer.\r\n`,v(e)},openURL(e){di.openURL(e)},now:()=>di.now(),restartVM(){di.restartJSVM()},getSafeAreaRect(){const e=c.view,t=di.getSafeAreaEdge(),n=di.getViewSize(),i=new On(t.left,n.height-t.bottom),o=new On(n.width-t.right,t.top),r={left:0,top:0,width:n.width,height:n.height};e.convertToLocationInView(i.x,i.y,r,i),e.convertToLocationInView(o.x,o.y,r,o),e._convertPointWithScale(i),e._convertPointWithScale(o);const a=i.x,s=i.y,l=o.x-i.x,p=o.y-i.y;return new Hn(a,s,l,p)},__init(){try{let e=mg.localStorage=window.localStorage;e.setItem("storage",""),e.removeItem("storage"),e=null}catch(e){const t=function(){P(5200)};mg.localStorage={getItem:t,setItem:t,removeItem:t,clear:t}}const e=window,t=e.navigator,n=document,i=n.documentElement,o=mg.capabilities;(void 0!==i.ontouchstart||void 0!==n.ontouchstart||t.msPointerEnabled)&&(o.touches=!0),void 0!==i.onmouseup&&(o.mouse=!0),void 0!==i.onkeyup&&(o.keyboard=!0),(e.DeviceMotionEvent||e.DeviceOrientationEvent)&&(o.accelerometer=!0),mg.__isWebIOS14OrIPadOS14Env=(mg.os===pi.IOS||mg.os===pi.OSX)&&di.isBrowser&&/(OS 1[4-9])|(Version\/1[4-9])/.test(window.navigator.userAgent),di.onViewResize((()=>{const e=di.getViewSize();mg.windowPixelResolution={width:Math.round(e.width*hg),height:Math.round(e.height*hg)}}))}});mg.__init(),c.sys=mg;const dg=Qe({LINEAR:0,EXP:1,EXP_SQUARED:2,LAYERED:3}),vg=dg.LAYERED+1;class gg{set enabled(e){qo.set(this._handle,Vo.ENABLE,e?1:0),e||qo.set(this._handle,Vo.TYPE,vg),e?this.activate():this._updatePipeline()}get enabled(){return qo.get(this._handle,Vo.ENABLE)}set fogColor(e){this._fogColor.set(e),fn.toArray(this._colorArray,this._fogColor),qo.setVec4(this._handle,Vo.COLOR,this._fogColor)}get fogColor(){return this._fogColor}get type(){return qo.get(this._handle,Vo.TYPE)}set type(e){qo.set(this._handle,Vo.TYPE,this.enabled?e:vg),this.enabled&&this._updatePipeline()}get fogDensity(){return qo.get(this._handle,Vo.DENSITY)}set fogDensity(e){qo.set(this._handle,Vo.DENSITY,e)}get fogStart(){return qo.get(this._handle,Vo.START)}set fogStart(e){qo.set(this._handle,Vo.START,e)}get fogEnd(){return qo.get(this._handle,Vo.END)}set fogEnd(e){qo.set(this._handle,Vo.END,e)}get fogAtten(){return qo.get(this._handle,Vo.ATTEN)}set fogAtten(e){qo.set(this._handle,Vo.ATTEN,e)}get fogTop(){return qo.get(this._handle,Vo.TOP)}set fogTop(e){qo.set(this._handle,Vo.TOP,e)}get fogRange(){return qo.get(this._handle,Vo.RANGE)}set fogRange(e){qo.set(this._handle,Vo.RANGE,e)}get colorArray(){return this._colorArray}get handle(){return this._handle}constructor(){this._fogColor=new fn("#C8C8C8"),this._colorArray=new Float32Array([.2,.2,.2,1]),this._handle=Hi,this._handle=qo.alloc()}initialize(e){qo.set(this._handle,Vo.ENABLE,e.enabled?1:0),qo.set(this._handle,Vo.TYPE,e.enabled?e.type:vg),this._fogColor.set(e.fogColor),fn.toArray(this._colorArray,this._fogColor),qo.setVec4(this._handle,Vo.COLOR,this._fogColor),qo.set(this._handle,Vo.DENSITY,e.fogDensity),qo.set(this._handle,Vo.START,e.fogStart),qo.set(this._handle,Vo.END,e.fogEnd),qo.set(this._handle,Vo.ATTEN,e.fogAtten),qo.set(this._handle,Vo.TOP,e.fogTop),qo.set(this._handle,Vo.RANGE,e.fogRange)}activate(){this._updatePipeline()}_updatePipeline(){const e=c.director.root,t=this.enabled?this.type:vg,n=e.pipeline;n.macros.CC_USE_FOG!==t&&(n.macros.CC_USE_FOG=t,e.onGlobalPipelineStateChanged())}destroy(){this._handle&&(qo.free(this._handle),this._handle=Hi)}}var Ag,yg,xg,bg,Cg,Sg,Eg,wg;c.Fog=gg;let Tg=e("eg",ou("cc.EffectAsset")((wg=Eg=class e extends u_{constructor(...e){super(...e),Xp(this,"techniques",xg,this),Xp(this,"shaders",bg,this),Xp(this,"combinations",Cg,this),Xp(this,"hideInEditor",Sg,this)}static register(t){e._effects[t.name]=t}static remove(t){if(e._effects[t])delete e._effects[t];else for(const n in e._effects)if(e._effects[n]._uuid===t)return void delete e._effects[n]}static get(t){if(e._effects[t])return e._effects[t];for(const n in e._effects)if(e._effects[n]._uuid===t)return e._effects[n];return null}static getAll(){return e._effects}onLoaded(){Ch.register(this),e.register(this),c.game.once(c.Game.EVENT_ENGINE_INITED,this._precompile,this)}_precompile(){const e=c.director.root;for(let t=0;t<this.shaders.length;t++){const n=this.shaders[t],i=this.combinations[t];i&&Object.keys(i).reduce(((e,t)=>e.reduce(((e,n)=>{const o=i[t];for(let i=0;i<o.length;++i){const r={...n};r[t]=o[i],e.push(r)}return e}),[])),[{}]).forEach((t=>Ch.getGFXShader(e.device,n.name,t,e.pipeline)))}}destroy(){return e.remove(this.name),super.destroy()}initDefault(t){super.initDefault(t);const n=e.get("unlit");this.name="unlit",this.shaders=n.shaders,this.combinations=n.combinations,this.techniques=n.techniques}validate(){return this.techniques.length>0&&this.shaders.length>0}},Eg._effects={},xg=Qp((yg=wg).prototype,"techniques",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bg=Qp(yg.prototype,"shaders",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cg=Qp(yg.prototype,"combinations",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Sg=Qp(yg.prototype,"hideInEditor",[lu,pu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ag=yg))||Ag);var Pg,Ig,Rg,Ng,Dg,Mg,Og,Lg,zg;c.EffectAsset=Tg;const Fg=new ae("RenderTex"),Bg=new us;Bg.endAccesses=[Aa.FRAGMENT_SHADER_READ_TEXTURE];const Ug=new _s,jg=new hs([Bg],Ug),kg={width:1,height:1,renderPassInfo:jg};let Gg=e("c$",(Pg=ou("cc.RenderTexture"),Ig=Cu(),Rg=Su(),Ng=Cu(),Dg=Su(),Pg((Lg=Qp((Og=class extends u_{constructor(){super(),Xp(this,"_width",Lg,this),Xp(this,"_height",zg,this),this._textureHash=0,this._id=void 0,this._window=null,this._id=Fg.getNewId(),this._textureHash=Qs(this._id,666)}getHash(){return this._textureHash}get width(){return this._width}get height(){return this._height}get window(){return this._window}initialize(e){this._name=e.name||"",this._width=e.width,this._height=e.height,this._initWindow(e)}reset(e){this.initialize(e)}destroy(){return this._window&&(c.director.root.destroyWindow(this._window),this._window=null),super.destroy()}resize(e,t){this._width=e,this._height=t,this._window&&this._window.resize(e,t),this.emit("resize",this._window)}getGFXTexture(){return this._window&&this._window.framebuffer.colorTextures[0]}getGFXSampler(){const e=c.director.root;return P_.getSampler(e.device,S_)}getSamplerHash(){return S_}onLoaded(){this._initWindow(),this.loaded=!0,this.emit("load")}_initWindow(e){const t=c.director.root;kg.title=this._name,kg.width=this._width,kg.height=this._height,kg.renderPassInfo=e&&e.passInfo?e.passInfo:jg,this._window?(this._window.destroy(),this._window.initialize(t.device,kg)):this._window=t.createWindow(kg)}initDefault(e){super.initDefault(e),this._width=this._height=1,this._initWindow()}validate(){return this.width>=1&&this.width<=2048&&this.height>=1&&this.height<=2048}}).prototype,"_width",[lu,Ig,Rg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),zg=Qp(Og.prototype,"_height",[lu,Ng,Dg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Mg=Og))||Mg));var Hg,Vg,Wg,qg,Yg,Xg,Qg,Zg,Jg;c.RenderTexture=Gg;let Kg=e("cx",(Hg=ou("cc.Material"),Vg=Mu(Tg),Hg((Yg=Qp((qg=class e extends u_{static getHash(e){let t=0;for(const n of e.passes)t^=n.hash;return t}constructor(){super(),Xp(this,"_effectAsset",Yg,this),Xp(this,"_techIdx",Xg,this),Xp(this,"_defines",Qg,this),Xp(this,"_states",Zg,this),Xp(this,"_props",Jg,this),this._passes=[],this._hash=0,this.loaded=!1}get effectAsset(){return this._effectAsset}get effectName(){return this._effectAsset?this._effectAsset.name:""}get technique(){return this._techIdx}get passes(){return this._passes}get hash(){return this._hash}get parent(){return null}get owner(){return null}initialize(e){this._defines||(this._defines=[]),this._states||(this._states=[]),this._props||(this._props=[]),void 0!==e.technique&&(this._techIdx=e.technique),e.effectAsset?this._effectAsset=e.effectAsset:e.effectName&&(this._effectAsset=Tg.get(e.effectName)),e.defines&&this._prepareInfo(e.defines,this._defines),e.states&&this._prepareInfo(e.states,this._states),this._update()}reset(e){this.initialize(e)}destroy(){return this._doDestroy(),super.destroy()}recompileShaders(e,t){console.warn(`Shaders in material asset '${this.name}' cannot be modified at runtime, please instantiate the material first.`)}overridePipelineStates(e,t){console.warn(`Pipeline states in material asset '${this.name}' cannot be modified at runtime, please instantiate the material first.`)}onLoaded(){this._update(),this.loaded=!0,this.emit("load")}resetUniforms(e=!0){this._props.length=this._passes.length;for(let e=0;e<this._props.length;e++)this._props[e]={};if(e)for(const e of this._passes)e.resetUBOs(),e.resetTextures()}setProperty(e,t,n){let i=!1;if(void 0===n){const n=this._passes,o=n.length;for(let r=0;r<o;r++){const o=n[r];this._uploadProperty(o,e,t)&&(this._props[o.propertyIndex][e]=t,i=!0)}}else{if(n>=this._passes.length)return void console.warn(`illegal pass index: ${n}.`);const o=this._passes[n];this._uploadProperty(o,e,t)&&(this._props[o.propertyIndex][e]=t,i=!0)}i||console.warn(`illegal property name: ${e}.`)}getProperty(e,t){if(void 0===t){const t=this._props,n=t.length;for(let i=0;i<n;i++){const n=t[i];if(e in n)return n[e]}}else{if(t>=this._props.length)return console.warn(`illegal pass index: ${t}.`),null;const n=this._props[this._passes[t].propertyIndex];if(e in n)return n[e]}return null}copy(e){this._techIdx=e._techIdx,this._props.length=e._props.length;for(let t=0;t<e._props.length;t++)this._props[t]={...e._props[t]};this._defines.length=e._defines.length;for(let t=0;t<e._defines.length;t++)this._defines[t]={...e._defines[t]};this._states.length=e._states.length;for(let t=0;t<e._states.length;t++)this._states[t]={...e._states[t]};this._effectAsset=e._effectAsset,this._update()}_prepareInfo(e,t){let n=e;if(!Array.isArray(n)){const e=this._effectAsset?this._effectAsset.techniques[this._techIdx].passes.length:1;n=Array(e).fill(n)}for(let e=0;e<n.length;++e)Object.assign(t[e]||(t[e]={}),n[e])}_createPasses(){const e=this._effectAsset.techniques[this._techIdx||0];if(!e)return[];const t=e.passes.length,n=[];for(let i=0;i<t;++i){const t=e.passes[i],o=t.passIndex=i,r=t.defines=this._defines[o]||(this._defines[o]={}),a=t.stateOverrides=this._states[o]||(this._states[o]={});if(void 0!==t.propertyIndex&&(Object.assign(r,this._defines[t.propertyIndex]),Object.assign(a,this._states[t.propertyIndex])),void 0!==t.embeddedMacros&&Object.assign(r,t.embeddedMacros),t.switch&&!r[t.switch])continue;const s=new Nh(c.director.root);s.initialize(t),n.push(s)}return n}_update(t=!0){if(this._effectAsset){if(this._passes&&this._passes.length)for(const e of this._passes)e.destroy();this._passes=this._createPasses();const e=this._effectAsset.techniques[this._techIdx].passes.length;if(this._props.length=e,t)this._passes.forEach(((e,t)=>{let n=this._props[t];n||(n=this._props[t]={}),void 0!==e.propertyIndex&&Object.assign(n,this._props[e.propertyIndex]);for(const t in n)this._uploadProperty(e,t,n[t])}));else for(let e=0;e<this._props.length;e++)this._props[e]={}}this._hash=e.getHash(this)}_uploadProperty(e,t,n){const i=e.getHandle(t);if(!i)return!1;const o=Nh.getPropertyTypeFromHandle(i);if(o===oh.BUFFER)Array.isArray(n)?e.setUniformArray(i,n):null!==n?e.setUniform(i,n):e.resetUniform(t);else if(o===oh.TEXTURE)if(Array.isArray(n))for(let t=0;t<n.length;t++)this._bindTexture(e,i,n[t],t);else n?this._bindTexture(e,i,n):e.resetTexture(t);return!0}_bindTexture(e,t,n,i){const o=Nh.getBindingFromHandle(t);if(n instanceof Js)e.bindTexture(o,n,i);else if(n instanceof G_||n instanceof Gg){const t=n.getGFXTexture();if(!t||!t.width||!t.height)return;e.bindTexture(o,t,i),e.bindSampler(o,n.getGFXSampler(),i)}}_doDestroy(){if(this._passes&&this._passes.length)for(const e of this._passes)e.destroy();this._effectAsset=null,this._passes.length=0,this._props.length=0,this._defines.length=0,this._states.length=0}initDefault(e){super.initDefault(e),this.initialize({effectName:"unlit",defines:{USE_COLOR:!0}}),this.setProperty("mainColor",new fn("#ff00ff"))}validate(){return!!this._effectAsset&&!this._effectAsset.isDefault&&this.passes.length>0}}).prototype,"_effectAsset",[Vg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xg=Qp(qg.prototype,"_techIdx",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qg=Qp(qg.prototype,"_defines",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zg=Qp(qg.prototype,"_states",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Jg=Qp(qg.prototype,"_props",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wg=qg))||Wg));c.Material=Kg;class $g extends Nh{get parent(){return this._parent}constructor(e,t){super(e.root),this._parent=void 0,this._owner=void 0,this._dontNotify=!1,this._parent=e,this._owner=t,this._doInit(this._parent,!0);for(let e=0;e<this._shaderInfo.blocks.length;e++){const t=this._shaderInfo.blocks[e],n=this._blocks[t.binding],i=this._parent.blocks[t.binding];n.set(i)}this._rootBufferDirty=!0;const n=this._parent;for(let e=0;e<this._shaderInfo.samplerTextures.length;e++){const t=this._shaderInfo.samplerTextures[e];for(let e=0;e<t.count;e++){const i=n._descriptorSet.getSampler(t.binding,e),o=n._descriptorSet.getTexture(t.binding,e);this._descriptorSet.bindSampler(t.binding,i,e),this._descriptorSet.bindTexture(t.binding,o,e)}}super.tryCompile()}overridePipelineStates(e,t){this._bs.reset(),this._rs.reset(),this._dss.reset(),Nh.fillPipelineInfo(this,e),Nh.fillPipelineInfo(this,t),this._onStateChange()}tryCompile(e){if(e&&!mh(this._defines,e))return!1;const t=super.tryCompile();return this._onStateChange(),t}beginChangeStatesSilently(){this._dontNotify=!0}endChangeStatesSilently(){this._dontNotify=!1}_syncBatchingScheme(){this._defines.USE_BATCHING=this._defines.USE_INSTANCING=!1,ao.set(this._handle,oo.BATCHING_SCHEME,0)}_onStateChange(){ao.set(this._handle,oo.HASH,Nh.getPassHash(this,this._hShaderDefault)),this._owner.onPassStateChange(this._dontNotify)}}class eA extends Kg{get parent(){return this._parent}get owner(){return this._owner}constructor(e){super(),this._passes=[],this._parent=void 0,this._owner=void 0,this._subModelIdx=0,this._parent=e.parent,this._owner=e.owner||null,this._subModelIdx=e.subModelIdx||0,this.copy(this._parent)}recompileShaders(e,t){if(this._passes&&this.effectAsset)if(void 0===t)for(const t of this._passes)t.tryCompile(e);else this._passes[t].tryCompile(e)}overridePipelineStates(e,t){if(!this._passes||!this.effectAsset)return;const n=this.effectAsset.techniques[this.technique].passes;if(void 0===t)for(let t=0;t<this._passes.length;t++){const i=this._passes[t],o=this._states[t]||(this._states[t]={});for(const t in e)o[t]=e[t];i.overridePipelineStates(n[i.passIndex],o)}else{const i=this._states[t]||(this._states[t]={});for(const t in e)i[t]=e[t];this._passes[t].overridePipelineStates(n[t],i)}}destroy(){return this._doDestroy(),!0}onPassStateChange(e){this._hash=Kg.getHash(this),!e&&this._owner&&this._owner._onRebuildPSO(this._subModelIdx,this)}_createPasses(){const e=[],t=this._parent.passes;if(!t)return e;for(let n=0;n<t.length;++n)e.push(new $g(t[n],this));return e}}e("c_",eA);let tA=null,nA=null;class iA{get model(){return this._model}get enabled(){return Ho.get(this._handle,ko.ENABLE)}set enabled(e){e?this.activate():this._updatePipeline(),Ho.set(this._handle,ko.ENABLE,e?1:0)}get useIBL(){return Ho.get(this._handle,ko.USE_IBL)}set useIBL(e){Ho.set(this._handle,ko.USE_IBL,e?1:0),this._updatePipeline()}get isRGBE(){return Ho.get(this._handle,ko.IS_RGBE)}set isRGBE(e){e&&(nA&&nA.recompileShaders({USE_RGBE_CUBEMAP:e}),this._model&&this._model.setSubModelMaterial(0,nA)),Ho.set(this._handle,ko.IS_RGBE,e?1:0),this._updatePipeline()}get envmap(){return this._envmap}set envmap(e){this._envmap=e||this._default,this._envmap&&(c.director.root.pipeline.pipelineSceneData.ambient.albedoArray[3]=this._envmap.mipmapLevel,this._updateGlobalBinding())}get handle(){return this._handle}constructor(){this._envmap=null,this._globalDescriptorSet=null,this._model=null,this._default=null,this._handle=Hi,this._handle=Ho.alloc()}initialize(e){Ho.set(this._handle,ko.ENABLE,e.enabled?1:0),Ho.set(this._handle,ko.USE_IBL,e.useIBL?1:0),Ho.set(this._handle,ko.IS_RGBE,e.isRGBE?1:0),this._envmap=e.envmap}activate(){const e=c.director.root.pipeline,t=e.pipelineSceneData.ambient;if(this._globalDescriptorSet=e.descriptorSet,this._default=Eh.get("default-cube-texture"),this._model||(this._model=c.director.root.createModel(c.renderer.scene.Model),this._model._initLocalDescriptors=()=>{}),Ho.set(this._handle,ko.MODEL,this._model.handle),this._envmap||(this._envmap=this._default),t.albedoArray[3]=this._envmap.mipmapLevel,nA)nA.recompileShaders({USE_RGBE_CUBEMAP:this.isRGBE});else{const e=new Kg;e.initialize({effectName:"skybox",defines:{USE_RGBE_CUBEMAP:this.isRGBE}}),nA=new eA({parent:e})}this.enabled&&(tA||(tA=c.utils.createMesh(c.primitives.box({width:2,height:2,length:2}))),this._model.initSubModel(0,tA.renderingSubMeshes[0],nA)),this._updateGlobalBinding(),this._updatePipeline()}_updatePipeline(){const e=this.useIBL?this.isRGBE?2:1:0,t=c.director.root,n=t.pipeline;n.macros.CC_USE_IBL!==e&&(n.macros.CC_USE_IBL=e,t.onGlobalPipelineStateChanged())}_updateGlobalBinding(){const e=this.envmap.getGFXTexture(),t=P_.getSampler(c.director._device,this.envmap.getSamplerHash());this._globalDescriptorSet.bindSampler($l,t),this._globalDescriptorSet.bindTexture($l,e)}destroy(){this._handle&&(Ho.free(this._handle),this._handle=Hi)}}c.Skybox=iA;const oA=Qe({Planar:0,ShadowMap:1}),rA=Qe({HARD:0,FILTER_X5:1,FILTER_X9:2,FILTER_X25:3}),aA=oA.ShadowMap+1;class sA{get enabled(){return!!Qo.get(this._handle,Yo.ENABLE)}set enabled(e){Qo.set(this._handle,Yo.ENABLE,e?1:0),e||Qo.set(this._handle,Yo.TYPE,aA),this.activate()}get normal(){return this._normal}set normal(e){mn.copy(this._normal,e),Qo.setVec3(this._handle,Yo.NORMAL,this._normal)}get distance(){return Qo.get(this._handle,Yo.DISTANCE)}set distance(e){Qo.set(this._handle,Yo.DISTANCE,e)}get shadowColor(){return this._shadowColor}set shadowColor(e){this._shadowColor=e,Qo.setVec4(this._handle,Yo.COLOR,e)}get type(){return Qo.get(this._handle,Yo.TYPE)}set type(e){Qo.set(this._handle,Yo.TYPE,this.enabled?e:aA),this.activate()}get near(){return Qo.get(this._handle,Yo.NEAR)}set near(e){Qo.set(this._handle,Yo.NEAR,e)}get far(){return Qo.get(this._handle,Yo.FAR)}set far(e){Qo.set(this._handle,Yo.FAR,e)}get aspect(){return Qo.get(this._handle,Yo.ASPECT)}set aspect(e){Qo.set(this._handle,Yo.ASPECT,e)}get orthoSize(){return Qo.get(this._handle,Yo.ORTHO_SIZE)}set orthoSize(e){Qo.set(this._handle,Yo.ORTHO_SIZE,e)}get size(){return this._size}set size(e){this._size=e,Qo.setVec2(this._handle,Yo.SIZE,this._size)}get pcf(){return Qo.get(this._handle,Yo.PCF_TYPE)}set pcf(e){Qo.set(this._handle,Yo.PCF_TYPE,e)}get shadowMapDirty(){return!!Qo.get(this._handle,Yo.SHADOW_MAP_DIRTY)}set shadowMapDirty(e){Qo.set(this._handle,Yo.SHADOW_MAP_DIRTY,e?1:0)}get bias(){return Qo.get(this._handle,Yo.BIAS)}set bias(e){Qo.set(this._handle,Yo.BIAS,e)}get packing(){return!!Qo.get(this._handle,Yo.PACKING)}set packing(e){Qo.set(this._handle,Yo.PACKING,e?1:0)}get linear(){return!!Qo.get(this._handle,Yo.LINEAR)}set linear(e){Qo.set(this._handle,Yo.LINEAR,e?1:0)}get selfShadow(){return!!Qo.get(this._handle,Yo.SELF_SHADOW)}set selfShadow(e){Qo.set(this._handle,Yo.SELF_SHADOW,e?1:0)}get normalBias(){return Qo.get(this._handle,Yo.NORMAL_BIAS)}set normalBias(e){Qo.set(this._handle,Yo.NORMAL_BIAS,e)}get autoAdapt(){return!!Qo.get(this._handle,Yo.AUTO_ADAPT)}set autoAdapt(e){Qo.set(this._handle,Yo.AUTO_ADAPT,e?1:0)}get matLight(){return this._matLight}get material(){return this._material}get instancingMaterial(){return this._instancingMaterial}get handle(){return this._handle}constructor(){this.sphere=new Vr(0,0,0,.01),this.maxReceived=4,this._normal=new mn(0,1,0),this._shadowColor=new fn(0,0,0,76),this._matLight=new Rn,this._material=null,this._instancingMaterial=null,this._size=new On(512,512),this._handle=Hi,this._handle=Qo.alloc()}getPlanarShader(e){return this._material||(this._material=new Kg,this._material.initialize({effectName:"planar-shadow"}),Qo.set(this._handle,Yo.PLANAR_PASS,this._material.passes[0].handle)),this._material.passes[0].getShaderVariant(e)}getPlanarInstanceShader(e){return this._instancingMaterial||(this._instancingMaterial=new Kg,this._instancingMaterial.initialize({effectName:"planar-shadow",defines:{USE_INSTANCING:!0}}),Qo.set(this._handle,Yo.INSTANCE_PASS,this._instancingMaterial.passes[0].handle)),this._instancingMaterial.passes[0].getShaderVariant(e)}initialize(e){Qo.set(this._handle,Yo.TYPE,e.enabled?e.type:aA),Qo.set(this._handle,Yo.NEAR,e.near),Qo.set(this._handle,Yo.FAR,e.far),Qo.set(this._handle,Yo.ASPECT,e.aspect),Qo.set(this._handle,Yo.ORTHO_SIZE,e.orthoSize),this._size=e.shadowMapSize,Qo.setVec2(this._handle,Yo.SIZE,this._size),Qo.set(this._handle,Yo.PCF_TYPE,e.pcf),mn.copy(this._normal,e.normal),Qo.setVec3(this._handle,Yo.NORMAL,this._normal),Qo.set(this._handle,Yo.DISTANCE,e.distance),this._shadowColor.set(e.shadowColor),Qo.setVec4(this._handle,Yo.COLOR,this._shadowColor),Qo.set(this._handle,Yo.BIAS,e.bias),Qo.set(this._handle,Yo.PACKING,e.packing?1:0),Qo.set(this._handle,Yo.LINEAR,e.linear?1:0),Qo.set(this._handle,Yo.SELF_SHADOW,e.selfShadow?1:0),Qo.set(this._handle,Yo.NORMAL_BIAS,e.normalBias),Qo.set(this._handle,Yo.ENABLE,e.enabled?1:0),this.maxReceived=e.maxReceived,Qo.set(this._handle,Yo.AUTO_ADAPT,e.autoAdapt?1:0)}activate(){if(this.enabled)this.type===oA.ShadowMap?this._updatePipeline():this._updatePlanarInfo();else{const e=c.director.root;e.pipeline.macros.CC_RECEIVE_SHADOW=0,e.onGlobalPipelineStateChanged()}}_updatePlanarInfo(){this._material||(this._material=new Kg,this._material.initialize({effectName:"planar-shadow"}),Qo.set(this._handle,Yo.PLANAR_PASS,this._material.passes[0].handle)),this._instancingMaterial||(this._instancingMaterial=new Kg,this._instancingMaterial.initialize({effectName:"planar-shadow",defines:{USE_INSTANCING:!0}}),Qo.set(this._handle,Yo.INSTANCE_PASS,this._instancingMaterial.passes[0].handle));const e=c.director.root;e.pipeline.macros.CC_RECEIVE_SHADOW=0,e.onGlobalPipelineStateChanged()}_updatePipeline(){const e=c.director.root;e.pipeline.macros.CC_RECEIVE_SHADOW=1,e.onGlobalPipelineStateChanged()}destroy(){this._material&&this._material.destroy(),this._instancingMaterial&&this._instancingMaterial.destroy(),this._handle&&(Qo.free(this._handle),this._handle=Hi),this.sphere.destroy()}}sA.MAX_FAR=2e3,sA.COEFFICIENT_OF_EXPANSION=2*Math.sqrt(3),c.Shadows=sA;class cA{get handle(){return this._handle}get isHDR(){return Ko.get(this._handle,Zo.IS_HDR)}set isHDR(e){Ko.set(this._handle,Zo.IS_HDR,e?1:0)}get shadingScale(){return Ko.get(this._handle,Zo.SHADING_SCALE)}set shadingScale(e){Ko.set(this._handle,Zo.SHADING_SCALE,e)}get fpScale(){return Ko.get(this._handle,Zo.FP_SCALE)}set fpScale(e){Ko.set(this._handle,Zo.FP_SCALE,e)}constructor(){this.fog=new gg,this.ambient=new Cr,this.skybox=new iA,this.shadows=new sA,this.renderObjects=[],this.shadowObjects=[],this.shadowFrameBufferMap=new Map,this._handle=Ko.alloc(),Ko.set(this._handle,Zo.AMBIENT,this.ambient.handle),Ko.set(this._handle,Zo.SKYBOX,this.skybox.handle),Ko.set(this._handle,Zo.FOG,this.fog.handle),Ko.set(this._handle,Zo.SHADOW,this.shadows.handle),Ko.set(this._handle,Zo.IS_HDR,0),Ko.set(this._handle,Zo.SHADING_SCALE,1),Ko.set(this._handle,Zo.FP_SCALE,1/1024)}get deferredLightPassHandle(){return Ko.get(this._handle,Zo.DEFERRED_LIGHT_PASS)}get deferredLightPassShaderHandle(){return Ko.get(this._handle,Zo.DEFERRED_LIGHT_PASS_SHADER)}get deferredPostPassHandle(){return Ko.get(this._handle,Zo.DEFERRED_POST_PASS)}get deferredPostPassShaderHandle(){return Ko.get(this._handle,Zo.DEFERRED_POST_PASS_SHADER)}initDeferredPassInfo(){const e=Eh.get("builtin-deferred-material");if(e){const t=e.passes[0];t.beginChangeStatesSilently(),t.tryCompile(),t.endChangeStatesSilently()}const t=Eh.get("builtin-post-process-material");if(t){const e=t.passes[0];e.beginChangeStatesSilently(),e.tryCompile(),e.endChangeStatesSilently()}if(e){const t=e.passes[0];Ko.set(this._handle,Zo.DEFERRED_LIGHT_PASS,t.handle),Ko.set(this._handle,Zo.DEFERRED_LIGHT_PASS_SHADER,t.getShaderVariant())}if(t){const e=t.passes[0];Ko.set(this._handle,Zo.DEFERRED_POST_PASS,e.handle),Ko.set(this._handle,Zo.DEFERRED_POST_PASS_SHADER,e.getShaderVariant())}}activate(e,t){return this._device=e,this._pipeline=t,this.initDeferredPassInfo(),!0}destroy(){this.ambient.destroy(),this.skybox.destroy(),this.fog.destroy(),this.shadows.destroy(),this._handle&&Ko.free(this._handle)}}nr.getPhaseID=wh;const lA=e("fg",nr.RenderPipeline),pA=(e("fh",nr.RenderFlow),e("fi",nr.RenderStage),e("fj",nr.InstancedBuffer),e("fk",nr.PipelineStateManager));let uA=nr.InstancedBuffer,_A=uA.get;uA.get=function(e){return _A.call(this,e.handle)};let fA=nr.PipelineStateManager.getOrCreatePipelineState;function hA(){const e=new mA;return e.init(),e}nr.PipelineStateManager.getOrCreatePipelineState=function(e,t,n,i,o){return fA.call(this,t.handle,n,i,o)};class mA extends nr.ForwardPipeline{constructor(){super(),this.pipelineSceneData=new cA,this._tag=0,this._flows=[],this.renderTextures=[],this.materials=[]}init(){this.setPipelineSharedSceneData(this.pipelineSceneData.handle);for(let e=0;e<this._flows.length;e++)this._flows[e].init();const e=new nr.RenderPipelineInfo(this._tag,this._flows);this.initialize(e)}activate(){return super.activate()&&this.pipelineSceneData.activate(c.director.root.device,this)}render(e){let t=[];for(let n=0,i=e.length;n<i;++n)t.push(e[n].handle);super.render(t)}destroy(){this.pipelineSceneData.destroy(),super.destroy()}}e("fm",mA),mA.prototype.onAfterDeserialize_JSB=mA.prototype.init;class dA extends nr.ForwardFlow{constructor(){super(),this._name=0,this._priority=0,this._tag=0,this._stages=[]}init(){for(let e=0;e<this._stages.length;e++)this._stages[e].init();const e=new nr.RenderFlowInfo(this._name,this._priority,this._tag,this._stages);this.initialize(e)}}e("fn",dA);class vA extends nr.ShadowFlow{constructor(){super(),this._name=0,this._priority=0,this._tag=0,this._stages=[]}init(){for(let e=0;e<this._stages.length;e++)this._stages[e].init();const e=new nr.RenderFlowInfo(this._name,this._priority,this._tag,this._stages);this.initialize(e)}}e("fo",vA);class gA extends nr.ForwardStage{constructor(){super(),this._name=0,this._priority=0,this._tag=0,this.renderQueues=[]}init(){const e=[];for(let t=0;t<this.renderQueues.length;t++)e.push(this.renderQueues[t].init());const t=new nr.RenderStageInfo(this._name,this._priority,this._tag,e);this.initialize(t)}}e("fp",gA);class AA extends nr.ShadowStage{constructor(){super(),this._name=0,this._priority=0,this._tag=0}init(){const e=new nr.RenderStageInfo(this._name,this._priority,this._tag,[]);this.initialize(e)}}e("fq",AA);class yA{constructor(){this.isTransparent=!1,this.sortMode=0,this.stages=[],this.isTransparent=!1,this.sortMode=0,this.stages=[]}init(){return new nr.RenderQueueDesc(this.isTransparent,this.sortMode,this.stages)}}e("fr",yA);class xA extends nr.DeferredPipeline{constructor(){super(),this.pipelineSceneData=new cA,this._tag=0,this._flows=[],this.renderTextures=[],this.materials=[]}init(){this.setPipelineSharedSceneData(this.pipelineSceneData.handle);for(let e=0;e<this._flows.length;e++)this._flows[e].init();let e=new nr.RenderPipelineInfo(this._tag,this._flows);this.initialize(e)}activate(){return super.activate()&&this.pipelineSceneData.activate(c.director.root.device,this)}render(e){let t=[];for(let n=0,i=e.length;n<i;++n)t.push(e[n].handle);super.render(t)}destroy(){this.fog.destroy(),this.ambient.destroy(),this.skybox.destroy(),this.shadows.destroy(),this.pipelineSceneData.destroy(),super.destroy()}}e("fs",xA),xA.prototype.onAfterDeserialize_JSB=xA.prototype.init;class bA extends nr.GbufferFlow{constructor(){super(),this._name=0,this._priority=0,this._tag=0,this._stages=[]}init(){for(let e=0;e<this._stages.length;e++)this._stages[e].init();let e=new nr.RenderFlowInfo(this._name,this._priority,this._tag,this._stages);this.initialize(e)}}e("ft",bA);class CA extends nr.GbufferStage{constructor(){super(),this._name=0,this._priority=0,this._tag=0,this.renderQueues=[]}init(){const e=[];for(let t=0;t<this.renderQueues.length;t++)e.push(this.renderQueues[t].init());let t=new nr.RenderStageInfo(this._name,this._priority,this._tag,e);this.initialize(t)}}e("fu",CA);class SA extends nr.LightingFlow{constructor(){super(),this._name=0,this._priority=0,this._tag=0,this._stages=[]}init(){for(let e=0;e<this._stages.length;e++)this._stages[e].init();let e=new nr.RenderFlowInfo(this._name,this._priority,this._tag,this._stages);this.initialize(e)}}class EA extends nr.LightingStage{constructor(){super(),this._name=0,this._priority=0,this._tag=0,this.renderQueues=[]}init(){const e=[];for(let t=0;t<this.renderQueues.length;t++)e.push(this.renderQueues[t].init());let t=new nr.RenderStageInfo(this._name,this._priority,this._tag,e);this.initialize(t)}}e("fv",EA);class wA extends nr.PostprocessStage{constructor(){super(),this._name=0,this._priority=0,this._tag=0,this.renderQueues=[]}init(){const e=[];for(let t=0;t<this.renderQueues.length;t++)e.push(this.renderQueues[t].init());let t=new nr.RenderStageInfo(this._name,this._priority,this._tag,e);this.initialize(t)}}e("fw",wA),Ue("DeferredPipeline",xA),Ue("GbufferFlow",bA),Ue("GbufferStage",CA),Ue("LightingFlow",SA),Ue("LightingStage",EA),Ue("PostprocessStage",wA),Ue("ForwardPipeline",mA),Ue("ForwardFlow",dA),Ue("ShadowFlow",vA),Ue("ForwardStage",gA),Ue("ShadowStage",AA),Ue("RenderQueueDesc",yA);class TA extends ri{constructor(...e){super(...e),this.frame=null,this.container=null,this.canvas=null,this.renderType=-1,this.eventTargetOn=super.on,this.eventTargetOnce=super.once,this.config={},this.onStart=null,this.collisionMatrix=[],this.groupList=[],this._persistRootNodes={},this._paused=!0,this._configLoaded=!1,this._isCloning=!1,this._inited=!1,this._engineInited=!1,this._rendererInitialized=!1,this._gfxDevice=null,this._intervalId=null}get inited(){return this._inited}get frameTime(){return this._frameTime}setFrameRate(e){const t=this.config;"number"!=typeof e&&(e=parseInt(e,10),Number.isNaN(e)&&(e=60)),t.frameRate=e,this._paused=!0,this._setAnimFrame(),this._runMainLoop()}getFrameRate(){return this.config.frameRate||0}step(){c.director.mainLoop()}pause(){this._paused||(this._paused=!0,this._intervalId&&(window.cAF(this._intervalId),this._intervalId=0))}resume(){this._paused&&this._runMainLoop()}isPaused(){return this._paused}restart(){return new Promise((e=>c.director.once(c.Director.EVENT_AFTER_DRAW,(()=>e())))).then((()=>{for(const e in this._persistRootNodes)this.removePersistRootNode(this._persistRootNodes[e]);return c.director.getScene().destroy(),c.Object._deferredDestroy(),c.director.reset(),this.pause(),this._setRenderPipelineNShowSplash().then((()=>{this.resume(),this._safeEmit(TA.EVENT_RESTART)}))}))}end(){this._gfxDevice&&(this._gfxDevice.destroy(),this._gfxDevice=null),window.close()}on(e,t,n,i){return this._engineInited&&e===TA.EVENT_ENGINE_INITED?t.call(n):this.eventTargetOn(e,t,n,i)}once(e,t,n){return this._engineInited&&e===TA.EVENT_ENGINE_INITED?t.call(n):this.eventTargetOnce(e,t,n)}init(e){return this._initConfig(e),this.config.assetOptions&&c.assetManager.init(this.config.assetOptions),this._initEngine().then((()=>(this._initEvents(),c.director.root.dataPoolManager&&c.director.root.dataPoolManager.jointTexturePool.registerCustomTextureLayouts(e.customJointTextureLayouts),this._engineInited)))}run(e,t){let n;return"function"!=typeof e&&e?(n=this.init(e),this.onStart=null!=t?t:null):this.onStart=null!=e?e:null,Promise.resolve(n).then((()=>(PA.config.registerSystemEvent&&ag.registerSystemEvent(),this._setRenderPipelineNShowSplash())))}addPersistRootNode(e){if(!c.Node.isNode(e)||!e.uuid)return void P(3800);const t=e.uuid;if(!this._persistRootNodes[t]){const n=c.director._scene;if(c.isValid(n))if(e.parent){if(!(e.parent instanceof c.Scene))return void P(3801);if(e.parent!==n)return void P(3802);e._originalSceneId=n.uuid}else e.parent=n;this._persistRootNodes[t]=e,e._persistNode=!0,c.assetManager._releaseManager._addPersistNodeRef(e)}}removePersistRootNode(e){const t=e.uuid||"";e===this._persistRootNodes[t]&&(delete this._persistRootNodes[t],e._persistNode=!1,e._originalSceneId="",c.assetManager._releaseManager._removePersistNodeRef(e))}isPersistRootNode(e){return!!e._persistNode}_initEngine(){return this._initDevice(),Promise.resolve(c.director._init()).then((()=>{v(`Cocos Creator v${l}`),this.emit(TA.EVENT_ENGINE_INITED),this._engineInited=!0,c.internal.dynamicAtlasManager.enabled=!et.CLEANUP_IMAGE_CACHE}))}_setAnimFrame(){this._lastTime=performance.now();const e=this.config.frameRate;this._frameTime=1e3/e,jsb.setPreferredFramesPerSecond(e),window.rAF=window.requestAnimationFrame,window.cAF=window.cancelAnimationFrame}_stTimeWithRAF(e){const t=performance.now(),n=Math.max(0,t-PA._lastTime),i=Math.max(0,PA._frameTime-n),o=window.setTimeout((()=>{window.requestAnimationFrame(e)}),i);return PA._lastTime=t+i,o}_stTime(e){const t=performance.now(),n=Math.max(0,t-PA._lastTime),i=Math.max(0,PA._frameTime-n),o=window.setTimeout(e,i);return PA._lastTime=t+i,o}_ctTime(e){window.clearTimeout(e)}_runMainLoop(){if(!this._inited||i)return;const e=this.config,t=c.director;let n;e.frameRate,z(!!e.showFPS),t.startAnimation(),n=e=>{this._intervalId=window.rAF(n),t.mainLoop(e)},this._intervalId&&(window.cAF(this._intervalId),this._intervalId=0),this._intervalId=window.rAF(n),this._paused=!1}_initConfig(e){"number"!=typeof e.debugMode&&(e.debugMode=M.NONE),e.exposeClassName=!!e.exposeClassName,"number"!=typeof e.frameRate&&(e.frameRate=60);const t=e.renderMode;("number"!=typeof t||t>2||t<0)&&(e.renderMode=0),"boolean"!=typeof e.registerSystemEvent&&(e.registerSystemEvent=!0),e.showFPS=!!e.showFPS,this.collisionMatrix=e.collisionMatrix||[],this.groupList=e.groupList||[],b(e.debugMode),this.config=e,this._configLoaded=!0,this._setAnimFrame()}_determineRenderType(){const e=this.config,t=parseInt(e.renderMode,10);this.renderType=TA.RENDER_TYPE_CANVAS;let n=!1;if(0===t?c.sys.capabilities.opengl?(this.renderType=TA.RENDER_TYPE_WEBGL,n=!0):c.sys.capabilities.canvas&&(this.renderType=TA.RENDER_TYPE_CANVAS,n=!0):1===t&&c.sys.capabilities.canvas?(this.renderType=TA.RENDER_TYPE_CANVAS,n=!0):2===t&&c.sys.capabilities.opengl&&(this.renderType=TA.RENDER_TYPE_WEBGL,n=!0),!n)throw new Error(O(3820,t))}_initDevice(){if(!this._rendererInitialized){if(this.canvas=this.config.adapter.canvas,this.frame=this.config.adapter.frame,this.container=this.config.adapter.container,this._determineRenderType(),this.renderType===TA.RENDER_TYPE_WEBGL){const e=[];if(window.gfx)this._gfxDevice=gfx.deviceInstance;else{let t=!!window.WebGL2RenderingContext;const n=window.navigator.userAgent.toLowerCase();(-1!==n.indexOf("safari")&&-1===n.indexOf("chrome")||di.browserType===ai.UC)&&(t=!1),t&&c.WebGL2Device&&e.push(c.WebGL2Device),c.WebGLDevice&&e.push(c.WebGLDevice);const i=new Ps(this.canvas,et.ENABLE_WEBGL_ANTIALIAS,!1,window.devicePixelRatio,mg.windowPixelResolution.width,mg.windowPixelResolution.height,Nl);for(let t=0;t<e.length&&(this._gfxDevice=new e[t],!this._gfxDevice.initialize(i));t++);}}if(!this._gfxDevice)return A("can not support canvas rendering in 3D"),void(this.renderType=TA.RENDER_TYPE_CANVAS);this.canvas.oncontextmenu=()=>!1}}_initEvents(){di.onShow(this._onShow.bind(this)),di.onHide(this._onHide.bind(this))}_onHide(){this.emit(TA.EVENT_HIDE),this.pause()}_onShow(){this.emit(TA.EVENT_SHOW),this.resume()}_setRenderPipelineNShowSplash(){return Promise.resolve(this._setupRenderPipeline()).then((()=>Promise.resolve(this._showSplashScreen()).then((()=>{this._inited=!0,this._setAnimFrame(),this._runMainLoop(),this._safeEmit(TA.EVENT_GAME_INITED),this.onStart&&this.onStart()}))))}_setupRenderPipeline(){const{renderPipeline:e}=this.config;return e?new Promise(((t,n)=>{c.assetManager.loadAny(e,((e,i)=>!e&&i instanceof lA?t(i):n(e)))})).then((e=>{this._setRenderPipeline(e)})).catch((t=>{g(t),g(`Failed load render pipeline: ${e}, engine failed to initialize, will fallback to default pipeline`),this._setRenderPipeline()})):this._setRenderPipeline()}_showSplashScreen(){if(c.internal.SplashScreen){const e=c.internal.SplashScreen.instance;return e.main(c.director.root),new Promise((t=>{e.setOnFinish((()=>t())),e.loadFinish=!0}))}return null}_setRenderPipeline(e){c.director.root.setRenderPipeline(e)||this._setRenderPipeline(),this._rendererInitialized=!0,this._safeEmit(TA.EVENT_RENDERER_INITED)}_safeEmit(e){this.emit(e)}}e("cX",TA),TA.EVENT_HIDE="game_on_hide",TA.EVENT_SHOW="game_on_show",TA.EVENT_LOW_MEMORY="game_on_low_memory",TA.EVENT_GAME_INITED="game_inited",TA.EVENT_ENGINE_INITED="engine_inited",TA.EVENT_RENDERER_INITED="renderer_inited",TA.EVENT_RESTART="game_on_restart",TA.RENDER_TYPE_CANVAS=0,TA.RENDER_TYPE_WEBGL=1,TA.RENDER_TYPE_OPENGL=2,c.Game=TA;const PA=e("d2",c.game=new TA),IA=e("d1",{topLeft:c.v2(0,0),topRight:c.v2(0,0),top:c.v2(0,0),bottomLeft:c.v2(0,0),bottomRight:c.v2(0,0),bottom:c.v2(0,0),center:c.v2(0,0),left:c.v2(0,0),right:c.v2(0,0),width:0,height:0,init(e){const t=this.width=e.width,n=this.height=e.height,i=e.x,o=e.y,r=o+n,a=i+t;this.topLeft.x=i,this.topLeft.y=r,this.topRight.x=a,this.topRight.y=r,this.top.x=i+t/2,this.top.y=r,this.bottomLeft.x=i,this.bottomLeft.y=o,this.bottomRight.x=a,this.bottomRight.y=o,this.bottom.x=i+t/2,this.bottom.y=o,this.center.x=i+t/2,this.center.y=o+n/2,this.left.x=i,this.left.y=o+n/2,this.right.x=a,this.right.y=o+n/2}});c.visibleRect=IA;const RA=new class{constructor(){this.html=void 0,this.meta={width:"device-width"},this.adaptationType=c.sys.browserType}init(){this.html=document.getElementsByTagName("html")[0]}availWidth(e){return c.sys.isMobile||!e||e===this.html?window.innerWidth:e.clientWidth}availHeight(e){return c.sys.isMobile||!e||e===this.html?window.innerHeight:e.clientHeight}};switch(di.os===pi.IOS&&(RA.adaptationType=ai.SAFARI),RA.adaptationType){case ai.SAFARI:RA.meta["minimal-ui"]="true",RA.availWidth=e=>e.clientWidth,RA.availHeight=e=>e.clientHeight;break;case ai.SOUGOU:case ai.UC:RA.availWidth=e=>e.clientWidth,RA.availHeight=e=>e.clientHeight}class NA extends ri{constructor(){super(),this._resizeWithBrowserSize=void 0,this._designResolutionSize=void 0,this._originalDesignResolutionSize=void 0,this._frameSize=void 0,this._scaleX=void 0,this._scaleY=void 0,this._viewportRect=void 0,this._visibleRect=void 0,this._autoFullScreen=void 0,this._devicePixelRatio=void 0,this._maxPixelRatio=void 0,this._retinaEnabled=void 0,this._resizeCallback=void 0,this._resizing=void 0,this._orientationChanging=void 0,this._isRotated=void 0,this._orientation=void 0,this._isAdjustViewport=void 0,this._resolutionPolicy=void 0,this._rpExactFit=void 0,this._rpShowAll=void 0,this._rpNoBorder=void 0,this._rpFixedHeight=void 0,this._rpFixedWidth=void 0;const e=DA,t=MA;this._frameSize=new kn(0,0),this._designResolutionSize=new kn(0,0),this._originalDesignResolutionSize=new kn(0,0),this._scaleX=1,this._scaleY=1,this._viewportRect=new Hn(0,0,0,0),this._visibleRect=new Hn(0,0,0,0),this._autoFullScreen=!1,this._devicePixelRatio=1,this._maxPixelRatio=4,this._retinaEnabled=!1,this._resizeCallback=null,this._resizing=!1,this._resizeWithBrowserSize=!1,this._orientationChanging=!0,this._isRotated=!1,this._orientation=c.macro.ORIENTATION_AUTO,this._isAdjustViewport=!0,this._rpExactFit=new OA(e.EQUAL_TO_FRAME,t.EXACT_FIT),this._rpShowAll=new OA(e.EQUAL_TO_FRAME,t.SHOW_ALL),this._rpNoBorder=new OA(e.EQUAL_TO_FRAME,t.NO_BORDER),this._rpFixedHeight=new OA(e.EQUAL_TO_FRAME,t.FIXED_HEIGHT),this._rpFixedWidth=new OA(e.EQUAL_TO_FRAME,t.FIXED_WIDTH),this._resolutionPolicy=this._rpShowAll,c.game.once(c.Game.EVENT_ENGINE_INITED,this.init,this)}init(){RA.init(),this._initFrameSize();const e=c.game.canvas.width,t=c.game.canvas.height;this._designResolutionSize.width=e,this._designResolutionSize.height=t,this._originalDesignResolutionSize.width=e,this._originalDesignResolutionSize.height=t,this._viewportRect.width=e,this._viewportRect.height=t,this._visibleRect.width=e,this._visibleRect.height=t,c.winSize.width=this._visibleRect.width,c.winSize.height=this._visibleRect.height,c.visibleRect&&c.visibleRect.init(this._visibleRect)}resizeWithBrowserSize(e){e?this._resizeWithBrowserSize||(this._resizeWithBrowserSize=!0,di.onViewResize(this._resizeEvent),di.onOrientationChange(this._orientationChange)):this._resizeWithBrowserSize&&(this._resizeWithBrowserSize=!1,di.offViewResize(this._resizeEvent),di.offOrientationChange(this._orientationChange))}setResizeCallback(e){"function"!=typeof e&&null!=e||(this._resizeCallback=e)}setOrientation(e){(e&=c.macro.ORIENTATION_AUTO)&&this._orientation!==e&&(this._orientation=e)}adjustViewportMeta(e){this._isAdjustViewport=e}enableRetina(e){this._retinaEnabled=!!e}isRetinaEnabled(){return this._retinaEnabled}enableAutoFullScreen(e){e&&e!==this._autoFullScreen&&c.sys.isMobile&&di.browserType!==ai.WECHAT?(this._autoFullScreen=!0,c.screen.autoFullScreen(c.game.frame)):this._autoFullScreen=!1}isAutoFullScreenEnabled(){return this._autoFullScreen}setCanvasSize(e,t){const n=c.game.canvas,i=c.game.container;this._devicePixelRatio=window.devicePixelRatio,n.width=mg.windowPixelResolution.width,n.height=mg.windowPixelResolution.height,n.style.width=`${e}px`,n.style.height=`${t}px`,i.style.width=`${e}px`,i.style.height=`${t}px`,this._resizeEvent()}getCanvasSize(){return new kn(c.game.canvas.width,c.game.canvas.height)}getFrameSize(){return new kn(this._frameSize.width,this._frameSize.height)}setFrameSize(e,t){this._frameSize.width=e,this._frameSize.height=t,c.game.frame.style.width=`${e}px`,c.game.frame.style.height=`${t}px`,this._resizeEvent()}getVisibleSize(){return new kn(this._visibleRect.width,this._visibleRect.height)}getVisibleSizeInPixel(){return new kn(this._visibleRect.width*this._scaleX,this._visibleRect.height*this._scaleY)}getVisibleOrigin(){return new On(this._visibleRect.x,this._visibleRect.y)}getVisibleOriginInPixel(){return new On(this._visibleRect.x*this._scaleX,this._visibleRect.y*this._scaleY)}getResolutionPolicy(){return this._resolutionPolicy}setResolutionPolicy(e){if(e instanceof OA)this._resolutionPolicy=e;else{const t=OA;e===t.EXACT_FIT&&(this._resolutionPolicy=this._rpExactFit),e===t.SHOW_ALL&&(this._resolutionPolicy=this._rpShowAll),e===t.NO_BORDER&&(this._resolutionPolicy=this._rpNoBorder),e===t.FIXED_HEIGHT&&(this._resolutionPolicy=this._rpFixedHeight),e===t.FIXED_WIDTH&&(this._resolutionPolicy=this._rpFixedWidth)}}setDesignResolutionSize(e,t,n){if(!(e>0&&t>0))return void R(2200);this.setResolutionPolicy(n);const i=this._resolutionPolicy;if(i&&i.preApply(this),c.sys.isMobile&&this._adjustViewportMeta(),this._orientationChanging=!0,this._resizing||this._initFrameSize(),!i)return void w(2201);this._originalDesignResolutionSize.width=this._designResolutionSize.width=e,this._originalDesignResolutionSize.height=this._designResolutionSize.height=t;const o=i.apply(this,this._designResolutionSize);if(o.scale&&2===o.scale.length&&(this._scaleX=o.scale[0],this._scaleY=o.scale[1]),o.viewport){const e=this._viewportRect,t=this._visibleRect,n=o.viewport;e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height,t.x=0,t.y=0,t.width=n.width/this._scaleX,t.height=n.height/this._scaleY}i.postApply(this),c.winSize.width=this._visibleRect.width,c.winSize.height=this._visibleRect.height,IA&&IA.init(this._visibleRect),this.emit("design-resolution-changed")}getDesignResolutionSize(){return new kn(this._designResolutionSize.width,this._designResolutionSize.height)}setRealPixelResolution(e,t,n){this.setDesignResolutionSize(e,t,n)}getViewportRect(){return this._viewportRect}getScaleX(){return this._scaleX}getScaleY(){return this._scaleY}getDevicePixelRatio(){return this._devicePixelRatio}convertToLocationInView(e,t,n,i){const o=i||new On,r=this._devicePixelRatio*(e-n.left),a=this._devicePixelRatio*(n.top+n.height-t);return this._isRotated?(o.x=c.game.canvas.width-a,o.y=r):(o.x=r,o.y=a),c.GAME_VIEW&&(o.x/=c.gameView.canvas.width/c.game.canvas.width,o.y/=c.gameView.canvas.height/c.game.canvas.height),o}_convertPointWithScale(e){const t=this._viewportRect;e.x=(e.x-t.x)/this._scaleX,e.y=(e.y-t.y)/this._scaleY}_resizeEvent(){const e=c.view;if(e._frameSize.width,e._frameSize.height,e._isRotated,c.sys.isMobile){const t=c.game.container.style,n=t.margin;t.margin="0",t.display="none",e._initFrameSize(),t.margin=n,t.display="block"}else e._initFrameSize();const t=e._originalDesignResolutionSize.width,n=e._originalDesignResolutionSize.height;e._resizing=!0,t>0&&e.setDesignResolutionSize(t,n,e._resolutionPolicy),e._resizing=!1,e.emit("canvas-resize"),e._resizeCallback&&e._resizeCallback.call()}_orientationChange(){c.view._orientationChanging=!0,c.view._resizeEvent()}_initFrameSize(){const e=this._frameSize,t=RA.availWidth(c.game.frame),n=RA.availHeight(c.game.frame),i=t>=n;!c.sys.isMobile||i&&this._orientation&c.macro.ORIENTATION_LANDSCAPE||!i&&this._orientation&c.macro.ORIENTATION_PORTRAIT?(e.width=t,e.height=n,c.game.container.style["-webkit-transform"]="rotate(0deg)",c.game.container.style.transform="rotate(0deg)",this._isRotated=!1):(e.width=n,e.height=t,c.game.container.style["-webkit-transform"]="rotate(90deg)",c.game.container.style.transform="rotate(90deg)",c.game.container.style["-webkit-transform-origin"]="0px 0px 0px",c.game.container.style.transformOrigin="0px 0px 0px",this._isRotated=!0,c.game.canvas.style["-webkit-transform"]="translateZ(0px)",c.game.canvas.style.transform="translateZ(0px)"),this._orientationChanging&&setTimeout((()=>{c.view._orientationChanging=!1}),1e3)}_adjustSizeKeepCanvasSize(){const e=this._originalDesignResolutionSize.width,t=this._originalDesignResolutionSize.height;e>0&&this.setDesignResolutionSize(e,t,this._resolutionPolicy)}_setViewportMeta(e,t){let n=document.getElementById("cocosMetaElement");n&&t&&document.head.removeChild(n);const i=document.getElementsByName("viewport"),o=i?i[0]:null;let r,a,s;for(a in r=o?o.content:"",n=n||document.createElement("meta"),n.id="cocosMetaElement",n.name="viewport",n.content="",e)-1===r.indexOf(a)?r+=`,${a}=${e[a]}`:t&&(s=new RegExp(`${a}s*=s*[^,]+`),r=r.replace(s,`${a}=${e[a]}`));/^,/.test(r)&&(r=r.substr(1)),n.content=r,o&&(o.content=r),document.head.appendChild(n)}_adjustViewportMeta(){!this._isAdjustViewport||a||o||r||(this._setViewportMeta(RA.meta,!1),this._isAdjustViewport=!1)}_convertMouseToLocation(e,t){e.x=this._devicePixelRatio*(e.x-t.left),e.y=this._devicePixelRatio*(t.top+t.height-e.y),c.GAME_VIEW&&(e.x/=c.gameView.canvas.width/c.game.canvas.width,e.y/=c.gameView.canvas.height/c.game.canvas.height)}_convertTouchWidthScale(e){const t=this._viewportRect,n=this._scaleX,i=this._scaleY;e._point.x=(e._point.x-t.x)/n,e._point.y=(e._point.y-t.y)/i,e._prevPoint.x=(e._prevPoint.x-t.x)/n,e._prevPoint.y=(e._prevPoint.y-t.y)/i}_convertTouchesWithScale(e){const t=this._viewportRect,n=this._scaleX,i=this._scaleY;let o,r;for(let a=0;a<e.length;a++){const s=e[a];o=s._point,r=s._prevPoint,o.x=(o.x-t.x)/n,o.y=(o.y-t.y)/i,r.x=(r.x-t.x)/n,r.y=(r.y-t.y)/i}}}e("dD",NA),NA.instance=void 0;class DA{constructor(){this.name="ContainerStrategy"}preApply(e){}apply(e,t){}postApply(e){}_setupContainer(e,t,n){const i=c.game.canvas,o=c.game.container;di.os===pi.ANDROID&&(document.body.style.width=`${e._isRotated?n:t}px`,document.body.style.height=`${e._isRotated?t:n}px`),o.style.width=i.style.width=`${t}px`,o.style.height=i.style.height=`${n}px`,e._devicePixelRatio=1,e.isRetinaEnabled()&&(e._devicePixelRatio=Math.min(e._maxPixelRatio,window.devicePixelRatio||1)),i.width=mg.windowPixelResolution.width,i.height=mg.windowPixelResolution.height}_fixContainer(){document.body.insertBefore(c.game.container,document.body.firstChild);const e=document.body.style;e.width=`${window.innerWidth}px`,e.height=`${window.innerHeight}px`,e.overflow="hidden";const t=c.game.container.style;t.position="fixed",t.left=t.top="0px",document.body.scrollTop=0}}DA.EQUAL_TO_FRAME=void 0,DA.PROPORTION_TO_FRAME=void 0;class MA{constructor(){this.name="ContentStrategy",this._result=void 0,this._result={scale:[1,1],viewport:null}}preApply(e){}apply(e,t){return{scale:[1,1]}}postApply(e){}_buildResult(e,t,n,i,o,r){Math.abs(e-n)<2&&(n=e),Math.abs(t-i)<2&&(i=t);const a=new Hn(Math.round((e-n)/2),Math.round((t-i)/2),n,i);return this._result.scale=[o,r],this._result.viewport=a,this._result}}MA.EXACT_FIT=void 0,MA.SHOW_ALL=void 0,MA.NO_BORDER=void 0,MA.FIXED_HEIGHT=void 0,MA.FIXED_WIDTH=void 0,(()=>{const e=("undefined"==typeof window?global:window).__globalAdapter;e&&(e.adaptContainerStrategy&&e.adaptContainerStrategy(DA.prototype),e.adaptView&&e.adaptView(NA.prototype)),DA.EQUAL_TO_FRAME=new class extends DA{constructor(...e){super(...e),this.name="EqualToFrame"}apply(e){const t=e._frameSize.height,n=c.game.container.style;this._setupContainer(e,e._frameSize.width,e._frameSize.height),e._isRotated?n.margin=`0 0 0 ${t}px`:n.margin="0px",n.padding="0px"}},DA.PROPORTION_TO_FRAME=new class extends DA{constructor(...e){super(...e),this.name="ProportionalToFrame"}apply(e,t){const n=e._frameSize.width,i=e._frameSize.height,o=c.game.container.style,r=t.width,a=t.height,s=n/r,l=i/a;let p,u;s<l?(p=n,u=a*s):(p=r*l,u=i);const _=Math.round((n-p)/2),f=Math.round((i-u)/2);p=n-2*_,u=i-2*f,this._setupContainer(e,p,u),e._isRotated?o.margin=`0 0 0 ${i}px`:o.margin="0px",o.paddingLeft=`${_}px`,o.paddingRight=`${_}px`,o.paddingTop=`${f}px`,o.paddingBottom=`${f}px`}},MA.EXACT_FIT=new class extends MA{constructor(...e){super(...e),this.name="ExactFit"}apply(e,t){const n=c.game.canvas.width,i=c.game.canvas.height,o=n/t.width,r=i/t.height;return this._buildResult(n,i,n,i,o,r)}},MA.SHOW_ALL=new class extends MA{constructor(...e){super(...e),this.name="ShowAll"}apply(e,t){const n=c.game.canvas.width,i=c.game.canvas.height,o=t.width,r=t.height,a=n/o,s=i/r;let l,p,u=0;return a<s?(u=a,l=n,p=r*u):(u=s,l=o*u,p=i),this._buildResult(n,i,l,p,u,u)}},MA.NO_BORDER=new class extends MA{constructor(...e){super(...e),this.name="NoBorder"}apply(e,t){const n=c.game.canvas.width,i=c.game.canvas.height,o=t.width,r=t.height,a=n/o,s=i/r;let l,p,u;return a<s?(l=s,p=o*l,u=i):(l=a,p=n,u=r*l),this._buildResult(n,i,p,u,l,l)}},MA.FIXED_HEIGHT=new class extends MA{constructor(...e){super(...e),this.name="FixedHeight"}apply(e,t){const n=c.game.canvas.width,i=c.game.canvas.height,o=i/t.height,r=n,a=i;return this._buildResult(n,i,r,a,o,o)}},MA.FIXED_WIDTH=new class extends MA{constructor(...e){super(...e),this.name="FixedWidth"}apply(e,t){const n=c.game.canvas.width,i=c.game.canvas.height,o=n/t.width,r=n,a=i;return this._buildResult(n,i,r,a,o,o)}}})();class OA{constructor(e,t){this.name="ResolutionPolicy",this._containerStrategy=void 0,this._contentStrategy=void 0,this._containerStrategy=null,this._contentStrategy=null,this.setContainerStrategy(e),this.setContentStrategy(t)}get canvasSize(){return new On(c.game.canvas.width,c.game.canvas.height)}preApply(e){this._containerStrategy.preApply(e),this._contentStrategy.preApply(e)}apply(e,t){return this._containerStrategy.apply(e,t),this._contentStrategy.apply(e,t)}postApply(e){this._containerStrategy.postApply(e),this._contentStrategy.postApply(e)}setContainerStrategy(e){e instanceof DA&&(this._containerStrategy=e)}setContentStrategy(e){e instanceof MA&&(this._contentStrategy=e)}}e("f8",OA),OA.EXACT_FIT=0,OA.NO_BORDER=1,OA.SHOW_ALL=2,OA.FIXED_HEIGHT=3,OA.FIXED_WIDTH=4,OA.UNKNOWN=5,OA.ContainerStrategy=DA,OA.ContentStrategy=MA,c.ResolutionPolicy=OA;const LA=e("d3",NA.instance=c.view=new NA);c.winSize=new kn,q(NA.prototype,"View.prototype",[{name:"isAntiAliasEnabled",suggest:"The API of Texture2d have been largely modified, no alternative"},{name:"enableAntiAlias",suggest:"The API of Texture2d have been largely modified, no alternative"}]),W(Zv,"EventMouse",["DOWN","UP","MOVE"].map((e=>({name:e,newName:`MOUSE_${e}`,target:ug.EventType,targetName:"SystemEvent.EventType"})))),W(Zv,"EventMouse",[{name:"SCROLL",newName:"MOUSE_WHEEL",target:ug.EventType,targetName:"SystemEvent.EventType"}]),W(Jv,"EventTouch",[{name:"BEGAN",newName:"TOUCH_START",target:ug.EventType,targetName:"SystemEvent.EventType"}]),W(Jv,"EventTouch",[{name:"MOVED",newName:"TOUCH_MOVE",target:ug.EventType,targetName:"SystemEvent.EventType"}]),W(Jv,"EventTouch",[{name:"ENDED",newName:"TOUCH_END",target:ug.EventType,targetName:"SystemEvent.EventType"}]),W(Jv,"EventTouch",[{name:"CANCELLED",newName:"TOUCH_CANCEL",target:ug.EventType,targetName:"SystemEvent.EventType"}]),W(mg,"sys",["UNKNOWN","ENGLISH","CHINESE","FRENCH","ITALIAN","GERMAN","SPANISH","DUTCH","RUSSIAN","KOREAN","JAPANESE","HUNGARIAN","PORTUGUESE","ARABIC","NORWEGIAN","POLISH","TURKISH","UKRAINIAN","ROMANIAN","BULGARIAN"].map((e=>({name:`LANGUAGE_${e}`,newName:e,target:mg.Language,targetName:"sys.Language"})))),W(mg,"sys",["UNKNOWN","IOS","ANDROID","WINDOWS","LINUX","OSX"].map((e=>({name:`OS_${e}`,newName:e,target:mg.OS,targetName:"sys.OS"})))),W(mg,"sys",["UNKNOWN","WECHAT","ANDROID","IE","EDGE","QQ","MOBILE_QQ","UC","UCBS","BAIDU_APP","BAIDU","MAXTHON","OPERA","OUPENG","MIUI","FIREFOX","SAFARI","CHROME","LIEBAO","QZONE","SOUGOU","HUAWEI"].map((e=>({name:`BROWSER_TYPE_${e}`,newName:e,target:mg.BrowserType,targetName:"sys.BrowserType"})))),W(mg,"sys",[{name:"BROWSER_TYPE_360",newName:"BROWSER_360",target:mg.BrowserType,targetName:"sys.BrowserType"}]),W(mg,"sys",["UNKNOWN","EDITOR_PAGE","EDITOR_CORE","MOBILE_BROWSER","DESKTOP_BROWSER","WIN32","MACOS","IOS","ANDROID","WECHAT_GAME","BAIDU_MINI_GAME","XIAOMI_QUICK_GAME","ALIPAY_MINI_GAME","BYTEDANCE_MINI_GAME","OPPO_MINI_GAME","VIVO_MINI_GAME","HUAWEI_QUICK_GAME","COCOSPLAY","LINKSURE_MINI_GAME","QTT_MINI_GAME"].map((e=>({name:e,target:mg.Platform,targetName:"sys.Platform"})))),W(mg,"sys",[{name:"IPHONE",newName:"IOS",target:mg.Platform,targetName:"sys.Platform"},{name:"IPAD",newName:"IOS",target:mg.Platform,targetName:"sys.Platform"}]),q(mg,"sys",["LINUX","BLACKBERRY","NACL","EMSCRIPTEN","TIZEN","WINRT","WP8","QQ_PLAY","FB_PLAYABLE_ADS"].map((e=>({name:e}))));const zA=e("dt",{_supportsFullScreen:!1,_onfullscreenchange:null,_onfullscreenerror:null,_preOnFullScreenError:null,_preOnTouch:null,_touchEvent:"",_fn:null,_fnMap:[["requestFullscreen","exitFullscreen","fullscreenchange","fullscreenEnabled","fullscreenElement"],["requestFullScreen","exitFullScreen","fullScreenchange","fullScreenEnabled","fullScreenElement"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange","webkitIsFullScreen","webkitCurrentFullScreenElement"],["mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozFullScreen","mozFullScreenElement"],["msRequestFullscreen","msExitFullscreen","MSFullscreenChange","msFullscreenEnabled","msFullscreenElement"]],init(){let e,t,n;this._fn={};const i=this._fnMap;let o;for(e=0,t=i.length;e<t;e++)if(n=i[e],n&&void 0!==document[n[1]]){for(e=0,o=n.length;e<o;e++)this._fn[i[0][e]]=n[e];break}this._supportsFullScreen=void 0!==this._fn.requestFullscreen,this._touchEvent="ontouchstart"in window?"touchstart":"mousedown"},get supportsFullScreen(){return this._supportsFullScreen},fullScreen(){return!!this._supportsFullScreen&&void 0!==document[this._fn.fullscreenElement]&&null!==document[this._fn.fullscreenElement]},requestFullScreen(e,t,n){if(!this._supportsFullScreen)return;if(e=e||document.documentElement,t){const e=this._fn.fullscreenchange;this._onfullscreenchange&&document.removeEventListener(e,this._onfullscreenchange),this._onfullscreenchange=t,document.addEventListener(e,t,!1)}if(n){const e=this._fn.fullscreenerror;this._onfullscreenerror&&document.removeEventListener(e,this._onfullscreenerror),this._onfullscreenerror=n,document.addEventListener(e,n,{once:!0})}const i=e[this._fn.requestFullscreen]();return window.Promise&&i instanceof Promise&&i.catch((()=>{})),i},exitFullScreen(){let e;return this.fullScreen()&&(e=document[this._fn.exitFullscreen](),e.catch((()=>{}))),e},autoFullScreen(e,t){e=e||document.body,this._ensureFullScreen(e,t),this.requestFullScreen(e,t)},disableAutoFullScreen(e){if(this._preOnTouch){const t=c.game.canvas||e,n=this._touchEvent;t.removeEventListener(n,this._preOnTouch),this._preOnTouch=null}},_ensureFullScreen(e,t){const n=c.game.canvas||e,i=this._fn.fullscreenerror,o=this._touchEvent,r=()=>{this._preOnFullScreenError=null,this._preOnTouch&&n.removeEventListener(o,this._preOnTouch),this._preOnTouch=()=>{this._preOnTouch=null,this.requestFullScreen(e,t)},n.addEventListener(o,this._preOnTouch,{once:!0})};this._preOnFullScreenError&&e.removeEventListener(i,this._preOnFullScreenError),this._preOnFullScreenError=r,e.addEventListener(i,r,{once:!0})}});zA.init(),c.screen=zA;const FA=new ys(null);class BA{constructor(){this._device=null,this._passes=null,this._subMesh=null,this._patches=null,this._handle=Hi,this._priority=xl.DEFAULT,this._inputAssembler=null,this._descriptorSet=null}set passes(e){if(e.length>8)R(12004,8);else if(this._passes=e,this._flushPassInfo(),this._descriptorSet){Wi.free(lo.get(this._handle,so.DESCRIPTOR_SET)),FA.layout=e[0].localSetLayout;const t=Wi.alloc(this._device,FA);lo.set(this._handle,so.DESCRIPTOR_SET,t),this._descriptorSet=Wi.get(t)}}get passes(){return this._passes}set subMesh(e){this._subMesh=e,this._inputAssembler.destroy(),this._inputAssembler.initialize(e.iaInfo),this._passes[0].batchingScheme===Rh.VB_MERGING&&this._subMesh.genFlatBuffers(),lo.set(this._handle,so.SUB_MESH,e.handle)}get subMesh(){return this._subMesh}set priority(e){this._priority=e,lo.set(this._handle,so.PRIORITY,e)}get priority(){return this._priority}get handle(){return this._handle}get inputAssembler(){return this._inputAssembler}get descriptorSet(){return this._descriptorSet}get patches(){return this._patches}get planarShaderHandle(){return lo.get(this._handle,so.PLANAR_SHADER)}get planarInstanceShaderHandle(){return lo.get(this._handle,so.PLANAR_INSTANCE_SHADER)}initialize(e,t,n=null){this._device=c.director.root.device,this._subMesh=e,this._patches=n,this._passes=t,this._handle=lo.alloc(),this._flushPassInfo(),t[0].batchingScheme===Rh.VB_MERGING&&this._subMesh.genFlatBuffers(),FA.layout=t[0].localSetLayout;const i=Wi.alloc(this._device,FA),o=qi.alloc(this._device,e.iaInfo);lo.set(this._handle,so.PRIORITY,xl.DEFAULT),lo.set(this._handle,so.INPUT_ASSEMBLER,o),lo.set(this._handle,so.DESCRIPTOR_SET,i),lo.set(this._handle,so.SUB_MESH,e.handle),this._inputAssembler=qi.get(o),this._descriptorSet=Wi.get(i)}initPlanarShadowShader(){const e=c.director.root.pipeline.pipelineSceneData.shadows.getPlanarShader(this._patches);lo.set(this._handle,so.PLANAR_SHADER,e)}initPlanarShadowInstanceShader(){const e=c.director.root.pipeline.pipelineSceneData.shadows.getPlanarInstanceShader(this._patches);lo.set(this._handle,so.PLANAR_INSTANCE_SHADER,e)}destroy(){Wi.free(lo.get(this._handle,so.DESCRIPTOR_SET)),qi.free(lo.get(this._handle,so.INPUT_ASSEMBLER)),lo.free(this._handle),this._descriptorSet=null,this._inputAssembler=null,this._priority=xl.DEFAULT,this._handle=Hi,this._patches=null,this._subMesh=null,this._passes=null}update(){for(let e=0;e<this._passes.length;++e)this._passes[e].update();this._descriptorSet.update()}onPipelineStateChanged(){const e=this._passes;if(e){for(let t=0;t<e.length;t++){const n=e[t];n.beginChangeStatesSilently(),n.tryCompile(),n.endChangeStatesSilently()}this._flushPassInfo()}}onMacroPatchesStateChanged(e){this._patches=e;const t=this._passes;if(t){for(let e=0;e<t.length;e++){const n=t[e];n.beginChangeStatesSilently(),n.tryCompile(),n.endChangeStatesSilently()}this._flushPassInfo()}}_flushPassInfo(){const e=this._passes;if(!e)return;lo.set(this._handle,so.PASS_COUNT,e.length);let t=so.PASS_0,n=so.SHADER_0;for(let i=0;i<e.length;i++,t++,n++)lo.set(this._handle,t,e[i].handle),lo.set(this._handle,n,e[i].getShaderVariant(this._patches))}}class UA{static get(e,t=0){const n=UA._buffers;n.has(e)||n.set(e,{});const i=n.get(e);return i[t]||(i[t]=new UA(e))}constructor(e){this.instances=[],this.pass=void 0,this.hasPendingModels=!1,this.dynamicOffsets=[],this._device=void 0,this._device=e.device,this.pass=e}destroy(){for(let e=0;e<this.instances.length;++e){const t=this.instances[e];t.vb.destroy(),t.ia.destroy()}this.instances.length=0}merge(e,t,n,i=null){const o=t.buffer.length;if(!o)return;const r=e.inputAssembler,a=e.descriptorSet.getTexture(Sp);let s=i;s||(s=lo.get(e.handle,so.SHADER_0+n));const c=lo.get(e.handle,so.DESCRIPTOR_SET);for(let e=0;e<this.instances.length;++e){const n=this.instances[e];if(!(n.ia.indexBuffer!==r.indexBuffer||n.count>=1024)&&n.lightingMap===a){if(n.stride!==o)return;if(n.count>=n.capacity){n.capacity<<=1;const e=n.stride*n.capacity,t=n.data;n.data=new Uint8Array(e),n.data.set(t),n.vb.resize(e)}return n.hShader!==s&&(n.hShader=s),n.hDescriptorSet!==c&&(n.hDescriptorSet=c),n.data.set(t.buffer,n.stride*n.count++),void(this.hasPendingModels=!0)}}const l=this._device.createBuffer(new Wa(ta.VERTEX|ta.TRANSFER_DST,oa.HOST|oa.DEVICE,32*o,o)),p=new Uint8Array(32*o),u=r.vertexBuffers.slice(),_=r.attributes.slice(),f=r.indexBuffer;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e],i=new ec(n.name,n.format,n.isNormalized,u.length,!0);_.push(i)}p.set(t.buffer),u.push(l);const h=new ps(_,u,f),m=this._device.createInputAssembler(h);this.instances.push({count:1,capacity:32,vb:l,data:p,ia:m,stride:o,hShader:s,hDescriptorSet:c,lightingMap:a}),this.hasPendingModels=!0}uploadBuffers(e){for(let t=0;t<this.instances.length;++t){const n=this.instances[t];n.count&&(n.ia.instanceCount=n.count,e.updateBuffer(n.vb,n.data))}}clear(){for(let e=0;e<this.instances.length;++e)this.instances[e].count=0;this.hasPendingModels=!1}}UA._buffers=new Map;const jA=new Bi(Gi.ATTRIBUTE,((e,t)=>t||new ec)),kA=new Rn,GA=new qn((()=>new BA),32),HA=[{name:"CC_RECEIVE_SHADOW",value:!0}];let VA;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SKINNING=1]="SKINNING",e[e.BAKED_SKINNING=2]="BAKED_SKINNING",e[e.BATCH_2D=3]="BATCH_2D",e[e.PARTICLE_BATCH=4]="PARTICLE_BATCH",e[e.LINE=5]="LINE"}(VA||(VA=e("cm",{})));const WA=T_([la.LINEAR,la.LINEAR,la.NONE,pa.CLAMP,pa.CLAMP,pa.CLAMP]),qA=T_([la.LINEAR,la.LINEAR,la.LINEAR,pa.CLAMP,pa.CLAMP,pa.CLAMP]);class YA{get subModels(){return this._subModels}get inited(){return this._inited}get worldBounds(){return this._worldBounds}get modelBounds(){return this._modelBounds}get localBuffer(){return this._localBuffer}get updateStamp(){return this._updateStamp}get isInstancingEnabled(){return this._instMatWorldIdx>=0}get receiveShadow(){return!!_o.get(this._handle,po.RECEIVE_SHADOW)}set receiveShadow(e){_o.set(this._handle,po.RECEIVE_SHADOW,e?1:0),this.onMacroPatchesStateChanged()}get castShadow(){return!!_o.get(this._handle,po.CAST_SHADOW)}set castShadow(e){_o.set(this._handle,po.CAST_SHADOW,e?1:0)}get handle(){return this._handle}get node(){return this._node}set node(e){this._node=e,_o.set(this._handle,po.NODE,e.handle)}get transform(){return this._transform}set transform(e){this._transform=e,_o.set(this._handle,po.TRANSFORM,e.handle)}get visFlags(){return _o.get(this._handle,po.VIS_FLAGS)}set visFlags(e){_o.set(this._handle,po.VIS_FLAGS,e)}get enabled(){return!!_o.get(this._handle,po.ENABLED)}set enabled(e){_o.set(this._handle,po.ENABLED,e?1:0)}constructor(){this.type=VA.DEFAULT,this.scene=null,this.isDynamicBatching=!1,this.instancedAttributes={buffer:null,views:[],attributes:[]},this._worldBounds=null,this._modelBounds=null,this._subModels=[],this._node=null,this._transform=null,this._device=void 0,this._inited=!1,this._descriptorSetCount=1,this._updateStamp=-1,this._transformUpdated=!0,this._handle=Hi,this._hWorldBounds=Hi,this._localData=new Float32Array(rp.COUNT),this._localBuffer=null,this._instMatWorldIdx=-1,this._lightmap=null,this._lightmapUVParam=new Bn,this._device=c.director.root.device}initialize(){if(!this._inited){this._handle=_o.alloc();const e=Qi.alloc(),t=Ji.alloc();_o.set(this._handle,po.INSTANCED_ATTR_ARRAY,t),_o.set(this._handle,po.SUB_MODEL_ARRAY,e),_o.set(this._handle,po.VIS_FLAGS,Al.Enum.NONE),_o.set(this._handle,po.ENABLED,1),_o.set(this._handle,po.RECEIVE_SHADOW,1),_o.set(this._handle,po.CAST_SHADOW,0),this._inited=!0}}destroy(){const e=this._subModels;for(let t=0;t<e.length;t++){const e=this._subModels[t];e.destroy(),GA.free(e)}if(this._localBuffer&&(this._localBuffer.destroy(),this._localBuffer=null),this._worldBounds=null,this._modelBounds=null,this._subModels.length=0,this._inited=!1,this._transformUpdated=!0,this._transform=null,this._node=null,this.isDynamicBatching=!1,this._handle){const e=_o.get(this._handle,po.SUB_MODEL_ARRAY);e&&Qi.free(e);const t=_o.get(this._handle,po.INSTANCED_BUFFER);t&&no.free(t);const n=_o.get(this._handle,po.INSTANCED_ATTR_ARRAY);n&&ki(n,Ji,jA),_o.free(this._handle),this._handle=Hi}this._hWorldBounds&&(Ao.free(this._hWorldBounds),this._hWorldBounds=Hi)}attachToScene(e){this.scene=e}detachFromScene(){this.scene=null}updateTransform(e){const t=this.transform;if(t.hasChangedFlags||t._dirtyFlags){t.updateWorldTransform(),this._transformUpdated=!0;const e=this._worldBounds;this._modelBounds&&e&&(this._modelBounds.transform(t._mat,t._pos,t._rot,t._scale,e),Ao.setVec3(this._hWorldBounds,vo.CENTER,e.center),Ao.setVec3(this._hWorldBounds,vo.HALF_EXTENSION,e.halfExtents))}}updateWorldBound(){const e=this.transform;if(null!==e){e.updateWorldTransform(),this._transformUpdated=!0;const t=this._worldBounds;this._modelBounds&&t&&(this._modelBounds.transform(e._mat,e._pos,e._rot,e._scale,t),Ao.setVec3(this._hWorldBounds,vo.CENTER,t.center),Ao.setVec3(this._hWorldBounds,vo.HALF_EXTENSION,t.halfExtents))}}updateUBOs(e){const t=this._subModels;for(let e=0;e<t.length;e++)t[e].update();if(this._updateStamp=e,!this._transformUpdated)return;this._transformUpdated=!1;const n=this.transform._mat,i=this._instMatWorldIdx;if(i>=0){const e=this.instancedAttributes.views;!function(e,t,n,i){t[0]=e.m00,t[1]=e.m01,t[2]=e.m02,t[3]=e.m12,n[0]=e.m04,n[1]=e.m05,n[2]=e.m06,n[3]=e.m13,i[0]=e.m08,i[1]=e.m09,i[2]=e.m10,i[3]=e.m14}(n,e[i],e[i+1],e[i+2])}else this._localBuffer&&(Rn.toArray(this._localData,n,rp.MAT_WORLD_OFFSET),Rn.inverseTranspose(kA,n),Rn.toArray(this._localData,kA,rp.MAT_WORLD_IT_OFFSET),this._localBuffer.update(this._localData))}createBoundingShape(e,t){e&&t&&(this._modelBounds=el.fromPoints(el.create(),e,t),this._worldBounds=el.clone(this._modelBounds),this._hWorldBounds===Hi&&(this._hWorldBounds=Ao.alloc(),_o.set(this._handle,po.WORLD_BOUNDS,this._hWorldBounds)),Ao.setVec3(this._hWorldBounds,vo.CENTER,this._worldBounds.center),Ao.setVec3(this._hWorldBounds,vo.HALF_EXTENSION,this._worldBounds.halfExtents))}initSubModel(e,t,n){this.initialize();let i=!1;if(null==this._subModels[e]?(this._subModels[e]=GA.alloc(),i=!0):this._subModels[e].destroy(),this._subModels[e].initialize(t,n.passes,this.getMacroPatches(e)),this._subModels[e].initPlanarShadowShader(),this._subModels[e].initPlanarShadowInstanceShader(),this._updateAttributesAndBinding(e),i){const t=_o.get(this._handle,po.SUB_MODEL_ARRAY);Qi.assign(t,e,this._subModels[e].handle)}}setSubModelMesh(e,t){this._subModels[e]&&(this._subModels[e].subMesh=t)}setSubModelMaterial(e,t){this._subModels[e]&&(this._subModels[e].passes=t.passes,this._updateAttributesAndBinding(e))}onGlobalPipelineStateChanged(){const e=this._subModels;for(let t=0;t<e.length;t++)e[t].onPipelineStateChanged()}onMacroPatchesStateChanged(){const e=this._subModels;for(let t=0;t<e.length;t++)e[t].onMacroPatchesStateChanged(this.getMacroPatches(t))}updateLightingmap(e,t){Bn.toArray(this._localData,t,rp.LIGHTINGMAP_UVPARAM),this._lightmap=e,this._lightmapUVParam=t,null===e&&(e=Eh.get("empty-texture"));const n=e.getGFXTexture();if(n){const t=P_.getSampler(this._device,e.mipmaps.length>1?qA:WA),i=this._subModels;for(let e=0;e<i.length;e++){const{descriptorSet:o}=i[e];o.bindTexture(Sp,n),o.bindSampler(Sp,t),o.update()}}}getMacroPatches(e){return this.receiveShadow?HA:null}_updateAttributesAndBinding(e){const t=this._subModels[e];if(!t)return;this._initLocalDescriptors(e),this._updateLocalDescriptors(e,t.descriptorSet);const n=Vi.get(lo.get(t.handle,so.SHADER_0));this._updateInstancedAttributes(n.attributes,t.passes[0])}_getInstancedAttributeIndex(e){const{attributes:t}=this.instancedAttributes;for(let n=0;n<t.length;n++)if(t[n].name===e)return n;return-1}_updateInstancedAttributes(e,t){if(!t.device.hasFeature(Jr.INSTANCED_ARRAYS))return;const n=_o.get(this._handle,po.INSTANCED_BUFFER);n&&no.free(n);const i=_o.get(this._handle,po.INSTANCED_ATTR_ARRAY);i&&ki(i,Ji,jA,!1);let o=0;for(let t=0;t<e.length;t++){const n=e[t];n.isInstanced&&(o+=Is[n.format].size)}const r=no.alloc(o),a=no.getBuffer(r);_o.set(this._handle,po.INSTANCED_BUFFER,r);const s=this.instancedAttributes;s.buffer=new Uint8Array(a),s.views.length=s.attributes.length=0;let c=0;for(let t=0;t<e.length;t++){const n=e[t];if(!n.isInstanced)continue;const o=jA.alloc(),r=jA.get(o);r.format=n.format,r.name=n.name,r.isNormalized=n.isNormalized,r.location=n.location,s.attributes.push(r),Ji.push(i,o);const l=Is[n.format];s.views.push(new(Us(l))(a,c,l.count)),c+=l.size}t.batchingScheme===Rh.INSTANCING&&UA.get(t).destroy(),this._instMatWorldIdx=this._getInstancedAttributeIndex("a_matWorld0"),this._transformUpdated=!0}_initLocalDescriptors(e){this._localBuffer||(this._localBuffer=this._device.createBuffer(new Wa(ta.UNIFORM|ta.TRANSFER_DST,oa.HOST|oa.DEVICE,rp.SIZE,rp.SIZE)))}_updateLocalDescriptors(e,t){this._localBuffer&&t.bindBuffer(rp.BINDING,this._localBuffer)}}e("bM",YA);class XA extends Fh{get position(){return this._pos}set size(e){tr.set(this._handle,$o.SIZE,e)}get size(){return tr.get(this._handle,$o.SIZE)}set range(e){tr.set(this._handle,$o.RANGE,e),this._needUpdate=!0}get range(){return tr.get(this._handle,$o.RANGE)}set luminance(e){tr.set(this._handle,$o.ILLUMINANCE,e)}get luminance(){return tr.get(this._handle,$o.ILLUMINANCE)}get aabb(){return this._aabb}constructor(){super(),this._needUpdate=!1,this._pos=void 0,this._aabb=void 0,this._hAABB=Hi,this._aabb=el.create(),this._pos=new mn}initialize(){super.initialize(),this._hAABB=Ao.alloc(),tr.set(this._handle,$o.TYPE,Lh.SPHERE),tr.set(this._handle,$o.SIZE,.15),tr.set(this._handle,$o.RANGE,1),tr.set(this._handle,$o.AABB,this._hAABB),tr.set(this._handle,$o.ILLUMINANCE,1700/zh(.15))}update(){if(this._node&&(this._node.hasChangedFlags||this._needUpdate)){this._node.getWorldPosition(this._pos);const e=tr.get(this._handle,$o.RANGE);el.set(this._aabb,this._pos.x,this._pos.y,this._pos.z,e,e,e),this._needUpdate=!1,tr.setVec3(this._handle,$o.POSITION,this._pos),Ao.setVec3(this._hAABB,vo.CENTER,this._aabb.center),Ao.setVec3(this._hAABB,vo.HALF_EXTENSION,this._aabb.halfExtents)}}destroy(){return this._hAABB&&(Ao.free(this._hAABB),this._hAABB=Hi),super.destroy()}}e("ce",XA);const QA=new mn(0,0,-1),ZA=new bn,JA=new Rn,KA=new Rn,$A=new Rn,ey=new Rn;class ty extends Fh{get position(){return this._pos}set size(e){tr.set(this._handle,$o.SIZE,e)}get size(){return tr.get(this._handle,$o.SIZE)}set range(e){this._range=e,tr.set(this._handle,$o.RANGE,e),this._needUpdate=!0}get range(){return tr.get(this._handle,$o.RANGE)}set luminance(e){tr.set(this._handle,$o.ILLUMINANCE,e)}get luminance(){return tr.get(this._handle,$o.ILLUMINANCE)}get direction(){return this._dir}get spotAngle(){return tr.get(this._handle,$o.SPOT_ANGLE)}set spotAngle(e){this._angle=e,tr.set(this._handle,$o.SPOT_ANGLE,Math.cos(.5*e)),this._needUpdate=!0}set aspect(e){tr.set(this._handle,$o.ASPECT,e),this._needUpdate=!0}get aspect(){return tr.get(this._handle,$o.ASPECT)}get aabb(){return this._aabb}get frustum(){return this._frustum}constructor(){super(),this._dir=new mn(1,-1,-1),this._range=5,this._spotAngle=Math.cos(Math.PI/6),this._pos=void 0,this._aabb=void 0,this._frustum=void 0,this._angle=0,this._needUpdate=!1,this._hAABB=Hi,this._hFrustum=Hi,this._aabb=el.create(),this._frustum=sl.create(),this._pos=new mn}initialize(){super.initialize(),this._hAABB=Ao.alloc(),this._hFrustum=Fo.alloc(),tr.set(this._handle,$o.TYPE,Lh.SPOT),tr.set(this._handle,$o.SIZE,.15),tr.set(this._handle,$o.AABB,this._hAABB),tr.set(this._handle,$o.ILLUMINANCE,1700/zh(.15)),tr.set(this._handle,$o.RANGE,Math.cos(Math.PI/6)),tr.set(this._handle,$o.ASPECT,1),tr.setVec3(this._handle,$o.DIRECTION,this._dir),tr.set(this._handle,$o.FRUSTUM,this._hFrustum)}update(){this._node&&(this._node.hasChangedFlags||this._needUpdate)&&(this._node.getWorldPosition(this._pos),mn.transformQuat(this._dir,QA,this._node.getWorldRotation(ZA)),mn.normalize(this._dir,this._dir),tr.setVec3(this._handle,$o.DIRECTION,this._dir),el.set(this._aabb,this._pos.x,this._pos.y,this._pos.z,this._range,this._range,this._range),this._node.getWorldRT(JA),Rn.invert(JA,JA),Rn.perspective(KA,this._angle,1,.001,this._range),Rn.multiply($A,KA,JA),this._frustum.update($A,ey),this._needUpdate=!1,tr.setVec3(this._handle,$o.POSITION,this._pos),Ao.setVec3(this._hAABB,vo.CENTER,this._aabb.center),Ao.setVec3(this._hAABB,vo.HALF_EXTENSION,this._aabb.halfExtents),cl(this._hFrustum,this._frustum))}destroy(){return this._hAABB&&(Ao.free(this._hAABB),this._hAABB=Hi),this._hFrustum&&(Fo.free(this._hFrustum),this._hFrustum=Hi),super.destroy()}}e("cg",ty);var ny=Object.freeze({__proto__:null,Ambient:Cr,get CameraFOVAxis(){return Np},get CameraProjection(){return Dp},get CameraAperture(){return Mp},get CameraISO(){return Op},get CameraShutter(){return Lp},SKYBOX_FLAG:Gp,Camera:Vp,CameraVisFlags:Dh,VisibilityFlags:Mh,DirectionalLight:jh,ColorTemperatureToRGB:Oh,get LightType(){return Lh},nt2lm:zh,Light:Fh,get ModelType(){return VA},Model:YA,ShadowType:oA,PCFType:rA,Shadows:sA,RenderScene:Yp,Skybox:iA,SphereLight:XA,SpotLight:ty,SubModel:BA});let iy,oy;function ry(e){return--e,e|=e>>16,e|=e>>8,e|=e>>4,e|=e>>2,e|=e>>1,++e}function ay(e,t){return Math.ceil(e/t)*t}!function(e){e[e.OPAQUE=0]="OPAQUE",e[e.TRANSPARENT=1]="TRANSPARENT",e[e.OVERLAY=2]="OVERLAY"}(iy||(iy={})),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.FORWARD=2]="FORWARD",e[e.SHADOWCAST=4]="SHADOWCAST"}(oy||(oy={}));class sy{constructor(e){this._device=void 0,this._format=Kr.UNKNOWN,this._formatSize=0,this._chunks=[],this._chunkCount=0,this._handles=[],this._region0=new ka,this._region1=new ka,this._region2=new ka,this._roundUpFn=null,this._bufferViewCtor=Uint8Array,this._channels=4,this._alignment=1,this._device=e}initialize(e){const t=Is[e.format];this._format=e.format,this._formatSize=t.size,this._channels=t.count,this._bufferViewCtor=Us(t),this._roundUpFn=e.roundUpFn||null,this._alignment=e.alignment||1,e.inOrderFree&&(this.alloc=this._McDonaldAlloc)}destroy(){for(let e=0;e<this._chunkCount;++e)this._chunks[e].texture.destroy();this._chunks.length=0,this._handles.length=0}alloc(e,t){e=ay(e,this._alignment);let n=-1,i=-1;if(void 0!==t&&(n=t,i=this._findAvailableSpace(e,n)),i<0)for(let t=0;t<this._chunkCount&&(n=t,i=this._findAvailableSpace(e,n),!(i>=0));++t);if(i>=0){const t=this._chunks[n];t.start+=e;const o={chunkIdx:n,start:i,end:i+e,texture:t.texture};return this._handles.push(o),o}const o=Math.sqrt(e/this._formatSize),r=this._roundUpFn&&this._roundUpFn(o,this._formatSize)||Math.max(1024,ry(o)),a=this._chunks[this.createChunk(r)];a.start+=e;const s={chunkIdx:this._chunkCount-1,start:0,end:e,texture:a.texture};return this._handles.push(s),s}free(e){for(let t=0;t<this._handles.length;++t)if(this._handles[t]===e)return this._chunks[e.chunkIdx].end=e.end,void this._handles.splice(t,1)}createChunk(e){const t=e*e*this._formatSize;console.info(`TextureBufferPool: Allocate chunk ${this._chunkCount}, size: ${t}, format: ${this._format}`);const n={texture:this._device.createTexture(new Za(ra.TEX2D,aa.SAMPLED|aa.TRANSFER_DST,this._format,e,e,sa.IMMUTABLE)),size:t,start:0,end:t};return this._chunks[this._chunkCount]=n,this._chunkCount++}update(e,t){const n=[],i=[],o=e.start/this._formatSize;let r=t.byteLength/this._formatSize,a=o%e.texture.width,s=Math.floor(o/e.texture.width),c=Math.min(e.texture.width-a,r),l=0;a>0&&(this._region0.texOffset.x=a,this._region0.texOffset.y=s,this._region0.texExtent.width=c,this._region0.texExtent.height=1,n.push(new this._bufferViewCtor(t,l*this._formatSize,c*this._channels)),i.push(this._region0),a=0,s+=1,r-=c,l+=c),r>0&&(this._region1.texOffset.x=a,this._region1.texOffset.y=s,r>e.texture.width?(this._region1.texExtent.width=e.texture.width,this._region1.texExtent.height=Math.floor(r/e.texture.width),c=this._region1.texExtent.width*this._region1.texExtent.height):(c=r,this._region1.texExtent.width=c,this._region1.texExtent.height=1),n.push(new this._bufferViewCtor(t,l*this._formatSize,c*this._channels)),i.push(this._region1),a=0,s+=this._region1.texExtent.height,r-=c,l+=c),r>0&&(this._region2.texOffset.x=a,this._region2.texOffset.y=s,this._region2.texExtent.width=r,this._region2.texExtent.height=1,n.push(new this._bufferViewCtor(t,l*this._formatSize,r*this._channels)),i.push(this._region2)),this._device.copyBuffersToTexture(n,e.texture,i)}_findAvailableSpace(e,t){const n=this._chunks[t];let i=!1,o=n.start;if(o+e<=n.size)i=!0;else{o=0;const r=this._handles.filter((e=>e.chunkIdx===t)).sort(((e,t)=>e.start-t.start));for(let t=0;t<r.length;t++){const n=r[t];if(o+e<=n.start){i=!0;break}o=n.end}!i&&o+e<=n.size&&(i=!0)}return i?o:-1}_McDonaldAlloc(e){e=ay(e,this._alignment);for(let t=0;t<this._chunkCount;++t){const n=this._chunks[t];let i=!1,o=n.start;if(o+e<=n.end?i=!0:o>n.end?o+e<=n.size?i=!0:e<=n.end&&(n.start=o=0,i=!0):o===n.end&&(n.start=o=0,n.end=n.size,e<=n.end&&(i=!0)),i){n.start+=e;const i={chunkIdx:t,start:o,end:o+e,texture:n.texture};return this._handles.push(i),i}}const t=Math.sqrt(e/this._formatSize),n=this._roundUpFn&&this._roundUpFn(t,this._formatSize)||Math.max(1024,ry(t)),i=this._chunks[this.createChunk(n)];i.start+=e;const o={chunkIdx:this._chunkCount,start:0,end:e,texture:i.texture};return this._handles.push(o),o}}e("ci",sy);const cy=Di.addStage;var ly=Object.freeze({__proto__:null,addStage:cy,scene:ny,createIA:function(e,t){if(!t.positions)return console.error("The data must have positions field"),null;const n=[],i=t.positions.length/3;for(let e=0;e<i;++e)n.push(t.positions[3*e],t.positions[3*e+1],t.positions[3*e+2]),t.normals&&n.push(t.normals[3*e],t.normals[3*e+1],t.normals[3*e+2]),t.uvs&&n.push(t.uvs[2*e],t.uvs[2*e+1]),t.colors&&n.push(t.colors[3*e],t.colors[3*e+1],t.colors[3*e+2]);const o=[];o.push(new ec(Na.ATTR_POSITION,Kr.RGB32F)),t.normals&&o.push(new ec(Na.ATTR_NORMAL,Kr.RGB32F)),t.uvs&&o.push(new ec(Na.ATTR_TEX_COORD,Kr.RG32F)),t.colors&&o.push(new ec(Na.ATTR_COLOR,Kr.RGB32F));const r=e.createBuffer(new Wa(ta.VERTEX|ta.TRANSFER_DST,oa.HOST|oa.DEVICE,4*n.length,4*n.length/i));r.update(new Float32Array(n));let a=null;return t.indices&&(a=e.createBuffer(new Wa(ta.INDEX|ta.TRANSFER_DST,oa.HOST|oa.DEVICE,2*t.indices.length,2)),a.update(new Uint16Array(t.indices))),e.createInputAssembler(new ps(o,[r],a))},get RenderQueue(){return iy},get PassStage(){return oy},get PropertyType(){return oh},genHandle:rh,getPropertyTypeFromHandle:ah,getTypeFromHandle:sh,getSetIndexFromHandle:e=>(e&nh)>>>20,getBindingFromHandle:ch,getOffsetFromHandle:lh,customizeType:ph,type2reader:uh,type2writer:_h,getDefaultFromType:hh,overrideMacros:mh,get BatchingSchemes(){return Rh},Pass:Nh,getDeviceShaderVersion:bh,programLib:Ch,get SamplerInfoIndex(){return x_},defaultSamplerHash:S_,genSamplerHash:T_,samplerLib:P_,nearestPOT:ry,TextureBufferPool:sy,MaterialInstance:eA,PassInstance:$g,ObjectPool:Bi,freeHandleArray:ki,get PoolType(){return Gi},NULL_HANDLE:Hi,ShaderPool:Vi,DSPool:Wi,IAPool:qi,PipelineLayoutPool:Yi,FramebufferPool:Xi,SubModelArrayPool:Qi,ModelArrayPool:Zi,AttributeArrayPool:Ji,FlatBufferArrayPool:Ki,LightArrayPool:$i,BlendTargetArrayPool:eo,UIBatchArrayPool:to,RawBufferPool:no,RawObjectPool:io,get PassView(){return oo},PassPool:ao,get SubModelView(){return so},SubModelPool:lo,get ModelView(){return po},ModelPool:_o,get BatchView2D(){return fo},BatchPool2D:mo,get AABBView(){return vo},AABBPool:Ao,get SceneView(){return yo},ScenePool:bo,get CameraView(){return Co},CameraPool:Eo,get NodeView(){return wo},NodePool:Po,get RootView(){return Io},RootPool:No,get RenderWindowView(){return Do},RenderWindowPool:Oo,get FrustumView(){return Lo},FrustumPool:Fo,get AmbientView(){return Bo},AmbientPool:jo,get SkyboxView(){return ko},SkyboxPool:Ho,get FogView(){return Vo},FogPool:qo,get ShadowsView(){return Yo},ShadowsPool:Qo,get PipelineSceneDataView(){return Zo},PipelineSceneDataPool:Ko,get LightView(){return $o},LightPool:tr,get SphereView(){return ir},SpherePool:rr,get FlatBufferView(){return ar},FlatBufferPool:cr,get SubMeshView(){return lr},SubMeshPool:ur,get RasterizerStateView(){return _r},RasterizerStatePool:hr,get DepthStencilStateView(){return mr},DepthStencilStatePool:vr,get BlendTargetView(){return gr},BlendTargetPool:Ar,get BlendStateView(){return yr},BlendStatePool:br});function py(e){return e*e}function uy(e){return e*(2-e)}function _y(e){return e*e*e}function fy(e){return--e*e*e+1}function hy(e){return e*e*e*e}function my(e){return 1- --e*e*e*e}function dy(e){return e*e*e*e*e}function vy(e){return--e*e*e*e*e+1}function gy(e){return 1===e?1:1-Math.cos(e*Math.PI/2)}function Ay(e){return Math.sin(e*Math.PI/2)}function yy(e){return 0===e?0:Math.pow(1024,e-1)}function xy(e){return 1===e?1:1-Math.pow(2,-10*e)}function by(e){return 1-Math.sqrt(1-e*e)}function Cy(e){return Math.sqrt(1- --e*e)}function Sy(e){let t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/.4))}function Ey(e){let t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin(2*(e-t)*Math.PI/.4)+1)}function wy(e){if(1===e)return 1;const t=1.70158;return e*e*((t+1)*e-t)}function Ty(e){if(0===e)return 0;const t=1.70158;return--e*e*((t+1)*e+t)+1}function Py(e){return 1-Iy(1-e)}function Iy(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}e("ep",ly);const Ry=jy(py,uy),Ny=jy(_y,fy),Dy=jy(hy,my),My=jy(dy,vy),Oy=jy(gy,Ay),Ly=jy(yy,xy),zy=jy(by,Cy),Fy=jy(Sy,Ey),By=jy(wy,Ty),Uy=jy(Py,Iy);function jy(e,t){return n=>n<.5?t(2*n)/2:e(2*n-1)/2+.5}var ky=Object.freeze({__proto__:null,constant:function(){return 0},linear:function(e){return e},quadIn:py,quadOut:uy,quadInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:_y,cubicOut:fy,cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quartIn:hy,quartOut:my,quartInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quintIn:dy,quintOut:vy,quintInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sineIn:gy,sineOut:Ay,sineInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},expoIn:yy,expoOut:xy,expoInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circIn:by,circOut:Cy,circInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:Sy,elasticOut:Ey,elasticInOut:function(e){let t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin(2*(e-t)*Math.PI/.4)*.5+1)},backIn:wy,backOut:Ty,backInOut:function(e){const t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:Py,bounceOut:Iy,bounceInOut:function(e){return e<.5?.5*Py(2*e):.5*Iy(2*e-1)+.5},smooth:function(e){return e<=0?0:e>=1?1:e*e*(3-2*e)},fade:function(e){return e<=0?0:e>=1?1:e*e*e*(e*(6*e-15)+10)},quadOutIn:Ry,cubicOutIn:Ny,quartOutIn:Dy,quintOutIn:My,sineOutIn:Oy,expoOutIn:Ly,circOutIn:zy,elasticOutIn:Fy,backOutIn:By,bounceOutIn:Uy});e("ee",ky);const Gy=new On;class Hy{set splashFinish(e){this._splashFinish=e,this._tryToStart()}set loadFinish(e){this._loadFinish=e,this._tryToStart()}main(e){if(null!=e){if(window._CCSettings&&window._CCSettings.splashScreen){const e=this.settings=window._CCSettings.splashScreen;e.totalTime=null!=this.settings.totalTime?this.settings.totalTime:3e3,e.base64src=this.settings.base64src||"",e.effect=this.settings.effect||"FADE-INOUT",e.clearColor=this.settings.clearColor||new Ha(.88,.88,.88,1),e.displayRatio=null!=this.settings.displayRatio?this.settings.displayRatio:.4,e.displayWatermark=null==this.settings.displayWatermark||this.settings.displayWatermark}else this.settings={totalTime:3e3,base64src:"",effect:"FADE-INOUT",clearColor:new Ha(.88,.88,.88,1),displayRatio:.4,displayWatermark:!0};if(""===this.settings.base64src||this.settings.totalTime<=0)this.callBack&&this.callBack(),this.callBack=null,this.settings=null,this._directCall=!0;else{c.view.enableRetina(!0),c.view.resizeWithBrowserSize(!0);const t=window._CCSettings.designResolution;t?c.view.setDesignResolutionSize(t.width,t.height,t.policy):c.view.setDesignResolutionSize(960,640,4),this.root=e,this.device=e.device,c.game.once(c.Game.EVENT_GAME_INITED,(()=>{c.director._lateUpdate=performance.now()}),c.director),this.callBack=null,this.cancelAnimate=!1,this.startTime=-1,this.preInit(),this.logoImage=new Image,this.logoImage.onload=this.init.bind(this),this.logoImage.src=this.settings.base64src}}else A("RENDER ROOT IS NULL.")}setOnFinish(e){if(this._directCall&&e)return Hy._ins=void 0,void e();this.callBack=e}_tryToStart(){this._splashFinish&&this._loadFinish&&this.callBack&&(this.callBack(),this.hide(),c.game.resume())}preInit(){const e=this.settings.clearColor;this.clearColors=[new Ha(e.x,e.y,e.z,e.w)];const t=this.device;this.renderArea=new La(0,0,t.width,t.height),this.framebuffer=this.root.mainWindow.framebuffer,this.cmdBuff=t.commandBuffer;const n=new Float32Array([.5,.5,1,0,-.5,.5,0,0,.5,-.5,1,1,-.5,-.5,0,1]),i=4*Float32Array.BYTES_PER_ELEMENT,o=4*i;this.vertexBuffers=t.createBuffer(new Wa(ta.VERTEX|ta.TRANSFER_DST,oa.HOST|oa.DEVICE,o,i)),this.vertexBuffers.update(n);const r=new Uint16Array([0,1,2,1,3,2]),a=Uint16Array.BYTES_PER_ELEMENT,s=6*a;this.indicesBuffers=t.createBuffer(new Wa(ta.INDEX|ta.TRANSFER_DST,oa.HOST|oa.DEVICE,s,a)),this.indicesBuffers.update(r);const c=[new ec("a_position",Kr.RG32F),new ec("a_texCoord",Kr.RG32F)],l=new ps(c,[this.vertexBuffers],this.indicesBuffers);this.quadAssmebler=t.createInputAssembler(l),this.projection=new Rn,Rn.ortho(this.projection,-1,1,-1,1,-1,1,t.capabilities.clipSpaceMinZ,t.capabilities.clipSpaceSignY,t.surfaceTransform)}init(){this.initLogo(),this.settings.displayWatermark&&this.initWarterMark();const e=t=>{if(this.cancelAnimate)return;const n=this.settings,i=this.device;Rn.ortho(this.projection,-1,1,-1,1,-1,1,i.capabilities.clipSpaceMinZ,i.capabilities.clipSpaceSignY,i.surfaceTransform);const o=i.width,r=i.height,a=o<r?o:r;this.startTime<0&&(this.startTime=t);const s=t-this.startTime;let c=fy(Qt(s/n.totalTime));"NONE"===n.effect&&(c=1);const l=this.logoTexture.width,p=this.logoTexture.height,u=a*n.displayRatio;let _=u*l/p,f=u;if(i.surfaceTransform!==Zr.ROTATE_90&&i.surfaceTransform!==Zr.ROTATE_270||(_=u*o/r,f=u*p/l*r/o),this.logoMat.setProperty("resolution",Gy.set(o,r),0),this.logoMat.setProperty("scale",Gy.set(_,f),0),this.logoMat.setProperty("translate",Gy.set(.5*o,.5*r),0),this.logoMat.setProperty("precent",c),this.logoMat.setProperty("u_projection",this.projection),this.logoMat.passes[0].update(),n.displayWatermark&&this.watermarkMat){const e=.5*a,t=this.watermarkTexture.width;let n=e,s=e*this.watermarkTexture.height/t;i.surfaceTransform!==Zr.ROTATE_90&&i.surfaceTransform!==Zr.ROTATE_270||(n=.5*e,s=e*o/r*.5),this.watermarkMat.setProperty("resolution",Gy.set(o,r),0),this.watermarkMat.setProperty("scale",Gy.set(n,s),0),this.watermarkMat.setProperty("translate",Gy.set(.5*o,.1*r),0),this.watermarkMat.setProperty("precent",c),this.watermarkMat.setProperty("u_projection",this.projection),this.watermarkMat.passes[0].update()}this.frame(),s>n.totalTime&&(this.splashFinish=!0),requestAnimationFrame(e)};c.game.pause(),this.handle=requestAnimationFrame(e)}hide(){cancelAnimationFrame(this.handle),this.cancelAnimate=!0,setTimeout(this.destroy.bind(this))}initLogo(){const e=this.device;this.logoMat=new Kg,this.logoMat.initialize({effectName:"splash-screen"});const t=new Ka;t.addressU=pa.CLAMP,t.addressV=pa.CLAMP,t.addressW=pa.CLAMP,this.sampler=e.createSampler(t),this.logoTexture=e.createTexture(new Za(ra.TEX2D,aa.SAMPLED|aa.TRANSFER_DST,Kr.RGBA8,this.logoImage.width,this.logoImage.height));const n=this.logoMat.passes[0],i=n.getBinding("mainTexture");n.bindTexture(i,this.logoTexture),this.shader=Vi.get(n.getShaderVariant());const o=Wi.get(ao.get(n.handle,oo.DESCRIPTOR_SET));o.bindSampler(i,this.sampler),o.update();const r=new ka;r.texExtent.width=this.logoImage.width,r.texExtent.height=this.logoImage.height,r.texExtent.depth=1,e.copyTexImagesToTexture([this.logoImage],this.logoTexture,[r])}initWarterMark(){const e=document.createElement("canvas");e.width=330,e.height=30,e.style.width=`${e.width}`,e.style.height=`${e.height}`;const t=e.getContext("2d");t.font="18px Arial",t.textBaseline="top",t.textAlign="left",t.fillStyle="`#424242`";const n="Powered by Cocos Creator",i=t.measureText(n);t.fillText(n,(330-i.width)/2,6);const o=new ka;o.texExtent.width=e.width,o.texExtent.height=e.height,o.texExtent.depth=1,this.watermarkTexture=this.device.createTexture(new Za(ra.TEX2D,aa.SAMPLED|aa.TRANSFER_DST,Kr.RGBA8,e.width,e.height)),this.device.copyTexImagesToTexture([e],this.watermarkTexture,[o]),this.watermarkMat=new Kg,this.watermarkMat.initialize({effectName:"splash-screen"});const r=this.watermarkMat.passes[0],a=r.getBinding("mainTexture");r.bindTexture(a,this.watermarkTexture),Wi.get(ao.get(r.handle,oo.DESCRIPTOR_SET)).update()}frame(){const e=this.device;e.acquire();const t=this.cmdBuff,n=this.framebuffer,i=this.renderArea;i.width=e.nativeWidth,i.height=e.nativeHeight,t.begin(),t.beginRenderPass(n.renderPass,n,i,this.clearColors,1,0);const o=this.logoMat.passes[0],r=pA.getOrCreatePipelineState(e,o,this.shader,n.renderPass,this.quadAssmebler);if(t.bindPipelineState(r),t.bindDescriptorSet(Rl.MATERIAL,o.descriptorSet),t.bindInputAssembler(this.quadAssmebler),t.draw(this.quadAssmebler),this.settings.displayWatermark&&this.watermarkMat){const i=this.watermarkMat.passes[0],o=pA.getOrCreatePipelineState(e,i,this.shader,n.renderPass,this.quadAssmebler);t.bindPipelineState(o),t.bindDescriptorSet(Rl.MATERIAL,i.descriptorSet),t.bindInputAssembler(this.quadAssmebler),t.draw(this.quadAssmebler)}t.endRenderPass(),t.end(),e.flushCommands([t]),e.queue.submit([t]),e.present()}destroy(){this.callBack=null,this.root=null,this.device=null,this.clearColors=null,this.logoImage.destroy&&this.logoImage.destroy(),this.logoImage=null,this.framebuffer=null,this.renderArea=null,this.cmdBuff=null,this.shader=null,this.logoMat.destroy(),this.logoMat=null,this.logoTexture.destroy(),this.logoTexture=null,this.quadAssmebler.destroy(),this.quadAssmebler=null,this.vertexBuffers.destroy(),this.vertexBuffers=null,this.indicesBuffers.destroy(),this.indicesBuffers=null,this.sampler.destroy(),this.sampler=null,this.watermarkTexture&&(this.watermarkMat.destroy(),this.watermarkMat=null,this.watermarkTexture.destroy(),this.watermarkTexture=null),this.settings=null,Hy._ins=void 0}static get instance(){return Hy._ins||(Hy._ins=new Hy),Hy._ins}constructor(){this.handle=0,this.callBack=null,this.cancelAnimate=!1,this.startTime=-1,this._splashFinish=!1,this._loadFinish=!1,this._directCall=!1}}Hy._ins=void 0,c.internal.SplashScreen=Hy;class Vy{constructor(){this._id="",this._priority=0,this._executeInEditMode=!1}set priority(e){this._priority=e}get priority(){return this._priority}set id(e){this._id=e}get id(){return this._id}static sortByPriority(e,t){return e._priority<t._priority?1:e._priority>t.priority?-1:0}init(){}update(e){}postUpdate(e){}}e("dU",Vy);const Wy=new ae("Scheduler");class qy{constructor(e,t,n,i){this.target=void 0,this.priority=void 0,this.paused=void 0,this.markedForDeletion=void 0,this.target=e,this.priority=t,this.paused=n,this.markedForDeletion=i}}qy.get=(e,t,n,i)=>{let o=qy._listEntries.pop();return o?(o.target=e,o.priority=t,o.paused=n,o.markedForDeletion=i):o=new qy(e,t,n,i),o},qy.put=e=>{qy._listEntries.length<20&&(e.target=null,qy._listEntries.push(e))},qy._listEntries=[];class Yy{constructor(e,t,n,i){this.list=void 0,this.entry=void 0,this.target=void 0,this.callback=void 0,this.list=e,this.entry=t,this.target=n,this.callback=i}}Yy.get=(e,t,n,i)=>{let o=Yy._hashUpdateEntries.pop();return o?(o.list=e,o.entry=t,o.target=n,o.callback=i):o=new Yy(e,t,n,i),o},Yy.put=e=>{Yy._hashUpdateEntries.length<20&&(e.list=e.entry=e.target=e.callback=null,Yy._hashUpdateEntries.push(e))},Yy._hashUpdateEntries=[];class Xy{constructor(e,t,n,i,o,r){this.timers=void 0,this.target=void 0,this.timerIndex=void 0,this.currentTimer=void 0,this.currentTimerSalvaged=void 0,this.paused=void 0,this.timers=e,this.target=t,this.timerIndex=n,this.currentTimer=i,this.currentTimerSalvaged=o,this.paused=r}}Xy.get=(e,t,n,i,o,r)=>{let a=Xy._hashTimerEntries.pop();return a?(a.timers=e,a.target=t,a.timerIndex=n,a.currentTimer=i,a.currentTimerSalvaged=o,a.paused=r):a=new Xy(e,t,n,i,o,r),a},Xy.put=e=>{Xy._hashTimerEntries.length<20&&(e.timers=e.target=e.currentTimer=null,Xy._hashTimerEntries.push(e))},Xy._hashTimerEntries=[];class Qy{constructor(){this._lock=void 0,this._scheduler=void 0,this._elapsed=void 0,this._runForever=void 0,this._useDelay=void 0,this._timesExecuted=void 0,this._repeat=void 0,this._delay=void 0,this._interval=void 0,this._target=void 0,this._callback=void 0,this._lock=!1,this._scheduler=null,this._elapsed=-1,this._runForever=!1,this._useDelay=!1,this._timesExecuted=0,this._repeat=0,this._delay=0,this._interval=0,this._target=null,this._callback=null}initWithCallback(e,t,n,i,o,r){return this._lock=!1,this._scheduler=e,this._target=n,this._callback=t,this._elapsed=-1,this._interval=i,this._delay=r,this._useDelay=this._delay>0,this._repeat=o,this._runForever=this._repeat===c.macro.REPEAT_FOREVER,!0}getInterval(){return this._interval}setInterval(e){this._interval=e}update(e){-1===this._elapsed?(this._elapsed=0,this._timesExecuted=0):(this._elapsed+=e,this._runForever&&!this._useDelay?this._elapsed>=this._interval&&(this.trigger(),this._elapsed=0):(this._useDelay?this._elapsed>=this._delay&&(this.trigger(),this._elapsed-=this._delay,this._timesExecuted+=1,this._useDelay=!1):this._elapsed>=this._interval&&(this.trigger(),this._elapsed=0,this._timesExecuted+=1),this._callback&&!this._runForever&&this._timesExecuted>this._repeat&&this.cancel()))}getCallback(){return this._callback}trigger(){this._target&&this._callback&&(this._lock=!0,this._callback.call(this._target,this._elapsed),this._lock=!1)}cancel(){this._scheduler.unschedule(this._callback,this._target)}}Qy._timers=[],Qy.get=()=>Qy._timers.pop()||new Qy,Qy.put=e=>{Qy._timers.length<20&&!e._lock&&(e._scheduler=e._target=e._callback=null,Qy._timers.push(e))};class Zy extends Vy{static enableForTarget(e){let t=!1;(e.uuid||e.id)&&(t=!0),t||(e.__instanceId?P(1513):e.id=Wy.getNewId())}constructor(){super(),this._timeScale=void 0,this._updatesNegList=void 0,this._updates0List=void 0,this._updatesPosList=void 0,this._hashForUpdates=void 0,this._hashForTimers=void 0,this._currentTarget=void 0,this._currentTargetSalvaged=void 0,this._updateHashLocked=void 0,this._arrayForTimers=void 0,this._timeScale=1,this._updatesNegList=[],this._updates0List=[],this._updatesPosList=[],this._hashForUpdates=ve(!0),this._hashForTimers=ve(!0),this._currentTarget=null,this._currentTargetSalvaged=!1,this._updateHashLocked=!1,this._arrayForTimers=[]}setTimeScale(e){this._timeScale=e}getTimeScale(){return this._timeScale}update(e){let t,n,i,o,r;for(this._updateHashLocked=!0,1!==this._timeScale&&(e*=this._timeScale),t=0,n=this._updatesNegList,i=n.length;t<i;t++)o=n[t],o.paused||o.markedForDeletion||o.target.update(e);for(t=0,n=this._updates0List,i=n.length;t<i;t++)o=n[t],o.paused||o.markedForDeletion||o.target.update(e);for(t=0,n=this._updatesPosList,i=n.length;t<i;t++)o=n[t],o.paused||o.markedForDeletion||o.target.update(e);const a=this._arrayForTimers;for(t=0;t<a.length;t++){if(r=a[t],this._currentTarget=r,this._currentTargetSalvaged=!1,!r.paused)for(r.timerIndex=0;r.timerIndex<r.timers.length;++r.timerIndex)r.currentTimer=r.timers[r.timerIndex],r.currentTimerSalvaged=!1,r.currentTimer.update(e),r.currentTimer=null;this._currentTargetSalvaged&&0===this._currentTarget.timers.length&&(this._removeHashElement(this._currentTarget),--t)}for(t=0,n=this._updatesNegList;t<n.length;)o=n[t],o.markedForDeletion?this._removeUpdateFromHash(o):t++;for(t=0,n=this._updates0List;t<n.length;)o=n[t],o.markedForDeletion?this._removeUpdateFromHash(o):t++;for(t=0,n=this._updatesPosList;t<n.length;)o=n[t],o.markedForDeletion?this._removeUpdateFromHash(o):t++;this._updateHashLocked=!1,this._currentTarget=null}schedule(e,t,n,i,o,r){if("function"!=typeof e){const n=e;e=t,t=n}3!==arguments.length&&4!==arguments.length&&5!==arguments.length||(r=!!i,i=c.macro.REPEAT_FOREVER,o=0),D(t,1502);const a=t.uuid||t.id;if(!a)return void R(1510);let s,l,p=this._hashForTimers[a];if(p?p.paused!==r&&P(1511):(p=Xy.get(null,t,0,null,null,r),this._arrayForTimers.push(p),this._hashForTimers[a]=p),null==p.timers)p.timers=[];else for(l=0;l<p.timers.length;++l)if(s=p.timers[l],s&&e===s._callback)return w(1507,s.getInterval(),n),void(s._interval=n);s=Qy.get(),s.initWithCallback(this,e,t,n,i,o),p.timers.push(s),this._currentTarget===p&&this._currentTargetSalvaged&&(this._currentTargetSalvaged=!1)}scheduleUpdate(e,t,n){const i=e.uuid||e.id;if(!i)return void R(1510);const o=this._hashForUpdates[i];if(o&&o.entry){if(o.entry.priority===t)return o.entry.markedForDeletion=!1,void(o.entry.paused=n);if(this._updateHashLocked)return w(1506),o.entry.markedForDeletion=!1,void(o.entry.paused=n);this.unscheduleUpdate(e)}const r=qy.get(e,t,n,!1);let a;0===t?(a=this._updates0List,this._appendIn(a,r)):(a=t<0?this._updatesNegList:this._updatesPosList,this._priorityIn(a,r,t)),this._hashForUpdates[i]=Yy.get(a,r,e,null)}unschedule(e,t){if(!t||!e)return;const n=t.uuid||t.id;if(!n)return void R(1510);const i=this,o=i._hashForTimers[n];if(o){const t=o.timers;for(let n=0,r=t.length;n<r;n++){const r=t[n];if(e===r._callback)return r!==o.currentTimer||o.currentTimerSalvaged||(o.currentTimerSalvaged=!0),t.splice(n,1),Qy.put(r),o.timerIndex>=n&&o.timerIndex--,void(0===t.length&&(i._currentTarget===o?i._currentTargetSalvaged=!0:i._removeHashElement(o)))}}}unscheduleUpdate(e){if(!e)return;const t=e.uuid||e.id;if(!t)return void R(1510);const n=this._hashForUpdates[t];n&&(this._updateHashLocked?n.entry.markedForDeletion=!0:this._removeUpdateFromHash(n.entry))}unscheduleAllForTarget(e){if(!e)return;const t=e.uuid||e.id;if(!t)return void R(1510);const n=this._hashForTimers[t];if(n){const e=n.timers;e.indexOf(n.currentTimer)>-1&&!n.currentTimerSalvaged&&(n.currentTimerSalvaged=!0);for(let t=0,n=e.length;t<n;t++)Qy.put(e[t]);e.length=0,this._currentTarget===n?this._currentTargetSalvaged=!0:this._removeHashElement(n)}this.unscheduleUpdate(e)}unscheduleAll(){this.unscheduleAllWithMinPriority(c.Scheduler.PRIORITY_SYSTEM)}unscheduleAllWithMinPriority(e){let t,n;const i=this._arrayForTimers;for(t=i.length-1;t>=0;t--)n=i[t],this.unscheduleAllForTarget(n.target);let o,r=0;if(e<0)for(t=0;t<this._updatesNegList.length;)r=this._updatesNegList.length,o=this._updatesNegList[t],o&&o.priority>=e&&this.unscheduleUpdate(o.target),r===this._updatesNegList.length&&t++;if(e<=0)for(t=0;t<this._updates0List.length;)r=this._updates0List.length,o=this._updates0List[t],o&&this.unscheduleUpdate(o.target),r===this._updates0List.length&&t++;for(t=0;t<this._updatesPosList.length;)r=this._updatesPosList.length,o=this._updatesPosList[t],o&&o.priority>=e&&this.unscheduleUpdate(o.target),r===this._updatesPosList.length&&t++}isScheduled(e,t){D(e,1508),D(t,1509);const n=t.uuid||t.id;if(!n)return void R(1510);const i=this._hashForTimers[n];if(!i)return!1;if(null==i.timers)return!1;{const t=i.timers;for(let n=0;n<t.length;++n)if(e===t[n]._callback)return!0;return!1}}pauseAllTargets(){return this.pauseAllTargetsWithMinPriority(c.Scheduler.PRIORITY_SYSTEM)}pauseAllTargetsWithMinPriority(e){const t=[];let n;const i=this._arrayForTimers;let o,r,a;for(o=0,r=i.length;o<r;o++)n=i[o],n&&(n.paused=!0,t.push(n.target));if(e<0)for(o=0;o<this._updatesNegList.length;o++)a=this._updatesNegList[o],a&&a.priority>=e&&(a.paused=!0,t.push(a.target));if(e<=0)for(o=0;o<this._updates0List.length;o++)a=this._updates0List[o],a&&(a.paused=!0,t.push(a.target));for(o=0;o<this._updatesPosList.length;o++)a=this._updatesPosList[o],a&&a.priority>=e&&(a.paused=!0,t.push(a.target));return t}resumeTargets(e){if(e)for(let t=0;t<e.length;t++)this.resumeTarget(e[t])}pauseTarget(e){D(e,1503);const t=e.uuid||e.id;if(!t)return void R(1510);const n=this._hashForTimers[t];n&&(n.paused=!0);const i=this._hashForUpdates[t];i&&(i.entry.paused=!0)}resumeTarget(e){D(e,1504);const t=e.uuid||e.id;if(!t)return void R(1510);const n=this._hashForTimers[t];n&&(n.paused=!1);const i=this._hashForUpdates[t];i&&(i.entry.paused=!1)}isTargetPaused(e){D(e,1505);const t=e.uuid||e.id;if(!t)return R(1510),!1;const n=this._hashForTimers[t];if(n)return n.paused;const i=this._hashForUpdates[t];return!!i&&i.entry.paused}_removeHashElement(e){const t=e.target.uuid||e.target.id;delete this._hashForTimers[t];const n=this._arrayForTimers;for(let t=0,i=n.length;t<i;t++)if(n[t]===e){n.splice(t,1);break}Xy.put(e)}_removeUpdateFromHash(e){const t=e.target.uuid||e.target.id,n=this,i=n._hashForUpdates[t];if(i){const e=i.list,o=i.entry;for(let t=0,n=e.length;t<n;t++)if(e[t]===o){e.splice(t,1);break}delete n._hashForUpdates[t],qy.put(o),Yy.put(i)}}_priorityIn(e,t,n){for(let i=0;i<e.length;i++)if(n<e[i].priority)return void e.splice(i,0,t);e.push(t)}_appendIn(e,t){e.push(t)}}e("en",Zy),Zy.PRIORITY_SYSTEM=1<<31,Zy.PRIORITY_NON_SYSTEM=Zy.PRIORITY_SYSTEM+1,Zy.ID="scheduler",c.Scheduler=Zy;class Jy{get width(){return this._width}get height(){return this._height}get framebuffer(){return Xi.get(Oo.get(this._poolHandle,Do.FRAMEBUFFER))}get shouldSyncSizeWithSwapchain(){return this._shouldSyncSizeWithSwapchain}get hasOnScreenAttachments(){return 1===Oo.get(this._poolHandle,Do.HAS_ON_SCREEN_ATTACHMENTS)}get hasOffScreenAttachments(){return 1===Oo.get(this._poolHandle,Do.HAS_OFF_SCREEN_ATTACHMENTS)}get handle(){return this._poolHandle}get cameras(){return this._cameras}static registerCreateFunc(e){e._createWindowFun=e=>new Jy(e)}constructor(e){this._title="",this._width=1,this._height=1,this._nativeWidth=1,this._nativeHeight=1,this._renderPass=null,this._colorTextures=[],this._depthStencilTexture=null,this._swapchainBufferIndices=0,this._shouldSyncSizeWithSwapchain=!1,this._poolHandle=Hi,this._cameras=[]}initialize(e,t){this._poolHandle=Oo.alloc(),void 0!==t.title&&(this._title=t.title),void 0!==t.swapchainBufferIndices&&(this._swapchainBufferIndices=t.swapchainBufferIndices),void 0!==t.shouldSyncSizeWithSwapchain&&(this._shouldSyncSizeWithSwapchain=t.shouldSyncSizeWithSwapchain),this._width=t.width,this._height=t.height,this._nativeWidth=this._width,this._nativeHeight=this._height;const{colorAttachments:n,depthStencilAttachment:i}=t.renderPassInfo;for(let t=0;t<n.length;t++)n[t].format===Kr.UNKNOWN&&(n[t].format=e.colorFormat);i&&i.format===Kr.UNKNOWN&&(i.format=e.depthStencilFormat),this._renderPass=e.createRenderPass(t.renderPassInfo);for(let t=0;t<n.length;t++){let i=null;this._swapchainBufferIndices&1<<t?Oo.set(this._poolHandle,Do.HAS_ON_SCREEN_ATTACHMENTS,1):(i=e.createTexture(new Za(ra.TEX2D,aa.COLOR_ATTACHMENT|aa.SAMPLED,n[t].format,this._width,this._height)),Oo.set(this._poolHandle,Do.HAS_OFF_SCREEN_ATTACHMENTS,1)),this._colorTextures.push(i)}i&&(this._swapchainBufferIndices>=0?(this._depthStencilTexture=e.createTexture(new Za(ra.TEX2D,aa.DEPTH_STENCIL_ATTACHMENT|aa.SAMPLED,i.format,this._width,this._height)),Oo.set(this._poolHandle,Do.HAS_OFF_SCREEN_ATTACHMENTS,1)):Oo.set(this._poolHandle,Do.HAS_ON_SCREEN_ATTACHMENTS,1));const o=Xi.alloc(e,new vs(this._renderPass,this._colorTextures,this._depthStencilTexture));return Oo.set(this._poolHandle,Do.FRAMEBUFFER,o),!0}destroy(){this.clearCameras(),this._depthStencilTexture&&(this._depthStencilTexture.destroy(),this._depthStencilTexture=null);for(let e=0;e<this._colorTextures.length;e++){const t=this._colorTextures[e];t&&t.destroy()}this._colorTextures.length=0,this._poolHandle&&(Xi.get(Oo.get(this._poolHandle,Do.FRAMEBUFFER)).destroy(),this._poolHandle=Hi)}resize(e,t){if(this._width=e,this._height=t,e>this._nativeWidth||t>this._nativeHeight){this._nativeWidth=e,this._nativeHeight=t;let n=!1;this._depthStencilTexture&&(this._depthStencilTexture.resize(e,t),n=!0);for(let i=0;i<this._colorTextures.length;i++){const o=this._colorTextures[i];o&&(o.resize(e,t),n=!0)}const i=Xi.get(Oo.get(this._poolHandle,Do.FRAMEBUFFER));n&&i&&(i.destroy(),i.initialize(new vs(this._renderPass,this._colorTextures,this._depthStencilTexture)))}for(const n of this._cameras)n.isWindowSize&&n.resize(e,t)}extractRenderCameras(e){for(let t=0;t<this._cameras.length;t++){const n=this._cameras[t];n.enabled&&(n.update(),e.push(n))}}attachCamera(e){for(let t=0;t<this._cameras.length;t++)if(this._cameras[t]===e)return;this._cameras.push(e),this.sortCameras()}detachCamera(e){for(let t=0;t<this._cameras.length;++t)if(this._cameras[t]===e)return void this._cameras.splice(t,1)}clearCameras(){this._cameras.length=0}sortCameras(){this._cameras.sort(((e,t)=>e.priority-t.priority))}}class Ky{get device(){return this._device}get mainWindow(){return this._mainWindow}set curWindow(e){this._curWindow=e}get curWindow(){return this._curWindow}set tempWindow(e){this._tempWindow=e}get tempWindow(){return this._tempWindow}get windows(){return this._windows}get pipeline(){return this._pipeline}get batcher2D(){return this._batcher}get scenes(){return this._scenes}get cumulativeTime(){return No.get(this._poolHandle,Io.CUMULATIVE_TIME)}get frameTime(){return No.get(this._poolHandle,Io.FRAME_TIME)}get frameCount(){return this._frameCount}get fps(){return this._fps}set fixedFPS(e){e>0?(this._fixedFPS=e,this._fixedFPSFrameTime=1e3/e):this._fixedFPSFrameTime=0}get fixedFPS(){return this._fixedFPS}get dataPoolManager(){return this._dataPoolMgr}get handle(){return this._poolHandle}get useDeferredPipeline(){return this._useDeferredPipeline}constructor(e){this._createSceneFun=null,this._createWindowFun=null,this._device=void 0,this._windows=[],this._mainWindow=null,this._curWindow=null,this._tempWindow=null,this._pipeline=null,this._batcher=null,this._dataPoolMgr=void 0,this._scenes=[],this._modelPools=new Map,this._cameraPool=null,this._lightPools=new Map,this._fpsTime=0,this._frameCount=0,this._fps=0,this._fixedFPS=0,this._fixedFPSFrameTime=0,this._poolHandle=Hi,this._useDeferredPipeline=!1,this._device=e,this._dataPoolMgr=c.internal.DataPoolManager&&new c.internal.DataPoolManager(e),Yp.registerCreateFunc(this),Jy.registerCreateFunc(this),this._cameraPool=new qn((()=>new Vp(this._device)),4)}initialize(e){this._poolHandle=No.alloc();const t=new us,n=new _s;n.depthStoreOp=ga.DISCARD,n.stencilStoreOp=ga.DISCARD;const i=new hs([t],n);return this._mainWindow=this.createWindow({title:"rootMainWindow",width:this._device.width,height:this._device.height,renderPassInfo:i,swapchainBufferIndices:-1}),this._curWindow=this._mainWindow,Promise.resolve(Eh.initBuiltinRes(this._device)).then((()=>{c.view.on("design-resolution-changed",(()=>{const e=c.game.canvas.width,t=c.game.canvas.height;this.resize(e,t)}),this)}))}destroy(){this.destroyScenes(),this._pipeline&&(this._pipeline.destroy(),this._pipeline=null),this._batcher&&(this._batcher.destroy(),this._batcher=null),this._curWindow=null,this._mainWindow=null,this.dataPoolManager.clear(),this._poolHandle&&(No.free(this._poolHandle),this._poolHandle=Hi)}resize(e,t){this._device.resize(e,t),this._mainWindow.resize(e,t);for(const n of this._windows)n.shouldSyncSizeWithSwapchain&&n.resize(e,t);this._pipeline&&this._pipeline.resize(e,t)}setRenderPipeline(e){if(e instanceof xA&&(this._useDeferredPipeline=!0),e||(e=hA()),this._pipeline=e,!this._pipeline.activate())return!1;const t=c.director.getScene();return t&&t.globals.activate(),this.onGlobalPipelineStateChanged(),!(!this._batcher&&c.internal.Batcher2D&&(this._batcher=new c.internal.Batcher2D(this),!this._batcher.initialize())&&(this.destroy(),1))}onGlobalPipelineStateChanged(){for(let e=0;e<this._scenes.length;e++)this._scenes[e].onGlobalPipelineStateChanged();this._pipeline.pipelineSceneData.initDeferredPassInfo()}activeWindow(e){this._curWindow=e}resetCumulativeTime(){No.set(this._poolHandle,Io.CUMULATIVE_TIME,0)}frameMove(e){No.set(this._poolHandle,Io.FRAME_TIME,e),++this._frameCount,No.set(this._poolHandle,Io.CUMULATIVE_TIME,No.get(this._poolHandle,Io.CUMULATIVE_TIME)+e),this._fpsTime+=e,this._fpsTime>1&&(this._fps=this._frameCount,this._frameCount=0,this._fpsTime=0);for(let e=0;e<this._scenes.length;++e)this._scenes[e].removeBatches();this._batcher&&this._batcher.update();const t=this._windows,n=[];for(let e=0;e<t.length;e++)t[e].extractRenderCameras(n);if(this._pipeline&&n.length>0){this._device.acquire();const e=this._scenes,t=c.director.getTotalFrames();this._batcher&&this._batcher.uploadBuffers();for(let n=0;n<e.length;n++)e[n].update(t);c.director.emit(c.Director.EVENT_BEFORE_COMMIT),n.sort(((e,t)=>e.priority-t.priority)),this._pipeline.render(n),this._device.present()}this._batcher&&this._batcher.reset()}createWindow(e){const t=this._createWindowFun(this);return t.initialize(this.device,e),this._windows.push(t),t}destroyWindow(e){for(let t=0;t<this._windows.length;++t)if(this._windows[t]===e)return e.destroy(),void this._windows.splice(t,1)}destroyWindows(){for(const e of this._windows)e.destroy();this._windows=[]}createScene(e){const t=this._createSceneFun(this);return t.initialize(e),this._scenes.push(t),t}destroyScene(e){for(let t=0;t<this._scenes.length;++t)if(this._scenes[t]===e)return e.destroy(),void this._scenes.splice(t,1)}destroyScenes(){for(const e of this._scenes)e.destroy();this._scenes=[]}createModel(e){let t=this._modelPools.get(e);t||(this._modelPools.set(e,new qn((()=>new e),10)),t=this._modelPools.get(e));const n=t.alloc();return n.initialize(),n}destroyModel(e){const t=this._modelPools.get(e.constructor);t?(t.free(e),e.destroy(),e.scene&&e.scene.removeModel(e)):P(1300,e.constructor.name)}createCamera(){return this._cameraPool.alloc()}createLight(e){let t=this._lightPools.get(e);t||(this._lightPools.set(e,new qn((()=>new e),4)),t=this._lightPools.get(e));const n=t.alloc();return n.initialize(),n}destroyLight(e){const t=this._lightPools.get(e.constructor);if(e.destroy(),t&&(t.free(e),e.scene))switch(e.type){case Lh.SPHERE:e.scene.removeSphereLight(e);break;case Lh.SPOT:e.scene.removeSpotLight(e)}}}c.Root=Ky;const $y={};W($y,"vmath",[{name:"vec2",newName:"Vec2",target:Wn,targetName:"math"},{name:"vec3",newName:"Vec3",target:Wn,targetName:"math"},{name:"vec4",newName:"Vec4",target:Wn,targetName:"math"},{name:"quat",newName:"Quat",target:Wn,targetName:"math"},{name:"mat3",newName:"Mat3",target:Wn,targetName:"math"},{name:"mat4",newName:"Mat4",target:Wn,targetName:"math"},{name:"color4",newName:"Color",target:Wn,targetName:"math"},{name:"rect",newName:"Rect",target:Wn,targetName:"math"},{name:"approx",newName:"approx",target:Wn,targetName:"math"},{name:"EPSILON",newName:"EPSILON",target:Wn,targetName:"math"},{name:"equals",newName:"equals",target:Wn,targetName:"math"},{name:"clamp",newName:"clamp",target:Wn,targetName:"math"},{name:"clamp01",newName:"clamp01",target:Wn,targetName:"math"},{name:"lerp",newName:"lerp",target:Wn,targetName:"math"},{name:"toRadian",newName:"toRadian",target:Wn,targetName:"math"},{name:"toDegree",newName:"toDegree",target:Wn,targetName:"math"},{name:"random",newName:"random",target:Wn,targetName:"math"},{name:"randomRange",newName:"randomRange",target:Wn,targetName:"math"},{name:"randomRangeInt",newName:"randomRangeInt",target:Wn,targetName:"math"},{name:"pseudoRandom",newName:"pseudoRandom",target:Wn,targetName:"math"},{name:"pseudoRandomRangeInt",newName:"pseudoRandomRangeInt",target:Wn,targetName:"math"},{name:"nextPow2",newName:"nextPow2",target:Wn,targetName:"math"},{name:"repeat",newName:"repeat",target:Wn,targetName:"math"},{name:"pingPong",newName:"pingPong",target:Wn,targetName:"math"},{name:"inverseLerp",newName:"inverseLerp",target:Wn,targetName:"math"}]),c.vmath=$y,W(Zy.prototype,"Scheduler.prototype",[{name:"enableForTarget",newName:"enableForTarget",target:Zy,targetName:"Scheduler"}]),W(Jv.prototype,"EventTouch.prototype",[{name:"getUILocationInView",newName:"getLocationInView",target:Jv,targetName:"EventTouch"}]),W(BA.prototype,"SubModel.prototype",[{name:"subMeshData",newName:"subMesh"}]),q(BA.prototype,"SubModel.prototype",[{name:"getSubModel",suggest:"Use `subModels[i]` instead"},{name:"subModelNum",suggest:"Use `subModels.length` instead"}]),W(Ky.prototype,"Root.prototype",[{name:"ui",newName:"batcher2D"}]);var ex=Object.freeze({__proto__:null,ccclass:ou,property:cu,requireComponent:ru,executionOrder:au,disallowMultiple:su,executeInEditMode:_u,menu:fu,playOnFocus:hu,inspector:mu,icon:du,help:vu,type:Mu,integer:Iu,float:Ru,boolean:Nu,string:Du});e("e2",ex);const tx=Xn.Flags.Destroyed,nx=Xn.Flags.PersistentMask,ix=[];function ox(e){let t;if(e instanceof Xn){if(e._instantiate)return c.game._isCloning=!0,t=e._instantiate(null,!0),c.game._isCloning=!1,t;if(e instanceof c.Asset)throw new TypeError(O(6903))}return c.game._isCloning=!0,t=rx(e),c.game._isCloning=!1,t}function rx(e,t){let n;n=e._iN$t?e._iN$t:e.constructor?new(0,e.constructor):Object.create(null),ax(e,n,t);for(let e=0,t=ix.length;e<t;++e)ix[e]._iN$t=null;return ix.length=0,n}function ax(e,t,n){Ye.value(e,"_iN$t",t,!0),ix.push(e);const i=e.constructor;if(c.Class._isCCClass(i))!function(e,t,n,i){const o=e.__values__;for(let e=0;e<o.length;e++){const r=o[e],a=t[r];if("object"==typeof a&&a){const e=n[r];e instanceof $e&&e.constructor===a.constructor?e.set(a):n[r]=a._iN$t||sx(a,i)}else n[r]=a}}(i,e,t,n);else for(const i in e){if(!e.hasOwnProperty(i)||95===i.charCodeAt(0)&&95===i.charCodeAt(1)&&"__type__"!==i)continue;const o=e[i];if("object"==typeof o&&o){if(o===t)continue;t[i]=o._iN$t||sx(o,n)}else t[i]=o}e instanceof Xn&&(t._objFlags&=nx)}function sx(e,t){if(e instanceof $e)return e.clone();if(e instanceof c.Asset)return e;let n;if(ArrayBuffer.isView(e)){const t=e.length;n=new e.constructor(t),e._iN$t=n,ix.push(e);for(let i=0;i<t;++i)n[i]=e[i];return n}if(Array.isArray(e)){const i=e.length;n=new Array(i),e._iN$t=n,ix.push(e);for(let o=0;o<i;++o){const i=e[o];n[o]="object"==typeof i&&i?i._iN$t||sx(i,t):i}return n}if(e._objFlags&tx)return null;const i=e.constructor;if(c.Class._isCCClass(i)){if(t)if(t instanceof c.Component){if(e instanceof c._BaseNode||e instanceof c.Component)return e}else if(t instanceof c._BaseNode)if(e instanceof c._BaseNode){if(!e.isChildOf(t))return e}else if(e instanceof c.Component&&e.node&&!e.node.isChildOf(t))return e;n=new i}else if(i===Object)n={};else{if(i)return e;n=Object.create(null)}return ax(e,n,t),n}var cx,lx,px,ux,_x,fx,hx,mx;let dx,vx;function gx(e,t){return(t<<3)+e}ox._clone=rx,c.instantiate=ox,function(e){e[e.Uint8=0]="Uint8",e[e.Uint16=1]="Uint16",e[e.Uint32=2]="Uint32",e[e.Int8=3]="Int8",e[e.Int16=4]="Int16",e[e.Int32=5]="Int32",e[e.Float32=6]="Float32",e[e.Float64=7]="Float64"}(dx||(dx={})),function(e){e[e.Scalar=0]="Scalar",e[e.Vec2=1]="Vec2",e[e.Vec3=2]="Vec3",e[e.Vec4=3]="Vec4",e[e.Quat=4]="Quat",e[e.Mat4=5]="Mat4"}(vx||(vx={}));let Ax=e("eW",ou("cc.CompactValueTypeArray")((mx=hx=class e{constructor(){Xp(this,"_byteOffset",px,this),Xp(this,"_unitCount",ux,this),Xp(this,"_unitElement",_x,this),Xp(this,"_length",fx,this)}static lengthFor(e,t,n){return yx(t).requiredUnits*e.length*xx(n).BYTES_PER_ELEMENT}static compress(t,n,i,o,r,a){const s=yx(n),c=xx(i),l=s.requiredUnits*t.length,p=new c(o,r,l);for(let e=0;e<t.length;++e)s.compress(p,e,t[e]);const u=new e;return u._unitElement=gx(i,n),u._byteOffset=a,u._unitCount=l,u._length=t.length,u}decompress(e){const{storageUnit:t,elementType:n}={storageUnit:7&(i=this._unitElement),elementType:i>>3};var i;const o=yx(n),r=new(xx(t))(e,this._byteOffset,this._unitCount),a=new Array(this._length);for(let e=0;e<this._length;++e)a[e]=o.decompress(r,e);return a}},hx.StorageUnit=dx,hx.ElementType=vx,px=Qp((lx=mx).prototype,"_byteOffset",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ux=Qp(lx.prototype,"_unitCount",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_x=Qp(lx.prototype,"_unitElement",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gx(dx.Uint8,vx.Scalar)}}),fx=Qp(lx.prototype,"_length",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cx=lx))||cx);function yx(e){return bx[e]}function xx(e){switch(e){case dx.Uint8:return Uint8Array;case dx.Uint16:return Uint16Array;case dx.Uint32:return Uint32Array;case dx.Int8:return Int8Array;case dx.Int16:return Int16Array;case dx.Int32:return Int32Array;case dx.Float32:return Float32Array;case dx.Float64:return Float64Array}}const bx={[vx.Scalar]:{requiredUnits:1,compress(e,t,n){e[t]=n},decompress:(e,t)=>e[t]},[vx.Vec2]:{requiredUnits:2,compress(e,t,n){e[2*t]=n.x,e[2*t+1]=n.y},decompress:(e,t)=>new mn(e[2*t],e[2*t+1])},[vx.Vec3]:{requiredUnits:3,compress(e,t,n){e[3*t]=n.x,e[3*t+1]=n.y,e[3*t+2]=n.z},decompress:(e,t)=>new mn(e[3*t],e[3*t+1],e[3*t+2])},[vx.Vec4]:{requiredUnits:4,compress(e,t,n){e[4*t]=n.x,e[4*t+1]=n.y,e[4*t+2]=n.z,e[4*t+3]=n.w},decompress:(e,t)=>new Bn(e[4*t],e[4*t+1],e[4*t+2],e[4*t+3])},[vx.Quat]:{requiredUnits:4,compress(e,t,n){e[4*t]=n.x,e[4*t+1]=n.y,e[4*t+2]=n.z,e[4*t+3]=n.w},decompress:(e,t)=>new bn(e[4*t],e[4*t+1],e[4*t+2],e[4*t+3])},[vx.Mat4]:{requiredUnits:16,compress(e,t,n){Rn.toArray(e,n,16*t)},decompress:(e,t)=>Rn.fromArray(new Rn,e,16*t)}};var Cx,Sx;c._decorator=ex,q(G_.prototype,"TextureBase.prototype",[{name:"hasPremultipliedAlpha"},{name:"setPremultiplyAlpha"},{name:"setFlipY"}]),W(Gg.prototype,"RenderTexture.prototype",[{name:"getGFXWindow",customFunction(){return this._window}}]);let Ex=e("eX",ou("cc.BufferAsset")((Qp((Sx=class extends u_{constructor(...e){super(...e),this._buffer=null}get _nativeAsset(){return this._buffer}set _nativeAsset(e){e instanceof ArrayBuffer?this._buffer=e:this._buffer=e.buffer}buffer(){return this._buffer}validate(){return!!this.buffer}}).prototype,"_nativeAsset",[Ou],Object.getOwnPropertyDescriptor(Sx.prototype,"_nativeAsset"),Sx.prototype),Cx=Sx))||Cx);c.BufferAsset=Ex;const wx={[$r.UNORM]:"Uint",[$r.SNORM]:"Int",[$r.UINT]:"Uint",[$r.INT]:"Int",[$r.UFLOAT]:"Float",[$r.FLOAT]:"Float",default:"Uint"};function Tx(e){return`${wx[e.type]||wx.default}${e.size/e.count*8}`}const Px=new Array(16);let Ix=null,Rx=new On;const Nx=[om.TOUCH_START.toString(),om.TOUCH_MOVE.toString(),om.TOUCH_END.toString(),om.TOUCH_CANCEL.toString()],Dx=[om.MOUSE_DOWN.toString(),om.MOUSE_ENTER.toString(),om.MOUSE_MOVE.toString(),om.MOUSE_LEAVE.toString(),om.MOUSE_UP.toString(),om.MOUSE_WHEEL.toString()];function Mx(e,t){const n=this.owner;return!(!n||!n._uiProps.uiTransformComp||(e.getUILocation(Rx),!n._uiProps.uiTransformComp.isHit(Rx,this)||(t.type=om.TOUCH_START.toString(),t.touch=e,t.bubbles=!0,n.dispatchEvent(t),0)))}function Ox(e,t){const n=this.owner;return!(!n||!n._uiProps.uiTransformComp||(t.type=om.TOUCH_MOVE.toString(),t.touch=e,t.bubbles=!0,n.dispatchEvent(t),0))}function Lx(e,t){const n=this.owner;n&&n._uiProps.uiTransformComp&&(e.getUILocation(Rx),n._uiProps.uiTransformComp.isHit(Rx,this)?t.type=om.TOUCH_END.toString():t.type=om.TOUCH_CANCEL.toString(),t.touch=e,t.bubbles=!0,n.dispatchEvent(t))}function zx(e,t){const n=this.owner;n&&n._uiProps.uiTransformComp&&(t.type=om.TOUCH_CANCEL.toString(),t.touch=e,t.bubbles=!0,n.dispatchEvent(t))}function Fx(e){const t=this.owner;t&&t._uiProps.uiTransformComp&&(Rx=e.getUILocation(),t._uiProps.uiTransformComp.isHit(Rx,this)&&(e.type=om.MOUSE_DOWN.toString(),e.bubbles=!0,t.dispatchEvent(e)))}function Bx(e){const t=this.owner;if(t&&t._uiProps.uiTransformComp){if(Rx=e.getUILocation(),t._uiProps.uiTransformComp.isHit(Rx,this))this._previousIn||(Ix&&Ix.eventProcessor.mouseListener&&(e.type=om.MOUSE_LEAVE,Ix.dispatchEvent(e),Ix.eventProcessor.mouseListener&&(Ix.eventProcessor.mouseListener._previousIn=!1)),Ix=t,e.type=om.MOUSE_ENTER.toString(),t.dispatchEvent(e),this._previousIn=!0),e.type=om.MOUSE_MOVE.toString(),e.bubbles=!0,t.dispatchEvent(e);else{if(!this._previousIn)return;e.type=om.MOUSE_LEAVE.toString(),t.dispatchEvent(e),this._previousIn=!1,Ix=null}e.propagationStopped=!0}}function Ux(e){const t=this.owner;t&&t._uiProps.uiTransformComp&&(Rx=e.getUILocation(),t._uiProps.uiTransformComp.isHit(Rx,this)&&(e.type=om.MOUSE_UP.toString(),e.bubbles=!0,t.dispatchEvent(e),e.propagationStopped=!0))}function jx(e){const t=this.owner;t&&t._uiProps.uiTransformComp&&(Rx=e.getUILocation(),t._uiProps.uiTransformComp.isHit(Rx,this)&&(e.type=om.MOUSE_WHEEL.toString(),e.bubbles=!0,t.dispatchEvent(e),e.propagationStopped=!0))}function kx(e,t){if(t){let n=0,i=[];for(let o=e;o&&od.isNode(o);o=o.parent,++n){const e=o.getComponent(t);if(e){const t={index:n,comp:e};i?i.push(t):i=[t]}}return i.length>0?i:null}return null}function Gx(e,t){if(!e._persistNode){if(e.eventProcessor.bubblingTargets)for(let n=0;n<t.length;++n)if(e.eventProcessor.bubblingTargets.hasEventListener(t[n]))return!0;if(e.eventProcessor.capturingTargets)for(let n=0;n<t.length;++n)if(e.eventProcessor.capturingTargets.hasEventListener(t[n]))return!0;return!1}return!0}class Hx{get node(){return this._node}constructor(e){this.bubblingTargets=null,this.capturingTargets=null,this.touchListener=null,this.mouseListener=null,this._node=void 0,this._node=e}reattach(){let e;this.node.walk((t=>{e||(e=kx(t,Hx._comp)),t.eventProcessor.touchListener&&(t.eventProcessor.touchListener.mask=e),t.eventProcessor.mouseListener&&(t.eventProcessor.mouseListener.mask=e)}))}destroy(){Ix===this._node&&(Ix=null),(this.touchListener||this.mouseListener)&&(hm.removeListeners(this._node),this.touchListener&&(this.touchListener.owner=null,this.touchListener.mask=null,this.touchListener=null),this.mouseListener&&(this.mouseListener.owner=null,this.mouseListener.mask=null,this.mouseListener=null)),this.capturingTargets&&this.capturingTargets.clear(),this.bubblingTargets&&this.bubblingTargets.clear()}on(e,t,n,i){return this._checknSetupSysEvent(e)?this._onDispatch(e,t,n,i):(this.bubblingTargets||(this.bubblingTargets=new ii),this.bubblingTargets.on(e,t,n))}once(e,t,n,i){let o;o=this._checknSetupSysEvent(e)&&i?this.capturingTargets=this.capturingTargets||new ii:this.bubblingTargets=this.bubblingTargets||new ii,o.on(e,t,n,!0),o.on(e,(()=>{this.off(e,t,n)}),void 0,!0)}off(e,t,n,i){const o=-1!==Nx.indexOf(e),r=!o&&-1!==Dx.indexOf(e);o||r?(this._offDispatch(e,t,n,i),o?this.touchListener&&!Gx(this._node,Nx)&&(hm.removeListener(this.touchListener),this.touchListener=null):r&&this.mouseListener&&!Gx(this._node,Dx)&&(hm.removeListener(this.mouseListener),this.mouseListener=null)):this.bubblingTargets&&this.bubblingTargets.off(e,t,n)}emit(e,t,n,i,o,r){this.bubblingTargets&&this.bubblingTargets.emit(e,t,n,i,o,r)}dispatchEvent(e){!function(e,t){let n,i=0;for(t.target=e,Px.length=0,e.eventProcessor.getCapturingTargets(t.type,Px),t.eventPhase=1,i=Px.length-1;i>=0;--i)if(n=Px[i],n.eventProcessor.capturingTargets&&(t.currentTarget=n,n.eventProcessor.capturingTargets.emit(t.type,t,Px),t.propagationStopped))return void(Px.length=0);if(Px.length=0,t.eventPhase=2,t.currentTarget=e,e.eventProcessor.capturingTargets&&e.eventProcessor.capturingTargets.emit(t.type,t),!t.propagationImmediateStopped&&e.eventProcessor.bubblingTargets&&e.eventProcessor.bubblingTargets.emit(t.type,t),!t.propagationStopped&&t.bubbles)for(e.eventProcessor.getBubblingTargets(t.type,Px),t.eventPhase=3,i=0;i<Px.length;++i)if(n=Px[i],n.eventProcessor.bubblingTargets&&(t.currentTarget=n,n.eventProcessor.bubblingTargets.emit(t.type,t),t.propagationStopped))return void(Px.length=0);Px.length=0}(this._node,e),Px.length=0}hasEventListener(e,t,n){let i=!1;return this.bubblingTargets&&(i=this.bubblingTargets.hasEventListener(e,t,n)),!i&&this.capturingTargets&&(i=this.capturingTargets.hasEventListener(e,t,n)),i}targetOff(e){this.capturingTargets&&this.capturingTargets.removeAll(e),this.bubblingTargets&&this.bubblingTargets.removeAll(e),this.touchListener&&!Gx(this.node,Nx)&&(hm.removeListener(this.touchListener),this.touchListener=null),this.mouseListener&&!Gx(this.node,Dx)&&(hm.removeListener(this.mouseListener),this.mouseListener=null)}getCapturingTargets(e,t){let n=this._node.parent;for(;n;)n.eventProcessor.capturingTargets&&n.eventProcessor.capturingTargets.hasEventListener(e)&&t.push(n),n=n.parent}getBubblingTargets(e,t){let n=this._node.parent;for(;n;)n.eventProcessor.bubblingTargets&&n.eventProcessor.bubblingTargets.hasEventListener(e)&&t.push(n),n=n.parent}_checknSetupSysEvent(e){let t=!1,n=!1;return-1!==Nx.indexOf(e)?(this.touchListener||(this.touchListener=c.EventListener.create({event:c.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!0,owner:this._node,mask:kx(this._node,Hx._comp),onTouchBegan:Mx,onTouchMoved:Ox,onTouchEnded:Lx,onTouchCancelled:zx}),hm.addListener(this.touchListener,this._node),t=!0),n=!0):-1!==Dx.indexOf(e)&&(this.mouseListener||(this.mouseListener=c.EventListener.create({event:c.EventListener.MOUSE,_previousIn:!1,owner:this._node,mask:kx(this._node,Hx._comp),onMouseDown:Fx,onMouseMove:Bx,onMouseUp:Ux,onMouseScroll:jx}),hm.addListener(this.mouseListener,this._node),t=!0),n=!0),t&&!this._node.activeInHierarchy&&c.director.getScheduler().schedule((()=>{this._node.activeInHierarchy||hm.pauseTarget(this._node)}),this._node,0,0,0,!1),n}_onDispatch(e,t,n,i){if("boolean"==typeof n?(i=n,n=void 0):i=!!i,!t)return void R(6800);let o=null;return o=i?this.capturingTargets=this.capturingTargets||new ii:this.bubblingTargets=this.bubblingTargets||new ii,o.hasEventListener(e,t,n)||o.on(e,t,n),t}_offDispatch(e,t,n,i){if("boolean"==typeof n?(i=n,n=void 0):i=!!i,t){const o=i?this.capturingTargets:this.bubblingTargets;o&&o.off(e,t,n)}else this.capturingTargets&&this.capturingTargets.removeAll(e),this.bubblingTargets&&this.bubblingTargets.removeAll(e)}}var Vx;e("cW",Hx),Hx._comp=null,c.NodeEventProcessor=Hx,W(Im.prototype,"BaseNode",[{name:"childrenCount",newName:"children.length",customGetter(){return this.children.length}}]),W(od.prototype,"Node",[{name:"width",targetName:"node.getComponent(UITransform)",customGetter(){return this._uiProps.uiTransformComp.width},customSetter(e){this._uiProps.uiTransformComp.width=e}},{name:"height",targetName:"node.getComponent(UITransform)",customGetter(){return this._uiProps.uiTransformComp.height},customSetter(e){this._uiProps.uiTransformComp.height=e}},{name:"anchorX",targetName:"node.getComponent(UITransform)",customGetter(){return this._uiProps.uiTransformComp.anchorX},customSetter(e){this._uiProps.uiTransformComp.anchorX=e}},{name:"anchorY",targetName:"node.getComponent(UITransform)",customGetter(){return this._uiProps.uiTransformComp.anchorY},customSetter(e){this._uiProps.uiTransformComp.anchorY=e}},{name:"getAnchorPoint",targetName:"node.getComponent(UITransform)",customFunction(e){return e||(e=new On),e.set(this._uiProps.uiTransformComp.anchorPoint),e}},{name:"setAnchorPoint",targetName:"node.getComponent(UITransform)",customFunction(e,t){this._uiProps.uiTransformComp.setAnchorPoint(e,t)}},{name:"getContentSize",targetName:"node.getComponent(UITransform)",customFunction(e){return e||(e=new kn),e.set(this._uiProps.uiTransformComp.contentSize),e}},{name:"setContentSize",targetName:"node.getComponent(UITransform)",customFunction(e,t){"number"==typeof e?this._uiProps.uiTransformComp.setContentSize(e,t):this._uiProps.uiTransformComp.setContentSize(e)}}]),q(od.prototype,"Node.prototype",[{name:"addLayer"},{name:"removeLayer"}]),q(Al,"Layers",[{name:"All"},{name:"RaycastMask"},{name:"check"}]),W(Al,"Layers",[{name:"Default",newName:"DEFAULT",target:Al.Enum,targetName:"Layers.Enum"},{name:"Always",newName:"ALWAYS",target:Al.Enum,targetName:"Layers.Enum"},{name:"IgnoreRaycast",newName:"IGNORE_RAYCAST",target:Al.Enum,targetName:"Layers.Enum"},{name:"Gizmos",newName:"GIZMOS",target:Al.Enum,targetName:"Layers.Enum"},{name:"Editor",newName:"EDITOR",target:Al.Enum,targetName:"Layers.Enum"},{name:"UI",newName:"UI_3D",target:Al.Enum,targetName:"Layers.Enum"},{name:"UI2D",newName:"UI_2D",target:Al.Enum,targetName:"Layers.Enum"},{name:"SceneGizmo",newName:"SCENE_GIZMO",target:Al.Enum,targetName:"Layers.Enum"},{name:"makeInclusiveMask",newName:"makeMaskInclude",target:Al,targetName:"Layers"},{name:"makeExclusiveMask",newName:"makeMaskExclude",target:Al,targetName:"Layers"}]),q(Al.Enum,"Layers.Enum",[{name:"ALWAYS"}]),q(Al.BitMask,"Layers.BitMask",[{name:"ALWAYS"}]);const Wx=Xn.Flags.HideInHierarchy,qx=Xn.Flags.DontSave;let Yx=e("fF",ou("cc.PrivateNode")(Vx=class extends od{constructor(e){super(e),P(12003,this.name),this.hideFlags|=qx|Wx}})||Vx);var Xx,Qx,Zx,Jx,Kx,$x,eb,tb,nb,ib,ob,rb,ab,sb,cb,lb,pb,ub,_b,fb,hb,mb,db,vb,gb,Ab,yb,xb,bb,Cb,Sb,Eb,wb,Tb,Pb,Ib,Rb,Nb,Db,Mb,Ob,Lb,zb,Fb,Bb,Ub,jb,kb,Gb,Hb,Vb,Wb,qb,Yb,Xb,Qb,Zb,Jb,Kb,$b,eC,tC,nC,iC,oC,rC,aC,sC,cC,lC,pC,uC,_C,fC,hC,mC,dC,vC,gC,AC,yC,xC,bC,CC,SC,EC,wC,TC,PC,IC,RC,NC,DC,MC,OC,LC,zC,FC,BC,UC,jC,kC,GC,HC,VC,WC,qC,YC,XC,QC,ZC,JC,KC,$C,eS;c.PrivateNode=Yx;const tS=new mn(0,1,0),nS=new mn,iS=new bn;let oS=(Xx=ou("cc.AmbientInfo"),Qx=Mu(xt),Xx((Kx=Qp((Jx=class{constructor(){Xp(this,"_skyColor",Kx,this),Xp(this,"_skyIllum",$x,this),Xp(this,"_groundAlbedo",eb,this),this._resource=null}set skyColor(e){this._skyColor.set(e),this._resource&&(this._resource.skyColor=this._skyColor)}get skyColor(){return this._skyColor}set skyIllum(e){this._skyIllum=e,this._resource&&(this._resource.skyIllum=this.skyIllum)}get skyIllum(){return this._skyIllum}set groundAlbedo(e){this._groundAlbedo.set(e),this._resource&&(this._resource.groundAlbedo=this._groundAlbedo)}get groundAlbedo(){return this._groundAlbedo}activate(e){this._resource=e,this._resource.initialize(this)}}).prototype,"_skyColor",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new fn(51,128,204,1)}}),$x=Qp(Jx.prototype,"_skyIllum",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cr.SKY_ILLUM}}),eb=Qp(Jx.prototype,"_groundAlbedo",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new fn(51,51,51,255)}}),Qp(Jx.prototype,"skyColor",[gu],Object.getOwnPropertyDescriptor(Jx.prototype,"skyColor"),Jx.prototype),Qp(Jx.prototype,"skyIllum",[gu,Qx],Object.getOwnPropertyDescriptor(Jx.prototype,"skyIllum"),Jx.prototype),Qp(Jx.prototype,"groundAlbedo",[gu],Object.getOwnPropertyDescriptor(Jx.prototype,"groundAlbedo"),Jx.prototype),Zx=Jx))||Zx);c.AmbientInfo=oS;let rS=(tb=ou("cc.SkyboxInfo"),nb=Mu(Jf),ib=Mu(Jf),tb((ab=Qp((rb=class{constructor(){Xp(this,"_envmap",ab,this),Xp(this,"_isRGBE",sb,this),Xp(this,"_enabled",cb,this),Xp(this,"_useIBL",lb,this),this._resource=null}set enabled(e){this._enabled!==e&&(this._enabled=e,this._resource&&(this._resource.enabled=this._enabled))}get enabled(){return this._enabled}set useIBL(e){this._useIBL=e,this._resource&&(this._resource.useIBL=this._useIBL)}get useIBL(){return this._useIBL}set envmap(e){this._envmap=e,this._resource&&(this._resource.envmap=this._envmap)}get envmap(){return this._envmap}set isRGBE(e){this._isRGBE=e,this._resource&&(this._resource.isRGBE=this._isRGBE)}get isRGBE(){return this._isRGBE}activate(e){this._resource=e,this._resource.initialize(this),this._resource.activate()}}).prototype,"_envmap",[nb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sb=Qp(rb.prototype,"_isRGBE",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cb=Qp(rb.prototype,"_enabled",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lb=Qp(rb.prototype,"_useIBL",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qp(rb.prototype,"enabled",[gu],Object.getOwnPropertyDescriptor(rb.prototype,"enabled"),rb.prototype),Qp(rb.prototype,"useIBL",[gu],Object.getOwnPropertyDescriptor(rb.prototype,"useIBL"),rb.prototype),Qp(rb.prototype,"envmap",[gu,ib],Object.getOwnPropertyDescriptor(rb.prototype,"envmap"),rb.prototype),Qp(rb.prototype,"isRGBE",[gu],Object.getOwnPropertyDescriptor(rb.prototype,"isRGBE"),rb.prototype),ob=rb))||ob);c.SkyboxInfo=rS;let aS=(pb=ou("cc.FogInfo"),ub=Mu(dg),_b=Au(),fb=Mu(xt),hb=bu(),mb=Eu(),db=Tu(),vb=Au(),gb=Mu(xt),Ab=Eu(),yb=Tu(),xb=Au(),bb=Mu(xt),Cb=Eu(),Sb=Tu(),Eb=Au(),wb=Mu(xt),Tb=Cu(),Pb=Eu(),Ib=Tu(),Rb=Au(),Nb=Mu(xt),Db=Eu(),Mb=Tu(),Ob=Au(),Lb=Mu(xt),zb=Eu(),Fb=Tu(),pb((Zb=Qb=class{constructor(){Xp(this,"_type",jb,this),Xp(this,"_fogColor",kb,this),Xp(this,"_enabled",Gb,this),Xp(this,"_fogDensity",Hb,this),Xp(this,"_fogStart",Vb,this),Xp(this,"_fogEnd",Wb,this),Xp(this,"_fogAtten",qb,this),Xp(this,"_fogTop",Yb,this),Xp(this,"_fogRange",Xb,this),this._resource=null}set enabled(e){this._enabled!==e&&(this._enabled=e,this._resource&&(this._resource.enabled=e,e&&(this._resource.type=this._type)))}get enabled(){return this._enabled}set fogColor(e){this._fogColor.set(e),this._resource&&(this._resource.fogColor=this._fogColor)}get fogColor(){return this._fogColor}get type(){return this._type}set type(e){this._type=e,this._resource&&(this._resource.type=e)}get fogDensity(){return this._fogDensity}set fogDensity(e){this._fogDensity=e,this._resource&&(this._resource.fogDensity=e)}get fogStart(){return this._fogStart}set fogStart(e){this._fogStart=e,this._resource&&(this._resource.fogStart=e)}get fogEnd(){return this._fogEnd}set fogEnd(e){this._fogEnd=e,this._resource&&(this._resource.fogEnd=e)}get fogAtten(){return this._fogAtten}set fogAtten(e){this._fogAtten=e,this._resource&&(this._resource.fogAtten=e)}get fogTop(){return this._fogTop}set fogTop(e){this._fogTop=e,this._resource&&(this._resource.fogTop=e)}get fogRange(){return this._fogRange}set fogRange(e){this._fogRange=e,this._resource&&(this._resource.fogRange=e)}activate(e){this._resource=e,this._resource.initialize(this),this._resource.activate()}},Qb.FogType=dg,jb=Qp((Ub=Zb).prototype,"_type",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dg.LINEAR}}),kb=Qp(Ub.prototype,"_fogColor",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new fn("#C8C8C8")}}),Gb=Qp(Ub.prototype,"_enabled",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hb=Qp(Ub.prototype,"_fogDensity",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),Vb=Qp(Ub.prototype,"_fogStart",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Wb=Qp(Ub.prototype,"_fogEnd",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),qb=Qp(Ub.prototype,"_fogAtten",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),Yb=Qp(Ub.prototype,"_fogTop",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),Xb=Qp(Ub.prototype,"_fogRange",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),Qp(Ub.prototype,"enabled",[gu],Object.getOwnPropertyDescriptor(Ub.prototype,"enabled"),Ub.prototype),Qp(Ub.prototype,"fogColor",[gu],Object.getOwnPropertyDescriptor(Ub.prototype,"fogColor"),Ub.prototype),Qp(Ub.prototype,"type",[gu,ub],Object.getOwnPropertyDescriptor(Ub.prototype,"type"),Ub.prototype),Qp(Ub.prototype,"fogDensity",[_b,fb,hb,mb,wu,db],Object.getOwnPropertyDescriptor(Ub.prototype,"fogDensity"),Ub.prototype),Qp(Ub.prototype,"fogStart",[vb,gb,Ab,yb],Object.getOwnPropertyDescriptor(Ub.prototype,"fogStart"),Ub.prototype),Qp(Ub.prototype,"fogEnd",[xb,bb,Cb,Sb],Object.getOwnPropertyDescriptor(Ub.prototype,"fogEnd"),Ub.prototype),Qp(Ub.prototype,"fogAtten",[Eb,wb,Tb,Pb,Ib],Object.getOwnPropertyDescriptor(Ub.prototype,"fogAtten"),Ub.prototype),Qp(Ub.prototype,"fogTop",[Rb,Nb,Db,Mb],Object.getOwnPropertyDescriptor(Ub.prototype,"fogTop"),Ub.prototype),Qp(Ub.prototype,"fogRange",[Ob,Lb,zb,Fb],Object.getOwnPropertyDescriptor(Ub.prototype,"fogRange"),Ub.prototype),Bb=Ub))||Bb),sS=(Jb=ou("cc.ShadowsInfo"),Kb=Mu(oA),$b=Au(),eC=Mu(xt),tC=Au(),nC=Mu(rA),iC=Au(),oC=Mu(yt),rC=Au(),aC=Mu(xt),sC=Au(),cC=Mu(bt),lC=Au(),pC=Mu(bt),uC=Au(),_C=Mu(bt),fC=Au(),hC=Mu(xt),mC=Au(),dC=Mu(bt),vC=Au(),gC=Mu(xt),AC=Au(),yC=Mu(xt),xC=Au(),bC=Mu(xt),CC=Au(),SC=Au(),EC=Mu(xt),wC=Au(),Jb((IC=Qp((PC=class{constructor(){Xp(this,"_type",IC,this),Xp(this,"_enabled",RC,this),Xp(this,"_normal",NC,this),Xp(this,"_distance",DC,this),Xp(this,"_shadowColor",MC,this),Xp(this,"_autoAdapt",OC,this),Xp(this,"_pcf",LC,this),Xp(this,"_bias",zC,this),Xp(this,"_packing",FC,this),Xp(this,"_linear",BC,this),Xp(this,"_selfShadow",UC,this),Xp(this,"_normalBias",jC,this),Xp(this,"_near",kC,this),Xp(this,"_far",GC,this),Xp(this,"_aspect",HC,this),Xp(this,"_orthoSize",VC,this),Xp(this,"_maxReceived",WC,this),Xp(this,"_size",qC,this),this._resource=null}set enabled(e){this._enabled!==e&&(this._enabled=e,this._resource&&(this._resource.enabled=e,e&&(this._resource.type=this._type)))}get enabled(){return this._enabled}set type(e){this._type=e,this._resource&&(this._resource.type=e)}get type(){return this._type}set shadowColor(e){this._shadowColor.set(e),this._resource&&(this._resource.shadowColor=e)}get shadowColor(){return this._shadowColor}set normal(e){mn.copy(this._normal,e),this._resource&&(this._resource.normal=e)}get normal(){return this._normal}set distance(e){this._distance=e,this._resource&&(this._resource.distance=e)}get distance(){return this._distance}set pcf(e){this._pcf=e,this._resource&&(this._resource.pcf=e)}get pcf(){return this._pcf}set maxReceived(e){this._maxReceived=e,this._resource&&(this._resource.maxReceived=e)}get maxReceived(){return this._maxReceived}set bias(e){this._bias=e,this._resource&&(this._resource.bias=e)}get bias(){return this._bias}set packing(e){this._packing=e,e&&(this._linear=!this._linear&&this._linear,this._resource&&(this._resource.linear=this._linear)),this._resource&&(this._resource.packing=e,this._resource.shadowMapDirty=!0)}get packing(){return this._packing}set linear(e){this._linear=e,e&&(this._packing=!this._packing&&this._packing,this._resource&&(this._resource.packing=this._packing)),this._resource&&(this._resource.linear=e)}get linear(){return this._linear}set selfShadow(e){this._selfShadow=e,this._resource&&(this._resource.selfShadow=e)}get selfShadow(){return this._selfShadow}set normalBias(e){this._normalBias=e,this._resource&&(this._resource.normalBias=e)}get normalBias(){return this._normalBias}set autoAdapt(e){this._autoAdapt=e,this._resource&&(this._resource.autoAdapt=e)}get autoAdapt(){return this._autoAdapt}set near(e){this._near=e,this._resource&&(this._resource.near=e)}get near(){return this._near}set far(e){this._far=e,this._resource&&(this._resource.far=e)}get far(){return this._far}set orthoSize(e){this._orthoSize=e,this._resource&&(this._resource.orthoSize=e)}get orthoSize(){return this._orthoSize}set shadowMapSize(e){this._size.set(e),this._resource&&(this._resource.size=e,this._resource.shadowMapDirty=!0)}get shadowMapSize(){return this._size}set aspect(e){this._aspect=e,this._resource&&(this._resource.aspect=e)}get aspect(){return this._aspect}setPlaneFromNode(e){e.getWorldRotation(iS),this.normal=mn.transformQuat(nS,tS,iS),e.getWorldPosition(nS),this.distance=mn.dot(this._normal,nS)}activate(e){this._resource=e,this._resource.initialize(this),this._resource.activate()}}).prototype,"_type",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oA.Planar}}),RC=Qp(PC.prototype,"_enabled",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),NC=Qp(PC.prototype,"_normal",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new mn(0,1,0)}}),DC=Qp(PC.prototype,"_distance",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),MC=Qp(PC.prototype,"_shadowColor",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new fn(0,0,0,76)}}),OC=Qp(PC.prototype,"_autoAdapt",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),LC=Qp(PC.prototype,"_pcf",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rA.HARD}}),zC=Qp(PC.prototype,"_bias",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e-5}}),FC=Qp(PC.prototype,"_packing",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),BC=Qp(PC.prototype,"_linear",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),UC=Qp(PC.prototype,"_selfShadow",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jC=Qp(PC.prototype,"_normalBias",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kC=Qp(PC.prototype,"_near",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),GC=Qp(PC.prototype,"_far",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),HC=Qp(PC.prototype,"_aspect",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),VC=Qp(PC.prototype,"_orthoSize",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),WC=Qp(PC.prototype,"_maxReceived",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),qC=Qp(PC.prototype,"_size",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new On(512,512)}}),Qp(PC.prototype,"enabled",[gu],Object.getOwnPropertyDescriptor(PC.prototype,"enabled"),PC.prototype),Qp(PC.prototype,"type",[gu,Kb],Object.getOwnPropertyDescriptor(PC.prototype,"type"),PC.prototype),Qp(PC.prototype,"shadowColor",[gu],Object.getOwnPropertyDescriptor(PC.prototype,"shadowColor"),PC.prototype),Qp(PC.prototype,"normal",[$b],Object.getOwnPropertyDescriptor(PC.prototype,"normal"),PC.prototype),Qp(PC.prototype,"distance",[eC,tC],Object.getOwnPropertyDescriptor(PC.prototype,"distance"),PC.prototype),Qp(PC.prototype,"pcf",[nC,iC],Object.getOwnPropertyDescriptor(PC.prototype,"pcf"),PC.prototype),Qp(PC.prototype,"maxReceived",[oC,rC],Object.getOwnPropertyDescriptor(PC.prototype,"maxReceived"),PC.prototype),Qp(PC.prototype,"bias",[aC,sC],Object.getOwnPropertyDescriptor(PC.prototype,"bias"),PC.prototype),Qp(PC.prototype,"packing",[cC,lC],Object.getOwnPropertyDescriptor(PC.prototype,"packing"),PC.prototype),Qp(PC.prototype,"linear",[pC,uC],Object.getOwnPropertyDescriptor(PC.prototype,"linear"),PC.prototype),Qp(PC.prototype,"selfShadow",[_C,fC],Object.getOwnPropertyDescriptor(PC.prototype,"selfShadow"),PC.prototype),Qp(PC.prototype,"normalBias",[hC,mC],Object.getOwnPropertyDescriptor(PC.prototype,"normalBias"),PC.prototype),Qp(PC.prototype,"autoAdapt",[dC,vC],Object.getOwnPropertyDescriptor(PC.prototype,"autoAdapt"),PC.prototype),Qp(PC.prototype,"near",[gC,AC],Object.getOwnPropertyDescriptor(PC.prototype,"near"),PC.prototype),Qp(PC.prototype,"far",[yC,xC],Object.getOwnPropertyDescriptor(PC.prototype,"far"),PC.prototype),Qp(PC.prototype,"orthoSize",[bC,CC],Object.getOwnPropertyDescriptor(PC.prototype,"orthoSize"),PC.prototype),Qp(PC.prototype,"shadowMapSize",[SC],Object.getOwnPropertyDescriptor(PC.prototype,"shadowMapSize"),PC.prototype),Qp(PC.prototype,"aspect",[EC,wC],Object.getOwnPropertyDescriptor(PC.prototype,"aspect"),PC.prototype),TC=PC))||TC);c.ShadowsInfo=sS;let cS=(YC=ou("cc.SceneGlobals"),XC=Mu(rS),YC((JC=Qp((ZC=class{constructor(){Xp(this,"ambient",JC,this),Xp(this,"shadows",KC,this),Xp(this,"_skybox",$C,this),Xp(this,"fog",eS,this)}get skybox(){return this._skybox}set skybox(e){this._skybox=e}activate(){const e=c.director.root.pipeline.pipelineSceneData;this.ambient.activate(e.ambient),this.skybox.activate(e.skybox),this.shadows.activate(e.shadows),this.fog.activate(e.fog)}}).prototype,"ambient",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new oS}}),KC=Qp(ZC.prototype,"shadows",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new sS}}),$C=Qp(ZC.prototype,"_skybox",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new rS}}),eS=Qp(ZC.prototype,"fog",[gu,lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new aS}}),Qp(ZC.prototype,"skybox",[gu,XC],Object.getOwnPropertyDescriptor(ZC.prototype,"skybox"),ZC.prototype),QC=ZC))||QC);var lS,pS,uS,_S;c.SceneGlobals=cS;let fS=e("dA",ou("cc.Scene")((Qp((pS=class extends Im{get renderScene(){return this._renderScene}get globals(){return this._globals}_updateScene(){this._scene=this}constructor(e){super(e),Xp(this,"autoReleaseAssets",uS,this),Xp(this,"_globals",_S,this),this._renderScene=null,this.dependAssets=null,this._inited=void 0,this._prefabSyncedInLiveReload=!1,this._pos=mn.ZERO,this._rot=bn.IDENTITY,this._scale=mn.ONE,this._mat=Rn.IDENTITY,this._dirtyFlags=0,this._activeInHierarchy=!1,c.director&&c.director.root&&(this._renderScene=c.director.root.createScene({})),this._inited=!c.game||!c.game._isCloning}destroy(){const e=Xn.prototype.destroy.call(this);if(e){const e=this._children;for(let t=0;t<e.length;++t)e[t].active=!1}return c.director.root.destroyScene(this._renderScene),this._active=!1,this._activeInHierarchy=!1,e}addComponent(){throw new Error(O(3822))}_onHierarchyChanged(){}_onBatchCreated(e){super._onBatchCreated(e);const t=this._children.length;for(let n=0;n<t;++n)this.children[n]._siblingIndex=n,this._children[n]._onBatchCreated(e);Fm(this)}getPosition(e){return mn.copy(e||new mn,mn.ZERO)}getRotation(e){return bn.copy(e||new bn,bn.IDENTITY)}getScale(e){return mn.copy(e||new mn,mn.ONE)}getWorldPosition(e){return mn.copy(e||new mn,mn.ZERO)}getWorldRotation(e){return bn.copy(e||new bn,bn.IDENTITY)}getWorldScale(e){return mn.copy(e||new mn,mn.ONE)}getWorldMatrix(e){return Rn.copy(e||new Rn,Rn.IDENTITY)}getWorldRS(e){return Rn.copy(e||new Rn,Rn.IDENTITY)}getWorldRT(e){return Rn.copy(e||new Rn,Rn.IDENTITY)}get position(){return mn.ZERO}get worldPosition(){return mn.ZERO}get rotation(){return bn.IDENTITY}get worldRotation(){return bn.IDENTITY}get scale(){return mn.ONE}get worldScale(){return mn.ONE}get eulerAngles(){return mn.ZERO}get worldMatrix(){return Rn.IDENTITY}updateWorldTransform(){}_instantiate(){}_load(){this._inited||(this._onBatchCreated(i),this._inited=!0),this.walk(Im._setScene)}_activate(e){e=!1!==e,c.director._nodeActivator.activateNode(this,e),this._globals.activate()}}).prototype,"globals",[gu],Object.getOwnPropertyDescriptor(pS.prototype,"globals"),pS.prototype),uS=Qp(pS.prototype,"autoReleaseAssets",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_S=Qp(pS.prototype,"_globals",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new cS}}),lS=pS))||lS);function hS(e,t){if(!t){const e=c.director.getScene();if(!e)return null;t=e}return t.getChildByPath(e)}c.Scene=fS,c.find=hS;const mS=qe.fastRemoveAt,dS=Xn.Flags.IsStartCalled,vS=Xn.Flags.IsOnEnableCalled;function gS(e,t){const n=t.constructor._executionOrder,i=t._id;let o=0;for(let t=e.length-1,r=t>>>1;o<=t;r=o+t>>>1){const a=e[r],s=a.constructor._executionOrder;if(s>n)t=r-1;else if(s<n)o=r+1;else{const e=a._id;if(e>i)t=r-1;else{if(!(e<i))return r;o=r+1}}}return~o}function AS(e,t){const n=e.array;let i=e.i+1;for(;i<n.length;){const o=n[i];o.node._activeInHierarchy?++i:(e.removeAt(i),t&&(o._objFlags&=~t))}}Xn.Flags.IsEditorOnEnableCalled;class yS{constructor(e){this._zero=void 0,this._neg=void 0,this._pos=void 0,this._invoke=void 0;const t=ee;this._zero=new t([]),this._neg=new t([]),this._pos=new t([]),this._invoke=e}}function xS(e,t){return e.constructor._executionOrder-t.constructor._executionOrder}yS.stableRemoveInactive=AS;class bS extends yS{add(e){const t=e.constructor._executionOrder;(0===t?this._zero:t<0?this._neg:this._pos).array.push(e)}remove(e){const t=e.constructor._executionOrder;(0===t?this._zero:t<0?this._neg:this._pos).fastRemove(e)}cancelInactive(e){AS(this._zero,e),AS(this._neg,e),AS(this._pos,e)}invoke(){const e=this._neg;e.array.length>0&&(e.array.sort(xS),this._invoke(e),e.array.length=0),this._invoke(this._zero),this._zero.array.length=0;const t=this._pos;t.array.length>0&&(t.array.sort(xS),this._invoke(t),t.array.length=0)}}class CS extends yS{add(e){const t=e.constructor._executionOrder;if(0===t)this._zero.array.push(e);else{const n=t<0?this._neg.array:this._pos.array,i=gS(n,e);i<0&&n.splice(~i,0,e)}}remove(e){const t=e.constructor._executionOrder;if(0===t)this._zero.fastRemove(e);else{const n=t<0?this._neg:this._pos,i=gS(n.array,e);i>=0&&n.removeAt(i)}}invoke(e){this._neg.array.length>0&&this._invoke(this._neg,e),this._invoke(this._zero,e),this._pos.array.length>0&&this._invoke(this._pos,e)}}function SS(e,t,n){const i=`var a=it.array;for(it.i=0;it.i<a.length;++it.i){var c=a[it.i];${e}}`,o=t?Function("it","dt",i):Function("it",i);return function(e,t,n){return(i,o)=>{try{t(i,o)}catch(t){c._throw(t);const r=i.array;for(n&&(r[i.i]._objFlags|=n),++i.i;i.i<r.length;++i.i)try{e(r[i.i],o)}catch(e){c._throw(e),n&&(r[i.i]._objFlags|=n)}}}}(Function("c","dt",e),o,n)}const ES=SS(`c.start();c._objFlags|=${dS}`,!1,dS),wS=SS("c.update(dt)",!0),TS=SS("c.lateUpdate(dt)",!0),PS=e=>{const t=c.director._compScheduler,n=e.array;for(e.i=0;e.i<n.length;++e.i){const i=n[e.i];i._enabled&&(i.onEnable(),!i.node._activeInHierarchy||t._onEnabled(i))}};class IS{constructor(){this._deferredComps=[],this.unscheduleAll()}unscheduleAll(){this.startInvoker=new bS(ES),this.updateInvoker=new CS(wS),this.lateUpdateInvoker=new CS(TS),this._updating=!1}_onEnabled(e){c.director.getScheduler().resumeTarget(e),e._objFlags|=vS,this._updating?this._deferredComps.push(e):this._scheduleImmediate(e)}_onDisabled(e){c.director.getScheduler().pauseTarget(e),e._objFlags&=~vS;const t=this._deferredComps.indexOf(e);t>=0?mS(this._deferredComps,t):(!e.start||e._objFlags&dS||this.startInvoker.remove(e),e.update&&this.updateInvoker.remove(e),e.lateUpdate&&this.lateUpdateInvoker.remove(e))}enableComp(e,t){if(!(e._objFlags&vS)){if(e.onEnable){if(t)return void t.add(e);if(e.onEnable(),!e.node._activeInHierarchy)return}this._onEnabled(e)}}disableComp(e){e._objFlags&vS&&(e.onDisable&&e.onDisable(),this._onDisabled(e))}startPhase(){this._updating=!0,this.startInvoker.invoke(),this._startForNewComps()}updatePhase(e){this.updateInvoker.invoke(e)}lateUpdatePhase(e){this.lateUpdateInvoker.invoke(e),this._updating=!1,this._startForNewComps()}_startForNewComps(){this._deferredComps.length>0&&(this._deferredSchedule(),this.startInvoker.invoke())}_scheduleImmediate(e){"function"!=typeof e.start||e._objFlags&dS||this.startInvoker.add(e),"function"==typeof e.update&&this.updateInvoker.add(e),"function"==typeof e.lateUpdate&&this.lateUpdateInvoker.add(e)}_deferredSchedule(){const e=this._deferredComps;for(let t=0,n=e.length;t<n;t++)this._scheduleImmediate(e[t]);e.length=0}}const RS=Xn.Flags.IsPreloadStarted,NS=Xn.Flags.IsOnLoadStarted,DS=Xn.Flags.IsOnLoadCalled,MS=Xn.Flags.Deactivating;class OS extends yS{add(e){this._zero.array.push(e)}remove(e){this._zero.fastRemove(e)}cancelInactive(e){yS.stableRemoveInactive(this._zero,e)}invoke(){this._invoke(this._zero),this._zero.array.length=0}}const LS=SS("c.__preload();"),zS=SS(`c.onLoad();c._objFlags|=${DS}`,!1,DS),FS=new We(4);function BS(e,t,n){t?e._removeComponent(t):qe.removeAt(e._components,n)}FS.get=function(){const e=this._get()||{preload:new OS(LS),onLoad:new bS(zS),onEnable:new bS(PS)};e.preload._zero.i=-1;let t=e.onLoad;return t._zero.i=-1,t._neg.i=-1,t._pos.i=-1,t=e.onEnable,t._zero.i=-1,t._neg.i=-1,t._pos.i=-1,e};class US{constructor(){this.resetComp=void 0,this.reset()}reset(){this._activatingStack=[]}activateNode(e,t){if(t){const t=FS.get();this._activatingStack.push(t),this._activateNodeRecursively(e,t.preload,t.onLoad,t.onEnable),t.preload.invoke(),t.onLoad.invoke(),t.onEnable.invoke(),this._activatingStack.pop(),FS.put(t)}else{this._deactivateNodeRecursively(e);const t=this._activatingStack;for(const e of t)e.preload.cancelInactive(RS),e.onLoad.cancelInactive(NS),e.onEnable.cancelInactive()}e.emit("active-in-hierarchy-changed",e)}activateComp(e,t,n,i){if(Zn(e,!0)&&(e._objFlags&RS||(e._objFlags|=RS,e.__preload&&(t?t.add(e):e.__preload())),e._objFlags&NS||(e._objFlags|=NS,e.onLoad?n?n.add(e):(e.onLoad(),e._objFlags|=DS):e._objFlags|=DS),e._enabled)){if(!e.node._activeInHierarchy)return;c.director._compScheduler.enableComp(e,i)}}destroyComp(e){c.director._compScheduler.disableComp(e),e.onDestroy&&e._objFlags&DS&&e.onDestroy()}_activateNodeRecursively(e,t,n,i){if(e._objFlags&MS)return void R(3816,e.name);e._activeInHierarchy=!0;let o=e._components.length;for(let r=0;r<o;++r){const a=e._components[r];a instanceof c.Component?this.activateComp(a,t,n,i):(BS(e,a,r),--r,--o)}e._childArrivalOrder=e._children.length;for(let o=0,r=e._children.length;o<r;++o){const r=e._children[o];r._active&&this._activateNodeRecursively(r,t,n,i)}e._onPostActivated(!0)}_deactivateNodeRecursively(e){e._objFlags|=MS,e._activeInHierarchy=!1;const t=e._components.length;for(let n=0;n<t;++n){const t=e._components[n];if(t._enabled&&(c.director._compScheduler.disableComp(t),e._activeInHierarchy))return void(e._objFlags&=~MS)}for(let t=0,n=e._children.length;t<n;++t){const n=e._children[t];if(n._activeInHierarchy&&(this._deactivateNodeRecursively(n),e._activeInHierarchy))return void(e._objFlags&=~MS)}e._onPostActivated(!1),e._objFlags&=~MS}}var jS,kS,GS;e("fE",US);let HS=e("eZ",ou("cc.SceneAsset")((GS=Qp((kS=class extends u_{constructor(...e){super(...e),Xp(this,"scene",GS,this)}initDefault(e){super.initDefault(e),this.scene=new fS("New Scene")}validate(){return!!this.scene}}).prototype,"scene",[gu,lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jS=kS))||jS);var VS,WS,qS;c.SceneAsset=HS;let YS=e("el",ou("cc.TextAsset")((qS=Qp((WS=class extends u_{constructor(...e){super(...e),Xp(this,"text",qS,this)}toString(){return this.text}}).prototype,"text",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),VS=WS))||VS);var XS,QS,ZS;c.TextAsset=YS;let JS=e("e_",ou("cc.JsonAsset")((ZS=Qp((QS=class extends u_{constructor(...e){super(...e),Xp(this,"json",ZS,this)}}).prototype,"json",[lu,gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),XS=QS))||XS);c.JsonAsset=JS;class KS extends ri{constructor(){super(),this._compScheduler=void 0,this._nodeActivator=void 0,this._invalid=void 0,this._paused=void 0,this._purgeDirectorInNextLoop=void 0,this._root=void 0,this._loadingScene=void 0,this._scene=void 0,this._totalFrames=void 0,this._lastUpdate=void 0,this._deltaTime=void 0,this._startTime=void 0,this._scheduler=void 0,this._systems=void 0,this._invalid=!1,this._paused=!1,this._purgeDirectorInNextLoop=!1,this._root=null,this._loadingScene="",this._scene=null,this._totalFrames=0,this._lastUpdate=0,this._deltaTime=0,this._startTime=0,this._scheduler=new Zy,this._compScheduler=new IS,this._nodeActivator=new US,this._systems=[],c.game.once(TA.EVENT_RENDERER_INITED,this._initOnRendererInitialized,this)}calculateDeltaTime(e){e||(e=performance.now()),this._deltaTime=e>this._lastUpdate?(e-this._lastUpdate)/1e3:0,this._lastUpdate=e}convertToGL(e){const t=c.game.container,n=c.view,i=t.getBoundingClientRect(),o=i.left+window.pageXOffset-t.clientLeft,r=i.top+window.pageYOffset-t.clientTop,a=n._devicePixelRatio*(e.x-o),s=n._devicePixelRatio*(r+i.height-e.y);return n._isRotated?Fn(n._viewportRect.width-s,a):Fn(a,s)}convertToUI(e){const t=c.game.container,n=c.view,i=t.getBoundingClientRect(),o=i.left+window.pageXOffset-t.clientLeft,r=i.top+window.pageYOffset-t.clientTop,a=Fn(0,0);return n._isRotated?(a.x=o+e.y/n._devicePixelRatio,a.y=r+i.height-(n._viewportRect.width-e.x)/n._devicePixelRatio):(a.x=o+e.x*n._devicePixelRatio,a.y=r+i.height-e.y*n._devicePixelRatio),a}end(){this._purgeDirectorInNextLoop=!0}getWinSize(){return Gn(c.winSize)}getWinSizeInPixels(){return Gn(c.winSize)}pause(){this._paused||(this._paused=!0)}purgeCachedData(){c.assetManager.releaseAll()}purgeDirector(){this._scheduler.unscheduleAll(),this._compScheduler.unscheduleAll(),this._nodeActivator.reset(),hm&&hm.setEnabled(!1),c.isValid(this._scene)&&this._scene.destroy(),this._scene=null,this.stopAnimation(),c.assetManager.releaseAll()}reset(){this.purgeDirector(),this.emit(KS.EVENT_RESET),hm&&hm.setEnabled(!0),this.startAnimation()}runSceneImmediate(e,t,n){e instanceof HS&&(e=e.scene),D(e instanceof fS,1216),e._load();const i=Object.keys(c.game._persistRootNodes).map((e=>c.game._persistRootNodes[e]));for(let t=0;t<i.length;t++){const n=i[t];n.emit(c.Node.SCENE_CHANGED_FOR_PERSISTS,e.renderScene);const o=e.uuid===n._originalSceneId&&e.getChildByUuid(n.uuid);if(o){const t=o.getSiblingIndex();o._destroyImmediate(),e.insertChild(n,t)}else n.parent=e}const o=this._scene;c.isValid(o)&&o.destroy(),c.assetManager._releaseManager._autoRelease(o,e,c.game._persistRootNodes),this._scene=null,Xn._deferredDestroy(),t&&t(),this.emit(c.Director.EVENT_BEFORE_SCENE_LAUNCH,e),this._scene=e,e._activate(),this._root&&this._root.resetCumulativeTime(),this.startAnimation(),n&&n(null,e),this.emit(c.Director.EVENT_AFTER_SCENE_LAUNCH,e)}runScene(e,t,n){e instanceof HS&&(e=e.scene),D(e,1205),D(e instanceof fS,1216),e._load(),this.once(c.Director.EVENT_AFTER_DRAW,(()=>{this.runSceneImmediate(e,t,n)}))}loadScene(e,t,n){if(this._loadingScene)return P(1208,e,this._loadingScene),!1;const i=c.assetManager.bundles.find((t=>!!t.getSceneInfo(e)));return i?(this.emit(c.Director.EVENT_BEFORE_SCENE_LOADING,e),this._loadingScene=e,console.time(`LoadScene ${e}`),i.loadScene(e,((i,o)=>{console.timeEnd(`LoadScene ${e}`),this._loadingScene="",i?(A(i),t&&t(i)):this.runSceneImmediate(o,n,t)})),!0):(R(1209,e),!1)}preloadScene(e,t,n){const i=c.assetManager.bundles.find((t=>!!t.getSceneInfo(e)));if(i)i.preloadScene(e,null,t,n);else{const t=`Can not preload the scene "${e}" because it is not in the build settings.`;n&&n(new Error(t)),A(`preloadScene: ${t}`)}}resume(){this._paused&&(this._lastUpdate=performance.now(),this._lastUpdate||w(1200),this._paused=!1,this._deltaTime=0)}setDepthTest(e){c.Camera.main&&(c.Camera.main.depth=!!e)}setClearColor(e){c.Camera.main&&(c.Camera.main.backgroundColor=e)}get root(){return this._root}getRunningScene(){return this._scene}getScene(){return this._scene}getAnimationInterval(){return 1e3/c.game.getFrameRate()}setAnimationInterval(e){c.game.setFrameRate(Math.round(1e3/e))}getDeltaTime(){return this._deltaTime}getTotalTime(){return performance.now()-this._startTime}getCurrentTime(){return this._lastUpdate}getTotalFrames(){return this._totalFrames}isPaused(){return this._paused}getScheduler(){return this._scheduler}setScheduler(e){this._scheduler!==e&&(this.unregisterSystem(this._scheduler),this._scheduler=e,this.registerSystem(Zy.ID,e,200))}registerSystem(e,t,n){t.id=e,t.priority=n,t.init(),this._systems.push(t),this._systems.sort(Vy.sortByPriority)}unregisterSystem(e){qe.fastRemove(this._systems,e),this._systems.sort(Vy.sortByPriority)}getSystem(e){return this._systems.find((t=>t.id===e))}getAnimationManager(){return this.getSystem(c.AnimationManager.ID)}startAnimation(){this._invalid=!1,this._lastUpdate=performance.now()}stopAnimation(){this._invalid=!0}mainLoop(e){if(this._purgeDirectorInNextLoop)this._purgeDirectorInNextLoop=!1,this.purgeDirector();else if(!this._invalid){this.calculateDeltaTime(e);const t=this._deltaTime;if(!this._paused){this.emit(KS.EVENT_BEFORE_UPDATE),this._compScheduler.startPhase(),this._compScheduler.updatePhase(t);for(let e=0;e<this._systems.length;++e)this._systems[e].update(t);this._compScheduler.lateUpdatePhase(t),this.emit(KS.EVENT_AFTER_UPDATE),Xn._deferredDestroy();for(let e=0;e<this._systems.length;++e)this._systems[e].postUpdate(t)}this.emit(KS.EVENT_BEFORE_DRAW),this._root.frameMove(this._deltaTime),this.emit(KS.EVENT_AFTER_DRAW),hm.frameUpdateListeners(),od.clearBooks(),this._totalFrames++}}_initOnRendererInitialized(){this._totalFrames=0,this._lastUpdate=performance.now(),this._startTime=this._lastUpdate,this._paused=!1,this._purgeDirectorInNextLoop=!1,hm&&hm.setEnabled(!0),this.registerSystem(Zy.ID,this._scheduler,200),this.emit(KS.EVENT_INIT)}_init(){return this._root=new Ky(c.game._gfxDevice),this._root.initialize({}).catch((e=>(R(1217),Promise.reject(e))))}}e("cN",KS),KS.EVENT_INIT="director_init",KS.EVENT_RESET="director_reset",KS.EVENT_BEFORE_SCENE_LOADING="director_before_scene_loading",KS.EVENT_BEFORE_SCENE_LAUNCH="director_before_scene_launch",KS.EVENT_AFTER_SCENE_LAUNCH="director_after_scene_launch",KS.EVENT_BEFORE_UPDATE="director_before_update",KS.EVENT_AFTER_UPDATE="director_after_update",KS.EVENT_BEFORE_DRAW="director_before_draw",KS.EVENT_AFTER_DRAW="director_after_draw",KS.EVENT_BEFORE_COMMIT="director_before_commit",KS.EVENT_BEFORE_PHYSICS="director_before_physics",KS.EVENT_AFTER_PHYSICS="director_after_physics",KS.instance=void 0,c.Director=KS;const $S=e("cM",KS.instance=c.director=new KS);class eE{constructor(){this.name="",this.base="",this.importBase="",this.nativeBase="",this.deps=null,this.assetInfos=new Lu,this.scenes=new Lu,this.paths=new Lu}init(e){(e=>{let t=e.uuids;const n=e.paths,i=e.types,o=e.deps,r=e.paths=Object.create(null);if(!1===e.debug){for(let e=0,n=t.length;e<n;e++)t[e]=Ku(t[e]);for(const e in n){const t=n[e],o=t[1];t[1]=i[o]}}else{const e=Object.create(null);for(let n=0,i=t.length;n<i;n++){const i=t[n];t[n]=e[i]=Ku(i)}t=e}for(const e in n){const i=n[e];r[t[e]]=i}const a=e.scenes;for(const e in a){const n=a[e];a[e]=t[n]}const s=e.packs;for(const e in s){const n=s[e];for(let e=0;e<n.length;++e)n[e]=t[n[e]]}const c=e.versions;if(c)for(const e in c){const n=c[e];for(let e=0;e<n.length;e+=2){const i=n[e];n[e]=t[i]||i}}const l=e.redirect;if(l)for(let e=0;e<l.length;e+=2)l[e]=t[l[e]],l[e+1]=o[l[e+1]]})(e),this.importBase=e.importBase||"",this.nativeBase=e.nativeBase||"",this.base=e.base||"",this.name=e.name||"",this.deps=e.deps||[],this._initUuid(e.uuids),this._initPath(e.paths),this._initScene(e.scenes),this._initPackage(e.packs),this._initVersion(e.versions),this._initRedirect(e.redirect)}getInfoWithPath(e,t){if(!e)return null;e=i_(e);const n=this.paths.get(e);if(n){if(!t)return n[0];for(let e=0,i=n.length;e<i;e++){const i=n[e];if(Ye.isChildClassOf(i.ctor,t))return i}}return null}getDirWithPath(e,t,n){"/"===(e=i_(e))[e.length-1]&&(e=e.slice(0,-1));const i=n||[];return this.paths.forEach(((n,o)=>{if(o.startsWith(e)&&((e,t)=>!(e.length>t.length)||47===e.charCodeAt(t.length))(o,e)||!e)for(let e=0,o=n.length;e<o;e++){const o=n[e];t&&!Ye.isChildClassOf(o.ctor,t)||i.push(o)}})),i}getAssetInfo(e){return this.assetInfos.get(e)||null}getSceneInfo(e){return e.endsWith(".scene")||(e+=".scene"),"/"===e[0]||e.startsWith("db://")||(e=`/${e}`),this.scenes.find(((t,n)=>n.endsWith(e)))}destroy(){this.paths.destroy(),this.scenes.destroy(),this.assetInfos.destroy()}_initUuid(e){if(e){this.assetInfos.clear();for(let t=0,n=e.length;t<n;t++){const n=e[t];this.assetInfos.add(n,{uuid:n})}}}_initPath(e){if(!e)return;const t=this.paths;t.clear();for(const n in e){const i=e[n],o=i[0],r=i[1],a=3===i.length,s=this.assetInfos.get(n);s.path=o,s.ctor=Ye._getClassById(r),t.has(o)?a?t.get(o).push(s):t.get(o).splice(0,0,s):t.add(o,[s])}}_initScene(e){if(!e)return;const t=this.scenes;t.clear();const n=this.assetInfos;for(const i in e){const o=e[i],r=n.get(o);r.url=i,t.add(i,r)}}_initPackage(e){if(!e)return;const t=this.assetInfos;for(const n in e){const i=e[n],o={uuid:n,packedUuids:i,ext:".json"};t.add(n,o);for(let e=0,n=i.length;e<n;e++){const r=i[e],a=t.get(r),s=a.packs;s?1===n?s.splice(0,0,o):s.push(o):a.packs=[o]}}}_initVersion(e){if(!e)return;const t=this.assetInfos;let n=e.import;if(n)for(let e=0,i=n.length;e<i;e+=2){const i=n[e];t.get(i).ver=n[e+1]}if(n=e.native,n)for(let e=0,i=n.length;e<i;e+=2){const i=n[e];t.get(i).nativeVer=n[e+1]}}_initRedirect(e){if(!e)return;const t=this.assetInfos;for(let n=0,i=e.length;n<i;n+=2){const i=e[n];t.get(i).redirect=e[n+1]}}}function tE(e,t){e._uuid&&t.push(e._uuid)}function nE(e,t){const n=Object.getOwnPropertyNames(e);for(let i=0;i<n.length;i++){const o=n[i];if("node"===o||"__eventTargets"===o)continue;const r=e[o];if("object"==typeof r&&r)if(Array.isArray(r))for(let e=0;e<r.length;e++){const n=r[e];n instanceof u_&&tE(n,t)}else if(r.constructor&&r.constructor!==Object)r instanceof u_&&tE(r,t);else{const e=Object.getOwnPropertyNames(r);for(let n=0;n<e.length;n++){const i=r[e[n]];i instanceof u_&&tE(i,t)}}}}function iE(e,t){for(let n=0;n<e._components.length;n++)nE(e._components[n],t);for(let n=0;n<e._children.length;n++)iE(e._children[n],t)}function oE(e,t,n,i){n.push(e._uuid);const o=Lf.getDeps(e._uuid);for(let e=0,r=o.length;e<r;e++){const r=Fu.get(o[e]);if(!r)continue;const a=r._uuid;a in t?t[a]+=i:t[a]=r.refCount+i,n.includes(a)||oE(r,t,n,i)}}const rE=[];var aE=new class{constructor(){this._persistNodeDeps=new Lu,this._toDelete=new Lu,this._eventListener=!1}init(){this._persistNodeDeps.clear(),this._toDelete.clear()}_addPersistNodeRef(e){const t=[];iE(e,t);for(let e=0,n=t.length;e<n;e++){const n=Fu.get(t[e]);n&&n.addRef()}this._persistNodeDeps.add(e.uuid,t)}_removePersistNodeRef(e){if(!this._persistNodeDeps.has(e.uuid))return;const t=this._persistNodeDeps.get(e.uuid);for(let e=0,n=t.length;e<n;e++){const n=Fu.get(t[e]);n&&n.decRef()}this._persistNodeDeps.remove(e.uuid)}_autoRelease(e,t,n){if(e){const n=Lf.getDeps(e.uuid);for(let t=0,i=n.length;t<i;t++){const i=Fu.get(n[t]);i&&i.decRef(e.autoReleaseAssets)}const i=Lf._depends.get(e.uuid);if(i&&i.persistDeps){const t=i.persistDeps;for(let n=0,i=t.length;n<i;n++){const i=Fu.get(t[n]);i&&i.decRef(e.autoReleaseAssets)}}e.uuid!==t.uuid&&Lf.remove(e.uuid)}const i=Lf._depends.get(t.uuid);i&&(i.persistDeps=[]);for(const e in n){const t=n[e],o=this._persistNodeDeps.get(t.uuid);for(const e of o){const t=Fu.get(e);t&&t.addRef()}i&&i.persistDeps.push(...o)}}tryRelease(e,t=!1){e instanceof u_&&(t?this._free(e,t):(this._toDelete.add(e._uuid,e),this._eventListener||(this._eventListener=!0,ct(this._freeAssets.bind(this)))))}_freeAssets(){this._eventListener=!1,this._toDelete.forEach((e=>{this._free(e)})),this._toDelete.clear()}_free(e,t=!1){const n=e._uuid;if(this._toDelete.remove(n),!Zn(e,!0))return;if(!t&&e.refCount>0&&function(e){const t=Object.create(null);if(t[e._uuid]=e.refCount,oE(e,t,rE,-1),rE.length=0,0!==t[e._uuid])return t[e._uuid];for(const e in t)0!==t[e]&&oE(Fu.get(e),t,rE,1);return rE.length=0,t[e._uuid]}(e)>0)return;Fu.remove(n);const i=Lf.getDeps(n);for(let e=0,t=i.length;e<t;e++){const t=Fu.get(i[e]);t&&(t.decRef(!1),this._free(t,!1))}e.destroy(),Lf.remove(n)}};let sE=null;function cE(e,t){for(let n=0,i=e.input.length;n<i;n++){const i=e.input[n];t&&!i.isNative&&i.content instanceof u_&&i.content.decRef(!1),i.recycle()}e.input=null}function lE(e,t){return t?/\?/.test(e)?`${e}&_t=${Date.now()}`:`${e}?_t=${Date.now()}`:e}function pE(e,t,n,i,o=0){e(o,((r,a)=>{o++,!r||o>t?i&&i(r,a):setTimeout((()=>{pE(e,t,n,i,o)}),n)}))}function uE(e,t,n,i,o){try{const r=Lf.parse(e,t);for(let e=0,t=r.deps.length;e<t;e++){const t=r.deps[e];t in n||(n[t]=!0,i.push({uuid:t,bundle:o&&o.name}))}r.nativeDep&&(o&&(r.nativeDep.bundle=o.name),i.push({...r.nativeDep}))}catch(e){A(e.message,e.stack)}}function _E(e,t,n){t&&(n=void 0!==n?n:c.assetManager.cacheAsset,n_(t)||!n||t.isDefault||Fu.add(e,t))}function fE(e,t,n){let i=0;const o=[],r=e.length;0===r&&n&&n(o);const a=e=>{e&&o.push(e),i++,i===r&&n&&n(o)};for(let n=0;n<r;n++)t(e[n],a)}function hE(e,t,n){let i=e,o=t,r=n;if(void 0===n){const n="function"==typeof e;t?(r=t,n||(o=null)):void 0===t&&n&&(r=e,i=null,o=null),void 0!==t&&n&&(o=e,i=null)}return{options:i||Object.create(null),onProgress:o,onComplete:r}}function mE(e,t,n){let i=e,o=t,r=n;if(void 0===n){const n=Ye.isChildClassOf(e,u_);t?(r=t,n&&(o=null)):void 0!==t||n||(r=e,o=null,i=null),void 0===t||n||(o=e,i=null)}return{type:i,onProgress:o||sE,onComplete:r}}function dE(e,t,n,i={}){if(!n[t]||i[t])return!1;i[t]=!0;let o=!1;const r=Lf.getDeps(t);if(r)for(let t=0,a=r.length;t<a;t++){const a=r[t];if(a===e||dE(e,a,n,i)){o=!0;break}}return o}function vE(e){return(t,n)=>{if(!e)return;const i=[];Array.isArray(n)?n.forEach((e=>e instanceof u_&&i.push(e.addRef()))):n instanceof u_&&i.push(n.addRef()),ct((()=>{i.forEach((e=>e.decRef(!1))),e(t,n)}))}}class gE{constructor(){this._config=new eE}get config(){return this._config}get name(){return this._config.name}get deps(){return this._config.deps}get base(){return this._config.base}getInfoWithPath(e,t){return this._config.getInfoWithPath(e,t)}getDirWithPath(e,t,n){return this._config.getDirWithPath(e,t,n)}getAssetInfo(e){return this._config.getAssetInfo(e)}getSceneInfo(e){return this._config.getSceneInfo(e)}init(e){this._config.init(e),ju.add(e.name,this)}load(e,t,n,i){const{type:o,onProgress:r,onComplete:a}=mE(t,n,i),s={__requestType__:Vu.PATH,type:o,bundle:this.name,__outputAsArray__:Array.isArray(e)};c.assetManager.loadAny(e,s,r,a)}preload(e,t,n,i){const{type:o,onProgress:r,onComplete:a}=mE(t,n,i);c.assetManager.preloadAny(e,{__requestType__:Vu.PATH,type:o,bundle:this.name},r,a)}loadDir(e,t,n,i){const{type:o,onProgress:r,onComplete:a}=mE(t,n,i);c.assetManager.loadAny(e,{__requestType__:Vu.DIR,type:o,bundle:this.name,__outputAsArray__:!0},r,a)}preloadDir(e,t,n,i){const{type:o,onProgress:r,onComplete:a}=mE(t,n,i);c.assetManager.preloadAny(e,{__requestType__:Vu.DIR,type:o,bundle:this.name},r,a)}loadScene(e,t,n,i){const{options:o,onProgress:r,onComplete:a}=hE(t,n,i);o.preset=o.preset||"scene",o.bundle=this.name,c.assetManager.loadAny({scene:e},o,r,((e,t)=>{if(e)A(e.message,e.stack);else if(t instanceof HS&&t.scene){const e=t.scene;e._id=t._uuid,e.name=t.name}else e=new Error(`The asset ${t._uuid} is not a scene`);a&&a(e,t)}))}preloadScene(e,t,n,i){const{options:o,onProgress:r,onComplete:a}=hE(t,n,i);o.bundle=this.name,c.assetManager.preloadAny({scene:e},o,r,(t=>{t&&R(1210,e,t.message),a&&a(t)}))}get(e,t){const n=this.getInfoWithPath(e,t);return n&&Fu.get(n.uuid)||null}release(e,t){const n=this.get(e,t);n&&aE.tryRelease(n,!0)}releaseUnusedAssets(){Fu.forEach((e=>{const t=this.getAssetInfo(e._uuid);t&&!t.redirect&&aE.tryRelease(e)}))}releaseAll(){Fu.forEach((e=>{const t=this.getAssetInfo(e._uuid);t&&!t.redirect&&aE.tryRelease(e,!0)}))}_destroy(){this._config.destroy()}}const AE=e("fy",new gE);function yE(e,t,n){const i=new Image;function o(){i.removeEventListener("load",o),i.removeEventListener("error",r),n&&n(null,i)}function r(){i.removeEventListener("load",o),i.removeEventListener("error",r),n&&n(new Error(O(4930,e)))}return"file:"!==window.location.protocol&&(i.crossOrigin="anonymous"),i.addEventListener("load",o),i.addEventListener("error",r),i.src=e,i}function xE(e,t,n,i){const o=new XMLHttpRequest,r=`download failed: ${e}, status: `;if(o.open("GET",e,!0),void 0!==t.xhrResponseType&&(o.responseType=t.xhrResponseType),void 0!==t.xhrWithCredentials&&(o.withCredentials=t.xhrWithCredentials),void 0!==t.xhrMimeType&&o.overrideMimeType&&o.overrideMimeType(t.xhrMimeType),void 0!==t.xhrTimeout&&(o.timeout=t.xhrTimeout),t.xhrHeader)for(const e in t.xhrHeader)o.setRequestHeader(e,t.xhrHeader[e]);return o.onload=()=>{200===o.status||0===o.status?i&&i(null,o.response):i&&i(new Error(`${r}${o.status}(no response)`))},n&&(o.onprogress=e=>{e.lengthComputable&&n(e.loaded,e.total)}),o.onerror=()=>{i&&i(new Error(`${r}${o.status}(error)`))},o.ontimeout=()=>{i&&i(new Error(`${r}${o.status}(time out)`))},o.onabort=()=>{i&&i(new Error(`${r}${o.status}(abort)`))},o.send(null),o}c.resources=AE;const bE={};function CE(e,t,n){if(bE[e])return n&&n(null),null;const i=document.createElement("script");function o(){i.parentNode.removeChild(i),i.removeEventListener("load",o,!1),i.removeEventListener("error",r,!1),bE[e]=!0,n&&n(null)}function r(){i.parentNode.removeChild(i),i.removeEventListener("load",o,!1),i.removeEventListener("error",r,!1),n&&n(new Error(O(4928,e)))}return"file:"!==window.location.protocol&&(i.crossOrigin="anonymous"),i.async=t.scriptAsyncLoading||!1,i.src=e,i.addEventListener("load",o,!1),i.addEventListener("error",r,!1),document.body.appendChild(i),i}const SE=/^(?:\w+:\/\/|\.+\/).+/,EE=(e,t,n)=>{(mg.capabilities.imageBitmap&&c.assetManager.allowImageBitmap?wE:yE)(e,t,n)},wE=(e,t,n)=>{t.xhrResponseType="blob",xE(e,t,t.onFileProgress,n)},TE=(e,t,n)=>{t.xhrResponseType="json",xE(e,t,t.onFileProgress,n)},PE=(e,t,n)=>{t.xhrResponseType="arraybuffer",xE(e,t,t.onFileProgress,n)},IE=(e,t,n)=>{t.xhrResponseType="text",xE(e,t,t.onFileProgress,n)},RE=(e,t,n)=>{const i=Ci(e);let o=e;SE.test(o)||(o=-1!==NE.remoteBundles.indexOf(i)?`${NE.remoteServerAddress}remote/${i}`:`assets/${i}`);const r=t.version||NE.bundleVers[i];let a=0,s=null,c=null;TE(`${o}/config.${r?`${r}.`:""}json`,t,((e,t)=>{c=e,s=t,s&&(s.base=`${o}/`),2==++a&&n(c,s)})),CE(`${o}/index.${r?`${r}.`:""}js`,t,(e=>{c=e,2==++a&&n(e,s)}))},NE=e("dl",new class{constructor(){this.maxConcurrency=6,this.maxRequestsPerFrame=6,this.maxRetryCount=3,this.appendTimeStamp=!!i,this.limited=!i,this.retryInterval=2e3,this.bundleVers=null,this.remoteBundles=[],this.downloadDomImage=yE,this.downloadDomAudio=null,this.downloadFile=xE,this.downloadScript=CE,this._downloaders={".png":EE,".jpg":EE,".bmp":EE,".jpeg":EE,".gif":EE,".ico":EE,".tiff":EE,".webp":EE,".image":EE,".pvr":PE,".pkm":PE,".astc":PE,".txt":IE,".xml":IE,".vsh":IE,".fsh":IE,".atlas":IE,".tmx":IE,".tsx":IE,".json":TE,".ExportJson":TE,".plist":IE,".fnt":IE,".binary":PE,".bin":PE,".dbbin":PE,".skel":PE,".js":CE,bundle:RE,default:IE},this._downloading=new Lu,this._queue=[],this._queueDirty=!1,this._totalNum=0,this._totalNumThisPeriod=0,this._lastDate=-1,this._checkNextPeriod=!1,this._remoteServerAddress="",this._maxInterval=1/30}get remoteServerAddress(){return this._remoteServerAddress}init(e="",t={},n=[]){this._downloading.clear(),this._queue.length=0,this._remoteServerAddress=e,this.bundleVers=t,this.remoteBundles=n}register(e,t){"object"==typeof e?Pe(this._downloaders,e):this._downloaders[e]=t}download(e,t,n,i,o){const r=Bu.get(e);if(r)return void o(null,r);const a=this._downloading.get(e);if(a){a.push(o);const t=this._queue.find((t=>t.id===e));if(!t)return;const n=i.priority||0;return void(t.priority<n&&(t.priority=n,this._queueDirty=!0))}const s=void 0!==i.maxRetryCount?i.maxRetryCount:this.maxRetryCount,c=void 0!==i.maxConcurrency?i.maxConcurrency:this.maxConcurrency,l=void 0!==i.maxRequestsPerFrame?i.maxRequestsPerFrame:this.maxRequestsPerFrame,p=this._downloaders[n]||this._downloaders.default;pE(((n,r)=>{if(0===n&&this._downloading.add(e,[o]),!this.limited)return void p(lE(t,this.appendTimeStamp),i,r);this._updateTime();const a=(e,t)=>{this._totalNum--,this._handleQueueInNextFrame(c,l),r(e,t)};this._totalNum<c&&this._totalNumThisPeriod<l?(p(lE(t,this.appendTimeStamp),i,a),this._totalNum++,this._totalNumThisPeriod++):(this._queue.push({id:e,priority:i.priority||0,url:t,options:i,done:a,handler:p}),this._queueDirty=!0,this._totalNum<c&&this._handleQueueInNextFrame(c,l))}),s,this.retryInterval,((t,n)=>{t||Bu.add(e,n);const i=this._downloading.remove(e);for(let e=0,o=i.length;e<o;e++)i[e](t,n)}))}loadSubpackage(e,t){c.assetManager.loadBundle(e,null,t)}_updateTime(){const e=Date.now(),t=c.director.getDeltaTime(),n=t>this._maxInterval?this._maxInterval:t;e-this._lastDate>1e3*n&&(this._totalNumThisPeriod=0,this._lastDate=e)}_handleQueue(e,t){for(this._checkNextPeriod=!1,this._updateTime();this._queue.length>0&&this._totalNum<e&&this._totalNumThisPeriod<t;){this._queueDirty&&(this._queue.sort(((e,t)=>e.priority-t.priority)),this._queueDirty=!1);const e=this._queue.pop();if(!e)break;this._totalNum++,this._totalNumThisPeriod++,e.handler(lE(e.url,this.appendTimeStamp),e.options,e.done)}this._handleQueueInNextFrame(e,t)}_handleQueueInNextFrame(e,t){!this._checkNextPeriod&&this._queue.length>0&&(ct(this._handleQueue.bind(this),e,t),this._checkNextPeriod=!0)}});function DE(e,t,n,i){let o=null,r=null;try{o=new b_,o._nativeUrl=e,o._nativeAsset=t}catch(e){r=e}i(r,o)}function ME(e,t,n,i){const o=new JS;o.json=t,i(null,o)}function OE(e,t,n,i){const o=new YS;o.text=t,i(null,o)}function LE(e,t,n,i){const o=new Ex;o._nativeUrl=e,o._nativeAsset=t,i(null,o)}function zE(e,t,n,i){const o=new u_;o._nativeUrl=e,o._nativeAsset=t,i(null,o)}function FE(e,n,i,o){let r=ju.get(n.name);r||(r=n.name===qu.RESOURCES?AE:new gE,n.base=n.base||`${e}/`,r.init(n)),t.import(`virtual:///prerequisite-imports/${r.name}`).then((()=>{o(null,r)})).catch(o)}var BE=e("dm",new class{constructor(){this._creating=new Lu,this._producers={".png":DE,".jpg":DE,".bmp":DE,".jpeg":DE,".gif":DE,".ico":DE,".tiff":DE,".webp":DE,".image":DE,".pvr":DE,".pkm":DE,".txt":OE,".xml":OE,".vsh":OE,".fsh":OE,".atlas":OE,".tmx":OE,".tsx":OE,".fnt":OE,".json":ME,".ExportJson":ME,".binary":LE,".bin":LE,".dbbin":LE,".skel":LE,bundle:FE,default:zE}}register(e,t){"object"==typeof e?Ye.mixin(this._producers,e):this._producers[e]=t}create(e,t,n,i,o){const r=this._producers[n]||this._producers.default,a=Fu.get(e);if(!i.reloadAsset&&a)return void o(null,a);const s=this._creating.get(e);s?s.push(o):(this._creating.add(e,[o]),r(e,t,i,((t,n)=>{!t&&n instanceof u_&&(n._uuid=e,_E(e,n,i.cacheAsset));const o=this._creating.remove(e);for(let e=0,i=o.length;e<i;e++)o[e](t,n)})))}}),UE=new class{constructor(){this._loading=new Lu,this._unpackers={".json":this.unpackJson}}unpackJson(e,t,n,i){let o=Ye.createMap(!0),r=null;if(Array.isArray(t)){(t=function(e){if(e[0]<1)throw new Error(O(5304,e[0]));nf(e,!0,void 0),of(e);const t=new af(e[0]),n=e[1],i=e[2],o=e[3],r=e[4],a=e[5];for(let e=0;e<a.length;++e)a[e].unshift(t,n,i,o,r);return a}(t)).length!==e.length&&R(4915);for(let n=0;n<e.length;n++)o[`${e[n]}@import`]=t[n]}else{const n=Ye._getClassId(Vf),i=Ye._getClassId(b_);if(t.type===n&&t.data){const i=t.data;i.length!==e.length&&R(4915);for(let t=0;t<e.length;t++)o[`${e[t]}@import`]=sf(n,{base:i[t][0],mipmaps:i[t][1]})}else if(t.type===i&&t.data){const n=t.data;n.length!==e.length&&R(4915);for(let t=0;t<e.length;t++)o[`${e[t]}@import`]=n[t]}else r=new Error("unmatched type pack!"),o=null}i(r,o)}init(){this._loading.clear()}register(e,t){"object"==typeof e?Ye.mixin(this._unpackers,e):this._unpackers[e]=t}unpack(e,t,n,i,o){t?(0,this._unpackers[n])(e,t,i,o):o(new Error("package data is wrong!"))}load(e,t,n){if(e.isNative||!e.info||!e.info.packs)return void NE.download(e.id,e.url,e.ext,e.options,n);if(Bu.has(e.id))return void n(null,Bu.get(e.id));const i=e.info.packs;let o=i.find((e=>this._loading.has(e.uuid)));if(o)return void this._loading.get(o.uuid).push({onComplete:n,id:e.id});o=i[0],this._loading.add(o.uuid,[{onComplete:n,id:e.id}]);const r=o_(o.uuid,{ext:o.ext,bundle:e.config.name});NE.download(o.uuid,r,o.ext,e.options,((t,n)=>{Bu.remove(o.uuid),t&&A(t.message,t.stack),this.unpack(o.packedUuids,n,o.ext,e.options,((e,n)=>{if(!e)for(const e in n)Bu.add(e,n[e]);const i=this._loading.remove(o.uuid);for(let o=0,r=i.length;o<r;o++){const r=i[o];if(t||e){r.onComplete(t||e);continue}const a=n[r.id];a?r.onComplete(null,a):r.onComplete(new Error("can not retrieve data from package"))}}))}))}};function jE(e,t){let n=!1;e.progress||(e.progress={finish:0,total:e.input.length,canInvoke:!0},n=!0);const{options:i,progress:o}=e,r=[],a=o.total,s=i.__exclude__=i.__exclude__||Object.create(null);e.output=[],fE(e.input,((i,l)=>{if(!i.isNative&&Fu.has(i.uuid)){const t=Fu.get(i.uuid);return i.content=t.addRef(),e.output.push(i),o.canInvoke&&e.dispatch("progress",++o.finish,o.total,i),void l()}UE.load(i,e.options,((p,u)=>{p?e.isFinish||(!c.assetManager.force||n?(A(p.message,p.stack),o.canInvoke=!1,t(p)):(e.output.push(i),o.canInvoke&&e.dispatch("progress",++o.finish,o.total,i))):e.isFinish||(i.file=u,e.output.push(i),i.isNative||(s[i.uuid]=!0,uE(i.uuid,u,s,r,i.config),o.total=a+r.length),o.canInvoke&&e.dispatch("progress",++o.finish,o.total,i)),l()}))}),(()=>{if(e.isFinish)return cE(e,!0),void e.dispatch("error");if(r.length>0){const a=Yu.create({input:r,progress:o,options:i,onProgress:e.onProgress,onError:Yu.prototype.recycle,onComplete:i=>{i||(e.output.push(...a.output),a.recycle()),n&&kE(e),t(i)}});Gu.async(a)}else n&&kE(e),t()}))}function kE(e){const t=e.output;for(let e=0,n=t.length;e<n;e++)t[e].content&&t[e].content.decRef(!1)}class GE{constructor(){this._parser=null,window.DOMParser&&(this._parser=new DOMParser)}parse(e){return this._parseXML(e)}_parseXML(e){if(this._parser)return this._parser.parseFromString(e,"text/xml");throw new Error("Dom parser is not supported in this platform!")}}e("ej",GE);const HE=new class extends GE{parse(e){const t=this._parseXML(e).documentElement;if("plist"!==t.tagName)return P(5100),{};let n=null;for(let e=0,i=t.childNodes.length;e<i&&(n=t.childNodes[e],1!==n.nodeType);e++);return this._parseNode(n)}_parseNode(e){let t=null;const n=e.tagName;if("dict"===n)t=this._parseDict(e);else if("array"===n)t=this._parseArray(e);else if("string"===n)if(1===e.childNodes.length)t=e.firstChild.nodeValue;else{t="";for(let n=0;n<e.childNodes.length;n++)t+=e.childNodes[n].nodeValue}else"false"===n?t=!1:"true"===n?t=!0:"real"===n?t=parseFloat(e.firstChild.nodeValue):"integer"===n&&(t=parseInt(e.firstChild.nodeValue,10));return t}_parseArray(e){const t=[];for(let n=0,i=e.childNodes.length;n<i;n++){const i=e.childNodes[n];1===i.nodeType&&t.push(this._parseNode(i))}return t}_parseDict(e){const t={};let n="";for(let i=0,o=e.childNodes.length;i<o;i++){const o=e.childNodes[i];1===o.nodeType&&("key"===o.tagName?n=o.firstChild.nodeValue:t[n]=this._parseNode(o))}return t}};function VE(e,t){return e[t]<<8|e[t+1]}var WE=new class{constructor(){this._parsing=new Lu,this._parsers={".png":this.parseImage,".jpg":this.parseImage,".bmp":this.parseImage,".jpeg":this.parseImage,".gif":this.parseImage,".ico":this.parseImage,".tiff":this.parseImage,".webp":this.parseImage,".image":this.parseImage,".pvr":this.parsePVRTex,".pkm":this.parsePKMTex,".astc":this.parseASTCTex,".mp3":this.parseAudio,".ogg":this.parseAudio,".wav":this.parseAudio,".m4a":this.parseAudio,".plist":this.parsePlist,import:this.parseImport}}parseImage(e,t,n){e instanceof HTMLImageElement?n(null,e):createImageBitmap(e,{premultiplyAlpha:"none"}).then((e=>{n(null,e)}),(e=>{n(e,null)}))}parseAudio(e,t,n){e instanceof ArrayBuffer?mg.__audioSupport.context.decodeAudioData(e,(e=>{n(null,e)}),(e=>{n(new Error(`Error with decoding audio data${e.err}`),null)})):n(null,e)}parsePVRTex(e,t,n){let i=null,o=null;try{const t=e instanceof ArrayBuffer?e:e.buffer,n=new Int32Array(t,0,13);if(55727696===n[0]){const e=n[7],i=n[6],r=n[12]+52;o={_data:new Uint8Array(t,r),_compressed:!0,width:e,height:i,format:0}}else{if(559044176!==n[11])throw new Error("Invalid magic number in PVR header");{const e=n[0],i=n[1],r=n[2];o={_data:new Uint8Array(t,e),_compressed:!0,width:r,height:i,format:0}}}}catch(e){i=e}n(i,o)}parsePKMTex(e,t,n){let i=null,o=null;try{const t=e instanceof ArrayBuffer?e:e.buffer,n=new Uint8Array(t),i=VE(n,6);if(0!==i&&1!==i&&3!==i)throw new Error("Invalid magic number in ETC header");const r=VE(n,12),a=VE(n,14);VE(n,8),VE(n,10),o={_data:new Uint8Array(t,16),_compressed:!0,width:r,height:a,format:0}}catch(e){i=e}n(i,o)}parseASTCTex(e,t,n){let i=null,o=null;try{const t=e instanceof ArrayBuffer?e:e.buffer,n=new Uint8Array(t);if(1554098963!==n[0]+(n[1]<<8)+(n[2]<<16)+(n[3]<<24))throw new Error("Invalid magic number in ASTC header");const i=n[4],r=n[5],a=n[6];if((i<3||i>6||r<3||r>6||a<3||a>6)&&(i<4||7===i||9===i||11===i||i>12||r<4||7===r||9===r||11===r||r>12||1!==a))throw new Error("Invalid block number in ASTC header");const s=function(e,t){return 4===e?__.RGBA_ASTC_4x4:5===e?4===t?__.RGBA_ASTC_5x4:__.RGBA_ASTC_5x5:6===e?5===t?__.RGBA_ASTC_6x5:__.RGBA_ASTC_6x6:8===e?5===t?__.RGBA_ASTC_8x5:6===t?__.RGBA_ASTC_8x6:__.RGBA_ASTC_8x8:10===e?5===t?__.RGBA_ASTC_10x5:6===t?__.RGBA_ASTC_10x6:8===t?__.RGBA_ASTC_10x8:__.RGBA_ASTC_10x10:10===t?__.RGBA_ASTC_12x10:__.RGBA_ASTC_12x12}(i,r),c=n[7]+(n[8]<<8)+(n[9]<<16),l=n[10]+(n[11]<<8)+(n[12]<<16);n[13],n[14],n[15],o={_data:new Uint8Array(t,16),_compressed:!0,width:c,height:l,format:s}}catch(e){i=e}n(i,o)}parsePlist(e,t,n){let i=null;const o=HE.parse(e);o||(i=new Error("parse failed")),n(i,o)}parseImport(e,t,n){if(!e)return void n(new Error(`The json file of asset ${t.__uuid__} is empty or missing`));let i=null,o=null;try{i=Mf(e,t)}catch(e){o=e}n(o,i)}init(){this._parsing.clear()}register(e,t){"object"==typeof e?Pe(this._parsers,e):this._parsers[e]=t}parse(e,t,n,i,o){const r=Uu.get(e);if(r)return void o(null,r);const a=this._parsing.get(e);if(a)return void a.push(o);const s=this._parsers[n];s?(this._parsing.add(e,[o]),s(t,i,((t,n)=>{t?Bu.remove(e):n_(n)||Uu.add(e,n);const i=this._parsing.remove(e);for(let e=0,o=i.length;e<o;e++)i[e](t,n)}))):o(null,t)}};function qE(e,t){let n=!1;e.progress||(e.progress={finish:0,total:e.input.length,canInvoke:!0},n=!0);const{options:i,progress:o}=e;i.__exclude__=i.__exclude__||Object.create(null),e.output=[],fE(e.input,((r,a)=>{const s=Yu.create({input:r,onProgress:e.onProgress,options:i,progress:o,onComplete:(i,l)=>{i&&!e.isFinish&&(!c.assetManager.force||n?(A(i.message,i.stack),o.canInvoke=!1,t(i)):o.canInvoke&&e.dispatch("progress",++o.finish,o.total,r)),e.output.push(l),s.recycle(),a(null)}});YE.async(s)}),(()=>{if(i.__exclude__=null,e.isFinish)return cE(e,!0),void e.dispatch("error");!function(e){const t=e.source;if(e.options.__outputAsArray__||1!==t.length){const n=e.output=[];for(let e=0,i=t.length;e<i;e++)n.push(t[e].content)}else e.output=t[0].content}(e),cE(e,!0),t()}))}const YE=new zu("loadOneAsset",[function(e,t){const n=e.output=e.input,{options:i,isNative:o,uuid:r,file:a}=n,{reloadAsset:s}=i;a||!s&&!o&&Fu.has(r)?t():UE.load(n,e.options,((e,i)=>{n.file=i,t(e)}))},function(e,t){const n=e.output=e.input,i=e.progress,o=e.options.__exclude__,{id:r,file:a,options:s}=n;if(n.isNative)WE.parse(r,a,n.ext,s,((o,a)=>{o?t(o):(n.content=a,i.canInvoke&&e.dispatch("progress",++i.finish,i.total,n),Bu.remove(r),Uu.remove(r),t())}));else{const{uuid:c}=n;if(c in o){const{finish:r,content:a,err:s,callbacks:l}=o[c];i.canInvoke&&e.dispatch("progress",++i.finish,i.total,n),r||dE(c,c,o)?(a&&a.addRef(),n.content=a,t(s)):l.push({done:t,item:n})}else if(!s.reloadAsset&&Fu.has(c)){const o=Fu.get(c);n.content=o.addRef(),i.canInvoke&&e.dispatch("progress",++i.finish,i.total,n),t()}else s.__uuid__=c,WE.parse(r,a,"import",s,((n,i)=>{n?t(n):function(e,t,n){const{input:i,progress:o}=e,{uuid:r,id:a,options:s,config:c}=i,{cacheAsset:l}=s,p=[];t.addRef&&t.addRef(),uE(r,t,Object.create(null),p,c),o.canInvoke&&e.dispatch("progress",++o.finish,o.total+=p.length,i);const u=e.options.__exclude__[r]={content:t,finish:!1,callbacks:[{done:n,item:i}]},_=Yu.create({input:p,options:e.options,onProgress:e.onProgress,onError:Yu.prototype.recycle,progress:o,onComplete:e=>{if(t.decRef&&t.decRef(!1),u.finish=!0,u.err=e,!e){const e=Array.isArray(_.output)?_.output:[_.output],n=Object.create(null);for(const t of e)t&&(n[t instanceof u_?`${t._uuid}@import`:`${r}@native`]=t);!function(e,t,n){let i=!1;const o=t.__depends__;if(o){for(let e=0,t=o.length;e<t;e++){const t=o[e],r=n[`${t.uuid}@import`];if(r)t.owner[t.prop]=r.addRef();else{if(A(`The asset ${t.uuid} is missing!`),t.type&&t.type!==u_){const e=new t.type;e.initDefault(t.uuid),t.owner[t.prop]=e}i=!0}}t.__depends__=null}t.__nativeDepend__&&(n[`${e}@native`]?t._nativeAsset=n[`${e}@native`]:(i=!0,console.error(`the native asset of ${e} is missing!`)),t.__nativeDepend__=!1)}(r,t,n);try{"function"!=typeof t.onLoaded||t.__onLoadedInvoked__||t.__nativeDepend__||(t.onLoaded(),t.__onLoadedInvoked__=!0)}catch(e){A(`The asset ${r} is invalid for some reason, detail message: ${e.message}, stack: ${e.stack}`)}Bu.remove(a),Uu.remove(a),_E(r,t,l),_.recycle()}const n=u.callbacks;for(let i=0,o=n.length;i<o;i++){const o=n[i];t.addRef&&t.addRef(),o.item.content=t,o.done(e)}n.length=0}});ku.async(_)}(e,i,t)}))}}]);function XE(e,t){const n=e.options,i=Object.create(null),o=Object.create(null);for(const e in n)switch(e){case Vu.PATH:case Vu.UUID:case Vu.DIR:case Vu.SCENE:case Vu.URL:break;case"__requestType__":case"__isNative__":case"ext":case"type":case"__nativeName__":case"audioLoadMode":case"bundle":i[e]=n[e];break;case"__exclude__":case"__outputAsArray__":o[e]=n[e];break;default:i[e]=n[e],o[e]=n[e]}e.options=o;const r=Yu.create({input:e.input,options:i});let a=null;try{e.output=e.source=Hu.sync(r)}catch(e){a=e;for(let e=0,t=r.output.length;e<t;e++)r.output[e].recycle()}r.recycle(),t(a)}class QE{constructor(){this.uuid="",this.url="",this.ext=".json",this.content=null,this.file=null,this.info=null,this.config=null,this.isNative=!1,this.options=Object.create(null),this._id=""}get id(){return this._id||(this._id=`${this.uuid}@${this.isNative?"native":"import"}`),this._id}static create(){let e;return e=0!==QE._deadPool.length?QE._deadPool.pop():new QE,e}recycle(){QE._deadPool.length!==QE.MAX_DEAD_NUM&&(this._id="",this.uuid="",this.url="",this.ext=".json",this.content=null,this.file=null,this.info=null,this.config=null,this.isNative=!1,this.options=Object.create(null),QE._deadPool.push(this))}}QE.MAX_DEAD_NUM=500,QE._deadPool=[];const ZE=[];function JE(e){const t=e.options,n=Array.isArray(e.input)?e.input:[e.input];e.output=[];for(let i=0;i<n.length;i++){let o=n[i],r=QE.create(),a=null,s=null;if("string"==typeof o&&(o=Object.create(null),o[t.__requestType__||Vu.UUID]=n[i]),"object"==typeof o){Te(o,t),o.preset&&Te(o,Wu[o.preset]);for(const e in o){switch(e){case Vu.UUID:{const e=r.uuid=Ku(o.uuid);if(!o.bundle){const t=ju.find((t=>!!t.getAssetInfo(e)));o.bundle=t&&t.name}if(ju.has(o.bundle)){if(a=ju.get(o.bundle).config,s=a.getAssetInfo(e),s&&s.redirect){if(!ju.has(s.redirect))throw new Error(`Please load bundle ${s.redirect} first`);a=ju.get(s.redirect).config,s=a.getAssetInfo(e)}r.config=a,r.info=s}r.ext=o.ext||".json";break}case"__requestType__":case"ext":case"bundle":case"preset":case"type":break;case Vu.DIR:if(ju.has(o.bundle)){ju.get(o.bundle).config.getDirWithPath(o.dir,o.type,ZE);for(const e of ZE)n.push({uuid:e.uuid,__isNative__:!1,ext:".json",bundle:o.bundle});ZE.length=0}r.recycle(),r=null;break;case Vu.PATH:if(ju.has(o.bundle)){if(a=ju.get(o.bundle).config,s=a.getInfoWithPath(o.path,o.type),s&&s.redirect){if(!ju.has(s.redirect))throw new Error(`you need to load bundle ${s.redirect} first`);a=ju.get(s.redirect).config,s=a.getAssetInfo(s.uuid)}if(!s)throw r.recycle(),new Error(`Bundle ${o.bundle} doesn't contain ${o.path}`);r.config=a,r.uuid=s.uuid,r.info=s}r.ext=o.ext||".json";break;case Vu.SCENE:if(!o.bundle){const e=ju.find((e=>!!e.getSceneInfo(o.scene)));o.bundle=e&&e.name}if(ju.has(o.bundle)){if(a=ju.get(o.bundle).config,s=a.getSceneInfo(o.scene),s&&s.redirect){if(!ju.has(s.redirect))throw new Error(`you need to load bundle ${s.redirect} first`);a=ju.get(s.redirect).config,s=a.getAssetInfo(s.uuid)}if(!s)throw r.recycle(),new Error(`Bundle ${a.name} doesn't contain scene ${o.scene}`);r.config=a,r.uuid=s.uuid,r.info=s}break;case"__isNative__":r.isNative=o.__isNative__;break;case Vu.URL:r.url=o.url,r.uuid=o.uuid||o.url,r.ext=o.ext||xi(o.url),r.isNative=void 0===o.__isNative__||o.__isNative__;break;default:r.options[e]=o[e]}if(!r)break}}if(r&&(e.output.push(r),!r.uuid&&!r.url))throw new Error(`Can not parse this input:${JSON.stringify(o)}`)}return null}function KE(e){const t=e.output=e.input;for(let e=0;e<t.length;e++){const n=t[e];if(n.url)continue;let i="",o="";const r=n.config;o=n.isNative?r&&r.nativeBase?r.base+r.nativeBase:c.assetManager.generalNativeBase:r&&r.importBase?r.base+r.importBase:c.assetManager.generalImportBase;const a=n.uuid;let s="";n.info&&(s=n.isNative?n.info.nativeVer?`.${n.info.nativeVer}`:"":n.info.ver?`.${n.info.ver}`:""),i=".ttf"===n.ext?`${o}/${a.slice(0,2)}/${a}${s}/${n.options.__nativeName__}`:`${o}/${a.slice(0,2)}/${a}${s}${n.ext}`,n.url=i}return null}class $E{constructor(){this.pipeline=ku.append(XE).append(qE),this.fetchPipeline=Gu.append(XE).append(jE),this.transformPipeline=Hu.append(JE).append(KE),this.bundles=ju,this.assets=Fu,this.generalImportBase="",this.generalNativeBase="",this.dependUtil=Lf,this.force=!1,this.allowImageBitmap=!mg.isMobile,this.utils=l_,this.downloader=NE,this.parser=WE,this.packManager=UE,this.cacheAsset=!0,this.cacheManager=null,this.presets=Wu,this.factory=BE,this.preprocessPipe=XE,this.fetchPipe=jE,this.loadPipe=qE,this.references=null,this._releaseManager=aE,this._files=Bu,this._parsed=Uu,this._parsePipeline=null}get main(){return ju.get(qu.MAIN)||null}get resources(){return ju.get(qu.RESOURCES)||null}init(e={}){this._files.clear(),this._parsed.clear(),this._releaseManager.init(),this.assets.clear(),this.bundles.clear(),this.packManager.init(),this.downloader.init(e.server,e.bundleVers,e.remoteBundles),this.parser.init(),this.dependUtil.init();let t=e.importBase||"";t&&t.endsWith("/")&&(t=t.substr(0,t.length-1));let n=e.nativeBase||"";n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),this.generalImportBase=t,this.generalNativeBase=n}getBundle(e){return ju.get(e)||null}removeBundle(e){e._destroy(),ju.remove(e.name)}loadAny(e,t,n,i){const{options:o,onProgress:r,onComplete:a}=hE(t,n,i);o.preset=o.preset||"default",e=Array.isArray(e)?e.slice():e;const s=Yu.create({input:e,onProgress:r,onComplete:vE(a),options:o});ku.async(s)}preloadAny(e,t,n,i){const{options:o,onProgress:r,onComplete:a}=hE(t,n,i);o.preset=o.preset||"preload",e=Array.isArray(e)?e.slice():e;const s=Yu.create({input:e,onProgress:r,onComplete:vE(a),options:o});Gu.async(s)}postLoadNative(e,t,n){const{options:i,onComplete:o}=hE(t,void 0,n);if(!e._native||!e.__nativeDepend__)return void vE(o)(null);const r=Lf.getNativeDep(e._uuid);if(r){if(!ju.has(r.bundle)){const t=ju.find((t=>!!t.getAssetInfo(e._uuid)));t&&(r.bundle=t.name)}this.loadAny(r,i,((t,n)=>{t?A(t.message,t.stack):e.isValid&&e.__nativeDepend__&&(e._nativeAsset=n,e.__nativeDepend__=!1),o&&o(t)}))}}loadRemote(e,t,n){const{options:i,onComplete:o}=hE(t,void 0,n);i.reloadAsset||!this.assets.has(e)?(i.__isNative__=!0,i.preset=i.preset||"remote",this.loadAny({url:e},i,null,((t,n)=>{t?(A(t.message,t.stack),o&&o(t,n)):BE.create(e,n,i.ext||xi(e),i,((e,t)=>{o&&o(e,t)}))}))):vE(o)(null,this.assets.get(e))}loadBundle(e,t,n){const{options:i,onComplete:o}=hE(t,void 0,n),r=Ci(e);this.bundles.has(r)?vE(o)(null,this.getBundle(r)):(i.preset=i.preset||"bundle",i.ext="bundle",i.__isNative__=!0,this.loadAny({url:e},i,null,((t,n)=>{t?(A(t.message,t.stack),o&&o(t,n)):BE.create(e,n,"bundle",i,((e,t)=>{o&&o(e,t)}))})))}releaseAsset(e){aE.tryRelease(e,!0)}releaseUnusedAssets(){Fu.forEach((e=>{aE.tryRelease(e)}))}releaseAll(){Fu.forEach((e=>{aE.tryRelease(e,!0)}))}loadWithJson(e,t,n,i){throw new Error("Only valid in Editor")}}e("fx",$E),$E.Pipeline=zu,$E.Task=Yu,$E.Cache=Lu,$E.RequestItem=QE,$E.Bundle=gE,$E.BuiltinBundleName=qu;var ew=e("d5",c.assetManager=new $E);c.AssetManager=$E;const tw=[".png",".jpg",".bmp",".jpeg",".gif",".ico",".tiff",".webp",".image",".pvr",".pkm",".astc"],nw=[".mp3",".ogg",".wav",".m4a"];function iw(){return!0}const ow={transformURL(e){const t=e_(e);if(!t)return e;const n=ju.find((e=>!!e.getAssetInfo(t)));if(!n)return e;let i="";const o=n.getAssetInfo(t);if(i=e.startsWith(n.base+n.config.nativeBase)?o.nativeVer||"":o.ver||"",!i||-1!==e.indexOf(i))return e;let r=!1;if(".ttf"===xi(e)&&(r=!0),r){const t=Si(e),n=Ci(e);e=`${t}.${i}/${n}`}else e=e.replace(/.*[/\\][0-9a-fA-F]{2}[/\\]([0-9a-fA-F-@]{8,}).*/,(e=>`${e}.${i}`));return e}};class rw{constructor(){this._autoReleaseSetting=Object.create(null),this._parseLoadResArgs=mE}set onProgress(e){sE=e}get _cache(){return Fu._map}load(e,t,n){void 0===n&&void 0!==t&&(n=t,t=null);const i=Array.isArray(e)?e:[e];for(let e=0;e<i.length;e++){const t=i[e];"string"==typeof t?i[e]={url:t,__isNative__:!0}:(t.type&&(t.ext=`.${t.type}`,t.type=void 0),t.url&&(t.__isNative__=!0))}const o=[],r=[];ew.loadAny(i,null,((e,n,i)=>{i.content&&(tw.includes(i.ext)?o.push(i.content):nw.includes(i.ext)&&r.push(i.content)),t&&t(e,n,i)}),((e,t)=>{let a=null;if(!e){t=Array.isArray(t)?t:[t];for(let e=0;e<t.length;e++){const n=t[e];if(!(n instanceof u_)){let a=n;const s=i[e].url;o.includes(a)?BE.create(s,n,".png",{},((n,i)=>{a=t[e]=i})):r.includes(a)&&BE.create(s,n,".mp3",{},((n,i)=>{a=t[e]=i})),Fu.add(s,a)}}if(t.length>1){const e=Object.create(null);t.forEach((t=>{e[t._uuid]=t})),a={isCompleted:iw,_map:e}}else a=t[0]}n&&n(e,a)}))}getXMLHttpRequest(){return new XMLHttpRequest}getItem(e){return ew.assets.has(e)?{content:ew.assets.get(e)}:null}loadRes(e,t,n,i){const{type:o,onProgress:r,onComplete:a}=this._parseLoadResArgs(t,n,i),s=xi(e);s&&!AE.getInfoWithPath(e,o)&&(e=e.slice(0,-s.length)),AE.load(e,o,r,a)}loadResArray(e,t,n,i){const{type:o,onProgress:r,onComplete:a}=this._parseLoadResArgs(t,n,i);e.forEach(((t,n)=>{const i=xi(t);i&&!AE.getInfoWithPath(t,o)&&(e[n]=t.slice(0,-i.length))})),AE.load(e,o,r,a)}loadResDir(e,t,n,i){const{type:o,onProgress:r,onComplete:a}=this._parseLoadResArgs(t,n,i);AE.loadDir(e,o,r,((t,n)=>{let i=[];t||(i=AE.getDirWithPath(e,o).map((e=>e.path))),a&&a(t,n,i)}))}getRes(e,t){return Fu.has(e)?Fu.get(e):AE.get(e,t)}getResCount(){return Fu.count}getDependsRecursively(e){if(!e)return[];const t="string"==typeof e?e:e._uuid;return Lf.getDepsRecursively(t).concat([t])}get md5Pipe(){return ow}get downloader(){return NE}get loader(){return ew.parser}addDownloadHandlers(e){const t=Object.create(null);for(const n in e){const i=e[n];t[`.${n}`]=(e,t,n)=>{i({url:e},n)}}NE.register(t)}addLoadHandlers(e){const t=Object.create(null);for(const n in e){const i=e[n];t[`.${n}`]=(e,t,n)=>{i({content:e},n)}}WE.register(t)}release(e){if(Array.isArray(e))for(let t=0;t<e.length;t++){let n=e[t];"string"==typeof n&&(n=Fu.get(n)),ew.releaseAsset(n)}else e&&("string"==typeof e&&(e=Fu.get(e)),ew.releaseAsset(e))}releaseAsset(e){ew.releaseAsset(e)}releaseRes(e,t){AE.release(e,t)}releaseAll(){ew.releaseAll(),Fu.clear()}removeItem(e){return!!Fu.remove(e)}setAutoRelease(e,t){"object"==typeof e&&(e=e._uuid),this._autoReleaseSetting[e]=!!t}setAutoReleaseRecursively(e,t){"object"==typeof e&&(e=e._uuid),t=!!t,this._autoReleaseSetting[e]=t;const n=Lf.getDepsRecursively(e);for(let e=0;e<n.length;e++)this._autoReleaseSetting[n[e]]=t}isAutoRelease(e){return"object"==typeof e&&(e=e._uuid),!!this._autoReleaseSetting[e]}}e("fz",rw);const aw=e("fA",new rw),sw=e("fB",{init(e){e.importBase=e.libraryPath,e.nativeBase=e.rawAssetsBase,ew.init(e),e.rawAssets&&AE.init({base:"",deps:[],scenes:{},redirect:[],debug:!0,packs:{},types:[],versions:{import:[],native:[]},name:qu.RESOURCES,importBase:e.importBase,nativeBase:e.nativeBase,paths:e.rawAssets.assets,uuids:Object.keys(e.rawAssets.assets)})},loadAsset(e,t,n){ew.loadAny(e,t)}}),cw=e("fC",{});W(cw,"url",[{name:"normalize",target:ew.utils,targetName:"assetManager.utils",newName:"normalize"},{name:"raw",targetName:"Asset.prototype",newName:"nativeUrl",customFunction:e=>e.startsWith("resources/")?o_({path:Ei(e.substr(10)),bundle:qu.RESOURCES,__isNative__:!0,ext:xi(e)}):""}]),q(sw,"AssetLibrary",[{name:"getLibUrlNoExt",suggest:"AssetLibrary.getLibUrlNoExt was removed, if you want to transform url, please use cc.assetManager.utils.getUrlWithUuid instead"},{name:"queryAssetInfo",suggest:"AssetLibrary.queryAssetInfo was removed"}]),q(aw,"loader",[{name:"releaseResDir",suggest:"loader.releaseResDir was removed, please use assetManager.releaseAsset instead"},{name:"flowInDeps",suggest:"loader.flowInDeps was removed"},{name:"assetLoader",suggest:"cc.loader.assetLoader was removed, assetLoader and md5Pipe were merged into cc.assetManager.transformPipeline"}]),W(c,"cc",[{name:"loader",newName:"assetManager",logTimes:1,customGetter:()=>aw},{name:"AssetLibrary",newName:"assetManager",logTimes:1,customGetter:()=>sw},{name:"Pipeline",target:$E,targetName:"AssetManager",newName:"Pipeline",logTimes:1},{name:"url",targetName:"assetManager",newName:"utils",logTimes:1,customGetter:()=>cw}]),q(c,"cc",[{name:"LoadingItems",suggest:O(1400,"cc.LoadingItems","cc.AssetManager.Task")}]),W(et,"macro",[{name:"DOWNLOAD_MAX_CONCURRENT",target:NE,targetName:"assetManager.downloader",newName:"maxConcurrency"}]),W($S,"director",[{name:"_getSceneUuid",targetName:"assetManager.main",newName:"getSceneInfo",customFunction:e=>{var t;return ew.main?null===(t=ew.main.getSceneInfo(e))||void 0===t?void 0:t.uuid:""}}]),W(PA,"game",[{name:"_sceneInfos",targetName:"assetManager.main",newName:"getSceneInfo",customGetter:()=>{const e=[];return ew.main&&ew.main.config.scenes.forEach((t=>{e.push(t)})),e}}]);const lw=aE._autoRelease;var pw,uw,_w,fw,hw,mw,dw,vw,gw,Aw,yw,xw,bw;aE._autoRelease=function(e,t,n){lw.call(aE,e,t,n);const i=aw._autoReleaseSetting,o=Object.keys(i);for(let e=0;e<o.length;e++){const t=o[e];if(!0===i[t]){const e=Fu.get(t);e&&aE.tryRelease(e)}}};let Cw=e("dn",(pw=ou("cc.ClickEvent"),uw=Mu(c.Node),_w=xu(),fw=xu(),hw=xu(),mw=xu(),pw((gw=Qp((vw=class e{constructor(){Xp(this,"target",gw,this),Xp(this,"component",Aw,this),Xp(this,"_componentId",yw,this),Xp(this,"handler",xw,this),Xp(this,"customEventData",bw,this)}get _componentName(){return this._genCompIdIfNeeded(),this._compId2Name(this._componentId)}set _componentName(e){this._componentId=this._compName2Id(e)}static emitEvents(t,...n){for(let i=0,o=t.length;i<o;i++){const o=t[i];o instanceof e&&o.emit(n)}}emit(e){const t=this.target;if(!c.isValid(t))return;this._genCompIdIfNeeded();const n=c.js._getClassById(this._componentId),i=t.getComponent(n);if(!c.isValid(i))return;const o=i[this.handler];"function"==typeof o&&(null!=this.customEventData&&""!==this.customEventData&&(e=e.slice()).push(this.customEventData),o.apply(i,e))}_compName2Id(e){const t=c.js.getClassByName(e);return c.js._getClassId(t)}_compId2Name(e){const t=c.js._getClassById(e);return c.js.getClassName(t)}_genCompIdIfNeeded(){this._componentId||(this._componentName=this.component,this.component="")}}).prototype,"target",[lu,uw,_w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Aw=Qp(vw.prototype,"component",[lu,gu,fw],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yw=Qp(vw.prototype,"_componentId",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),xw=Qp(vw.prototype,"handler",[lu,gu,hw],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bw=Qp(vw.prototype,"customEventData",[lu,gu,mw],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),dw=vw))||dw));var Sw,Ew,ww,Tw,Pw,Iw,Rw,Nw,Dw,Mw,Ow,Lw,zw,Fw,Bw,Uw,jw,kw,Gw,Hw,Vw,Ww,qw,Yw,Xw,Qw,Zw,Jw,Kw,$w,eT,tT,nT,iT,oT,rT,aT,sT,cT,lT,pT,uT,_T,fT,hT,mT,dT,vT,gT,AT,yT,xT,bT,CT,ST,ET,wT,TT,PT,IT,RT,NT,DT,MT,OT,LT,zT;c.Component.EventHandler=Cw;const FT=new mn,BT=Qe(Dp),UT=Qe(Np),jT=Qe(Mp),kT=Qe(Lp),GT=Qe(Op),HT=Qe({SKYBOX:Gp|Ra.DEPTH_STENCIL,SOLID_COLOR:Ra.ALL,DEPTH_ONLY:Ra.DEPTH_STENCIL,DONT_CLEAR:Ra.NONE});let VT=e("d0",(Sw=ou("cc.Camera"),Ew=vu(),ww=fu(),Tw=Tu(),Pw=xu(),Iw=Mu(Al.BitMask),Rw=Tu(),Nw=xu(),Dw=Mu(HT),Mw=Tu(),Ow=xu(),Lw=Tu(),zw=xu(),Fw=Tu(),Bw=xu(),Uw=Tu(),jw=xu(),kw=Mu(BT),Gw=Tu(),Hw=xu(),Vw=Mu(UT),Ww=Tu(),qw=xu(),Yw=Tu(),Xw=xu(),Qw=Tu(),Zw=xu(),Jw=Tu(),Kw=xu(),$w=Tu(),eT=xu(),tT=Mu(jT),nT=Tu(),iT=xu(),oT=Mu(kT),rT=Tu(),aT=xu(),sT=Mu(GT),cT=Tu(),lT=xu(),pT=Tu(),uT=xu(),_T=Mu(Gg),fT=Tu(),hT=xu(),Sw(mT=Ew(mT=ww(mT=_u((zT=LT=class extends Tf{constructor(...e){super(...e),Xp(this,"_projection",vT,this),Xp(this,"_priority",gT,this),Xp(this,"_fov",AT,this),Xp(this,"_fovAxis",yT,this),Xp(this,"_orthoHeight",xT,this),Xp(this,"_near",bT,this),Xp(this,"_far",CT,this),Xp(this,"_color",ST,this),Xp(this,"_depth",ET,this),Xp(this,"_stencil",wT,this),Xp(this,"_clearFlags",TT,this),Xp(this,"_rect",PT,this),Xp(this,"_aperture",IT,this),Xp(this,"_shutter",RT,this),Xp(this,"_iso",NT,this),Xp(this,"_screenScale",DT,this),Xp(this,"_visibility",MT,this),Xp(this,"_targetTexture",OT,this),this._camera=null,this._inEditorMode=!1,this._flows=void 0}get camera(){return this._camera}get priority(){return this._priority}set priority(e){this._priority=e,this._camera&&(this._camera.priority=e)}get visibility(){return this._visibility}set visibility(e){this._visibility=e,this._camera&&(this._camera.visibility=e)}get clearFlags(){return this._clearFlags}set clearFlags(e){this._clearFlags=e,this._camera&&(this._camera.clearFlag=e)}get clearColor(){return this._color}set clearColor(e){this._color.set(e),this._camera&&(this._camera.clearColor=this._color)}get clearDepth(){return this._depth}set clearDepth(e){this._depth=e,this._camera&&(this._camera.clearDepth=e)}get clearStencil(){return this._stencil}set clearStencil(e){this._stencil=e,this._camera&&(this._camera.clearStencil=e)}get projection(){return this._projection}set projection(e){this._projection=e,this._camera&&(this._camera.projectionType=e)}get fovAxis(){return this._fovAxis}set fovAxis(e){e!==this._fovAxis&&(this._fovAxis=e,this._camera&&(this._camera.fovAxis=e,e===Np.VERTICAL?this.fov=this._fov*this._camera.aspect:this.fov=this._fov/this._camera.aspect))}get fov(){return this._fov}set fov(e){this._fov=e,this._camera&&(this._camera.fov=Jt(e))}get orthoHeight(){return this._orthoHeight}set orthoHeight(e){this._orthoHeight=e,this._camera&&(this._camera.orthoHeight=e)}get near(){return this._near}set near(e){this._near=e,this._camera&&(this._camera.nearClip=e)}get far(){return this._far}set far(e){this._far=e,this._camera&&(this._camera.farClip=e)}get aperture(){return this._aperture}set aperture(e){this._aperture=e,this._camera&&(this._camera.aperture=e)}get shutter(){return this._shutter}set shutter(e){this._shutter=e,this._camera&&(this._camera.shutter=e)}get iso(){return this._iso}set iso(e){this._iso=e,this._camera&&(this._camera.iso=e)}get rect(){return this._rect}set rect(e){this._rect=e,this._camera&&(this._camera.viewport=e)}get targetTexture(){return this._targetTexture}set targetTexture(e){if(this._targetTexture===e)return;const t=this._targetTexture;this._targetTexture=e,this._chechTargetTextureEvent(t),this._updateTargetTexture(),!e&&this._camera&&(this._camera.changeTargetWindow(null),this._camera.isWindowSize=!0)}get screenScale(){return this._screenScale}set screenScale(e){this._screenScale=e,this._camera&&(this._camera.screenScale=e)}get inEditorMode(){return this._inEditorMode}set inEditorMode(e){this._inEditorMode=e,this._camera&&this._camera.changeTargetWindow(e?c.director.root&&c.director.root.mainWindow:c.director.root&&c.director.root.tempWindow)}onLoad(){this._createCamera()}onEnable(){this.node.hasChangedFlags|=qp.POSITION,this._camera&&this._attachToScene()}onDisable(){this._camera&&this._detachFromScene()}onDestroy(){this._camera&&(this._camera.destroy(),this._camera=null),this._targetTexture&&this._targetTexture.off("resize")}screenPointToRay(e,t,n){return n||(n=Br.create()),this._camera&&this._camera.screenPointToRay(n,e,t),n}worldToScreen(e,t){return t||(t=new mn),this._camera&&this._camera.worldToScreen(t,e),t}screenToWorld(e,t){return t||(t=this.node.getWorldPosition()),this._camera&&this._camera.screenToWorld(t,e),t}convertToUINode(e,t,n){if(n||(n=new mn),!this._camera)return n;this.worldToScreen(e,FT);const i=t.getComponent("cc.UITransform"),o=LA.getVisibleSize(),r=FT.x-.5*this._camera.width,a=FT.y-.5*this._camera.height;return FT.x=r/c.view.getScaleX()+.5*o.width,FT.y=a/c.view.getScaleY()+.5*o.height,i&&i.convertToNodeSpaceAR(FT,n),n}_createCamera(){this._camera||(this._camera=c.director.root.createCamera(),this._camera.initialize({name:this.node.name,node:this.node,projection:this._projection,window:this._inEditorMode?c.director.root&&c.director.root.mainWindow:c.director.root&&c.director.root.tempWindow,priority:this._priority}),this._camera.viewport=this._rect,this._camera.fovAxis=this._fovAxis,this._camera.fov=Jt(this._fov),this._camera.orthoHeight=this._orthoHeight,this._camera.nearClip=this._near,this._camera.farClip=this._far,this._camera.clearColor=this._color,this._camera.clearDepth=this._depth,this._camera.clearStencil=this._stencil,this._camera.clearFlag=this._clearFlags,this._camera.visibility=this._visibility,this._camera.aperture=this._aperture,this._camera.shutter=this._shutter,this._camera.iso=this._iso),this._updateTargetTexture()}_attachToScene(){this.node.scene&&this._camera&&(this._camera&&this._camera.scene&&this._camera.scene.removeCamera(this._camera),this._getRenderScene().addCamera(this._camera))}_detachFromScene(){this._camera&&this._camera.scene&&this._camera.scene.removeCamera(this._camera)}_chechTargetTextureEvent(e){e&&e.off("resize"),this._targetTexture&&this._targetTexture.on("resize",(e=>{this._camera&&this._camera.setFixedSize(e.width,e.height)}),this)}_updateTargetTexture(){if(this._camera&&this._targetTexture){const e=this._targetTexture.window;this._camera.changeTargetWindow(e),this._camera.setFixedSize(e.width,e.height)}}},LT.ProjectionType=BT,LT.FOVAxis=UT,LT.ClearFlag=HT,LT.Aperture=jT,LT.Shutter=kT,LT.ISO=GT,vT=Qp((dT=zT).prototype,"_projection",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BT.PERSPECTIVE}}),gT=Qp(dT.prototype,"_priority",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),AT=Qp(dT.prototype,"_fov",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),yT=Qp(dT.prototype,"_fovAxis",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UT.VERTICAL}}),xT=Qp(dT.prototype,"_orthoHeight",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),bT=Qp(dT.prototype,"_near",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),CT=Qp(dT.prototype,"_far",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),ST=Qp(dT.prototype,"_color",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new fn("#333333")}}),ET=Qp(dT.prototype,"_depth",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),wT=Qp(dT.prototype,"_stencil",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),TT=Qp(dT.prototype,"_clearFlags",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HT.SOLID_COLOR}}),PT=Qp(dT.prototype,"_rect",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Hn(0,0,1,1)}}),IT=Qp(dT.prototype,"_aperture",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jT.F16_0}}),RT=Qp(dT.prototype,"_shutter",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kT.D125}}),NT=Qp(dT.prototype,"_iso",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GT.ISO100}}),DT=Qp(dT.prototype,"_screenScale",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),MT=Qp(dT.prototype,"_visibility",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rp}}),OT=Qp(dT.prototype,"_targetTexture",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qp(dT.prototype,"priority",[Tw,Pw],Object.getOwnPropertyDescriptor(dT.prototype,"priority"),dT.prototype),Qp(dT.prototype,"visibility",[Iw,Rw,Nw],Object.getOwnPropertyDescriptor(dT.prototype,"visibility"),dT.prototype),Qp(dT.prototype,"clearFlags",[Dw,Mw,Ow],Object.getOwnPropertyDescriptor(dT.prototype,"clearFlags"),dT.prototype),Qp(dT.prototype,"clearColor",[Lw,zw],Object.getOwnPropertyDescriptor(dT.prototype,"clearColor"),dT.prototype),Qp(dT.prototype,"clearDepth",[Fw,Bw],Object.getOwnPropertyDescriptor(dT.prototype,"clearDepth"),dT.prototype),Qp(dT.prototype,"clearStencil",[Uw,jw],Object.getOwnPropertyDescriptor(dT.prototype,"clearStencil"),dT.prototype),Qp(dT.prototype,"projection",[kw,Gw,Hw],Object.getOwnPropertyDescriptor(dT.prototype,"projection"),dT.prototype),Qp(dT.prototype,"fovAxis",[Vw,Ww,qw],Object.getOwnPropertyDescriptor(dT.prototype,"fovAxis"),dT.prototype),Qp(dT.prototype,"fov",[Yw,Xw],Object.getOwnPropertyDescriptor(dT.prototype,"fov"),dT.prototype),Qp(dT.prototype,"orthoHeight",[Qw,Zw],Object.getOwnPropertyDescriptor(dT.prototype,"orthoHeight"),dT.prototype),Qp(dT.prototype,"near",[Jw,Kw],Object.getOwnPropertyDescriptor(dT.prototype,"near"),dT.prototype),Qp(dT.prototype,"far",[$w,eT],Object.getOwnPropertyDescriptor(dT.prototype,"far"),dT.prototype),Qp(dT.prototype,"aperture",[tT,nT,iT],Object.getOwnPropertyDescriptor(dT.prototype,"aperture"),dT.prototype),Qp(dT.prototype,"shutter",[oT,rT,aT],Object.getOwnPropertyDescriptor(dT.prototype,"shutter"),dT.prototype),Qp(dT.prototype,"iso",[sT,cT,lT],Object.getOwnPropertyDescriptor(dT.prototype,"iso"),dT.prototype),Qp(dT.prototype,"rect",[pT,uT],Object.getOwnPropertyDescriptor(dT.prototype,"rect"),dT.prototype),Qp(dT.prototype,"targetTexture",[_T,fT,hT],Object.getOwnPropertyDescriptor(dT.prototype,"targetTexture"),dT.prototype),mT=dT))||mT)||mT)||mT)||mT));var WT,qT,YT,XT,QT,ZT,JT,KT,$T;c.Camera=VT;const eP={parent:null,owner:null,subModelIdx:0};let tP=e("bZ",(WT=ou("cc.RenderableComponent"),qT=Mu([Kg]),YT=Mu(Kg),XT=Tu(),QT=yu(),WT((KT=Qp((JT=class extends Tf{constructor(...e){super(...e),Xp(this,"_materials",KT,this),Xp(this,"_visFlags",$T,this),this._materialInstances=[],this._models=[]}get visibility(){return this._visFlags}set visibility(e){this._visFlags=e,this._onVisibilityChange(e)}get sharedMaterials(){return this._materials}set sharedMaterials(e){for(let t=0;t<e.length;t++)e[t]!==this._materials[t]&&this.setMaterial(e[t],t);if(e.length<this._materials.length){for(let t=e.length;t<this._materials.length;t++)this.setMaterial(null,t);this._materials.splice(e.length)}}get materials(){for(let e=0;e<this._materials.length;e++)this._materialInstances[e]=this.getMaterialInstance(e);return this._materialInstances}set materials(e){const t=e.length-this._materials.length;if(t>0)this._materials.length=e.length,this._materialInstances.length=e.length;else if(t<0)for(let e=this._materials.length-t;e<this._materials.length;++e)this.setMaterialInstance(e,null);for(let t=0;t<this._materialInstances.length;t++)this._materialInstances[t]!=e[t]&&this.setMaterialInstance(t,e[t])}get sharedMaterial(){return this.getMaterial(0)}getMaterial(e){return e<0||e>=this._materials.length?null:this._materials[e]}setMaterial(e,t){e&&e instanceof eA&&console.error("Can't set a material instance to a sharedMaterial slot"),this._materials[t]=e;const n=this._materialInstances[t];n?n.parent!==this._materials[t]&&(n.destroy(),this._materialInstances[t]=null,this._onMaterialModified(t,this._materials[t])):this._onMaterialModified(t,this._materials[t])}get material(){return this.getMaterialInstance(0)}set material(e){1===this._materials.length&&this._materials[0]===e||this.setMaterialInstance(0,e)}getMaterialInstance(e){if(!this._materials[e])return null;if(!this._materialInstances[e]){eP.parent=this._materials[e],eP.owner=this,eP.subModelIdx=e;const t=new eA(eP);this.setMaterialInstance(e,t)}return this._materialInstances[e]}setMaterialInstance(e,t){t&&t.parent?t!==this._materialInstances[e]&&(this._materialInstances[e]=t,this._onMaterialModified(e,t)):t!==this._materials[e]&&this.setMaterial(t,e)}getRenderMaterial(e){return this._materialInstances[e]||this._materials[e]}_collectModels(){return this._models}_attachToScene(){}_detachFromScene(){}_onMaterialModified(e,t){}_onRebuildPSO(e,t){}_clearMaterials(){}_onVisibilityChange(e){}}).prototype,"_materials",[qT],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$T=Qp(JT.prototype,"_visFlags",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Al.Enum.NONE}}),Qp(JT.prototype,"sharedMaterials",[YT,XT,QT],Object.getOwnPropertyDescriptor(JT.prototype,"sharedMaterials"),JT.prototype),ZT=JT))||ZT));var nP,iP,oP,rP,aP,sP;function cP(e){return"string"==typeof e||"number"==typeof e}function lP(e,t){return e instanceof t}c.RenderableComponent=tP,W(VT,"Camera",[{name:"CameraClearFlag",newName:"ClearFlag"}]),W(VT.prototype,"Camera.prototype",[{name:"color",newName:"clearColor"},{name:"depth",newName:"clearDepth"},{name:"stencil",newName:"clearStencil"}]),c.CameraComponent=VT,Ye.setClassAlias(VT,"cc.CameraComponent");let pP=e("b9",ou("cc.animation.HierarchyPath")((oP=Qp((iP=class{constructor(e){Xp(this,"path",oP,this),this.path=e||""}get(e){if(!(e instanceof od))return g("Target of hierarchy path should be of type Node."),null;return e.getChildByPath(this.path)||(g(`Node "${e.name}" has no path "${this.path}"`),null)}}).prototype,"path",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nP=iP))||nP),uP=e("ba",ou("cc.animation.ComponentPath")((sP=Qp((aP=class{constructor(e){Xp(this,"component",sP,this),this.component=e||""}get(e){if(!(e instanceof od))return g("Target of component path should be of type Node."),null;return e.getComponent(this.component)||(g(`Node "${e.name}" has no component "${this.component}"`),null)}}).prototype,"component",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rP=aP))||rP);function _P(e,...t){let n=e;for(let e=0;e<t.length;++e){const i=t[e];if(cP(i)){if(!(i in n))return g(`Target object has no property "${i}"`),null;n=n[i]}else n=i.get(n);if(null===n)break}return n}var fP,hP,mP,dP,vP;let gP=e("b4",ou("cc.animation.UniformProxyFactory")((mP=Qp((hP=class{constructor(e,t){Xp(this,"passIndex",mP,this),Xp(this,"uniformName",dP,this),Xp(this,"channelIndex",vP,this),this.passIndex=t||0,this.uniformName=e||""}forTarget(e){const t=e.passes[this.passIndex],n=t.getHandle(this.uniformName);if(!n)throw new Error(`Material "${e.name}" has no uniform "${this.uniformName}"`);const i=Nh.getPropertyTypeFromHandle(n);if(i===oh.BUFFER){const i=void 0===this.channelIndex?n:t.getHandle(this.uniformName,this.channelIndex,ea.FLOAT);if(!i)throw new Error(`Uniform "${this.uniformName} (in material ${e.name}) has no channel ${this.channelIndex}"`);return function(e,t){for(const n of e.shaderInfo.blocks)for(const e of n.members)if(e.name===t)return e.count>1;return!1}(t,this.uniformName)?{set:e=>{t.setUniformArray(i,e)}}:{set:e=>{t.setUniform(i,e)}}}if(i===oh.TEXTURE){const e=Nh.getBindingFromHandle(n),i=t.properties[this.uniformName],o=i&&i.value?`${i.value}-texture`:hh(i.type);let r=Eh.get(o);return r||(g(`Illegal texture default value: ${o}.`),r=Eh.get("default-texture")),{set:n=>{n||(n=r);const i=n.getGFXTexture();i&&i.width&&i.height&&(t.bindTexture(e,i),n instanceof G_&&t.bindSampler(e,P_.getSampler(c.game._gfxDevice,n.getSamplerHash())))}}}throw new Error(`Animations are not available for uniforms with property type ${i}.`)}}).prototype,"passIndex",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dP=Qp(hP.prototype,"uniformName",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vP=Qp(hP.prototype,"channelIndex",[Ru],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),fP=hP))||fP);var AP,yP,xP,bP,CP,SP,EP,wP,TP;function PP(e,t,n,i){var o,r,a,s,c;let l=new t,p=new t,u=new t,_=ou(e)((a=Qp((r=class{constructor(e,n,i){Xp(this,"dataPoint",a,this),Xp(this,"inTangent",s,this),Xp(this,"outTangent",c,this),this.dataPoint=e||new t,this.inTangent=n||new t,this.outTangent=i||new t}lerp(e,t,o){const r=this.dataPoint,a=e.dataPoint;p=n(p,this.inTangent,o),u=n(u,e.outTangent,o);const s=t*t*t,c=t*t,_=s-2*c+t,f=-2*s+3*c,h=s-c;return l=n(l,r,2*s-3*c+1),l=i(l,l,p,_),l=i(l,l,a,f),l=i(l,l,u,h),l}getNoLerp(){return this.dataPoint}}).prototype,"dataPoint",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new t}}),s=Qp(r.prototype,"inTangent",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new t}}),c=Qp(r.prototype,"outTangent",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new t}}),o=r))||o;if(t===bn){const e=_.prototype.lerp;_.prototype.lerp=function(t,n,i){const o=e.call(this,t,n,i);return bn.normalize(o,o),o}}return _}e("b5",ou("cc.animation.MorphWeightsValueProxy")((xP=Qp((yP=class{constructor(){Xp(this,"subMeshIndex",xP,this)}forTarget(e){return{set:t=>{e.setWeights(t,this.subMeshIndex)}}}}).prototype,"subMeshIndex",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),AP=yP))||AP),e("b6",ou("cc.animation.MorphWeightsAllValueProxy")(bP=class{forTarget(e){return{set:t=>{var n,i;const o=null!==(n=null===(i=e.mesh)||void 0===i?void 0:i.struct.primitives.length)&&void 0!==n?n:0;for(let n=0;n<o;++n)e.setWeights(t,n)}}}})||bP);const IP=e("bc",PP("cc.CubicSplineVec2Value",On,On.multiplyScalar,On.scaleAndAdd));c.CubicSplineVec2Value=IP;const RP=e("bd",PP("cc.CubicSplineVec3Value",mn,mn.multiplyScalar,mn.scaleAndAdd));c.CubicSplineVec3Value=RP;const NP=e("be",PP("cc.CubicSplineVec4Value",Bn,Bn.multiplyScalar,Bn.scaleAndAdd));c.CubicSplineVec4Value=NP;const DP=e("bf",PP("cc.CubicSplineQuatValue",bn,bn.multiplyScalar,bn.scaleAndAdd));c.CubicSplineQuatValue=DP;let MP=e("bg",ou("cc.CubicSplineNumberValue")((EP=Qp((SP=class{constructor(e,t,n){Xp(this,"dataPoint",EP,this),Xp(this,"inTangent",wP,this),Xp(this,"outTangent",TP,this),this.dataPoint=e,this.inTangent=t,this.outTangent=n}lerp(e,t,n){const i=this.dataPoint,o=e.dataPoint,r=t*t*t,a=t*t;return i*(2*r-3*a+1)+this.outTangent*n*(r-2*a+t)+o*(-2*r+3*a)+e.inTangent*n*(r-a)}getNoLerp(){return this.dataPoint}}).prototype,"dataPoint",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wP=Qp(SP.prototype,"inTangent",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),TP=Qp(SP.prototype,"outTangent",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),CP=SP))||CP);function OP(e,t,n=1e-6){let i=0,o=e.length-1,r=o>>>1;for(;i<=o;r=i+o>>>1){const a=e[r];if(a>t+n)o=r-1;else{if(!(a<t-n))return r;i=r+1}}return~i}function LP(e,t,n,i,o){const r=1-o;return r*(r*(e+(3*t-e)*o)+3*n*o*o)+i*o*o*o}c.CubicSplineNumberValue=MP,c.bezier=LP;const zP=Math.cos,FP=Math.acos,BP=Math.max,UP=2*Math.PI,jP=Math.sqrt;function kP(e){return e<0?-Math.pow(-e,1/3):Math.pow(e,1/3)}function GP(e,t){const n=function(e,t){const n=t-0,i=t-e[0],o=3*n,r=3*i,a=3*(t-e[2]),s=1/(-n+r-a+(t-1)),c=1/3,l=(o-6*i+a)*s,p=l*c,u=(-o+r)*s,_=(3*u-l*l)*c,f=_*c,h=(2*l*l*l-9*l*u+n*s*27)/27,m=h/2,d=m*m+f*f*f;let v,g,A,y,x;if(d<0){const e=-_*c,t=jP(e*e*e),n=-h/(2*t),i=FP(n<-1?-1:n>1?1:n),o=2*kP(t);return A=o*zP(i*c)-p,y=o*zP((i+UP)*c)-p,x=o*zP((i+2*UP)*c)-p,A>=0&&A<=1?y>=0&&y<=1?x>=0&&x<=1?BP(A,y,x):BP(A,y):x>=0&&x<=1?BP(A,x):A:y>=0&&y<=1?x>=0&&x<=1?BP(y,x):y:x}if(0===d)return v=m<0?kP(-m):-kP(m),A=2*v-p,y=-v-p,A>=0&&A<=1?y>=0&&y<=1?BP(A,y):A:y;{const e=jP(d);return v=kP(-m+e),g=kP(m+e),A=v-g-p,A}}(e,t),i=e[1];return((1-n)*(i+(e[3]-i)*n)*3+n*n)*n}c.bezierByTime=GP;class HP{constructor(e){let t,n;this.ratios=void 0,this._findRatio=void 0,this.ratios=e;let i=!0;for(let o=1,r=e.length;o<r;o++)if(t=e[o]-e[o-1],1===o)n=t;else if(Math.abs(t-n)>1e-6){i=!1;break}this._findRatio=i?YP:OP}sample(e){return this._findRatio(this.ratios,e)}}e("fR",HP),c.RatioSampler=HP;class VP{static Bezier(e){return e}constructor(e,t){this.types=void 0,this.type=null,this._values=[],this._lerp=void 0,this._duration=void 0,this._array=void 0,this._duration=t,this._values=e.values;const n=e=>"string"==typeof e?e:Array.isArray(e)?e[0]===e[1]&&e[2]===e[3]?VP.Linear:VP.Bezier(e):VP.Linear;if(void 0!==e.easingMethod)this.type=n(e.easingMethod);else if(Array.isArray(e.easingMethods))this.types=e.easingMethods.map(n);else if(void 0!==e.easingMethods){this.types=new Array(this._values.length).fill(null);for(const t of Object.keys(e.easingMethods))this.types[t]=n(e.easingMethods[t])}else this.type=null;const i=e.values[0];(void 0===e.interpolate||e.interpolate)&&(this._lerp=XP(i)),void 0!==e._arrayLength&&(this._array=new Array(e._arrayLength))}hasLerp(){return!!this._lerp}valueAt(e){if(void 0===this._array){const t=this._values[e];return t&&t.getNoLerp?t.getNoLerp():t}for(let t=0;t<this._array.length;++t)this._array[t]=this._values[this._array.length*e+t];return this._array}valueBetween(e,t,n,i,o){if(this._lerp){const r=this.types?this.types[t]:this.type,a=o-n;let s=(e-n)/a;if(r&&(s=qP(s,r)),void 0===this._array){const e=this._values[t],n=this._values[i];return this._lerp(e,n,s,a*this._duration)}for(let e=0;e<this._array.length;++e){const n=this._values[this._array.length*t+e],o=this._values[this._array.length*i+e];this._array[e]=this._lerp(n,o,s,a*this._duration)}return this._array}if(void 0===this._array)return this.valueAt(t);for(let e=0;e<this._array.length;++e)this._array[e]=this._values[this._array.length*t+e];return this._array}empty(){return 0===this._values.length}constant(){return 1===this._values.length}}function WP(e,t,n){let i=t.sample(n);if(i<0)if(i=~i,i<=0)i=0;else{if(!(i>=t.ratios.length))return e.valueBetween(n,i-1,t.ratios[i-1],i,t.ratios[i]);i=t.ratios.length-1}return e.valueAt(i)}function qP(e,t){if("string"==typeof t){const n=ky[t];n?e=n(e):R(3906,t)}else Array.isArray(t)&&(e=GP(t,e));return e}function YP(e,t){const n=e.length-1;if(0===n)return 0;const i=e[0];if(t<i)return 0;const o=e[n];if(t>o)return n;const r=(t=(t-i)/(o-i))/(1/n),a=0|r,s=1e-6;return r-a<s?a:a+1-r<s?a+1:~(a+1)}e("fS",VP),VP.Linear=null,c.AnimCurve=VP,e("fT",class{constructor(){this.events=[]}add(e,t){this.events.push({func:e||"",params:t||[]})}}),c.sampleAnimationCurve=WP;const XP=(()=>{function e(e,t,n,i){return e.lerp(t,n,i)}return t=>{if(null!==t){if("number"==typeof t)return Zt;if("object"==typeof t&&t.constructor){if(t instanceof bn)return function(){const e=new bn;return(t,n,i)=>bn.slerp(e,t,n,i)}();if(t instanceof $e)return function(e){const t=new e;return(n,i,o)=>(e.lerp(t,n,i,o),t)}(t.constructor);if(t.constructor===Number)return Zt;if("function"==typeof t.lerp)return e}}}})();class QP{static getOrExtract(e){let t=QP.pool.get(e);return t&&t.info.sample===e.sample||(t&&c.director.root.dataPoolManager.releaseAnimationClip(e),t=function(e){const t={};e.curves.forEach((e=>{if(!e.valueAdapter&&lP(e.modifiers[0],pP)&&cP(e.modifiers[1])){const{path:n}=e.modifiers[0];let i=t[n];i||(i=t[n]={}),i[e.modifiers[1]]={values:e.data.values,keys:e.data.keys}}}));const n=Math.ceil(e.sample*e.duration)+1;for(const i of Object.keys(t)){const o=t[i];o&&Object.defineProperty(o,"worldMatrix",{get:()=>{if(!o._worldMatrix){const{position:r,rotation:a,scale:s}=o;ZP(e,r,n),ZP(e,a,n),ZP(e,s,n),JP(t,i,o)}return o._worldMatrix}})}return{info:{frames:n,sample:e.sample},data:t}}(e),QP.pool.set(e,t)),t}static destroy(e){QP.pool.delete(e)}}function ZP(e,t,n){const i=e.keys[t.keys],o=[];if(i&&1!==i.length){const r=t.values[0]instanceof bn;for(let a=0,s=0;a<n;a++){let n=a/e.sample;for(;i[s]<=n;)s++;s>i.length-1?(s=i.length-1,n=i[s]):0===s&&(s=1);const c=t.values[s-1].clone(),l=i[s]-i[s-1],p=l?Qt((n-i[s-1])/l):1;r?c.slerp(t.values[s],p):c.lerp(t.values[s],p),o[a]=c}}else for(let e=0;e<n;e++)o[e]=t.values[0].clone();t.values=o}function JP(e,t,n){const i=n.position.values,o=n.rotation.values,r=n.scale.values,a=i.map((()=>new Rn)),s=t.lastIndexOf("/");let c=null;if(s>0){const n=e[t.substring(0,s)];if(!n)return void console.warn("no data for parent bone?");c=n.worldMatrix.values}for(let e=0;e<i.length;e++){const t=i[e],n=o[e],s=r[e],l=a[e];Rn.fromRTS(l,n,t,s),c&&Rn.multiply(l,c[e],l)}Object.keys(n).forEach((e=>delete n[e])),n._worldMatrix={keys:0,interpolate:!1,values:a}}var KP,$P,eI,tI,nI,iI,oI,rI,aI,sI,cI,lI,pI,uI,_I;e("ck",QP),QP.pool=new Map;let fI=e("fW",ou("cc.AnimationClip")((_I=uI=class e extends u_{constructor(...e){super(...e),Xp(this,"sample",eI,this),Xp(this,"speed",tI,this),Xp(this,"wrapMode",nI,this),Xp(this,"events",iI,this),Xp(this,"enableTrsBlending",oI,this),Xp(this,"_duration",rI,this),Xp(this,"_keys",aI,this),Xp(this,"_stepness",sI,this),Xp(this,"_curves",cI,this),Xp(this,"_commonTargets",lI,this),Xp(this,"_hash",pI,this),this.frameRate=0,this._ratioSamplers=[],this._runtimeCurves=void 0,this._runtimeEvents=void 0,this._data=null}static createWithSpriteFrames(t,n){if(!Array.isArray(t))return R(3905),null;const i=new e;i.sample=n||i.sample,i.duration=t.length/i.sample;const o=1/i.sample,r=new Array(t.length),a=new Array(r.length);for(let e=0;e<t.length;e++)r[e]=e*o,a[e]=t[e];return i.keys=[r],i.curves=[{modifiers:[new uP("cc.Sprite"),"spriteFrame"],data:{keys:0,values:a}}],i}get duration(){return this._duration}set duration(e){this._duration=e}get keys(){return this._keys}set keys(e){this._keys=e}get eventGroups(){return this._runtimeEvents||this._createRuntimeEvents(),this._runtimeEvents.eventGroups}get stepness(){return this._stepness}set stepness(e){this._stepness=e,this._applyStepness()}get hash(){if(this._hash)return this._hash;const e=this._nativeAsset,t=new Uint8Array(ArrayBuffer.isView(e)?e.buffer:e);return this._hash=Qs(t,666)}get curves(){return this._curves}set curves(e){this._curves=e,delete this._runtimeCurves}get data(){return this._data}get commonTargets(){return this._commonTargets}set commonTargets(e){this._commonTargets=e}onLoaded(){this.frameRate=this.sample,this._decodeCVTAs()}getPropertyCurves(){return this._runtimeCurves||this._createPropertyCurves(),this._runtimeCurves}updateEventDatas(){delete this._runtimeEvents}getEventGroupIndexAtRatio(e){return this._runtimeEvents||this._createRuntimeEvents(),OP(this._runtimeEvents.ratios,e)}hasEvents(){return 0!==this.events.length}destroy(){return c.director.root.dataPoolManager&&c.director.root.dataPoolManager.releaseAnimationClip(this),QP.destroy(this),super.destroy()}_createPropertyCurves(){this._ratioSamplers=this._keys.map((e=>new HP(e.map((e=>e/this._duration))))),this._runtimeCurves=this._curves.map((e=>({curve:new VP(e.data,this._duration),modifiers:e.modifiers,valueAdapter:e.valueAdapter,sampler:this._ratioSamplers[e.data.keys],commonTarget:e.commonTarget}))),this._applyStepness()}_createRuntimeEvents(){const e=[],t=[],n=this.events.sort(((e,t)=>e.frame-t.frame));for(const i of n){const n=i.frame/this._duration;let o=e.findIndex((e=>e===n));o<0&&(o=e.length,e.push(n),t.push({events:[]})),t[o].events.push({functionName:i.func,parameters:i.params})}this._runtimeEvents={ratios:e,eventGroups:t}}_applyStepness(){}_decodeCVTAs(){const e=ArrayBuffer.isView(this._nativeAsset)?this._nativeAsset.buffer:this._nativeAsset;if(!e)return;const t=this._keys;for(let n=0;n<t.length;++n){const i=t[n];i instanceof Ax&&(t[n]=i.decompress(e))}for(let t=0;t<this._curves.length;++t){const n=this._curves[t];n.data.values instanceof Ax&&(n.data.values=n.data.values.decompress(e))}}validate(){return this.keys.length>0&&this.curves.length>0}},uI.WrapMode=pl,eI=Qp(($P=_I).prototype,"sample",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),tI=Qp($P.prototype,"speed",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),nI=Qp($P.prototype,"wrapMode",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pl.Normal}}),iI=Qp($P.prototype,"events",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oI=Qp($P.prototype,"enableTrsBlending",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rI=Qp($P.prototype,"_duration",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),aI=Qp($P.prototype,"_keys",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),sI=Qp($P.prototype,"_stepness",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cI=Qp($P.prototype,"_curves",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lI=Qp($P.prototype,"_commonTargets",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pI=Qp($P.prototype,"_hash",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),KP=$P))||KP);function hI(e,t,n){const i=t[t.length-1];if(0!==t.length&&cP(i)&&!n){const n=_P(e,...t.slice(0,t.length-1));return null===n?null:{setValue:e=>{n[i]=e},getValue:()=>n[i]}}if(n){const i=_P(e,...t);if(null===i)return null;const o=n.forTarget(i);return{setValue:e=>{o.set(e)},getValue:()=>o.get?o.get():(A("Target doesn't provide a get method."),null)}}return A("Empty animation curve."),null}function mI(e,t,n){const i=hI(e,t,n);if(null===i)return null;const o=i.getValue(),r=vI(o);if(!r)return A("Value is not copyable!"),null;const a=r.createBuffer(),s=r.copy;return Object.assign(i,{peek:()=>a,pull:()=>{const e=i.getValue();s(a,e)},push:()=>{i.setValue(a)}})}function dI(e,t){return e.set(t)}c.AnimationClip=fI;const vI=(()=>{const e=new Map;return e.set(On,{createBuffer:()=>new On,copy:On.copy}),e.set(mn,{createBuffer:()=>new mn,copy:mn.copy}),e.set(Bn,{createBuffer:()=>new Bn,copy:Bn.copy}),e.set(fn,{createBuffer:()=>new fn,copy:fn.copy}),e.set(kn,{createBuffer:()=>new kn,copy:dI}),t=>e.get(null==t?void 0:t.constructor)})();class gI{constructor(){this._isPlaying=!1,this._isPaused=!1,this._stepOnce=!1}get isPlaying(){return this._isPlaying}get isPaused(){return this._isPaused}get isMotionless(){return!this.isPlaying||this.isPaused}play(){this._isPlaying?this._isPaused?(this._isPaused=!1,this.onResume()):this.onError(O(3912)):(this._isPlaying=!0,this.onPlay())}stop(){this._isPlaying&&(this._isPlaying=!1,this.onStop(),this._isPaused=!1)}pause(){this._isPlaying&&!this._isPaused&&(this._isPaused=!0,this.onPause())}resume(){this._isPlaying&&this._isPaused&&(this._isPaused=!1,this.onResume())}step(){this.pause(),this._stepOnce=!0,this._isPlaying||this.play()}update(e){}onPlay(){}onPause(){}onResume(){}onStop(){}onError(e){}}class AI{constructor(){this._nodeBlendStates=new Map,this._states=new Set}ref(e,t){let n=this._nodeBlendStates.get(e);n||(n={dirty:!1,properties:{}},this._nodeBlendStates.set(e,n));let i=n.properties[t];return i||(i=n.properties[t]=new xI(n,yI(t)?new mn:new bn)),++i.refCount,i}deRef(e,t){const n=this._nodeBlendStates.get(e);if(!n)return;const i=n.properties[t];i&&(--i.refCount,i.refCount>0||(delete n.properties[t],function(e){return!(e.properties.position||e.properties.rotation||e.properties.eulerAngles||e.properties.scale)}(n)&&this._nodeBlendStates.delete(e)))}apply(){this._nodeBlendStates.forEach(((e,t)=>{if(!e.dirty)return;e.dirty=!1;const{position:n,scale:i,rotation:o,eulerAngles:r}=e.properties;let a,s,c,l=!1;n&&0!==n.weight&&(n.weight=0,a=n.value,l=!0),i&&0!==i.weight&&(i.weight=0,s=i.value,l=!0),o&&0!==o.weight&&(o.weight=0,c=o.value,l=!0),r&&0!==r.weight&&(r.weight=0,c=r.value,l=!0),l&&t.setRTS(c,a,s)})),this._states.forEach((e=>{e.onBlendFinished()}))}bindState(e){this._states.add(e)}unbindState(e){this._states.delete(e)}}function yI(e){return!function(e){return"rotation"===e}(e)}class xI{constructor(e,t){this.weight=0,this.value=void 0,this.refCount=0,this._node=void 0,this._node=e,this.value=t}markAsDirty(){this._node.dirty=!0}}function bI(e,t,n){return 0===n.weight&&mn.zero(n.value),0===t?n.value:1===t?mn.copy(n.value,e):mn.scaleAndAdd(n.value,n.value,e,t)}function CI(e,t,n){if(0===n.weight&&bn.identity(n.value),0===t)return n.value;if(1===t)return bn.copy(n.value,e);const i=t/(n.weight+t);return bn.slerp(n.value,n.value,e,i)}let SI;!function(e){e.PLAY="play",e.STOP="stop",e.PAUSE="pause",e.RESUME="resume",e.LASTFRAME="lastframe",e.FINISHED="finished"}(SI||(SI={})),Ke(SI);class EI{constructor(e,t,n){this.commonTargetIndex=void 0,this._curve=void 0,this._boundTarget=void 0,this._rootTargetProperty=void 0,this._curveDetail=void 0,this._curve=e.curve,this._curveDetail=e,this._boundTarget=n,this._shouldLerp=e.curve.hasLerp()}applySample(e,t,n,i,o){let r;r=this._shouldLerp&&n?this._curve.valueBetween(e,i.from,i.fromRatio,i.to,i.toRatio):this._curve.valueAt(t),this._setValue(r,o)}_setValue(e,t){this._boundTarget.setValue(e)}get propertyName(){return this._rootTargetProperty||""}get curveDetail(){return this._curveDetail}}class wI extends gI{get clip(){return this._clip}get name(){return this._name}get length(){return this.duration}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode=e,this.time=0,e&ll.Loop?this.repeatCount=1/0:this.repeatCount=1}get repeatCount(){return this._repeatCount}set repeatCount(e){this._repeatCount=e;const t=this._wrapMode&ll.ShouldWrap,n=(this.wrapMode&ll.Reverse)===ll.Reverse;this._process=e!==1/0||t||n?this.process:this.simpleProcess}get delay(){return this._delay}set delay(e){this._delayTime=this._delay=e}get playbackRange(){return this._playbackRange}set playbackRange(e){e.max,e.min,this._playbackRange.min=Math.max(e.min,0),this._playbackRange.max=Math.min(e.max,this.duration),this._playbackDuration=this._playbackRange.max-this._playbackRange.min,this.setTime(0)}get current(){return this.getWrappedInfo(this.time).time}get ratio(){return this.current/this.duration}constructor(e,t=""){super(),this.duration=1,this.speed=1,this.time=0,this.weight=0,this.frameRate=0,this._targetNode=null,this._curveLoaded=!1,this._clip=void 0,this._process=this.process,this._samplerSharedGroups=[],this._target=null,this._ignoreIndex=-1,this._commonTargetStatuses=[],this._wrapMode=pl.Normal,this._repeatCount=1,this._delay=0,this._delayTime=0,this._currentFramePlayed=!1,this._name=void 0,this._lastIterations=void 0,this._lastWrapInfo=null,this._lastWrapInfoEvent=null,this._wrappedInfo=new ul,this._blendStateBuffer=null,this._blendStateWriters=[],this._allowLastFrame=!1,this._blendStateWriterHost={weight:0,enabled:!1},this._playbackRange=void 0,this._playbackDuration=0,this._invDuration=1,this._clip=e,this._name=t||e&&e.name,this._playbackRange={min:0,max:this._clip.duration},this._playbackDuration=e.duration,e.duration||x(`Clip ${e.name} has zero duration.`)}get curveLoaded(){return this._curveLoaded}initialize(e,t){var n,i;if(this._curveLoaded)return;this._curveLoaded=!0,this._destroyBlendStateWriters(),this._samplerSharedGroups.length=0,this._blendStateBuffer=null!==(n=null===(i=c.director.getAnimationManager())||void 0===i?void 0:i.blendState)&&void 0!==n?n:null,this._blendStateBuffer&&this._blendStateBuffer.bindState(this),this._targetNode=e;const o=this._clip;this.duration=o.duration,this._invDuration=1/this.duration,this.speed=o.speed,this.wrapMode=o.wrapMode,this.frameRate=o.sample,this._playbackRange={min:0,max:o.duration},this._playbackDuration=o.duration,(this.wrapMode&ll.Loop)===ll.Loop?this.repeatCount=1/0:this.repeatCount=1;const r=(e,t,n,i,r)=>{if(!(o.enableTrsBlending&&function(e){let t;if(1===e.length&&"string"==typeof e[0])t=e[0];else if(e.length>1){for(let t=0;t<e.length-1;++t)if(!(e[t]instanceof pP))return!1;t=e[e.length-1]}switch(t){case"position":case"scale":case"rotation":case"eulerAngles":return!0;default:return!1}}(n)&&this._blendStateBuffer))return e(t,n,i);{const i=_P(t,...n.slice(0,n.length-1));if(null!==i&&i instanceof od){const o=n[n.length-1],a=function(e,t,n,i,o){const r=yI(n)?bI:CI;let a=e.ref(t,n),s=!1,c=-1;return{destroy(){a&&(e.deRef(t,n),a=null)},forTarget:()=>({get:()=>t[n],set:e=>{if(!a||!i.enabled)return;const t=i.weight;if(o)if(1!==t||t!==c)s=!1;else if(s)return;r(e,t,a),a.weight+=t,a.markAsDirty(),s=!0,c=t}})}}(this._blendStateBuffer,i,o,this._blendStateWriterHost,r);return this._blendStateWriters.push(a),e(t,[],a)}}return null};this._commonTargetStatuses=o.commonTargets.map((t=>{const n=r(mI,e,t.modifiers,t.valueAdapter,!1);return null===n?null:{target:n,changed:!1}})),t||(t=o.getPropertyCurves());for(let n=0;n<t.length;++n){const i=t[n];if(i.curve.empty())continue;let o,a=this._samplerSharedGroups.find((e=>e.sampler===i.sampler));if(a||(a={sampler:i.sampler,curves:[],samplerResultCache:{from:0,fromRatio:0,to:0,toRatio:0}},this._samplerSharedGroups.push(a)),void 0===i.commonTarget)o=e;else{const e=this._commonTargetStatuses[i.commonTarget];if(!e)continue;o=e.target.peek()}const s=r(hI,o,i.modifiers,i.valueAdapter,i.curve.constant());if(null===s);else{const e=new EI(i,o,s);e.commonTargetIndex=i.commonTarget,a.curves.push(e)}}}destroy(){this._destroyBlendStateWriters()}onBlendFinished(){this._blendStateWriterHost.enabled=!1}emit(...e){c.director.getAnimationManager().pushDelayEvent(this._emit,this,e)}on(e,t,n){return this._target&&this._target.isValid?this._target.on(e,t,n):null}once(e,t,n){return this._target&&this._target.isValid?this._target.once(e,t,n):null}off(e,t,n){this._target&&this._target.isValid&&this._target.off(e,t,n)}allowLastFrameEvent(e){this._allowLastFrame=e}_setEventTarget(e){this._target=e}setTime(e){this._currentFramePlayed=!1,this.time=e||0;{this._lastWrapInfoEvent=null,this._ignoreIndex=-1;const t=this.getWrappedInfo(e,this._wrappedInfo),n=t.direction;let i=this._clip.getEventGroupIndexAtRatio(t.ratio);i<0&&(i=~i-1,n<0&&(i+=1),this._ignoreIndex=i)}}update(e){this._delayTime>0&&(this._delayTime-=e,this._delayTime>0)||(this._currentFramePlayed?this.time+=e*this.speed:this._currentFramePlayed=!0,this._process())}sample(){const e=this.getWrappedInfo(this.time,this._wrappedInfo);return this._sampleCurves(e.ratio),this._sampleEvents(e),e}onPlay(){this.setTime(0),this._delayTime=this._delay,this._onReplayOrResume(),this.emit(SI.PLAY,this)}onStop(){this.isPaused||this._onPauseOrStop(),this.emit(SI.STOP,this)}onResume(){this._onReplayOrResume(),this.emit(SI.RESUME,this)}onPause(){this._onPauseOrStop(),this.emit(SI.PAUSE,this)}_sampleCurves(e){this._blendStateWriterHost.weight=this.weight,this._blendStateWriterHost.enabled=!0;const t=this._commonTargetStatuses;for(let e=0,n=t.length;e<n;++e){const n=t[e];n&&(n.target.pull(),n.changed=!1)}let n=0,i=!1;const o=this._samplerSharedGroups;for(let r=0,a=o.length;r<a;++r){const a=o[r],{sampler:s,samplerResultCache:c}=a;i=!1,s?(n=s.sample(e),n<0&&(n=~n,n<=0?n=0:n>=s.ratios.length?n=s.ratios.length-1:(i=!0,c.from=n-1,c.fromRatio=s.ratios[c.from],c.to=n,c.toRatio=s.ratios[c.to],n=c.from))):n=0;const l=a.curves;for(let o=0,r=l.length;o<r;++o){const r=l[o];if(r.applySample(e,n,i,c,this.weight),void 0!==r.commonTargetIndex){const e=t[r.commonTargetIndex];e&&(e.changed=!0)}}}for(let e=0,n=t.length;e<n;++e){const n=t[e];n&&n.changed&&n.target.push()}}process(){const e=this.sample();if(this._allowLastFrame){let t;t=this._lastWrapInfo?this._lastWrapInfo:this._lastWrapInfo=new ul(e),this.repeatCount>1&&(0|e.iterations)>(0|t.iterations)&&this.emit(SI.LASTFRAME,this),t.set(e)}e.stopped&&(this.stop(),this.emit(SI.FINISHED,this))}simpleProcess(){const e=this._playbackRange.min,t=this._playbackDuration;let n=this.time%t;n<0&&(n+=t);const i=(e+n)*this._invDuration;this._sampleCurves(i),this._clip.hasEvents()&&this._sampleEvents(this.getWrappedInfo(this.time,this._wrappedInfo)),this._allowLastFrame&&(void 0===this._lastIterations&&(this._lastIterations=i),(this.time>0&&this._lastIterations>i||this.time<0&&this._lastIterations<i)&&this.emit(SI.LASTFRAME,this),this._lastIterations=i)}cache(e){}_needReverse(e){const t=this.wrapMode;let n=!1;return(t&ll.PingPong)===ll.PingPong&&(e-(0|e)==0&&e>0&&(e-=1),1&e&&(n=!n)),(t&ll.Reverse)===ll.Reverse&&(n=!n),n}getWrappedInfo(e,t){t=t||new ul;const n=this._getPlaybackStart(),i=this._getPlaybackEnd()-n;let o=!1;const r=this.repeatCount;let a=e>0?e/i:-e/i;if(a>=r){a=r,o=!0;let t=r-(0|r);0===t&&(t=1),e=t*i*(e>0?1:-1)}if(e>i){const t=e%i;e=0===t?i:t}else e<0&&0!=(e%=i)&&(e+=i);let s=!1;const c=this._wrapMode&ll.ShouldWrap;c&&(s=this._needReverse(a));let l=s?-1:1;return this.speed<0&&(l*=-1),c&&s&&(e=i-e),t.time=n+e,t.ratio=t.time/this.duration,t.direction=l,t.stopped=o,t.iterations=a,t}_getPlaybackStart(){return this._playbackRange.min}_getPlaybackEnd(){return this._playbackRange.max}_sampleEvents(e){const t=this._clip.eventGroups.length;let n=e.direction,i=this._clip.getEventGroupIndexAtRatio(e.ratio);if(i<0&&(i=~i-1,n<0&&(i+=1)),this._ignoreIndex!==i&&(this._ignoreIndex=-1),e.frameIndex=i,!this._lastWrapInfoEvent)return this._fireEvent(i),void(this._lastWrapInfoEvent=new ul(e));const o=this.wrapMode,r=TI(e.iterations),a=this._lastWrapInfoEvent;let s=TI(a.iterations),l=a.frameIndex;const p=a.direction,u=-1!==s&&r!==s;if(l===i&&u&&1===t)this._fireEvent(0);else if(l!==i||u){n=p;do{if(l!==i){if(-1===n&&0===l&&i>0?((o&ll.PingPong)===ll.PingPong?n*=-1:l=t,s++):1===n&&l===t-1&&i<t-1&&((o&ll.PingPong)===ll.PingPong?n*=-1:l=-1,s++),l===i)break;if(s>r)break}l+=n,c.director.getAnimationManager().pushDelayEvent(this._fireEvent,this,[l])}while(l!==i&&l>-1&&l<t)}this._lastWrapInfoEvent.set(e)}_emit(e,t){this._target&&this._target.isValid&&this._target.emit(e,e,t)}_fireEvent(e){if(!this._targetNode||!this._targetNode.isValid)return;const{eventGroups:t}=this._clip;if(e<0||e>=t.length||this._ignoreIndex===e)return;const n=t[e],i=this._targetNode.components;for(const e of n.events){const{functionName:t}=e;for(const n of i){const i=n[t];"function"==typeof i&&i.apply(n,e.parameters)}}}_onReplayOrResume(){c.director.getAnimationManager().addAnimation(this)}_onPauseOrStop(){c.director.getAnimationManager().removeAnimation(this)}_destroyBlendStateWriters(){for(let e=0;e<this._blendStateWriters.length;++e)this._blendStateWriters[e].destroy();this._blendStateWriters.length=0,this._blendStateBuffer&&(this._blendStateBuffer.unbindState(this),this._blendStateBuffer=null),this._blendStateWriterHost.enabled=!1}}function TI(e){return e-(0|e)==0&&(e-=1),0|e}e("cC",wI),c.AnimationState=wI;class PI extends gI{constructor(){super(),this._managedStates=[],this._fadings=[]}update(e){if(this.isMotionless)return;const t=this._managedStates,n=this._fadings;if(1===t.length&&1===n.length){const e=t[0].state;e&&(e.weight=1)}else this._calculateWeights(e);for(let e=0;e<t.length;++e){const n=t[e].state;n&&n.isMotionless&&n.sample()}}crossFade(e,t){var n;0===this._managedStates.length&&(t=0),0===t&&this.clear();let i=this._managedStates.find((t=>t.state===e));i?(null===(n=i.state)||void 0===n?void 0:n.isMotionless)&&i.state.play():(i={state:e,reference:0},e&&e.play(),this._managedStates.push(i)),++i.reference,this._fadings.unshift({easeDuration:t,easeTime:0,target:i})}clear(){for(let e=0;e<this._managedStates.length;++e){const t=this._managedStates[e].state;t&&t.stop()}this._managedStates.length=0,this._fadings.length=0}onPlay(){super.onPlay(),c.director.getAnimationManager().addCrossFade(this)}onPause(){super.onPause(),c.director.getAnimationManager().removeCrossFade(this);for(let e=0;e<this._managedStates.length;++e){const t=this._managedStates[e].state;t&&t.pause()}}onResume(){super.onResume(),c.director.getAnimationManager().addCrossFade(this);for(let e=0;e<this._managedStates.length;++e){const t=this._managedStates[e].state;t&&t.resume()}}onStop(){super.onStop(),c.director.getAnimationManager().removeCrossFade(this),this.clear()}_calculateWeights(e){const t=this._managedStates;this._fadings;for(let e=0;e<t.length;++e){const n=t[e].state;n&&(n.weight=0)}let n=1,i=this._fadings.length;for(let t=0;t<this._fadings.length;++t){const o=this._fadings[t];o.easeTime+=e;const r=0===o.easeDuration?1:Qt(o.easeTime/o.easeDuration),a=r*n;if(n*=1-r,o.target.state&&(o.target.state.weight+=a),o.easeTime>=o.easeDuration){i=t+1,o.easeTime=o.easeDuration;break}}if(i!==this._fadings.length){for(let e=i;e<this._fadings.length;++e){const t=this._fadings[e];--t.target.reference,t.target.reference<=0&&(t.target.state&&t.target.state.stop(),ie(this._managedStates,t.target))}this._fadings.splice(i)}}}var II,RI,NI,DI,MI,OI,LI,zI,FI,BI,UI,jI,kI,GI,HI,VI,WI;let qI=e("cD",(II=ou("cc.Animation"),RI=vu(),NI=au(99),DI=fu(),MI=Mu([fI]),OI=xu(),LI=Mu(fI),zI=xu(),FI=xu(),BI=Mu([fI]),II(UI=RI(UI=NI(UI=_u(UI=DI((WI=VI=class extends(oi(Tf)){constructor(...e){super(...e),Xp(this,"playOnLoad",kI,this),this._crossFade=new PI,this._nameToState=ve(!0),Xp(this,"_clips",GI,this),Xp(this,"_defaultClip",HI,this),this._hasBeenPlayed=!1}get clips(){return this._clips}set clips(e){this._crossFade&&this._crossFade.clear();for(const e of this._clips)e&&this._removeStateOfAutomaticClip(e);for(const t of e)t&&this.createState(t);const t=e.find((e=>YI(e,this._defaultClip)));this._defaultClip=t||null,this._clips=e}get defaultClip(){return this._defaultClip}set defaultClip(e){this._defaultClip=e,e&&(this._clips.findIndex((t=>YI(t,e)))>=0||(this._clips.push(e),this.createState(e)))}onLoad(){this.clips=this._clips;for(const e in this._nameToState)this._nameToState[e].initialize(this.node)}start(){this.playOnLoad&&!this._hasBeenPlayed&&this._defaultClip&&this.crossFade(this._defaultClip.name,0)}onEnable(){this._crossFade.resume()}onDisable(){this._crossFade.pause()}onDestroy(){this._crossFade.stop();for(const e in this._nameToState)this._nameToState[e].destroy();this._nameToState=ve(!0)}play(e){if(this._hasBeenPlayed=!0,!e){if(!this._defaultClip)return;e=this._defaultClip.name}this.crossFade(e,0)}crossFade(e,t=.3){this._hasBeenPlayed=!0;const n=this._nameToState[e];n&&(this._crossFade.play(),this._crossFade.crossFade(n,t))}pause(){this._crossFade.pause()}resume(){this._crossFade.resume()}stop(){this._crossFade.stop()}getAnimationState(e){return this.getState(e)}getState(e){const t=this._nameToState[e];return t&&!t.curveLoaded&&t.initialize(this.node),t||null}createState(e,t){return t=t||e.name,this.removeState(t),this._doCreateState(e,t)}removeState(e){const t=this._nameToState[e];t&&(t.allowLastFrameEvent(!1),t.stop(),delete this._nameToState[e])}addClip(e,t){return oe(this._clips,e)||this._clips.push(e),this.createState(e,t)}removeClip(e,t){let n;for(const t in this._nameToState){const i=this._nameToState[t];if(i.clip===e){n=i;break}}if(e===this._defaultClip){if(!t)return void P(3902);this._defaultClip=null}if(n&&n.isPlaying){if(!t)return void P(3903);n.stop()}this._clips=this._clips.filter((t=>t!==e)),n&&delete this._nameToState[n.name]}on(e,t,n,i){const o=super.on(e,t,n,i);return e===SI.LASTFRAME&&this._syncAllowLastFrameEvent(),o}once(e,t,n){const i=super.once(e,t,n);return e===SI.LASTFRAME&&this._syncAllowLastFrameEvent(),i}off(e,t,n){super.off(e,t,n),e===SI.LASTFRAME&&this._syncDisallowLastFrameEvent()}_createState(e,t){return new wI(e,t)}_doCreateState(e,t){const n=this._createState(e,t);return n._setEventTarget(this),n.allowLastFrameEvent(this.hasEventListener(SI.LASTFRAME)),this.node&&n.initialize(this.node),this._nameToState[n.name]=n,n}_getStateByNameOrDefaultClip(e){if(!e){if(!this._defaultClip)return null;e=this._defaultClip.name}return this._nameToState[e]||null}_removeStateOfAutomaticClip(e){for(const t in this._nameToState){const n=this._nameToState[t];YI(e,n.clip)&&(n.stop(),delete this._nameToState[t])}}_syncAllowLastFrameEvent(){if(this.hasEventListener(SI.LASTFRAME))for(const e in this._nameToState)this._nameToState[e].allowLastFrameEvent(!0)}_syncDisallowLastFrameEvent(){if(!this.hasEventListener(SI.LASTFRAME))for(const e in this._nameToState)this._nameToState[e].allowLastFrameEvent(!1)}},VI.EventType=SI,Qp((jI=WI).prototype,"clips",[MI,OI],Object.getOwnPropertyDescriptor(jI.prototype,"clips"),jI.prototype),Qp(jI.prototype,"defaultClip",[LI,zI],Object.getOwnPropertyDescriptor(jI.prototype,"defaultClip"),jI.prototype),kI=Qp(jI.prototype,"playOnLoad",[lu,FI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),GI=Qp(jI.prototype,"_clips",[BI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),HI=Qp(jI.prototype,"_defaultClip",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),UI=jI))||UI)||UI)||UI)||UI)||UI));function YI(e,t){return e===t||!!e&&!!t&&e._uuid===t._uuid&&e._uuid}W(qI.prototype,"Animation",[{name:"getAnimationState",newName:"getState"},{name:"addClip",newName:"createState"},{name:"removeClip",newName:"removeState",customFunction(...e){const t=e[0];return qI.prototype.removeState.call(this,t.name)}}]),c.AnimationComponent=qI,Ye.setClassAlias(qI,"cc.AnimationComponent");const XI=[],QI=new Map;function ZI(e,t){let n=0,i=Rn.IDENTITY;for(;e;){if(e.stamp===t||e.stamp+1===t&&!e.node.hasChangedFlags){i=e.world,e.stamp=t;break}e.stamp=t,XI[n++]=e,e=e.parent}for(;n>0;){const t=(e=XI[--n]).node;Rn.fromRTS(e.local,t.rotation,t.position,t.scale),i=Rn.multiply(e.world,i,e.local)}return i}function JI(e,t){let n,i=null,o=0;for(;e!==t;){const t=e.uuid;if(QI.has(t)){i=QI.get(t);break}i={node:e,local:new Rn,world:new Rn,stamp:-1,parent:null},QI.set(t,i),XI[o++]=i,e=e.parent,i=null}for(;o>0;)n=XI[--o],n.parent=i,i=n;return i}function KI(e){let t=QI.get(e.uuid)||null;for(;t;)QI.delete(t.node.uuid),t=t.parent}var $I,eR,tR;let nR=e("fX",ou((tR=eR=class extends Vy{constructor(...e){super(...e),this._anims=new ee([]),this._delayEvents=[],this._blendStateBuffer=new AI,this._crossFades=[],this._sockets=[]}get blendState(){return this._blendStateBuffer}addCrossFade(e){this._crossFades.push(e)}removeCrossFade(e){ie(this._crossFades,e)}update(e){const{_delayEvents:t,_crossFades:n,_sockets:i}=this;for(let t=0,i=n.length;t<i;t++)n[t].update(e);const o=this._anims,r=o.array;for(o.i=0;o.i<r.length;++o.i){const t=r[o.i];t.isMotionless||t.update(e)}this._blendStateBuffer.apply();const a=c.director.getTotalFrames();for(let e=0,t=i.length;e<t;e++){const{target:t,transform:n}=i[e];t.matrix=ZI(n,a)}for(let e=0,n=t.length;e<n;e++){const n=t[e];n.fn.apply(n.thisArg,n.args)}t.length=0}destruct(){}addAnimation(e){-1===this._anims.array.indexOf(e)&&this._anims.push(e)}removeAnimation(e){const t=this._anims.array.indexOf(e);t>=0?this._anims.fastRemoveAt(t):R(3907)}pushDelayEvent(e,t,n){this._delayEvents.push({fn:e,thisArg:t,args:n})}addSockets(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(this._sockets.find((e=>e.target===i.target)))continue;const o=e.getChildByPath(i.path),r=i.target&&o&&JI(o,e);r&&this._sockets.push({target:i.target,transform:r})}}removeSockets(e,t){for(let e=0;e<t.length;++e){const n=t[e];for(let e=0;e<this._sockets.length;++e){const t=this._sockets[e];if(t.target===n.target){KI(t.transform.node),this._sockets[e]=this._sockets[this._sockets.length-1],this._sockets.length--;break}}}}},eR.ID="animation",$I=tR))||$I);$S.on(KS.EVENT_INIT,(()=>{const e=new nR;$S.registerSystem(nR.ID,e,Zy.PRIORITY_SYSTEM)})),c.AnimationManager=nR;const iR=new Rn;var oR,rR,aR,sR;c.easing=ky;let cR=e("fI",ou("cc.HierachyModifier")(oR=class extends pP{})||oR);c.HierachyModifier=cR;let lR=e("fJ",ou("cc.ComponentModifier")(rR=class extends uP{})||rR);c.ComponentModifier=lR;let pR=e("fK",ou("cc.CurveValueAdapter")(aR=class{forTarget(e){return{set:()=>{}}}})||aR);c.CurveValueAdapter=pR;let uR=e("fL",ou("cc.UniformCurveValueAdapter")(sR=class extends gP{})||sR);function _R(e){return"string"==typeof e}function fR(e){return"number"==typeof e}function hR(e,t){return e instanceof t}c.UniformCurveValueAdapter=uR,c.isPropertyModifier=_R,c.isElementModifier=fR,c.isCustomTargetModifier=hR,c.math=Wn,c.geometry=vl;class mR{constructor(e){this.poolHandlerComp=void 0,this._pool=void 0,this.poolHandlerComp=e,this._pool=[]}size(){return this._pool.length}clear(){const e=this._pool.length;for(let t=0;t<e;++t)this._pool[t].destroy();this._pool.length=0}put(e){if(e&&-1===this._pool.indexOf(e)){e.removeFromParent();const t=this.poolHandlerComp?e.getComponent(this.poolHandlerComp):null;t&&t.unuse&&t.unuse(),this._pool.push(e)}}get(...e){const t=this._pool.length-1;if(t<0)return null;{const e=this._pool[t];this._pool.length=t;const n=this.poolHandlerComp?e.getComponent(this.poolHandlerComp):null;return n&&n.reuse&&n.reuse(arguments),e}}}function dR(e,t){return e(t={exports:{}},t.exports),t.exports}e("fZ",mR),c.NodePool=mR,c.renderer=ly,e("d$","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{});var vR=dR((function(e){e.exports=function(){var t,n=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var n;e=e||{},n||(n=void 0!==e?e:{});var i,o={};for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);var r,a,s,c;r="object"==typeof window,a="function"==typeof importScripts,s="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&!r&&!a,c=!r&&!s&&!a;var l,p,u="";s?(u=__dirname+"/",l=function(e,t){var n;return(n=Y(e))?t?n:n.toString():console.error("shell read",e,n)},p=function(e){return(e=l(e,!0)).buffer||(e=new Uint8Array(e)),x(e.buffer),e},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),process.on("unhandledRejection",B),n.inspect=function(){return"[Emscripten Module object]"}):c?("undefined"!=typeof read&&(l=function(e){var t=Y(e);return t?W(t):read(e)}),p=function(e){var t;return(t=Y(e))?t:"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(x("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(r||a)&&(a?u=self.location.href:document.currentScript&&(u=document.currentScript.src),t&&(u=t),u=0!==u.indexOf("blob:")?u.substr(0,u.lastIndexOf("/")+1):"",l=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(t){if(e=Y(e))return W(e);throw t}},a&&(p=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(t){if(e=Y(e))return e;throw t}}));var _,f=n.print||console.log.bind(console),h=n.printErr||console.warn.bind(console);for(i in o)o.hasOwnProperty(i)&&(n[i]=o[i]);function m(){return{exports:function(e,t,n){var i=new ArrayBuffer(8),o=new Int32Array(i),r=new Float32Array(i),a=new Float64Array(i);function s(e){return o[e]}function c(e,t){o[e]=t}function l(){return a[0]}function p(e){a[0]=e}function u(e){r[0]=e}function _(){return r[0]}var f=function(e){var t=new Uint8Array(e);return function(e,n){var i,o;if("undefined"==typeof Buffer)for(i=atob(n),o=0;o<i.length;o++)t[e+o]=i.charCodeAt(o);else for(i=Buffer.from(n,"base64"),o=0;o<i.length;o++)t[e+o]=i[o]}}(t.buffer);return f(1028,"sAQAAAEAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAADMwY2NLaW5lbWF0aWNDaGFyYWN0ZXJDb250cm9sbGVyADMwYnRDaGFyYWN0ZXJDb250cm9sbGVySW50ZXJmYWNlADE3YnRBY3Rpb25JbnRlcmZhY2UAAAAoUQAAhgQAAFBRAABlBAAAnAQAAFBRAABEBAAApAQAAAAAAACkBAAAEgAAABMAAAAUAAAAFAAAABQAAAAUAAAAFAAAABQAAAAUAAAAFAAAABQAAAAUAAAAFAAAABQAAAAAAAAAnAQAABUAAAAWAAAAFAAAABQAAAAAAAAAzAUAABcAAAAYAAAAGQAAABoAAAA0M2NjS2luZW1hdGljQ2xvc2VzdE5vdE1lQ29udmV4UmVzdWx0Q2FsbGJhY2sATjE2YnRDb2xsaXNpb25Xb3JsZDI3Q2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrRQBOMTZidENvbGxpc2lvbldvcmxkMjBDb252ZXhSZXN1bHRDYWxsYmFja0UAAChRAACMBQAAUFEAAFoFAAC4BQAAUFEAACwFAADABQAAAAAAAMAFAAAbAAAAHAAAABkAAAAdAAAAAAAAALgFAAAeAAAAHwAAABkAAAAUAAAAAAAAAFgGAAAgAAAAIQAAACIAAAAyM2NjT3ZlcmxhcEZpbHRlckNhbGxiYWNrADIzYnRPdmVybGFwRmlsdGVyQ2FsbGJhY2sAKFEAADYGAABQUQAAHAYAAFAGAAAAAAAAUAYAACMAAAAkAAAAFAAAAAAAAADABgAAJQAAACYAAAAnAAAAKAAAADIwYnREZWZhdWx0TW90aW9uU3RhdGUAMTNidE1vdGlvblN0YXRlAAAoUQAApwYAAFBRAACQBgAAuAYAAAAAAAC4BgAAKQAAACoAAAAUAAAAFAAAAAAAAABcBwAAKwAAACwAAAAtAAAALgAAAE4xNmJ0Q29sbGlzaW9uV29ybGQyNEFsbEhpdHNSYXlSZXN1bHRDYWxsYmFja0UATjE2YnRDb2xsaXNpb25Xb3JsZDE3UmF5UmVzdWx0Q2FsbGJhY2tFAAAoUQAAKwcAAFBRAAD8BgAAVAcAAAAAAABUBwAALwAAADAAAAAtAAAAFAAAAAAAAADIBwAAMQAAADIAAAAtAAAAMwAAAE4xNmJ0Q29sbGlzaW9uV29ybGQyNENsb3Nlc3RSYXlSZXN1bHRDYWxsYmFja0UAAFBRAACYBwAAVAcAAAAAAAAcCAAANAAAADUAAAA2AAAANwAAADgAAAA5AAAAOgAAAGJ0UmlnaWRCb2R5RmxvYXREYXRhADExYnRSaWdpZEJvZHkAAFBRAAANCAAAvBEAAAAAAAB8CgAAOwAAADwAAAA9AAAAPgAAAD8AAABAAAAAQQAAAEIAAABDAAAARAAAAEUAAABGAAAARwAAAEgAAABJAAAASgAAAEsAAABMAAAATQAAAE4AAABPAAAAUAAAAFEAAABSAAAAUwAAAFQAAABVAAAAVgAAAFcAAABYAAAAWQAAAFoAAABbAAAAXAAAAF0AAABeAAAAXwAAAGAAAABhAAAAYgAAAGMAAABkAAAAZQAAAGYAAABnAAAAaAAAAGkAAABkZWJ1Z0RyYXdXb3JsZABpbnRlcm5hbFNpbmdsZVN0ZXBTaW11bGF0aW9uAHVwZGF0ZUFjdGlvbnMAdXBkYXRlQWN0aXZhdGlvblN0YXRlAHNvbHZlQ29uc3RyYWludHMAY2FsY3VsYXRlU2ltdWxhdGlvbklzbGFuZHMAcHJlZGljdGl2ZSBjb252ZXhTd2VlcFRlc3QAcmVsZWFzZSBwcmVkaWN0aXZlIGNvbnRhY3QgbWFuaWZvbGRzAGNyZWF0ZVByZWRpY3RpdmVDb250YWN0cwBDQ0QgbW90aW9uIGNsYW1waW5nAGludGVncmF0ZVRyYW5zZm9ybXMAYXBwbHkgc3BlY3VsYXRpdmUgY29udGFjdCByZXN0aXR1dGlvbgBwcmVkaWN0VW5jb25zdHJhaW50TW90aW9uAGJ0RHluYW1pY3NXb3JsZEZsb2F0RGF0YQAyM2J0RGlzY3JldGVEeW5hbWljc1dvcmxkADE1YnREeW5hbWljc1dvcmxkAAAAUFEAAFwKAACIIQAAUFEAAEIKAABwCgAAAAAAAPAKAABqAAAAawAAAGwAAAAyN0lucGxhY2VTb2x2ZXJJc2xhbmRDYWxsYmFjawBOMjVidFNpbXVsYXRpb25Jc2xhbmRNYW5hZ2VyMTRJc2xhbmRDYWxsYmFja0UAKFEAALoKAABQUQAAnAoAAOgKAAAAAAAAPAsAAB4AAABtAAAAbgAAAG8AAAAzNGJ0Q2xvc2VzdE5vdE1lQ29udmV4UmVzdWx0Q2FsbGJhY2sAAAAAUFEAABQLAADABQAAAAAAAJALAABwAAAAcQAAAHIAAABzAAAAdAAAAHUAAAB2AAAAdwAAAHgAAAB5AAAAegAAADE3YnRGaXhlZENvbnN0cmFpbnQAUFEAAHwLAAA0DQAAYnRHZW5lcmljNkRvZlNwcmluZzJDb25zdHJhaW50RGF0YQAAAAAAABgMAAB7AAAAfAAAAH0AAABzAAAAfgAAAH8AAAB2AAAAgAAAAIEAAACCAAAAgwAAAIQAAACFAAAAMjNidEdlbmVyaWM2RG9mQ29uc3RyYWludAAAAFBRAAD8CwAAQA4AAGJ0R2VuZXJpYzZEb2ZDb25zdHJhaW50RGF0YQAAAAAAoAwAAHsAAACGAAAAfQAAAHMAAAB+AAAAhwAAAHYAAACAAAAAgQAAAIgAAACJAAAAhAAAAIUAAACKAAAAMjlidEdlbmVyaWM2RG9mU3ByaW5nQ29uc3RyYWludABQUQAAgAwAABgMAABidEdlbmVyaWM2RG9mU3ByaW5nQ29uc3RyYWludERhdGEAAAAAAAAANA0AAHsAAACLAAAAcgAAAHMAAAB0AAAAdQAAAHYAAAB3AAAAeAAAAHkAAAB6AAAAAAAAAAEAAAACAAAAMzBidEdlbmVyaWM2RG9mU3ByaW5nMkNvbnN0cmFpbnQAAAAAUFEAABANAABADgAAAAAAAJQNAAB7AAAAjAAAAI0AAABzAAAAjgAAAI8AAAB2AAAAkAAAAJEAAACSAAAAkwAAAJQAAAAyM2J0UG9pbnQyUG9pbnRDb25zdHJhaW50AAAAUFEAAHgNAABADgAAYnRQb2ludDJQb2ludENvbnN0cmFpbnRGbG9hdERhdGE="),f(3528,"QA4AAHsAAACWAAAAlwAAAHMAAAAUAAAAFAAAAHYAAAAUAAAAFAAAAJgAAACZAAAAYnRUeXBlZENvbnN0cmFpbnRGbG9hdERhdGEAMTdidFR5cGVkQ29uc3RyYWludAAxM2J0VHlwZWRPYmplY3QAAChRAAAnDgAArFEAABMOAAAAAAAAAQAAADgOAAACBAAAAAAAAKgOAAB7AAAAmgAAAJcAAABzAAAAmwAAAJwAAAB2AAAAnQAAAJ4AAACfAAAAoAAAAKEAAAAxOGJ0U2xpZGVyQ29uc3RyYWludAAAAABQUQAAkA4AAEAOAABidFNsaWRlckNvbnN0cmFpbnREYXRhAAAAAAAAHA8AAHsAAACiAAAAowAAAHMAAACkAAAApQAAAKYAAACnAAAAqAAAAKkAAACqAAAAqwAAADIxYnRDb25lVHdpc3RDb25zdHJhaW50AFBRAAAEDwAAQA4AAGJ0Q29uZVR3aXN0Q29uc3RyYWludERhdGEAAAAAAAAAkA8AAHsAAACsAAAArQAAAHMAAACuAAAArwAAAHYAAACwAAAAsQAAALIAAACzAAAAtAAAADE3YnRIaW5nZUNvbnN0cmFpbnQAUFEAAHwPAABADgAAYnRIaW5nZUNvbnN0cmFpbnRGbG9hdERhdGEAAAAAAACEEAAAuAAAALkAAAC6AAAAuwAAALwAAAC9AAAAvgAAAL8AAADAAAAAwQAAAMIAAADDAAAAxAAAAHNvbHZlR3JvdXBDYWNoZUZyaWVuZGx5U2V0dXAAc29sdmVHcm91cENhY2hlRnJpZW5kbHlJdGVyYXRpb25zAHNvbHZlR3JvdXAAMzVidFNlcXVlbnRpYWxJbXB1bHNlQ29uc3RyYWludFNvbHZlcgAxOGJ0Q29uc3RyYWludFNvbHZlcgAAAAAoUQAAZBAAAFBRAAA+EAAAfBAAAAAAAAAIEQAAxQAAAMYAAADHAAAAyAAAAMkAAADKAAAAywAAAMwAAADNAAAAzgAAAM8AAADQAAAA0QAAANIAAADTAAAA1AAAANUAAADWAAAA1wAAADMwYnRLaW5lbWF0aWNDaGFyYWN0ZXJDb250cm9sbGVyAAAAAFBRAADkEAAApAQAAAAAAABcEQAAHgAAANgAAAAZAAAA2QAAADQzYnRLaW5lbWF0aWNDbG9zZXN0Tm90TWVDb252ZXhSZXN1bHRDYWxsYmFjawAAAFBRAAAsEQAAwAUAAAAAAAC8EQAA2gAAANsAAAA2AAAANwAAANwAAADdAAAA3gAAAGJ0Q29sbGlzaW9uT2JqZWN0RmxvYXREYXRhADE3YnRDb2xsaXNpb25PYmplY3QAAChRAACnEQAAAAAAACwSAADfAAAA4AAAADYAAAA3AAAA3AAAAN0AAADeAAAA4QAAAOIAAAAAAAAAVBIAAOMAAADkAAAANgAAADcAAADcAAAA3QAAAN4AAADlAAAA5gAAADEzYnRHaG9zdE9iamVjdABQUQAAHBIAALwRAAAyNGJ0UGFpckNhY2hpbmdHaG9zdE9iamVjdAAAUFEAADgSAAAsEgAAAAAAAMASAADoAAAA6QAAAOoAAADrAAAA7AAAAO0AAADuAAAA7wAAAPAAAADxAAAA8gAAAPMAAAD0AAAA9QAAAPYAAAD3AAAAMjFidENvbGxpc2lvbkRpc3BhdGNoZXIAUFEAAKgSAAAgQgAAAAAAABgTAAD4AAAA+QAAAPoAAAAyM2J0Q29sbGlzaW9uUGFpckNhbGxiYWNrADE3YnRPdmVybGFwQ2FsbGJhY2sAAAAoUQAA+hIAAFBRAADgEgAAEBMAAAEAAAACAAAAAAAAAAEAAAACAAAAAAAAAAEAAAACAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAC0EwAA/QAAAP4AAAD/AAAAMzBidEdqa0VwYVBlbmV0cmF0aW9uRGVwdGhTb2x2ZXIAMzBidENvbnZleFBlbmV0cmF0aW9uRGVwdGhTb2x2ZXIAAAAoUQAAiRMAAFBRAABoEwAArBMAAAAAAAAYFAAAAAEAAAEBAAACAQAAMTdidEdqa1BhaXJEZXRlY3RvcgAzNmJ0RGlzY3JldGVDb2xsaXNpb25EZXRlY3RvckludGVyZmFjZQAAKFEAAOgTAABQUQAA1BMAABAUAAAAAAAAXBQAAP0AAAADAQAABAEAADMzYnRNaW5rb3dza2lQZW5ldHJhdGlvbkRlcHRoU29sdmVyAFBRAAA4FAAArBMAAAAAAABoFQAABQEAAAYBAAAHAQAACAEAAAkBAABaTjMzYnRNaW5rb3dza2lQZW5ldHJhdGlvbkRlcHRoU29sdmVyMTJjYWxjUGVuRGVwdGhFUjIyYnRWb3Jvbm9pU2ltcGxleFNvbHZlclBLMTNidENvbnZleFNoYXBlUzRfUksxMWJ0VHJhbnNmb3JtUzdfUjlidFZlY3RvcjNTOV9TOV9QMTJidElEZWJ1Z0RyYXdFMjBidEludGVybWVkaWF0ZVJlc3VsdABOMzZidERpc2NyZXRlQ29sbGlzaW9uRGV0ZWN0b3JJbnRlcmZhY2U2UmVzdWx0RQAAKFEAAC8VAABQUQAAhBQAAGAVAAAAAAAAxBUAAAoBAAALAQAADAEAAA0BAAAOAQAAMTZidEVtcHR5QWxnb3JpdGhtADIwYnRDb2xsaXNpb25BbGdvcml0aG0AAAAoUQAAoxUAAFBRAACQFQAAvBUAAAAAAAAQFgAADwEAABABAAAUAAAAFAAAABQAAAAzMGJ0QWN0aXZhdGluZ0NvbGxpc2lvbkFsZ29yaXRobQAAAABQUQAA7BUAALwVAAAAAAAAXBYAABEBAAASAQAAEwEAABQBAAAVAQAAMzJidFNwaGVyZVNwaGVyZUNvbGxpc2lvbkFsZ29yaXRobQAAUFEAADgWAAAQFgAAAAAAANAWAAAWAQAAFwEAABgBAAAZAQAAGgEAABsBAAAzMWJ0RGVmYXVsdENvbGxpc2lvbkNvbmZpZ3VyYXRpb24AMjRidENvbGxpc2lvbkNvbmZpZ3VyYXRpb24AAAAAKFEAAKoWAABQUQAAiBYAAMgWAAAAAAAATBcAABwBAAAdAQAAHgEAAE4zM2J0Q29udmV4Q29uY2F2ZUNvbGxpc2lvbkFsZ29yaXRobTEwQ3JlYXRlRnVuY0UAMzBidENvbGxpc2lvbkFsZ29yaXRobUNyZWF0ZUZ1bmMAAChRAAAiFwAAUFEAAPAWAABEFwAAAAAAAKgXAAAcAQAAHwEAACABAABOMzNidENvbnZleENvbmNhdmVDb2xsaXNpb25BbGdvcml0aG0xN1N3YXBwZWRDcmVhdGVGdW5jRQAAAABQUQAAbBcAAEQXAAAAAAAA+BcAABwBAAAhAQAAIgEAAE4yOGJ0Q29tcG91bmRDb2xsaXNpb25BbGdvcml0aG0xMENyZWF0ZUZ1bmNFAAAAAFBRAADIFwAARBcAAAAAAABQGAAAHAEAACMBAAAkAQAATjM2YnRDb21wb3VuZENvbXBvdW5kQ29sbGlzaW9uQWxnb3JpdGhtMTBDcmVhdGVGdW5jRQAAAABQUQAAGBgAAEQXAAAAAAAApBgAABwBAAAlAQAAJgEAAE4yOGJ0Q29tcG91bmRDb2xsaXNpb25BbGdvcml0aG0xN1N3YXBwZWRDcmVhdGVGdW5jRQBQUQAAcBgAAEQXAAAAAAAA6BgAABwBAAAnAQAAKAEAAE4xNmJ0RW1wdHlBbGdvcml0aG0xMENyZWF0ZUZ1bmNFAAAAAFBRAADEGAAARBcAAAAAAAA8GQAAHAEAACkBAAAqAQAATjMyYnRTcGhlcmVTcGhlcmVDb2xsaXNpb25BbGdvcml0aG0xMENyZWF0ZUZ1bmNFAAAAAFBRAAAIGQAARBcAAAAAAACQGQAAHAEAACsBAAAsAQAATjM0YnRTcGhlcmVUcmlhbmdsZUNvbGxpc2lvbkFsZ29yaXRobTEwQ3JlYXRlRnVuY0UAAFBRAABcGQAARBcAAAAAAADcGQAAHAEAAC0BAAAuAQAATjI2YnRCb3hCb3hDb2xsaXNpb25BbGdvcml0aG0xMENyZWF0ZUZ1bmNFAABQUQAAsBkAAEQXAAAAAAAALBoAABwBAAAvAQAAMAEAAE4zMWJ0Q29udmV4UGxhbmVDb2xsaXNpb25BbGdvcml0aG0xMENyZWF0ZUZ1bmNFAFBRAAD8GQAARBcAAAAAAACYGgAAMQEAADIBAAAzAQAANAEAAGlzbGFuZFVuaW9uRmluZEFuZFF1aWNrU29ydABwcm9jZXNzSXNsYW5kcwAyNWJ0U2ltdWxhdGlvbklzbGFuZE1hbmFnZXIAAChRAAB7GgAAAAAAAOAaAAA1AQAANgEAADcBAAA4AQAAOQEAADMxYnRDb252ZXhQbGFuZUNvbGxpc2lvbkFsZ29yaXRobQAAAFBRAAC8GgAAvBUAADEyYnRDb252ZXhDYXN0AAAoUQAA7BoAAAAAAAA0GwAAOgEAADsBAAA8AQAAMjJidFN1YnNpbXBsZXhDb252ZXhDYXN0AAAAAFBRAAAYGwAA/BoAAAAAAAD0GwAAPQEAAD4BAAA/AQAAQAEAAEEBAAAAAAAAHBwAAEIBAABDAQAARAEAAGJ0Q29udmV4VHJpYW5nbGVDYWxsYmFjazo6cHJvY2Vzc1RyaWFuZ2xlAGJ0Q29udmV4Q29uY2F2ZUNvbGxpc2lvbkFsZ29yaXRobTo6cHJvY2Vzc0NvbGxpc2lvbgAzM2J0Q29udmV4Q29uY2F2ZUNvbGxpc2lvbkFsZ29yaXRobQAAAFBRAADOGwAAEBYAADI0YnRDb252ZXhUcmlhbmdsZUNhbGxiYWNrAABQUQAAABwAAPw2AAAAAAAAxBwAAEUBAABGAQAARwEAAEgBAABJAQAASgEAAEsBAABMAQAATQEAAE4BAABPAQAAUAEAAFEBAABSAQAAUwEAAFQBAABVAQAAVgEAAFcBAABYAQAAWQEAAFoBAABbAQAAXAEAAF0BAABeAQAAXwEAAGABAABhAQAAYgEAAGMBAABkAQAAMTVidFRyaWFuZ2xlU2hhcGUAAABQUQAAsBwAAPw0AABUcmlhbmdsZQBidENvbnZleEludGVybmFsU2hhcGVEYXRhAAAAAAAAqB0AAGUBAABmAQAAZwEAAFpOMzNidENvbnZleENvbmNhdmVDb2xsaXNpb25BbGdvcml0aG0yMWNhbGN1bGF0ZVRpbWVPZkltcGFjdEVQMTdidENvbGxpc2lvbk9iamVjdFMxX1JLMTZidERpc3BhdGNoZXJJbmZvUDE2YnRNYW5pZm9sZFJlc3VsdEUzMUxvY2FsVHJpYW5nbGVTcGhlcmVDYXN0Q2FsbGJhY2sAAABQUQAACB0AAPw2AABwcm9jZXNzVHJpYW5nbGUAAAAAAAAeAABoAQAAaQEAAGoBAABrAQAAbAEAAE4xMmJ0Q29udmV4Q2FzdDEwQ2FzdFJlc3VsdEUAAAAAKFEAAOAdAAAAAAAAMB4AAAABAABtAQAAbgEAADE2YnRCb3hCb3hEZXRlY3RvcgAAUFEAABweAAAQFAAAAAAAAHgeAABvAQAAcAEAAHEBAAByAQAAcwEAADI2YnRCb3hCb3hDb2xsaXNpb25BbGdvcml0aG0AAAAAUFEAAFgeAAAQFgAAAAAAALQeAAAFAQAAdAEAAHUBAAB2AQAAdwEAADE2YnRNYW5pZm9sZFJlc3VsdAAAUFEAAKAeAABgFQAAAAAAAOgeAAA6AQAAeAEAAHkBAAAxNWJ0R2prQ29udmV4Q2FzdAAAAFBRAADUHgAA/BoAAAAAAAAkHwAABQEAAHoBAAB7AQAAfAEAAH0BAAAxNmJ0UG9pbnRDb2xsZWN0b3IAAFBRAAAQHwAAYBUAAAAAAABkHwAAOgEAAH4BAAB/AQAAMjdidENvbnRpbnVvdXNDb252ZXhDb2xsaXNpb24AAABQUQAARB8AAPwaAAAAAAAAvB8AAGUBAACAAQAAgQEAABQAAAAAAAAA6B8AAGUBAACCAQAAgwEAABQAAAAyNWJ0VHJpYW5nbGVSYXljYXN0Q2FsbGJhY2sAUFEAAKAfAAD8NgAAMjhidFRyaWFuZ2xlQ29udmV4Y2FzdENhbGxiYWNrAABQUQAAyB8AAPw2AAAAAAAAiCEAAIQBAACFAQAAPQAAAD4AAAA/AAAAQAAAAIYBAABCAAAAQwAAAIcBAACIAQAARgAAAIkBAABPdmVyZmxvdyBpbiBBQUJCLCBvYmplY3QgcmVtb3ZlZCBmcm9tIHNpbXVsYXRpb24ASWYgeW91IGNhbiByZXByb2R1Y2UgdGhpcywgcGxlYXNlIGVtYWlsIGJ1Z3NAY29udGludW91c3BoeXNpY3MuY29tCgBQbGVhc2UgaW5jbHVkZSBhYm92ZSBpbmZvcm1hdGlvbiwgeW91ciBQbGF0Zm9ybSwgdmVyc2lvbiBvZiBPUy4KAFRoYW5rcy4KAHVwZGF0ZUFhYmJzAGNhbGN1bGF0ZU92ZXJsYXBwaW5nUGFpcnMAcGVyZm9ybURpc2NyZXRlQ29sbGlzaW9uRGV0ZWN0aW9uAGRpc3BhdGNoQWxsQ29sbGlzaW9uUGFpcnMAY29udmV4U3dlZXBDb21wb3VuZABjb252ZXhTd2VlcFRlc3QAMTZidENvbGxpc2lvbldvcmxkAChRAAB1IQAAAAAAADwiAABlAQAAigEAAIEBAACLAQAAWk4xNmJ0Q29sbGlzaW9uV29ybGQyMXJheVRlc3RTaW5nbGVJbnRlcm5hbEVSSzExYnRUcmFuc2Zvcm1TMl9QSzI0YnRDb2xsaXNpb25PYmplY3RXcmFwcGVyUk5TXzE3UmF5UmVzdWx0Q2FsbGJhY2tFRTI5QnJpZGdlVHJpYW5nbGVSYXljYXN0Q2FsbGJhY2sAAFBRAACoIQAAvB8AAAAAAAAIIwAAjAEAAI0BAACOAQAAjwEAAJABAACRAQAAkgEAAFpOMTZidENvbGxpc2lvbldvcmxkMjFyYXlUZXN0U2luZ2xlSW50ZXJuYWxFUksxMWJ0VHJhbnNmb3JtUzJfUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclJOU18xN1JheVJlc3VsdENhbGxiYWNrRUU5UmF5VGVzdGVyAE42YnREYnZ0OElDb2xsaWRlRQAAAAAoUQAA6iIAAFBRAABsIgAAACMAAAAAAAC0IwAALwAAAJMBAACUAQAAlQEAAFpOMTZidENvbGxpc2lvbldvcmxkMjFyYXlUZXN0U2luZ2xlSW50ZXJuYWxFUksxMWJ0VHJhbnNmb3JtUzJfUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclJOU18xN1JheVJlc3VsdENhbGxiYWNrRUUxNUxvY2FsSW5mb0FkZGVyMgAAAABQUQAALCMAAFQHAAAAAAAAiCQAAGUBAACWAQAAgwEAAJcBAABaTjE2YnRDb2xsaXNpb25Xb3JsZDI1b2JqZWN0UXVlcnlTaW5nbGVJbnRlcm5hbEVQSzEzYnRDb252ZXhTaGFwZVJLMTFidFRyYW5zZm9ybVM1X1BLMjRidENvbGxpc2lvbk9iamVjdFdyYXBwZXJSTlNfMjBDb252ZXhSZXN1bHRDYWxsYmFja0VmRTMyQnJpZGdlVHJpYW5nbGVDb252ZXhjYXN0Q2FsbGJhY2sAAFBRAADYIwAA6B8AAAAAAABgJQAAZQEAAJgBAACDAQAAmQEAAFpOMTZidENvbGxpc2lvbldvcmxkMjVvYmplY3RRdWVyeVNpbmdsZUludGVybmFsRVBLMTNidENvbnZleFNoYXBlUksxMWJ0VHJhbnNmb3JtUzVfUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclJOU18yMENvbnZleFJlc3VsdENhbGxiYWNrRWZFMzJCcmlkZ2VUcmlhbmdsZUNvbnZleGNhc3RDYWxsYmFja18wAAAAAFBRAACsJAAA6B8AAAAAAAA4JgAAjAEAAJoBAACOAQAAmwEAAJABAACRAQAAkgEAAFpOMTZidENvbGxpc2lvbldvcmxkMjVvYmplY3RRdWVyeVNpbmdsZUludGVybmFsRVBLMTNidENvbnZleFNoYXBlUksxMWJ0VHJhbnNmb3JtUzVfUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclJOU18yMENvbnZleFJlc3VsdENhbGxiYWNrRWZFMjJidENvbXBvdW5kTGVhZkNhbGxiYWNrAAAAAFBRAACQJQAAACMAAAAAAAA8JwAAHgAAAJwBAACdAQAAngEAAFpaTjE2YnRDb2xsaXNpb25Xb3JsZDI1b2JqZWN0UXVlcnlTaW5nbGVJbnRlcm5hbEVQSzEzYnRDb252ZXhTaGFwZVJLMTFidFRyYW5zZm9ybVM1X1BLMjRidENvbGxpc2lvbk9iamVjdFdyYXBwZXJSTlNfMjBDb252ZXhSZXN1bHRDYWxsYmFja0VmRU4yMmJ0Q29tcG91bmRMZWFmQ2FsbGJhY2sxMlByb2Nlc3NDaGlsZEVpUzVfUEsxNmJ0Q29sbGlzaW9uU2hhcGVFMTRMb2NhbEluZm9BZGRlcgAAUFEAAFwmAAC4BQAAAAAAALwnAACfAQAAoAEAAKEBAAAxOWJ0U2luZ2xlUmF5Q2FsbGJhY2sAMjNidEJyb2FkcGhhc2VSYXlDYWxsYmFjawAyNGJ0QnJvYWRwaGFzZUFhYmJDYWxsYmFjawAAKFEAAIwnAABQUQAAcicAAKgnAABQUQAAXCcAALAnAAAAAAAA9CcAAJ8BAACiAQAAowEAADIxYnRTaW5nbGVTd2VlcENhbGxiYWNrAFBRAADcJwAAsCcAAAAAAABAKAAApAEAAKUBAACmAQAApwEAAPz///9AKAAAqAEAAKkBAACqAQAAMTdEZWJ1Z0RyYXdjYWxsYmFjawCsUQAALCgAAAAAAAACAAAA/DYAAAIAAAAoNwAAAgQAAAAAAACQKAAAAAEAAKsBAACsAQAAMjJTcGhlcmVUcmlhbmdsZURldGVjdG9yAAAAAFBRAAB0KAAAEBQAAAAAAADgKAAArQEAAK4BAACvAQAAsAEAALEBAAAzNGJ0U3BoZXJlVHJpYW5nbGVDb2xsaXNpb25BbGdvcml0aG0AAAAAUFEAALgoAAAQFgAAAAAAAEQpAACyAQAAswEAALQBAAAAAAAAbCkAALUBAAC2AQAAtwEAALgBAAC5AQAATjIzYnRDb252ZXhDb252ZXhBbGdvcml0aG0xMENyZWF0ZUZ1bmNFAFBRAAAcKQAARBcAADIzYnRDb252ZXhDb252ZXhBbGdvcml0aG0AAABQUQAAUCkAABAWAAAAAAAAHCoAAAUBAAC6AQAAuwEAALwBAAC9AQAAWk4yM2J0Q29udmV4Q29udmV4QWxnb3JpdGhtMTZwcm9jZXNzQ29sbGlzaW9uRVBLMjRidENvbGxpc2lvbk9iamVjdFdyYXBwZXJTMl9SSzE2YnREaXNwYXRjaGVySW5mb1AxNmJ0TWFuaWZvbGRSZXN1bHRFMTNidER1bW15UmVzdWx0AAAAAFBRAACUKQAAYBUAAAAAAADUKgAABQEAAL4BAAC/AQAAwAEAAMEBAABaTjIzYnRDb252ZXhDb252ZXhBbGdvcml0aG0xNnByb2Nlc3NDb2xsaXNpb25FUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclMyX1JLMTZidERpc3BhdGNoZXJJbmZvUDE2YnRNYW5pZm9sZFJlc3VsdEUyMWJ0V2l0aG91dE1hcmdpblJlc3VsdAAAAABQUQAARCoAAGAVAAAAAAAAGCsAAAUBAADCAQAAdQEAAHYBAADDAQAAMjRidFBlcnR1cmJlZENvbnRhY3RSZXN1bHQAAFBRAAD8KgAAtB4AAAAAAABgKwAAxAEAAMUBAADGAQAAxwEAAMgBAAAyOGJ0Q29tcG91bmRDb2xsaXNpb25BbGdvcml0aG0AAFBRAABAKwAAEBYAAAAAAACsKwAAjAEAAMkBAACOAQAAygEAAJABAACRAQAAkgEAADIyYnRDb21wb3VuZExlYWZDYWxsYmFjawAAAABQUQAAkCsAAAAjAAAAAAAA8CsAAMsBAADMAQAAzQEAAM4BAADPAQAAMjNidEhhc2hlZFNpbXBsZVBhaXJDYWNoZQAAAChRAADUKwAAAAAAADwsAADQAQAA0QEAANIBAADTAQAA1AEAADM2YnRDb21wb3VuZENvbXBvdW5kQ29sbGlzaW9uQWxnb3JpdGhtAABQUQAAFCwAAGArAAAAAAAAkCwAAIwBAADVAQAA1gEAANcBAACQAQAAkQEAAJIBAAAzMGJ0Q29tcG91bmRDb21wb3VuZExlYWZDYWxsYmFjawAAAABQUQAAbCwAAAAjAABidENvbXBvdW5kQ29tcG91bmRMZWFmQ2FsbGJhY2s6OlByb2Nlc3MAAAAAAGAtAABFAQAA2AEAANkBAABIAQAASQEAAEoBAADaAQAATAEAANsBAADcAQAATwEAAFABAABRAQAAUgEAAFMBAABUAQAAVQEAAN0BAABXAQAA3gEAAFkBAADfAQAA4AEAAFwBAADhAQAA4gEAAOMBAADkAQAA5QEAAOYBAADnAQAA6AEAADE2YnRCVV9TaW1wbGV4MXRvNAAAUFEAAEwtAAAwNQAAYnRCVV9TaW1wbGV4MXRvNAAAAAABAAAAAwAAAAYAAAAAAAAAHC4AAOkBAADqAQAA6wEAAEgBAABJAQAASgEAAOwBAADtAQAA7gEAAO8BAABPAQAA8AEAAPEBAADyAQAA8wEAAFQBAAD0AQAA9QEAAGJ0Q29tcG91bmRTaGFwZUNoaWxkRGF0YQBidENvbXBvdW5kU2hhcGVEYXRhADE1YnRDb21wb3VuZFNoYXBlAABQUQAACS4AANQ1AABDb21wb3VuZA=="),f(11832,"qC4AAPYBAAD3AQAA+AEAAEgBAABJAQAASgEAAPkBAABMAQAA+gEAAPsBAAD8AQAAUAEAAFEBAAD9AQAA/gEAAFQBAAD/AQAAAAIAAFcBAAABAgAAWQEAAN8BAADgAQAAMTFidENvbmVTaGFwZQAAAFBRAACYLgAA2DYAAENvbmUAYnRDb25lU2hhcGVEYXRh"),f(11984,"9C4AAAICAAADAgAAMThidENvbnZleFBvbHloZWRyb24AAAAAKFEAANwuAAAAAAAAcC8AAPYBAAAEAgAABQIAAEgBAABJAQAASgEAAEsBAABMAQAABgIAAAcCAABPAQAACAIAAAkCAABSAQAAUwEAAFQBAAAKAgAACwIAAFcBAAAMAgAAWQEAAN8BAADgAQAAMTNidFNwaGVyZVNoYXBlAFBRAABgLwAA2DYAAFNQSEVSRQAAAAAAABQwAAANAgAADgIAAA8CAABIAQAASQEAAEoBAAAQAgAAEQIAABICAAATAgAATwEAABQCAAAVAgAAFgIAABcCAABUAQAAGAIAABkCAAAaAgAAGwIAABwCAABidFRyaWFuZ2xlTWVzaFNoYXBlRGF0YQAyMmJ0QnZoVHJpYW5nbGVNZXNoU2hhcGUAAAAAUFEAAPgvAABoMgAAAAAAALwwAAAdAgAAHgIAAB8CAABaTjIyYnRCdmhUcmlhbmdsZU1lc2hTaGFwZTE0cGVyZm9ybVJheWNhc3RFUDE4YnRUcmlhbmdsZUNhbGxiYWNrUks5YnRWZWN0b3IzUzRfRTIxTXlOb2RlT3ZlcmxhcENhbGxiYWNrADIxYnROb2RlT3ZlcmxhcENhbGxiYWNrAChRAACcMAAAUFEAADQwAAC0MAAAAAAAAFAxAAAdAgAAIAIAACECAABaTjIyYnRCdmhUcmlhbmdsZU1lc2hTaGFwZTE3cGVyZm9ybUNvbnZleGNhc3RFUDE4YnRUcmlhbmdsZUNhbGxiYWNrUks5YnRWZWN0b3IzUzRfUzRfUzRfRTIxTXlOb2RlT3ZlcmxhcENhbGxiYWNrAAAAAFBRAADcMAAAtDAAAAAAAADgMQAAHQIAACICAAAjAgAAWk5LMjJidEJ2aFRyaWFuZ2xlTWVzaFNoYXBlMTlwcm9jZXNzQWxsVHJpYW5nbGVzRVAxOGJ0VHJpYW5nbGVDYWxsYmFja1JLOWJ0VmVjdG9yM1M0X0UyMU15Tm9kZU92ZXJsYXBDYWxsYmFjawAAAFBRAABwMQAAtDAAAEJWSFRSSUFOR0xFTUVTSAAAAAAAaDIAACQCAAAlAgAADwIAAEgBAABJAQAASgEAACYCAAARAgAAEgIAACcCAABPAQAAFAIAABUCAAAoAgAAKQIAAFQBAAAqAgAAGQIAABoCAAAxOWJ0VHJpYW5nbGVNZXNoU2hhcGUAAABQUQAAUDIAADA5AAAAAAAA8DIAACsCAAAsAgAALQIAAFpOSzE5YnRUcmlhbmdsZU1lc2hTaGFwZTE5cHJvY2Vzc0FsbFRyaWFuZ2xlc0VQMThidFRyaWFuZ2xlQ2FsbGJhY2tSSzlidFZlY3RvcjNTNF9FMTZGaWx0ZXJlZENhbGxiYWNrAAAAUFEAAIgyAAAoNwAAAAAAACgzAABlAQAALgIAAC8CAAAyMVN1cHBvcnRWZXJ0ZXhDYWxsYmFjawBQUQAAEDMAAPw2AABUUklBTkdMRU1FU0g="),f(13128,"qDMAADACAAAxAgAAMgIAAEgBAABJAQAASgEAADMCAAA0AgAANQIAADYCAABPAQAAFAIAABUCAAA3AgAAOAIAAFQBAAA5AgAAMThidFN0YXRpY1BsYW5lU2hhcGUAAAAAUFEAAJAzAAAwOQAAU1RBVElDUExBTkUAYnRTdGF0aWNQbGFuZVNoYXBlRGF0YQAAAAAAAPw0AABFAQAAOgIAAPgBAABIAQAASQEAAEoBAABLAQAATAEAANsBAAAUAAAATwEAAFABAABRAQAAUgEAAFMBAABUAQAAVQEAAN0BAABXAQAA3gEAAFkBAADfAQAA4AEAAFwBAAAUAAAAFAAAABQAAAAUAAAAFAAAABQAAAAUAAAAAAAAADA1AABFAQAAOwIAADwCAABIAQAASQEAAEoBAADaAQAATAEAANsBAAAUAAAATwEAAFABAABRAQAAUgEAAFMBAABUAQAAVQEAAN0BAABXAQAA3gEAAFkBAADfAQAA4AEAAFwBAAAUAAAAFAAAABQAAAAUAAAAFAAAABQAAAAUAAAAMjNidFBvbHloZWRyYWxDb252ZXhTaGFwZQAAAFBRAADgNAAA2DYAADM0YnRQb2x5aGVkcmFsQ29udmV4QWFiYkNhY2hpbmdTaGFwZQAAAABQUQAACDUAAPw0AAAAAAAAmDUAAD0CAAA+AgAAPwIAAEgBAABJAQAASgEAAEACAABBAgAAQgIAAEMCAABPAQAAFAIAABUCAAAoAgAAKQIAAFQBAABEAgAAMTJidEVtcHR5U2hhcGUAAFBRAACINQAAMDkAAEVtcHR5AGJ0Q29sbGlzaW9uU2hhcGVEYXRhADE2YnRDb2xsaXNpb25TaGFwZQAAAChRAAC/NQAAAAAAAFA2AAD2AQAARQIAABQAAABIAQAASQEAAEoBAAAUAAAAFAAAABQAAAAUAAAATwEAABQAAAAUAAAAKAIAACkCAABUAQAAFAAAABQAAABXAQAAFAAAABQAAAAUAAAAFAAAADEzYnRDb252ZXhTaGFwZQBQUQAAQDYAANQ1AAAAAAAA2DYAAPYBAABGAgAA+AEAAEgBAABJAQAASgEAAEsBAABMAQAAFAAAABQAAABPAQAAUAEAAFEBAABSAQAAUwEAAFQBAABVAQAAFAAAAFcBAAAUAAAAWQEAAN8BAADgAQAAMjFidENvbnZleEludGVybmFsU2hhcGUAUFEAAMA2AABQNgAAMThidFRyaWFuZ2xlQ2FsbGJhY2sAAAAAKFEAAOQ2AAAzMWJ0SW50ZXJuYWxUcmlhbmdsZUluZGV4Q2FsbGJhY2sAAAAoUQAABDcAAAAAAACoNwAA9gEAAEcCAABIAgAASAEAAEkBAABKAQAASQIAAEwBAABKAgAASwIAAEwCAABNAgAAUQEAAE4CAABPAgAAVAEAAFUBAABQAgAAVwEAAFECAABZAQAA3wEAAOABAAAxNGJ0Q2Fwc3VsZVNoYXBlAAAAAFBRAACUNwAA2DYAAENhcHN1bGVTaGFwZQBidENhcHN1bGVTaGFwZURhdGEAAAAAAHQ4AABFAQAAUgIAADwCAABIAQAASQEAAEoBAABTAgAAVAIAANsBAABVAgAATwEAAFABAABRAQAAUgEAAFMBAABUAQAAVgIAAFcCAABXAQAAWAIAAFkBAADfAQAA4AEAAFwBAABZAgAAWgIAAFsCAABcAgAAXQIAAF4CAABfAgAAMjVidENvbnZleFRyaWFuZ2xlTWVzaFNoYXBlAFBRAABYOAAAMDUAAAAAAAC0OAAAKwIAAGACAABhAgAAMjZMb2NhbFN1cHBvcnRWZXJ0ZXhDYWxsYmFjawAAAABQUQAAlDgAACg3AABDb252ZXhUcmltZXNoAAAAAAAAADA5AABiAgAAYwIAABQAAABIAQAASQEAAEoBAAAUAAAAFAAAABQAAAAUAAAATwEAABQCAAAVAgAAKAIAACkCAABUAQAAFAAAADE0YnRDb25jYXZlU2hhcGUAAAAAUFEAABw5AADUNQAAAAAAANQ5AABFAQAAZAIAAGUCAABIAQAASQEAAEoBAABmAgAATAEAAGcCAABoAgAATwEAAGkCAABRAQAAUgEAAFMBAABUAQAAagIAAGsCAABXAQAAbAIAAFkBAABtAgAAbgIAAFwBAABvAgAAcAIAAHECAAByAgAAcwIAAHQCAAB1AgAAdgIAADEwYnRCb3hTaGFwZQAAAABQUQAAxDkAAPw0AABCb3gAAACAPwAAgL8="),f(14854,"gD8AAIC/"),f(14886,"gD8AAIC/"),f(14900,"AQAAAAIAAAAAAAAAAQAAAAIAAAADAAAABAAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAMAAAAEAAAABQAAAAYAAAAHAAAABQAAAAYAAAAHAAAABwAAAAAAAADIOgAAdwIAAHgCAAB5AgAAegIAAHsCAAB8AgAAfQIAAH4CAAAxNGJ0T3B0aW1pemVkQnZoAAAAAFBRAAC0OgAAuEIAAAAAAABMOwAAKwIAAH8CAACAAgAAWk4xNGJ0T3B0aW1pemVkQnZoNWJ1aWxkRVAyM2J0U3RyaWRpbmdNZXNoSW50ZXJmYWNlYlJLOWJ0VmVjdG9yM1M0X0UyOVF1YW50aXplZE5vZGVUcmlhbmdsZUNhbGxiYWNrAFBRAADoOgAAKDcAAAAAAADIOwAAKwIAAIECAACCAgAAWk4xNGJ0T3B0aW1pemVkQnZoNWJ1aWxkRVAyM2J0U3RyaWRpbmdNZXNoSW50ZXJmYWNlYlJLOWJ0VmVjdG9yM1M0X0UyME5vZGVUcmlhbmdsZUNhbGxiYWNrAABQUQAAbDsAACg3AAAAAAAAQDwAAIMCAACEAgAAhQIAAEgBAABJAQAASgEAAIYCAACHAgAAiAIAAIkCAABPAQAAFAIAABUCAAAoAgAAKQIAAFQBAACKAgAAiwIAADI1YnRIZWlnaHRmaWVsZFRlcnJhaW5TaGFwZQBQUQAAJDwAADA5AABIRUlHSFRGSUVMRAAAAAAA1DwAAPYBAACMAgAAjQIAAEgBAABJAQAASgEAAI4CAABMAQAAjwIAAJACAACRAgAAkgIAAFEBAACTAgAAlAIAAFQBAACVAgAAlgIAAFcBAACXAgAAWQEAAN8BAADgAQAAmAIAADE1YnRDeWxpbmRlclNoYXBlAAAAUFEAAMA8AADYNgAAQ3lsaW5kZXJZAGJ0Q3lsaW5kZXJTaGFwZURhdGEAYnRJbnRJbmRleERhdGEAYnRTaG9ydEludEluZGV4VHJpcGxldERhdGEAYnRDaGFySW5kZXhUcmlwbGV0RGF0YQBidFZlY3RvcjNGbG9hdERhdGEAYnRWZWN0b3IzRG91YmxlRGF0YQBidE1lc2hQYXJ0RGF0YQBidFN0cmlkaW5nTWVzaEludGVyZmFjZURhdGEAMjNidFN0cmlkaW5nTWVzaEludGVyZmFjZQAAKFEAAJE9AAAAAAAAGD4AAJkCAACaAgAAmwIAAJwCAACdAgAAngIAAJ8CAACgAgAAoQIAAKICAACjAgAApAIAAKUCAACmAgAApwIAADI2YnRUcmlhbmdsZUluZGV4VmVydGV4QXJyYXkAAAAAUFEAAPg9AACsPQAAAAAAAHw+AACoAgAAqQIAAJsCAACcAgAAnQIAAJ4CAACfAgAAoAIAAKoCAACrAgAAowIAAKQCAAClAgAApgIAAKcCAAAxNGJ0VHJpYW5nbGVNZXNoAAAAAFBRAABoPgAAGD4AAAAAAAB4PwAArAIAAK0CAACuAgAArwIAALACAACxAgAAsgIAALMCAAC0AgAAtQIAALYCAAC3AgAAuAIAALkCAAC6AgAAuwIAALwCAABidEhhc2hlZE92ZXJsYXBwaW5nUGFpckNhY2hlOjpwcm9jZXNzQWxsT3ZlcmxhcHBpbmdQYWlycwAyOGJ0SGFzaGVkT3ZlcmxhcHBpbmdQYWlyQ2FjaGUAMjJidE92ZXJsYXBwaW5nUGFpckNhY2hlADI1YnRPdmVybGFwcGluZ1BhaXJDYWxsYmFjawAAAAAoUQAART8AAFBRAAAsPwAAZD8AAFBRAAANPwAAbD8AAAAAAAAIQAAA+AAAAL0CAAC+AgAAWk4yOGJ0SGFzaGVkT3ZlcmxhcHBpbmdQYWlyQ2FjaGUxOWNsZWFuUHJveHlGcm9tUGFpcnNFUDE3YnRCcm9hZHBoYXNlUHJveHlQMTJidERpc3BhdGNoZXJFMTdDbGVhblBhaXJDYWxsYmFjawAAAFBRAACYPwAAEBMAAAAAAACsQAAA+AAAAL8CAADAAgAAWk4yOGJ0SGFzaGVkT3ZlcmxhcHBpbmdQYWlyQ2FjaGUzN3JlbW92ZU92ZXJsYXBwaW5nUGFpcnNDb250YWluaW5nUHJveHlFUDE3YnRCcm9hZHBoYXNlUHJveHlQMTJidERpc3BhdGNoZXJFMThSZW1vdmVQYWlyQ2FsbGJhY2sAAAAAUFEAAChAAAAQEwAAAAAAACxBAADBAgAAwgIAAMMCAADEAgAAxQIAAMYCAADHAgAAyAIAAMkCAADKAgAAywIAAMwCAADNAgAAzgIAADE2YnREYnZ0QnJvYWRwaGFzZQAyMWJ0QnJvYWRwaGFzZUludGVyZmFjZQAAKFEAAAtBAABQUQAA+EAAACRBAAAAAAAAdEEAAIwBAADPAgAA0AIAANECAACQAQAAkQEAAJIBAAAxOGJ0RGJ2dFRyZWVDb2xsaWRlcgAAAABQUQAAXEEAAAAjAAAAAAAAvEEAAIwBAADSAgAAjgEAANMCAACQAQAAkQEAAJIBAAAxOUJyb2FkcGhhc2VSYXlUZXN0ZXIAAABQUQAApEEAAAAjAAAAAAAABEIAAIwBAADUAgAAjgEAANUCAACQAQAAkQEAAJIBAAAyMEJyb2FkcGhhc2VBYWJiVGVzdGVyAABQUQAA7EEAAAAjAAAxMmJ0RGlzcGF0Y2hlcgAAKFEAABBCAAAAAAAAuEIAANYCAADXAgAAeQIAAHoCAAB7AgAAfAIAAH0CAABidE9wdGltaXplZEJ2aE5vZGVEYXRhAGJ0UXVhbnRpemVkQnZoTm9kZURhdGEAYnRCdmhTdWJ0cmVlSW5mb0RhdGEAYnRRdWFudGl6ZWRCdmhGbG9hdERhdGEAMTRidFF1YW50aXplZEJ2aAAoUQAAp0IAAAAAAAC8FQAACgEAANgCAAAUAAAAFAAAABQAAABSb290AC0rICAgMFgweAAobnVsbCk="),f(17152,"EQAKABEREQAAAAAFAAAAAAAACQAAAAAL"),f(17184,"EQAPChEREQMKBwABEwkLCwAACQYLAAALAAYRAAAAERER"),f(17233,"Cw=="),f(17242,"EQAKChEREQAKAAACAAkLAAAACQALAAAL"),f(17291,"DA=="),f(17303,"DAAAAAAMAAAAAAkMAAAAAAAMAAAM"),f(17349,"Dg=="),f(17361,"DQAAAAQNAAAAAAkOAAAAAAAOAAAO"),f(17407,"EA=="),f(17419,"DwAAAAAPAAAAAAkQAAAAAAAQAAAQAAASAAAAEhIS"),f(17474,"EgAAABISEgAAAAAAAAk="),f(17523,"Cw=="),f(17535,"CgAAAAAKAAAAAAkLAAAAAAALAAAL"),f(17581,"DA=="),f(17593,"DAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGLTBYKzBYIDBYLTB4KzB4IDB4AGluZgBJTkYAbmFuAE5BTgAu"),f(17680,"AwAAAAQAAAAEAAAABgAAAIP5ogBETm4A/CkVANFXJwDdNPUAYtvAADyZlQBBkEMAY1H+ALveqwC3YcUAOm4kANJNQgBJBuAACeouAByS0QDrHf4AKbEcAOg+pwD1NYIARLsuAJzphAC0JnAAQX5fANaROQBTgzkAnPQ5AItfhAAo+b0A+B87AN7/lwAPmAUAES/vAApaiwBtH20Az342AAnLJwBGT7cAnmY/AC3qXwC6J3UA5evHAD178QD3OQcAklKKAPtr6gAfsV8ACF2NADADVgB7/EYA8KtrACC8zwA29JoA46kdAF5hkQAIG+YAhZllAKAUXwCNQGgAgNj/ACdzTQAGBjEAylYVAMmocwB74mAAa4zAABnERwDNZ8MACejcAFmDKgCLdsQAphyWAESv3QAZV9EApT4FAAUH/wAzfj8AwjLoAJhP3gC7fTIAJj3DAB5r7wCf+F4ANR86AH/yygDxhx0AfJAhAGokfADVbvoAMC13ABU7QwC1FMYAwxmdAK3EwgAsTUEADABdAIZ9RgDjcS0Am8aaADNiAAC00nwAtKeXADdV1QDXPvYAoxAYAE12/ABknSoAcNerAGN8+AB6sFcAFxXnAMBJVgA71tkAp4Q4ACQjywDWincAWlQjAAAfuQDxChsAGc7fAJ8x/wBmHmoAmVdhAKz7RwB+f9gAImW3ADLoiQDmv2AA78TNAGw2CQBdP9QAFt7XAFg73gDem5IA0iIoACiG6ADiWE0AxsoyAAjjFgDgfcsAF8BQAPMdpwAY4FsALhM0AIMSYgCDSAEA9Y5bAK2wfwAe6fIASEpDABBn0wCq3dgArl9CAGphzgAKKKQA05m0AAam8gBcd38Ao8KDAGE8iACKc3gAr4xaAG/XvQAtpmMA9L/LAI2B7wAmwWcAVcpFAMrZNgAoqNIAwmGNABLJdwAEJhQAEkabAMRZxADIxUQATbKRAAAX8wDUQ60AKUnlAP3VEAAAvvwAHpTMAHDO7gATPvUA7PGAALPnwwDH+CgAkwWUAMFxPgAuCbMAC0XzAIgSnACrIHsALrWfAEeSwgB7Mi8ADFVtAHKnkABr5x8AMcuWAHkWSgBBeeIA9N+JAOiUlwDi5oQAmTGXAIjtawBfXzYAu/0OAEiatABnpGwAcXJCAI1dMgCfFbgAvOUJAI0xJQD3dDkAMAUcAA0MAQBLCGgALO5YAEeqkAB05wIAvdYkAPd9pgBuSHIAnxbvAI6UpgC0kfYA0VNRAM8K8gAgmDMA9Ut+ALJjaADdPl8AQF0DAIWJfwBVUikAN2TAAG3YEAAySDIAW0x1AE5x1ABFVG4ACwnBACr1aQAUZtUAJwedAF0EUAC0O9sA6nbFAIf5FwBJa30AHSe6AJZpKQDGzKwArRRUAJDiagCI2YkALHJQAASkvgB3B5QA8zBwAAD8JwDqcagAZsJJAGTgPQCX3YMAoz+XAEOU/QANhowAMUHeAJI5nQDdcIwAF7fnAAjfOwAVNysAXICgAFqAkwAQEZIAD+jYAGyArwDb/0sAOJAPAFkYdgBipRUAYcu7AMeJuQAQQL0A0vIEAEl1JwDrtvYA2yK7AAoUqgCJJi8AZIN2AAk7MwAOlBoAUTqqAB2jwgCv7a4AXCYSAG3CTQAtepwAwFaXAAM/gwAJ8PYAK0CMAG0xmQA5tAcADCAVANjDWwD1ksQAxq1LAE7KpQCnN80A5qk2AKuSlADdQmgAGWPeAHaM7wBoi1IA/Ns3AK6hqwDfFTEAAK6hAAz72gBkTWYA7QW3ACllMABXVr8AR/86AGr5uQB1vvMAKJPfAKuAMABmjPYABMsVAPoiBgDZ5B0APbOkAFcbjwA2zQkATkLpABO+pAAzI7UA8KoaAE9lqADSwaUACz8PAFt4zQAj+XYAe4sEAIkXcgDGplMAb27iAO/rAACbSlgAxNq3AKpmugB2z88A0QIdALHxLQCMmcEAw613AIZI2gD3XaAAxoD0AKzwLwDd7JoAP1y8ANDebQCQxx8AKtu2AKMlOgAAr5oArVOTALZXBAApLbQAS4B+ANoHpwB2qg4Ae1mhABYSKgDcty0A+uX9AInb/gCJvv0A5HZsAAap/AA+gHAAhW4VAP2H/wAoPgcAYWczACoYhgBNveoAs+evAI9tbgCVZzkAMb9bAITXSAAw3xYAxy1DACVhNQDJcM4AMMu4AL9s/QCkAKIABWzkAFrdoAAhb0cAYhLSALlchABwYUkAa1bgAJlSAQBQVTcAHtW3ADPxxAATbl8AXTDkAIUuqQAdssMAoTI2AAi3pADqsdQAFvchAI9p5AAn/3cADAOAAI1ALQBPzaAAIKWZALOi0wAvXQoAtPlCABHaywB9vtAAm9vBAKsXvQDKooEACGpcAC5VFwAnAFUAfxTwAOEHhgAUC2QAlkGNAIe+3gDa/SoAayW2AHuJNAAF8/4Aub+eAGhqTwBKKqgAT8RaAC34vADXWpgA9MeVAA1NjQAgOqYApFdfABQ/sQCAOJUAzCABAHHdhgDJ3rYAv2D1AE1lEQABB2sAjLCsALLA0ABRVUgAHvsOAJVywwCjBjsAwEA1AAbcewDgRcwATin6ANbKyADo80EAfGTeAJtk2ADZvjEApJfDAHdY1ABp48UA8NoTALo6PABGGEYAVXVfANK99QBuksYArC5dAA5E7QAcPkIAYcSHACn96QDn1vMAInzKAG+RNQAI4MUA/9eNAG5q4gCw/cYAkwjBAHxddABrrbIAzW6dAD5yewDGEWoA98+pAClz3wC1yboAtwBRAOKyDQB0uiQA5X1gAHTYigANFSwAgRgMAH5mlAABKRYAn3p2AP39vgBWRe8A2X42AOzZEwCLurkAxJf8ADGoJwDxbsMAlMU2ANioVgC0qLUAz8wOABKJLQBvVzQALFaJAJnO4wDWILkAa16qAD4qnAARX8wA/QtKAOH0+wCOO20A4oYsAOnUhAD8tKkA7+7RAC41yQAvOWEAOCFEABvZyACB/AoA+0pqAC8c2ABTtIQATpmMAFQizAAqVdwAwMbWAAsZlgAacLgAaZVkACZaYAA/Uu4AfxEPAPS1EQD8y/UANLwtADS87gDoXcwA3V5gAGeOmwCSM+8AyRe4AGFYmwDhV7wAUYPGANg+EADdcUgALRzdAK8YoQAhLEYAWfPXANl6mACeVMAAT4b6AFYG/ADlea4AiSI2ADitIgBnk9wAVeiqAIImOADK55sAUQ2kAJkzsQCp1w4AaQVIAGWy8AB/iKcAiEyXAPnRNgAhkrMAe4JKAJjPIQBAn9wA3EdVAOF0OgBn60IA/p3fAF7UXwB7Z6QAuqx6AFX2ogAriCMAQbpVAFluCAAhKoYAOUeDAInj5gDlntQASftAAP9W6QAcD8oAxVmKAJT6KwDTwcUAD8XPANtargBHxYYAhUNiACGGOwAseZQAEGGHACpMewCALBoAQ78SAIgmkAB4PIkAqMTkAOXbewDEOsIAJvTqAPdnigANkr8AZaMrAD2TsQC9fAsApFHcACfdYwBp4d0AmpQZAKgplQBozigACe20AESfIABOmMoAcIJjAH58IwAPuTIAp/WOABRW5wAh8QgAtZ0qAG9+TQClGVEAtfmrAILf1gCW3WEAFjYCAMQ6nwCDoqEAcu1tADmNegCCuKkAazJcAEYnWwAANO0A0gB3APz0VQABWU0A4HGA"),f(20467,"QPsh+T8AAAAALUR0PgAAAICYRvg8AAAAYFHMeDsAAACAgxvwOQAAAEAgJXo4AAAAgCKC4zYAAAAAHfNpNThj7T7aD0k/Xph7P9oPyT9pN6wxaCEiM7QPFDNoIaIz2w9JP9sPSb/kyxZA5MsWwAAAAAAAAACA2w9JQNsPScAAAIA/AADAPwAAAADcz9E1AAAAAADAFT8gUwAAUHVyZSB2aXJ0dWFsIGZ1bmN0aW9uIGNhbGxlZCEAU3Q5dHlwZV9pbmZvAAAoUQAAqlAAAE4xMF9fY3h4YWJpdjExNl9fc2hpbV90eXBlX2luZm9FAAAAAFBRAADAUAAAuFAAAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQAAAFBRAADwUAAA5FAAAAAAAAAUUQAA5gIAAOcCAADoAgAA6QIAAOoCAADrAgAA7AIAAO0CAAAAAAAAmFEAAOYCAADuAgAA6AIAAOkCAADqAgAA7wIAAPACAADxAgAATjEwX19jeHhhYml2MTIwX19zaV9jbGFzc190eXBlX2luZm9FAAAAAFBRAABwUQAAFFEAAAAAAAD0UQAA5gIAAPICAADoAgAA6QIAAOoCAADzAgAA9AIAAPUCAABOMTBfX2N4eGFiaXYxMjFfX3ZtaV9jbGFzc190eXBlX2luZm9FAAAAUFEAAMxRAAAUUQ=="),f(20995,"QArXozwBAAAAbxKDOgEAAADbAgAA3AIAAN0CAADeAgAA3wIAAOAC"),f(21224,"OGg="),f(21280,"BQ=="),f(21292,"4wI="),f(21316,"5AIAAOUCAABYaA=="),f(21340,"Ag=="),f(21355,"//////8="),function(e,t,i){t.memory;var r=n,a=new e.Int8Array(i),f=new e.Int16Array(i),h=new e.Int32Array(i),m=new e.Uint8Array(i),d=new e.Uint16Array(i),v=new e.Uint32Array(i),g=new e.Float32Array(i),A=new e.Float64Array(i),y=e.Math.imul,x=e.Math.fround,b=e.Math.abs,C=e.Math.clz32,S=e.Math.min,E=e.Math.max,w=e.Math.floor,T=(e.Math.ceil,e.Math.sqrt),P=t.abort,I=(e.NaN,e.Infinity,t.a),R=t.b,N=t.c,D=t.d,M=t.e,O=t.f,L=t.g,z=5270112,F=0;function B(e,t,n,i){var o,r,a,s,c,l=0,p=x(0),u=x(0),_=0,f=0,m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0);f=h[t+8>>2],h[f>>2]=1065353216,r=h[t+24>>2],h[f+(s=4+(o=r<<2)|0)>>2]=1065353216,h[f+(c=8+(a=r<<3)|0)>>2]=1065353216,m=g[n+20>>2],A=g[n+24>>2],d=g[n+36>>2],p=g[e+304>>2],y=g[n+40>>2],u=g[e+308>>2],b=g[n+8>>2],C=g[n>>2],S=g[n+4>>2],E=g[n+16>>2],w=g[n+32>>2],v=g[e+300>>2],h[12+(f=z-16|0)>>2]=0,d=x(x(x(v*w)+x(p*d))+x(u*y)),g[f+8>>2]=d,m=x(x(x(v*E)+x(p*m))+x(u*A)),g[f+4>>2]=m,p=x(x(x(C*v)+x(S*p))+x(b*u)),g[f>>2]=p,l=h[t+12>>2],h[l+12>>2]=0,g[l+8>>2]=-m,g[l+4>>2]=d,h[l>>2]=0,h[12+(_=l+o|0)>>2]=0,g[_+8>>2]=p,h[_+4>>2]=0,g[_>>2]=-d,h[8+(l=l+a|0)>>2]=0,h[l+12>>2]=0,g[l+4>>2]=-p,g[l>>2]=m,l=h[t+16>>2],h[l>>2]=-1082130432,h[l+s>>2]=-1082130432,h[l+c>>2]=-1082130432,m=g[i+36>>2],A=g[i+40>>2],d=g[i+20>>2],p=g[e+320>>2],y=g[i+24>>2],u=g[e+324>>2],b=g[i+8>>2],C=g[i>>2],S=g[i+4>>2],E=g[i+32>>2],w=g[i+16>>2],v=g[e+316>>2],l=h[t+20>>2],h[l+12>>2]=0,h[l>>2]=0,d=x(x(x(v*w)+x(p*d))+x(u*y)),g[l+8>>2]=d,m=x(x(x(v*E)+x(p*m))+x(u*A)),g[l+4>>2]=-m,h[12+(_=l+o|0)>>2]=0,p=x(x(x(C*v)+x(S*p))+x(b*u)),g[_+8>>2]=-p,h[_+4>>2]=0,g[_>>2]=m,h[8+(l=l+a|0)>>2]=0,h[l+12>>2]=0,g[l+4>>2]=p,g[l>>2]=-d,l=h[t+28>>2],_=h[e+332>>2],u=x(g[(1&_?e+336|0:t+4|0)>>2]*g[t>>2]),g[l>>2]=u*x(x(x(p+g[i+48>>2])-g[f>>2])-g[n+48>>2]),g[l+o>>2]=u*x(x(x(d+g[i+52>>2])-g[f+4>>2])-g[n+52>>2]),g[l+a>>2]=u*x(x(x(m+g[i+56>>2])-g[f+8>>2])-g[n+56>>2]),n=r<<1,2&_&&(i=h[t+32>>2],h[i>>2]=h[e+340>>2],h[i+o>>2]=h[e+340>>2],h[i+(n<<2)>>2]=h[e+340>>2]),u=g[e+356>>2],v=x(-u),p=u,u>x(0)&&(g[h[t+36>>2]>>2]=v,g[h[t+40>>2]>>2]=u,p=g[e+356>>2]),p>x(0)&&(g[(i=r<<2)+h[t+36>>2]>>2]=v,g[i+h[t+40>>2]>>2]=u,p=g[e+356>>2]),p>x(0)&&(g[(n<<=2)+h[t+36>>2]>>2]=v,g[n+h[t+40>>2]>>2]=u),h[t+48>>2]=h[e+352>>2]}function U(e,t,n,i,o,r,s,c,l){var p,u,_,f=0,d=0,v=0,A=0,x=0,b=0,C=0,S=0;for(z=p=z-112|0,h[p+100>>2]=0,h[p+104>>2]=0,h[p+108>>2]=0,h[p+92>>2]=0,h[p+96>>2]=0,a[p+88|0]=0,h[p+84>>2]=0,a[p+80|0]=0,h[p+76>>2]=0,a[p+72|0]=0,h[p+68>>2]=0,a[p+64|0]=0,h[p+56>>2]=0,h[p+60>>2]=1036831949,a[p+52|0]=0,h[p+48>>2]=0,h[p+40>>2]=0,h[p+44>>2]=1063675494,h[p+32>>2]=0,h[p+36>>2]=1045220557,h[p+24>>2]=1065353216,h[p+28>>2]=-1082130432,u=t+4|0,_=e+680|0;;){if(A=m[112+(v=x+_|0)|0],(S=h[276+(f=(C=x<<2)+_|0)>>2])||(d=A,A=1,d||(A=0,m[798+(e+x|0)|0]))){d=h[f+32>>2],h[p+108>>2]=S,h[p+32>>2]=d,h[p+104>>2]=h[f+260>>2],h[p+96>>2]=h[f+228>>2],d=h[f+244>>2],a[p+52|0]=A,h[p+100>>2]=d,a[p+64|0]=m[v+115|0],h[p+68>>2]=h[f+124>>2],a[p+72|0]=m[v+118|0],h[p+76>>2]=h[f+140>>2],a[p+80|0]=m[v+156|0],h[p+84>>2]=h[f+160>>2],a[p+88|0]=m[v+176|0],h[p+92>>2]=h[f+180>>2],h[p+28>>2]=h[f+16>>2],h[p+24>>2]=h[f>>2],h[p+60>>2]=h[f+212>>2],h[p+56>>2]=h[f+196>>2],d=e+C|0,h[p+8>>2]=h[d+1236>>2],h[p+12>>2]=h[d+1252>>2],A=h[d+1268>>2],h[p+20>>2]=0,h[p+16>>2]=A,A=p,v=d+744|0,1&(f=h[e+1456>>2]>>C)||(v=h[t+32>>2]),h[A+40>>2]=h[v>>2],h[p+36>>2]=h[(2&f?d+728|0:u)>>2],h[p+48>>2]=h[(4&f?d+776|0:h[t+32>>2])>>2],h[p+44>>2]=h[(8&f?d+760|0:u)>>2],A=1,v=((x+2&255)>>>0)%3|0,d=y(((x+1&255)>>>0)%3|0,88)+e|0;e:if((f=h[d+1052>>2]+-1|0)>>>0<=3){t:switch(f-2|0){case 0:A=(b=+g[d+1040>>2])<-.001|b>.001;break e;case 1:break t;default:break e}if(+g[d+1040>>2]<-.001)break e;A=+g[d+1044>>2]>.001}else A=0;f=1,d=y(v,88)+e|0;e:if(!((v=h[d+1052>>2]+-1|0)>>>0>3)){t:{n:switch(v-2|0){case 0:if((b=+g[d+1040>>2])<-.001|b>.001)break t;break e;case 1:break n;default:break t}if(!(+g[d+1040>>2]<-.001||+g[d+1044>>2]>.001))break e}f=0}n=je(e,p+24|0,i,o,r,s,c,l,t,n,p+8|0,0,A?f:1)+n|0}if(3==(0|(x=x+1|0)))break}z=p+112|0}function j(e){var t,n,i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=0,A=x(0),y=x(0),b=x(0),C=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0);z=t=z-48|0,f=g[e+1332>>2],A=g[e+1300>>2],y=g[e+1316>>2],b=g[e+1336>>2],C=g[e+1304>>2],w=g[e+1320>>2],P=g[e+1340>>2],I=g[e+1308>>2],R=g[e+1324>>2],l=g[e+1244>>2],p=g[e+1256>>2],r=g[e+1272>>2],s=g[e+1240>>2],a=g[e+1268>>2],_=g[e+1260>>2],c=g[e+1252>>2],u=g[e+1276>>2],i=g[e+1236>>2],h[t+44>>2]=0,h[t+28>>2]=0,M=x(x(p*u)-x(_*r)),m=x(x(_*a)-x(u*c)),d=x(x(r*c)-x(p*a)),o=x(x(1)/x(x(x(i*M)+x(s*m))+x(d*l))),d=x(d*o),N=x(x(x(a*s)-x(r*i))*o),D=x(x(x(p*i)-x(c*s))*o),g[t+40>>2]=x(x(I*d)+x(R*N))+x(P*D),g[t+36>>2]=x(x(C*d)+x(N*w))+x(D*b),m=x(m*o),a=x(x(x(u*i)-x(a*l))*o),i=x(x(x(c*l)-x(_*i))*o),g[t+24>>2]=x(x(I*m)+x(R*a))+x(P*i),g[t+20>>2]=x(x(C*m)+x(a*w))+x(i*b),h[t+12>>2]=0,g[t+32>>2]=x(f*D)+x(x(A*d)+x(y*N)),g[t+16>>2]=x(f*i)+x(x(A*m)+x(y*a)),i=x(M*o),r=x(x(x(r*l)-x(u*s))*o),o=x(x(x(_*s)-x(p*l))*o),g[t+8>>2]=x(x(I*i)+x(R*r))+x(P*o),g[t+4>>2]=x(x(i*C)+x(r*w))+x(o*b),g[t>>2]=x(f*o)+x(x(A*i)+x(y*r)),n=e;e:{t:{n:{i:{o:{r:{a:{s:{if((v=h[e+1232>>2])>>>0<=5){c:{switch(v-1|0){default:We(t,e+1364|0);break c;case 0:!function(e,t){var n=x(0),i=x(0);if((n=g[e+16>>2])<x(1))return n>x(-1)?(g[t>>2]=So(g[e+24>>2],g[e+20>>2]),g[t+4>>2]=So(g[e+32>>2],g[e>>2]),void(g[t+8>>2]=Kr(x(S(x(E(x(-g[e+16>>2]),x(-1))),x(1)))))):(n=g[e+40>>2],i=g[e+8>>2],h[t+4>>2]=0,g[t>>2]=-So(x(-i),n),void(g[t+8>>2]=1.5707963705062866));n=g[e+40>>2],i=g[e+8>>2],h[t+4>>2]=0,g[t>>2]=So(x(-i),n),g[t+8>>2]=-1.5707963705062866}(t,e+1364|0);break c;case 1:!function(e,t){var n=x(0);if((n=g[e+36>>2])<x(1)){if(n>x(-1))return g[t>>2]=Kr(x(S(x(E(x(-n),x(-1))),x(1)))),g[t+4>>2]=So(g[e+32>>2],g[e+40>>2]),void(g[t+8>>2]=So(g[e+4>>2],g[e+20>>2]));h[t>>2]=1070141403,g[t+4>>2]=-So(x(-g[e+16>>2]),g[e>>2])}else h[t>>2]=-1077342245,g[t+4>>2]=So(x(-g[e+16>>2]),g[e>>2]);g[t+8>>2]=0}(t,e+1364|0);break c;case 2:!function(e,t){var n=x(0);if((n=g[e+4>>2])<x(1))return n>x(-1)?(g[t>>2]=So(x(-g[e+36>>2]),g[e+20>>2]),g[t+4>>2]=So(x(-g[e+8>>2]),g[e>>2]),void(g[t+8>>2]=Kr(x(S(x(E(g[e+4>>2],x(-1))),x(1)))))):(h[t>>2]=0,g[t+4>>2]=-So(g[e+24>>2],g[e+40>>2]),void(g[t+8>>2]=-1.5707963705062866));h[t>>2]=0,g[t+4>>2]=So(g[e+24>>2],g[e+40>>2]),g[t+8>>2]=1.5707963705062866}(t,e+1364|0);break c;case 3:!function(e,t){var n=x(0),i=0;if(i=t,(n=g[e+24>>2])<x(1)){if(n>x(-1))return g[t>>2]=Kr(x(S(x(E(n,x(-1))),x(1)))),g[t+4>>2]=So(x(-g[e+8>>2]),g[e+40>>2]),void(g[t+8>>2]=So(x(-g[e+16>>2]),g[e+20>>2]));h[t>>2]=-1077342245,h[t+4>>2]=0,n=x(-So(g[e+32>>2],g[e>>2]))}else h[t>>2]=1070141403,h[t+4>>2]=0,n=So(g[e+32>>2],g[e>>2]);g[i+8>>2]=n}(t,e+1364|0);break c;case 4:}!function(e,t){var n=x(0),i=0;if(i=t,(n=g[e+8>>2])<x(1)){if(n>x(-1))return g[t>>2]=So(g[e+24>>2],g[e+40>>2]),g[t+4>>2]=Kr(x(S(x(E(x(-g[e+8>>2]),x(-1))),x(1)))),void(g[t+8>>2]=So(g[e+4>>2],g[e>>2]));h[t>>2]=0,h[t+4>>2]=1070141403,n=x(-So(g[e+16>>2],g[e+32>>2]))}else h[t>>2]=0,h[t+4>>2]=-1077342245,n=So(x(-g[e+16>>2]),x(-g[e+32>>2]));g[i+8>>2]=n}(t,e+1364|0)}v=h[e+1232>>2]}if(v>>>0<=5)switch(v-1|0){case 4:break n;case 3:break i;case 2:break o;case 1:break r;case 0:break a;default:break s}l=g[e+1420>>2],s=g[e+1416>>2],i=g[e+1412>>2],p=g[e+1404>>2],r=g[e+1400>>2],a=g[e+1396>>2],_=g[e+1388>>2],c=g[e+1384>>2],o=g[e+1380>>2];break e}h[e+1408>>2]=0,h[e+1424>>2]=0,h[e+1392>>2]=0,o=g[e+1332>>2],u=g[e+1260>>2],i=g[e+1316>>2],f=g[e+1276>>2],a=x(x(o*u)-x(i*f)),g[e+1396>>2]=a,c=g[e+1244>>2],s=g[e+1300>>2],p=x(x(i*c)-x(u*s)),g[e+1404>>2]=p,r=x(x(s*f)-x(o*c)),g[e+1400>>2]=r,l=x(x(s*r)-x(i*a)),g[e+1420>>2]=l,s=x(x(o*a)-x(s*p)),g[e+1416>>2]=s,i=x(x(i*p)-x(o*r)),g[e+1412>>2]=i,_=x(x(u*a)-x(c*r)),g[e+1388>>2]=_,c=x(x(c*p)-x(f*a)),g[e+1384>>2]=c,o=x(x(f*r)-x(u*p));break t}h[e+1424>>2]=0,h[e+1408>>2]=0,h[e+1392>>2]=0,o=g[e+1316>>2],u=g[e+1272>>2],a=g[e+1332>>2],f=g[e+1256>>2],i=x(x(o*u)-x(a*f)),g[e+1412>>2]=i,r=g[e+1300>>2],c=g[e+1240>>2],l=x(x(f*r)-x(o*c)),g[e+1420>>2]=l,s=x(x(a*c)-x(r*u)),g[e+1416>>2]=s,p=x(x(o*i)-x(r*s)),g[e+1404>>2]=p,r=x(x(r*l)-x(a*i)),g[e+1400>>2]=r,a=x(x(a*s)-x(o*l)),g[e+1396>>2]=a,_=x(x(c*s)-x(f*i)),g[e+1388>>2]=_,c=x(x(u*i)-x(c*l)),g[e+1384>>2]=c,o=x(x(f*l)-x(u*s));break t}h[e+1424>>2]=0,h[e+1408>>2]=0,h[e+1392>>2]=0,s=g[e+1304>>2],a=g[e+1260>>2],i=g[e+1320>>2],r=g[e+1244>>2],_=x(x(s*a)-x(i*r)),g[e+1388>>2]=_,p=g[e+1336>>2],u=g[e+1276>>2],c=x(x(r*p)-x(s*u)),g[e+1384>>2]=c,o=x(x(i*u)-x(p*a)),g[e+1380>>2]=o,l=x(x(i*o)-x(s*c)),g[e+1420>>2]=l,s=x(x(s*_)-x(p*o)),g[e+1416>>2]=s,i=x(x(p*c)-x(i*_)),g[e+1412>>2]=i,p=x(x(r*c)-x(a*o)),g[e+1404>>2]=p,r=x(x(u*o)-x(r*_)),g[e+1400>>2]=r,a=x(x(a*_)-x(u*c)),g[e+1396>>2]=a;break e}h[e+1424>>2]=0,h[e+1408>>2]=0,h[e+1392>>2]=0,o=g[e+1252>>2],u=g[e+1336>>2],a=g[e+1268>>2],f=g[e+1320>>2],i=x(x(o*u)-x(a*f)),g[e+1412>>2]=i,r=g[e+1236>>2],c=g[e+1304>>2],l=x(x(f*r)-x(o*c)),g[e+1420>>2]=l,s=x(x(a*c)-x(r*u)),g[e+1416>>2]=s,p=x(x(o*i)-x(r*s)),g[e+1404>>2]=p,r=x(x(r*l)-x(a*i)),g[e+1400>>2]=r,a=x(x(a*s)-x(o*l)),g[e+1396>>2]=a,_=x(x(c*s)-x(f*i)),g[e+1388>>2]=_,c=x(x(u*i)-x(c*l)),g[e+1384>>2]=c,o=x(x(f*l)-x(u*s));break t}h[e+1424>>2]=0,h[e+1408>>2]=0,h[e+1392>>2]=0,s=g[e+1240>>2],a=g[e+1324>>2],i=g[e+1256>>2],r=g[e+1308>>2],_=x(x(s*a)-x(i*r)),g[e+1388>>2]=_,p=g[e+1272>>2],u=g[e+1340>>2],c=x(x(r*p)-x(s*u)),g[e+1384>>2]=c,o=x(x(i*u)-x(p*a)),g[e+1380>>2]=o,l=x(x(i*o)-x(s*c)),g[e+1420>>2]=l,s=x(x(s*_)-x(p*o)),g[e+1416>>2]=s,i=x(x(p*c)-x(i*_)),g[e+1412>>2]=i,p=x(x(r*c)-x(a*o)),g[e+1404>>2]=p,r=x(x(u*o)-x(r*_)),g[e+1400>>2]=r,a=x(x(a*_)-x(u*c)),g[e+1396>>2]=a;break e}h[e+1408>>2]=0,h[e+1424>>2]=0,h[e+1392>>2]=0,o=g[e+1268>>2],u=g[e+1324>>2],i=g[e+1252>>2],f=g[e+1340>>2],a=x(x(o*u)-x(i*f)),g[e+1396>>2]=a,c=g[e+1308>>2],s=g[e+1236>>2],p=x(x(i*c)-x(u*s)),g[e+1404>>2]=p,r=x(x(s*f)-x(o*c)),g[e+1400>>2]=r,l=x(x(s*r)-x(i*a)),g[e+1420>>2]=l,s=x(x(o*a)-x(s*p)),g[e+1416>>2]=s,i=x(x(i*p)-x(o*r)),g[e+1412>>2]=i,_=x(x(u*a)-x(c*r)),g[e+1388>>2]=_,c=x(x(c*p)-x(f*a)),g[e+1384>>2]=c,o=x(x(f*r)-x(u*p))}g[n+1380>>2]=o}u=l,l=x(x(1)/x(T(x(x(x(i*i)+x(s*s))+x(l*l))))),g[e+1420>>2]=u*l,g[e+1416>>2]=s*l,g[e+1412>>2]=i*l,l=x(x(1)/x(T(x(x(x(a*a)+x(r*r))+x(p*p))))),g[e+1404>>2]=p*l,g[e+1400>>2]=r*l,g[e+1396>>2]=a*l,l=x(x(1)/x(T(x(x(x(o*o)+x(c*c))+x(_*_))))),g[e+1388>>2]=_*l,g[e+1384>>2]=c*l,g[e+1380>>2]=o*l,z=t+48|0}function k(e,t){var n=x(0),i=x(0);m[e+1309|0]&&(n=x(x(g[e+1256>>2]-g[e+1316>>2])*g[e+1340>>2]),g[e+792>>2]=n*x(x(g[t>>2]*g[e+1364>>2])/x(h[t+44>>2])),g[e+808>>2]=x(b(n))/g[t>>2]),m[e+1310|0]&&(n=x(x(g[e+1260>>2]-g[e+1320>>2])*g[e+1344>>2]),g[e+796>>2]=n*x(x(g[t>>2]*g[e+1368>>2])/x(h[t+44>>2])),g[e+812>>2]=x(b(n))/g[t>>2]),m[e+1311|0]&&(n=x(x(g[e+1264>>2]-g[e+1324>>2])*g[e+1348>>2]),g[e+800>>2]=n*x(x(g[t>>2]*g[e+1372>>2])/x(h[t+44>>2])),g[e+816>>2]=x(b(n))/g[t>>2]),m[e+1312|0]&&(n=x(g[e+1352>>2]*x(-x(g[e+1192>>2]-g[e+1328>>2]))),i=g[t>>2],g[e+876>>2]=n*x(x(i*g[e+1376>>2])/x(h[t+44>>2])),g[e+880>>2]=x(b(n))/i),m[e+1313|0]&&(n=x(g[e+1356>>2]*x(-x(g[e+1196>>2]-g[e+1332>>2]))),i=g[t>>2],g[e+940>>2]=n*x(x(i*g[e+1380>>2])/x(h[t+44>>2])),g[e+944>>2]=x(b(n))/i),m[e+1314|0]&&(n=x(g[e+1360>>2]*x(-x(g[e+1200>>2]-g[e+1336>>2]))),i=g[t>>2],g[e+1004>>2]=n*x(x(i*g[e+1384>>2])/x(h[t+44>>2])),g[e+1008>>2]=x(b(n))/i)}function G(e,t,n,i,o){(function(e,t,n,i,o){ur(e,12,t,n),h[e>>2]=3288,t=h[i+12>>2],h[e+56>>2]=h[i+8>>2],h[e+60>>2]=t,t=h[i+4>>2],h[e+48>>2]=h[i>>2],h[e+52>>2]=t,t=h[i+28>>2],h[e+72>>2]=h[i+24>>2],h[e+76>>2]=t,n=h[i+20>>2],h[(t=e- -64|0)>>2]=h[i+16>>2],h[t+4>>2]=n,t=h[i+44>>2],h[e+88>>2]=h[i+40>>2],h[e+92>>2]=t,t=h[i+36>>2],h[e+80>>2]=h[i+32>>2],h[e+84>>2]=t,t=h[i+60>>2],h[e+104>>2]=h[i+56>>2],h[e+108>>2]=t,t=h[i+52>>2],h[e+96>>2]=h[i+48>>2],h[e+100>>2]=t,t=h[o+12>>2],h[e+120>>2]=h[o+8>>2],h[e+124>>2]=t,t=h[o+4>>2],h[e+112>>2]=h[o>>2],h[e+116>>2]=t,t=h[o+20>>2],h[e+128>>2]=h[o+16>>2],h[e+132>>2]=t,t=h[o+28>>2],h[e+136>>2]=h[o+24>>2],h[e+140>>2]=t,t=h[o+36>>2],h[e+144>>2]=h[o+32>>2],h[e+148>>2]=t,t=h[o+44>>2],h[e+152>>2]=h[o+40>>2],h[e+156>>2]=t,t=h[o+52>>2],h[e+160>>2]=h[o+48>>2],h[e+164>>2]=t,t=h[o+60>>2],h[e+168>>2]=h[o+56>>2],h[e+172>>2]=t,h[e+680>>2]=0,h[e+684>>2]=0,h[e+688>>2]=0,h[e+692>>2]=0,h[e+696>>2]=0,h[e+700>>2]=0,h[e+704>>2]=0,h[e+708>>2]=0,h[e+712>>2]=0,h[e+716>>2]=0,h[e+720>>2]=0,h[e+724>>2]=0,h[e+736>>2]=1045220557,h[e+728>>2]=1045220557,h[e+732>>2]=1045220557,h[e+756>>2]=0,h[e+748>>2]=0,h[e+752>>2]=0,h[e+740>>2]=0,h[e+744>>2]=0,h[e+768>>2]=1063675494,h[e+760>>2]=1063675494,h[e+764>>2]=1063675494,h[e+812>>2]=0,h[e+804>>2]=0,h[e+808>>2]=0,h[e+828>>2]=0,h[e+820>>2]=0,h[e+824>>2]=0,a[e+838|0]=0,a[e+836|0]=0,a[e+837|0]=0,h[e+848>>2]=0,h[e+840>>2]=0,h[e+844>>2]=0,a[e+858|0]=0,a[e+856|0]=0,a[e+857|0]=0,h[e+868>>2]=0,h[e+860>>2]=0,h[e+864>>2]=0,h[e+884>>2]=0,h[e+876>>2]=0,h[e+880>>2]=0,h[e+900>>2]=0,h[e+892>>2]=0,h[e+896>>2]=0,a[e+793|0]=0,a[e+794|0]=0,a[e+795|0]=0,a[e+796|0]=0,a[e+797|0]=0,a[e+798|0]=0,a[e+799|0]=0,a[e+800|0]=0,h[e+788>>2]=0,h[e+792>>2]=0,h[e+780>>2]=0,h[e+784>>2]=0,h[e+772>>2]=0,h[e+776>>2]=0,h[e+964>>2]=0,h[e+956>>2]=0,h[e+960>>2]=0,h[e+948>>2]=0,h[e+952>>2]=0,h[e+940>>2]=0,h[e+944>>2]=0,h[e+932>>2]=0,h[e+936>>2]=0,h[e+924>>2]=0,h[e+928>>2]=0,h[e+916>>2]=0,h[e+920>>2]=0,h[e+908>>2]=0,h[e+912>>2]=0,a[e+1032|0]=0,h[e+1028>>2]=0,a[e+1024|0]=0,h[e+1020>>2]=0,a[e+1016|0]=0,h[e+1012>>2]=0,a[e+1008|0]=0,h[e+1e3>>2]=0,h[e+1004>>2]=1036831949,a[e+996|0]=0,h[e+992>>2]=0,h[e+984>>2]=0,h[e+988>>2]=1063675494,h[e+976>>2]=0,h[e+980>>2]=1045220557,h[e+968>>2]=1065353216,h[e+972>>2]=-1082130432,h[e+1052>>2]=0,h[(t=e+1044|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1036|0)>>2]=0,h[t+4>>2]=0,a[e+1120|0]=0,h[e+1116>>2]=0,a[e+1112|0]=0,h[e+1108>>2]=0,a[e+1104|0]=0,h[e+1100>>2]=0,a[e+1096|0]=0,h[(t=e+1088|0)>>2]=0,h[t+4>>2]=1036831949,a[e+1084|0]=0,h[e+1080>>2]=0,h[(t=e+1072|0)>>2]=0,h[t+4>>2]=1063675494,h[(t=e+1064|0)>>2]=0,h[t+4>>2]=1045220557,h[(t=e+1056|0)>>2]=1065353216,h[t+4>>2]=-1082130432,h[e+1140>>2]=0,h[(t=e+1132|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1124|0)>>2]=0,h[t+4>>2]=0,a[e+1208|0]=0,h[e+1204>>2]=0,a[e+1200|0]=0,h[e+1196>>2]=0,a[e+1192|0]=0,h[e+1188>>2]=0,a[e+1184|0]=0,h[(t=e+1176|0)>>2]=0,h[t+4>>2]=1036831949,a[e+1172|0]=0,h[e+1168>>2]=0,h[(t=e+1160|0)>>2]=0,h[t+4>>2]=1063675494,h[(t=e+1152|0)>>2]=0,h[t+4>>2]=1045220557,h[(t=e+1144|0)>>2]=1065353216,h[t+4>>2]=-1082130432,h[e+1228>>2]=0,h[(t=e+1220|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1212|0)>>2]=0,h[t+4>>2]=0,h[e+1456>>2]=0,h[e+1232>>2]=0,ke(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0)})(e,t,n,i,o),h[e>>2]=2896,h[(t=e+1144|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1056|0)>>2]=0,h[t+4>>2]=0,h[e+968>>2]=0,h[e+972>>2]=0,h[e+680>>2]=0,h[e+684>>2]=0,h[e+688>>2]=0,h[e+692>>2]=0,h[e+696>>2]=0,h[e+700>>2]=0,h[e+704>>2]=0,h[e+708>>2]=0}function H(e,t,n,i){var o;(function(e,t,n){h[e>>2]=8188,a[e+76|0]=1,h[e+72>>2]=0,h[e+68>>2]=n,h[e+28>>2]=0,h[e+32>>2]=0,h[e+24>>2]=t,a[e+20|0]=1,h[e+16>>2]=0,h[e- -64>>2]=0,a[e+60|0]=0,h[e+56>>2]=1025758986,a[e+54|0]=1,f[e+52>>1]=256,h[e+48>>2]=0,a[e+44|0]=1,h[e+36>>2]=1,h[e+40>>2]=1065353216,h[e+8>>2]=0,h[e+12>>2]=0})(e,t,n),h[(n=e)+100>>2]=1050253722,h[n+104>>2]=1015580809,h[n+92>>2]=1058642330,h[n+96>>2]=1065353216,h[n+88>>2]=0,h[n+80>>2]=0,h[n+84>>2]=0,h[n+132>>2]=0,h[n+136>>2]=1045220557,h[n+124>>2]=1045220557,h[n+128>>2]=1045220557,h[n+108>>2]=0,h[n+112>>2]=10,h[n+184>>2]=0,h[n+188>>2]=1045220557,h[n+176>>2]=1120403456,h[n+180>>2]=1900671690,h[n+172>>2]=128,h[n+164>>2]=260,h[n+168>>2]=2,h[n+156>>2]=0,h[n+160>>2]=1062836634,h[n+148>>2]=-1121724662,h[n+152>>2]=1036831949,h[n+140>>2]=0,h[n+144>>2]=1,h[n+116>>2]=1101004800,h[n+120>>2]=1065353216,h[n>>2]=2096,a[n+208|0]=1,h[n+204>>2]=0,a[n+240|0]=1,h[n+216>>2]=i,h[n+212>>2]=0,h[n+196>>2]=0,h[n+200>>2]=0,h[n+236>>2]=0,h[n+228>>2]=0,h[n+232>>2]=0,a[n+260|0]=1,f[n+290>>1]=0,h[n+256>>2]=0,h[n+248>>2]=0,h[n+252>>2]=0,h[n+264>>2]=0,h[n+268>>2]=-1054867456,h[n+272>>2]=0,h[n+276>>2]=0,h[n+280>>2]=0,h[n+284>>2]=0,a[n+308|0]=1,h[n+312>>2]=0,h[n+304>>2]=0,h[n+296>>2]=0,h[n+300>>2]=0,a[n+336|0]=1,a[n+316|0]=1,h[n+324>>2]=0,h[n+328>>2]=0,h[n+332>>2]=0,h[n+340>>2]=0,o=n,i?n=0:(h[6657]=h[6657]+1,De(n=0|r[h[5255]](236,16)),h[e+216>>2]=n,n=1),a[o+289|0]=n,h[6657]=h[6657]+1,function(e){h[e>>2]=6720,h[e+16>>2]=0,a[e+20|0]=1,h[e+8>>2]=0,h[e+12>>2]=0,h[e+36>>2]=0,a[e+40|0]=1,a[e+60|0]=1,h[e+28>>2]=0,h[e+32>>2]=0,h[e+56>>2]=0,a[e+64|0]=1,h[e+48>>2]=0,h[e+52>>2]=0}(n=0|r[h[5255]](68,16)),a[e+288|0]=1,h[e+220>>2]=n,h[6657]=h[6657]+1,n=0|r[h[5255]](88,16),i=h[e+216>>2],a[n+44|0]=1,h[n+24>>2]=t,h[n+20>>2]=0,h[n+12>>2]=0,h[n+16>>2]=0,h[n+8>>2]=i,h[n+4>>2]=0,h[n>>2]=2704,h[n+40>>2]=0,a[n+64|0]=1,h[n+32>>2]=0,h[n+36>>2]=0,h[n+60>>2]=0,a[n+84|0]=1,h[n+52>>2]=0,h[n+56>>2]=0,h[n+80>>2]=0,h[n+72>>2]=0,h[n+76>>2]=0,h[e+212>>2]=n}function V(e,t,n){var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0);p=g[t+396>>2],u=g[t+44>>2],C=g[t+40>>2],i=g[t+36>>2],_=g[t+12>>2],f=g[t+8>>2],a=g[t+4>>2],m=g[t+392>>2],r=g[t+28>>2],o=g[t+464>>2],l=g[t+24>>2],d=g[t+460>>2],s=g[t+20>>2],v=g[t+388>>2],S=g[t+456>>2],h[e+12>>2]=0,A=S!=x(0)?x(x(1)/S):x(0),y=x(i*A),T=d!=x(0)?x(x(1)/d):x(0),w=x(C*T),o=o!=x(0)?x(x(1)/o):x(0),P=x(u*o),d=x(x(x(a*y)+x(f*w))+x(_*P)),c=x(A*s),E=x(T*l),I=x(o*r),S=x(x(x(a*c)+x(f*E))+x(_*I)),R=x(v*S),N=x(A*a),D=x(T*f),M=x(o*_),a=x(x(x(a*N)+x(f*D))+x(_*M)),o=x(x(x(c*s)+x(E*l))+x(I*r)),A=x(x(x(c*i)+x(E*C))+x(I*u)),E=x(p*A),_=x(x(R+x(m*o))+E),T=x(d+x(x(x(x(d*x(0))+x(R-x(m*a)))+_)*n)),c=x(x(x(N*s)+x(D*l))+x(M*r)),I=x(v*d),s=x(x(x(y*s)+x(w*l))+x(P*r)),l=x(m*s),r=x(x(x(y*i)+x(w*C))+x(P*u)),f=x(x(I+l)+x(p*r)),l=x(c+x(x(f+x(l+x(x(c*x(0))-x(p*o))))*n)),R=x(m*c),i=x(x(x(N*i)+x(D*C))+x(M*u)),y=x(p*i),u=x(x(x(v*a)+R)+y),P=x(n*x(0)),C=x(x(_+x(x(x(p*u)-x(v*f))*n))-x(P+_)),y=x(A+x(x(u+x(x(x(A*x(0))+y)-x(v*r)))*n)),c=x(o+x(x(x(x(o*x(0))+x(p*c))-x(v*s))*n)),w=x(i+x(x(x(x(m*r)+x(x(i*x(0))-E))-_)*n)),E=x(x(l*y)-x(c*w)),d=x(a+x(x(x(m*d)+x(x(a*x(0))-x(p*S)))*n)),r=x(r+x(x(x(r*x(0))+x(x(v*A)-x(m*i)))*n)),s=x(s+x(x(x(x(s*x(0))+x(x(v*o)-R))-u)*n)),A=x(x(c*r)-x(s*y)),o=x(S+x(x(x(x(x(S*x(0))+x(p*a))-I)-f)*n)),S=x(x(s*w)-x(l*r)),i=x(x(T*E)+x(x(d*A)+x(o*S))),a=x(b(i))>x(1.1920928955078125e-7)?x(x(1)/i):i,i=x(x(u+x(x(x(m*f)-x(p*_))*n))-x(P+u)),n=x(x(f+x(x(x(v*_)-x(m*u))*n))-x(P+f)),g[e+8>>2]=x(p-x(x(x(T*x(x(l*C)-x(c*i)))+x(x(d*x(x(c*n)-x(s*C)))+x(o*x(x(s*i)-x(l*n)))))*a))-p,g[e+4>>2]=x(m-x(x(x(T*x(x(y*i)-x(w*C)))+x(x(d*x(x(r*C)-x(y*n)))+x(o*x(x(w*n)-x(r*i)))))*a))-m,g[e>>2]=x(v-x(x(x(n*E)+x(x(i*A)+x(C*S)))*a))-v}function W(e,t,n){var i,o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0);z=i=z-16|0,a=g[t+464>>2],r=g[t+460>>2],w=g[t+396>>2],T=g[t+392>>2],l=g[t+456>>2],P=g[t+388>>2],Oo(t+4|0,i),p=g[i+4>>2],u=g[i>>2],_=g[i+12>>2],f=g[i+8>>2],h[e+12>>2]=0,s=x(x(w*u)+x(x(T*_)-x(P*f))),y=x(x(x(P*u)+x(T*p))+x(w*f)),m=x(x(T*f)+x(x(P*_)-x(w*p))),C=x(x(P*p)+x(x(w*_)-x(T*u))),c=x(x(x(f*s)+x(x(u*y)+x(_*m)))-x(p*C)),d=x(x(x(p*m)+x(x(f*y)+x(_*C)))-x(u*s)),v=x(d*x(0)),A=x(c*x(0)),o=r!=x(0)?x(x(1)/r):x(0),r=x(x(x(u*C)+x(x(p*y)+x(_*s)))-x(f*m)),y=x(v+x(A+x(o*r))),s=l!=x(0)?x(x(1)/l):x(0),m=x(r*x(0)),C=x(v+x(x(c*s)+m)),l=x(x(x(c*y)-x(r*C))*n),M=x(x(x(x(x(A-x(s*r))+x(0))+y)*n)+x(0)),a=a!=x(0)?x(x(1)/a):x(0),I=x(x(a*d)+x(A+m)),R=x(x(x(x(m+x(x(0)-x(o*d)))+I)*n)+x(0)),N=x(x(x(x(x(v+x(0))-x(a*c))+C)*n)+x(0)),E=x(c*x(-0)),v=x(o+x(x(E+x(x(o*x(0))+v))*n)),S=x(d*x(-0)),D=x(x(x(x(x(a*r)+x(S+x(0)))-y)*n)+x(0)),O=x(x(R*N)-x(v*D)),m=x(s+x(x(m+x(x(s*x(0))+S))*n)),S=x(r*x(-0)),a=x(a+x(x(x(a*x(0))+x(S+A))*n)),A=x(x(x(x(x(S+x(o*c))+x(0))-C)*n)+x(0)),S=x(x(v*a)-x(A*N)),E=x(x(x(x(E+x(x(s*d)+x(0)))-I)*n)+x(0)),L=x(x(A*D)-x(a*R)),o=x(x(M*O)+x(x(m*S)+x(E*L))),s=x(b(o))>x(1.1920928955078125e-7)?x(x(1)/o):o,o=x(x(x(r*I)-x(d*y))*n),n=x(x(x(d*C)-x(c*I))*n),c=x(c-x(x(x(l*O)+x(x(o*S)+x(n*L)))*s)),r=x(r-x(x(x(M*x(x(N*o)-x(D*n)))+x(x(m*x(x(a*n)-x(N*l)))+x(E*x(x(D*l)-x(a*o)))))*s)),n=x(d-x(x(x(M*x(x(R*n)-x(v*o)))+x(x(m*x(x(v*l)-x(A*n)))+x(E*x(x(A*o)-x(R*l)))))*s)),d=x(x(x(f*c)+x(_*r))-x(u*n)),l=x(x(x(_*n)+x(u*r))-x(p*c)),o=x(x(x(c*x(-u))-x(p*r))-x(f*n)),n=x(x(x(_*c)+x(p*n))-x(f*r)),g[e+8>>2]=x(x(u*d)+x(x(x(_*l)-x(f*o))-x(p*n)))-w,g[e+4>>2]=x(x(f*n)+x(x(x(_*d)-x(p*o))-x(u*l)))-T,g[e>>2]=x(x(p*l)+x(x(x(_*n)-x(u*o))-x(f*d)))-P,z=i+16|0}function q(e,t,n){var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0);r=g[t+396>>2],f=g[t+44>>2],m=g[t+40>>2],d=g[t+36>>2],c=g[t+392>>2],v=g[t+28>>2],l=g[t+12>>2],i=g[t+464>>2],A=g[t+24>>2],p=g[t+8>>2],u=g[t+460>>2],y=g[t+20>>2],b=g[t+4>>2],o=g[t+388>>2],_=g[t+456>>2],h[e+12>>2]=0,_=_!=x(0)?x(x(1)/_):x(0),a=x(y*_),u=u!=x(0)?x(x(1)/u):x(0),s=x(A*u),C=i!=x(0)?x(x(1)/i):x(0),i=x(v*C),S=x(x(x(o*x(x(x(b*a)+x(p*s))+x(l*i)))+x(c*x(x(x(a*y)+x(s*A))+x(i*v))))+x(r*x(x(x(a*d)+x(s*m))+x(i*f)))),i=x(_*b),a=x(u*p),s=x(C*l),a=x(x(x(o*x(x(x(b*i)+x(p*a))+x(l*s)))+x(c*x(x(x(i*y)+x(a*A))+x(s*v))))+x(r*x(x(x(i*d)+x(a*m))+x(s*f)))),i=x(x(o*S)-x(c*a)),g[e+8>>2]=i,s=o,o=x(_*d),_=p,p=x(u*m),u=l,l=x(C*f),f=x(x(x(s*x(x(x(b*o)+x(_*p))+x(u*l)))+x(c*x(x(x(o*y)+x(p*A))+x(l*v))))+x(r*x(x(x(o*d)+x(p*m))+x(l*f)))),o=x(x(r*a)-x(s*f)),g[e+4>>2]=o,r=x(x(c*f)-x(r*S)),g[e>>2]=r,(c=x(x(i*i)+x(x(r*r)+x(o*o))))>x(n*n)&&(n=x(x(x(1)/x(T(c)))*n),g[e+8>>2]=i*n,g[e+4>>2]=o*n,g[e>>2]=r*n)}function Y(e,t){var n=x(0),i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0);if(c=g[e+504>>2],i=ps(x(x(1)-c),t),n=x(i*g[e+372>>2]),g[e+372>>2]=n,r=x(i*g[e+376>>2]),g[e+376>>2]=r,i=x(i*g[e+380>>2]),g[e+380>>2]=i,l=g[e+508>>2],o=ps(x(x(1)-l),t),t=x(o*g[e+388>>2]),g[e+388>>2]=t,a=x(o*g[e+392>>2]),g[e+392>>2]=a,o=x(o*g[e+396>>2]),g[e+396>>2]=o,m[e+512|0]&&(x(x(x(t*t)+x(a*a))+x(o*o))<g[e+524>>2]^1|x(x(x(n*n)+x(r*r))+x(i*i))<g[e+520>>2]^1||(s=g[e+516>>2],o=x(o*s),g[e+396>>2]=o,a=x(a*s),g[e+392>>2]=a,t=x(t*s),g[e+388>>2]=t,i=x(i*s),g[e+380>>2]=i,r=x(r*s),g[e+376>>2]=r,n=x(n*s),g[e+372>>2]=n),(s=x(T(x(x(x(n*n)+x(r*r))+x(i*i)))))<c&&(s>x(.004999999888241291)?(c=i,i=x(x(1)/s),g[e+380>>2]=c-x(x(c*i)*x(.004999999888241291)),g[e+376>>2]=r-x(x(r*i)*x(.004999999888241291)),g[e+372>>2]=n-x(x(n*i)*x(.004999999888241291))):(h[e+372>>2]=0,h[e+376>>2]=0,h[e+380>>2]=0,h[e+384>>2]=0)),(n=x(T(x(x(x(t*t)+x(a*a))+x(o*o)))))<l)){if(n>x(.004999999888241291))return n=x(x(1)/n),g[e+396>>2]=o-x(x(o*n)*x(.004999999888241291)),g[e+392>>2]=a-x(x(a*n)*x(.004999999888241291)),void(g[e+388>>2]=t-x(x(t*n)*x(.004999999888241291)));h[e+388>>2]=0,h[e+392>>2]=0,h[e+396>>2]=0,h[e+400>>2]=0}}function X(e,t){var n,i=0,o=x(0),a=x(0),s=x(0),c=x(0);z=n=z-32|0,t!=x(0)&&((i=h[e+540>>2])&&r[h[h[i>>2]+8>>2]](i,e+4|0),h[e+384>>2]=0,t=x(x(1)/t),g[e+380>>2]=t*x(g[e+60>>2]-g[e+124>>2]),g[e+376>>2]=t*x(g[e+56>>2]-g[e+120>>2]),g[e+372>>2]=t*x(g[e+52>>2]-g[e+116>>2]),Lr(e+68|0,e+4|0,n+16|0,n+12|0),a=g[n+16>>2],s=g[n+20>>2],c=g[n+24>>2],o=g[n+12>>2],h[e+400>>2]=0,g[e+396>>2]=t*x(o*c),g[e+392>>2]=t*x(o*s),g[e+388>>2]=t*x(a*o),i=h[e+384>>2],h[e+140>>2]=h[e+380>>2],h[e+144>>2]=i,i=h[e+376>>2],h[e+132>>2]=h[e+372>>2],h[e+136>>2]=i,i=h[e+392>>2],h[e+148>>2]=h[e+388>>2],h[e+152>>2]=i,i=h[e+400>>2],h[e+156>>2]=h[e+396>>2],h[e+160>>2]=i,i=h[e+8>>2],h[e+68>>2]=h[e+4>>2],h[e+72>>2]=i,i=h[e+16>>2],h[e+76>>2]=h[e+12>>2],h[e+80>>2]=i,i=h[e+24>>2],h[e+84>>2]=h[e+20>>2],h[e+88>>2]=i,i=h[e+32>>2],h[e+92>>2]=h[e+28>>2],h[e+96>>2]=i,i=h[e+48>>2],h[e+108>>2]=h[e+44>>2],h[e+112>>2]=i,i=h[e+40>>2],h[e+100>>2]=h[e+36>>2],h[e+104>>2]=i,i=h[e+64>>2],h[e+124>>2]=h[e+60>>2],h[e+128>>2]=i,i=h[e+56>>2],h[e+116>>2]=h[e+52>>2],h[e+120>>2]=i),z=n+32|0}function Q(e){var t,n=x(0);return z=t=z-16|0,h[t+12>>2]=e,n=function(e,t){var n,i=x(0),o=x(0);return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],i=g[e>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],i=x(i*g[h[t+12>>2]>>2]),o=g[e+4>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],i=x(i+x(o*g[h[t+12>>2]+4>>2])),o=g[e+8>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],z=n+16|0,x(x(i+x(o*g[h[t+12>>2]+8>>2]))+x(g[e+12>>2]*g[h[n+8>>2]+12>>2]))}(e=h[t+12>>2],e),z=t+16|0,n}function Z(e,t){var n;return z=n=z-16|0,h[n+8>>2]=e,h[n+4>>2]=t,e=h[n+8>>2],h[n+4>>2]?h[n+12>>2]=function(e,t){var n;return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,h[n+4>>2]=0,e=h[n+8>>2]<<4,h[6657]=h[6657]+1,e=0|r[h[5255]](e,16),z=n+16|0,e}(e,h[n+4>>2]):h[n+12>>2]=0,z=n+16|0,h[n+12>>2]}function J(e,t){var n,i=0;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],i=z-16|0,e=h[n+12>>2],h[i+12>>2]=e,(0|t)<h[h[i+12>>2]+4>>2]&&(t=h[n+8>>2],h[12+(i=z-16|0)>>2]=e,function(e,t,n){var i;h[12+(i=z-16|0)>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,e=h[i+12>>2],h[i>>2]=h[h[e+12>>2]+(h[i+8>>2]<<2)>>2],h[h[e+12>>2]+(h[i+8>>2]<<2)>>2]=h[h[e+12>>2]+(h[i+4>>2]<<2)>>2],h[h[e+12>>2]+(h[i+4>>2]<<2)>>2]=h[i>>2]}(e,t,h[h[i+12>>2]+4>>2]-1|0),h[12+(t=z-16|0)>>2]=e,e=h[t+12>>2],h[e+4>>2]=h[e+4>>2]+-1),z=n+16|0}function K(e,t){var n;return z=n=z-32|0,h[n+28>>2]=e,h[n+24>>2]=t,xr(t=n+8|0,e=h[n+28>>2],h[n+24>>2]+48|0),br(e+48|0,t),function(e,t){var n;z=n=z-48|0,h[n+44>>2]=e,h[n+40>>2]=t,e=h[n+44>>2],g[n+36>>2]=qr(h[n+40>>2],e),g[n+32>>2]=Wr(h[n+40>>2],e),g[n+28>>2]=Vr(h[n+40>>2],e),g[n+24>>2]=qr(h[n+40>>2],e+16|0),g[n+20>>2]=Wr(h[n+40>>2],e+16|0),g[n+16>>2]=Vr(h[n+40>>2],e+16|0),g[n+12>>2]=qr(h[n+40>>2],e+32|0),g[n+8>>2]=Wr(h[n+40>>2],e+32|0),g[n+4>>2]=Vr(h[n+40>>2],e+32|0),Zr(e,n+36|0,n+32|0,n+28|0,n+24|0,n+20|0,n+16|0,n+12|0,n+8|0,n+4|0),z=n+48|0}(e,h[n+24>>2]),z=n+32|0,e}function $(e,t,n){var i;z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,function(e,t){var n,i;for(z=n=z-16|0,h[n+8>>2]=e,h[n+4>>2]=t,e=h[n+8>>2],h[n+12>>2]=e,i=e+48|0,t=e;h[12+(z-16|0)>>2]=t,(0|i)!=(0|(t=t+16|0)););It(e,h[n+4>>2]),z=n+16|0}(e=h[i+12>>2],h[i+8>>2]),t=h[i+4>>2],n=h[t+4>>2],h[e+48>>2]=h[t>>2],h[e+52>>2]=n,n=h[t+12>>2],h[e+56>>2]=h[t+8>>2],h[e+60>>2]=n,z=i+16|0}function ee(e,t){var n;return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],g[n+4>>2]=x(1)/g[h[n+8>>2]>>2],e=function(e,t){var n;return h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],g[e>>2]=g[e>>2]*g[h[n+8>>2]>>2],g[e+4>>2]=g[e+4>>2]*g[h[n+8>>2]>>2],g[e+8>>2]=g[e+8>>2]*g[h[n+8>>2]>>2],e}(e,n+4|0),z=n+16|0,e}function te(e,t){var n;z=n=z-144|0,h[n+140>>2]=e,h[n+136>>2]=t,g[n+132>>2]=0,g[n+128>>2]=1,sr(t=n+112|0,(e=h[n+140>>2])+112|0,e+92|0),g[n+108>>2]=_a(t),g[n+108>>2]>x(1.1920928955078125e-7)&&(Ya(n+112|0),function(e,t,n,i){var o=0;z=o=z-48|0,h[o+44>>2]=t,h[o+40>>2]=n,h[o+36>>2]=i,t=h[o+40>>2],g[o+12>>2]=x(2)*Vo(h[o+40>>2],h[o+36>>2]),function(e,t,n){var i=0;z=i=z-16|0,h[i+12>>2]=t,h[i+8>>2]=n,Ho(e,h[i+8>>2],h[i+12>>2]),z=i+16|0}(n=o+16|0,o+12|0,h[o+36>>2]),sr(e,t,n),z=o+48|0}(n+88|0,e,n+112|0,h[n+136>>2]),Ya(n+88|0),h[12+(z-16|0)>>2]=n+72,h[12+(z-16|0)>>2]=n+56,Qe(n+40|0,e,n+88|0,h[n+136>>2]),t=h[n+52>>2],h[n+80>>2]=h[n+48>>2],h[n+84>>2]=t,t=h[n+44>>2],h[n+72>>2]=h[n+40>>2],h[n+76>>2]=t,function(e,t,n,i){var o=0;z=o=z-32|0,h[o+28>>2]=t,h[o+24>>2]=n,h[o+20>>2]=i,t=h[o+24>>2],Qe(o,h[o+28>>2],h[o+24>>2],h[o+20>>2]),sr(e,t,o),z=o+32|0}(n+24|0,e,n+88|0,h[n+136>>2]),t=h[n+36>>2],h[n+64>>2]=h[n+32>>2],h[n+68>>2]=t,t=h[n+28>>2],h[n+56>>2]=h[n+24>>2],h[n+60>>2]=t,t=h[e+104>>2],h[e+120>>2]=h[e+100>>2],h[e+124>>2]=t,t=h[e+96>>2],h[e+112>>2]=h[e+92>>2],h[e+116>>2]=t,0!=+g[n+128>>2]&&(g[n+4>>2]=g[n+128>>2]*g[n+108>>2],Ho(t=n+8|0,n+56|0,n+4|0),br(e+112|0,t))),z=n+144|0}function ne(e,t){var n,i;z=n=z-32|0,h[n+28>>2]=e,g[n+24>>2]=t,Jo(e=h[n+28>>2]),h[e>>2]=12036,h[e+4>>2]=8,g[n+20>>2]=1,g[n+16>>2]=1,g[n+12>>2]=1,To(e+16|0,n+20|0,n+16|0,n+12|0),function(e){var t;z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],g[t+8>>2]=0,g[t+4>>2]=0,g[t>>2]=0,To(e,t+8|0,t+4|0,t),z=t+16|0}(e+32|0),t=g[n+24>>2],h[12+(i=z-16|0)>>2]=e+32,g[i+8>>2]=t,g[h[i+12>>2]>>2]=g[i+8>>2],g[e+48>>2]=g[n+24>>2],g[e+52>>2]=0,z=n+32|0}function ie(e,t,n){var i;z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,h[i+20>>2]=n,function(e){var t;h[12+(t=z-16|0)>>2]=e,e=h[t+12>>2],h[e>>2]=1528,g[e+4>>2]=1,h[e+8>>2]=1,h[e+12>>2]=-1}(e=h[i+28>>2]),h[e>>2]=1504,t=h[i+24>>2],n=h[t+4>>2],h[e+16>>2]=h[t>>2],h[e+20>>2]=n,n=h[t+12>>2],h[e+24>>2]=h[t+8>>2],h[e+28>>2]=n,t=h[i+20>>2],n=h[t+4>>2],h[e+32>>2]=h[t>>2],h[e+36>>2]=n,n=h[t+12>>2],h[e+40>>2]=h[t+8>>2],h[e+44>>2]=n,h[12+(z-16|0)>>2]=e+48,h[12+(z-16|0)>>2]=e- -64,h[e+80>>2]=0,z=i+32|0}function oe(e,t,n){var i,o,r=0;z=i=z-48|0,h[i+44>>2]=t,h[i+40>>2]=n,function(e,t,n){var i,o=x(0),r=x(0);z=i=z-32|0,h[i+28>>2]=t,h[i+24>>2]=n,h[12+(t=z-16|0)>>2]=h[i+28>>2],o=g[h[t+12>>2]+12>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],o=x(o*g[h[t+12>>2]>>2]),h[12+(t=z-16|0)>>2]=h[i+28>>2],r=g[h[t+12>>2]+4>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],o=x(o+x(r*g[h[t+12>>2]+8>>2])),h[12+(t=z-16|0)>>2]=h[i+28>>2],r=g[h[t+12>>2]+8>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],g[i+20>>2]=o-x(r*g[h[t+12>>2]+4>>2]),h[12+(t=z-16|0)>>2]=h[i+28>>2],o=g[h[t+12>>2]+12>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],o=x(o*g[h[t+12>>2]+4>>2]),h[12+(t=z-16|0)>>2]=h[i+28>>2],r=g[h[t+12>>2]+8>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],o=x(o+x(r*g[h[t+12>>2]>>2])),h[12+(t=z-16|0)>>2]=h[i+28>>2],r=g[h[t+12>>2]>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],g[i+16>>2]=o-x(r*g[h[t+12>>2]+8>>2]),h[12+(t=z-16|0)>>2]=h[i+28>>2],o=g[h[t+12>>2]+12>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],o=x(o*g[h[t+12>>2]+8>>2]),h[12+(t=z-16|0)>>2]=h[i+28>>2],r=g[h[t+12>>2]>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],o=x(o+x(r*g[h[t+12>>2]+4>>2])),h[12+(t=z-16|0)>>2]=h[i+28>>2],r=g[h[t+12>>2]+4>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],g[i+12>>2]=o-x(r*g[h[t+12>>2]>>2]),h[12+(t=z-16|0)>>2]=h[i+28>>2],o=x(-g[h[t+12>>2]>>2]),h[12+(t=z-16|0)>>2]=h[i+24>>2],o=x(o*g[h[t+12>>2]>>2]),h[12+(t=z-16|0)>>2]=h[i+28>>2],r=g[h[t+12>>2]+4>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],o=x(o-x(r*g[h[t+12>>2]+4>>2])),h[12+(t=z-16|0)>>2]=h[i+28>>2],r=g[h[t+12>>2]+8>>2],h[12+(t=z-16|0)>>2]=h[i+24>>2],g[i+8>>2]=o-x(r*g[h[t+12>>2]+8>>2]),fa(e,i+20|0,i+16|0,i+12|0,i+8|0),z=i+32|0}(t=i+24|0,h[i+44>>2],h[i+40>>2]),function(e,t){var n;z=n=z-16|0,h[n+12>>2]=t,t=h[n+12>>2],g[n+8>>2]=-g[t>>2],g[n+4>>2]=-g[t+4>>2],g[n>>2]=-g[t+8>>2],fa(e,n+8|0,n+4|0,n,t+12|0),z=n+16|0}(n=i+8|0,h[i+44>>2]),function(e,t){var n,i=x(0),o=x(0);z=n=z-32|0,h[n+28>>2]=e,h[n+24>>2]=t,e=h[n+28>>2],i=g[e+12>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],i=x(x(i*g[h[t+12>>2]>>2])+x(g[e>>2]*g[h[n+24>>2]+12>>2])),o=g[e+4>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],i=x(i+x(o*g[h[t+12>>2]+8>>2])),o=g[e+8>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],g[n+20>>2]=i-x(o*g[h[t+12>>2]+4>>2]),i=g[e+12>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],i=x(x(i*g[h[t+12>>2]+4>>2])+x(g[e+4>>2]*g[h[n+24>>2]+12>>2])),o=g[e+8>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],i=x(i+x(o*g[h[t+12>>2]>>2])),o=g[e>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],g[n+16>>2]=i-x(o*g[h[t+12>>2]+8>>2]),i=g[e+12>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],i=x(x(i*g[h[t+12>>2]+8>>2])+x(g[e+8>>2]*g[h[n+24>>2]+12>>2])),o=g[e>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],i=x(i+x(o*g[h[t+12>>2]+4>>2])),o=g[e+4>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],g[n+12>>2]=i-x(o*g[h[t+12>>2]>>2]),i=x(g[e+12>>2]*g[h[n+24>>2]+12>>2]),o=g[e>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],i=x(i-x(o*g[h[t+12>>2]>>2])),o=g[e+4>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],i=x(i-x(o*g[h[t+12>>2]+4>>2])),o=g[e+8>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],g[n+8>>2]=i-x(o*g[h[t+12>>2]+8>>2]),dc(e,n+20|0,n+16|0,n+12|0,n+8|0),z=n+32|0}(t,n),h[12+(n=z-16|0)>>2]=t,n=h[n+12>>2],h[12+(r=z-16|0)>>2]=t,r=h[r+12>>2]+4|0,h[12+(o=z-16|0)>>2]=t,To(e,n,r,h[o+12>>2]+8|0),z=i+48|0}function re(e,t){var n,i=0,o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0;z=n=z-320|0,h[n+316>>2]=e,h[n+312>>2]=t,e=h[n+316>>2],t=n+296|0,h[12+(z-16|0)>>2]=t,o=n+280|0,h[12+(z-16|0)>>2]=o,Ft(h[n+312>>2],t,o),h[12+(r=z-16|0)>>2]=e+552,r=h[r+12>>2]+48|0,i=h[r+4>>2],h[(a=n+264|0)>>2]=h[r>>2],h[a+4>>2]=i,i=h[r+12>>2],h[a+8>>2]=h[r+8>>2],h[a+12>>2]=i,h[12+(r=z-16|0)>>2]=e+552,r=h[r+12>>2],h[12+(i=z-16|0)>>2]=t,i=h[i+12>>2],h[12+(c=z-16|0)>>2]=o,c=h[c+12>>2],h[12+(l=z-16|0)>>2]=h[n+312>>2],l=h[l+12>>2],h[12+(p=z-16|0)>>2]=t,p=h[p+12>>2]+4|0,h[12+(u=z-16|0)>>2]=o,u=h[u+12>>2]+4|0,h[12+(_=z-16|0)>>2]=h[n+312>>2],_=h[_+12>>2]+4|0,h[12+(s=z-16|0)>>2]=t,s=h[s+12>>2]+8|0,h[12+(f=z-16|0)>>2]=o,o=h[f+12>>2]+8|0,h[12+(f=z-16|0)>>2]=h[n+312>>2],Zr(r,i,c,l,p,u,_,s,o,h[f+12>>2]+8|0),h[12+(o=z-16|0)>>2]=h[e+28>>2],h[12+(r=z-16|0)>>2]=h[o+12>>2]+4,xr(o=n+248|0,h[r+12>>2],h[n+312>>2]),function(e,t,n){var i,o=0,r=0;z=i=z-96|0,h[i+92>>2]=t,h[i+88>>2]=n,Xa(i+72|0,h[i+92>>2],h[i+88>>2]),g[i+68>>2]=Vo(h[i+92>>2],h[i+88>>2]),+g[i+68>>2]<-.9999998807907104?(t=i+48|0,h[12+(z-16|0)>>2]=t,o=i+32|0,h[12+(z-16|0)>>2]=o,Ft(h[i+92>>2],t,o),h[12+(n=z-16|0)>>2]=t,n=h[n+12>>2],h[12+(o=z-16|0)>>2]=t,o=h[o+12>>2]+4|0,h[12+(r=z-16|0)>>2]=t,t=h[r+12>>2]+8|0,g[i+28>>2]=0,fa(e,n,o,t,i+28|0)):(g[12+(t=z-16|0)>>2]=x(x(1)+g[i+68>>2])*x(2),g[i+24>>2]=T(g[t+12>>2]),g[i+20>>2]=x(1)/g[i+24>>2],t=i+72|0,h[12+(n=z-16|0)>>2]=t,g[i+16>>2]=g[h[n+12>>2]>>2]*g[i+20>>2],h[12+(n=z-16|0)>>2]=t,g[i+12>>2]=g[h[n+12>>2]+4>>2]*g[i+20>>2],h[12+(n=z-16|0)>>2]=t,g[i+8>>2]=g[h[n+12>>2]+8>>2]*g[i+20>>2],g[i+4>>2]=g[i+24>>2]*x(.5),fa(e,i+16|0,i+12|0,i+8|0,i+4|0)),z=i+96|0}(i=n+232|0,h[n+312>>2],o),oe(r=n+216|0,i,t),Xa(t=n+200|0,o,r),h[12+(i=z-16|0)>>2]=h[e+32>>2],uc(c=n+120|0,h[i+12>>2]+4|0),h[12+(i=z-16|0)>>2]=h[e+28>>2],pc(l=n+104|0,h[i+12>>2]+4|0,a),pc(n+184|0,c,l),h[12+(a=z-16|0)>>2]=e+616,i=h[n+188>>2],a=h[a+12>>2]+48|0,h[a>>2]=h[n+184>>2],h[a+4>>2]=i,i=h[n+196>>2],h[a+8>>2]=h[n+192>>2],h[a+12>>2]=i,h[12+(a=z-16|0)>>2]=e+616,a=h[a+12>>2],h[12+(i=z-16|0)>>2]=r,i=h[i+12>>2],h[12+(c=z-16|0)>>2]=t,c=h[c+12>>2],h[12+(l=z-16|0)>>2]=o,l=h[l+12>>2],h[12+(p=z-16|0)>>2]=r,p=h[p+12>>2]+4|0,h[12+(u=z-16|0)>>2]=t,u=h[u+12>>2]+4|0,h[12+(_=z-16|0)>>2]=o,_=h[_+12>>2]+4|0,h[12+(s=z-16|0)>>2]=r,r=h[s+12>>2]+8|0,h[12+(s=z-16|0)>>2]=t,t=h[s+12>>2]+8|0,h[12+(s=z-16|0)>>2]=o,Zr(a,i,c,l,p,u,_,r,t,h[s+12>>2]+8|0),h[12+(t=z-16|0)>>2]=h[e+32>>2],h[12+(o=z-16|0)>>2]=h[t+12>>2]+4,function(e,t){var n,i,o=0;z=n=z-80|0,h[n+76>>2]=e,h[n+72>>2]=t,t=h[n+72>>2],g[n+52>>2]=fr(t,1,1,2,2),g[n+48>>2]=fr(t,1,2,2,0),g[n+44>>2]=fr(t,1,0,2,1),To(i=n+56|0,n+52|0,n+48|0,n+44|0),h[12+(o=z-16|0)>>2]=t,h[o+8>>2]=0,g[n+40>>2]=Vo(h[o+12>>2]+(h[o+8>>2]<<4)|0,i),g[n+36>>2]=x(1)/g[n+40>>2],h[12+(o=z-16|0)>>2]=i,g[n+32>>2]=g[h[o+12>>2]>>2]*g[n+36>>2],g[n+28>>2]=fr(t,0,2,2,1)*g[n+36>>2],g[n+24>>2]=fr(t,0,1,1,2)*g[n+36>>2],h[12+(o=z-16|0)>>2]=i,g[n+20>>2]=g[h[o+12>>2]+4>>2]*g[n+36>>2],g[n+16>>2]=fr(t,0,0,2,2)*g[n+36>>2],g[n+12>>2]=fr(t,0,2,1,0)*g[n+36>>2],h[12+(o=z-16|0)>>2]=i,g[n+8>>2]=g[h[o+12>>2]+8>>2]*g[n+36>>2],g[n+4>>2]=fr(t,0,1,2,0)*g[n+36>>2],g[n>>2]=fr(t,0,0,1,1)*g[n+36>>2],Wa(e,n+32|0,n+28|0,n+24|0,n+20|0,n+16|0,n+12|0,n+8|0,n+4|0,n),z=n+80|0}(t=n+8|0,h[o+12>>2]),h[12+(o=z-16|0)>>2]=e+616,zt(a=n+56|0,t,h[o+12>>2]),h[12+(t=z-16|0)>>2]=e+616,rt(h[t+12>>2],a),z=n+320|0}function ae(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],h[n+4>>2]=h[h[t+12>>2]+4>>2],t=h[n+4>>2],g[n>>2]=0,function(e,t,n){var i;if(z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,h[i+20>>2]=n,t=z-16|0,e=h[i+28>>2],h[t+12>>2]=e,h[i+16>>2]=h[h[t+12>>2]+4>>2],h[i+24>>2]<h[i+16>>2])for(h[i+12>>2]=h[i+24>>2];h[i+12>>2]<h[i+16>>2];)h[i+12>>2]=h[i+12>>2]+1;else for(h[i+24>>2]>h[i+16>>2]&&ft(e,h[i+24>>2]),h[i+8>>2]=h[i+16>>2];h[i+8>>2]<h[i+24>>2];)g[h[e+12>>2]+(h[i+8>>2]<<2)>>2]=g[h[i+20>>2]>>2],h[i+8>>2]=h[i+8>>2]+1;h[e+4>>2]=h[i+24>>2],z=i+32|0}(e,t,n),ut(h[n+8>>2],h[n+4>>2],h[e+12>>2]),z=n+16|0}function se(e,t){var n;z=n=z-32|0,h[n+28>>2]=e,h[n+24>>2]=t,e=h[n+28>>2],h[12+(t=z-16|0)>>2]=h[n+24>>2],h[n+20>>2]=h[h[t+12>>2]+4>>2],t=h[n+20>>2],h[12+(z-16|0)>>2]=n,function(e,t,n){var i,o=0;if(z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,h[i+20>>2]=n,t=z-16|0,e=h[i+28>>2],h[t+12>>2]=e,h[i+16>>2]=h[h[t+12>>2]+4>>2],h[i+24>>2]<h[i+16>>2])for(h[i+12>>2]=h[i+24>>2];h[i+12>>2]<h[i+16>>2];)h[i+12>>2]=h[i+12>>2]+1;else for(h[i+24>>2]>h[i+16>>2]&&ht(e,h[i+24>>2]),h[i+8>>2]=h[i+16>>2];h[i+8>>2]<h[i+24>>2];)n=h[e+12>>2]+(h[i+8>>2]<<4)|0,h[12+(t=z-16|0)>>2]=16,h[t+8>>2]=n,n=h[i+20>>2],o=h[n+4>>2],t=h[t+8>>2],h[t>>2]=h[n>>2],h[t+4>>2]=o,o=h[n+12>>2],h[t+8>>2]=h[n+8>>2],h[t+12>>2]=o,h[i+8>>2]=h[i+8>>2]+1;h[e+4>>2]=h[i+24>>2],z=i+32|0}(e,t,n),_t(h[n+24>>2],h[n+20>>2],h[e+12>>2]),z=n+32|0}function ce(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,g[n+4>>2]=.10000000149011612,e=h[n+12>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],g[n>>2]=g[h[t+12>>2]+(function(e){var t;return h[12+(t=z-16|0)>>2]=e,e=h[t+12>>2],g[e>>2]<g[e+4>>2]?g[e>>2]<g[e+8>>2]?0:2:g[e+4>>2]<g[e+8>>2]?1:2}(h[n+8>>2])<<2)>>2],function(e,t,n){var i;z=i=z-16|0,h[i+12>>2]=e,g[i+8>>2]=t,g[i+4>>2]=n,e=h[i+12>>2],g[i>>2]=g[i+4>>2]*g[i+8>>2],g[i>>2]<x(r[h[h[e>>2]+48>>2]](e))&&r[h[h[e>>2]+44>>2]](e,g[i>>2]),z=i+16|0}(e,g[n>>2],g[n+4>>2]),z=n+16|0}function le(e,t){var n,i,o=0,s=0,c=0;for(z=n=z-240|0,h[n+236>>2]=e,h[n+232>>2]=t,e=h[n+236>>2],t=n+216|0,h[12+(z-16|0)>>2]=t,o=n+200|0,h[12+(z-16|0)>>2]=o,s=h[e+12>>2],h[12+(c=z-16|0)>>2]=h[e+8>>2],r[h[h[s>>2]+8>>2]](s,h[c+12>>2]+4|0,t,o),h[12+(s=z-16|0)>>2]=h[n+232>>2],s=h[h[s+12>>2]+68>>2],h[12+(c=z-16|0)>>2]=h[e+8>>2],c=h[h[c+12>>2]+188>>2],h[12+(i=z-16|0)>>2]=h[n+232>>2],r[h[h[s>>2]+16>>2]](s,c,t,o,h[h[i+12>>2]+24>>2]),a[n+199|0]=0,h[12+(t=z-16|0)>>2]=h[n+232>>2],t=h[h[t+12>>2]+24>>2],h[12+(o=z-16|0)>>2]=h[e+8>>2],o=h[h[o+12>>2]+344>>2],h[12+(s=z-16|0)>>2]=h[n+232>>2],s=h[s+12>>2]+28|0,h[12+(c=z-16|0)>>2]=h[n+232>>2],r[h[h[t>>2]+32>>2]](t,o,s,h[h[c+12>>2]+24>>2]),h[12+(t=z-16|0)>>2]=h[e+8>>2],h[12+(o=z-16|0)>>2]=h[t+12>>2]+4,t=h[o+12>>2]+48|0,o=h[t+4>>2],h[e+92>>2]=h[t>>2],h[e+96>>2]=o,o=h[t+12>>2],h[e+100>>2]=h[t+8>>2],h[e+104>>2]=o,g[n+192>>2]=0,h[n+188>>2]=0;t=h[n+188>>2],h[12+(o=z-16|0)>>2]=h[e+8>>2],s=t,t=h[h[o+12>>2]+344>>2],(0|s)<(0|r[h[h[t>>2]+36>>2]](t));){if(h[n+184>>2]=0,nn(e+128|0,0,n+184|0),h[12+(t=z-16|0)>>2]=h[e+8>>2],t=h[h[t+12>>2]+344>>2],o=0|r[h[h[t>>2]+28>>2]](t),s=h[n+188>>2],h[12+(t=z-16|0)>>2]=o,h[t+8>>2]=s,h[n+180>>2]=h[h[t+12>>2]+12>>2]+(h[t+8>>2]<<4),h[n+176>>2]=h[h[h[n+180>>2]>>2]>>2],h[n+172>>2]=h[h[h[n+180>>2]+4>>2]>>2],!(h[n+176>>2]&&(h[12+(t=z-16|0)>>2]=h[n+176>>2],4&h[h[t+12>>2]+204>>2]))&&!(h[n+172>>2]&&(h[12+(t=z-16|0)>>2]=h[n+172>>2],4&h[h[t+12>>2]+204>>2]))&&1&r[h[h[e>>2]+56>>2]](e,h[n+176>>2],h[n+172>>2]))for(h[h[n+180>>2]+8>>2]&&(t=h[h[n+180>>2]+8>>2],r[h[h[t>>2]+16>>2]](t,e+128|0)),h[n+168>>2]=0;t=h[n+168>>2],h[12+(o=z-16|0)>>2]=e+128,(0|t)<h[h[o+12>>2]+4>>2];){for(o=h[n+168>>2],h[12+(t=z-16|0)>>2]=e+128,h[t+8>>2]=o,h[n+164>>2]=h[h[h[t+12>>2]+12>>2]+(h[t+8>>2]<<2)>>2],h[12+(t=z-16|0)>>2]=h[n+164>>2],g[n+160>>2]=h[h[t+12>>2]+836>>2]==h[e+8>>2]?x(-1):x(1),h[n+156>>2]=0;t=h[n+156>>2],h[12+(o=z-16|0)>>2]=h[n+164>>2],(0|t)<h[h[o+12>>2]+844>>2];)o=h[n+156>>2],h[12+(t=z-16|0)>>2]=h[n+164>>2],h[t+8>>2]=o,h[n+152>>2]=(h[t+12>>2]+4|0)+y(h[t+8>>2],208),h[12+(t=z-16|0)>>2]=h[n+152>>2],g[n+148>>2]=g[h[t+12>>2]+80>>2],+g[n+148>>2]<0&&(g[n+148>>2]<g[n+192>>2]&&(g[n+192>>2]=g[n+148>>2],Ho(n+128|0,h[n+152>>2]- -64|0,n+160|0),t=h[n+132>>2],h[e+152>>2]=h[n+128>>2],h[e+156>>2]=t,t=h[n+140>>2],h[e+160>>2]=h[n+136>>2],h[e+164>>2]=t),Ho(t=n+80|0,h[n+152>>2]- -64|0,n+160|0),Ho(o=n+96|0,t,n+148|0),g[n+76>>2]=.20000000298023224,Ho(t=n+112|0,o,n+76|0),br(e+92|0,t),a[n+199|0]=1),h[n+156>>2]=h[n+156>>2]+1;h[n+168>>2]=h[n+168>>2]+1}h[n+188>>2]=h[n+188>>2]+1}return h[12+(o=z-16|0)>>2]=h[e+8>>2],$a(t=n+8|0,h[o+12>>2]+4|0),Zo(t,e+92|0),Ka(h[e+8>>2],t),z=n+240|0,1&a[n+199|0]}function pe(e,t,n,i,o,a){e|=0,t|=0,n|=0,i|=0,o|=0,a|=0;var s,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=0,b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=0,U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=0,oe=0;z=s=z-96|0,Da(h[e+4>>2]),X=g[i+40>>2],Q=g[i+36>>2],Z=g[i+24>>2],J=g[i+20>>2],U=g[t+20>>2],j=g[t+36>>2],k=g[t+24>>2],I=g[t+52>>2],l=g[n+52>>2],R=g[i+52>>2],_=g[o+52>>2],G=g[t+40>>2],N=g[t+56>>2],f=g[n+56>>2],D=g[i+56>>2],c=g[o+56>>2],K=g[i+32>>2],$=g[i+16>>2],ee=g[i+8>>2],te=g[i+4>>2],ne=g[i>>2],H=g[t>>2],V=g[t+16>>2],W=g[t+32>>2],q=g[t+4>>2],Y=g[t+8>>2],M=g[t+48>>2],p=g[n+48>>2],O=g[i+48>>2],u=g[o+48>>2],y=h[e+8>>2],h[s+60>>2]=0,w=x(x(l-I)-x(_-R)),l=x(-w),b=x(x(p-M)-x(u-O)),C=x(x(f-N)-x(c-D)),g[s+56>>2]=x(x(k*l)-x(Y*b))-x(G*C),g[s+52>>2]=x(x(U*l)-x(b*q))-x(C*j),g[s+48>>2]=x(x(V*l)-x(b*H))-x(C*W),r[h[h[y>>2]+64>>2]](s+80|0,y,s+48|0),c=g[t+52>>2],p=g[t+24>>2],u=g[t+20>>2],l=g[t+56>>2],f=g[t+40>>2],_=g[t+36>>2],m=g[t+48>>2],d=g[t+8>>2],v=g[t>>2],E=g[t+4>>2],P=g[t+16>>2],S=g[t+32>>2],h[s+76>>2]=0,L=l,l=g[s+80>>2],F=_,_=g[s+84>>2],A=f,f=g[s+88>>2],g[s+72>>2]=L+x(x(x(S*l)+x(F*_))+x(A*f)),g[s+68>>2]=c+x(x(x(l*P)+x(_*u))+x(f*p)),g[s+64>>2]=m+x(x(x(l*v)+x(_*E))+x(f*d)),y=h[e+12>>2],l=g[i+20>>2],_=g[i+36>>2],f=g[i+24>>2],c=g[i+40>>2],p=g[i>>2],u=g[i+16>>2],m=g[i+32>>2],d=g[i+4>>2],v=g[i+8>>2],h[s+28>>2]=0,g[s+24>>2]=x(x(b*v)+x(w*f))+x(C*c),g[s+20>>2]=x(x(b*d)+x(w*l))+x(C*_),g[s+16>>2]=x(x(b*p)+x(w*u))+x(C*m),r[h[h[y>>2]+64>>2]](s+32|0,y,s+16|0),c=g[i+52>>2],p=g[i+24>>2],u=g[i+20>>2],l=g[i+56>>2],f=g[i+40>>2],_=g[i+36>>2],m=g[i+16>>2],d=g[i+48>>2],v=g[i+8>>2],E=g[i>>2],P=g[i+4>>2],S=g[i+32>>2],h[s+60>>2]=0,h[s+92>>2]=0,L=l,l=g[s+32>>2],F=_,_=g[s+36>>2],A=f,f=g[s+40>>2],S=x(L+x(x(x(S*l)+x(F*_))+x(A*f))),g[s+56>>2]=S,d=x(d+x(x(x(l*E)+x(_*P))+x(f*v))),g[s+48>>2]=d,l=x(c+x(x(x(l*m)+x(_*u))+x(f*p))),g[s+52>>2]=l,c=x(g[s+68>>2]-l),g[s+84>>2]=c,p=x(g[s+64>>2]-d),g[s+80>>2]=p,u=x(g[s+72>>2]-S),g[s+88>>2]=u,l=x(0),_=x(0),f=x(0),m=x(0);e:{t:if(x(x(x(p*p)+x(c*c))+x(u*u))>x(9999999747378752e-20))for(y=32;;){if(!y)break t;if(B=h[e+8>>2],h[s+12>>2]=0,c=x(-g[s+84>>2]),p=g[s+80>>2],u=g[s+88>>2],g[s+8>>2]=x(x(k*c)-x(Y*p))-x(G*u),g[s+4>>2]=x(x(U*c)-x(q*p))-x(j*u),g[s>>2]=x(x(V*c)-x(H*p))-x(W*u),r[h[h[B>>2]+64>>2]](s+16|0,B,s),h[s+76>>2]=0,c=g[s+16>>2],p=g[s+20>>2],u=g[s+24>>2],g[s+72>>2]=N+x(x(x(W*c)+x(j*p))+x(G*u)),g[s+68>>2]=I+x(x(x(V*c)+x(U*p))+x(k*u)),g[s+64>>2]=M+x(x(x(H*c)+x(q*p))+x(Y*u)),B=h[e+12>>2],h[s+12>>2]=0,c=g[s+80>>2],p=g[s+84>>2],u=g[s+88>>2],g[s+8>>2]=x(x(ee*c)+x(Z*p))+x(X*u),g[s+4>>2]=x(x(te*c)+x(J*p))+x(Q*u),g[s>>2]=x(x(ne*c)+x($*p))+x(K*u),r[h[h[B>>2]+64>>2]](s+16|0,B,s),h[s+60>>2]=0,h[s+44>>2]=0,c=g[s+16>>2],p=g[s+20>>2],u=g[s+24>>2],d=x(D+x(x(x(K*c)+x(Q*p))+x(X*u))),g[s+56>>2]=d,d=x(g[s+72>>2]-d),g[s+40>>2]=d,v=x(R+x(x(x($*c)+x(J*p))+x(Z*u))),g[s+52>>2]=v,v=x(g[s+68>>2]-v),g[s+36>>2]=v,c=x(O+x(x(x(ne*c)+x(te*p))+x(ee*u))),g[s+48>>2]=c,E=x(g[s+64>>2]-c),g[s+32>>2]=E,m>x(1))break e;if(c=g[s+80>>2],p=g[s+84>>2],u=g[s+88>>2],(P=x(x(x(E*c)+x(v*p))+x(d*u)))>x(0)){if((l=x(x(x(b*c)+x(w*p))+x(C*u)))>=x(-14210854715202004e-30))break e;_=g[t+48>>2],f=g[n+48>>2],I=g[t+52>>2],M=g[n+52>>2],N=g[t+56>>2],S=g[n+56>>2],O=g[i+48>>2],L=g[o+48>>2],R=g[i+52>>2],F=g[o+52>>2],D=g[i+56>>2],A=g[o+56>>2],h[s+44>>2]=0,g[s+40>>2]=d,g[s+36>>2]=v,g[s+32>>2]=E,m=x(m-x(P/l)),l=x(x(1)-m),D=x(x(D*l)+x(m*A)),R=x(x(l*R)+x(m*F)),O=x(x(l*O)+x(m*L)),N=x(x(l*N)+x(m*S)),I=x(x(l*I)+x(m*M)),M=x(x(l*_)+x(m*f)),ie=h[s+92>>2],_=p,f=u,l=c}if(de(h[e+4>>2],s+32|0)||Ae(h[e+4>>2],s+32|0,s- -64|0,s+48|0),!ve(h[e+4>>2],s+80|0))break t;if(y=y+-1|0,c=g[s+80>>2],A=x(c*c),c=g[s+84>>2],A=x(A+x(c*c)),c=g[s+88>>2],!(x(A+x(c*c))>x(9999999747378752e-20)))break}g[a+164>>2]=m,(c=x(x(x(l*l)+x(_*_))+x(f*f)))>=x(14210854715202004e-30)?(h[a+144>>2]=ie,A=f,f=x(x(1)/x(T(c))),m=x(A*f),g[a+140>>2]=m,_=x(_*f),g[a+136>>2]=_,l=x(l*f),g[a+132>>2]=l):(h[a+132>>2]=0,h[a+136>>2]=0,h[a+140>>2]=0,h[a+144>>2]=0,m=x(0),_=x(0),l=x(0)),x(x(x(b*l)+x(w*_))+x(C*m))>=x(-g[a+172>>2])||(me(h[e+4>>2],s+16|0,s),e=h[s+12>>2],h[a+156>>2]=h[s+8>>2],h[a+160>>2]=e,e=h[s+4>>2],h[a+148>>2]=h[s>>2],h[a+152>>2]=e,oe=1)}return z=s+96|0,0|oe}function ue(e,t,n,i){for(var o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,m=0,d=0,v=0,g=0;;){for(_=n,a=h[e+12>>2],l=h[a+((n+i|0)/2<<2)>>2],s=i,c=n;;){for(f=h[h[l+836>>2]+208>>2];p=h[(m=((n=c)<<2)+a|0)>>2],(0|(o=h[h[p+836>>2]+208>>2]))<=-1&&(o=h[h[p+840>>2]+208>>2]),c=n+1|0,r=o,(d=(0|(o=f))>-1)||(o=h[h[l+840>>2]+208>>2]),(0|r)<(0|o););for(;u=h[(v=(o=s)<<2)+a>>2],r=f,s=o+-1|0,d||(r=h[h[l+840>>2]+208>>2]),g=r,(0|(r=h[h[u+836>>2]+208>>2]))<=-1&&(r=h[h[u+840>>2]+208>>2]),(0|g)<(0|r););if((0|n)<=(0|o)&&(h[m>>2]=u,h[h[e+12>>2]+v>>2]=p,o=s,n=c),!((0|n)<=(0|o)))break;a=h[e+12>>2],s=o,c=n}if((0|o)>(0|_)&&ue(e,t,_,o),!((0|n)<(0|i)))break}}function _e(e){var t=0;return h[(e|=0)>>2]=6720,(t=h[e+56>>2])&&(m[e+60|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+56>>2]=0),h[e+56>>2]=0,h[e+48>>2]=0,h[e+52>>2]=0,a[e+60|0]=1,(t=h[e+36>>2])&&(m[e+40|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+36>>2]=0),h[e+36>>2]=0,h[e+28>>2]=0,h[e+32>>2]=0,a[e+40|0]=1,function(e){var t=0;(t=h[e+12>>2])&&(m[e+16|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+12>>2]=0),h[e+12>>2]=0,a[e+16|0]=1,h[e+4>>2]=0,h[e+8>>2]=0}(e+4|0),0|e}function fe(e){var t=0;return h[(e|=0)>>2]=5744,m[e+20|0]&&((t=h[h[e+16>>2]+16>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),(t=h[e+16>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t))),m[e+12|0]&&((t=h[h[e+8>>2]+16>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),(t=h[e+8>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t))),t=h[e+28>>2],r[h[h[t>>2]>>2]](t),(t=h[e+28>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+32>>2],r[h[h[t>>2]>>2]](t),(t=h[e+32>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+36>>2],r[h[h[t>>2]>>2]](t),(t=h[e+36>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+40>>2],r[h[h[t>>2]>>2]](t),(t=h[e+40>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+44>>2],r[h[h[t>>2]>>2]](t),(t=h[e+44>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+48>>2],r[h[h[t>>2]>>2]](t),(t=h[e+48>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+52>>2],r[h[h[t>>2]>>2]](t),(t=h[e+52>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+56>>2],r[h[h[t>>2]>>2]](t),(t=h[e+56>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+72>>2],r[h[h[t>>2]>>2]](t),(t=h[e+72>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+76>>2],r[h[h[t>>2]>>2]](t),(t=h[e+76>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+68>>2],r[h[h[t>>2]>>2]](t),(t=h[e+68>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+84>>2],r[h[h[t>>2]>>2]](t),(t=h[e+84>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+80>>2],r[h[h[t>>2]>>2]](t),(t=h[e+80>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),t=h[e+24>>2],r[h[h[t>>2]>>2]](t),(t=h[e+24>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),0|e}function he(e,t){var n,i=0,o=0,s=0,c=0,l=0;if(h[e>>2]=5744,o=h[t+20>>2],h[6657]=h[6657]+1,i=0|r[h[5255]](4,16),h[i>>2]=o?4956:5164,h[e+24>>2]=i,h[6657]=h[6657]+1,o=0|r[h[5255]](20,16),i=h[e+24>>2],h[o+12>>2]=0,h[o+16>>2]=3,h[o>>2]=10484,a[o+4|0]=0,h[o+8>>2]=i,h[e+28>>2]=o,h[6657]=h[6657]+1,i=0|r[h[5255]](8,16),h[i>>2]=5860,a[i+4|0]=0,h[e+32>>2]=i,h[6657]=h[6657]+1,i=0|r[h[5255]](8,16),h[i>>2]=5984,a[i+4|0]=0,h[e+36>>2]=i,h[6657]=h[6657]+1,i=0|r[h[5255]](8,16),h[i>>2]=6076,a[i+4|0]=0,h[e+40>>2]=i,h[6657]=h[6657]+1,i=0|r[h[5255]](8,16),h[i>>2]=6156,a[i+4|0]=0,h[e+44>>2]=i,h[6657]=h[6657]+1,i=0|r[h[5255]](8,16),h[i>>2]=6244,a[i+4|0]=0,h[e+48>>2]=i,h[6657]=h[6657]+1,i=0|r[h[5255]](8,16),h[i>>2]=6328,a[i+4|0]=0,h[e+52>>2]=i,h[6657]=h[6657]+1,i=0|r[h[5255]](8,16),h[i>>2]=6396,a[i+4|0]=0,h[e+56>>2]=i,h[6657]=h[6657]+1,i=0|r[h[5255]](8,16),h[i>>2]=6480,a[i+4|0]=0,h[e+72>>2]=i,h[6657]=h[6657]+1,i=0|r[h[5255]](8,16),h[i>>2]=6480,h[e+76>>2]=i,a[i+4|0]=1,h[6657]=h[6657]+1,i=0|r[h[5255]](8,16),h[i>>2]=6564,a[i+4|0]=0,h[e+68>>2]=i,h[6657]=h[6657]+1,i=0|r[h[5255]](16,16),h[i+8>>2]=1,h[i+12>>2]=0,h[i>>2]=6640,a[i+4|0]=0,h[e+84>>2]=i,h[6657]=h[6657]+1,i=0|r[h[5255]](16,16),h[i+8>>2]=1,h[i+12>>2]=0,h[i>>2]=6640,h[e+80>>2]=i,a[i+4|0]=1,n=h[t+16>>2],i=h[t>>2])h[e+8>>2]=i,a[e+12|0]=0;else{if(a[e+12|0]=1,h[6657]=h[6657]+1,c=0|r[h[5255]](24,16),i=h[t+8>>2],h[c+20>>2]=0,h[c+4>>2]=i,h[c>>2]=868,h[6657]=h[6657]+1,o=0|r[h[5255]](y(i,868),16),h[c+12>>2]=o,h[c+16>>2]=o,i=h[c+4>>2],h[c+8>>2]=i,l=i+-1|0)for(s=h[c>>2];i=o+s|0,h[o>>2]=i,o=i,l=l+-1|0;);else i=o;h[i>>2]=0,h[e+8>>2]=c}if(i=h[t+4>>2])return h[e+16>>2]=i,void(a[e+20|0]=0);if(a[e+20|0]=1,h[6657]=h[6657]+1,s=0|r[h[5255]](24,16),i=h[t+12>>2],h[s+20>>2]=0,h[s+4>>2]=i,t=(0|(t=(0|n)>80?n:80))>116?t+16&-16:128,h[s>>2]=t,h[6657]=h[6657]+1,o=0|r[h[5255]](y(t,i),16),h[s+12>>2]=o,h[s+16>>2]=o,t=h[s+4>>2],h[s+8>>2]=t,l=t+-1|0)for(t=h[s>>2];i=t+o|0,h[o>>2]=i,o=i,l=l+-1|0;);else i=o;h[i>>2]=0,h[e+16>>2]=s}function me(e,t,n){var i=0;ge(e),i=h[e+248>>2],h[t>>2]=h[e+244>>2],h[t+4>>2]=i,i=h[e+256>>2],h[t+8>>2]=h[e+252>>2],h[t+12>>2]=i,t=h[e+272>>2],h[n+8>>2]=h[e+268>>2],h[n+12>>2]=t,t=h[e+264>>2],h[n>>2]=h[e+260>>2],h[n+4>>2]=t}function de(e,t){var n=0,i=x(0),o=0,r=x(0),a=0,s=x(0),c=x(0),l=x(0),p=x(0);n=0;e:if(!((0|(a=h[e>>2]))<1)){for(s=g[e+308>>2],c=g[t+8>>2],l=g[t+4>>2],p=g[t>>2];;){if(i=x(p-g[4+(n=(o<<4)+e|0)>>2]),r=x(i*i),i=x(l-g[n+8>>2]),r=x(r+x(i*i)),i=x(c-g[n+12>>2]),n=1,x(r+x(i*i))<=s)break e;if((0|a)==(0|(o=o+1|0)))break}n=0}return o=n,g[t+12>>2]!=g[e+304>>2]|g[t+8>>2]!=g[e+300>>2]|g[t+4>>2]!=g[e+296>>2]|g[t>>2]!=g[e+292>>2]||(o=1),o}function ve(e,t){var n,i=0;return n=ge(e),i=h[e+288>>2],h[t+8>>2]=h[e+284>>2],h[t+12>>2]=i,i=h[e+280>>2],h[t>>2]=h[e+276>>2],h[t+4>>2]=i,n}function ge(e){var t,n=x(0),i=0,o=0,r=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=0,C=x(0),S=x(0);z=t=z-16|0;e:if(m[e+356|0]){a[e+356|0]=0,a[e+352|0]=0,h[e+344>>2]=0,h[e+348>>2]=0,h[e+336>>2]=0,h[e+340>>2]=0,b=-16&m[e+332|0],a[e+332|0]=b;t:if(!((i=h[e>>2])>>>0>4)){o=e+316|0;n:{i:{switch(i-1|0){case 1:if(s=g[e+4>>2],l=x(g[e+20>>2]-s),r=g[e+8>>2],p=x(g[e+24>>2]-r),n=g[e+12>>2],d=x(g[e+28>>2]-n),o=1,(r=x(x(x(x(x(0)-s)*l)+x(x(x(0)-r)*p))+x(x(x(0)-n)*d)))>x(0)&&(r<(n=x(x(x(l*l)+x(p*p))+x(d*d)))?(c=x(r/n),o=3):(c=x(1),o=2)),h[e+344>>2]=0,h[e+348>>2]=0,g[e+340>>2]=c,g[e+336>>2]=x(1)-c,a[0|(i=e+332|0)]=o|b,o=0,h[e+256>>2]=0,n=g[e+92>>2],s=x(n+x(c*x(g[e+108>>2]-n))),g[e+252>>2]=s,n=g[e+88>>2],l=x(n+x(c*x(g[e+104>>2]-n))),g[e+248>>2]=l,n=g[e+84>>2],p=x(n+x(c*x(g[e+100>>2]-n))),g[e+244>>2]=p,d=g[e+180>>2],r=g[e+184>>2],u=g[e+168>>2],n=g[e+188>>2],_=g[e+172>>2],f=g[e+164>>2],h[e+288>>2]=0,v=s,s=x(_+x(c*x(n-_))),g[e+284>>2]=v-s,r=x(u+x(c*x(r-u))),g[e+280>>2]=l-r,n=x(f+x(c*x(d-f))),g[e+276>>2]=p-n,h[e+272>>2]=0,g[e+268>>2]=s,g[e+264>>2]=r,g[e+260>>2]=n,ks(e,i),g[e+336>>2]>=x(0)^1|g[e+340>>2]>=x(0)^1|g[e+344>>2]>=x(0)^1)break t;o=g[e+348>>2]>=x(0);break t;case 2:if(h[(i=t)+8>>2]=0,h[i+12>>2]=0,h[i>>2]=0,h[i+4>>2]=0,sa(i,e+4|0,e+20|0,e+36|0,o),o=0,h[e+256>>2]=0,v=g[e+336>>2],A=g[e+340>>2],y=g[e+344>>2],C=x(x(x(v*g[e+92>>2])+x(A*g[e+108>>2]))+x(y*g[e+124>>2])),g[e+252>>2]=C,S=x(x(x(v*g[e+88>>2])+x(A*g[e+104>>2]))+x(y*g[e+120>>2])),g[e+248>>2]=S,c=x(x(x(v*g[e+84>>2])+x(A*g[e+100>>2]))+x(y*g[e+116>>2])),g[e+244>>2]=c,u=g[e+180>>2],_=g[e+196>>2],f=g[e+168>>2],l=g[e+184>>2],p=g[e+200>>2],d=g[e+172>>2],s=g[e+188>>2],r=g[e+204>>2],n=g[e+164>>2],h[e+288>>2]=0,s=x(x(x(v*d)+x(A*s))+x(y*r)),g[e+284>>2]=C-s,r=x(x(x(v*f)+x(A*l))+x(y*p)),g[e+280>>2]=S-r,n=x(x(x(v*n)+x(A*u))+x(y*_)),g[e+276>>2]=c-n,h[e+272>>2]=0,g[e+268>>2]=s,g[e+264>>2]=r,g[e+260>>2]=n,ks(e,e+332|0),g[e+336>>2]>=x(0)^1|g[e+340>>2]>=x(0)^1|g[e+344>>2]>=x(0)^1)break t;o=g[e+348>>2]>=x(0);break t;case 3:if(h[(i=t)+8>>2]=0,h[i+12>>2]=0,h[i>>2]=0,h[i+4>>2]=0,function(e,t,n,i,o,r){var s=x(0),c=0,l=x(0),p=x(0),u=x(0),_=0,f=x(0),d=x(0),v=x(0),A=0,y=x(0),b=x(0),C=x(0),S=0,E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=0,Q=x(0),Z=x(0),J=x(0),K=0,$=0;return z=c=z-48|0,a[c+24|0]=0,_=h[e+12>>2],h[r+8>>2]=h[e+8>>2],h[r+12>>2]=_,_=h[e+4>>2],h[r>>2]=h[e>>2],h[r+4>>2]=_,a[r+16|0]=15|m[r+16|0],G=g[e+8>>2],E=g[t+8>>2],B=x(G-E),w=g[n+8>>2],b=x(w-E),H=g[i>>2],T=g[t>>2],P=x(H-T),V=g[o+4>>2],I=g[t+4>>2],R=x(V-I),N=g[i+4>>2],D=x(N-I),f=g[o>>2],M=x(f-T),d=x(x(P*R)-x(D*M)),O=g[n>>2],L=x(O-T),W=g[o+8>>2],v=x(W-E),p=g[i+8>>2],u=x(p-E),s=x(x(D*v)-x(u*R)),F=g[n+4>>2],y=x(F-I),l=x(x(u*M)-x(P*v)),C=x(x(b*d)+x(x(L*s)+x(y*l))),q=g[e>>2],U=x(q-T),Y=g[e+4>>2],j=x(Y-I),X=x(C*C)<x(9.99999905104687e-9)?-1:x(x(x(B*d)+x(x(U*s)+x(j*l)))*C)<x(0),Q=x(x(y*u)-x(b*D)),Z=x(x(b*P)-x(L*u)),J=x(x(L*D)-x(y*P)),k=x(x(x(Q*M)+x(Z*R))+x(J*v)),s=u,u=x(x(y*M)-x(L*R)),y=x(x(b*R)-x(y*v)),C=x(x(L*v)-x(b*M)),v=x(x(s*u)+x(x(P*y)+x(D*C))),s=x(N-F),N=x(f-O),f=x(H-O),l=x(V-F),d=x(x(s*N)-x(f*l)),p=x(p-w),b=x(p*l),l=x(W-w),s=x(b-x(s*l)),l=x(x(f*l)-x(p*N)),p=x(x(x(E-w)*d)+x(x(x(T-O)*s)+x(x(I-F)*l))),(0|(_=(K=x(p*p)<x(9.99999905104687e-9)?-1:x(x(x(x(G-w)*d)+x(x(x(q-O)*s)+x(x(Y-F)*l)))*p)<x(0))|($=x(v*v)<x(9.99999905104687e-9)?-1:x(x(x(B*u)+x(x(U*y)+x(j*C)))*v)<x(0))|(A=x(k*k)<x(9.99999905104687e-9)?-1:x(x(x(x(U*Q)+x(j*Z))+x(J*B))*k)<x(0))|X))<=-1?a[r+36|0]=1:_&&(l=x(34028234663852886e22),A&&(sa(e,t,n,i,c+8|0),f=g[c+8>>2],s=x(f-g[e>>2]),l=x(s*s),d=g[c+12>>2],s=x(d-g[e+4>>2]),l=x(l+x(s*s)),p=g[c+16>>2],s=x(p-g[e+8>>2]),s=x(l+x(s*s)),l=x(34028234663852886e22),s<x(34028234663852886e22)&&(h[r+12>>2]=h[c+20>>2],g[r+8>>2]=p,g[r+4>>2]=d,g[r>>2]=f,_=m[c+24|0],a[r+16|0]=1&_|240&m[r+16|0]|2&_|4&_,S=h[c+36>>2],A=h[c+32>>2],_=h[c+28>>2],h[r+32>>2]=0,h[r+28>>2]=S,h[r+20>>2]=_,h[r+24>>2]=A,l=s)),X&&(sa(e,t,i,o,c+8|0),f=g[c+8>>2],s=x(f-g[e>>2]),u=x(s*s),d=g[c+12>>2],s=x(d-g[e+4>>2]),u=x(u+x(s*s)),p=g[c+16>>2],s=x(p-g[e+8>>2]),(s=x(u+x(s*s)))<l&&(h[r+12>>2]=h[c+20>>2],g[r+8>>2]=p,g[r+4>>2]=d,g[r>>2]=f,A=(_=m[c+24|0])<<1,a[r+16|0]=8&A|4&A|1&_|240&m[r+16|0],S=h[c+36>>2],A=h[c+32>>2],_=h[c+28>>2],h[r+24>>2]=0,h[r+28>>2]=A,h[r+32>>2]=S,h[r+20>>2]=_,l=s)),$&&(sa(e,t,o,n,c+8|0),f=g[c+8>>2],s=x(f-g[e>>2]),u=x(s*s),d=g[c+12>>2],s=x(d-g[e+4>>2]),u=x(u+x(s*s)),p=g[c+16>>2],s=x(p-g[e+8>>2]),(s=x(u+x(s*s)))<l&&(h[r+12>>2]=h[c+20>>2],g[r+8>>2]=p,g[r+4>>2]=d,g[r>>2]=f,t=m[c+24|0],a[r+16|0]=1&t|240&m[r+16|0]|t>>>1&2|t<<2&8,_=h[c+36>>2],t=h[c+28>>2],h[r+32>>2]=h[c+32>>2],h[r+28>>2]=0,h[r+24>>2]=_,h[r+20>>2]=t,l=s)),K?(sa(e,n,o,i,c+8|0),S=1,f=g[c+8>>2],s=x(f-g[e>>2]),u=x(s*s),d=g[c+12>>2],s=x(d-g[e+4>>2]),u=x(u+x(s*s)),p=g[c+16>>2],s=x(p-g[e+8>>2]),x(u+x(s*s))<l&&(h[r+12>>2]=h[c+20>>2],g[r+8>>2]=p,g[r+4>>2]=d,g[r>>2]=f,e=m[c+24|0],a[r+16|0]=4&e|240&m[r+16|0]|e<<1&2|e<<2&8,t=h[c+36>>2],e=h[c+28>>2],h[r+32>>2]=h[c+32>>2],h[r+28>>2]=t,h[r+24>>2]=e,h[r+20>>2]=0)):S=1),z=c+48|0,S}(i,e+4|0,e+20|0,e+36|0,e+52|0,o)){if(o=0,h[e+256>>2]=0,u=g[e+336>>2],_=g[e+340>>2],f=g[e+344>>2],n=g[e+348>>2],l=x(x(x(x(u*g[e+92>>2])+x(_*g[e+108>>2]))+x(f*g[e+124>>2]))+x(n*g[e+140>>2])),g[e+252>>2]=l,p=x(x(x(x(u*g[e+88>>2])+x(_*g[e+104>>2]))+x(f*g[e+120>>2]))+x(n*g[e+136>>2])),g[e+248>>2]=p,d=x(x(x(x(u*g[e+84>>2])+x(_*g[e+100>>2]))+x(f*g[e+116>>2]))+x(n*g[e+132>>2])),g[e+244>>2]=d,h[e+288>>2]=0,h[e+272>>2]=0,s=x(x(x(x(u*g[e+164>>2])+x(_*g[e+180>>2]))+x(f*g[e+196>>2]))+x(n*g[e+212>>2])),g[e+260>>2]=s,r=x(x(x(x(u*g[e+168>>2])+x(_*g[e+184>>2]))+x(f*g[e+200>>2]))+x(n*g[e+216>>2])),g[e+264>>2]=r,n=x(x(x(x(u*g[e+172>>2])+x(_*g[e+188>>2]))+x(f*g[e+204>>2]))+x(n*g[e+220>>2])),g[e+268>>2]=n,g[e+276>>2]=d-s,g[e+280>>2]=p-r,g[e+284>>2]=l-n,ks(e,e+332|0),g[e+336>>2]>=x(0)^1|g[e+340>>2]>=x(0)^1|g[e+344>>2]>=x(0)^1)break t;o=g[e+348>>2]>=x(0);break t}if(!m[e+352|0])break i;break;case 0:break n}o=0;break t}h[e+276>>2]=0,h[e+280>>2]=0,o=1,a[e+312|0]=1,h[e+284>>2]=0,h[e+288>>2]=0;break e}i=h[e+168>>2],h[e+260>>2]=h[e+164>>2],h[e+264>>2]=i,i=h[e+88>>2],h[e+244>>2]=h[e+84>>2],h[e+248>>2]=i,i=h[e+176>>2],h[e+268>>2]=h[e+172>>2],h[e+272>>2]=i,i=h[e+96>>2],h[e+252>>2]=h[e+92>>2],h[e+256>>2]=i,a[e+352|0]=0,h[e+288>>2]=0,g[e+280>>2]=g[e+248>>2]-g[e+264>>2],g[e+276>>2]=g[e+244>>2]-g[e+260>>2],g[e+284>>2]=g[e+252>>2]-g[e+268>>2],h[e+344>>2]=0,h[e+348>>2]=0,h[e+336>>2]=1065353216,h[e+340>>2]=0,a[e+332|0]=b,o=1}a[e+312|0]=o}else o=m[e+312|0];return z=t+16|0,0!=(0|o)}function Ae(e,t,n,i){var o=0,r=0;o=h[t+4>>2],h[e+292>>2]=h[t>>2],h[e+296>>2]=o,o=h[t+12>>2],h[e+300>>2]=h[t+8>>2],h[e+304>>2]=o,a[e+356|0]=1,r=h[t+4>>2],o=e+(h[e>>2]<<4)|0,h[o+4>>2]=h[t>>2],h[o+8>>2]=r,r=h[t+12>>2],h[o+12>>2]=h[t+8>>2],h[o+16>>2]=r,r=h[n+12>>2],t=(h[e>>2]<<4)+e|0,h[t+92>>2]=h[n+8>>2],h[t+96>>2]=r,o=h[n+4>>2],h[t+84>>2]=h[n>>2],h[t+88>>2]=o,o=h[i+12>>2],t=(h[e>>2]<<4)+e|0,h[t+172>>2]=h[i+8>>2],h[t+176>>2]=o,n=h[i+4>>2],h[t+164>>2]=h[i>>2],h[t+168>>2]=n,h[e>>2]=h[e>>2]+1}function ye(e,t,n,i,o){var r,a=x(0),c=x(0),l=x(0),p=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=0,y=x(0),b=x(0),C=x(0),S=x(0),E=0,w=x(0),P=x(0),I=0,R=x(0),N=x(0),D=x(0),M=x(0),O=0,L=x(0),F=x(0),B=x(0),U=0,j=0,k=0,G=0;if(h[60+(r=z+-64|0)>>2]=n,h[r+56>>2]=t,h[r+52>>2]=e,a=g[t>>2],p=g[e>>2],m=g[t+4>>2],l=g[e+4>>2],v=g[t+8>>2],f=g[e+8>>2],h[r+12>>2]=0,c=x(f-v),g[r+8>>2]=c,d=x(l-m),g[r+4>>2]=d,_=x(p-a),g[r>>2]=_,b=g[n>>2],C=g[n+4>>2],S=g[n+8>>2],h[r+44>>2]=0,h[r+28>>2]=0,R=x(S-f),g[r+40>>2]=R,N=x(C-l),g[r+36>>2]=N,S=x(v-S),g[r+24>>2]=S,w=x(m-C),g[r+20>>2]=w,D=x(b-p),g[r+32>>2]=D,P=x(a-b),g[r+16>>2]=P,m=x(-1),v=x(x(_*w)-x(d*P)),b=x(x(d*S)-x(c*w)),C=x(x(c*P)-x(_*S)),!((M=x(x(v*v)+x(x(b*b)+x(C*C))))>x(0)))return x(-1);for(;x(x(x(p*x(x(v*d)-x(C*c)))+x(l*x(x(b*c)-x(v*_))))+x(x(x(C*_)-x(b*d))*f))>x(0)?(G=h[4900+(k=E<<2)>>2],O=h[(A=G<<2)+(r+52|0)>>2],L=g[O>>2],c=x(L-p),F=g[O+4>>2],d=x(F-l),B=g[O+8>>2],_=x(B-f),a=x(x(x(c*c)+x(d*d))+x(_*_)),y=x(-1),a>x(0)&&((a=x(x(-x(x(x(p*c)+x(l*d))+x(f*_)))/a))>=x(1)?(U=1065353216,j=0,I=2,y=x(x(x(L*L)+x(F*F))+x(B*B))):a<=x(0)?(U=0,j=1065353216,I=1,y=x(x(x(p*p)+x(l*l))+x(f*f))):(u(x(x(1)-a)),j=s(0),u(a),U=s(0),I=3,f=x(f+x(_*a)),p=x(p+x(c*a)),a=x(l+x(d*a)),y=x(x(f*f)+x(x(p*p)+x(a*a))))),!!((a=y)<m)|m<x(0)?(h[o>>2]=(0-(1&I)&1<<E)+(1<<G&I<<30>>31),h[i+k>>2]=j,h[i+A>>2]=U,h[(h[A+4900>>2]<<2)+i>>2]=0):a=m):a=m,3!=(0|(E=E+1|0));)_=g[(A=(E<<4)+r|0)>>2],c=g[A+8>>2],d=g[A+4>>2],A=h[(r+52|0)+(E<<2)>>2],f=g[A+8>>2],l=g[A+4>>2],p=g[A>>2],m=a;return a<x(0)&&(a=g[e+8>>2],m=g[e>>2],p=g[e+4>>2],h[o>>2]=7,p=x(x(x(x(b*m)+x(C*p))+x(v*a))/M),a=x(C*p),l=x(g[t+4>>2]-a),m=x(b*p),f=x(g[t>>2]-m),c=x(x(P*l)-x(w*f)),y=x(c*c),p=x(v*p),c=x(g[t+8>>2]-p),l=x(x(w*c)-x(S*l)),_=x(l*l),l=x(x(S*f)-x(P*c)),y=x(T(x(y+x(_+x(l*l))))),l=x(T(M)),f=x(y/l),g[i>>2]=f,c=x(g[n+4>>2]-a),d=x(g[n>>2]-m),_=x(x(D*c)-x(N*d)),y=x(_*_),_=x(g[n+8>>2]-p),c=x(x(N*_)-x(R*c)),v=x(c*c),c=x(x(R*d)-x(D*_)),l=x(x(T(x(y+x(v+x(c*c)))))/l),g[i+4>>2]=l,g[i+8>>2]=x(1)-x(f+l),a=x(x(p*p)+x(x(m*m)+x(a*a)))),a}function xe(e,t,n){var i,o=x(0),r=0,a=x(0),s=x(0),c=x(0),l=x(0),p=0,u=0,_=0,f=0,m=x(0),d=x(0),v=0,A=0,b=0,C=x(0),S=x(0),E=x(0),w=x(0),P=0,I=0,R=0,N=0,D=0;z=i=z-96|0,h[e+376>>2]=0,h[e+364>>2]=4,h[e+368>>2]=0,p=e+316|0,h[e+360>>2]=p,h[e+356>>2]=e+284,h[e+352>>2]=e+252,h[e+348>>2]=e+220,r=h[t+4>>2],h[e>>2]=h[t>>2],h[e+4>>2]=r,r=h[t+20>>2],h[e+16>>2]=h[t+16>>2],h[e+20>>2]=r,r=h[t+12>>2],h[e+8>>2]=h[t+8>>2],h[e+12>>2]=r,r=h[t+36>>2],h[e+32>>2]=h[t+32>>2],h[e+36>>2]=r,r=h[t+28>>2],h[e+24>>2]=h[t+24>>2],h[e+28>>2]=r,r=h[t+52>>2],h[e+48>>2]=h[t+48>>2],h[e+52>>2]=r,r=h[t+44>>2],h[e+40>>2]=h[t+40>>2],h[e+44>>2]=r,f=h[4+(_=t- -64|0)>>2],h[(r=e- -64|0)>>2]=h[_>>2],h[r+4>>2]=f,r=h[t+60>>2],h[e+56>>2]=h[t+56>>2],h[e+60>>2]=r,r=h[t+84>>2],h[e+80>>2]=h[t+80>>2],h[e+84>>2]=r,r=h[t+76>>2],h[e+72>>2]=h[t+72>>2],h[e+76>>2]=r,r=h[t+100>>2],h[e+96>>2]=h[t+96>>2],h[e+100>>2]=r,r=h[t+92>>2],h[e+88>>2]=h[t+88>>2],h[e+92>>2]=r,r=h[t+108>>2],h[e+104>>2]=h[t+104>>2],h[e+108>>2]=r,r=h[t+116>>2],h[e+112>>2]=h[t+112>>2],h[e+116>>2]=r,r=h[t+124>>2],t=h[t+120>>2],h[e+180>>2]=0,h[e+144>>2]=0,h[e+120>>2]=t,h[e+124>>2]=r,t=h[n+12>>2],h[e+136>>2]=h[n+8>>2],h[e+140>>2]=t,t=h[n+4>>2],h[e+128>>2]=h[n>>2],h[e+132>>2]=t,r=e+128|0,o=g[e+128>>2],c=g[e+132>>2],s=g[e+136>>2],(m=x(x(x(o*o)+x(c*c))+x(s*s)))>x(0)?(g[i+40>>2]=-s,g[i+36>>2]=-c,g[i+32>>2]=-o):(h[i+40>>2]=0,h[i+32>>2]=1065353216,h[i+36>>2]=0),h[i+44>>2]=0,h[e+364>>2]=3,h[e+164>>2]=0,h[e+180>>2]=1,h[e+148>>2]=p,pr(e,i+32|0,p),h[e+164>>2]=1065353216,t=h[e+148>>2],n=h[t+20>>2],h[r>>2]=h[t+16>>2],h[r+4>>2]=n,n=h[t+28>>2],h[r+8>>2]=h[t+24>>2],h[r+12>>2]=n,n=h[t+28>>2],h[i+88>>2]=h[t+24>>2],h[i+92>>2]=n,n=h[t+20>>2],h[i+80>>2]=h[t+16>>2],h[i+84>>2]=n,n=h[t+28>>2],h[i+72>>2]=h[t+24>>2],h[i+76>>2]=n,n=h[t+20>>2],h[i+64>>2]=h[t+16>>2],h[i+68>>2]=n,n=h[t+28>>2],h[i+56>>2]=h[t+24>>2],h[i+60>>2]=n,n=h[t+20>>2],h[i+48>>2]=h[t+16>>2],h[i+52>>2]=n,n=h[t+28>>2],h[i+40>>2]=h[t+24>>2],h[i+44>>2]=n,n=h[t+20>>2],h[i+32>>2]=h[t+16>>2],h[i+36>>2]=n,o=g[e+136>>2],c=g[e+132>>2],s=g[e+128>>2],p=h[e+368>>2];e:{t:{n:{for(;;){if((d=x(T(x(x(x(s*s)+x(c*c))+x(o*o)))))<x(9999999747378752e-20)){h[e+376>>2]=1;break n}if(h[i+28>>2]=0,g[i+24>>2]=-o,g[i+20>>2]=-c,g[i+16>>2]=-s,_=148+(n=y(p,36)+e|0)|0,t=h[n+180>>2],h[16+(f=_+(t<<2)|0)>>2]=0,u=h[e+364>>2]+-1|0,h[e+364>>2]=u,v=f,f=h[348+((u<<2)+e|0)>>2],h[v>>2]=f,h[n+180>>2]=t+1,pr(e,i+16|0,f),u=h[n+180>>2],t=h[(_+(u<<2)|0)-4>>2],o=g[t+16>>2],c=x(o-g[i+32>>2]),a=x(c*c),c=g[t+20>>2],s=x(c-g[i+36>>2]),l=x(a+x(s*s)),s=g[t+24>>2],a=x(s-g[i+40>>2]),!(x(l+x(a*a))<x(9999999747378752e-20)||(a=x(o-g[i+48>>2]),l=x(a*a),a=x(c-g[i+52>>2]),l=x(l+x(a*a)),a=x(s-g[i+56>>2]),x(l+x(a*a))<x(9999999747378752e-20)||(a=x(o-g[i+64>>2]),l=x(a*a),a=x(c-g[i+68>>2]),l=x(l+x(a*a)),a=x(s-g[i+72>>2]),x(l+x(a*a))<x(9999999747378752e-20)||(a=x(o-g[i+80>>2]),l=x(a*a),a=x(c-g[i+84>>2]),l=x(l+x(a*a)),a=x(s-g[i+88>>2]),x(l+x(a*a))<x(9999999747378752e-20)))))){if(b=h[t+28>>2],h[8+(f=(i+32|0)+((P=P+1&3)<<4)|0)>>2]=h[t+24>>2],h[f+12>>2]=b,v=h[t+20>>2],h[f>>2]=h[t+16>>2],h[f+4>>2]=v,o=x(x(x(x(g[e+128>>2]*o)+x(g[e+132>>2]*c))+x(g[e+136>>2]*s))/d),x(x(d-(C=o>C?o:C))+x(d*x(-9999999747378752e-20)))<=x(0)){p=h[e+368>>2],n=y(p,36)+e|0,t=h[n+180>>2]+-1|0,h[n+180>>2]=t,t=h[148+(n+(t<<2)|0)>>2],n=h[e+364>>2],h[e+364>>2]=n+1,h[348+((n<<2)+e|0)>>2]=t;break n}h[i+12>>2]=0;i:{o:{r:if(!((t=u+-2|0)>>>0>2)){switch(t-1|0){default:if(t=h[n+152>>2],S=g[t+16>>2],_=h[_>>2],m=g[_+16>>2],d=x(S-m),E=g[t+20>>2],c=g[_+20>>2],a=x(E-c),w=g[t+24>>2],s=g[_+24>>2],l=x(w-s),!((o=x(x(x(d*d)+x(a*a))+x(l*l)))>x(0)))break o;if((o=x(x(-x(x(x(m*d)+x(c*a))+x(s*l)))/o))>=x(1)){h[i+16>>2]=0,h[i+20>>2]=1065353216,h[i+12>>2]=2,m=x(x(x(S*S)+x(E*E))+x(w*w));break r}if(o<=x(0)){h[i+16>>2]=1065353216,h[i+20>>2]=0,h[i+12>>2]=1,m=x(x(x(m*m)+x(c*c))+x(s*s));break r}h[i+12>>2]=3,g[i+20>>2]=o,g[i+16>>2]=x(1)-o,s=x(s+x(l*o)),m=x(m+x(d*o)),o=x(c+x(a*o)),m=x(x(s*s)+x(x(m*m)+x(o*o)));break r;case 0:m=ye(h[_>>2]+16|0,h[n+152>>2]+16|0,h[n+156>>2]+16|0,i+16|0,i+12|0);break r;case 1:}m=bl(h[_>>2]+16|0,h[n+152>>2]+16|0,h[n+156>>2]+16|0,h[n+160>>2]+16|0,i+16|0,i+12|0)}if(m>=x(0)){if(t=0,v=y(p=1-p|0,36)+e|0,h[(_=v)+180>>2]=0,h[r+8>>2]=0,h[r+12>>2]=0,h[r>>2]=0,h[r+4>>2]=0,h[e+368>>2]=p,o=x(0),f=h[i+12>>2],c=x(0),s=x(0),!(b=h[n+180>>2]))break i;for(;u=h[148+(I=(A=t<<2)+n|0)>>2],f>>>t&1?(R=h[_+180>>2],h[148+(N=(R<<2)+v|0)>>2]=u,o=g[(u=A+(i+16|0)|0)>>2],u=h[u>>2],h[_+180>>2]=R+1,h[N+164>>2]=u,u=h[I+148>>2],d=g[u+24>>2],c=g[u+20>>2],s=x(x(g[u+16>>2]*o)+g[e+128>>2]),g[e+128>>2]=s,c=x(x(c*o)+g[e+132>>2]),g[e+132>>2]=c,o=x(x(d*o)+g[e+136>>2]),g[e+136>>2]=o):(A=h[e+364>>2],h[e+364>>2]=A+1,h[348+((A<<2)+e|0)>>2]=u),(0|b)!=(0|(t=t+1|0)););break i}}p=h[e+368>>2],n=y(p,36)+e|0,t=h[n+180>>2]+-1|0,h[n+180>>2]=t,t=h[148+(n+(t<<2)|0)>>2],n=h[e+364>>2],h[e+364>>2]=n+1,h[348+((n<<2)+e|0)>>2]=t;break n}if(15==(0|f)&&(h[e+376>>2]=1),127==(0|D)){t=2,h[e+376>>2]=2,h[e+372>>2]=148+(y(p,36)+e|0);break e}if(D=D+1|0,!(t=h[e+376>>2]))continue;break t}break}p=h[e+368>>2],n=y(p,36)+e|0,t=h[n+180>>2]+-1|0,h[n+180>>2]=t,t=h[148+(n+(t<<2)|0)>>2],n=h[e+364>>2],h[e+364>>2]=n+1,h[348+((n<<2)+e|0)>>2]=t}t=h[e+376>>2]}h[e+372>>2]=148+(y(p,36)+e|0),t>>>0>1||(t-1?(o=g[e+128>>2],a=x(o*o),o=g[e+132>>2],a=x(a+x(o*o)),o=g[e+136>>2],g[e+144>>2]=T(x(a+x(o*o))),t=0):(h[e+144>>2]=0,t=1))}return z=i+96|0,t}function be(e){var t=0;return h[(e|=0)>>2]=4600,t=h[e+344>>2],r[h[h[t>>2]>>2]](t),(t=h[e+344>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e>>2]=4556,(t=h[e+336>>2])&&(m[e+340|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+336>>2]=0),h[e+336>>2]=0,a[e+340|0]=1,h[e+328>>2]=0,h[e+332>>2]=0,Dr(e),0|e}function Ce(e,t,n){e|=0,n|=0;var i,o=0;return h[16+(t|=0)>>2]=h[e+4>>2],h[t+20>>2]=h[e+8>>2],h[t+24>>2]=h[e+12>>2],h[t+28>>2]=h[e+16>>2],h[t+32>>2]=h[e+20>>2],h[t+36>>2]=h[e+24>>2],h[t+40>>2]=h[e+28>>2],h[t+44>>2]=h[e+32>>2],h[t+48>>2]=h[e+36>>2],h[t+52>>2]=h[e+40>>2],h[t+56>>2]=h[e+44>>2],h[t+60>>2]=h[e+48>>2],h[t+64>>2]=h[e+52>>2],h[t+68>>2]=h[e+56>>2],h[t+72>>2]=h[e+60>>2],h[t+76>>2]=h[e- -64>>2],h[t+80>>2]=h[e+68>>2],h[t+84>>2]=h[e+72>>2],h[t+88>>2]=h[e+76>>2],h[t+92>>2]=h[e+80>>2],h[t+96>>2]=h[e+84>>2],h[t+100>>2]=h[e+88>>2],h[t+104>>2]=h[e+92>>2],h[t+108>>2]=h[e+96>>2],h[t+112>>2]=h[e+100>>2],h[t+116>>2]=h[e+104>>2],h[t+120>>2]=h[e+108>>2],h[t+124>>2]=h[e+112>>2],h[t+128>>2]=h[e+116>>2],h[t+132>>2]=h[e+120>>2],h[t+136>>2]=h[e+124>>2],h[t+140>>2]=h[e+128>>2],h[t+144>>2]=h[e+132>>2],h[t+148>>2]=h[e+136>>2],h[t+152>>2]=h[e+140>>2],h[t+156>>2]=h[e+144>>2],h[t+160>>2]=h[e+148>>2],h[t+164>>2]=h[e+152>>2],h[t+168>>2]=h[e+156>>2],h[t+172>>2]=h[e+160>>2],h[t+176>>2]=h[e+164>>2],h[t+180>>2]=h[e+168>>2],h[t+184>>2]=h[e+172>>2],h[t+188>>2]=h[e+176>>2],h[t+232>>2]=h[e+180>>2],o=h[e+184>>2],h[t>>2]=0,h[t+192>>2]=o,o=0|r[h[h[n>>2]+28>>2]](n,h[e+192>>2]),h[t+8>>2]=0,h[t+4>>2]=o,h[t+236>>2]=h[e+204>>2],h[t+240>>2]=h[e+208>>2],h[t+244>>2]=h[e+212>>2],h[t+248>>2]=h[e+220>>2],h[t+196>>2]=h[e+224>>2],h[t+200>>2]=h[e+228>>2],h[t+204>>2]=h[e+236>>2],h[t+208>>2]=h[e+244>>2],h[t+212>>2]=h[e+248>>2],h[t+216>>2]=h[e+232>>2],h[t+252>>2]=h[e+252>>2],o=0|r[h[h[n>>2]+40>>2]](n,e),i=0|r[h[h[n>>2]+28>>2]](n,o),h[t+12>>2]=i,i&&r[h[h[n>>2]+48>>2]](n,o),h[t+220>>2]=h[e+268>>2],h[t+224>>2]=h[e+272>>2],h[t+228>>2]=h[e+276>>2],e=h[e+280>>2],h[t+260>>2]=0,h[t+256>>2]=e,4492}function Se(e,t){var n=0,i=0,o=0,a=0;e:if(4!=(0|(n=h[e+844>>2])))h[e+844>>2]=n+1;else{if(n=function(e,t){var n=x(0),i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),h=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=0,S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),z=x(0),F=x(0),B=0,U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=0;B=(C=(n=g[e+84>>2])<(i=g[t+80>>2]))?0:-1,W=(C=(r=g[e+292>>2])<(n=C?n:i))?1:B,C=(i=g[e+500>>2])<(n=C?r:n),C=(B=g[e+708>>2]<(C?i:n))?3:C?2:W,c=g[t>>2];t:{n:{i:{o:{if(m[21e3]){if(!C){d=g[e+636>>2],S=g[e+428>>2],a=x(d-S),y=g[e+632>>2],E=g[e+424>>2],r=x(y-E),o=g[e+628>>2],I=g[e+420>>2],u=x(o-I),n=g[t+8>>2],i=g[t+4>>2];break o}if(s=g[e+212>>2],l=x(c-s),y=g[e+632>>2],E=g[e+424>>2],r=x(y-E),i=g[t+4>>2],f=g[e+216>>2],n=x(i-f),o=g[e+628>>2],I=g[e+420>>2],u=x(o-I),a=x(x(l*r)-x(n*u)),p=x(a*a),d=g[e+636>>2],S=g[e+428>>2],a=x(d-S),_=x(n*a),n=g[t+8>>2],w=g[e+220>>2],v=x(n-w),A=x(_-x(v*r)),l=x(x(v*u)-x(l*a)),V=x(p+x(x(A*A)+x(l*l))),1!=(0|C))break o;c=x(c-g[e+4>>2]),n=x(n-g[e+12>>2]),i=x(i-g[e+8>>2]),u=x(0);break i}r:{a:{if(C){if(D=g[e+212>>2],y=x(c-D),f=g[e+424>>2],v=g[e+632>>2],P=x(f-v),E=g[t+4>>2],M=g[e+216>>2],d=x(E-M),s=g[e+420>>2],A=g[e+628>>2],R=x(s-A),n=x(x(y*P)-x(d*R)),i=x(n*n),w=g[e+428>>2],l=g[e+636>>2],u=x(w-l),S=g[t+8>>2],o=g[e+220>>2],I=x(S-o),n=x(x(d*u)-x(I*P)),r=x(n*n),n=x(x(I*R)-x(y*u)),r=x(i+x(r+x(n*n))),a=x(c-s),N=x(M-v),n=x(E-f),U=x(D-A),i=x(x(a*N)-x(n*U)),p=x(i*i),j=x(o-l),i=x(S-w),_=x(x(n*j)-x(i*N)),h=x(_*_),_=x(x(i*U)-x(a*j)),_=r>(_=x(p+x(h+x(_*_))))?r:_,r=x(M-f),z=x(c-A),h=x(D-s),L=x(E-v),T=x(x(r*z)-x(h*L)),O=x(T*T),T=x(o-w),p=r,r=x(S-l),p=x(x(T*L)-x(p*r)),h=x(x(h*r)-x(T*z)),V=_>(h=x(O+x(x(p*p)+x(h*h))))?_:h,1==(0|C)){_=g[e+4>>2],k=x(_-A),p=x(c-_),h=g[e+12>>2],G=x(h-l),T=g[e+8>>2],H=x(T-v),O=x(S-h),F=x(E-T),u=x(0);break a}}else w=g[e+428>>2],l=g[e+636>>2],u=x(w-l),f=g[e+424>>2],v=g[e+632>>2],P=x(f-v),s=g[e+420>>2],A=g[e+628>>2],R=x(s-A),S=g[t+8>>2],r=x(S-l),E=g[t+4>>2],L=x(E-v),z=x(c-A),i=x(S-w),n=x(E-f),a=x(c-s);if(_=g[e+4>>2],p=x(c-_),T=g[e+8>>2],F=x(E-T),o=x(x(p*P)-x(F*R)),d=x(o*o),h=g[e+12>>2],O=x(S-h),o=x(x(F*u)-x(O*P)),u=x(x(O*R)-x(p*u)),u=x(d+x(x(o*o)+x(u*u))),H=x(T-v),k=x(_-A),o=x(x(a*H)-x(n*k)),d=x(o*o),G=x(h-l),o=x(x(n*G)-x(i*H)),y=x(o*o),o=x(x(i*k)-x(a*G)),u=u>(o=x(d+x(y+x(o*o))))?u:o,P=x(T-f),R=x(_-s),o=x(x(P*z)-x(R*L)),d=x(o*o),N=x(h-w),o=x(x(N*L)-x(P*r)),y=x(o*o),o=x(x(R*r)-x(N*z)),u=u>(o=x(d+x(y+x(o*o))))?u:o,o=g[e+220>>2],I=x(S-o),M=g[e+216>>2],d=x(E-M),D=g[e+212>>2],y=x(c-D),2==(0|C)){l=x(h-o),v=x(T-M),A=x(_-D),r=x(0);break r}j=x(o-l),N=x(M-v),U=x(D-A)}if(n=x(x(p*N)-x(F*U)),i=x(n*n),n=x(x(F*j)-x(O*N)),a=x(n*n),n=x(x(O*U)-x(p*j)),n=x(i+x(a+x(n*n))),i=x(x(y*H)-x(d*k)),a=x(i*i),i=x(x(d*G)-x(I*H)),l=x(i*i),i=x(x(I*k)-x(y*G)),n=n>(i=x(a+x(l+x(i*i))))?n:i,v=x(T-M),A=x(_-D),i=x(x(v*z)-x(A*L)),a=x(i*i),l=x(h-o),i=x(x(l*L)-x(v*r)),P=x(i*i),i=x(x(A*r)-x(l*z)),r=n>(i=x(a+x(P+x(i*i))))?n:i,a=x(0),B)break t;N=x(h-w),P=x(T-f),R=x(_-s),i=x(S-w),n=x(E-f),a=x(c-s)}c=x(M-f),s=x(D-s),f=x(x(p*c)-x(F*s)),_=x(f*f),f=x(o-w),c=x(x(F*f)-x(O*c)),o=x(c*c),c=x(x(O*s)-x(p*f)),c=x(_+x(o+x(c*c))),s=x(x(y*P)-x(d*R)),p=x(s*s),s=x(x(d*N)-x(I*P)),o=x(s*s),s=x(x(I*R)-x(y*N)),c=c>(s=x(p+x(o+x(s*s))))?c:s,s=x(x(v*a)-x(A*n)),n=x(x(l*n)-x(v*i)),p=x(n*n),n=x(x(A*i)-x(l*a)),a=c>(n=x(x(s*s)+x(p+x(n*n))))?c:n;break t}if(c=x(c-g[e+4>>2]),i=x(i-g[e+8>>2]),s=x(x(c*r)-x(i*u)),n=x(n-g[e+12>>2]),r=x(x(i*a)-x(n*r)),p=x(r*r),r=x(x(n*u)-x(c*a)),u=x(x(s*s)+x(p+x(r*r))),w=g[e+220>>2],f=g[e+216>>2],s=g[e+212>>2],r=x(0),2==(0|C))break n}if(r=x(y-f),a=x(o-s),l=x(x(c*r)-x(i*a)),p=x(l*l),l=x(d-w),r=x(x(i*l)-x(n*r)),o=x(r*r),r=x(x(n*a)-x(c*l)),r=x(p+x(o+x(r*r))),a=x(0),B)break t}a=x(E-f),s=x(I-s),f=x(x(c*a)-x(i*s)),p=i,i=x(S-w),a=x(x(p*i)-x(n*a)),n=x(x(n*s)-x(c*i)),a=x(x(f*f)+x(x(a*a)+x(n*n)))}return t=(e=(n=x(b(V)))>x(-0xde0b6b000000000))?0:-1,t=(e=(i=x(b(u)))>(n=e?n:x(-0xde0b6b000000000)))?1:t,e=(r=x(b(r)))>(n=e?i:n),x(b(a))>(e?r:n)?3:e?2:t}(e,t),i=y(n,208)+e|0,!(o=h[i+120>>2]))break e;if(!(a=h[5779]))break e;r[a](o),h[i+120>>2]=0}return qo(4+((i=e)+y(e=(0|n)>0?n:0,208)|0)|0,t,208),e}function Ee(e,t,n){var i,o,a=x(0),s=x(0),c=0,l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0);for(z=i=z-240|0,a=g[n>>2],s=g[n+4>>2],p=g[n+8>>2],h[e+164>>2]=0,g[e+160>>2]=p+g[e+140>>2],g[e+156>>2]=s+g[e+136>>2],g[e+152>>2]=a+g[e+132>>2],h[i+132>>2]=1065353216,h[i+136>>2]=0,h[i+140>>2]=0,h[i+124>>2]=0,h[i+128>>2]=0,h[i+152>>2]=1065353216,h[i+236>>2]=0,h[i+228>>2]=0,h[i+232>>2]=0,h[i+216>>2]=1065353216,h[i+220>>2]=0,h[i+224>>2]=0,h[i+172>>2]=0,h[i+164>>2]=0,h[i+168>>2]=0,h[i+156>>2]=0,h[i+160>>2]=0,h[i+196>>2]=1065353216,h[i+200>>2]=0,h[i+204>>2]=0,h[i+188>>2]=0,h[i+192>>2]=0,h[i+144>>2]=0,h[i+148>>2]=0,h[i+112>>2]=1065353216,h[i+116>>2]=0,h[i+120>>2]=0,h[i+208>>2]=0,h[i+212>>2]=0,h[i+180>>2]=0,h[i+184>>2]=0,h[i+176>>2]=1065353216,o=i+48|0,n=10,b=x(1);;){e:if(n){c=h[e+136>>2],h[i+224>>2]=h[e+132>>2],h[i+228>>2]=c,c=h[e+144>>2],h[i+232>>2]=h[e+140>>2],h[i+236>>2]=c,c=h[e+164>>2],h[i+168>>2]=h[e+160>>2],h[i+172>>2]=c,c=h[e+156>>2],h[i+160>>2]=h[e+152>>2],h[i+164>>2]=c,s=g[e+180>>2],u=g[e+176>>2],a=g[e+168>>2],p=g[e+172>>2],C=g[e+132>>2],S=g[e+152>>2],E=g[e+136>>2],w=g[e+156>>2],P=g[e+140>>2],I=g[e+160>>2],h[i+220>>2]=0,h[i+204>>2]=0,h[i+188>>2]=0,l=x(x(2)/x(x(x(x(a*a)+x(p*p))+x(u*u))+x(s*s))),_=x(u*l),f=x(p*_),d=x(a*l),v=x(s*d),g[i+212>>2]=f+v,A=x(a*_),l=x(p*l),y=x(s*l),g[i+208>>2]=A-y,g[i+200>>2]=f-v,f=x(a*l),s=x(s*_),g[i+192>>2]=f+s,g[i+184>>2]=A+y,g[i+180>>2]=f-s,a=x(a*d),s=x(p*l),g[i+216>>2]=x(1)-x(a+s),l=a,a=x(u*_),g[i+196>>2]=x(1)-x(l+a),g[i+176>>2]=x(1)-x(s+a),s=g[e+196>>2],u=g[e+192>>2],a=g[e+184>>2],p=g[e+188>>2],h[i+156>>2]=0,h[i+140>>2]=0,h[i+124>>2]=0,l=x(x(2)/x(x(x(x(a*a)+x(p*p))+x(u*u))+x(s*s))),_=x(u*l),f=x(p*_),d=x(a*l),v=x(s*d),g[i+148>>2]=f+v,A=x(a*_),l=x(p*l),y=x(s*l),g[i+144>>2]=A-y,g[i+136>>2]=f-v,f=x(a*l),s=x(s*_),g[i+128>>2]=f+s,g[i+120>>2]=A+y,g[i+116>>2]=f-s,a=x(a*d),s=x(p*l),g[i+152>>2]=x(1)-x(a+s),l=a,a=x(u*_),g[i+132>>2]=x(1)-x(l+a),g[i+112>>2]=x(1)-x(s+a),c=h[e+8>>2],h[i+80>>2]=0,h[i+4>>2]=1065353216,h[i+40>>2]=0,h[i+44>>2]=0,h[i+32>>2]=0,h[i+36>>2]=0,h[i+24>>2]=0,h[i+28>>2]=0,h[i+16>>2]=0,h[i+20>>2]=0,h[i+100>>2]=0,h[i+104>>2]=0,g[i+96>>2]=P-I,g[i+92>>2]=E-w,g[i+88>>2]=C-S,h[i+84>>2]=c,h[i>>2]=4380,c=h[c+188>>2],h[i+8>>2]=h[c+4>>2],h[i+12>>2]=h[c+8>>2],c=h[e+12>>2],a=x(r[h[h[c>>2]+48>>2]](c)),c=h[e+12>>2],r[h[h[c>>2]+44>>2]](c,x(a+g[e+64>>2])),(g[i+176>>2]!=g[i+112>>2]|g[i+192>>2]!=g[i+128>>2]|g[i+208>>2]!=g[i+144>>2]|g[i+180>>2]!=g[i+116>>2]||g[i+196>>2]!=g[i+132>>2]|g[i+212>>2]!=g[i+148>>2]|g[i+184>>2]!=g[i+120>>2]|g[i+200>>2]!=g[i+136>>2]||g[i+216>>2]!=g[i+152>>2]|g[i+236>>2]!=g[i+172>>2]|g[i+232>>2]!=g[i+168>>2]|g[i+228>>2]!=g[i+164>>2]||g[i+224>>2]!=g[i+160>>2])&&(m[e+250|0]?dr(h[e+8>>2],h[e+12>>2],i+176|0,i+112|0,i,g[t+56>>2]):cr(t,h[e+12>>2],i+176|0,i+112|0,i,g[t+56>>2])),c=h[e+12>>2],r[h[h[c>>2]+44>>2]](c,a);t:{if((u=g[i+4>>2])<x(1)&&(c=h[e+8>>2],!(4&m[c+204|0])&&r[h[h[e>>2]+56>>2]](e,c,h[i+80>>2]))){if(Sl(e,o),a=x(g[e+152>>2]-g[e+132>>2]),s=x(g[e+156>>2]-g[e+136>>2]),p=x(g[e+160>>2]-g[e+140>>2]),!((_=x(x(x(a*a)+x(s*s))+x(p*p)))>x(1.1920928955078125e-7)))break e;if(l=a,a=x(x(1)/x(T(_))),!(x(x(x(x(l*a)*g[e+84>>2])+x(x(s*a)*g[e+88>>2]))+x(x(p*a)*g[e+92>>2]))<=x(0)))break t;break e}c=h[e+156>>2],h[e+132>>2]=h[e+152>>2],h[e+136>>2]=c,c=h[e+164>>2],h[e+140>>2]=h[e+160>>2],h[e+144>>2]=c}if(n=n+-1|0,(b=x(b-u))>x(.009999999776482582))continue}break}z=i+240|0}function we(e){return h[8+(e|=0)>>2]}function Te(e,t){var n,i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0);z=n=z-16|0,o=g[t>>2],r=g[t+4>>2],i=g[t+8>>2],(a=x(x(x(o*o)+x(r*r))+x(i*i)))>x(0)&&(s=g[e+52>>2])>x(0)?(c=i,i=x(x(1)/x(T(a))),a=x(-s),s=x(x(c*i)*a),o=x(x(o*i)*a),r=x(x(r*i)*a),(i=x(x(s*s)+x(x(o*o)+x(r*r))))>x(0)&&(h[n+12>>2]=0,g[n+8>>2]=-s,g[n+4>>2]=-r,g[n>>2]=-o,Vs(e,n)),g[e+52>>2]=T(i)):Vs(e,t),z=n+16|0}function Pe(e,t,n,i,o){h[e>>2]=4248,h[e+272>>2]=0,h[e+276>>2]=0,h[e+256>>2]=0,h[e+260>>2]=0,h[e+8>>2]=t,h[e+68>>2]=0,h[e+72>>2]=0,h[e+64>>2]=1017370378,h[e+100>>2]=0,h[e+104>>2]=0,f[e+250>>1]=257,h[e+56>>2]=0,h[e+12>>2]=n,h[e+252>>2]=0,a[e+216|0]=1,h[e+212>>2]=0,h[e+204>>2]=0,h[e+208>>2]=0,h[e+280>>2]=1065353216,h[e+284>>2]=0,h[e+264>>2]=1065353216,h[e+268>>2]=0,h[e+76>>2]=0,h[e+80>>2]=0,h[e+108>>2]=0,h[e+112>>2]=0,h[e+52>>2]=1105933107,h[e+20>>2]=0,h[e+24>>2]=0,f[e+248>>1]=0,h[e+28>>2]=1113325568,h[e+32>>2]=1092616192,h[e+36>>2]=1092616192,a[e+288|0]=1,h[e+148>>2]=0,a[e+289|0]=0,a[e+290|0]=0,h[e+16>>2]=1045220557,h[e+240>>2]=0,h[e+244>>2]=0,Te(e,o),h[e+44>>2]=1061752795,h[e+48>>2]=1060439283,g[e+60>>2]=i}function Ie(){return 1}function Re(e,t){var n=0,i=0,o=0,s=0,c=0,l=0,p=0,u=0;if(c=i=h[e+4>>2],(0|i)==h[e+8>>2]&&(c=i,!((0|i)>=(0|(l=i?i<<1:1))))){if(l?(h[6657]=h[6657]+1,u=0|r[h[5255]](y(l,244),16),c=h[e+4>>2]):c=i,(0|c)>=1)for(;o=(n=y(p,244))+u|0,n=n+h[e+12>>2]|0,s=h[n+4>>2],h[o>>2]=h[n>>2],h[o+4>>2]=s,s=h[n+12>>2],h[o+8>>2]=h[n+8>>2],h[o+12>>2]=s,s=h[n+28>>2],h[o+24>>2]=h[n+24>>2],h[o+28>>2]=s,s=h[n+20>>2],h[o+16>>2]=h[n+16>>2],h[o+20>>2]=s,s=h[n+44>>2],h[o+40>>2]=h[n+40>>2],h[o+44>>2]=s,s=h[n+36>>2],h[o+32>>2]=h[n+32>>2],h[o+36>>2]=s,s=h[n+52>>2],h[o+48>>2]=h[n+48>>2],h[o+52>>2]=s,s=h[n+60>>2],h[o+56>>2]=h[n+56>>2],h[o+60>>2]=s,qo(o- -64|0,n- -64|0,180),(0|c)!=(0|(p=p+1|0)););(c=h[e+12>>2])&&(m[e+16|0]&&c&&(h[6658]=h[6658]+1,r[h[5256]](c)),h[e+12>>2]=0),h[e+12>>2]=u,a[e+16|0]=1,h[e+8>>2]=l,c=h[e+4>>2]}return h[e+4>>2]=c+1,o=h[t+12>>2],i=(c=y(i,244))+h[e+12>>2]|0,h[(n=i)+8>>2]=h[t+8>>2],h[n+12>>2]=o,n=h[t+4>>2],h[i>>2]=h[t>>2],h[i+4>>2]=n,n=h[t+28>>2],h[i+24>>2]=h[t+24>>2],h[i+28>>2]=n,n=h[t+20>>2],h[i+16>>2]=h[t+16>>2],h[i+20>>2]=n,n=h[t+36>>2],h[i+32>>2]=h[t+32>>2],h[i+36>>2]=n,n=h[t+44>>2],h[i+40>>2]=h[t+40>>2],h[i+44>>2]=n,n=h[t+52>>2],h[i+48>>2]=h[t+48>>2],h[i+52>>2]=n,n=h[t+60>>2],h[i+56>>2]=h[t+56>>2],h[i+60>>2]=n,qo(i- -64|0,t- -64|0,180),c+h[e+12>>2]|0}function Ne(e){var t=0;return h[(e|=0)>>2]=4032,(t=h[e+204>>2])&&(m[e+208|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+204>>2]=0),h[e+204>>2]=0,h[e+196>>2]=0,h[e+200>>2]=0,a[e+208|0]=1,(t=h[e+176>>2])&&(m[e+180|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+176>>2]=0),h[e+176>>2]=0,h[e+168>>2]=0,h[e+172>>2]=0,a[e+180|0]=1,(t=h[e+156>>2])&&(m[e+160|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+156>>2]=0),h[e+156>>2]=0,h[e+148>>2]=0,h[e+152>>2]=0,a[e+160|0]=1,(t=h[e+136>>2])&&(m[e+140|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+136>>2]=0),h[e+136>>2]=0,h[e+128>>2]=0,h[e+132>>2]=0,a[e+140|0]=1,(t=h[e+116>>2])&&(m[e+120|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+116>>2]=0),h[e+116>>2]=0,h[e+108>>2]=0,h[e+112>>2]=0,a[e+120|0]=1,(t=h[e+96>>2])&&(m[e+100|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+96>>2]=0),h[e+96>>2]=0,h[e+88>>2]=0,h[e+92>>2]=0,a[e+100|0]=1,(t=h[e+76>>2])&&(m[e+80|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+76>>2]=0),h[e+76>>2]=0,h[e+68>>2]=0,h[e+72>>2]=0,a[e+80|0]=1,(t=h[e+56>>2])&&(m[e+60|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+56>>2]=0),h[e+56>>2]=0,h[e+48>>2]=0,h[e+52>>2]=0,a[e+60|0]=1,(t=h[e+36>>2])&&(m[e+40|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+36>>2]=0),h[e+36>>2]=0,h[e+28>>2]=0,h[e+32>>2]=0,a[e+40|0]=1,(t=h[e+16>>2])&&(m[e+20|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+16>>2]=0),h[e+16>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,a[e+20|0]=1,0|e}function De(e){h[e>>2]=4032,a[e+20|0]=1,h[e+16>>2]=0,a[e+40|0]=1,h[e+8>>2]=0,h[e+12>>2]=0,h[e+36>>2]=0,a[e+60|0]=1,h[e+28>>2]=0,h[e+32>>2]=0,h[e+56>>2]=0,a[e+80|0]=1,h[e+48>>2]=0,h[e+52>>2]=0,h[e+76>>2]=0,a[e+100|0]=1,h[e+68>>2]=0,h[e+72>>2]=0,h[e+96>>2]=0,a[e+120|0]=1,h[e+88>>2]=0,h[e+92>>2]=0,h[e+116>>2]=0,a[e+140|0]=1,h[e+108>>2]=0,h[e+112>>2]=0,h[e+136>>2]=0,h[e+128>>2]=0,h[e+132>>2]=0,a[e+160|0]=1,h[e+156>>2]=0,h[e+148>>2]=0,h[e+152>>2]=0,a[e+180|0]=1,h[e+176>>2]=0,h[e+168>>2]=0,h[e+172>>2]=0,a[e+208|0]=1,h[e+232>>2]=0,h[e+204>>2]=0,h[e+196>>2]=0,h[e+200>>2]=0,h[e+224>>2]=0,h[e+212>>2]=181,h[e+216>>2]=182,h[e+220>>2]=183}function Me(e,t,n,i){var o=x(0),r=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0);Js(e,4,t),h[e>>2]=3916,t=h[n+12>>2],h[e+560>>2]=h[n+8>>2],h[e+564>>2]=t,t=h[n+4>>2],h[e+552>>2]=h[n>>2],h[e+556>>2]=t,t=h[n+28>>2],h[e+576>>2]=h[n+24>>2],h[e+580>>2]=t,t=h[n+20>>2],h[e+568>>2]=h[n+16>>2],h[e+572>>2]=t,t=h[n+44>>2],h[e+592>>2]=h[n+40>>2],h[e+596>>2]=t,t=h[n+36>>2],h[e+584>>2]=h[n+32>>2],h[e+588>>2]=t,t=h[n+60>>2],h[e+608>>2]=h[n+56>>2],h[e+612>>2]=t,t=h[n+52>>2],h[e+600>>2]=h[n+48>>2],h[e+604>>2]=t,t=h[n+12>>2],h[e+624>>2]=h[n+8>>2],h[e+628>>2]=t,t=h[n+4>>2],h[e+616>>2]=h[n>>2],h[e+620>>2]=t,t=h[n+20>>2],h[e+632>>2]=h[n+16>>2],h[e+636>>2]=t,t=h[n+28>>2],h[e+640>>2]=h[n+24>>2],h[e+644>>2]=t,t=h[n+36>>2],h[e+648>>2]=h[n+32>>2],h[e+652>>2]=t,t=h[n+44>>2],h[e+656>>2]=h[n+40>>2],h[e+660>>2]=t,t=h[n+52>>2],h[e+664>>2]=h[n+48>>2],h[e+668>>2]=t,t=h[n+60>>2],h[e+672>>2]=h[n+56>>2],h[e+676>>2]=t,h[e+688>>2]=0,h[e+692>>2]=-1082130432,h[e+696>>2]=1063675494,h[e+700>>2]=1050253722,h[e+704>>2]=1065353216,h[e+708>>2]=0,h[e+712>>2]=0,a[e+716|0]=0,a[e+740|0]=i,h[e+736>>2]=16777216,h[e+764>>2]=0,h[e+756>>2]=0,h[e+760>>2]=0,h[e+748>>2]=0,h[e+752>>2]=0,t=h[e+28>>2],c=g[t+52>>2],l=g[t+12>>2],p=g[t+4>>2],u=g[t+8>>2],_=g[t+56>>2],f=g[t+28>>2],m=g[t+20>>2],d=g[t+24>>2],v=g[t+60>>2],o=g[e+608>>2],A=g[t+44>>2],r=g[e+600>>2],y=g[t+36>>2],s=g[e+604>>2],b=g[t+40>>2],g[e+732>>2]=x(i?-1:1),h[e+676>>2]=0,g[e+672>>2]=v+x(x(x(r*y)+x(s*b))+x(o*A)),g[e+668>>2]=_+x(x(x(r*m)+x(s*d))+x(o*f)),g[e+664>>2]=c+x(x(x(r*p)+x(s*u))+x(o*l))}function Oe(e,t,n,i,o,r){ur(e,4,t,n),h[e>>2]=3916,t=h[i+12>>2],h[e+560>>2]=h[i+8>>2],h[e+564>>2]=t,t=h[i+4>>2],h[e+552>>2]=h[i>>2],h[e+556>>2]=t,t=h[i+28>>2],h[e+576>>2]=h[i+24>>2],h[e+580>>2]=t,t=h[i+20>>2],h[e+568>>2]=h[i+16>>2],h[e+572>>2]=t,t=h[i+44>>2],h[e+592>>2]=h[i+40>>2],h[e+596>>2]=t,t=h[i+36>>2],h[e+584>>2]=h[i+32>>2],h[e+588>>2]=t,t=h[i+60>>2],h[e+608>>2]=h[i+56>>2],h[e+612>>2]=t,t=h[i+52>>2],h[e+600>>2]=h[i+48>>2],h[e+604>>2]=t,t=h[o+12>>2],h[e+624>>2]=h[o+8>>2],h[e+628>>2]=t,t=h[o+4>>2],h[e+616>>2]=h[o>>2],h[e+620>>2]=t,t=h[o+20>>2],h[e+632>>2]=h[o+16>>2],h[e+636>>2]=t,t=h[o+28>>2],h[e+640>>2]=h[o+24>>2],h[e+644>>2]=t,t=h[o+36>>2],h[e+648>>2]=h[o+32>>2],h[e+652>>2]=t,t=h[o+44>>2],h[e+656>>2]=h[o+40>>2],h[e+660>>2]=t,t=h[o+52>>2],h[e+664>>2]=h[o+48>>2],h[e+668>>2]=t,t=h[o+60>>2],h[e+672>>2]=h[o+56>>2],h[e+676>>2]=t,h[e+688>>2]=0,h[e+692>>2]=-1082130432,h[e+696>>2]=1063675494,h[e+700>>2]=1050253722,h[e+704>>2]=1065353216,h[e+708>>2]=0,h[e+712>>2]=0,a[e+716|0]=0,a[e+740|0]=r,h[e+736>>2]=16777216,h[e+764>>2]=0,h[e+756>>2]=0,h[e+760>>2]=0,h[e+748>>2]=0,h[e+752>>2]=0,g[e+732>>2]=x(r?-1:1)}function Le(e,t,n,i,o,r,c,l){var p=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0);ur(e,4,t,n),h[e+708>>2]=0,h[e+712>>2]=0,h[e+704>>2]=1065353216,h[e+696>>2]=1063675494,h[e+700>>2]=1050253722,h[e+688>>2]=0,h[e+692>>2]=-1082130432,h[e>>2]=3916,a[e+716|0]=0,h[e+748>>2]=0,h[e+752>>2]=0,a[e+740|0]=l,h[e+736>>2]=16777216,h[e+756>>2]=0,h[e+760>>2]=0,h[e+764>>2]=0,n=h[i+12>>2],h[e+608>>2]=h[i+8>>2],h[e+612>>2]=n,n=h[i+4>>2],h[e+600>>2]=h[i>>2],h[e+604>>2]=n,m=g[t+4>>2],p=g[r>>2],d=g[t+20>>2],_=g[r+4>>2],v=g[t+36>>2],f=g[r+8>>2],(A=x(x(x(m*p)+x(d*_))+x(v*f)))>=x(.9999998807907104)?(i=h[t+40>>2],n=h[t+8>>2],v=x(-g[t+44>>2]),d=x(-g[t+28>>2]),A=x(-g[t+12>>2]),t=h[t+24>>2]):A<=x(-.9999998807907104)?(i=h[t+40>>2],n=h[t+8>>2],v=g[t+44>>2],d=g[t+28>>2],A=g[t+12>>2],t=h[t+24>>2]):(C=x(x(v*_)-x(d*f)),S=x(x(m*f)-x(v*p)),v=x(x(_*C)-x(p*S)),y=p,p=x(x(d*p)-x(m*_)),d=x(x(y*p)-x(f*C)),A=x(x(f*S)-x(_*p)),u(p),i=s(0),u(C),n=s(0),u(S),t=s(0)),h[e+556>>2]=n,g[e+552>>2]=A,n=h[r>>2],h[e+572>>2]=t,g[e+568>>2]=d,h[e+564>>2]=0,h[e+560>>2]=n,t=h[r+4>>2],h[e+588>>2]=i,g[e+584>>2]=v,h[e+580>>2]=0,h[e+576>>2]=t,t=h[r+8>>2],h[e+596>>2]=0,h[e+592>>2]=t,C=g[c+8>>2],m=g[r+8>>2],p=g[r+4>>2],S=g[c+4>>2],w=g[c>>2],f=g[r>>2];e:if((_=x(x(C*m)+x(x(p*S)+x(w*f))))<x(-.9999998807907104)){if(x(b(m))>x(.7071067690849304)){y=p,p=x(x(1)/x(T(x(x(p*p)+x(m*m))))),_=x(y*p),f=x(p*x(-m)),m=x(0),p=x(0);break e}_=x(x(1)/x(T(x(x(p*p)+x(f*f))))),f=x(f*_),m=x(_*x(-p)),_=x(0),p=x(0)}else _=x(_+x(1)),E=x(T(x(_+_))),y=x(x(1)/E),_=x(x(x(S*f)-x(p*w))*y),f=x(x(x(m*w)-x(C*f))*y),m=x(x(x(p*C)-x(m*S))*y),p=x(E*x(.5));t=h[o+4>>2],h[e+664>>2]=h[o>>2],h[e+668>>2]=t,t=h[o+12>>2],h[e+672>>2]=h[o+8>>2],h[e+676>>2]=t,y=x(x(x(v*p)+x(d*m))-x(A*f)),E=x(x(x(A*p)+x(v*f))-x(d*_)),P=x(x(x(A*x(-m))-x(d*f))-x(v*_)),v=x(x(x(d*p)+x(A*_))-x(v*m)),d=x(x(f*y)+x(x(x(p*E)-x(m*P))-x(_*v))),g[e+616>>2]=d,A=x(x(m*v)+x(x(x(p*y)-x(_*P))-x(f*E))),p=x(x(_*E)+x(x(x(p*v)-x(f*P))-x(m*y))),g[e+620>>2]=x(S*A)-x(C*p),t=h[c>>2],g[e+632>>2]=p,g[e+636>>2]=x(C*d)-x(w*A),h[e+628>>2]=0,h[e+624>>2]=t,t=h[c+4>>2],g[e+652>>2]=x(w*p)-x(S*d),g[e+648>>2]=A,h[e+644>>2]=0,h[e+640>>2]=t,t=h[c+8>>2],g[e+732>>2]=x(l?-1:1),h[e+660>>2]=0,h[e+656>>2]=t}function ze(e,t){var n=x(0),i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=0,A=x(0),y=x(0);v=h[t+12>>2],h[e+564>>2]=h[t+8>>2],h[e+568>>2]=v,v=h[t+4>>2],h[e+556>>2]=h[t>>2],h[e+560>>2]=v,l=x(-0),u=x(1),i=g[e+564>>2],n=g[e+568>>2],r=x(n*x(0)),a=g[e+556>>2],s=x(a*x(0)),o=x(x(i+r)-s),c=g[e+560>>2],p=x(x(r+s)-c),r=x(c*x(0)),s=x(i*x(0)),d=x(x(x(-a)-r)-s),r=x(x(n+r)-s),s=x(x(a*o)+x(x(x(n*p)-x(i*d))-x(c*r))),f=x(x(i*r)+x(x(x(n*o)-x(c*d))-x(a*p))),o=x(x(c*p)+x(x(x(n*r)-x(a*d))-x(i*o))),(p=x(x(s*x(0))+x(x(f*x(0))+o)))<x(-.9999998807907104)||(l=x(o*x(0)),o=x(p+x(1)),p=x(T(x(o+o))),o=x(x(1)/p),_=x(x(f-l)*o),u=x(x(l-s)*o),m=x(p*x(.5)),l=x(x(x(s*x(0))-x(f*x(0)))*o)),o=x(x(1)/x(T(x(x(x(x(l*l)+x(u*u))+x(_*_))+x(m*m))))),_=x(_*o),u=x(u*o),m=x(m*o),l=x(l*o),o=x(x(i*_)+x(x(c*u)+x(x(n*m)+x(a*l)))),p=x(x(a*u)+x(x(x(i*m)-x(n*_))-x(c*l))),d=x(x(c*_)+x(x(x(a*m)-x(n*l))-x(i*u))),A=x(x(i*l)+x(x(x(c*m)-x(n*u))-x(a*_))),c=x(x(1)/x(T(x(x(o*o)+x(x(p*p)+x(x(d*d)+x(A*A))))))),(a=g[e+444>>2])>=x(.05000000074505806)&&(n=g[e+448>>2])>=x(.05000000074505806)&&(i=mr(x(S(x(E(m,x(-1))),x(1)))),(i=x(i+i))>x(1.1920928955078125e-7)&&(r=x(x(1)/x(T(x(x(_*_)+x(x(l*l)+x(u*u)))))),s=x(_*r),f=x(l*r),r=x(u*r),x(b(r))>x(1.1920928955078125e-7)&&(y=x(x(s*s)/x(r*r)),a=x(T(x(x(y+x(1))/x(x(y/x(a*a))+x(x(1)/x(n*n)))))))),x(b(i))>x(1.1920928955078125e-7)&&(i>a?i=a:i<(n=x(-a))&&(i=n),n=x(i*x(.5)),i=x(No(n)/x(T(x(x(x(f*f)+x(r*r))+x(s*s))))),_=x(s*i),u=x(r*i),l=x(f*i),m=Ro(n))),a=x(o*c),i=x(p*c),f=x(A*c),o=x(d*c),(p=g[e+452>>2])>=x(.05000000074505806)&&(c=o,s=f,r=i,n=mr(x(S(x(E(a,x(-1))),x(1)))),(n=x(n+n))>x(3.1415927410125732)&&(r=x(-i),s=x(-f),c=x(-o),n=mr(x(S(x(E(x(-a),x(-1))),x(1)))),n=x(n+n)),n>x(1.1920928955078125e-7)&&(d=x(x(1)/x(T(x(x(x(c*c)+x(s*s))+x(r*r))))),r=x(r*d),c=x(c*d),s=x(s*d)),x(b(n))>x(1.1920928955078125e-7)&&(n>p?n=p:n<(i=x(-p))&&(n=i),a=x(n*x(.5)),n=x(No(a)/x(T(x(x(r*r)+x(x(s*s)+x(c*c)))))),i=x(r*n),f=x(s*n),o=x(c*n),a=Ro(a))),g[e+568>>2]=x(x(x(m*a)-x(l*o))-x(u*f))-x(_*i),g[e+564>>2]=x(x(l*f)+x(x(m*i)+x(_*a)))-x(u*o),g[e+560>>2]=x(x(_*o)+x(x(m*f)+x(u*a)))-x(l*i),g[e+556>>2]=x(x(u*i)+x(x(m*o)+x(l*a)))-x(_*f)}function Fe(e,t,n,i){var o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0);r=Ro(n),o=g[t+444>>2],n=No(n),x(b(r))>x(1.1920928955078125e-7)?(a=x(n*n),c=x(r*r),l=x(a/c),s=g[t+448>>2],o=x(T(x(x(l+x(1))/x(x(x(1)/x(s*s))+x(l/x(o*o))))))):(a=x(n*n),c=x(r*r)),h[e+12>>2]=0,o=x(o*x(.5)),a=x(No(o)/x(T(x(a+x(c+x(0)))))),c=x(a*x(0)),o=Ro(o),s=x(o*x(0)),n=x(a*x(-n)),p=x(c*x(0)),l=x(x(s+x(n*i))-p),r=x(r*a),s=x(x(s+p)-x(r*i)),p=x(r*x(0)),u=x(n*x(0)),a=x(x(x(x(a*x(-0))*i)-p)-u),i=x(x(x(o*i)+p)-u),g[e+8>>2]=x(c*l)+x(x(x(o*s)-x(n*a))-x(r*i)),g[e+4>>2]=x(n*i)+x(x(x(o*l)-x(r*a))-x(c*s)),g[e>>2]=x(r*s)+x(x(x(o*i)-x(c*a))-x(n*l))}function Be(e,t){var n=x(0);if(h[e+20>>2]=0,h[e+24>>2]=0,a[e+28|0]=0,(n=g[e+4>>2])>=x(0)){if((t=Io(x(t-g[e>>2]),x(6.2831854820251465)))<x(-3.1415927410125732)?t=x(t+x(6.2831854820251465)):t>x(3.1415927410125732)&&(t=x(t+x(-6.2831854820251465))),t<x(-n))return h[e+24>>2]=1065353216,a[e+28|0]=1,void(g[e+20>>2]=-x(n+t));t>n&&(h[e+24>>2]=-1082130432,a[e+28|0]=1,g[e+20>>2]=n-t)}}function Ue(){return 84}function je(e,t,n,i,o,r,a,s,c,l,p,u,_){var f=x(0),d=x(0),v=x(0),A=0,b=x(0),C=x(0),w=0,P=x(0),I=x(0),R=x(0),N=x(0),D=x(0);if(l=y(h[c+24>>2],l),(A=h[t+84>>2]+-3|0)>>>0>1)A=0;else{if(A-1)kr(e,n,i,c,l,p,u,_),g[(A=l<<2)+h[c+28>>2]>>2]=x(x(g[c>>2]*g[t+12>>2])*g[t+72>>2])*x(0|(u?-1:1)),h[A+h[c+36>>2]>>2]=-8388609,h[A+h[c+40>>2]>>2]=2139095039,w=t+16|0,A=1;else{u?(d=g[p>>2],v=g[p+4>>2],f=x(x(g[a>>2]*d)+x(g[a+4>>2]*v)),b=g[p+8>>2],P=x(g[a+8>>2]*b),A=s):(d=g[p>>2],v=g[p+4>>2],f=x(x(g[o>>2]*d)+x(g[o+4>>2]*v)),b=g[p+8>>2],P=x(g[o+8>>2]*b),A=r),I=g[A+8>>2],R=g[A>>2],N=g[A+4>>2],kr(e,n,i,c,l,p,u,_),A=h[c+28>>2]+(l<<2)|0,D=x(0|(u?-1:1)),C=x(x(x(g[c>>2]*g[t+12>>2])*g[t+72>>2])*D),g[A>>2]=C,f=x(x(f+P)-x(x(x(d*R)+x(v*N))+x(b*I))),d=x(C-x(f*g[t+12>>2]));e:if(u){if(!(d>x(0)))break e;if(!((d=x(f*x(-g[t+8>>2])))>C))break e;g[A>>2]=d}else d<x(0)&&(d=x(f*x(-g[t+8>>2])))<C&&(g[A>>2]=d);g[(A=l<<2)+h[c+36>>2]>>2]=x(u?0:-34028234663852886e22),g[A+h[c+40>>2]>>2]=x(u?34028234663852886e22:0),h[A+h[c+32>>2]>>2]=h[t+16>>2],kr(e,n,i,c,l=h[c+24>>2]+l|0,p,u,_),A=h[c+28>>2]+(l<<2)|0,d=x(x(x(g[c>>2]*g[t+12>>2])*g[t+76>>2])*D),g[A>>2]=d,v=x(d-x(f*g[t+12>>2])),w=t+16|0;e:if(u){if(!(v<x(0)))break e;if(!((f=x(f*x(-g[t+8>>2])))<d))break e;g[A>>2]=f}else v>x(0)&&(f=x(f*x(-g[t+8>>2])))>d&&(g[A>>2]=f);g[(A=l<<2)+h[c+36>>2]>>2]=x(u?-34028234663852886e22:0),g[A+h[c+40>>2]>>2]=x(u?0:34028234663852886e22),A=2}h[h[c+32>>2]+(l<<2)>>2]=h[w>>2],l=h[c+24>>2]+l|0}return m[t+28|0]&&(!m[t+40|0]&&(kr(e,n,i,c,l,p,u,_),f=g[t+32>>2],f=Or(g[t+80>>2],g[t>>2],g[t+4>>2],u?f:x(-f),x(g[c>>2]*g[t+20>>2])),g[(w=l<<2)+h[c+28>>2]>>2]=f*g[t+32>>2],g[w+h[c+36>>2]>>2]=-g[t+36>>2],h[w+h[c+40>>2]>>2]=h[t+36>>2],h[w+h[c+32>>2]>>2]=h[t+24>>2],A=A+1|0,l=h[c+24>>2]+l|0,!m[t+28|0]|!m[t+40|0])||(f=g[t+44>>2],d=x(g[t+80>>2]-f),u&&(f=(w=d>x(3.1415927410125732))?x(f+x(6.2831854820251465)):f,(d=w?x(d+x(-6.2831854820251465)):d)<x(-3.1415927410125732)&&(f=x(f+x(-6.2831854820251465)),d=x(d+x(6.2831854820251465)))),kr(e,n,i,c,l,p,u,_),v=x(0),b=g[t+32>>2],C=d<x(0)?x(-b):b,d!=x(0)&&(P=x(-C),I=g[t+80>>2],(v=g[t>>2])>(b=g[t+4>>2])?(b=d<x(0)?f:x(34028234663852886e22),f=d>x(0)?f:x(-34028234663852886e22)):(b=d<x(0)&&f<b?f:b,f=d>x(0)&&f>v?f:v),v=Or(I,f,b,P,x(g[c>>2]*g[t+20>>2]))),g[(w=l<<2)+h[c+28>>2]>>2]=x(C*v)*x(0|(u?-1:1)),g[w+h[c+36>>2]>>2]=-g[t+36>>2],h[w+h[c+40>>2]>>2]=h[t+36>>2],h[w+h[c+32>>2]>>2]=h[t+24>>2],A=A+1|0,l=h[c+24>>2]+l|0)),m[t+48|0]&&(v=g[t+68>>2],C=g[t+80>>2],kr(e,n,i,c,l,p,u,_),f=g[t+52>>2],b=g[t+60>>2],d=x(x(1)/g[c>>2]),N=x(C-v),u?(v=g[p>>2],I=g[p+4>>2],R=x(x(g[a>>2]*v)+x(g[a+4>>2]*I)),C=g[p+8>>2],P=x(g[a+8>>2]*C)):(s=r,v=g[p>>2],I=g[p+4>>2],R=x(x(g[o>>2]*v)+x(g[o+4>>2]*I)),C=g[p+8>>2],P=x(g[o+8>>2]*C)),C=x(x(R+P)-x(x(x(v*g[s>>2])+x(I*g[s+4>>2]))+x(C*g[s+8>>2]))),v=x(x(1)/g[h[e+32>>2]+404>>2]),v=(P=x(x(1)/g[h[e+28>>2]+404>>2]))>v?v:P,!m[t+56|0]|x(d*x(T(x(f/v))))>x(.25)^1||(f=x(x(x(x(x(1)/d)/d)*x(.0625))*v)),e=l<<2,P=x(d*x(N*f)),f=x(C*x(-(x(b*d)>v&&m[t+64|0]?x(v/d):b))),v=x(0|(u?-1:1)),f=x(d*x(f*v)),d=x(P+f),g[e+h[c+28>>2]>>2]=C+x(d*v),v=(t=d<f)?f:d,f=t?d:f,u?(g[e+h[c+36>>2]>>2]=S(x(-v),x(0)),v=x(-f)):g[e+h[c+36>>2]>>2]=S(f,x(0)),g[(e=l<<2)+h[c+40>>2]>>2]=E(v,x(0)),h[e+h[c+32>>2]>>2]=0,A=A+1|0),A}function ke(e,t,n){var i=x(0),o=x(0),r=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0);I=g[t+52>>2],R=g[t+56>>2],f=g[e+96>>2],m=g[e+100>>2],d=g[e+104>>2],i=g[t+20>>2],o=g[t+24>>2],v=g[e- -64>>2],A=g[e+80>>2],y=g[e+52>>2],b=g[e+68>>2],C=g[e+84>>2],S=g[e+56>>2],r=g[t+36>>2],E=g[e+72>>2],s=g[t+40>>2],w=g[e+88>>2],P=g[t+48>>2],c=g[t+8>>2],l=g[t>>2],p=g[t+4>>2],u=g[t+16>>2],T=g[e+48>>2],_=g[t+32>>2],h[e+1296>>2]=0,h[e+1280>>2]=0,h[e+1264>>2]=0,h[e+1248>>2]=0,g[e+1276>>2]=x(x(S*_)+x(E*r))+x(w*s),g[e+1272>>2]=x(x(y*_)+x(b*r))+x(C*s),g[e+1268>>2]=x(x(T*_)+x(v*r))+x(A*s),g[e+1260>>2]=x(x(S*u)+x(E*i))+x(w*o),g[e+1256>>2]=x(x(y*u)+x(b*i))+x(C*o),g[e+1252>>2]=x(x(T*u)+x(v*i))+x(A*o),g[e+1244>>2]=x(x(l*S)+x(p*E))+x(c*w),g[e+1240>>2]=x(x(l*y)+x(p*b))+x(c*C),g[e+1236>>2]=x(x(T*l)+x(v*p))+x(A*c),g[e+1292>>2]=R+x(x(x(_*f)+x(r*m))+x(s*d)),g[e+1288>>2]=I+x(x(x(u*f)+x(i*m))+x(o*d)),g[e+1284>>2]=P+x(x(x(l*f)+x(p*m))+x(c*d)),I=g[n+52>>2],R=g[n+56>>2],f=g[e+160>>2],m=g[e+164>>2],d=g[e+168>>2],i=g[n+20>>2],o=g[n+24>>2],v=g[e+128>>2],A=g[e+144>>2],y=g[e+116>>2],b=g[e+132>>2],C=g[e+148>>2],S=g[e+120>>2],E=g[e+136>>2],r=g[n+36>>2],w=g[e+152>>2],s=g[n+40>>2],P=g[n+48>>2],c=g[n+8>>2],l=g[n>>2],p=g[n+4>>2],u=g[n+16>>2],T=g[e+112>>2],_=g[n+32>>2],h[e+1360>>2]=0,h[e+1344>>2]=0,h[e+1328>>2]=0,h[e+1312>>2]=0,g[e+1340>>2]=x(x(S*_)+x(E*r))+x(w*s),g[e+1336>>2]=x(x(y*_)+x(b*r))+x(C*s),g[e+1332>>2]=x(x(T*_)+x(v*r))+x(A*s),g[e+1324>>2]=x(x(S*u)+x(E*i))+x(w*o),g[e+1320>>2]=x(x(y*u)+x(b*i))+x(C*o),g[e+1316>>2]=x(x(T*u)+x(v*i))+x(A*o),g[e+1308>>2]=x(x(l*S)+x(p*E))+x(c*w),g[e+1304>>2]=x(x(l*y)+x(p*b))+x(c*C),g[e+1300>>2]=x(x(T*l)+x(v*p))+x(A*c),g[e+1356>>2]=R+x(x(x(_*f)+x(r*m))+x(s*d)),g[e+1352>>2]=I+x(x(x(u*f)+x(i*m))+x(o*d)),g[e+1348>>2]=P+x(x(x(l*f)+x(p*m))+x(c*d)),function(e){var t=x(0),n=x(0),i=x(0),o=x(0),r=0,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=0,m=x(0),d=x(0),v=x(0),A=x(0),y=x(0);h[e+1440>>2]=0,s=g[e+1256>>2],c=g[e+1276>>2],l=g[e+1260>>2],p=g[e+1272>>2],A=x(x(s*c)-x(l*p)),n=g[e+1236>>2],i=g[e+1240>>2],u=g[e+1268>>2],_=g[e+1252>>2],y=x(x(l*u)-x(c*_)),a=x(x(p*_)-x(s*u)),o=g[e+1244>>2],t=x(x(1)/x(x(x(A*n)+x(i*y))+x(a*o))),m=x(g[e+1356>>2]-g[e+1292>>2]),d=x(g[e+1348>>2]-g[e+1284>>2]),v=x(g[e+1352>>2]-g[e+1288>>2]),a=x(x(m*x(x(x(s*n)-x(_*i))*t))+x(x(d*x(a*t))+x(v*x(x(x(u*i)-x(p*n))*t)))),g[e+1436>>2]=a,n=x(x(m*x(x(x(_*o)-x(l*n))*t))+x(x(d*x(y*t))+x(v*x(x(x(c*n)-x(u*o))*t)))),g[e+1432>>2]=n,t=x(x(m*x(x(x(l*i)-x(s*o))*t))+x(x(d*x(A*t))+x(v*x(x(x(p*o)-x(c*i))*t)))),g[e+1428>>2]=t,g[e+940>>2]=t,(i=g[e+680>>2])>(o=g[e+696>>2])?h[e+908>>2]=0:(g[e+908>>2]=t-i,r=3,i!=o&&(g[e+924>>2]=t-o,r=4)),g[e+944>>2]=n,h[e+956>>2]=r;e:if((t=g[e+684>>2])>(i=g[e+700>>2]))h[e+912>>2]=0,r=0;else{if(g[e+912>>2]=n-t,r=3,t==i)break e;g[e+928>>2]=n-i,r=4}g[e+948>>2]=a,h[e+960>>2]=r,r=e;e:if((t=g[e+688>>2])>(n=g[e+704>>2]))h[e+916>>2]=0,f=0;else{if(g[e+916>>2]=a-t,f=3,t==n)break e;g[e+932>>2]=a-n,f=4}h[r+964>>2]=f}(e),j(e),o=g[h[e+28>>2]+404>>2],i=g[h[e+32>>2]+404>>2],a[e+1452|0]=o<x(1.1920928955078125e-7)|i<x(1.1920928955078125e-7),P=i,i=(i=x(o+i))>x(0)?x(P/i):x(.5),g[e+1444>>2]=i,g[e+1448>>2]=x(1)-i}function Ge(e,t,n,i,o,r,s,c,l){var p,u,_,f=0,d=0,v=0,g=0,A=0,x=0,b=0,C=0,S=0,E=0,w=0,T=0,P=0;for(z=p=z-80|0,h[p+32>>2]=1133903872,h[p+24>>2]=0,h[p+28>>2]=1036831949,h[p+72>>2]=0,h[p+76>>2]=0,h[p+52>>2]=0,h[p+56>>2]=0,h[p+44>>2]=0,h[p+48>>2]=1045220557,h[p+16>>2]=1065353216,h[p+20>>2]=-1082130432,h[p+36>>2]=1065353216,h[p+40>>2]=1056964608,h[p+64>>2]=0,a[p+60|0]=0,_=t+4|0,u=e+680|0;d=m[108+(A+u|0)|0],((g=h[176+((v=A<<2)+u|0)>>2])||(f=d,d=1,f))&&(h[p+72>>2]=g,h[p+56>>2]=0,f=e+v|0,h[p+68>>2]=h[f+840>>2],h[p+64>>2]=h[f+824>>2],v=h[e+732>>2],a[p+60|0]=d,h[p+36>>2]=v,h[p+20>>2]=h[f+696>>2],h[p+40>>2]=h[e+728>>2],d=h[f+680>>2],h[p+32>>2]=0,h[p+16>>2]=d,h[p+28>>2]=h[f+808>>2],h[p+24>>2]=h[f+792>>2],h[p>>2]=h[f+1064>>2],h[p+4>>2]=h[f+1080>>2],d=h[f+1096>>2],h[p+12>>2]=0,h[p+8>>2]=d,d=p,v=f+740|0,1&(g=h[e+1304>>2]>>y(A,3))||(v=h[t+32>>2]),h[d+44>>2]=h[v>>2],h[p+52>>2]=h[(2&g?f+772|0:h[t+32>>2])>>2],h[p+48>>2]=h[(4&g?f+756|0:_)>>2],f=e,b=p+16|0,d=i,g=o,v=r,C=s,S=c,E=l,w=t,T=n,P=p,x=0,m[e+1301|0]&&(x=1,h[924+((((A+1&255)>>>0)%3<<6)+e|0)>>2]&&(x=!h[924+((((A+2&255)>>>0)%3<<6)+e|0)>>2])),n=$s(f,b,d,g,v,C,S,E,w,T,P,0,x)+n|0),3!=(0|(A=A+1|0)););return z=p+80|0,n}function He(e,t){t|=0;var n,i,o,r,a,s,c,l=0,p=0,u=0,_=0,f=0,d=0;if(z=n=z-16|0,i=(p=h[32+(e|=0)>>2])+388|0,o=(_=h[e+28>>2])+388|0,r=p+372|0,a=_+372|0,s=p+4|0,c=_+4|0,m[e+1301|0]){for(_=0,p=0;(m[912+(u=(p<<6)+e|0)|0]||h[u+924>>2])&&(d=h[4+(f=1216+(l=(p<<4)+e|0)|0)>>2],h[n+8>>2]=h[f>>2],h[n+12>>2]=d,f=h[4+(l=l+1208|0)>>2],h[n>>2]=h[l>>2],h[n+4>>2]=f,1&(l=h[e+1304>>2]>>y(p,3)+9)||(h[u+896>>2]=h[h[t+32>>2]>>2]),2&l||(h[u+904>>2]=h[h[t+32>>2]>>2]),4&l||(h[u+900>>2]=h[t+4>>2]),_=$s(e,u+868|0,c,s,a,r,o,i,t,_,n,1,0)+_|0),3!=(0|(p=p+1|0)););Ge(e,t,_,c,s,a,r,o,i)}else for(_=Ge(e,t,0,c,s,a,r,o,i),p=0;(m[912+(u=(p<<6)+e|0)|0]||h[u+924>>2])&&(d=h[4+(f=1216+(l=(p<<4)+e|0)|0)>>2],h[n+8>>2]=h[f>>2],h[n+12>>2]=d,f=h[4+(l=l+1208|0)>>2],h[n>>2]=h[l>>2],h[n+4>>2]=f,1&(l=h[e+1304>>2]>>y(p,3)+9)||(h[u+896>>2]=h[h[t+32>>2]>>2]),2&l||(h[u+904>>2]=h[h[t+32>>2]>>2]),4&l||(h[u+900>>2]=h[t+4>>2]),_=$s(e,u+868|0,c,s,a,r,o,i,t,_,n,1,0)+_|0),3!=(0|(p=p+1|0)););z=n+16|0}function Ve(e,t){var n;return z=n=z-16|0,h[n+8>>2]=e,h[n+4>>2]=t,e=h[n+8>>2],h[e+280>>2]?a[n+15|0]=1&r[h[h[e>>2]+12>>2]](e,h[n+4>>2]):a[n+15|0]=1,z=n+16|0,1&a[n+15|0]}function We(e,t){var n=x(0),i=x(0);if((n=g[e+32>>2])<x(1)){if(n>x(-1))return g[t>>2]=So(x(-g[e+36>>2]),g[e+40>>2]),g[t+4>>2]=Kr(x(S(x(E(g[e+32>>2],x(-1))),x(1)))),void(g[t+8>>2]=So(x(-g[e+16>>2]),g[e>>2]));n=g[e+20>>2],i=g[e+4>>2],h[t+4>>2]=-1077342245,g[t>>2]=-So(i,n)}else n=g[e+20>>2],i=g[e+4>>2],h[t+4>>2]=1070141403,g[t>>2]=So(i,n);g[t+8>>2]=0}function qe(e,t,n,i){var o,r,s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0);ur(e,6,Zs(),t),h[e>>2]=3016,s=h[n+12>>2],h[e+120>>2]=h[n+8>>2],h[e+124>>2]=s,s=h[n+4>>2],h[e+112>>2]=h[n>>2],h[e+116>>2]=s,s=h[n+28>>2],h[e+136>>2]=h[n+24>>2],h[e+140>>2]=s,s=h[n+20>>2],h[e+128>>2]=h[n+16>>2],h[e+132>>2]=s,s=h[n+44>>2],h[e+152>>2]=h[n+40>>2],h[e+156>>2]=s,s=h[n+36>>2],h[e+144>>2]=h[n+32>>2],h[e+148>>2]=s,s=h[n+56>>2],o=h[n+60>>2],r=h[n+48>>2],n=h[n+52>>2],h[e+784>>2]=0,h[e+776>>2]=0,h[e+780>>2]=0,h[e+768>>2]=0,h[e+772>>2]=0,h[e+756>>2]=1045220557,h[e+760>>2]=1045220557,h[e+764>>2]=1045220557,h[e+740>>2]=0,h[e+744>>2]=0,h[e+748>>2]=0,h[e+752>>2]=0,h[e+720>>2]=0,h[e+724>>2]=0,h[e+712>>2]=0,h[e+716>>2]=0,h[e+704>>2]=0,h[e+708>>2]=0,h[e+696>>2]=0,h[e+700>>2]=0,h[e+688>>2]=0,h[e+692>>2]=0,h[e+680>>2]=0,h[e+684>>2]=0,h[e+168>>2]=s,h[e+172>>2]=o,h[e+160>>2]=r,h[e+164>>2]=n,h[e+728>>2]=1060320051,h[e+732>>2]=1065353216,h[e+736>>2]=1056964608,a[e+790|0]=0,a[e+788|0]=0,a[e+789|0]=0,h[e+792>>2]=0,h[e+796>>2]=0,h[e+800>>2]=0,h[e+808>>2]=0,h[e+812>>2]=0,h[e+816>>2]=0,h[e+876>>2]=0,h[e+880>>2]=1036831949,h[e+884>>2]=1133903872,h[e+868>>2]=1065353216,h[e+872>>2]=-1082130432,h[e+896>>2]=0,h[e+900>>2]=1045220557,h[e+904>>2]=0,h[e+908>>2]=0,h[e+924>>2]=0,h[e+928>>2]=0,h[e+888>>2]=1065353216,h[e+892>>2]=1056964608,h[e+916>>2]=0,h[e+992>>2]=0,a[e+912|0]=0,h[e+940>>2]=0,h[e+944>>2]=1036831949,h[e+948>>2]=1133903872,h[e+968>>2]=0,h[e+972>>2]=0,h[e+960>>2]=0,h[e+964>>2]=1045220557,h[e+932>>2]=1065353216,h[e+936>>2]=-1082130432,h[e+952>>2]=1065353216,h[e+956>>2]=1056964608,h[e+988>>2]=0,h[e+980>>2]=0,a[e+976|0]=0,h[e+1004>>2]=0,h[e+1008>>2]=1036831949,h[e+1012>>2]=1133903872,h[(n=e+1032|0)>>2]=0,h[n+4>>2]=0,h[(n=e+1024|0)>>2]=0,h[n+4>>2]=1045220557,h[e+996>>2]=1065353216,h[e+1e3>>2]=-1082130432,h[e+1016>>2]=1065353216,h[e+1020>>2]=1056964608,h[(n=e+1052|0)>>2]=0,h[n+4>>2]=0,h[e+1044>>2]=0,a[e+1040|0]=0,a[e+1301|0]=1,a[e+1308|0]=0,a[e+1300|0]=i,h[e+1304>>2]=0,D=g[t+52>>2],M=g[t+56>>2],O=g[t+60>>2],A=g[e+168>>2],y=g[e+160>>2],b=g[e+164>>2],c=g[t+12>>2],l=g[t+4>>2],p=g[t+8>>2],u=g[t+28>>2],_=g[t+20>>2],f=g[t+24>>2],C=g[e+128>>2],S=g[e+144>>2],E=g[e+148>>2],w=g[e+116>>2],T=g[e+132>>2],m=g[t+44>>2],P=g[e+152>>2],d=g[t+36>>2],I=g[e+120>>2],v=g[t+40>>2],R=g[e+136>>2],N=g[e+112>>2],h[e+108>>2]=0,h[e+92>>2]=0,h[e+76>>2]=0,h[e+60>>2]=0,g[e+88>>2]=x(x(I*d)+x(R*v))+x(P*m),g[e+84>>2]=x(x(w*d)+x(T*v))+x(E*m),g[e+80>>2]=x(x(N*d)+x(C*v))+x(S*m),g[e+72>>2]=x(x(I*_)+x(R*f))+x(P*u),g[e+68>>2]=x(x(w*_)+x(T*f))+x(E*u),g[e- -64>>2]=x(x(N*_)+x(C*f))+x(S*u),g[e+56>>2]=x(x(l*I)+x(p*R))+x(c*P),g[e+52>>2]=x(x(l*w)+x(p*T))+x(c*E),g[e+48>>2]=x(x(N*l)+x(C*p))+x(S*c),g[e+104>>2]=O+x(x(x(d*y)+x(v*b))+x(m*A)),g[e+100>>2]=M+x(x(x(_*y)+x(f*b))+x(u*A)),g[e+96>>2]=D+x(x(x(l*y)+x(p*b))+x(c*A)),ua(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0)}function Ye(e,t,n,i,o,r){ur(e,6,t,n),h[e>>2]=3016,t=h[i+12>>2],h[e+56>>2]=h[i+8>>2],h[e+60>>2]=t,t=h[i+4>>2],h[e+48>>2]=h[i>>2],h[e+52>>2]=t,t=h[i+28>>2],h[e+72>>2]=h[i+24>>2],h[e+76>>2]=t,n=h[i+20>>2],h[(t=e- -64|0)>>2]=h[i+16>>2],h[t+4>>2]=n,t=h[i+44>>2],h[e+88>>2]=h[i+40>>2],h[e+92>>2]=t,t=h[i+36>>2],h[e+80>>2]=h[i+32>>2],h[e+84>>2]=t,t=h[i+60>>2],h[e+104>>2]=h[i+56>>2],h[e+108>>2]=t,t=h[i+52>>2],h[e+96>>2]=h[i+48>>2],h[e+100>>2]=t,t=h[o+12>>2],h[e+120>>2]=h[o+8>>2],h[e+124>>2]=t,t=h[o+4>>2],h[e+112>>2]=h[o>>2],h[e+116>>2]=t,t=h[o+20>>2],h[e+128>>2]=h[o+16>>2],h[e+132>>2]=t,t=h[o+28>>2],h[e+136>>2]=h[o+24>>2],h[e+140>>2]=t,t=h[o+36>>2],h[e+144>>2]=h[o+32>>2],h[e+148>>2]=t,t=h[o+44>>2],h[e+152>>2]=h[o+40>>2],h[e+156>>2]=t,t=h[o+52>>2],h[e+160>>2]=h[o+48>>2],h[e+164>>2]=t,t=h[o+60>>2],h[e+168>>2]=h[o+56>>2],h[e+172>>2]=t,h[e+680>>2]=0,h[e+684>>2]=0,h[e+688>>2]=0,h[e+692>>2]=0,h[e+696>>2]=0,h[e+700>>2]=0,h[e+704>>2]=0,h[e+708>>2]=0,h[e+712>>2]=0,h[e+716>>2]=0,h[e+720>>2]=0,h[e+724>>2]=0,h[e+740>>2]=0,h[e+744>>2]=0,h[e+748>>2]=0,h[e+752>>2]=0,h[e+756>>2]=1045220557,h[e+760>>2]=1045220557,h[e+764>>2]=1045220557,h[e+784>>2]=0,h[e+776>>2]=0,h[e+780>>2]=0,h[e+768>>2]=0,h[e+772>>2]=0,h[e+736>>2]=1056964608,h[e+728>>2]=1060320051,h[e+732>>2]=1065353216,a[e+790|0]=0,a[e+788|0]=0,a[e+789|0]=0,h[e+800>>2]=0,h[e+792>>2]=0,h[e+796>>2]=0,h[e+816>>2]=0,h[e+808>>2]=0,h[e+812>>2]=0,h[e+928>>2]=0,h[e+884>>2]=1133903872,h[e+876>>2]=0,h[e+880>>2]=1036831949,h[e+904>>2]=0,h[e+908>>2]=0,h[e+896>>2]=0,h[e+900>>2]=1045220557,h[e+868>>2]=1065353216,h[e+872>>2]=-1082130432,h[e+924>>2]=0,h[e+888>>2]=1065353216,h[e+892>>2]=1056964608,h[e+916>>2]=0,h[e+992>>2]=0,a[e+912|0]=0,h[e+948>>2]=1133903872,h[e+940>>2]=0,h[e+944>>2]=1036831949,h[e+968>>2]=0,h[e+972>>2]=0,h[e+960>>2]=0,h[e+964>>2]=1045220557,h[e+932>>2]=1065353216,h[e+936>>2]=-1082130432,h[e+988>>2]=0,h[e+952>>2]=1065353216,h[e+956>>2]=1056964608,h[e+980>>2]=0,h[e+1056>>2]=0,a[e+976|0]=0,h[e+1012>>2]=1133903872,h[e+1004>>2]=0,h[e+1008>>2]=1036831949,h[(t=e+1032|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1024|0)>>2]=0,h[t+4>>2]=1045220557,h[e+996>>2]=1065353216,h[e+1e3>>2]=-1082130432,h[e+1052>>2]=0,h[e+1016>>2]=1065353216,h[e+1020>>2]=1056964608,h[e+1044>>2]=0,a[e+1308|0]=0,h[e+1304>>2]=0,a[e+1301|0]=1,a[e+1300|0]=r,a[e+1040|0]=0,ua(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0)}function Xe(e,t,n,i){i=x(i)}function Qe(e,t,n,i){var o;z=o=z-16|0,h[o+12>>2]=t,h[o+8>>2]=n,h[o+4>>2]=i,g[o>>2]=Vo(h[o+8>>2],h[o+4>>2]),Ho(e,h[o+4>>2],o),z=o+16|0}function Ze(e){return h[(e|=0)>>2]=3532,0|e}function Je(e){var t=0;return h[(e|=0)>>2]=2704,(t=h[e+80>>2])&&(m[e+84|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+80>>2]=0),h[e+80>>2]=0,h[e+72>>2]=0,h[e+76>>2]=0,a[e+84|0]=1,(t=h[e+60>>2])&&(m[e- -64|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+60>>2]=0),h[e+60>>2]=0,h[e+52>>2]=0,h[e+56>>2]=0,a[e- -64|0]=1,(t=h[e+40>>2])&&(m[e+44|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+40>>2]=0),h[e+40>>2]=0,h[e+32>>2]=0,h[e+36>>2]=0,a[e+44|0]=1,0|e}function Ke(){return 2}function $e(e,t){return t|=0,h[h[236+(e|=0)>>2]+(t<<2)>>2]}function et(e){var t,n,i,o,s=0,c=0,l=0,p=0;if(o=t=h[e+8>>2],n=(l=h[e+32>>2])?h[e+40>>2]:0,i=(c=h[e+52>>2])?h[e+60>>2]:0,p=0,(s=h[e+72>>2])&&(p=h[e+80>>2]),x(r[h[h[t>>2]+12>>2]](o,n,l,i,c,p,s,h[e+4>>2],h[e+20>>2],h[e+24>>2])),(0|(c=h[e+32>>2]))<=-1)for(h[e+36>>2]<=-1&&((s=h[e+40>>2])&&(m[e+44|0]&&s&&(h[6658]=h[6658]+1,r[h[5256]](s)),h[e+40>>2]=0),h[e+36>>2]=0,h[e+40>>2]=0,a[e+44|0]=1);h[h[e+40>>2]+(c<<2)>>2]=0,l=(s=c+1|0)>>>0>=c>>>0,c=s,l;);if(h[e+32>>2]=0,(0|(c=h[e+52>>2]))<=-1)for(h[e+56>>2]<=-1&&((s=h[e+60>>2])&&(m[e- -64|0]&&s&&(h[6658]=h[6658]+1,r[h[5256]](s)),h[e+60>>2]=0),h[e+56>>2]=0,h[e+60>>2]=0,a[e- -64|0]=1);h[h[e+60>>2]+(c<<2)>>2]=0,l=(s=c+1|0)>>>0>=c>>>0,c=s,l;);if(h[e+52>>2]=0,(0|(c=h[e+72>>2]))<=-1)for(h[e+76>>2]<=-1&&((s=h[e+80>>2])&&(m[e+84|0]&&s&&(h[6658]=h[6658]+1,r[h[5256]](s)),h[e+80>>2]=0),h[e+76>>2]=0,h[e+80>>2]=0,a[e+84|0]=1);h[h[e+80>>2]+(c<<2)>>2]=0,l=(s=c+1|0)>>>0>=c>>>0,c=s,l;);h[e+72>>2]=0}function tt(e,t,n,i){for(var o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,m=0,d=0,v=0,g=0;;){for(_=n,a=h[e+12>>2],l=h[a+((n+i|0)/2<<2)>>2],s=i,c=n;;){for(f=h[h[l+28>>2]+208>>2];p=h[(m=((n=c)<<2)+a|0)>>2],(d=(0|(r=f))>-1)||(r=h[h[l+32>>2]+208>>2]),c=n+1|0,(0|(o=h[h[p+28>>2]+208>>2]))<=-1&&(o=h[h[p+32>>2]+208>>2]),(0|o)<(0|r););for(;u=h[(v=(o=s)<<2)+a>>2],(0|(r=h[h[u+28>>2]+208>>2]))<=-1&&(r=h[h[u+32>>2]+208>>2]),g=f,s=o+-1|0,d||(g=h[h[l+32>>2]+208>>2]),(0|g)<(0|r););if((0|n)<=(0|o)&&(h[m>>2]=u,h[h[e+12>>2]+v>>2]=p,o=s,n=c),!((0|n)<=(0|o)))break;a=h[e+12>>2],s=o,c=n}if((0|o)>(0|_)&&tt(e,t,_,o),!((0|n)<(0|i)))break}}function nt(e,t){t|=0,r[h[h[(e|=0)>>2]+68>>2]](e,t)}function it(e,t){t|=0,r[h[h[(e|=0)>>2]+64>>2]](e,t)}function ot(e){var t=0;return h[(e|=0)>>2]=2096,m[e+288|0]&&(t=h[e+220>>2],r[h[h[t>>2]>>2]](t),(t=h[e+220>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t))),(t=h[e+212>>2])&&(r[h[h[t>>2]>>2]](t),(t=h[e+212>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t))),m[e+289|0]&&(t=h[e+216>>2],r[h[h[t>>2]>>2]](t),(t=h[e+216>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t))),(t=h[e+332>>2])&&(m[e+336|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+332>>2]=0),h[e+332>>2]=0,h[e+324>>2]=0,h[e+328>>2]=0,a[e+336|0]=1,(t=h[e+304>>2])&&(m[e+308|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+304>>2]=0),h[e+304>>2]=0,h[e+296>>2]=0,h[e+300>>2]=0,a[e+308|0]=1,(t=h[e+256>>2])&&(m[e+260|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+256>>2]=0),h[e+256>>2]=0,h[e+248>>2]=0,h[e+252>>2]=0,a[e+260|0]=1,(t=h[e+236>>2])&&(m[e+240|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+236>>2]=0),h[e+236>>2]=0,h[e+228>>2]=0,h[e+232>>2]=0,a[e+240|0]=1,(t=h[e+204>>2])&&(m[e+208|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+204>>2]=0),h[e+204>>2]=0,h[e+196>>2]=0,h[e+200>>2]=0,a[e+208|0]=1,ml(e),0|e}function rt(e,t){var n=0,i=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],i=h[t+4>>2],e=h[n+12>>2],h[e>>2]=h[t>>2],h[e+4>>2]=i,i=h[t+12>>2],h[e+8>>2]=h[t+8>>2],h[e+12>>2]=i,t=h[n+8>>2],i=h[t+20>>2],h[e+16>>2]=h[t+16>>2],h[e+20>>2]=i,i=h[t+28>>2],h[e+24>>2]=h[t+24>>2],h[e+28>>2]=i,t=h[n+8>>2],n=h[t+36>>2],h[e+32>>2]=h[t+32>>2],h[e+36>>2]=n,n=h[t+44>>2],h[e+40>>2]=h[t+40>>2],h[e+44>>2]=n}function at(e,t){var n=0,i=0,o=0,r=0;e:if(!((0|(i=h[e+548>>2]))<1)){for(o=h[e+556>>2];;){if(h[o+(n<<2)>>2]!=(0|t)){if((0|i)!=(0|(n=n+1|0)))continue;break e}break}if(!((0|n)>=(0|i))){n=0;t:{for(;;){if(h[(r=o+(n<<2)|0)>>2]!=(0|t)){if((0|i)!=(0|(n=n+1|0)))continue;break t}break}(0|i)<=(0|n)||(i=(n=i+-1|0)<<2,h[r>>2]=h[i+o>>2],h[i+h[e+556>>2]>>2]=t,h[e+548>>2]=n)}if(i=h[t+32>>2],(0|(o=h[t+28>>2]))==(0|e)){t:if(!((0|(t=h[e+288>>2]))<1)){for(o=h[e+296>>2],n=0;;){if((0|i)!=h[(r=o+(n<<2)|0)>>2]){if((0|(n=n+1|0))!=(0|t))continue;break t}break}(0|t)<=(0|n)||(n=(t=t+-1|0)<<2,h[r>>2]=h[n+o>>2],h[n+h[e+296>>2]>>2]=i,h[e+288>>2]=t)}return void(h[e+280>>2]=(0|t)>0)}t:if(!((0|(t=h[i+288>>2]))<1)){for(e=h[i+296>>2],n=0;;){if((0|o)!=h[(r=e+(n<<2)|0)>>2]){if((0|(n=n+1|0))!=(0|t))continue;break t}break}(0|t)<=(0|n)||(n=e,e=(t=t+-1|0)<<2,h[r>>2]=h[n+e>>2],h[e+h[i+296>>2]>>2]=o,h[i+288>>2]=t)}h[i+280>>2]=(0|t)>0}}}function st(e,t){var n=0,i=0,o=0,s=0,c=0;e:{t:if(!((0|(n=h[e+548>>2]))<1)){for(o=h[e+556>>2];;){if(h[o+(i<<2)>>2]!=(0|t)){if((0|(i=i+1|0))!=(0|n))continue;break t}break}if((0|n)!=(0|i))break e}if(h[e+552>>2]==(0|n)&&!((0|n)>=(0|(o=n?n<<1:1)))){if(o&&(h[6657]=h[6657]+1,s=0|r[h[5255]](o<<2,16),n=h[e+548>>2]),(0|n)>=1)for(i=0;h[(c=i<<2)+s>>2]=h[h[e+556>>2]+c>>2],(0|(i=i+1|0))!=(0|n););(i=h[e+556>>2])&&(m[e+560|0]&&(i&&(h[6658]=h[6658]+1,r[h[5256]](i)),n=h[e+548>>2]),h[e+556>>2]=0),h[e+556>>2]=s,h[e+552>>2]=o,a[e+560|0]=1}if(h[h[e+556>>2]+(n<<2)>>2]=t,h[e+548>>2]=n+1,n=h[t+32>>2],(0|(i=e))==(0|(e=h[t+28>>2])))return void il(e,n,1);il(n,e,1)}}function ct(e){3&m[e+204|0]||(g[e+472>>2]=x(g[e+424>>2]*g[e+408>>2])+g[e+472>>2],g[e+476>>2]=x(g[e+428>>2]*g[e+412>>2])+g[e+476>>2],g[e+480>>2]=x(g[e+432>>2]*g[e+416>>2])+g[e+480>>2])}function lt(e,t){var n,i=0;z=n=z-144|0,la(e),a[e+560|0]=1,h[e>>2]=2012,h[e+556>>2]=0,h[e+548>>2]=0,h[e+552>>2]=0,h[n+72>>2]=0,h[n+4>>2]=0,g[n>>2]=0,i=h[t+12>>2],h[n+84>>2]=h[t+8>>2],h[n+88>>2]=i,i=h[t>>2],t=h[t+4>>2],h[n+20>>2]=0,h[n+24>>2]=0,h[n+12>>2]=0,h[n+16>>2]=0,h[n+28>>2]=1065353216,h[n+32>>2]=0,h[n+36>>2]=0,h[n+40>>2]=0,h[n+44>>2]=0,h[n+48>>2]=1065353216,h[n+68>>2]=0,h[n+60>>2]=0,h[n+64>>2]=0,h[n+52>>2]=0,h[n+56>>2]=0,h[n+76>>2]=i,h[n+80>>2]=t,h[n+136>>2]=1008981770,h[n+140>>2]=1008981770,h[n+128>>2]=1000593162,h[n+132>>2]=1008981770,a[n+124|0]=0,h[n+116>>2]=1061997773,h[n+120>>2]=1065353216,h[n+108>>2]=0,h[n+112>>2]=0,h[n+100>>2]=1056964608,h[n+104>>2]=0,h[n+92>>2]=0,h[n+96>>2]=0,h[n+8>>2]=1065353216,pt(e,n),z=n+144|0}function pt(e,t){var n,i=0,o=0,s=x(0),c=x(0),l=0,p=x(0),u=x(0);z=n=z-16|0,h[e+372>>2]=0,h[e+376>>2]=0,h[e+604>>2]=1065353216,h[e+608>>2]=1065353216,h[e+408>>2]=1065353216,h[e+412>>2]=1065353216,h[e+472>>2]=0,h[e+476>>2]=0,h[e+252>>2]=2,h[e+380>>2]=0,h[e+384>>2]=0,h[e+388>>2]=0,h[e+392>>2]=0,h[e+396>>2]=0,h[e+400>>2]=0,h[e+612>>2]=1065353216,h[e+616>>2]=0,h[e+420>>2]=0,h[e+424>>2]=0,h[e+416>>2]=1065353216,h[e+428>>2]=0,h[e+432>>2]=0,h[e+436>>2]=0,h[e+440>>2]=0,h[e+444>>2]=0,h[e+448>>2]=0,h[e+452>>2]=0,h[e+480>>2]=0,h[e+484>>2]=0,h[e+488>>2]=0,h[e+492>>2]=0,h[e+496>>2]=0,h[e+500>>2]=0,s=g[t+96>>2],c=g[t+92>>2],g[n+12>>2]=c,g[n+8>>2]=s,h[n+4>>2]=0,h[n>>2]=1065353216,h[e+504>>2]=h[(c<x(0)?n+4|0:c>x(1)?n:n+12|0)>>2],h[n+4>>2]=0,h[n>>2]=1065353216,h[e+508>>2]=h[(s<x(0)?n+4|0:s>x(1)?n:n+8|0)>>2],h[e+532>>2]=h[t+116>>2],h[e+536>>2]=h[t+120>>2],o=h[t+4>>2],h[e+668>>2]=0,h[e+672>>2]=0,h[e+540>>2]=o,a[e+512|0]=m[t+124|0],h[e+516>>2]=h[t+128>>2],h[e+520>>2]=h[t+132>>2],h[e+524>>2]=h[t+136>>2],h[e+528>>2]=h[t+140>>2],o?(i=e+4|0,r[h[h[o>>2]+8>>2]](o,i)):(l=h[t+12>>2],h[(i=e+4|0)>>2]=h[t+8>>2],h[i+4>>2]=l,o=h[t+20>>2],h[e+12>>2]=h[t+16>>2],h[e+16>>2]=o,o=h[t+36>>2],h[e+28>>2]=h[t+32>>2],h[e+32>>2]=o,o=h[t+28>>2],h[e+20>>2]=h[t+24>>2],h[e+24>>2]=o,o=h[t+44>>2],h[e+36>>2]=h[t+40>>2],h[e+40>>2]=o,o=h[t+52>>2],h[e+44>>2]=h[t+48>>2],h[e+48>>2]=o,l=h[4+(o=t- -64|0)>>2],h[e+60>>2]=h[o>>2],h[e+64>>2]=l,o=h[t+60>>2],h[e+52>>2]=h[t+56>>2],h[e+56>>2]=o),o=h[i+4>>2],h[e+68>>2]=h[i>>2],h[e+72>>2]=o,o=h[i+12>>2],h[e+76>>2]=h[i+8>>2],h[e+80>>2]=o,i=h[e+32>>2],h[e+92>>2]=h[e+28>>2],h[e+96>>2]=i,i=h[e+24>>2],h[e+84>>2]=h[e+20>>2],h[e+88>>2]=i,i=h[e+40>>2],h[e+100>>2]=h[e+36>>2],h[e+104>>2]=i,i=h[e+48>>2],h[e+108>>2]=h[e+44>>2],h[e+112>>2]=i,i=h[e+56>>2],h[e+116>>2]=h[e+52>>2],h[e+120>>2]=i,i=h[e+64>>2],h[e+124>>2]=h[e+60>>2],h[e+128>>2]=i,h[e+132>>2]=0,h[e+136>>2]=0,h[e+140>>2]=0,h[e+144>>2]=0,h[e+148>>2]=0,h[e+152>>2]=0,h[e+156>>2]=0,h[e+160>>2]=0,h[e+228>>2]=h[t+100>>2],h[e+236>>2]=h[t+104>>2],h[e+240>>2]=h[t+108>>2],h[e+232>>2]=h[t+112>>2],r[h[h[e>>2]+8>>2]](e,h[t+72>>2]),i=h[5606],h[5606]=i+1,h[e+568>>2]=i,s=x(0),i=h[e+204>>2],(c=g[t>>2])!=x(0)?(h[e+204>>2]=-2&i,s=x(x(1)/c)):h[e+204>>2]=1|i,h[e+436>>2]=0,g[e+404>>2]=s,g[e+432>>2]=c*g[e+448>>2],g[e+428>>2]=c*g[e+444>>2],g[e+424>>2]=c*g[e+440>>2],c=g[t+84>>2],p=g[t+80>>2],u=g[t+76>>2],g[e+620>>2]=s*g[e+408>>2],g[e+624>>2]=s*g[e+412>>2],g[e+628>>2]=s*g[e+416>>2],h[e+632>>2]=0,h[e+468>>2]=0,g[e+456>>2]=u!=x(0)?x(x(1)/u):x(0),g[e+460>>2]=p!=x(0)?x(x(1)/p):x(0),g[e+464>>2]=c!=x(0)?x(x(1)/c):x(0),sc(e),h[e+572>>2]=0,h[e+576>>2]=0,h[e+564>>2]=8,h[e+580>>2]=0,h[e+584>>2]=0,h[e+588>>2]=0,h[e+592>>2]=0,h[e+596>>2]=0,h[e+600>>2]=0,h[e+632>>2]=0,h[e+636>>2]=0,h[e+640>>2]=0,h[e+644>>2]=0,h[e+648>>2]=0,h[e+652>>2]=0,h[e+656>>2]=0,h[e+660>>2]=0,h[e+664>>2]=0,s=g[e+404>>2],g[e+628>>2]=s*g[e+416>>2],g[e+624>>2]=s*g[e+412>>2],g[e+620>>2]=s*g[e+408>>2],z=n+16|0}function ut(e,t,n){var i;for(h[28+(i=z-32|0)>>2]=e,h[i+24>>2]=0,h[i+20>>2]=t,h[i+16>>2]=n,e=h[i+28>>2],h[i+12>>2]=h[i+24>>2];h[i+12>>2]<h[i+20>>2];)g[h[i+16>>2]+(h[i+12>>2]<<2)>>2]=g[h[e+12>>2]+(h[i+12>>2]<<2)>>2],h[i+12>>2]=h[i+12>>2]+1}function _t(e,t,n){var i,o=0;for(z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=0,h[i+20>>2]=t,h[i+16>>2]=n,n=h[i+28>>2],h[i+12>>2]=h[i+24>>2];h[i+12>>2]<h[i+20>>2];)t=h[i+16>>2]+(h[i+12>>2]<<4)|0,h[12+(e=z-16|0)>>2]=16,h[e+8>>2]=t,t=h[n+12>>2]+(h[i+12>>2]<<4)|0,o=h[t+4>>2],e=h[e+8>>2],h[e>>2]=h[t>>2],h[e+4>>2]=o,o=h[t+12>>2],h[e+8>>2]=h[t+8>>2],h[e+12>>2]=o,h[i+12>>2]=h[i+12>>2]+1;z=i+32|0}function ft(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=z-16|0,e=h[n+12>>2],h[t+12>>2]=e,h[h[t+12>>2]+8>>2]<h[n+8>>2]&&(h[n+4>>2]=xt(e,h[n+8>>2]),h[12+(t=z-16|0)>>2]=e,ut(e,h[h[t+12>>2]+4>>2],h[n+4>>2]),h[12+(t=z-16|0)>>2]=e,is(e,h[h[t+12>>2]+4>>2]),ns(e),a[e+16|0]=1,h[e+12>>2]=h[n+4>>2],h[e+8>>2]=h[n+8>>2]),z=n+16|0}function ht(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=z-16|0,e=h[n+12>>2],h[t+12>>2]=e,h[h[t+12>>2]+8>>2]<h[n+8>>2]&&(h[n+4>>2]=Z(e,h[n+8>>2]),h[12+(t=z-16|0)>>2]=e,_t(e,h[h[t+12>>2]+4>>2],h[n+4>>2]),h[12+(t=z-16|0)>>2]=e,is(e,h[h[t+12>>2]+4>>2]),ns(e),a[e+16|0]=1,h[e+12>>2]=h[n+4>>2],h[e+8>>2]=h[n+8>>2]),z=n+16|0}function mt(e,t){var n,i=0,o=0;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=z-16|0,e=h[n+12>>2],h[t+12>>2]=e,h[n+4>>2]=h[h[t+12>>2]+4>>2],t=h[n+4>>2],h[12+(i=z-16|0)>>2]=e,h[h[i+12>>2]+8>>2]==(0|t)&&(h[12+(i=z-16|0)>>2]=e,o=h[h[i+12>>2]+4>>2],h[12+(i=z-16|0)>>2]=e,h[i+8>>2]=o,ht(t=e,i=h[i+8>>2]?h[i+8>>2]<<1:1)),i=h[e+12>>2]+(h[e+4>>2]<<4)|0,h[12+(t=z-16|0)>>2]=16,h[t+8>>2]=i,i=h[n+8>>2],o=h[i+4>>2],t=h[t+8>>2],h[t>>2]=h[i>>2],h[t+4>>2]=o,o=h[i+12>>2],h[t+8>>2]=h[i+8>>2],h[t+12>>2]=o,h[e+4>>2]=h[e+4>>2]+1,z=n+16|0}function dt(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],h[e>>2]=1772,Cr(e+140|0),Cr(e+120|0),Cr(e+100|0),Cr(e+80|0),Cr(e+28|0),h[12+(z-16|0)>>2]=e,z=t+16|0,0|e}function vt(e,t,n){var i;z=i=z-80|0,h[i+76>>2]=e,h[i+72>>2]=t,h[i+68>>2]=n,zt(t=i+16|0,n=h[i+72>>2],h[i+68>>2]),pc(i,n,h[i+68>>2]+48|0),_c(e,t,i),z=i+80|0}function gt(e){e|=0;var t;z=t=z-16|0,h[t+12>>2]=e,$o(e=h[t+12>>2]),mc(e),z=t+16|0}function At(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],h[e>>2]=2012,Cr(e+544|0),Dr(e),z=t+16|0,0|e}function yt(e,t,n){var i;for(h[28+(i=z-32|0)>>2]=e,h[i+24>>2]=0,h[i+20>>2]=t,h[i+16>>2]=n,e=h[i+28>>2],h[i+12>>2]=h[i+24>>2];h[i+12>>2]<h[i+20>>2];)h[h[i+16>>2]+(h[i+12>>2]<<2)>>2]=h[h[e+12>>2]+(h[i+12>>2]<<2)>>2],h[i+12>>2]=h[i+12>>2]+1}function xt(e,t){var n;return z=n=z-16|0,h[n+8>>2]=e,h[n+4>>2]=t,e=h[n+8>>2],h[n+4>>2]?h[n+12>>2]=function(e,t){var n;return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,h[n+4>>2]=0,e=h[n+8>>2]<<2,h[6657]=h[6657]+1,e=0|r[h[5255]](e,16),z=n+16|0,e}(e,h[n+4>>2]):h[n+12>>2]=0,z=n+16|0,h[n+12>>2]}function bt(e){e|=0;var t;z=t=z-16|0,h[t+12>>2]=e,$o(e=h[t+12>>2]),Eo(e),z=t+16|0}function Ct(e,t,n){e|=0,t|=0,n|=0;var i;return z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,a[i+23|0]=n,e=h[i+28>>2],g[e+4>>2]=g[h[i+24>>2]+40>>2],h[e+80>>2]=h[h[i+24>>2]>>2],1&a[i+23|0]?(t=h[i+24>>2],n=h[t+12>>2],h[e+48>>2]=h[t+8>>2],h[e+52>>2]=n,n=h[t+20>>2],h[e+56>>2]=h[t+16>>2],h[e+60>>2]=n):(h[12+(t=z-16|0)>>2]=h[e+80>>2],h[12+(n=z-16|0)>>2]=h[t+12>>2]+4,xr(i,h[n+12>>2],h[i+24>>2]+8|0),t=h[i+4>>2],h[e+48>>2]=h[i>>2],h[e+52>>2]=t,t=h[i+12>>2],h[e+56>>2]=h[i+8>>2],h[e+60>>2]=t),t=h[i+24>>2],n=h[t+28>>2],h[e+64>>2]=h[t+24>>2],h[e+68>>2]=n,n=h[t+36>>2],h[e+72>>2]=h[t+32>>2],h[e+76>>2]=n,z=i+32|0,x(g[h[i+24>>2]+40>>2])}function St(e,t){var n;z=n=z-16|0,h[n+12>>2]=t,function(e,t){var n,i=0,o=0;z=n=z-32|0,h[n+28>>2]=t,i=h[n+28>>2],o=h[i+4>>2],h[(t=n+8|0)>>2]=h[i>>2],h[t+4>>2]=o,o=h[i+12>>2],h[t+8>>2]=h[i+8>>2],h[t+12>>2]=o,t=Ya(t),i=h[t+4>>2],h[e>>2]=h[t>>2],h[e+4>>2]=i,i=h[t+12>>2],h[e+8>>2]=h[t+8>>2],h[e+12>>2]=i,z=n+32|0}(e,h[n+12>>2]),_a(e)<x(1.1920928955078125e-7)&&(g[n+8>>2]=0,g[n+4>>2]=0,g[n>>2]=0,To(e,n+8|0,n+4|0,n)),z=n+16|0}function Et(){return 4}function wt(){return 3}function Tt(){return 2}function Pt(){return 1}function It(e,t){var n;z=n=z-112|0,h[n+108>>2]=e,h[n+104>>2]=t,e=h[n+108>>2],g[n+100>>2]=Q(h[n+104>>2]),g[n+96>>2]=x(2)/g[n+100>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+92>>2]=g[h[t+12>>2]>>2]*g[n+96>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+88>>2]=g[h[t+12>>2]+4>>2]*g[n+96>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+84>>2]=g[h[t+12>>2]+8>>2]*g[n+96>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+80>>2]=g[h[t+12>>2]+12>>2]*g[n+92>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+76>>2]=g[h[t+12>>2]+12>>2]*g[n+88>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+72>>2]=g[h[t+12>>2]+12>>2]*g[n+84>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+68>>2]=g[h[t+12>>2]>>2]*g[n+92>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+64>>2]=g[h[t+12>>2]>>2]*g[n+88>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+60>>2]=g[h[t+12>>2]>>2]*g[n+84>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+56>>2]=g[h[t+12>>2]+4>>2]*g[n+88>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+52>>2]=g[h[t+12>>2]+4>>2]*g[n+84>>2],h[12+(t=z-16|0)>>2]=h[n+104>>2],g[n+48>>2]=g[h[t+12>>2]+8>>2]*g[n+84>>2],g[n+44>>2]=x(1)-x(g[n+56>>2]+g[n+48>>2]),g[n+40>>2]=g[n+64>>2]-g[n+72>>2],g[n+36>>2]=g[n+60>>2]+g[n+76>>2],g[n+32>>2]=g[n+64>>2]+g[n+72>>2],g[n+28>>2]=x(1)-x(g[n+68>>2]+g[n+48>>2]),g[n+24>>2]=g[n+52>>2]-g[n+80>>2],g[n+20>>2]=g[n+60>>2]-g[n+76>>2],g[n+16>>2]=g[n+52>>2]+g[n+80>>2],g[n+12>>2]=x(1)-x(g[n+68>>2]+g[n+56>>2]),Zr(e,n+44|0,n+40|0,n+36|0,n+32|0,n+28|0,n+24|0,n+20|0,n+16|0,n+12|0),z=n+112|0}function Rt(e,t,n){var i,o=0;z=i=z-384|0,h[i+380>>2]=e,h[i+376>>2]=t,h[i+372>>2]=n,e=h[i+380>>2],Qo(t=i+304|0),Qo(n=i+240|0),Za(i+224|0,e+92|0,h[i+372>>2]),o=h[i+228>>2],h[e+112>>2]=h[i+224>>2],h[e+116>>2]=o,o=h[i+236>>2],h[e+120>>2]=h[i+232>>2],h[e+124>>2]=o,Ko(t),Ko(n),g[i+220>>2]=1,sr(t=i+200|0,e+92|0,e+112|0),g[i+216>>2]=cc(t),1&a[e+148|0]&&(Vo(e+76|0,e+152|0),x(0)),h[i+196>>2]=10;e:{for(;;){t:if(g[i+220>>2]>x(.009999999776482582)?(t=h[i+196>>2],h[i+196>>2]=t+-1,t=(0|t)>0):t=0,t){Zo(i+304|0,e+92|0),Zo(i+240|0,e+112|0),sr(t=i+176|0,e+92|0,e+112|0),Qa(i- -64|0,h[e+8>>2],t,x(0)),h[12+(t=z-16|0)>>2]=e,h[12+(n=z-16|0)>>2]=h[h[t+12>>2]+8>>2],h[i+72>>2]=h[h[h[n+12>>2]+188>>2]+4>>2],h[12+(t=z-16|0)>>2]=e,h[12+(n=z-16|0)>>2]=h[h[t+12>>2]+8>>2],h[i+76>>2]=h[h[h[n+12>>2]+188>>2]+8>>2],t=h[e+12>>2],g[i+52>>2]=r[h[h[t>>2]+48>>2]](t),t=h[e+12>>2],r[h[h[t>>2]+44>>2]](t,x(g[i+52>>2]+g[e+56>>2])),1&a[e+170|0]?(t=h[e+8>>2],n=h[e+12>>2],h[12+(o=z-16|0)>>2]=h[i+376>>2],dr(t,n,i+304|0,i+240|0,i- -64|0,g[28+(h[o+12>>2]+28|0)>>2])):(t=h[i+376>>2],n=h[e+12>>2],h[12+(o=z-16|0)>>2]=h[i+376>>2],cr(t,n,i+304|0,i+240|0,i- -64|0,g[28+(h[o+12>>2]+28|0)>>2])),t=h[e+12>>2],r[h[h[t>>2]+44>>2]](t,g[i+52>>2]),g[i+220>>2]=g[i+220>>2]-g[i+68>>2],h[12+(t=z-16|0)>>2]=i- -64;n:{if(g[h[t+12>>2]+4>>2]<x(1)&&(h[12+(t=z-16|0)>>2]=h[e+8>>2],!(4&h[h[t+12>>2]+204>>2])&&1&r[h[h[e>>2]+56>>2]](e,h[e+8>>2],h[i+144>>2]))){if(sr(i+32|0,i+128|0,e+92|0),g[i+48>>2]=_a(i+32|0),te(e,i+112|0),sr(i+16|0,e+112|0,e+92|0),g[i+216>>2]=cc(i+16|0),!(g[i+216>>2]>x(1.1920928955078125e-7))){h[i+12>>2]=3;break n}if(Ya(i+16|0),Vo(i+16|0,e+76|0)<=x(0)){h[i+12>>2]=3;break n}}else t=h[e+116>>2],h[e+92>>2]=h[e+112>>2],h[e+96>>2]=t,t=h[e+124>>2],h[e+100>>2]=h[e+120>>2],h[e+104>>2]=t;h[i+12>>2]=0}switch(Xr(i- -64|0),h[i+12>>2]-1|0){case 0:case 1:break e;case 2:break t}continue}break}return void(z=i+384|0)}P()}function Nt(e,t){var n,i;z=n=z-48|0,h[n+44>>2]=e,h[n+40>>2]=t,t=n+8|0,e=h[n+44>>2],zr(t,h[n+40>>2],e+408|0),Ho(i=n+24|0,t,e+404|0),br(e+372|0,i),z=n+48|0}function Dt(e,t){var n,i;z=n=z-48|0,h[n+44>>2]=e,h[n+40>>2]=t,xr(t=n+8|0,(e=h[n+44>>2])+324|0,h[n+40>>2]),zr(i=n+24|0,t,e+604|0),br(e+388|0,i),z=n+48|0}function Mt(e,t){var n;z=n=z-32|0,h[n+28>>2]=e,h[n+24>>2]=t,e=n+8|0,t=h[n+28>>2],zr(e,h[n+24>>2],t+408|0),br(t+472|0,e),z=n+32|0}function Ot(e,t){var n;z=n=z-32|0,h[n+28>>2]=e,h[n+24>>2]=t,e=n+8|0,t=h[n+28>>2],zr(e,h[n+24>>2],t+604|0),br(t+488|0,e),z=n+32|0}function Lt(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+44>>2]](e,h[n+8>>2]),z=n+16|0}function zt(e,t,n){var i;z=i=z-48|0,h[i+44>>2]=e,h[i+40>>2]=t,h[i+36>>2]=n,n=h[i+36>>2],h[12+(t=z-16|0)>>2]=h[i+40>>2],h[t+8>>2]=0,g[i+32>>2]=qr(n,h[t+12>>2]+(h[t+8>>2]<<4)|0),n=h[i+36>>2],h[12+(t=z-16|0)>>2]=h[i+40>>2],h[t+8>>2]=0,g[i+28>>2]=Wr(n,h[t+12>>2]+(h[t+8>>2]<<4)|0),n=h[i+36>>2],h[12+(t=z-16|0)>>2]=h[i+40>>2],h[t+8>>2]=0,g[i+24>>2]=Vr(n,h[t+12>>2]+(h[t+8>>2]<<4)|0),n=h[i+36>>2],h[12+(t=z-16|0)>>2]=h[i+40>>2],h[t+8>>2]=1,g[i+20>>2]=qr(n,h[t+12>>2]+(h[t+8>>2]<<4)|0),n=h[i+36>>2],h[12+(t=z-16|0)>>2]=h[i+40>>2],h[t+8>>2]=1,g[i+16>>2]=Wr(n,h[t+12>>2]+(h[t+8>>2]<<4)|0),n=h[i+36>>2],h[12+(t=z-16|0)>>2]=h[i+40>>2],h[t+8>>2]=1,g[i+12>>2]=Vr(n,h[t+12>>2]+(h[t+8>>2]<<4)|0),n=h[i+36>>2],h[12+(t=z-16|0)>>2]=h[i+40>>2],h[t+8>>2]=2,g[i+8>>2]=qr(n,h[t+12>>2]+(h[t+8>>2]<<4)|0),n=h[i+36>>2],h[12+(t=z-16|0)>>2]=h[i+40>>2],h[t+8>>2]=2,g[i+4>>2]=Wr(n,h[t+12>>2]+(h[t+8>>2]<<4)|0),n=h[i+36>>2],h[12+(t=z-16|0)>>2]=h[i+40>>2],h[t+8>>2]=2,g[i>>2]=Vr(n,h[t+12>>2]+(h[t+8>>2]<<4)|0),Wa(e,i+32|0,i+28|0,i+24|0,i+20|0,i+16|0,i+12|0,i+8|0,i+4|0,i),z=i+48|0}function Ft(e,t,n){var i,o=x(0),r=x(0);z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,h[i+20>>2]=n,h[12+(e=z-16|0)>>2]=h[i+28>>2],g[12+(t=z-16|0)>>2]=g[h[e+12>>2]+8>>2],x(b(g[t+12>>2]))>x(.7071067690849304)?(h[12+(e=z-16|0)>>2]=h[i+28>>2],o=g[h[e+12>>2]+4>>2],h[12+(e=z-16|0)>>2]=h[i+28>>2],o=x(o*g[h[e+12>>2]+4>>2]),h[12+(e=z-16|0)>>2]=h[i+28>>2],r=g[h[e+12>>2]+8>>2],h[12+(e=z-16|0)>>2]=h[i+28>>2],g[i+16>>2]=o+x(r*g[h[e+12>>2]+8>>2]),g[12+(e=z-16|0)>>2]=g[i+16>>2],g[i+12>>2]=x(1)/x(T(g[e+12>>2])),h[12+(e=z-16|0)>>2]=h[i+24>>2],g[h[e+12>>2]>>2]=0,h[12+(e=z-16|0)>>2]=h[i+28>>2],o=x(x(-g[h[e+12>>2]+8>>2])*g[i+12>>2]),h[12+(e=z-16|0)>>2]=h[i+24>>2],g[h[e+12>>2]+4>>2]=o,h[12+(e=z-16|0)>>2]=h[i+28>>2],o=x(g[h[e+12>>2]+4>>2]*g[i+12>>2]),h[12+(e=z-16|0)>>2]=h[i+24>>2],g[h[e+12>>2]+8>>2]=o,o=x(g[i+16>>2]*g[i+12>>2]),h[12+(e=z-16|0)>>2]=h[i+20>>2],g[h[e+12>>2]>>2]=o,h[12+(e=z-16|0)>>2]=h[i+28>>2],o=x(-g[h[e+12>>2]>>2]),h[12+(e=z-16|0)>>2]=h[i+24>>2],o=x(o*g[h[e+12>>2]+8>>2]),h[12+(e=z-16|0)>>2]=h[i+20>>2],g[h[e+12>>2]+4>>2]=o,h[12+(e=z-16|0)>>2]=h[i+28>>2],o=g[h[e+12>>2]>>2],h[12+(e=z-16|0)>>2]=h[i+24>>2],o=x(o*g[h[e+12>>2]+4>>2])):(h[12+(e=z-16|0)>>2]=h[i+28>>2],o=g[h[e+12>>2]>>2],h[12+(e=z-16|0)>>2]=h[i+28>>2],o=x(o*g[h[e+12>>2]>>2]),h[12+(e=z-16|0)>>2]=h[i+28>>2],r=g[h[e+12>>2]+4>>2],h[12+(e=z-16|0)>>2]=h[i+28>>2],g[i+8>>2]=o+x(r*g[h[e+12>>2]+4>>2]),g[12+(e=z-16|0)>>2]=g[i+8>>2],g[i+4>>2]=x(1)/x(T(g[e+12>>2])),h[12+(e=z-16|0)>>2]=h[i+28>>2],o=x(x(-g[h[e+12>>2]+4>>2])*g[i+4>>2]),h[12+(e=z-16|0)>>2]=h[i+24>>2],g[h[e+12>>2]>>2]=o,h[12+(e=z-16|0)>>2]=h[i+28>>2],o=x(g[h[e+12>>2]>>2]*g[i+4>>2]),h[12+(e=z-16|0)>>2]=h[i+24>>2],g[h[e+12>>2]+4>>2]=o,h[12+(e=z-16|0)>>2]=h[i+24>>2],g[h[e+12>>2]+8>>2]=0,h[12+(e=z-16|0)>>2]=h[i+28>>2],o=x(-g[h[e+12>>2]+8>>2]),h[12+(e=z-16|0)>>2]=h[i+24>>2],o=x(o*g[h[e+12>>2]+4>>2]),h[12+(e=z-16|0)>>2]=h[i+20>>2],g[h[e+12>>2]>>2]=o,h[12+(e=z-16|0)>>2]=h[i+28>>2],o=g[h[e+12>>2]+8>>2],h[12+(e=z-16|0)>>2]=h[i+24>>2],o=x(o*g[h[e+12>>2]>>2]),h[12+(e=z-16|0)>>2]=h[i+20>>2],g[h[e+12>>2]+4>>2]=o,o=x(g[i+8>>2]*g[i+4>>2])),h[12+(e=z-16|0)>>2]=h[i+20>>2],g[h[e+12>>2]+8>>2]=o,z=i+32|0}function Bt(e,t,n,i,o,r){var a;z=a=z-32|0,h[a+28>>2]=e,g[a+24>>2]=t,g[a+20>>2]=n,g[a+16>>2]=i,g[a+12>>2]=o,g[a+8>>2]=r,function(e,t,n,i,o,r){n=x(x(n-t)*x(.5)),g[e+4>>2]=n,(t=Io(x(n+t),x(6.2831854820251465)))<x(-3.1415927410125732)?t=x(t+x(6.2831854820251465)):t>x(3.1415927410125732)&&(t=x(t+x(-6.2831854820251465))),g[e+16>>2]=r,g[e+12>>2]=o,g[e+8>>2]=i,g[e>>2]=t}(h[a+28>>2]+688|0,g[a+24>>2],g[a+20>>2],g[a+16>>2],g[a+12>>2],g[a+8>>2]),z=a+32|0}function Ut(e,t){var n;z=n=z-16|0,h[n+12>>2]=t,g[n+8>>2]=-g[h[n+12>>2]>>2],g[n+4>>2]=-g[h[n+12>>2]+4>>2],g[n>>2]=-g[h[n+12>>2]+8>>2],To(e,n+8|0,n+4|0,n),z=n+16|0}function jt(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,e=h[n+12>>2],r[h[h[e>>2]+52>>2]](e,1&a[n+11|0]),z=n+16|0}function kt(e){e|=0;var t,n;z=t=z-48|0,h[t+44>>2]=e,e=h[t+44>>2],g[t+20>>2]=0,g[t+16>>2]=0,g[t+12>>2]=0,To(n=t+24|0,t+20|0,t+16|0,t+12|0),r[h[h[e>>2]+44>>2]](e,n),z=t+48|0}function Gt(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],e=1&r[h[h[e>>2]+40>>2]](e),z=t+16|0,0|e}function Ht(e,t,n){e|=0,t|=0,n=x(n);var i;z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,g[i+4>>2]=n,e=h[i+12>>2],r[h[h[e>>2]+36>>2]](e,h[i+8>>2],g[i+4>>2]),z=i+16|0}function Vt(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+32>>2]](e,h[n+8>>2]),z=n+16|0}function Wt(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+28>>2]](e,h[n+8>>2]),z=n+16|0}function qt(e,t,n){e|=0,t|=0,n=x(n);var i;z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,g[i+4>>2]=n,e=h[i+12>>2],r[h[h[e>>2]+20>>2]](e,h[i+8>>2],g[i+4>>2]),z=i+16|0}function Yt(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+16>>2]](e,h[n+8>>2]),z=n+16|0}function Xt(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,se(h[n+12>>2],h[n+8>>2]),z=n+16|0}function Qt(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],h[n+4>>2]=h[h[t+12>>2]+4>>2],t=h[n+4>>2],h[n>>2]=0,nn(e,t,n),yt(h[n+8>>2],h[n+4>>2],h[e+12>>2]),z=n+16|0}(h[n+12>>2],h[n+8>>2]),z=n+16|0}function Zt(e){var t;h[12+(t=z-16|0)>>2]=e,e=h[t+12>>2],h[e>>2]=1904,g[e+4>>2]=1,h[e+8>>2]=0,f[e+12>>1]=1,f[e+14>>1]=65535,h[e+16>>2]=-1,h[e+20>>2]=0,a[e+24|0]=0}function Jt(e,t){var n,i=0;for(z=n=z-16|0,h[n+8>>2]=e,h[n+4>>2]=t,e=h[n+8>>2],h[n+12>>2]=e,i=e+48|0,t=e;h[12+(z-16|0)>>2]=t,(0|i)!=(0|(t=t+16|0)););t=h[n+4>>2],i=h[t+4>>2],h[e>>2]=h[t>>2],h[e+4>>2]=i,i=h[t+12>>2],h[e+8>>2]=h[t+8>>2],h[e+12>>2]=i,t=h[n+4>>2],i=h[t+20>>2],h[e+16>>2]=h[t+16>>2],h[e+20>>2]=i,i=h[t+28>>2],h[e+24>>2]=h[t+24>>2],h[e+28>>2]=i,t=h[n+4>>2],i=h[t+36>>2],h[e+32>>2]=h[t+32>>2],h[e+36>>2]=i,i=h[t+44>>2],h[e+40>>2]=h[t+40>>2],h[e+44>>2]=i,z=n+16|0}function Kt(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=z-16|0,e=h[n+12>>2],h[t+12>>2]=e,h[h[t+12>>2]+8>>2]<h[n+8>>2]&&(h[n+4>>2]=xt(e,h[n+8>>2]),h[12+(t=z-16|0)>>2]=e,yt(e,h[h[t+12>>2]+4>>2],h[n+4>>2]),h[12+(t=z-16|0)>>2]=e,is(e,h[h[t+12>>2]+4>>2]),ns(e),a[e+16|0]=1,h[e+12>>2]=h[n+4>>2],h[e+8>>2]=h[n+8>>2]),z=n+16|0}function $t(e){var t;h[12+(t=z-16|0)>>2]=e,e=h[t+12>>2],h[e>>2]=0,h[e+4>>2]=0,h[e+8>>2]=4096,h[e+12>>2]=4096,h[e+16>>2]=0,h[e+20>>2]=1}function en(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]+4>>2]}function tn(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+60>>2]](e,h[n+8>>2]),z=n+16|0}function nn(e,t,n){var i;if(z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,h[i+20>>2]=n,t=z-16|0,e=h[i+28>>2],h[t+12>>2]=e,h[i+16>>2]=h[h[t+12>>2]+4>>2],h[i+24>>2]<h[i+16>>2])for(h[i+12>>2]=h[i+24>>2];h[i+12>>2]<h[i+16>>2];)h[i+12>>2]=h[i+12>>2]+1;else for(h[i+24>>2]>h[i+16>>2]&&Kt(e,h[i+24>>2]),h[i+8>>2]=h[i+16>>2];h[i+8>>2]<h[i+24>>2];)h[h[e+12>>2]+(h[i+8>>2]<<2)>>2]=h[h[i+20>>2]>>2],h[i+8>>2]=h[i+8>>2]+1;h[e+4>>2]=h[i+24>>2],z=i+32|0}function on(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+48|0}function rn(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+28|0}function an(e,t){e|=0,t|=0;var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+64>>2]=h[e>>2],h[t+68>>2]=n,n=h[e+12>>2],h[t+72>>2]=h[e+8>>2],h[t+76>>2]=n}function sn(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,h[t+12>>2]- -64|0}function cn(e,t,n,i,o){var r;z=r=z-32|0,h[r+28>>2]=e,g[r+24>>2]=t,h[r+20>>2]=n,h[r+16>>2]=i,h[r+12>>2]=o,e=h[r+28>>2],g[e>>2]=g[r+24>>2],h[e+4>>2]=h[r+20>>2],Qo(e+8|0),h[e+72>>2]=h[r+16>>2],n=h[r+12>>2],i=h[n+4>>2],h[e+76>>2]=h[n>>2],h[e+80>>2]=i,i=h[n+12>>2],h[e+84>>2]=h[n+8>>2],h[e+88>>2]=i,g[e+92>>2]=0,g[e+96>>2]=0,g[e+100>>2]=.5,g[e+104>>2]=0,g[e+108>>2]=0,g[e+112>>2]=0,g[e+116>>2]=.800000011920929,g[e+120>>2]=1,a[e+124|0]=0,g[e+128>>2]=.004999999888241291,g[e+132>>2]=.009999999776482582,g[e+136>>2]=.009999999776482582,g[e+140>>2]=.009999999776482582,Ko(e+8|0),z=r+32|0}function ln(e,t){e|=0,t|=0;var n;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]>>2]=h[n+8>>2]}function pn(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]>>2]}function un(e,t){e|=0,t|=0;var n;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]+4>>2]=h[n+8>>2]}function _n(e,t){e|=0,t|=0;var n;return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,z=n+16|0,h[h[h[e+12>>2]+12>>2]+(h[e+8>>2]<<2)>>2]}function fn(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+12>>2]=g[e+8>>2],z=n+16|0}function hn(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,x(g[h[e+12>>2]+12>>2])}function mn(e,t){e|=0,t|=0;var n;return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=function(e,t){var n;return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2]+324,h[e+8>>2]=t,z=n+16|0,h[h[h[e+12>>2]+12>>2]+(h[e+8>>2]<<2)>>2]}(h[n+12>>2],h[n+8>>2]),z=n+16|0,0|e}function dn(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=function(e){var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2]+324,z=t+16|0,h[h[e+12>>2]+4>>2]}(h[t+12>>2]),z=t+16|0,0|e}function vn(e,t){e|=0,t|=0;var n;return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],e=0|r[h[h[e>>2]+40>>2]](e,h[n+8>>2]),z=n+16|0,0|e}function gn(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=function(){var e,t;return z=e=z-80|0,!(0==m[22296])|1&a[22296]||(g[e+60>>2]=0,g[e+56>>2]=0,g[e+52>>2]=0,To(e- -64|0,e+60|0,e+56|0,e+52|0),lt(21620,e- -64|0),h[5574]=0,h[5574]=1|h[5574]),g[e+20>>2]=0,g[e+16>>2]=0,g[e+12>>2]=0,To(t=e+24|0,e+20|0,e+16|0,e+12|0),ac(21620,x(0),t),z=e+80|0,21620}(),z=t+16|0,0|e}function An(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+92|0}function yn(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+68>>2]](e,h[n+8>>2]),z=n+16|0}function xn(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+12>>2]](e,h[n+8>>2]),z=n+16|0}function bn(e){var t;h[12+(t=z-16|0)>>2]=e,e=h[t+12>>2],a[e+16|0]=1,h[e+12>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0}function Cn(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+4>>2]=h[e>>2],h[t+8>>2]=n,n=h[e+12>>2],h[t+12>>2]=h[e+8>>2],h[t+16>>2]=n}(h[n+12>>2],h[n+8>>2]),z=n+16|0}function Sn(e,t,n,i){var o,a,s,c=0;o=h[e+4>>2],a=e=h[e>>2],s=t,c=0,n&&(c=t=o>>8,1&o&&(c=h[t+h[n>>2]>>2])),r[h[h[e>>2]+28>>2]](a,s,c+n|0,2&o?i:2)}function En(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n,i=x(0);for(z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[n+4>>2]=0;h[n+4>>2]<3;)h[12+(t=z-16|0)>>2]=h[n+8>>2],i=us(g[h[t+12>>2]+(h[n+4>>2]<<2)>>2]),g[4+((e+868|0)+(h[n+4>>2]<<6)|0)>>2]=i,h[n+4>>2]=h[n+4>>2]+1;z=n+16|0}(h[n+12>>2],h[n+8>>2]),z=n+16|0}function wn(e){var t=0,n=x(0),i=0,o=0,r=x(0),a=x(0);u(e);e:{if((t=2147483647&(o=s(0)))>>>0>=1283457024){if(t>>>0>2139095040)break e;return x((0|o)<0?-1.570796251296997:1.570796251296997)}t:{if(t>>>0<=1054867455){if(i=-1,t>>>0>=964689920)break t;break e}if(e=x(b(e)),t>>>0<=1066926079){if(t>>>0<=1060110335){e=x(x(x(e+e)+x(-1))/x(e+x(2))),i=0;break t}e=x(x(e+x(-1))/x(e+x(1))),i=1}else t>>>0<=1075576831?(e=x(x(e+x(-1.5))/x(x(e*x(1.5))+x(1))),i=2):(e=x(x(-1)/e),i=3)}if(t=i,r=x(e*e),n=x(r*r),a=x(n*x(x(n*x(-.106480173766613))+x(-.19999158382415771))),n=x(r*x(x(n*x(x(n*x(.06168760731816292))+x(.14253635704517365)))+x(.333333283662796))),(0|t)<=-1)return x(e-x(e*x(a+n)));e=x(g[20528+(t<<=2)>>2]-x(x(x(e*x(a+n))-g[t+20544>>2])-e)),e=(0|o)<0?x(-e):e}return e}function Tn(e,t){var n,i=0,o=0,r=0,a=0,l=0;z=n=z-16|0,u(e);e:if((i=2147483647&(r=s(0)))>>>0<=1305022426){if(o=.6366197723675814*(a=+e)+6755399441055744-6755399441055744,A[t>>3]=a+-1.5707963109016418*o+-1.5893254773528196e-8*o,b(o)<2147483648){i=~~o;break e}i=-2147483648}else i>>>0>=2139095040?(A[t>>3]=x(e-e),i=0):(l=i,i=(i>>>23)-150|0,A[n+8>>3]=(c(0,l-(i<<23)|0),_()),i=function(e,t,n){var i=0,o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,m=0,d=0,v=0,g=0,x=0,C=0;if(z=a=z-560|0,p=(o=n)+y(d=(0|(n=(n+-3|0)/24|0))>0?n:0,-24)|0,(0|(u=h[4420]))>=0)for(o=u+1|0,n=d;A[(a+320|0)+(r<<3)>>3]=(0|n)<0?0:+h[17696+(n<<2)>>2],n=n+1|0,(0|o)!=(0|(r=r+1|0)););for(c=p+-24|0,o=0;;){for(n=0,i=0;i+=A[(n<<3)+e>>3]*A[(a+320|0)+(o-n<<3)>>3],1!=(0|(n=n+1|0)););if(A[(o<<3)+a>>3]=i,n=(0|o)<(0|u),o=o+1|0,!n)break}C=23-c|0,v=24-c|0,o=u;t:{for(;;){if(i=A[(o<<3)+a>>3],n=0,r=o,!(f=(0|o)<1))for(;l=(a+480|0)+(n<<2)|0,_=i,s=b(i*=5.960464477539063e-8)<2147483648?~~i:-2147483648,s=b(_+=-16777216*(i=+(0|s)))<2147483648?~~_:-2147483648,h[l>>2]=s,i=A[((r=r+-1|0)<<3)+a>>3]+i,(0|o)!=(0|(n=n+1|0)););i=cs(i,c),i+=-8*w(.125*i),i-=+(0|(l=b(i)<2147483648?~~i:-2147483648));n:{i:{o:{if(g=(0|c)<1){if(c)break o;s=h[476+((o<<2)+a|0)>>2]>>23}else m=r=(o<<2)+a|0,r=(s=h[r+476>>2])-((n=s>>v)<<v)|0,h[m+476>>2]=r,l=n+l|0,s=r>>C;if((0|s)<1)break n;break i}if(s=2,!(i>=.5)){s=0;break n}}if(n=0,r=0,!f)for(;;){f=h[(x=(a+480|0)+(n<<2)|0)>>2],m=16777215;i:{o:{if(!r){if(!f)break o;m=16777216,r=1}h[x>>2]=m-f;break i}r=0}if((0|o)==(0|(n=n+1|0)))break}g||(n=c+-1|0)>>>0>1||(h[476+(n=(o<<2)+a|0)>>2]=n-1?8388607&h[n+476>>2]:4194303&h[n+476>>2]),l=l+1|0,2==(0|s)&&(i=1-i,s=2,r&&(i-=cs(1,c)))}if(0!=i)break;if(r=0,!((0|(n=o))<=(0|u))){for(;r=h[(a+480|0)+((n=n+-1|0)<<2)>>2]|r,(0|n)>(0|u););if(r){for(p=c;p=p+-24|0,!h[(a+480|0)+((o=o+-1|0)<<2)>>2];);break t}}for(n=1;r=n,n=n+1|0,!h[(a+480|0)+(u-r<<2)>>2];);for(r=o+r|0;;){for(l=o+1|0,o=o+1|0,A[(a+320|0)+(l<<3)>>3]=h[17696+(d+o<<2)>>2],n=0,i=0;i+=A[(n<<3)+e>>3]*A[(a+320|0)+(l-n<<3)>>3],1!=(0|(n=n+1|0)););if(A[(o<<3)+a>>3]=i,!((0|o)<(0|r)))break}o=r}(i=cs(i,0-c|0))>=16777216?(e=(a+480|0)+(o<<2)|0,_=i,n=b(i*=5.960464477539063e-8)<2147483648?~~i:-2147483648,r=b(i=_+-16777216*+(0|n))<2147483648?~~i:-2147483648,h[e>>2]=r,o=o+1|0):(n=b(i)<2147483648?~~i:-2147483648,p=c),h[(a+480|0)+(o<<2)>>2]=n}if(i=cs(1,p),!((0|o)<=-1)){for(n=o;A[(n<<3)+a>>3]=i*+h[(a+480|0)+(n<<2)>>2],i*=5.960464477539063e-8,e=(0|n)>0,n=n+-1|0,e;);if(!((0|o)<=-1))for(n=o;;){for(e=n,c=o-n|0,i=0,n=0;i+=A[20464+(n<<3)>>3]*A[(e+n<<3)+a>>3],!((0|n)>=(0|u))&&(p=n>>>0<c>>>0,n=n+1|0,p););if(A[(a+160|0)+(c<<3)>>3]=i,n=e+-1|0,!((0|e)>0))break}}if(i=0,(0|o)>=0)for(;i+=A[(a+160|0)+(o<<3)>>3],e=(0|o)>0,o=o+-1|0,e;);return A[t>>3]=s?-i:i,z=a+560|0,7&l}(n+8|0,n,i),o=A[n>>3],(0|r)<=-1?(A[t>>3]=-o,i=0-i|0):A[t>>3]=o);return z=n+16|0,i}function Pn(e){var t=0;return t=m[e+74|0],a[e+74|0]=t+-1|t,8&(t=h[e>>2])?(h[e>>2]=32|t,-1):(h[e+4>>2]=0,h[e+8>>2]=0,t=h[e+44>>2],h[e+28>>2]=t,h[e+20>>2]=t,h[e+16>>2]=t+h[e+48>>2],0)}function In(e){var t,n=0,i=0;z=t=z-16|0,a[t+15|0]=10;e:{if(!(n=h[e+16>>2])){if(Pn(e))break e;n=h[e+16>>2]}i=h[e+20>>2],10==a[e+75|0]|i>>>0>=n>>>0?r[h[e+36>>2]](e,t+15|0,1):(h[e+20>>2]=i+1,a[0|i]=10)}z=t+16|0}function Rn(e,t,n){e:{if(!(t>>>0>20||(t=t+-9|0)>>>0>9)){switch(t-1|0){default:return t=h[n>>2],h[n>>2]=t+4,void(h[e>>2]=h[t>>2]);case 0:return t=h[n>>2],h[n>>2]=t+4,t=h[t>>2],h[e>>2]=t,void(h[e+4>>2]=t>>31);case 1:return t=h[n>>2],h[n>>2]=t+4,h[e>>2]=h[t>>2],void(h[e+4>>2]=0);case 3:return t=h[n>>2],h[n>>2]=t+4,t=f[t>>1],h[e>>2]=t,void(h[e+4>>2]=t>>31);case 4:return t=h[n>>2],h[n>>2]=t+4,h[e>>2]=d[t>>1],void(h[e+4>>2]=0);case 5:return t=h[n>>2],h[n>>2]=t+4,t=a[0|t],h[e>>2]=t,void(h[e+4>>2]=t>>31);case 6:return t=h[n>>2],h[n>>2]=t+4,h[e>>2]=m[0|t],void(h[e+4>>2]=0);case 2:case 7:break e;case 8:}r[738](e,n)}return}t=h[n>>2]+7&-8,h[n>>2]=t+8,n=h[t+4>>2],h[e>>2]=h[t>>2],h[e+4>>2]=n}function Nn(e){var t=0,n=0,i=0;if(a[h[e>>2]]+-48>>>0<10)for(;t=h[e>>2],i=a[0|t],h[e>>2]=t+1,n=(y(n,10)+i|0)-48|0,a[t+1|0]+-48>>>0<10;);return n}function Dn(e,t){var n,i,o=0;if(p(+e),o=0|s(1),n=0|s(0),i=o,2047!=(0|(o=o>>>20&2047))){if(!o)return o=t,0==e?t=0:(e=Dn(0x10000000000000000*e,t),t=h[t>>2]+-64|0),h[o>>2]=t,e;h[t>>2]=o+-1022,c(0,0|n),c(1,-2146435073&i|1071644672),e=+l()}return e}function Mn(e,t){return e?function(e,t){e:{if(e){if(t>>>0<=127)break e;if(h[h[5306]>>2]){if(t>>>0<=2047)return a[e+1|0]=63&t|128,a[0|e]=t>>>6|192,2;if(!(57344!=(-8192&t)&&t>>>0>=55296))return a[e+2|0]=63&t|128,a[0|e]=t>>>12|224,a[e+1|0]=t>>>6&63|128,3;if(t+-65536>>>0<=1048575)return a[e+3|0]=63&t|128,a[0|e]=t>>>18|240,a[e+2|0]=t>>>6&63|128,a[e+1|0]=t>>>12&63|128,4}else if(57216==(-128&t))break e;h[6659]=25,e=-1}else e=1;return e}return a[0|e]=t,1}(e,t):0}function On(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0,i=x(0);for(z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[n+4>>2]=0;h[n+4>>2]<3;)h[12+(t=z-16|0)>>2]=h[n+8>>2],i=us(g[h[t+12>>2]+(h[n+4>>2]<<2)>>2]),g[(e+868|0)+(h[n+4>>2]<<6)>>2]=i,h[n+4>>2]=h[n+4>>2]+1;z=n+16|0}(h[n+12>>2],h[n+8>>2]),z=n+16|0}function Ln(e,t,n){var i,o=0,s=0,l=0,p=0,u=0,f=0,d=0,v=0,A=0,C=0,S=0,E=0,w=0,T=0,P=0;if(z=i=z-144|0,(0|n)<=0)(t=h[e+12>>2])&&(m[e+16|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+12>>2]=0),h[e+12>>2]=0,a[e+16|0]=1,h[e+4>>2]=0,h[e+8>>2]=0,(t=h[e+32>>2])&&(m[e+36|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+32>>2]=0),h[e+32>>2]=0,h[e+24>>2]=0,h[e+28>>2]=0,a[e+36|0]=1,(t=h[e+52>>2])&&(m[e+56|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+52>>2]=0),h[e+52>>2]=0,h[e+44>>2]=0,h[e+48>>2]=0,a[e+56|0]=1;else{if(a[i+112|0]=1,h[i+88>>2]=0,h[i+92>>2]=256,h[i+72>>2]=0,h[i+76>>2]=256,h[i+56>>2]=0,h[i+60>>2]=256,h[i+108>>2]=0,h[i+100>>2]=0,h[i+104>>2]=0,h[i+80>>2]=0,h[i+84>>2]=0,h[i+64>>2]=0,h[i+68>>2]=0,h[i+48>>2]=0,h[i+52>>2]=0,function(e,t,n){var i=0,o=0,s=0,l=0,p=0,u=x(0),f=0,d=0,v=x(0),A=x(0),C=0,S=0,E=0,w=x(0),T=x(0),P=x(0),I=0,R=0,N=x(0),D=x(0),M=x(0);if(z=o=z-48|0,l=-246811958,p=1900671690,(0|n)>0)for(i=t,S=1900671690,d=1900671690,s=-246811958,f=-246811958;E=h[i+8>>2],u=g[i+8>>2],c(0,l),l=_()<u?E:l,I=h[i+4>>2],v=g[i+4>>2],c(0,s),s=_()<v?I:s,C=h[i>>2],A=g[i>>2],c(0,f),f=_()<A?C:f,p=u<(c(0,p),_())?E:p,S=v<(c(0,S),_())?I:S,d=A<(c(0,d),_())?C:d,i=i+16|0,(0|(R=R+1|0))!=(0|n););else f=-246811958,s=-246811958,d=1900671690,S=1900671690;if(c(0,s),w=_(),c(0,S),T=_(),u=x(w-T),c(0,l),P=_(),c(0,p),N=_(),l=u<(v=x(P-N)),c(0,f),D=_(),c(0,d),M=_(),s=(A=x(D-M))<v,i=(p=A<u)?l?2:1:s<<1,h[e+112>>2]=i,(0|i)==(0|(f=p?(1^s)<<1:l?1:2))&&(f=(i+1>>>0)%3|0),h[e+104>>2]=f,l=0,h[e+12>>2]=0,h[e+28>>2]=0,s=(3^i)-f|0,h[e+108>>2]=s,g[e+24>>2]=x(P+N)*x(.5),g[e+20>>2]=x(w+T)*x(.5),g[e+16>>2]=x(D+M)*x(.5),v=x((i=(0|i)==((s+1|0)%3|0))?v*x(9788566967472434e-20):v*x(-9788566967472434e-20)),g[e+8>>2]=v,u=x(i?u*x(9788566967472434e-20):u*x(-9788566967472434e-20)),g[e+4>>2]=u,A=x(i?A*x(9788566967472434e-20):A*x(-9788566967472434e-20)),g[e>>2]=A,h[o+36>>2]=0,a[o+40|0]=1,h[o+28>>2]=0,h[o+32>>2]=0,d=v!=x(0),w=x(x(1)/v),S=u!=x(0),T=x(x(1)/u),E=A!=x(0),P=x(x(1)/A),!((0|n)<1)){h[6657]=h[6657]+1,i=0|r[h[5255]](n<<4,16),s=h[o+36>>2];e:{t:{if((0|(I=h[o+28>>2]))>=1)for(;;)if(f=(p=l<<4)+i|0,R=h[4+(p=s+p|0)>>2],h[f>>2]=h[p>>2],h[f+4>>2]=R,C=h[p+12>>2],h[f+8>>2]=h[p+8>>2],h[f+12>>2]=C,(0|I)==(0|(l=l+1|0)))break t;if(!s)break e}m[o+40|0]&&s&&(h[6658]=h[6658]+1,r[h[5256]](s)),h[o+36>>2]=0}if(h[o+36>>2]=i,l=1,a[o+40|0]=1,h[o+32>>2]=n,s=h[o+12>>2],h[i>>2]=h[o+8>>2],h[i+4>>2]=s,s=h[o+20>>2],h[i+8>>2]=h[o+16>>2],h[i+12>>2]=s,1!=(0|n))for(;s=h[o+12>>2],i=h[o+36>>2]+(l<<4)|0,h[i>>2]=h[o+8>>2],h[i+4>>2]=s,s=h[o+20>>2],h[i+8>>2]=h[o+16>>2],h[i+12>>2]=s,(0|(l=l+1|0))!=(0|n););}if(v=d?w:v,w=S?T:u,A=E?P:A,h[o+28>>2]=n,!((0|n)<1)){for(f=(o+8|0)+(h[e+104>>2]<<2)|0,d=(o+8|0)+(h[e+112>>2]<<2)|0,S=(o+8|0)+(h[e+108>>2]<<2)|0,T=g[e+24>>2],P=g[e+20>>2],N=g[e+16>>2],E=h[o+36>>2],p=0;u=g[t>>2],D=g[t+4>>2],M=g[t+8>>2],h[o+20>>2]=0,g[o+16>>2]=v*x(M-T),g[o+12>>2]=w*x(D-P),g[o+8>>2]=A*x(u-N),l=i=E+(p<<4)|0,u=g[S>>2],C=x(b(u))<x(2147483648)?~~u:-2147483648,h[l>>2]=C,l=i,u=g[d>>2],C=x(b(u))<x(2147483648)?~~u:-2147483648,h[l+4>>2]=C,u=g[f>>2],h[i+12>>2]=p,l=x(b(u))<x(2147483648)?~~u:-2147483648,h[i+8>>2]=l,t=t+16|0,(0|(p=p+1|0))!=(0|n););(0|n)<2||Uc(o+24|0,o+8|0,0,n+-1|0)}if(h[e+44>>2]=n,h[e+40>>2]=0,h[e+36>>2]=h[e+32>>2],(0|(t=h[e+84>>2]))<(0|n)){if(h[e+88>>2]<(0|n)){if(n?(h[6657]=h[6657]+1,f=0|r[h[5255]](n<<2,16),i=h[e+84>>2]):(f=0,i=t),(0|i)>=1)for(l=0;h[(s=l<<2)+f>>2]=h[s+h[e+92>>2]>>2],(0|i)!=(0|(l=l+1|0)););(i=h[e+92>>2])&&(m[e+96|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[e+92>>2]=0),h[e+92>>2]=f,h[e+88>>2]=n,a[e+96|0]=1}for(;h[h[e+92>>2]+(t<<2)>>2]=0,(0|n)!=(0|(t=t+1|0)););}if(h[e+84>>2]=n,(0|n)>=1)for(d=0;;){if(!((s=h[e+40>>2])||((p=h[e+36>>2])?h[e+36>>2]=h[p+8>>2]:(h[6657]=h[6657]+1,p=0|r[h[5255]](12,16),t=h[e+44>>2],h[p+8>>2]=0,h[p+4>>2]=t,h[6657]=h[6657]+1,h[p>>2]=r[h[5255]](y(t,112),16),h[p+8>>2]=h[e+32>>2],h[e+32>>2]=p),t=0,l=s=h[p>>2],(0|(i=h[p+4>>2]))<1)))for(;C=l,l=l+112|0,t=t+1|0,h[C>>2]=(0|t)<(0|i)?l:0,(0|t)!=(0|i););if(h[e+40>>2]=h[s>>2],h[s+16>>2]=0,h[s>>2]=0,h[s+4>>2]=0,h[s+104>>2]=-1,h[s+8>>2]=0,h[s+12>>2]=0,t=h[o+36>>2]+(d<<4)|0,i=h[t+4>>2],h[s+88>>2]=h[t>>2],h[s+92>>2]=i,i=h[t+12>>2],h[s+96>>2]=h[t+8>>2],h[s+100>>2]=i,h[s+104>>2]=-1,h[h[e+92>>2]+(d<<2)>>2]=s,(0|(d=d+1|0))==(0|n))break}(t=h[o+36>>2])&&(m[o+40|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[o+36>>2]=0),h[o+36>>2]=0,a[o+40|0]=1,h[o+28>>2]=0,h[o+32>>2]=0,h[e+100>>2]=-3,h[e+56>>2]=0,h[e+60>>2]=y(n,6),h[e+116>>2]=0,h[e+120>>2]=0,h[e+52>>2]=h[e+48>>2],h[o+16>>2]=0,h[o+20>>2]=0,h[o+8>>2]=0,h[o+12>>2]=0,kc(e,0,n,o+8|0),h[e+124>>2]=h[o+8>>2],(e=h[o+36>>2])&&(m[o+40|0]&&e&&(h[6658]=h[6658]+1,r[h[5256]](e)),h[o+36>>2]=0),z=o+48|0}(i+16|0,t,n),(0|(n=h[e+4>>2]))<=-1)for(h[e+8>>2]<=-1&&((t=h[e+12>>2])&&(m[e+16|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+12>>2]=0),a[e+16|0]=1,h[e+8>>2]=0,h[e+12>>2]=0);t=h[i+4>>2],o=h[e+12>>2]+(n<<4)|0,h[o>>2]=h[i>>2],h[o+4>>2]=t,t=h[i+12>>2],h[o+8>>2]=h[i+8>>2],h[o+12>>2]=t,o=(t=n+1|0)>>>0>=n>>>0,n=t,o;);if(h[e+4>>2]=0,h[i+8>>2]=0,h[i>>2]=0,h[i+4>>2]=0,(0|(n=h[e+24>>2]))<=-1)for(h[e+28>>2]<=-1&&((t=h[e+32>>2])&&(m[e+36|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+32>>2]=0),h[e+28>>2]=0,h[e+32>>2]=0,a[e+36|0]=1);t=h[i+4>>2],o=h[e+32>>2]+y(n,12)|0,h[o>>2]=h[i>>2],h[o+4>>2]=t,h[o+8>>2]=h[i+8>>2],o=(t=n+1|0)>>>0>=n>>>0,n=t,o;);if(h[e+24>>2]=0,(0|(n=h[e+44>>2]))<=-1&&(t=h[e+52>>2],h[e+48>>2]<=-1&&(!t|!m[e+56|0]||t&&(h[6658]=h[6658]+1,r[h[5256]](t)),a[e+56|0]=1,h[e+48>>2]=0,h[e+52>>2]=0,t=0),Co((o=t)+(t=n<<2)|0,0,0-t|0)),h[e+44>>2]=0,t=h[i+140>>2],!(h[t+104>>2]>-1)){for(h[t+104>>2]=0,h[6657]=h[6657]+1,S=0|r[h[5255]](4,16),h[S>>2]=t,n=0,f=1,v=1,T=S;;){if(P=n,so(i,i+16|0,l=h[(n<<2)+S>>2]),(0|(o=h[e+4>>2]))==h[e+8>>2]&&!((0|o)>=(0|(E=o?o<<1:1)))){if(n=0,s=0,E&&(h[6657]=h[6657]+1,s=0|r[h[5255]](E<<4,16),o=h[e+4>>2]),(0|o)>=1)for(;u=(t=n<<4)+s|0,p=t+h[e+12>>2]|0,t=h[p+4>>2],h[u>>2]=h[p>>2],h[u+4>>2]=t,t=h[p+12>>2],h[u+8>>2]=h[p+8>>2],h[u+12>>2]=t,(0|o)!=(0|(n=n+1|0)););(t=h[e+12>>2])&&(m[e+16|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+12>>2]=0),h[e+12>>2]=s,a[e+16|0]=1,h[e+8>>2]=E,o=h[e+4>>2]}if(t=h[i+4>>2],n=h[e+12>>2]+(o<<4)|0,h[n>>2]=h[i>>2],h[n+4>>2]=t,t=h[i+12>>2],h[n+8>>2]=h[i+8>>2],h[n+12>>2]=t,h[e+4>>2]=h[e+4>>2]+1,w=-1,u=-1,t=E=h[l+8>>2]){for(;;){if((0|(n=h[t+20>>2]))<=-1){if(o=h[e+24>>2],h[i+8>>2]=0,h[i>>2]=0,h[i+4>>2]=0,(0|(n=o))==h[e+28>>2]&&!((0|o)>=(0|(d=n?n<<1:1)))){if(n=0,s=o,l=0,d&&(h[6657]=h[6657]+1,l=0|r[h[5255]](y(d,12),16),s=h[e+24>>2]),(0|s)>=1)for(;A=(p=y(n,12))+h[e+32>>2]|0,C=l+p|0,p=h[A+4>>2],h[C>>2]=h[A>>2],h[C+4>>2]=p,h[C+8>>2]=h[A+8>>2],(0|s)!=(0|(n=n+1|0)););(n=h[e+32>>2])&&(m[e+36|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+32>>2]=0),h[e+32>>2]=l,a[e+36|0]=1,h[e+28>>2]=d,n=h[e+24>>2]}if(s=h[e+32>>2]+y(n,12)|0,n=h[i+4>>2],h[s>>2]=h[i>>2],h[s+4>>2]=n,h[s+8>>2]=h[i+8>>2],s=h[e+24>>2]+1|0,h[e+24>>2]=s,h[i+8>>2]=0,h[i>>2]=0,h[i+4>>2]=0,h[e+28>>2]==(0|s)&&!((0|s)>=(0|(d=s?s<<1:1)))){if(n=0,l=0,d&&(h[6657]=h[6657]+1,l=0|r[h[5255]](y(d,12),16),s=h[e+24>>2]),(0|s)>=1)for(;A=(p=y(n,12))+h[e+32>>2]|0,C=l+p|0,p=h[A+4>>2],h[C>>2]=h[A>>2],h[C+4>>2]=p,h[C+8>>2]=h[A+8>>2],(0|s)!=(0|(n=n+1|0)););(n=h[e+32>>2])&&(m[e+36|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+32>>2]=0),h[e+32>>2]=l,a[e+36|0]=1,h[e+28>>2]=d,s=h[e+24>>2]}if(n=h[i+4>>2],s=h[e+32>>2]+y(s,12)|0,h[s>>2]=h[i>>2],h[s+4>>2]=n,h[s+8>>2]=h[i+8>>2],h[e+24>>2]=h[e+24>>2]+1,d=h[e+32>>2],h[t+20>>2]=o,p=o+1|0,h[h[t+8>>2]+20>>2]=p,A=y(o,12)+d|0,h[A+16>>2]=-1,h[A+4>>2]=1,C=h[t+12>>2],(0|(n=h[C+104>>2]))>-1)s=f,f=n;else{if(h[C+104>>2]=f,(0|f)!=(0|v)||(0|v)>=(0|(l=v?v<<1:1)))o=T,l=v;else{n=0,o=0,l&&(h[6657]=h[6657]+1,o=0|r[h[5255]](l<<2,16));e:{t:{if((0|v)>=1)for(;;)if(h[(s=n<<2)+o>>2]=h[s+S>>2],(0|v)==(0|(n=n+1|0)))break t;if(!S)break e}T&&(h[6658]=h[6658]+1,r[h[5256]](T))}S=o}h[(f<<2)+S>>2]=C,s=f+1|0,T=o,v=l}h[A+8>>2]=f,h[8+(y(p,12)+d|0)>>2]=P,f=s,n=h[t+20>>2]}if((0|u)>=0?h[h[e+32>>2]+y(n,12)>>2]=u-n:w=n,u=n,(0|E)==(0|(t=h[t>>2])))break}h[h[e+32>>2]+y(w,12)>>2]=u-w}if(!((0|(n=P+1|0))<(0|f)))break}for(f=0;;){if(t=l=h[h[(f<<2)+S>>2]+8>>2])for(;;){if((0|(n=h[t+20>>2]))>=0){if((0|(o=h[e+44>>2]))==h[e+48>>2]&&!((0|o)>=(0|(u=o?o<<1:1)))){n=0,s=0,u&&(h[6657]=h[6657]+1,s=0|r[h[5255]](u<<2,16),o=h[e+44>>2]),w=h[e+52>>2];e:{t:{if((0|o)>=1)for(;;)if(h[(v=n<<2)+s>>2]=h[v+w>>2],(0|o)==(0|(n=n+1|0)))break t;if(!w)break e}m[e+56|0]&&(n=w)&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+52>>2]=0,o=h[e+44>>2]}h[e+52>>2]=s,a[e+56|0]=1,h[e+48>>2]=u,n=h[t+20>>2]}for(h[h[e+52>>2]+(o<<2)>>2]=n,h[e+44>>2]=h[e+44>>2]+1,n=t;h[n+20>>2]=-1,(0|(n=h[h[n+8>>2]+4>>2]))!=(0|t););}if((0|l)==(0|(t=h[t>>2])))break}if(t=(0|f)==(0|P),f=f+1|0,t)break}S&&T&&(h[6658]=h[6658]+1,r[h[5256]](T))}!function(e){var t=0,n=0;for((t=h[e+92>>2])&&(m[e+96|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+92>>2]=0),h[e+92>>2]=0,h[e+84>>2]=0,h[e+88>>2]=0,a[e+96|0]=1;t=h[e+64>>2];)h[e+64>>2]=h[t+8>>2],(n=h[t>>2])&&(h[6658]=h[6658]+1,r[h[5256]](n)),t&&(h[6658]=h[6658]+1,r[h[5256]](t));for(;t=h[e+48>>2];)h[e+48>>2]=h[t+8>>2],(n=h[t>>2])&&(h[6658]=h[6658]+1,r[h[5256]](n)),t&&(h[6658]=h[6658]+1,r[h[5256]](t));for(;t=h[e+32>>2];)h[e+32>>2]=h[t+8>>2],(n=h[t>>2])&&(h[6658]=h[6658]+1,r[h[5256]](n)),t&&(h[6658]=h[6658]+1,r[h[5256]](t))}(i+16|0)}z=i+144|0}function zn(e,t,n,i,o,r,a){var s,c=0,l=0,p=0,u=0,_=0,f=0,m=0,d=0,v=0,g=0,A=0,y=0;if(z=s=z-48|0,c=h[n+8>>2])for(d=c;;){if(h[d+20>>2]>h[e+100>>2]){c=h[d+12>>2],_=h[c+92>>2],f=h[c+96>>2],p=h[n+88>>2],u=h[c+88>>2],l=h[n+92>>2],c=h[n+96>>2],h[s+44>>2]=-1,m=f-c|0,h[s+40>>2]=m,l=_-l|0,h[s+36>>2]=l,c=u-p|0,h[s+32>>2]=c,p=zl(f=l,g=l>>31,h[(l=o)+8>>2],h[l+12>>2]),u=F,_=p,p=c,l=_+(c=zl(c,A=c>>31,h[l>>2],h[l+4>>2]))|0,_=F+u|0,_=l>>>0<c>>>0?_+1|0:_,m=(c=zl(u=m,y=u>>31,h[o+16>>2],h[o+20>>2]))+l|0,l=F+_|0,l=m>>>0<c>>>0?l+1|0:l,c=m,_=zl(h[(m=r)+8>>2],h[m+12>>2],f,g),f=F,p=zl(h[m>>2],h[m+4>>2],p,A),f=F+f|0,f=(m=p+_|0)>>>0<p>>>0?f+1|0:f,u=zl(h[r+16>>2],h[r+20>>2],u,y),_=F+f|0,_=(p=u+m|0)>>>0<u>>>0?_+1|0:_,u=p,(0|(p=_))>0||(0|p)>=0&&!(u>>>0<1)?(h[s+8>>2]=u,h[s+12>>2]=p,h[s+24>>2]=1,f=-1,u=-1):(0|p)<-1||(0|p)<=-1&&!(u>>>0>4294967295)?(h[s+24>>2]=-1,h[s+8>>2]=0-u,h[s+12>>2]=0-((0<u>>>0)+p|0),f=1,u=-1):(h[s+8>>2]=0,h[s+12>>2]=0,h[s+24>>2]=0,f=0,u=0);e:{t:{n:{if(p=s,m=s,(0|l)<0||(0|l)<=0&&!(c>>>0>0)){if((0|l)>-1||(0|l)>=-1&&!(c>>>0<=4294967295))break n;h[s+24>>2]=f,l=0-((0<c>>>0)+l|0)|0,c=0-c|0}h[m+16>>2]=c,h[p+20>>2]=l;break t}if(h[s+16>>2]=0,h[s+20>>2]=0,!u)break e}v?(0|(c=ea(s+8|0,a)))<=-1?(c=h[s+12>>2],h[a>>2]=h[s+8>>2],h[a+4>>2]=c,h[a+16>>2]=h[s+24>>2],c=h[s+20>>2],h[a+8>>2]=h[s+16>>2],h[a+12>>2]=c,v=d):c||(v=2!=(0|jc(v,d,i,s+32|0))^t?d:v):(c=h[s+12>>2],h[a>>2]=h[s+8>>2],h[a+4>>2]=c,h[a+16>>2]=h[s+24>>2],c=h[s+20>>2],h[a+8>>2]=h[s+16>>2],h[a+12>>2]=c,v=d)}c=h[n+8>>2]}if((0|(d=h[d>>2]))==(0|c))break}return z=s+48|0,v}function Fn(e,t,n,i,o){var r,a,s,c,l,p,u,_,f,m,d,v,g,A,x=0,b=0,C=0,S=0,E=0,w=0,T=0,P=0,I=0,R=0,N=0,D=0,M=0,O=0,L=0,B=0,U=0,j=0,k=0,G=0,H=0,V=0,W=0,q=0,Y=0,X=0,Q=0,Z=0;if(z=r=z-48|0,M=h[o>>2],N=t,(H=h[i>>2])&&(N=h[H+12>>2]),k=h[N+96>>2],w=h[t+96>>2],v=h[n+96>>2]-w|0,x=h[(H||M)+12>>2],T=h[t+92>>2],b=h[x+92>>2]-T|0,E=n,p=h[n+92>>2]-T|0,L=h[x+96>>2]-w|0,P=zl(u=n=y(v,b)-y(p,L)|0,_=n>>31,n=v,B=n>>31),j=F,S=h[t+88>>2],C=h[x+88>>2]-S|0,g=h[E+88>>2]-S|0,x=zl(f=t=y(C,p)-y(b,g)|0,m=t>>31,t=g,I=t>>31),b=zl(a=P-x|0,s=j-(F+(P>>>0<x>>>0)|0)|0,P=Y=h[N+92>>2],P>>31),j=F,x=zl(f,m,P=p,V=P>>31),q=F,R=b,A=b=y(t,L)-y(n,C)|0,n=zl(b,d=b>>31,n,B),x=zl(c=x-n|0,q=q-(F+(x>>>0<n>>>0)|0)|0,n=N=h[N+88>>2],n>>31),b=F+j|0,b=(n=R+x|0)>>>0<x>>>0?b+1|0:b,t=zl(t,I,A,d),x=F,R=n,n=zl(P,V,u,_),n=zl(V=t-n|0,l=x-(F+(t>>>0<n>>>0)|0)|0,k,k>>31),x=F+b|0,P=t=R+n|0,n=t>>>0<n>>>0?x+1|0:x,t=zl(u,_,S,S>>31),x=F,w=zl(f,m,w,w>>31),x=F+x|0,x=(t=w+t|0)>>>0<w>>>0?x+1|0:x,w=zl(A,d,T,T>>31),x=F+x|0,G=t=w+t|0,I=t>>>0<w>>>0?x+1|0:x,E=M?h[M+12>>2]:E,L=h[E+96>>2],B=h[E+92>>2],j=h[E+88>>2],t=M,H&&(t=M,h[H+12>>2])){t=h[h[H+8>>2]+4>>2],S=h[t+12>>2],E=zl(T=w=h[(x=S)+92>>2],w>>=31,A,d),b=F,R=E,U=x=h[x+88>>2],E=zl(x,O=x>>31,u,_),b=F+b|0,b=(x=R+E|0)>>>0<E>>>0?b+1|0:b,C=x,R=x=h[S+96>>2],E=zl(x,D=x>>31,f,m),x=F+b|0;e:if(!((0|(x=(S=C+E|0)>>>0<E>>>0?x+1|0:x))<(0|I)||(0|x)<=(0|I)&&!(S>>>0>=G>>>0))){for(E=t+12|0,W=h[e+100>>2];;){if((0|W)==h[t+20>>2])break e;if(x=zl(T,w,a,s),T=F,w=(S=zl(U,O,c,q))+x|0,x=F+T|0,x=w>>>0<S>>>0?x+1|0:x,T=zl(R,D,V,l),b=F+x|0,(0|(x=b=(w=T+w|0)>>>0<T>>>0?b+1|0:b))<(0|n)||(0|x)<=(0|n)&&!(w>>>0>P>>>0))break e;if(h[i>>2]=t,n=h[E>>2],k=h[n+96>>2],Y=h[n+92>>2],N=h[n+88>>2],!n)break;if(E=(t=h[h[t+8>>2]+4>>2])+12|0,P=w,n=x,b=h[t+12>>2],S=zl(T=w=h[(x=b)+92>>2],w>>=31,A,d),C=F,U=x=h[x+88>>2],R=zl(x,O=x>>31,u,_),x=F+C|0,x=(S=R+S|0)>>>0<R>>>0?x+1|0:x,C=S,R=S=h[b+96>>2],S=C+(b=zl(S,D=S>>31,f,m))|0,C=F+x|0,(0|(C=S>>>0<b>>>0?C+1|0:C))<(0|I)||(0|C)<=(0|I)&&!(S>>>0>=G>>>0))break e}P=w,n=x}t=h[o>>2]}x=zl(a,s,B,B>>31),w=F,T=zl(c,q,j,j>>31),b=F+w|0,b=(x=T+x|0)>>>0<T>>>0?b+1|0:b,w=(T=zl(V,l,L,L>>31))+x|0,x=F+b|0,x=w>>>0<T>>>0?x+1|0:x,T=w,w=x;e:if(t){if(h[t+12>>2]&&(E=h[h[t+8>>2]>>2],S=h[E+12>>2],U=b=h[(x=S)+92>>2],b=zl(b,O=b>>31,A,d),C=F,X=b,R=x=h[x+88>>2],b=zl(x,D=x>>31,u,_),C=F+C|0,C=(x=X+b|0)>>>0<b>>>0?C+1|0:C,X=x,b=x=h[S+96>>2],Q=zl(x,W=x>>31,f,m),x=F+C|0,!((0|(x=(S=X+Q|0)>>>0<Q>>>0?x+1|0:x))<(0|I)||(0|x)<=(0|I)&&!(S>>>0>=G>>>0)))){for(Q=E+12|0,Z=h[e+100>>2];;){if((0|Z)==h[(S=E)+20>>2])break e;if(x=zl(U,O,a,s),C=F,E=(U=zl(R,D,c,q))+x|0,x=F+C|0,x=E>>>0<U>>>0?x+1|0:x,b=zl(V,l,b,W),C=F+x|0,C=(E=b+E|0)>>>0<b>>>0?C+1|0:C,b=E,(0|(x=C))<(0|w)||(0|x)<=(0|w)&&!(b>>>0>T>>>0))break e;if(h[o>>2]=S,t=h[Q>>2],L=h[t+96>>2],B=h[t+92>>2],j=h[t+88>>2],!t)break;if(Q=(E=h[h[S+8>>2]>>2])+12|0,T=b,w=x,t=S,b=h[E+12>>2],U=S=h[(x=b)+92>>2],S=zl(S,O=S>>31,A,d),C=F,R=x=h[x+88>>2],W=zl(x,D=x>>31,u,_),x=F+C|0,x=(S=W+S|0)>>>0<W>>>0?x+1|0:x,X=S,C=zl(b=S=h[b+96>>2],W=b>>31,f,m),x=F+x|0,(0|(x=(S=X+C|0)>>>0<C>>>0?x+1|0:x))<(0|I)||(0|x)<=(0|I)&&!(S>>>0>=G>>>0))break e}t=S,T=b,w=x}}else t=0;e:{if(n=w-((T>>>0<P>>>0)+n|0)|0,P=T-P|0,(0|n)>0||(0|n)>=0&&!(P>>>0<1))for(;;){w=t=I=(y(B-Y|0,p)+y(j-N|0,g)|0)+y(L-k|0,v)|0,U=t>>31;t:if(!(!(O=h[i>>2])|!h[O+12>>2]||(R=h[h[O>>2]+8>>2],h[R+20>>2]<=h[e+100>>2]))){t=h[R+12>>2],x=(T=h[t+92>>2])-Y|0,b=(S=h[t+88>>2])-N|0,t=(E=h[t+96>>2])-k|0,M=(y(x,p)+y(b,g)|0)+y(t,v)|0,x=zl(a,s,x,x>>31),C=F,b=(D=zl(c,q,b,b>>31))+x|0,x=F+C|0,x=b>>>0<D>>>0?x+1|0:x,C=b,b=zl(V,l,t,t>>31),x=F+x|0,x=(t=C+b|0)>>>0<b>>>0?x+1|0:x,b=t,C=x;n:{if(!(x|t)){if((0|M)<0)break n;break t}if((0|C)>-1||(0|C)>=-1&&!(b>>>0<=4294967295))break t;if(D=(t=M)>>31,x=r,(0|t)>=1?(h[r+24>>2]=t,h[r+28>>2]=D,h[r+40>>2]=1,t=-1):(0|M)<=-1?(h[r+40>>2]=-1,h[r+24>>2]=0-t,h[r+28>>2]=0-((0<t>>>0)+D|0),t=1):(h[r+24>>2]=0,h[r+28>>2]=0,h[r+40>>2]=0,t=0),h[x+40>>2]=t,h[r+32>>2]=0-b,h[r+36>>2]=0-((0<b>>>0)+C|0),(0|I)>=1?(h[r>>2]=w,h[r+4>>2]=U,h[r+16>>2]=1,b=-1):(0|I)<=-1?(h[r+16>>2]=-1,t=w,h[r>>2]=0-t,h[r+4>>2]=0-((0<t>>>0)+U|0),b=1):(h[r>>2]=0,h[r+4>>2]=0,h[r+16>>2]=0,b=0),M=r,t=P,C=x=n,(0|x)>0||(0|x)>=0&&!(t>>>0<=0)||(t=0,C=0,(0|n)>-1||(0|n)>=-1&&!(P>>>0<=4294967295)||(h[r+16>>2]=b,t=0-(x=P)|0,C=0-((0<x>>>0)+n|0)|0)),x=C,h[M+8>>2]=t,h[M+12>>2]=x,(0|ea(r+24|0,r))<=-1)break t}h[i>>2]=(0|O)==(0|H)?0:R,t=zl(a,s,t=B-T|0,t>>31),n=F,t=(x=t)+(P=zl(c,q,t=j-S|0,t>>31))|0,x=F+n|0,x=t>>>0<P>>>0?x+1|0:x,b=t,n=zl(V,l,t=L-E|0,t>>31),x=F+x|0,P=t=b+n|0,n=t>>>0<n>>>0?x+1|0:x,N=S,Y=T,k=E;continue}if(!(t=h[o>>2])|!h[t+12>>2])break e;if(O=h[h[t+8>>2]>>2],h[O+20>>2]<=h[e+100>>2])break e;if(t=h[O+12>>2],E=x=S=(T=h[t+92>>2])-B|0,x=zl(x,M=x>>31,A,d),b=F,C=x,R=x=j=(B=h[t+88>>2])-j|0,x=C+(G=zl(x,D=x>>31,u,_))|0,C=F+b|0,C=x>>>0<G>>>0?C+1|0:C,b=x,G=t=L=(x=h[t+96>>2])-L|0,(0|b)!=(0-(t=zl(f,m,t,W=t>>31))|0)|(0-(F+(0<t>>>0)|0)|0)!=(0|C))break e;if(t=zl(a,s,t=T-Y|0,t>>31),T=F,t=(b=t)+(B=zl(c,q,t=B-N|0,t>>31))|0,b=F+T|0,b=t>>>0<B>>>0?b+1|0:b,C=t,T=zl(V,l,t=x-k|0,t>>31),x=F+b|0,x=(t=C+T|0)>>>0<T>>>0?x+1|0:x,T=t,t=x,(0|x)<0||(0|x)<=0&&!(T>>>0>=1))break e;S=(y(S,p)+y(j,g)|0)+y(L,v)|0,x=zl(E,M,a,s),M=F,E=(b=zl(R,D,c,q))+x|0,x=F+M|0,x=E>>>0<b>>>0?x+1|0:x,M=zl(V,l,G,W),x=F+x|0,M=x=(E=M+E|0)>>>0<M>>>0?x+1|0:x;t:{if(!(x|E)){if((0|S)<0)break t;break e}if((0|M)>-1||(0|M)>=-1&&!(E>>>0<=4294967295))break e;if(L=(x=S)>>31,b=r,(0|x)>=1?(h[r+24>>2]=x,h[r+28>>2]=L,h[r+40>>2]=1,x=-1):(0|S)<=-1?(h[r+40>>2]=-1,h[r+24>>2]=0-x,h[r+28>>2]=0-((0<x>>>0)+L|0),x=1):(h[r+24>>2]=0,h[r+28>>2]=0,h[r+40>>2]=0,x=0),h[b+40>>2]=x,h[r+32>>2]=0-E,h[r+36>>2]=0-((0<E>>>0)+M|0),(0|I)>=1?(h[r>>2]=w,h[r+4>>2]=U,h[r+16>>2]=1,E=-1):(0|I)<=-1?(h[r+16>>2]=-1,h[r>>2]=0-w,h[r+4>>2]=0-((0<w>>>0)+U|0),E=1):(h[r>>2]=0,h[r+4>>2]=0,h[r+16>>2]=0,E=0),S=r,b=r,w=n,R=x=P,(0|n)>0||(0|n)>=0&&!(x>>>0<=0)||(w=0,R=0,(0|n)>-1||(0|n)>=-1&&!(P>>>0<=4294967295)||(h[r+16>>2]=E,w=0-((0<P>>>0)+n|0)|0,R=0-P|0)),h[b+8>>2]=R,h[S+12>>2]=w,(0|ea(r+24|0,r))<=0)break e}h[o>>2]=O,n=h[O+12>>2],L=h[n+96>>2],B=h[n+92>>2],j=h[n+88>>2],P=T,n=t}if(!((0|n)>-1||(0|n)>=-1&&!(P>>>0<=4294967295)))for(;;){T=x=U=(y(B-Y|0,p)+y(j-N|0,g)|0)+y(L-k|0,v)|0,O=x>>31;t:if(!(!t|!h[t+12>>2]||(R=h[h[t+4>>2]+8>>2],h[R+20>>2]<=h[e+100>>2]))){x=h[R+12>>2],C=(w=h[x+92>>2])-B|0,I=(S=h[x+88>>2])-j|0,H=(E=h[x+96>>2])-L|0,b=(y(C,p)+y(I,g)|0)+y(H,v)|0,x=zl(a,s,C,C>>31),D=F,C=(I=zl(c,q,I,I>>31))+x|0,x=F+D|0,x=C>>>0<I>>>0?x+1|0:x,I=zl(V,l,H,H>>31),x=F+x|0,I=x=(C=I+C|0)>>>0<I>>>0?x+1|0:x;n:{if(!(x|C)){if((0|b)>0)break n;break t}if((0|I)>-1||(0|I)>=-1&&!(C>>>0<=4294967295))break t;if(D=(x=b)>>31,G=r,(0|x)>=1?(h[r+24>>2]=x,h[r+28>>2]=D,h[r+40>>2]=1,x=-1):(0|b)<=-1?(h[r+40>>2]=-1,h[r+24>>2]=0-x,h[r+28>>2]=0-((0<x>>>0)+D|0),x=1):(h[r+24>>2]=0,h[r+28>>2]=0,h[r+40>>2]=0,x=0),h[G+40>>2]=x,h[r+32>>2]=0-C,h[r+36>>2]=0-((0<C>>>0)+I|0),(0|U)>=1?(h[r>>2]=T,h[r+4>>2]=O,h[r+16>>2]=1,I=-1):(0|U)<=-1?(h[r+16>>2]=-1,x=T,h[r>>2]=0-x,h[r+4>>2]=0-((0<x>>>0)+O|0),I=1):(h[r>>2]=0,h[r+4>>2]=0,h[r+16>>2]=0,I=0),C=r,x=P,b=n,(0|n)>0||(0|n)>=0&&!(x>>>0<=0)||(x=0,b=0,(0|n)>-1||(0|n)>=-1&&!(P>>>0<=4294967295)||(h[r+16>>2]=I,x=0-(b=P)|0,b=0-((0<b>>>0)+n|0)|0)),h[C+8>>2]=x,h[C+12>>2]=b,(0|ea(r+24|0,r))>=1)break t}t=(0|t)==(0|M)?0:R,h[o>>2]=t,n=zl(a,s,n=w-Y|0,n>>31),P=F,n=(x=n)+(T=zl(c,q,n=S-N|0,n>>31))|0,x=F+P|0,x=n>>>0<T>>>0?x+1|0:x,b=n,P=zl(V,l,n=E-k|0,n>>31),x=F+x|0,x=(n=b+P|0)>>>0<P>>>0?x+1|0:x,P=n,n=x,j=S,B=w,L=E;continue}if(!(t=h[i>>2])|!h[t+12>>2])break e;if(I=h[h[t+8>>2]+4>>2],h[I+20>>2]<=h[e+100>>2])break e;if(t=h[I+12>>2],b=x=E=(w=h[t+92>>2])-Y|0,x=zl(x,Y=x>>31,A,d),S=F,C=x,R=x=N=(H=h[t+88>>2])-N|0,x=C+(G=zl(x,D=x>>31,u,_))|0,C=F+S|0,C=x>>>0<G>>>0?C+1|0:C,G=t=k=(S=h[t+96>>2])-k|0,(0-(t=zl(f,m,t,W=t>>31))|0)!=(0|x)|(0-(F+(0<t>>>0)|0)|0)!=(0|C))break e;if(t=zl(a,s,t=B-w|0,t>>31),x=F,C=t,w=zl(c,q,t=j-H|0,t>>31),x=F+x|0,x=(t=C+w|0)>>>0<w>>>0?x+1|0:x,C=t,w=zl(V,l,t=L-S|0,t>>31),x=F+x|0,S=t=C+w|0,w=x=t>>>0<w>>>0?x+1|0:x,(0|x)>-1||(0|x)>=-1&&!(t>>>0<=4294967295))break e;if(N=(y(E,p)+y(N,g)|0)+y(k,v)|0,t=zl(b,Y,a,s),x=F,E=zl(R,D,c,q),b=F+x|0,b=(t=E+t|0)>>>0<E>>>0?b+1|0:b,E=zl(V,l,G,W),x=F+b|0,x=(t=E+t|0)>>>0<E>>>0?x+1|0:x,E=t,b=x,x|t){if((0|b)>-1||(0|b)>=-1&&!(E>>>0<=4294967295))break e;if(k=(t=N)>>31,x=r,(0|t)>=1?(h[r+24>>2]=t,h[r+28>>2]=k,h[r+40>>2]=1,t=-1):(0|N)<=-1?(h[r+40>>2]=-1,h[r+24>>2]=0-t,h[r+28>>2]=0-((0<t>>>0)+k|0),t=1):(h[r+24>>2]=0,h[r+28>>2]=0,h[r+40>>2]=0,t=0),h[x+40>>2]=t,h[r+32>>2]=0-E,h[r+36>>2]=0-((0<E>>>0)+b|0),(0|U)>=1?(h[r>>2]=T,h[r+4>>2]=O,h[r+16>>2]=1,N=-1):(0|U)<=-1?(h[r+16>>2]=-1,h[r>>2]=0-T,h[r+4>>2]=0-((0<T>>>0)+O|0),N=1):(h[r>>2]=0,h[r+4>>2]=0,h[r+16>>2]=0,N=0),T=r,b=r,E=t=P,(0|(x=n))>0||(0|x)>=0&&!(t>>>0<=0)||(x=0,E=0,(0|n)>-1||(0|n)>=-1&&!(P>>>0<=4294967295)||(h[r+16>>2]=N,x=0-((0<P>>>0)+n|0)|0,E=0-P|0)),h[b+8>>2]=E,h[T+12>>2]=x,(0|ea(r+24|0,r))>=0)break e}else if((0|N)<=0)break e;h[i>>2]=I,n=h[I+12>>2],k=h[n+96>>2],Y=h[n+92>>2],t=h[o>>2],N=h[n+88>>2],P=S,n=w}}z=r+48|0}function Bn(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+696>>2]=h[e>>2],h[t+700>>2]=n,n=h[e+12>>2],h[t+704>>2]=h[e+8>>2],h[t+708>>2]=n}(h[n+12>>2],h[n+8>>2]),z=n+16|0}function Un(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,e=h[n+12>>2],g[e+36>>2]=g[n+8>>2],g[e+40>>2]=function(e){var t;return z=t=z-16|0,g[t+12>>2]=e,e=Ro(g[t+12>>2]),z=t+16|0,e}(g[n+8>>2]),z=n+16|0}function jn(e,t){var n,i=0,o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0;z=n=z-32|0;e:if(!((0|(t=(0|t)<=-1?h[e+12>>2]:t))<1)&&(o=h[e>>2]))for(;;){if(l=0,h[(a=o+40|0)>>2])for(;(r=h[o+32>>2])>>>0<=o>>>0?r=o:(u=(0|(i=h[r+40>>2]))==(0|o),p=h[36+((s=((0|i)!=(0|o))<<2)+r|0)>>2],c=e,(i=h[r+32>>2])&&(c=36+(i+((h[i+40>>2]==(0|r))<<2)|0)|0),h[c>>2]=o,h[p+32>>2]=o,h[r+32>>2]=o,h[o+32>>2]=i,i=o+36|0,h[r+36>>2]=h[i>>2],h[r+40>>2]=h[a>>2],h[h[i>>2]+32>>2]=r,h[h[a>>2]+32>>2]=r,h[i+(u<<2)>>2]=r,h[i+s>>2]=p,a=h[4+(i=r+24|0)>>2],h[n+24>>2]=h[i>>2],h[n+28>>2]=a,a=h[4+(i=r+16|0)>>2],h[n+16>>2]=h[i>>2],h[n+20>>2]=a,a=h[4+(i=r+8|0)>>2],h[n+8>>2]=h[i>>2],h[n+12>>2]=a,i=h[r+4>>2],h[n>>2]=h[r>>2],h[n+4>>2]=i,a=h[4+(i=o+24|0)>>2],h[r+24>>2]=h[i>>2],h[r+28>>2]=a,a=h[4+(i=o+16|0)>>2],h[r+16>>2]=h[i>>2],h[r+20>>2]=a,a=h[4+(i=o+8|0)>>2],h[r+8>>2]=h[i>>2],h[r+12>>2]=a,i=h[o+4>>2],h[r>>2]=h[o>>2],h[r+4>>2]=i,i=h[n+28>>2],h[o+24>>2]=h[n+24>>2],h[o+28>>2]=i,i=h[n+20>>2],h[o+16>>2]=h[n+16>>2],h[o+20>>2]=i,i=h[n+12>>2],h[o+8>>2]=h[n+8>>2],h[o+12>>2]=i,i=h[n+4>>2],h[o>>2]=h[n>>2],h[o+4>>2]=i),o=h[e+16>>2]>>>l,l=l+1&31,o=h[36+(((1&o)<<2)+r|0)>>2],h[(a=o+40|0)>>2];);if(c=r=e,s=0,ms(r,o)&&(s=h[e>>2]),hs(c,s,o),h[e+16>>2]=h[e+16>>2]+1,!(t=t+-1|0))break e;o=h[e>>2]}z=n+32|0}function kn(e){var t=0;(t=h[e>>2])&&ds(e,t),(t=h[e+4>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+4>>2]=0,h[e+8>>2]=-1,(t=h[e+32>>2])&&(m[e+36|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+32>>2]=0),h[e+32>>2]=0,h[e+24>>2]=0,h[e+28>>2]=0,h[e+16>>2]=0,a[e+36|0]=1}function Gn(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+680>>2]=h[e>>2],h[t+684>>2]=n,n=h[e+12>>2],h[t+688>>2]=h[e+8>>2],h[t+692>>2]=n}(h[n+12>>2],h[n+8>>2]),z=n+16|0}function Hn(e,t,n,i){t|=0,n|=0,i|=0;var o,s=0,c=0,l=0,p=0,u=0,_=0,v=0;h[168+(e|=0)>>2]=h[e+152>>2],a[t+80|0]=1,a[t+60|0]=0,h[t+52>>2]=287,h[t>>2]=16944,h[t+76>>2]=0,a[t+100|0]=1,h[t+68>>2]=0,h[t+72>>2]=0,h[t+96>>2]=0,a[t+120|0]=1,h[t+88>>2]=0,h[t+92>>2]=0,h[t+116>>2]=0,a[t+140|0]=1,h[t+108>>2]=0,h[t+112>>2]=0,h[t+136>>2]=0,a[t+164|0]=1,h[t+144>>2]=0,h[t+128>>2]=0,h[t+132>>2]=0,h[t+160>>2]=0,h[t+152>>2]=0,h[t+156>>2]=0,h[t+168>>2]=0,h[t+28>>2]=2139095039,h[t+32>>2]=0,h[t+20>>2]=2139095039,h[t+24>>2]=2139095039,h[t+12>>2]=-8388609,h[t+16>>2]=0,h[t+4>>2]=-8388609,h[t+8>>2]=-8388609,l=h[e+56>>2],n=t,i?(h[t+56>>2]=l<<8&16711680|l<<24|l>>>8&65280|l>>>24,a[t+4|0]=m[e+7|0],a[t+5|0]=m[e+6|0],a[t+6|0]=m[e+5|0],a[t+7|0]=m[e+4|0],a[t+8|0]=m[e+11|0],a[t+9|0]=m[e+10|0],a[t+10|0]=m[e+9|0],a[t+11|0]=m[e+8|0],a[t+12|0]=m[e+15|0],a[t+13|0]=m[e+14|0],a[t+14|0]=m[e+13|0],a[t+15|0]=m[e+12|0],a[t+16|0]=m[e+19|0],a[t+17|0]=m[e+18|0],a[t+18|0]=m[e+17|0],a[t+19|0]=m[e+16|0],a[t+20|0]=m[e+23|0],a[t+21|0]=m[e+22|0],a[t+22|0]=m[e+21|0],a[t+23|0]=m[e+20|0],a[t+24|0]=m[e+27|0],a[t+25|0]=m[e+26|0],a[t+26|0]=m[e+25|0],a[t+27|0]=m[e+24|0],a[t+28|0]=m[e+31|0],a[t+29|0]=m[e+30|0],a[t+30|0]=m[e+29|0],a[t+31|0]=m[e+28|0],a[t+32|0]=m[e+35|0],a[t+33|0]=m[e+34|0],a[t+34|0]=m[e+33|0],a[t+35|0]=m[e+32|0],a[t+36|0]=m[e+39|0],a[t+37|0]=m[e+38|0],a[t+38|0]=m[e+37|0],a[t+39|0]=m[e+36|0],a[t+40|0]=m[e+43|0],a[t+41|0]=m[e+42|0],a[t+42|0]=m[e+41|0],a[t+43|0]=m[e+40|0],a[t+44|0]=m[e+47|0],a[t+45|0]=m[e+46|0],a[t+46|0]=m[e+45|0],a[t+47|0]=m[e+44|0],a[t+48|0]=m[e+51|0],a[t+49|0]=m[e+50|0],a[t+50|0]=m[e+49|0],a[t+51|0]=m[e+48|0],l=h[e+144>>2],h[t+144>>2]=l<<24|l<<8&16711680|l>>>8&65280|l>>>24,l=(l=h[e+168>>2])<<24|l<<8&16711680|l>>>8&65280|l>>>24):(h[t+56>>2]=l,l=h[e+16>>2],h[t+12>>2]=h[e+12>>2],h[t+16>>2]=l,l=h[e+8>>2],h[t+4>>2]=h[e+4>>2],h[t+8>>2]=l,l=h[e+32>>2],h[t+28>>2]=h[e+28>>2],h[t+32>>2]=l,l=h[e+24>>2],h[t+20>>2]=h[e+20>>2],h[t+24>>2]=l,l=h[e+48>>2],h[t+44>>2]=h[e+44>>2],h[t+48>>2]=l,l=h[e+40>>2],h[t+36>>2]=h[e+36>>2],h[t+40>>2]=l,h[t+144>>2]=h[e+144>>2],l=h[e+168>>2]),h[n+168>>2]=l,a[t+60|0]=m[e+60|0],l=t+172|0,o=h[e+56>>2];e:if(m[e+60|0]){(n=h[t+136>>2])&&(m[t+140|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[t+136>>2]=0),h[t+136>>2]=l,a[t+140|0]=0,h[t+132>>2]=o,h[t+128>>2]=o;t:if(i){if(!((0|o)<1))for(p=h[e+136>>2];s=(n=u<<4)+l|0,n=d[(c=n+p|0)>>1],f[s>>1]=(n<<24|n<<8&16711680)>>>16,n=d[c+2>>1],f[s+2>>1]=(n<<24|n<<8&16711680)>>>16,n=d[c+4>>1],f[s+4>>1]=(n<<24|n<<8&16711680)>>>16,n=d[c+6>>1],f[s+6>>1]=(n<<24|n<<8&16711680)>>>16,n=d[c+8>>1],f[s+8>>1]=(n<<24|n<<8&16711680)>>>16,n=d[c+10>>1],f[s+10>>1]=(n<<24|n<<8&16711680)>>>16,n=h[c+12>>2],h[s+12>>2]=n<<24|n<<8&16711680|n>>>8&65280|n>>>24,(0|o)!=(0|(u=u+1|0)););}else{if((0|o)<1)break t;for(p=h[e+136>>2];c=(n=u<<4)+l|0,n=n+p|0,f[c>>1]=d[n>>1],f[c+2>>1]=d[n+2>>1],f[c+4>>1]=d[n+4>>1],f[c+6>>1]=d[n+6>>1],f[c+8>>1]=d[n+8>>1],f[c+10>>1]=d[n+10>>1],h[c+12>>2]=h[n+12>>2],(0|o)!=(0|(u=u+1|0)););}c=t+128|0,s=o<<4}else{(n=h[t+96>>2])&&(m[t+100|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[t+96>>2]=0),c=t+88|0,h[t+96>>2]=l,a[t+100|0]=0,h[t+92>>2]=o,h[t+88>>2]=o;t:{n:{if(i){if((0|o)<1)break n;for(_=h[e+96>>2],n=l;s=(p=v<<6)+n|0,n=p+_|0,a[0|s]=m[n+3|0],a[s+1|0]=m[n+2|0],a[s+2|0]=m[n+1|0],a[s+3|0]=m[0|n],a[s+4|0]=m[n+7|0],a[s+5|0]=m[n+6|0],a[s+6|0]=m[n+5|0],a[s+7|0]=m[n+4|0],a[s+8|0]=m[n+11|0],a[s+9|0]=m[n+10|0],a[s+10|0]=m[n+9|0],a[s+11|0]=m[n+8|0],a[s+12|0]=m[n+15|0],a[s+13|0]=m[n+14|0],a[s+14|0]=m[n+13|0],a[s+15|0]=m[n+12|0],s=p+h[t+96>>2]|0,n=p+h[e+96>>2]|0,a[s+16|0]=m[n+19|0],a[s+17|0]=m[n+18|0],a[s+18|0]=m[n+17|0],a[s+19|0]=m[n+16|0],a[s+20|0]=m[n+23|0],a[s+21|0]=m[n+22|0],a[s+22|0]=m[n+21|0],a[s+23|0]=m[n+20|0],a[s+24|0]=m[n+27|0],a[s+25|0]=m[n+26|0],a[s+26|0]=m[n+25|0],a[s+27|0]=m[n+24|0],a[s+28|0]=m[n+31|0],a[s+29|0]=m[n+30|0],a[s+30|0]=m[n+29|0],a[s+31|0]=m[n+28|0],s=p+(n=h[t+96>>2])|0,_=h[e+96>>2],u=h[32+(p=p+_|0)>>2],h[s+32>>2]=u<<24|u<<8&16711680|u>>>8&65280|u>>>24,u=h[p+36>>2],h[s+36>>2]=u<<24|u<<8&16711680|u>>>8&65280|u>>>24,p=h[p+40>>2],h[s+40>>2]=p<<24|p<<8&16711680|p>>>8&65280|p>>>24,(0|o)!=(0|(v=v+1|0)););}else{if((0|o)<1)break n;for(v=h[e+96>>2],n=l;s=(_=u<<6)+n|0,n=h[4+(p=_+v|0)>>2],h[s>>2]=h[p>>2],h[s+4>>2]=n,n=h[p+12>>2],h[s+8>>2]=h[p+8>>2],h[s+12>>2]=n,p=_+h[e+96>>2]|0,n=h[p+20>>2],s=_+h[t+96>>2]|0,h[s+16>>2]=h[p+16>>2],h[s+20>>2]=n,n=h[p+28>>2],h[s+24>>2]=h[p+24>>2],h[s+28>>2]=n,s=_+(n=h[t+96>>2])|0,p=_+(v=h[e+96>>2])|0,h[s+32>>2]=h[p+32>>2],h[s+36>>2]=h[p+36>>2],h[s+40>>2]=h[p+40>>2],(0|o)!=(0|(u=u+1|0)););}if(p=s=o<<6,n)break t;break e}n=l,p=o<<6}s=p,m[t+100|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[t+96>>2]=0}h[c>>2]=0,h[c+4>>2]=0,a[c+5|0]=0,a[c+6|0]=0,a[c+7|0]=0,a[c+8|0]=0,a[c+9|0]=0,a[c+10|0]=0,a[c+11|0]=0,a[c+12|0]=0,c=h[e+168>>2],(n=h[t+160>>2])&&(m[t+164|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[t+160>>2]=0),p=s+l|0,h[t+160>>2]=p,a[t+164|0]=0,h[t+156>>2]=c,h[t+152>>2]=c,l=h[e+168>>2];e:if(i){if(!((0|l)<1))for(n=h[e+160>>2],i=0;s=(e=i<<5)+p|0,e=d[(c=e+n|0)>>1],f[s>>1]=(e<<24|e<<8&16711680)>>>16,e=d[c+2>>1],f[s+2>>1]=(e<<24|e<<8&16711680)>>>16,e=d[c+4>>1],f[s+4>>1]=(e<<24|e<<8&16711680)>>>16,e=d[c+6>>1],f[s+6>>1]=(e<<24|e<<8&16711680)>>>16,e=d[c+8>>1],f[s+8>>1]=(e<<24|e<<8&16711680)>>>16,e=d[c+10>>1],f[s+10>>1]=(e<<24|e<<8&16711680)>>>16,e=h[c+12>>2],h[s+12>>2]=e<<24|e<<8&16711680|e>>>8&65280|e>>>24,e=h[c+16>>2],h[s+16>>2]=e<<24|e<<8&16711680|e>>>8&65280|e>>>24,(0|(i=i+1|0))<(0|l););}else{if((0|l)<1)break e;for(l=h[e+160>>2],i=0;c=(n=i<<5)+p|0,n=n+l|0,f[c>>1]=d[n>>1],f[c+2>>1]=d[n+2>>1],f[c+4>>1]=d[n+4>>1],f[c+6>>1]=d[n+6>>1],f[c+8>>1]=d[n+8>>1],f[c+10>>1]=d[n+10>>1],h[c+12>>2]=h[n+12>>2],n=h[n+16>>2],h[c+28>>2]=0,h[c+20>>2]=0,h[c+24>>2]=0,h[c+16>>2]=n,(0|(i=i+1|0))<h[e+168>>2];);}return h[t>>2]=0,a[t+157|0]=0,a[t+158|0]=0,a[t+159|0]=0,a[t+160|0]=0,a[t+161|0]=0,a[t+162|0]=0,a[t+163|0]=0,a[t+164|0]=0,h[t+152>>2]=0,h[t+156>>2]=0,1}function Vn(e,t,n,i,o,a,s){var c,l=x(0),p=x(0),u=0,_=x(0),f=x(0),m=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=0,E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=0,M=0,O=0,L=0,F=0,B=0,U=0,j=0,k=0,G=0,H=0,V=0,W=0,q=0,Y=0,X=0,Q=0,Z=0,J=0;if(z=c=z-32|0,P=g[n+4>>2],I=g[i+4>>2],R=g[n>>2],N=g[i>>2],m=g[e+28>>2],E=g[e+12>>2],y=g[i+8>>2],b=g[n+8>>2],l=(l=x((y<b?y:b)+g[o+8>>2]))<E?E:l,_=g[e+44>>2],D=(l=x(x((m<l?m:l)-E)*_))<x(4294967296)&l>=x(0)?~~l>>>0:0,v=g[e+24>>2],w=g[e+8>>2],l=(l=x((I<P?I:P)+g[o+4>>2]))<w?w:l,C=g[e+40>>2],M=(l=x(x((v<l?v:l)-w)*C))<x(4294967296)&l>=x(0)?~~l>>>0:0,f=g[e+20>>2],A=g[e+4>>2],l=(l=x((N<R?N:R)+g[o>>2]))<A?A:l,p=g[e+36>>2],O=(l=x(x((f<l?f:l)-A)*p))<x(4294967296)&l>=x(0)?~~l>>>0:0,l=x((b<y?y:b)+g[a+8>>2]),S=(l=x(x(x((m<(l=l<E?E:l)?m:l)-E)*_)+x(1)))<x(4294967296)&l>=x(0)?~~l>>>0:0,l=x((P<I?I:P)+g[a+4>>2]),u=(l=x(x(x((v<(l=l<w?w:l)?v:l)-w)*C)+x(1)))<x(4294967296)&l>=x(0)?~~l>>>0:0,l=x((R<N?N:R)+g[a>>2]),i=(l=x(x(x((f<(l=l<A?A:l)?f:l)-A)*p)+x(1)))<x(4294967296)&l>=x(0)?~~l>>>0:0,0<(0|s))for(f=x(N-R),C=x(I-P),p=x(y-b),l=x(x(1)/x(T(x(x(x(f*f)+x(C*C))+x(p*p))))),_=x(p*l),m=x(p*_),p=x(f*l),l=x(C*l),C=x(m+x(x(f*p)+x(C*l))),j=65534&D,k=65534&M,G=65534&O,H=1|S,V=1|u,W=1|i,i=h[e+136>>2],q=((S=(A=_==x(0)?x(0xde0b6b000000000):x(x(1)/_))<x(0))<<4)+c|8,Y=((u=(y=l==x(0)?x(0xde0b6b000000000):x(x(1)/l))<x(0))<<4)+c|4,X=((1^S)<<4)+c|8,Q=((1^u)<<4)+c|4,Z=((u=(b=p==x(0)?x(0xde0b6b000000000):x(x(1)/p))<x(0))<<4)+c|0,J=((1^u)<<4)+c|0;;){B=h[i+12>>2],u=0;e:{t:{n:{i:if(!(G>>>0>d[i+6>>1]||W>>>0<(U=d[i>>1])>>>0|j>>>0>d[i+10>>1]||H>>>0<(D=d[i+4>>1])>>>0|k>>>0>d[i+8>>1]||V>>>0<(M=d[i+2>>1])>>>0)){if(m=g[e+12>>2],v=g[e+44>>2],f=g[e+8>>2],_=g[e+40>>2],p=g[e+4>>2],l=g[e+36>>2],h[c+12>>2]=0,O=d[i+10>>1],S=d[i+8>>1],u=d[i+6>>1],h[c+28>>2]=0,g[c>>2]=x(p+x(x(U>>>0)/l))-g[a>>2],g[c+4>>2]=x(f+x(x(M>>>0)/_))-g[a+4>>2],g[c+8>>2]=x(m+x(x(D>>>0)/v))-g[a+8>>2],g[c+16>>2]=x(p+x(x(u>>>0)/l))-g[o>>2],g[c+20>>2]=x(f+x(x(S>>>0)/_))-g[o+4>>2],g[c+24>>2]=x(m+x(x(O>>>0)/v))-g[o+8>>2],p=g[n+4>>2],m=x(y*x(g[Y>>2]-p)),l=g[n>>2],!(m>(_=x(b*x(g[J>>2]-l)))||(v=x(b*x(g[Z>>2]-l)))>(p=x(y*x(g[Q>>2]-p)))||(l=g[n+8>>2],(f=x(A*x(g[q>>2]-l)))>(_=p<_?p:_)||(p=m>v?m:v)>(l=x(A*x(g[X>>2]-l)))))){if(!(u=(f>p?f:p)<C&(l<_?l:_)>x(0))|(0|B)<0)break i;u=h[i+12>>2],r[h[h[t>>2]+8>>2]](t,u>>21,2097151&u);break n}u=0}if(!((0|B)>-1||u))break t}L=L+1|0,i=i+16|0;break e}L=L-(u=h[i+12>>2])|0,i=i-(u<<4)|0}if(F=F+1|0,!((0|L)<(0|s)))break}h[6077]<(0|F)&&(h[6077]=F),z=c+32|0}function Wn(e,t,n,i,o,a){var s,c=0,l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=0,b=x(0),C=x(0),S=x(0),E=0,w=x(0),P=0,I=0,R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=0,B=0,U=0,j=0,k=0,G=0;z=s=z-32|0;e:if(!(h[e+56>>2]<1))for(u=g[i+8>>2],p=g[n+8>>2],C=m=x(u-p),l=g[i>>2],d=g[n>>2],_=x(l-d),v=g[i+4>>2],A=g[n+4>>2],f=x(v-A),b=x(x(1)/x(T(x(x(x(_*_)+x(f*f))+x(m*m))))),m=x(m*b),S=_,_=x(_*b),w=f,f=x(f*b),w=x(x(C*m)+x(x(S*_)+x(w*f))),b=g[a+8>>2],R=x((p<u?u:p)+b),C=g[a+4>>2],N=x((A<v?v:A)+C),S=g[a>>2],D=x((d<l?l:d)+S),p=u<p?u:p,u=g[o+8>>2],M=x(p+u),p=g[o+4>>2],O=x((v<A?v:A)+p),d=l<d?l:d,l=g[o>>2],L=x(d+l),i=h[e+96>>2],F=((c=(d=m==x(0)?x(0xde0b6b000000000):x(x(1)/m))<x(0))<<4)+s|8,B=((y=(v=f==x(0)?x(0xde0b6b000000000):x(x(1)/f))<x(0))<<4)+s|4,U=((1^c)<<4)+s|8,j=((1^y)<<4)+s|4,k=((c=(A=_==x(0)?x(0xde0b6b000000000):x(x(1)/_))<x(0))<<4)+s|0,G=((1^c)<<4)+s|0;;){c=h[i+4>>2],h[s>>2]=h[i>>2],h[s+4>>2]=c,c=h[i+12>>2],h[s+8>>2]=h[i+8>>2],h[s+12>>2]=c,c=h[i+28>>2],h[s+24>>2]=h[i+24>>2],h[s+28>>2]=c,c=h[i+20>>2],h[s+16>>2]=h[i+16>>2],h[s+20>>2]=c,g[s>>2]=g[s>>2]-S,g[s+4>>2]=g[s+4>>2]-C,g[s+16>>2]=g[s+16>>2]-l,g[s+20>>2]=g[s+20>>2]-p,g[s+8>>2]=g[s+8>>2]-b,g[s+24>>2]=g[s+24>>2]-u,c=0,L>g[i+16>>2]||(c=0,D<g[i>>2]||(c=1)),y=0,y=R<g[i+8>>2]|M>g[i+24>>2]?y:c;t:{n:{i:{o:{if(!(N<g[i+4>>2]|O>g[i+20>>2]|1^y||(_=g[n+4>>2],u=x(v*x(g[B>>2]-_)),l=g[n>>2],u>(p=x(A*x(g[G>>2]-l)))||(l=x(A*x(g[k>>2]-l)))>(_=x(v*x(g[j>>2]-_)))||(m=g[n+8>>2],(f=x(d*x(g[F>>2]-m)))>(p=_<p?_:p)||(u=u>l?u:l)>(l=x(d*x(g[U>>2]-m))))))){if(y=-1==(0|(I=h[i+32>>2])),1!=(0|(c=(f>u?f:u)<w&(l<p?l:p)>x(0)))|-1!=(0|I))break o;r[h[h[t>>2]+8>>2]](t,h[i+36>>2],h[i+40>>2]);break i}y=-1==h[i+32>>2],c=0}if(!y&&!c)break n}E=E+1|0,i=i- -64|0;break t}E=(c=h[i+32>>2])+E|0,i=(c<<6)+i|0}if(P=P+1|0,(0|E)>=h[e+56>>2])break e;u=g[o+8>>2],p=g[o+4>>2],l=g[o>>2],b=g[a+8>>2],C=g[a+4>>2],S=g[a>>2]}h[6077]<(0|P)&&(h[6077]=P),z=s+32|0}function qn(e,t,n,i,o){for(var a=0,s=0;;){e:{if(!(d[o>>1]<d[t>>1]|d[i>>1]>d[t+6>>1]|d[o+4>>1]<d[t+4>>1]|d[i+4>>1]>d[t+10>>1]||d[o+2>>1]<d[t+2>>1]|d[i+2>>1]>d[t+8>>1])){if((0|(a=h[t+12>>2]))<0)break e;r[h[h[n>>2]+8>>2]](n,a>>>21,2097151&a)}return}qn(e,a=t+16|0,n,i,o),s=t+32|0,t=(0|(t=h[t+28>>2]))>-1?s:a-(t<<4)|0}}function Yn(e,t){t|=0,e=h[4+(e|=0)>>2],r[h[h[e>>2]+8>>2]](e,h[t+36>>2])}function Xn(e,t,n,i,o,s,c,l,p){var u,_=0,f=0,d=x(0),v=0,A=0,y=0,b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=0,P=0,I=x(0),R=0;if(z=u=z-32|0,e){if((0|(_=h[l+4>>2]))<=127){if(h[l+8>>2]<=127){if(h[6657]=h[6657]+1,v=0|r[h[5255]](512,16),(0|(y=h[l+4>>2]))>=1)for(;h[(f=A<<2)+v>>2]=h[f+h[l+12>>2]>>2],(0|y)!=(0|(A=A+1|0)););(A=h[l+12>>2])&&(m[l+16|0]&&A&&(h[6658]=h[6658]+1,r[h[5256]](A)),h[l+12>>2]=0),h[l+12>>2]=v,a[l+16|0]=1,h[l+8>>2]=128}for(;h[h[l+12>>2]+(_<<2)>>2]=0,128!=(0|(_=_+1|0)););}for(h[l+4>>2]=128,h[h[l+12>>2]>>2]=e,_=126,A=1;;){if(y=h[l+12>>2],v=h[y+(P=(e=A+-1|0)<<2)>>2],b=g[v>>2],C=g[v+4>>2],d=g[v+8>>2],S=g[c>>2],E=g[c+4>>2],w=g[c+8>>2],h[u+12>>2]=0,g[u+8>>2]=d-w,g[u+4>>2]=C-E,g[u>>2]=b-S,b=g[v+16>>2],C=g[v+20>>2],d=g[v+24>>2],S=g[s>>2],E=g[s+4>>2],w=g[s+8>>2],h[u+28>>2]=0,g[u+24>>2]=d-w,g[u+20>>2]=C-E,g[u+16>>2]=b-S,f=h[i+4>>2],S=g[t+4>>2],E=g[n+4>>2],b=x(x(g[4+((f<<4)+u|0)>>2]-S)*E),d=g[n>>2],T=h[i>>2],w=g[t>>2],!(b>(C=x(d*x(g[(1-T<<4)+u>>2]-w)))||(d=x(x(g[(T<<4)+u>>2]-w)*d))>(S=x(E*x(g[4+((1-f<<4)+u|0)>>2]-S)))||(f=h[i+8>>2],w=g[t+8>>2],I=g[n+8>>2],(E=x(x(g[8+((f<<4)+u|0)>>2]-w)*I))>(C=S<C?S:C)||(b=b>d?b:d)>(d=x(I*x(g[8+((1-f<<4)+u|0)>>2]-w)))|(E>b?E:b)<o^1|(d<C?d:C)>x(0)^1)))if(h[v+40>>2]){if((0|e)>(0|_)){if((0|(_=h[l+4>>2]))<(0|(f=_<<1))){if(h[l+8>>2]<(0|f)){if(_){if(h[6657]=h[6657]+1,y=0|r[h[5255]](_<<3,16),e=0,!((0|(T=h[l+4>>2]))<1))for(;h[(R=e<<2)+y>>2]=h[h[l+12>>2]+R>>2],(0|T)!=(0|(e=e+1|0)););}else y=0;(e=h[l+12>>2])&&(m[l+16|0]&&e&&(h[6658]=h[6658]+1,r[h[5256]](e)),h[l+12>>2]=0),h[l+12>>2]=y,a[l+16|0]=1,h[l+8>>2]=f}for(;h[(_<<2)+y>>2]=0,y=h[l+12>>2],(0|f)!=(0|(_=_+1|0)););}h[l+4>>2]=f,_=f+-2|0}h[y+P>>2]=h[v+36>>2],h[h[l+12>>2]+(A<<2)>>2]=h[v+40>>2],e=A+1|0}else r[h[h[p>>2]+12>>2]](p,v);if(A=e,!e)break}}z=u+32|0}function Qn(e){var t,n=0,i=0,o=0,s=0;if(h[(e|=0)>>2]=16576,m[e+152|0]&&(n=h[e+96>>2],r[h[h[n>>2]>>2]](n),(n=h[e+96>>2])&&(h[6658]=h[6658]+1,r[h[5256]](n))),(0|(t=h[e+160>>2]))>=1)for(;s=n=h[e+168>>2]+y(i,20)|0,(o=h[n+12>>2])&&(m[n+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[s+12>>2]=0),a[n+16|0]=1,h[s+12>>2]=0,h[n+4>>2]=0,h[n+8>>2]=0,(0|t)!=(0|(i=i+1|0)););return(n=h[e+168>>2])&&(m[e+172|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+168>>2]=0),h[e+168>>2]=0,h[e+160>>2]=0,h[e+164>>2]=0,a[e+172|0]=1,Wc(e+44|0),Wc(e+4|0),0|e}function Zn(e,t){var n,i=0,o=0,s=0,c=0;if(h[e+12>>2]=0,a[e+16|0]=1,h[e+4>>2]=0,h[e+8>>2]=0,(0|(n=h[t+4>>2]))<=0)h[e+4>>2]=n;else{if(h[6657]=h[6657]+1,o=0|r[h[5255]](n<<2,16),(0|(s=h[e+4>>2]))>=1)for(;h[(c=i<<2)+o>>2]=h[h[e+12>>2]+c>>2],(0|s)!=(0|(i=i+1|0)););for((i=h[e+12>>2])&&(m[e+16|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[e+12>>2]=0),h[e+12>>2]=o,a[e+16|0]=1,h[e+8>>2]=n,i=0;h[(i<<2)+o>>2]=0,o=h[e+12>>2],(0|n)!=(0|(i=i+1|0)););if(h[e+4>>2]=n,(0|n)>=1)for(i=0;h[(e=i<<2)+o>>2]=h[e+h[t+12>>2]>>2],(0|n)!=(0|(i=i+1|0)););}}function Jn(e){var t=0;return h[(e|=0)>>2]=16016,(t=h[e+60>>2])&&(m[e- -64|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+60>>2]=0),h[e+60>>2]=0,h[e+52>>2]=0,h[e+56>>2]=0,a[e- -64|0]=1,(t=h[e+40>>2])&&(m[e+44|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+40>>2]=0),h[e+40>>2]=0,h[e+32>>2]=0,h[e+36>>2]=0,a[e+44|0]=1,(t=h[e+16>>2])&&(m[e+20|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+16>>2]=0),h[e+16>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,a[e+20|0]=1,0|e}function Kn(e){var t,n=0,i=0,o=0,s=0,c=0,l=0,p=0,u=0;if(!((0|(t=h[e+32>>2]))>=(0|(i=h[e+12>>2])))){e:if(h[e+36>>2]>=(0|i))n=h[e+40>>2];else{o=t,i&&(h[6657]=h[6657]+1,n=0|r[h[5255]](i<<2,16),o=h[e+32>>2]),c=h[e+40>>2];t:{if((0|o)>=1)for(;;)if(h[(l=s<<2)+n>>2]=h[c+l>>2],(0|(s=s+1|0))==(0|o))break t;if(!c){h[e+40>>2]=n,h[e+36>>2]=i,a[e+44|0]=1;break e}}m[e+44|0]&&c&&(h[6658]=h[6658]+1,r[h[5256]](c)),h[e+40>>2]=n,a[e+44|0]=1,h[e+36>>2]=i}if(Co((o=t<<2)+n|0,0,(l=i<<2)-o|0),h[e+32>>2]=i,(0|(c=h[e+52>>2]))<(0|i)){e:if(h[e+56>>2]>=(0|i))n=h[e+60>>2];else{s=0,o=c,n=0,i&&(h[6657]=h[6657]+1,n=0|r[h[5255]](l,16),o=h[e+52>>2]),p=h[e+60>>2];t:{if((0|o)>=1)for(;;)if(h[(u=s<<2)+n>>2]=h[p+u>>2],(0|(s=s+1|0))==(0|o))break t;if(!p){h[e+60>>2]=n,h[e+56>>2]=i,a[e- -64|0]=1;break e}}m[e- -64|0]&&p&&(h[6658]=h[6658]+1,r[h[5256]](p)),h[e+60>>2]=n,a[e+64|0]=1,h[e+56>>2]=i}Co((o=c<<2)+n|0,0,l-o|0)}if(h[e+52>>2]=i,(0|i)>=1&&(Co(h[e+40>>2],255,l),Co(h[e+60>>2],255,l)),!((0|t)<1))for(o=h[e+60>>2],c=h[e+16>>2],i=h[e+40>>2],s=0;n=h[h[4+(n=c+(s<<4)|0)>>2]+12>>2]<<16|h[h[n>>2]+12>>2],n=y((n=(n<<15^-1)+n|0)>>>10^n,9),n=((n^=n>>>6)<<11^-1)+n|0,n=i+((h[e+12>>2]+-1&(n>>>16^n))<<2)|0,h[o+(s<<2)>>2]=h[n>>2],h[n>>2]=s,(0|t)!=(0|(s=s+1|0)););}}function $n(e){var t,n,i=0,o=0,s=0;if(h[e>>2]=16016,h[e+24>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,h[e+68>>2]=0,a[e+20|0]=1,h[e+16>>2]=0,a[e+44|0]=1,h[e+40>>2]=0,a[e- -64|0]=1,h[e+32>>2]=0,h[e+36>>2]=0,h[e+60>>2]=0,h[e+52>>2]=0,h[e+56>>2]=0,h[6657]=h[6657]+1,t=0|r[h[5255]](32,16),(0|(n=h[e+8>>2]))>=1)for(;i=(o=s<<4)+t|0,o=o+h[e+16>>2]|0,h[i>>2]=h[o>>2],h[i+4>>2]=h[o+4>>2],h[i+8>>2]=h[o+8>>2],h[i+12>>2]=h[o+12>>2],(0|n)!=(0|(s=s+1|0)););(i=h[e+16>>2])&&(m[e+20|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[e+16>>2]=0),h[e+16>>2]=t,a[e+20|0]=1,h[e+12>>2]=2,Kn(e)}function ei(e){var t=0;return h[(e|=0)>>2]=15916,(t=h[e+156>>2])&&(m[e+160|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+156>>2]=0),h[e+156>>2]=0,h[e+148>>2]=0,h[e+152>>2]=0,a[e+160|0]=1,(t=h[e+136>>2])&&(m[e+140|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+136>>2]=0),h[e+136>>2]=0,h[e+128>>2]=0,h[e+132>>2]=0,a[e+140|0]=1,(t=h[e+116>>2])&&(m[e+120|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+116>>2]=0),h[e+116>>2]=0,h[e+108>>2]=0,h[e+112>>2]=0,a[e+120|0]=1,(t=h[e+96>>2])&&(m[e+100|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+96>>2]=0),h[e+96>>2]=0,h[e+88>>2]=0,h[e+92>>2]=0,a[e+100|0]=1,ii(e),0|e}function ti(e,t,n,i,o){var r;r=h[e+32>>2],h[r>>2]=h[r>>2]+1,ta(e,Yc(e,t,o)),ta(e,Yc(e,n,o)),ta(e,Yc(e,i,o))}function ni(e,t,n,i,o,r,a,s,c,l){t|=0,n|=0,i|=0,o|=0,r|=0,a|=0,s|=0,c|=0,l|=0,e=h[32+(e|=0)>>2]+(l<<5)|0,h[n>>2]=h[e+12>>2],h[t>>2]=h[e+16>>2],h[i>>2]=h[e+28>>2],h[o>>2]=h[e+20>>2],h[s>>2]=h[e>>2],h[r>>2]=h[e+4>>2],h[a>>2]=h[e+8>>2],h[c>>2]=h[e+24>>2]}function ii(e){var t;return h[(e|=0)>>2]=15804,(t=h[e+32>>2])&&(m[e+36|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+32>>2]=0),h[e+32>>2]=0,h[e+24>>2]=0,h[e+28>>2]=0,a[e+36|0]=1,0|e}function oi(e,t,n,i,o){var s,c=0,l=0,p=0,u=0,_=0,v=0;if(z=s=z-112|0,a[e+60|0]=n,n){if(function(e,t,n){var i=x(0),o=x(0),r=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0);r=g[t>>2],s=g[t+4>>2],c=g[t+8>>2],h[e+16>>2]=0,l=x(c-x(1)),g[e+12>>2]=l,s=x(s-x(1)),g[e+8>>2]=s,c=x(r-x(1)),g[e+4>>2]=c,o=g[n>>2],i=g[n+4>>2],r=g[n+8>>2],a[e+60|0]=1,h[e+48>>2]=0,h[e+32>>2]=0,m=x(r+x(1)),g[e+28>>2]=m,d=x(i+x(1)),g[e+24>>2]=d,r=x(o+x(1)),g[e+20>>2]=r,_=x(x(65533)/x(m-l)),g[e+44>>2]=_,u=x(x(65533)/x(d-s)),g[e+40>>2]=u,p=x(x(65533)/x(r-c)),g[e+36>>2]=p,t=(i=x(x(l-l)*_))<x(4294967296)&i>=x(0)?~~i>>>0:0,f=x((65534&t)>>>0),v=i=s,t=(o=x(x(i-i)*u))<x(4294967296)&o>=x(0)?~~o>>>0:0,o=x(v+x(x((65534&t)>>>0)/u)),v=i=c,t=(u=x(x(i-i)*p))<x(4294967296)&u>=x(0)?~~u>>>0:0,(i=x(x(v+x(x((65534&t)>>>0)/p))-x(1)))<c&&(g[e+4>>2]=i,c=i),(i=x(o-x(1)))<s&&(g[e+8>>2]=i,s=i),(i=x(x(l+x(f/_))-x(1)))<l&&(g[e+12>>2]=i,l=i),h[e+48>>2]=0,i=x(m-l),A=x(x(65533)/i),g[e+44>>2]=A,o=x(d-s),f=x(x(65533)/o),g[e+40>>2]=f,p=x(r-c),_=x(x(65533)/p),g[e+36>>2]=_,t=(i=x(x(A*i)+x(1)))<x(4294967296)&i>=x(0)?~~i>>>0:0,u=x((1|t)>>>0),i=s,t=(o=x(x(f*o)+x(1)))<x(4294967296)&o>=x(0)?~~o>>>0:0,f=x(i+x(x((1|t)>>>0)/f)),v=r,i=c,t=(p=x(x(_*p)+x(1)))<x(4294967296)&p>=x(0)?~~p>>>0:0,v<(i=x(x(i+x(x((1|t)>>>0)/_))+x(1)))&&(g[e+20>>2]=i,r=i),d<(i=x(f+x(1)))&&(g[e+24>>2]=i,d=i),m<(i=x(x(l+x(u/A))+x(1)))&&(g[e+28>>2]=i,m=i),h[e+48>>2]=0,g[e+44>>2]=x(65533)/x(m-l),g[e+40>>2]=x(65533)/x(d-s),g[e+36>>2]=x(65533)/x(r-c)}(e,i,o),h[s+96>>2]=e,h[s+92>>2]=e+104,h[s+88>>2]=15068,r[h[h[t>>2]+8>>2]](t,s+88|0,e+4|0,e+20|0),o=h[e+108>>2],h[s+16>>2]=0,h[s+20>>2]=0,h[s+8>>2]=0,h[s+12>>2]=0,(0|(n=h[e+128>>2]))<(0|(c=o<<1))){if(h[e+132>>2]<(0|c)){if(o?(h[6657]=h[6657]+1,u=0|r[h[5255]](o<<5,16),i=h[e+128>>2]):i=n,(0|i)>=1)for(t=0;p=_=(l=t<<4)+u|0,l=l+h[e+136>>2]|0,v=h[l+4>>2],h[p>>2]=h[l>>2],h[p+4>>2]=v,p=h[l+12>>2],h[_+8>>2]=h[l+8>>2],h[_+12>>2]=p,(0|i)!=(0|(t=t+1|0)););(t=h[e+136>>2])&&(m[e+140|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+136>>2]=0),h[e+136>>2]=u,a[e+140|0]=1,h[e+132>>2]=c}for(;u=h[s+12>>2],t=h[e+136>>2]+(n<<4)|0,h[t>>2]=h[s+8>>2],h[t+4>>2]=u,i=h[s+20>>2],h[t+8>>2]=h[s+16>>2],h[t+12>>2]=i,(0|c)!=(0|(n=n+1|0)););}h[e+128>>2]=c}else{if(h[s+104>>2]=15200,h[s+108>>2]=e- -64,h[s+96>>2]=-581039253,h[s+100>>2]=0,h[s+88>>2]=-581039253,h[s+92>>2]=-581039253,h[s+80>>2]=1566444395,h[s+84>>2]=0,h[s+72>>2]=1566444395,h[s+76>>2]=1566444395,r[h[h[t>>2]+8>>2]](t,s+104|0,s+88|0,s+72|0),o=h[e+68>>2],h[(t=s- -64|0)>>2]=0,h[t+4>>2]=0,h[s+56>>2]=0,h[s+60>>2]=0,h[s+48>>2]=0,h[s+52>>2]=0,h[s+40>>2]=0,h[s+44>>2]=0,h[s+32>>2]=0,h[s+36>>2]=0,h[s+24>>2]=0,h[s+28>>2]=0,h[s+16>>2]=0,h[s+20>>2]=0,h[s+8>>2]=0,h[s+12>>2]=0,(0|(t=h[e+88>>2]))<(0|(l=o<<1))){if(h[e+92>>2]<(0|l)){if(o?(h[6657]=h[6657]+1,u=0|r[h[5255]](o<<7,16),n=h[e+88>>2]):n=t,(0|n)>=1)for(;c=(i=_<<6)+u|0,i=i+h[e+96>>2]|0,v=h[i+4>>2],h[c>>2]=h[i>>2],h[c+4>>2]=v,p=h[i+60>>2],h[c+56>>2]=h[i+56>>2],h[c+60>>2]=p,p=h[i+52>>2],h[c+48>>2]=h[i+48>>2],h[c+52>>2]=p,p=h[i+44>>2],h[c+40>>2]=h[i+40>>2],h[c+44>>2]=p,p=h[i+36>>2],h[c+32>>2]=h[i+32>>2],h[c+36>>2]=p,p=h[i+28>>2],h[c+24>>2]=h[i+24>>2],h[c+28>>2]=p,p=h[i+20>>2],h[c+16>>2]=h[i+16>>2],h[c+20>>2]=p,p=h[i+12>>2],h[c+8>>2]=h[i+8>>2],h[c+12>>2]=p,(0|n)!=(0|(_=_+1|0)););(n=h[e+96>>2])&&(m[e+100|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+96>>2]=0),h[e+96>>2]=u,a[e+100|0]=1,h[e+92>>2]=l}for(;c=h[s+12>>2],n=h[e+96>>2]+(t<<6)|0,h[n>>2]=h[s+8>>2],h[n+4>>2]=c,c=h[4+(i=s- -64|0)>>2],h[n+56>>2]=h[i>>2],h[n+60>>2]=c,i=h[s+60>>2],h[n+48>>2]=h[s+56>>2],h[n+52>>2]=i,i=h[s+52>>2],h[n+40>>2]=h[s+48>>2],h[n+44>>2]=i,i=h[s+44>>2],h[n+32>>2]=h[s+40>>2],h[n+36>>2]=i,i=h[s+36>>2],h[n+24>>2]=h[s+32>>2],h[n+28>>2]=i,i=h[s+28>>2],h[n+16>>2]=h[s+24>>2],h[n+20>>2]=i,i=h[s+20>>2],h[n+8>>2]=h[s+16>>2],h[n+12>>2]=i,(0|l)!=(0|(t=t+1|0)););}h[e+88>>2]=l}if(h[e+56>>2]=0,qc(e,0,o),!(h[e+152>>2]|!m[e+60|0])){if(t=e,h[e+156>>2])o=h[e+160>>2],n=1;else{if(h[6657]=h[6657]+1,o=0|r[h[5255]](32,16),(0|(u=h[e+152>>2]))>=1)for(i=0;c=(n=i<<5)+o|0,n=n+h[e+160>>2]|0,_=h[n+4>>2],h[c>>2]=h[n>>2],h[c+4>>2]=_,l=h[n+28>>2],h[c+24>>2]=h[n+24>>2],h[c+28>>2]=l,l=h[n+20>>2],h[c+16>>2]=h[n+16>>2],h[c+20>>2]=l,l=h[n+12>>2],h[c+8>>2]=h[n+8>>2],h[c+12>>2]=l,(0|u)!=(0|(i=i+1|0)););(n=h[e+160>>2])&&(m[e+164|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+160>>2]=0),h[e+160>>2]=o,a[e+164|0]=1,h[e+156>>2]=1,n=h[e+152>>2]+1|0}h[t+152>>2]=n,t=h[s+36>>2],h[o+24>>2]=h[s+32>>2],h[o+28>>2]=t,t=h[s+28>>2],h[o+16>>2]=h[s+24>>2],h[o+20>>2]=t,t=h[s+20>>2],h[o+8>>2]=h[s+16>>2],h[o+12>>2]=t,t=h[s+12>>2],h[o>>2]=h[s+8>>2],h[o+4>>2]=t,t=h[e+160>>2],n=h[e+136>>2],f[t>>1]=d[n>>1],f[t+2>>1]=d[n+2>>1],f[t+4>>1]=d[n+4>>1],f[t+6>>1]=d[n+6>>1],f[t+8>>1]=d[n+8>>1],i=d[n+10>>1],h[t+12>>2]=0,f[t+10>>1]=i,i=t,t=h[n+12>>2],h[i+16>>2]=(0|t)>-1?1:0-t|0}h[e+168>>2]=h[e+152>>2],(t=h[e+116>>2])&&(m[e+120|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+116>>2]=0),h[e+116>>2]=0,a[e+120|0]=1,h[e+108>>2]=0,h[e+112>>2]=0,(t=h[e+76>>2])&&(m[e+80|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+76>>2]=0),h[e+76>>2]=0,a[e+80|0]=1,h[e+68>>2]=0,h[e+72>>2]=0,z=s+112|0}function ri(e){return function(e){a[e+60|0]=0,h[e+52>>2]=287,h[e>>2]=16944,h[e+144>>2]=0,a[e+80|0]=1,h[e+76>>2]=0,a[e+100|0]=1,h[e+68>>2]=0,h[e+72>>2]=0,h[e+96>>2]=0,a[e+120|0]=1,h[e+88>>2]=0,h[e+92>>2]=0,h[e+116>>2]=0,a[e+140|0]=1,h[e+108>>2]=0,h[e+112>>2]=0,h[e+136>>2]=0,a[e+164|0]=1,h[e+128>>2]=0,h[e+132>>2]=0,h[e+160>>2]=0,h[e+168>>2]=0,h[e+152>>2]=0,h[e+156>>2]=0,h[e+4>>2]=-8388609,h[e+8>>2]=-8388609,h[e+12>>2]=-8388609,h[e+16>>2]=0,h[e+20>>2]=2139095039,h[e+24>>2]=2139095039,h[e+28>>2]=2139095039,h[e+32>>2]=0}(e),h[e>>2]=14996,e}function ai(){return 6}function si(e,t,n){e|=0,t|=0,n|=0;var i;z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,e=h[i+12>>2],r[h[h[e>>2]+36>>2]](e,h[i+8>>2],h[i+4>>2],-1),z=i+16|0}function ci(e,t){e|=0,t|=0;var n=x(0),i=x(0),o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0);n=x(r[h[h[e>>2]+48>>2]](e)),i=x(r[h[h[e>>2]+48>>2]](e)),o=x(r[h[h[e>>2]+48>>2]](e)),a=g[e+16>>2],s=g[e+32>>2],c=g[e+20>>2],l=g[e+36>>2],p=g[e+24>>2],u=g[e+40>>2],va(e,t),h[e+44>>2]=0,g[e+40>>2]=x(x(x(o+u)/p)*g[e+24>>2])-o,g[e+36>>2]=x(x(x(i+l)/c)*g[e+20>>2])-i,g[e+32>>2]=x(x(x(n+s)/a)*g[e+16>>2])-n}function li(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0);o=x(r[h[h[e>>2]+48>>2]](e)),p=g[t+52>>2],c=g[t+24>>2],f=g[t+20>>2],u=g[t+56>>2],l=g[t+40>>2],m=g[e+40>>2],a=g[e+32>>2],d=g[t+36>>2],s=g[e+36>>2],_=g[t+48>>2],v=g[t+8>>2],A=g[t>>2],y=g[t+4>>2],C=g[t+16>>2],S=g[t+32>>2],h[n+12>>2]=0,a=x(o+a),s=x(o+s),o=x(o+m),l=x(x(x(a*x(b(S)))+x(s*x(b(d))))+x(o*x(b(l)))),g[n+8>>2]=u-l,c=x(x(x(a*x(b(C)))+x(s*x(b(f))))+x(o*x(b(c)))),g[n+4>>2]=p-c,o=x(x(x(a*x(b(A)))+x(s*x(b(y))))+x(o*x(b(v)))),g[n>>2]=_-o,h[i+12>>2]=0,g[i+8>>2]=u+l,g[i+4>>2]=c+p,g[i>>2]=o+_}function pi(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+36>>2]](e,h[n+8>>2],1,-1),z=n+16|0}function ui(e,t,n){var i;i=di(e),h[e+96>>2]=t,h[e>>2]=14300,h[e+4>>2]=3,n&&bs(i)}function _i(e,t){t|=0,h[(e|=0)>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,h[e+(h[t+56>>2]<<2)>>2]=1065353216}function fi(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),a=x(0),s=x(0),c=x(0);r[h[h[t>>2]+68>>2]](e,t,n),x(r[h[h[t>>2]+48>>2]](t))!=x(0)&&(o=g[n+4>>2],i=g[n>>2],a=g[n+8>>2],s=x(r[h[h[t>>2]+48>>2]](t)),c=i=(t=x(x(x(i*i)+x(o*o))+x(a*a))<x(14210854715202004e-30))?x(-1):i,a=t?x(-1):a,o=t?x(-1):o,i=x(x(1)/x(T(x(x(a*a)+x(x(i*i)+x(o*o)))))),g[e>>2]=g[e>>2]+x(s*x(c*i)),g[e+4>>2]=g[e+4>>2]+x(s*x(o*i)),g[e+8>>2]=g[e+8>>2]+x(s*x(a*i)))}function hi(e,t,n,i,o,a){var c=x(0),l=x(0),p=x(0),_=x(0),f=0,m=0,d=0,v=0,A=0,y=x(0),b=x(0),C=x(0),S=x(0),E=x(0);r[h[h[e>>2]+8>>2]](e,t,o,a),c=g[n+8>>2],l=g[n+4>>2],_=g[o+8>>2],t=h[o+8>>2],y=g[o+4>>2],f=h[o+4>>2],b=g[o>>2],m=h[o>>2],C=g[a+8>>2],d=h[a+8>>2],S=g[a+4>>2],v=h[a+4>>2],E=g[a>>2],A=h[a>>2],(p=g[n>>2])>x(0)?(u(x(p+E)),A=s(0)):(u(x(p+b)),m=s(0)),l>x(0)?(u(x(l+S)),v=s(0)):(u(x(l+y)),f=s(0)),c>x(0)?(u(x(c+C)),d=s(0)):(u(x(c+_)),t=s(0)),c=g[i+8>>2],l=g[i>>2],p=g[i+4>>2],_=x(r[h[h[e>>2]+16>>2]](e)),h[o+12>>2]=0,h[o+8>>2]=t,h[o+4>>2]=f,h[o>>2]=m,h[a+12>>2]=0,h[a+8>>2]=d,h[a+4>>2]=v,h[a>>2]=A,c=x(_*x(T(x(x(x(l*l)+x(p*p))+x(c*c))))),g[o>>2]=g[o>>2]-c,g[o+4>>2]=g[o+4>>2]-c,g[o+8>>2]=g[o+8>>2]-c,g[a>>2]=c+g[a>>2],g[a+4>>2]=c+g[a+4>>2],g[a+8>>2]=c+g[a+8>>2]}function mi(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0);o=x(r[h[h[e>>2]+48>>2]](e)),I=g[t+52>>2],c=g[t+24>>2],l=g[t+20>>2],p=g[t+56>>2],u=g[t+40>>2],_=g[e+68>>2],v=g[e+84>>2],A=g[t+36>>2],a=g[e- -64>>2],y=g[e+80>>2],R=g[t+48>>2],C=g[t+8>>2],S=g[t>>2],E=g[t+4>>2],w=g[t+16>>2],T=g[t+32>>2],s=g[e+60>>2],P=g[e+76>>2],h[n+12>>2]=0,f=p,p=x(x(P+s)*x(.5)),m=x(x(y+a)*x(.5)),d=x(x(v+_)*x(.5)),f=x(f+x(x(x(T*p)+x(A*m))+x(u*d))),s=x(o+x(x(P-s)*x(.5))),a=x(o+x(x(y-a)*x(.5))),o=x(o+x(x(v-_)*x(.5))),u=x(x(x(s*x(b(T)))+x(a*x(b(A))))+x(o*x(b(u)))),g[n+8>>2]=f-u,_=x(I+x(x(x(p*w)+x(m*l))+x(d*c))),c=x(x(x(s*x(b(w)))+x(a*x(b(l))))+x(o*x(b(c)))),g[n+4>>2]=_-c,l=x(R+x(x(x(p*S)+x(m*E))+x(d*C))),o=x(x(x(s*x(b(S)))+x(a*x(b(E))))+x(o*x(b(C)))),g[n>>2]=l-o,h[i+12>>2]=0,g[i+8>>2]=u+f,g[i+4>>2]=c+_,g[i>>2]=o+l}function di(e){var t;return Jo(e),a[e+92|0]=0,h[e+88>>2]=0,h[e+80>>2]=-1082130432,h[e+84>>2]=-1082130432,h[e+72>>2]=0,h[e+76>>2]=-1082130432,h[(t=e- -64|0)>>2]=1065353216,h[t+4>>2]=1065353216,h[e>>2]=13412,h[e+56>>2]=0,h[e+60>>2]=1065353216,e}function vi(e,t){var n,i,o=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0;if((0|(c=h[e+4>>2]))==h[e+8>>2]&&(gi(e,c?c<<1:1),c=h[e+4>>2]),o=(i=h[e+12>>2])+y(c,36)|0,h[o+12>>2]=0,a[o+16|0]=1,h[o+4>>2]=0,h[o+8>>2]=0,(0|(n=h[t+4>>2]))>=1){h[6657]=h[6657]+1,u=n<<2,l=0|r[h[5255]](u,16),p=h[o+12>>2];e:{t:{if((0|(_=h[o+4>>2]))>=1)for(;;)if(h[l+(f=s<<2)>>2]=h[p+f>>2],(0|_)==(0|(s=s+1|0)))break t;if(!p)break e}m[o+16|0]&&p&&(h[6658]=h[6658]+1,r[h[5256]](p))}for(a[o+16|0]=1,h[o+12>>2]=l,h[o+8>>2]=n,s=0,Co(l,0,u),h[o+4>>2]=n,p=h[t+12>>2],o=h[o+12>>2];h[(l=s<<2)+o>>2]=h[p+l>>2],(0|n)!=(0|(s=s+1|0)););}else h[o+4>>2]=n;s=h[t+24>>2],o=y(c,36)+i|0,h[o+20>>2]=h[t+20>>2],h[o+24>>2]=s,s=h[t+32>>2],h[o+28>>2]=h[t+28>>2],h[o+32>>2]=s,h[e+4>>2]=h[e+4>>2]+1}function gi(e,t){var n=0,i=0,o=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,d=0,v=0;if(h[e+8>>2]<(0|t)){if(t?(h[6657]=h[6657]+1,u=0|r[h[5255]](y(t,36),16)):u=0,!((0|(f=h[e+4>>2]))<1)){for(;;){if(i=h[e+12>>2],o=y(_,36),h[12+(n=o+u|0)>>2]=0,a[n+16|0]=1,h[n+4>>2]=0,h[n+8>>2]=0,(0|(s=h[4+(o=i+o|0)>>2]))>=1){h[6657]=h[6657]+1,l=s<<2,p=0|r[h[5255]](l,16),c=h[n+12>>2],i=0;e:{t:{if((0|(d=h[n+4>>2]))>=1)for(;;)if(h[p+(v=i<<2)>>2]=h[c+v>>2],(0|d)==(0|(i=i+1|0)))break t;if(!c)break e}m[n+16|0]&&c&&(h[6658]=h[6658]+1,r[h[5256]](c))}for(a[n+16|0]=1,h[n+12>>2]=p,h[n+8>>2]=s,i=0,Co(p,0,l),h[n+4>>2]=s,c=h[o+12>>2],p=h[n+12>>2];h[(l=i<<2)+p>>2]=h[c+l>>2],(0|s)!=(0|(i=i+1|0)););}else h[n+4>>2]=s;if(i=h[o+24>>2],h[n+20>>2]=h[o+20>>2],h[n+24>>2]=i,i=h[o+32>>2],h[n+28>>2]=h[o+28>>2],h[n+32>>2]=i,(0|f)==(0|(_=_+1|0)))break}if(!((0|(c=h[e+4>>2]))<1))for(i=0;o=n=h[e+12>>2]+y(i,36)|0,(s=h[n+12>>2])&&(m[n+16|0]&&s&&(h[6658]=h[6658]+1,r[h[5256]](s)),h[o+12>>2]=0),a[n+16|0]=1,h[o+12>>2]=0,h[n+4>>2]=0,h[n+8>>2]=0,(0|c)!=(0|(i=i+1|0)););}(n=h[e+12>>2])&&(m[e+16|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+12>>2]=0),h[e+12>>2]=u,a[e+16|0]=1,h[e+8>>2]=t}}function Ai(){return 12}function yi(e,t){e|=0;var n,i=0;i=h[4+(t|=0)>>2],n=h[e+52>>2],h[n+4>>2]=h[t>>2],h[n+8>>2]=i,i=h[t+12>>2],h[n+12>>2]=h[t+8>>2],h[n+16>>2]=i,xi(e)}function xi(e){var t,n=0;z=t=z-48|0,h[t+44>>2]=0,h[t+36>>2]=0,h[t+40>>2]=0,h[t+32>>2]=1065353216,r[h[h[e>>2]+68>>2]](t+16|0,e,t+32|0),g[e+36>>2]=g[t+16>>2]+g[e+16>>2],h[t+32>>2]=-1082130432,r[h[h[e>>2]+68>>2]](t,e,t+32|0),n=h[t+12>>2],h[t+24>>2]=h[t+8>>2],h[t+28>>2]=n,n=h[t+4>>2],h[t+16>>2]=h[t>>2],h[t+20>>2]=n,g[e+20>>2]=g[t+16>>2]-g[e+16>>2],h[t+40>>2]=0,h[t+44>>2]=0,h[t+32>>2]=0,h[t+36>>2]=1065353216,r[h[h[e>>2]+68>>2]](t+16|0,e,t+32|0),g[e+40>>2]=g[t+20>>2]+g[e+16>>2],h[t+36>>2]=-1082130432,r[h[h[e>>2]+68>>2]](t,e,t+32|0),n=h[t+12>>2],h[t+24>>2]=h[t+8>>2],h[t+28>>2]=n,n=h[t+4>>2],h[t+16>>2]=h[t>>2],h[t+20>>2]=n,g[e+24>>2]=g[t+20>>2]-g[e+16>>2],h[t+32>>2]=0,h[t+36>>2]=0,h[t+40>>2]=1065353216,h[t+44>>2]=0,r[h[h[e>>2]+68>>2]](t+16|0,e,t+32|0),g[e+44>>2]=g[t+24>>2]+g[e+16>>2],h[t+40>>2]=-1082130432,r[h[h[e>>2]+68>>2]](t,e,t+32|0),n=h[t+12>>2],h[t+24>>2]=h[t+8>>2],h[t+28>>2]=n,n=h[t+4>>2],h[t+16>>2]=h[t>>2],h[t+20>>2]=n,g[e+28>>2]=g[t+24>>2]-g[e+16>>2],z=t+48|0}function bi(e,t,n){e|=0,t|=0,n|=0;var i,o,a,s,c,l,p=0,u=0,_=0,f=x(0),m=x(0),v=x(0),b=x(0),C=0;z=i=z-80|0,u=h[e+4>>2],r[h[h[u>>2]+16>>2]](u,i+28|0,i+24|0,i+20|0,i+16|0,i+12|0,i+8|0,i+4|0,i,t),a=h[i+12>>2]+y(h[i+8>>2],n)|0,s=h[i+20>>2],u=(o=h[e+4>>2])+12|0,p=_=h[i+28>>2],c=h[i>>2],C=d[a+4>>1],3!=(0|c)&&(C=h[a+8>>2]),l=h[i+16>>2],p=p+y(C,l)|0,s?(f=x(g[o+8>>2]*x(A[p+8>>3])),m=x(g[o+4>>2]*x(A[p>>3])),v=x(A[p+16>>3]),p=u):(f=x(g[p+4>>2]*g[o+8>>2]),m=x(g[p>>2]*g[o+4>>2]),v=g[o+12>>2],p=p+8|0),b=g[p>>2],h[i+76>>2]=0,g[i+68>>2]=f,g[i+72>>2]=b*v,g[i+64>>2]=m,p=3!=(0|c)?h[a+4>>2]:d[a+2>>1],p=y(p,l)+_|0,s?(f=x(g[o+8>>2]*x(A[p+8>>3])),m=x(g[o+4>>2]*x(A[p>>3])),v=x(A[p+16>>3]),p=u):(f=x(g[p+4>>2]*g[o+8>>2]),m=x(g[p>>2]*g[o+4>>2]),v=g[o+12>>2],p=p+8|0),b=g[p>>2],h[i+60>>2]=0,g[i+52>>2]=f,g[i+56>>2]=b*v,g[i+48>>2]=m,p=3!=(0|c)?h[a>>2]:d[a>>1],_=y(p,l)+_|0,s?(v=x(A[_+16>>3]),f=x(g[o+8>>2]*x(A[_+8>>3])),m=x(g[o+4>>2]*x(A[_>>3]))):(u=_+8|0,v=g[o+12>>2],f=x(g[_+4>>2]*g[o+8>>2]),m=x(g[_>>2]*g[o+4>>2])),b=g[u>>2],h[i+44>>2]=0,g[i+36>>2]=f,g[i+32>>2]=m,g[i+40>>2]=b*v,u=h[e+8>>2],r[h[h[u>>2]+8>>2]](u,i+32|0,t,n),e=h[e+4>>2],r[h[h[e>>2]+24>>2]](e,t),z=i+80|0}function Ci(e,t,n,i){(function(e,t){h[e>>2]=14552,h[e+4>>2]=35,h[e+8>>2]=0,h[e+12>>2]=-1,h[e+16>>2]=0,h[e+52>>2]=t,h[e>>2]=12804,h[e+4>>2]=21,r[h[h[t>>2]+40>>2]](t)?r[h[h[t>>2]+48>>2]](t,e+20|0,e+36|0):xi(e)})(e,t),a[e+65|0]=0,a[e+64|0]=n,h[e+56>>2]=0,h[e+60>>2]=0,h[e>>2]=12172,h[e+4>>2]=21,i&&(h[6657]=h[6657]+1,n=ri(t=0|r[h[5255]](172,16)),h[e+56>>2]=t,oi(n,h[e+52>>2],m[e+64|0],e+20|0,e+36|0),a[e+65|0]=1)}function Si(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0);c=x(r[h[h[e>>2]+48>>2]](e)),l=x(r[h[h[e>>2]+48>>2]](e)),p=x(r[h[h[e>>2]+48>>2]](e)),o=g[t+52>>2],a=g[t+56>>2],s=g[t+48>>2],h[n+12>>2]=0,g[n+8>>2]=a-p,g[n+4>>2]=o-l,g[n>>2]=s-c,o=g[t+52>>2],a=g[t+56>>2],s=g[t+48>>2],h[i+12>>2]=0,g[i+8>>2]=p+a,g[i+4>>2]=l+o,g[i>>2]=c+s}function Ei(e){var t,n=0,i=0,o=0,s=0;if(h[(e|=0)>>2]=11988,(n=h[e+56>>2])&&(m[e+60|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+56>>2]=0),h[e+56>>2]=0,h[e+48>>2]=0,h[e+52>>2]=0,a[e+60|0]=1,(0|(t=h[e+28>>2]))>=1)for(;s=n=h[e+36>>2]+y(i,36)|0,(o=h[n+12>>2])&&(m[n+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[s+12>>2]=0),a[n+16|0]=1,h[s+12>>2]=0,h[n+4>>2]=0,h[n+8>>2]=0,(0|t)!=(0|(i=i+1|0)););return(n=h[e+36>>2])&&(m[e+40|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+36>>2]=0),h[e+36>>2]=0,h[e+28>>2]=0,h[e+32>>2]=0,a[e+40|0]=1,(n=h[e+16>>2])&&(m[e+20|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+16>>2]=0),h[e+16>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,a[e+20|0]=1,0|e}function wi(e,t){var n,i,o=0,r=0,a=0,s=0,c=0,l=x(0),p=x(0);z=n=z-80|0,h[e+72>>2]=h[e+72>>2]+1,(o=h[e+68>>2])&&_s(o,h[76+(h[e+28>>2]+y(t,80)|0)>>2]),r=h[e+20>>2],s=h[e+28>>2],c=y(t,80),i=h[4+(a=8+(o=s+c|0)|0)>>2],h[n+8>>2]=h[a>>2],h[n+12>>2]=i,a=h[o+4>>2],h[n>>2]=h[o>>2],h[n+4>>2]=a,a=h[o+28>>2],h[n+24>>2]=h[o+24>>2],h[n+28>>2]=a,a=h[o+20>>2],h[n+16>>2]=h[o+16>>2],h[n+20>>2]=a,a=h[o+44>>2],h[n+40>>2]=h[o+40>>2],h[n+44>>2]=a,a=h[o+36>>2],h[n+32>>2]=h[o+32>>2],h[n+36>>2]=a,a=h[o+60>>2],h[n+56>>2]=h[o+56>>2],h[n+60>>2]=a,a=h[o+52>>2],h[n+48>>2]=h[o+48>>2],h[n+52>>2]=a,a=h[o+76>>2],h[n+72>>2]=h[o+72>>2],h[n+76>>2]=a,a=h[o+68>>2],h[n+64>>2]=h[o+64>>2],h[n+68>>2]=a,a=s,s=y(r,80)+-80|0,a=h[4+(r=a+s|0)>>2],h[o>>2]=h[r>>2],h[o+4>>2]=a,a=h[r+12>>2],h[o+8>>2]=h[r+8>>2],h[o+12>>2]=a,a=h[r+20>>2],h[o+16>>2]=h[r+16>>2],h[o+20>>2]=a,a=h[r+28>>2],h[o+24>>2]=h[r+24>>2],h[o+28>>2]=a,a=h[r+44>>2],h[o+40>>2]=h[r+40>>2],h[o+44>>2]=a,a=h[r+36>>2],h[o+32>>2]=h[r+32>>2],h[o+36>>2]=a,a=h[r+52>>2],h[o+48>>2]=h[r+48>>2],h[o+52>>2]=a,a=h[r+60>>2],h[o+56>>2]=h[r+56>>2],h[o+60>>2]=a,a=h[r+76>>2],h[o+72>>2]=h[r+72>>2],h[o+76>>2]=a,a=h[r+68>>2],h[o+64>>2]=h[r+64>>2],h[o+68>>2]=a,o=s+h[e+28>>2]|0,s=h[n+4>>2],h[o>>2]=h[n>>2],h[o+4>>2]=s,r=h[n+12>>2],h[o+8>>2]=h[n+8>>2],h[o+12>>2]=r,r=h[n+20>>2],h[o+16>>2]=h[n+16>>2],h[o+20>>2]=r,r=h[n+28>>2],h[o+24>>2]=h[n+24>>2],h[o+28>>2]=r,r=h[n+36>>2],h[o+32>>2]=h[n+32>>2],h[o+36>>2]=r,r=h[n+44>>2],h[o+40>>2]=h[n+40>>2],h[o+44>>2]=r,r=h[n+52>>2],h[o+48>>2]=h[n+48>>2],h[o+52>>2]=r,r=h[n+60>>2],h[o+56>>2]=h[n+56>>2],h[o+60>>2]=r,r=h[n+68>>2],h[o+64>>2]=h[n+64>>2],h[o+68>>2]=r,r=h[n+76>>2],h[o+72>>2]=h[n+72>>2],h[o+76>>2]=r,h[e+68>>2]&&(h[h[76+(c+h[e+28>>2]|0)>>2]+36>>2]=t),h[e+20>>2]=h[e+20>>2]+-1,p=x(0|t);e:if(!((0|(r=h[e+84>>2]))<1)){for(s=h[e+92>>2],o=0;;){if((l=g[(c=s+(o<<2)|0)>>2])!=p){if((0|r)!=(0|(o=o+1|0)))continue;break e}break}(0|r)<=(0|o)||(r=s+((o=r+-1|0)<<2)|0,h[c>>2]=h[r>>2],g[r>>2]=l,h[e+84>>2]=o)}e:if(!((0|(r=h[e+124>>2]))<1)){for(s=h[e+132>>2],o=0;;){if((l=g[(c=s+(o<<2)|0)>>2])!=p){if((0|r)!=(0|(o=o+1|0)))continue;break e}break}(0|r)<=(0|o)||(r=s+((o=r+-1|0)<<2)|0,h[c>>2]=h[r>>2],g[r>>2]=l,h[e+124>>2]=o)}e:if(!((0|(r=h[e+104>>2]))<1)){for(s=h[e+112>>2],o=0;;){if((l=g[(c=s+(o<<2)|0)>>2])!=p){if((0|r)!=(0|(o=o+1|0)))continue;break e}break}(0|r)<=(0|o)||(r=s+((o=r+-1|0)<<2)|0,h[c>>2]=h[r>>2],g[r>>2]=l,h[e+104>>2]=o)}e:if(!((0|(r=h[e+144>>2]))<1)){for(s=h[e+152>>2],o=0;;){if((l=g[(c=s+(o<<2)|0)>>2])!=p){if((0|r)!=(0|(o=o+1|0)))continue;break e}break}(0|r)<=(0|o)||(r=s+((o=r+-1|0)<<2)|0,h[c>>2]=h[r>>2],g[r>>2]=l,h[e+144>>2]=o)}e:if(!((0|(r=h[e+164>>2]))<1)){for(s=h[e+172>>2],o=0;;){if(h[(c=s+(o<<2)|0)>>2]!=(0|t)){if((0|r)!=(0|(o=o+1|0)))continue;break e}break}(0|r)<=(0|o)||(o=(s+(r<<2)|0)-4|0,h[c>>2]=h[o>>2],h[o>>2]=t,h[e+164>>2]=h[e+164>>2]+-1)}z=n+80|0}function Ti(e,t,n,i){var o,a,s=0,c=0;z=o=z+-64|0,s=(a=y(t,80))+h[e+28>>2]|0,c=h[(t=n)+4>>2],h[s>>2]=h[t>>2],h[s+4>>2]=c,c=h[t+12>>2],h[s+8>>2]=h[t+8>>2],h[s+12>>2]=c,c=h[t+28>>2],h[s+24>>2]=h[t+24>>2],h[s+28>>2]=c,c=h[t+20>>2],h[s+16>>2]=h[t+16>>2],h[s+20>>2]=c,c=h[t+44>>2],h[s+40>>2]=h[t+40>>2],h[s+44>>2]=c,c=h[t+36>>2],h[s+32>>2]=h[t+32>>2],h[s+36>>2]=c,c=h[t+60>>2],h[s+56>>2]=h[t+56>>2],h[s+60>>2]=c,c=h[t+52>>2],h[s+48>>2]=h[t+48>>2],h[s+52>>2]=c,h[e+68>>2]&&(t=h[64+(h[e+28>>2]+a|0)>>2],r[h[h[t>>2]+8>>2]](t,n,o+48|0,o+32|0),n=h[(t=o)+60>>2],s=h[t+56>>2],h[t+8>>2]=s,h[t+12>>2]=n,n=h[t+44>>2],h[t+24>>2]=h[t+40>>2],h[t+28>>2]=n,n=h[t+36>>2],h[t+16>>2]=h[t+32>>2],h[t+20>>2]=n,n=h[t+52>>2],h[t>>2]=h[t+48>>2],h[t+4>>2]=n,Vc(h[e+68>>2],h[76+(h[e+28>>2]+a|0)>>2],t)),i&&r[h[h[e>>2]+68>>2]](e),z=o- -64|0}function Pi(e){var t=0;return h[(e|=0)>>2]=11668,(t=h[e+68>>2])&&(Wc(t),(t=h[e+68>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t))),(t=h[e+172>>2])&&(m[e+176|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+172>>2]=0),h[e+172>>2]=0,h[e+164>>2]=0,h[e+168>>2]=0,a[e+176|0]=1,(t=h[e+152>>2])&&(m[e+156|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+152>>2]=0),h[e+152>>2]=0,h[e+144>>2]=0,h[e+148>>2]=0,a[e+156|0]=1,(t=h[e+132>>2])&&(m[e+136|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+132>>2]=0),h[e+132>>2]=0,h[e+124>>2]=0,h[e+128>>2]=0,a[e+136|0]=1,(t=h[e+112>>2])&&(m[e+116|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+112>>2]=0),h[e+112>>2]=0,h[e+104>>2]=0,h[e+108>>2]=0,a[e+116|0]=1,(t=h[e+92>>2])&&(m[e+96|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+92>>2]=0),h[e+92>>2]=0,h[e+84>>2]=0,h[e+88>>2]=0,a[e+96|0]=1,(t=h[e+28>>2])&&(m[e+32|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+28>>2]=0),h[e+28>>2]=0,h[e+20>>2]=0,h[e+24>>2]=0,a[e+32|0]=1,0|e}function Ii(e,t){var n=0,i=0,o=0,s=0;if(h[e>>2]=11668,h[e+76>>2]=0,h[(n=e)+68>>2]=0,h[n+72>>2]=1,h[n+52>>2]=-581039253,h[n+56>>2]=-581039253,h[n+36>>2]=1566444395,h[n+40>>2]=1566444395,h[n+8>>2]=0,h[n+12>>2]=-1,a[n+32|0]=1,h[n+28>>2]=0,a[n+96|0]=1,h[n+60>>2]=-581039253,h[n+64>>2]=0,h[n+44>>2]=1566444395,h[n+48>>2]=0,h[n+20>>2]=0,h[n+24>>2]=0,h[n+92>>2]=0,h[n+84>>2]=0,h[n+88>>2]=0,a[n+116|0]=1,h[n+112>>2]=0,a[n+136|0]=1,h[n+104>>2]=0,h[n+108>>2]=0,h[n+124>>2]=0,h[n+128>>2]=0,h[n+132>>2]=0,a[n+156|0]=1,h[n+152>>2]=0,h[n+144>>2]=0,h[n+148>>2]=0,a[n+176|0]=1,h[n+172>>2]=0,h[n+164>>2]=0,h[n+168>>2]=0,h[n+184>>2]=1065353216,h[n+188>>2]=1065353216,h[n+192>>2]=1065353216,h[n+196>>2]=0,a[n+180|0]=0,h[n+4>>2]=31,t?(h[6657]=h[6657]+1,t=0|r[h[5255]](40,16),h[t+16>>2]=0,h[t+8>>2]=-1,h[t+12>>2]=0,h[t>>2]=0,h[t+4>>2]=0,h[t+32>>2]=0,a[t+36|0]=1,h[t+24>>2]=0,h[t+28>>2]=0,h[e+68>>2]=t,t=h[e+24>>2]):t=0,(0|t)<0){if((0|(s=h[e+20>>2]))>=1)for(;n=(t=y(o,80))+h[e+28>>2]|0,i=h[n+4>>2],h[t>>2]=h[n>>2],h[t+4>>2]=i,i=h[n+12>>2],h[t+8>>2]=h[n+8>>2],h[t+12>>2]=i,i=h[n+28>>2],h[t+24>>2]=h[n+24>>2],h[t+28>>2]=i,i=h[n+20>>2],h[t+16>>2]=h[n+16>>2],h[t+20>>2]=i,i=h[n+44>>2],h[t+40>>2]=h[n+40>>2],h[t+44>>2]=i,i=h[n+36>>2],h[t+32>>2]=h[n+32>>2],h[t+36>>2]=i,i=h[n+60>>2],h[t+56>>2]=h[n+56>>2],h[t+60>>2]=i,i=h[n+52>>2],h[t+48>>2]=h[n+48>>2],h[t+52>>2]=i,i=h[n+68>>2],h[t+64>>2]=h[n+64>>2],h[t+68>>2]=i,i=h[n+76>>2],h[t+72>>2]=h[n+72>>2],h[t+76>>2]=i,(0|s)!=(0|(o=o+1|0)););(t=h[e+28>>2])&&(m[e+32|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+28>>2]=0),h[e+28>>2]=0,a[e+32|0]=1,h[e+24>>2]=0}}function Ri(e,t,n){return n=x(n),0}function Ni(e){var t,n=0,i=0,o=0,s=0;if(h[(e|=0)>>2]=11264,n=h[e+84>>2],(0|(t=h[n+8>>2]))>=1){for(;(i=h[8+(h[n+16>>2]+y(o,12)|0)>>2])&&(r[h[h[i>>2]>>2]](i),s=h[e+4>>2],r[h[h[s>>2]+60>>2]](s,i)),(0|t)!=(0|(o=o+1|0)););n=h[e+84>>2]}return Di(n),n=h[e+84>>2],r[h[h[n>>2]>>2]](n),(n=h[e+84>>2])&&(h[6658]=h[6658]+1,r[h[5256]](n)),(n=h[e+100>>2])&&(m[e+104|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+100>>2]=0),h[e+100>>2]=0,h[e+92>>2]=0,h[e+96>>2]=0,a[e+104|0]=1,cl(e),0|e}function Di(e){var t=0,n=0,i=0,o=0,s=0,c=0;if((t=h[e+16>>2])&&(m[e+20|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+16>>2]=0),h[e+16>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,a[e+20|0]=1,(t=h[e+36>>2])&&(m[e+40|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+36>>2]=0),h[e+36>>2]=0,h[e+28>>2]=0,h[e+32>>2]=0,a[e+40|0]=1,(t=h[e+56>>2])&&(m[e+60|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+56>>2]=0),t=0,h[e+56>>2]=0,h[e+48>>2]=0,h[e+52>>2]=0,a[e+60|0]=1,h[e+12>>2]<=1){if(h[6657]=h[6657]+1,o=0|r[h[5255]](24,16),(0|(s=h[e+8>>2]))>=1)for(;i=(n=y(t,12))+h[e+16>>2]|0,c=h[i+4>>2],h[(n=n+o|0)>>2]=h[i>>2],h[n+4>>2]=c,h[n+8>>2]=h[i+8>>2],(0|s)!=(0|(t=t+1|0)););(t=h[e+16>>2])&&(m[e+20|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+16>>2]=0),h[e+16>>2]=o,a[e+20|0]=1,h[e+12>>2]=2}sl(e)}function Mi(e){var t=0;return h[(e|=0)>>2]=11200,(t=h[e+56>>2])&&(m[e+60|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+56>>2]=0),h[e+56>>2]=0,h[e+48>>2]=0,h[e+52>>2]=0,a[e+60|0]=1,(t=h[e+36>>2])&&(m[e+40|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+36>>2]=0),h[e+36>>2]=0,h[e+28>>2]=0,h[e+32>>2]=0,a[e+40|0]=1,(t=h[e+16>>2])&&(m[e+20|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+16>>2]=0),h[e+16>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,a[e+20|0]=1,0|e}function Oi(e,t,n){var i,o,a=0,s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0);z=i=z-160|0,s=h[e+4>>2],a=h[s+12>>2],M=g[a+52>>2],O=g[a+56>>2],c=g[a+24>>2],l=g[a+20>>2],p=g[a+40>>2],u=g[a+36>>2],L=g[a+48>>2],_=g[a+8>>2],f=g[a>>2],m=g[a+4>>2],d=g[a+16>>2],v=g[a+32>>2],a=h[h[s+4>>2]+28>>2]+y(n,80)|0,A=g[a+32>>2],b=g[a>>2],C=g[a+16>>2],S=g[a+56>>2],E=g[a+52>>2],w=g[a+48>>2],T=g[a+36>>2],P=g[a+20>>2],I=g[a+4>>2],R=g[a+40>>2],N=g[a+24>>2],D=g[a+8>>2],s=0,h[i+156>>2]=0,h[i+140>>2]=0,h[i+124>>2]=0,g[i+136>>2]=x(x(v*D)+x(u*N))+x(p*R),g[i+132>>2]=x(x(v*I)+x(u*P))+x(p*T),g[i+120>>2]=x(x(d*D)+x(l*N))+x(c*R),g[i+116>>2]=x(x(d*I)+x(l*P))+x(c*T),g[i+152>>2]=O+x(x(x(v*w)+x(u*E))+x(p*S)),g[i+148>>2]=M+x(x(x(d*w)+x(l*E))+x(c*S)),h[i+108>>2]=0,g[i+128>>2]=x(x(v*b)+x(u*C))+x(p*A),g[i+112>>2]=x(x(d*b)+x(l*C))+x(c*A),g[i+96>>2]=x(x(f*b)+x(m*C))+x(_*A),g[i+104>>2]=x(x(f*D)+x(m*N))+x(_*R),g[i+100>>2]=x(x(f*I)+x(m*P))+x(_*T),g[i+144>>2]=L+x(x(x(f*w)+x(m*E))+x(_*S)),r[h[h[t>>2]+8>>2]](t,i+96|0,i+80|0,i- -64|0),c=g[h[e+20>>2]+32>>2],g[i+80>>2]=g[i+80>>2]-c,g[i+84>>2]=g[i+84>>2]-c,g[i+88>>2]=g[i+88>>2]-c,g[i+64>>2]=c+g[i+64>>2],g[i+68>>2]=c+g[i+68>>2],g[i+72>>2]=c+g[i+72>>2],a=h[e+8>>2],o=h[a+4>>2],r[h[h[o>>2]+8>>2]](o,h[a+12>>2],i+48|0,i+32|0),(a=h[6043])&&!r[a](h[h[e+8>>2]+4>>2],t)||(s=g[i+64>>2]<g[i+48>>2]|g[i+80>>2]>g[i+32>>2]?s:1,a=0,a=g[i+72>>2]<g[i+56>>2]|g[i+88>>2]>g[i+40>>2]?a:s,g[i+68>>2]<g[i+52>>2]|g[i+84>>2]>g[i+36>>2]|1^a||(a=h[e+4>>2],s=h[a+8>>2],h[i+28>>2]=n,h[i+24>>2]=-1,h[i+16>>2]=s,h[i+12>>2]=t,h[i+8>>2]=a,h[i+20>>2]=i+96,g[h[e+20>>2]+32>>2]>x(0)?(t=h[e+12>>2],t=0|r[h[h[t>>2]+8>>2]](t,i+8|0,h[e+8>>2],0,2)):(t=h[(a=n<<2)+h[e+24>>2]>>2])||(t=h[e+12>>2],t=0|r[h[h[t>>2]+8>>2]](t,i+8|0,h[e+8>>2],h[e+28>>2],1),h[a+h[e+24>>2]>>2]=t,t=h[a+h[e+24>>2]>>2]),s=h[e+20>>2],a=h[s+8>>2],h[a+8>>2]!=h[h[e+4>>2]+8>>2]?(a=h[s+12>>2],h[s+12>>2]=i+8,r[h[h[s>>2]+12>>2]](s,-1,n)):(h[s+8>>2]=i+8,r[h[h[s>>2]+8>>2]](s,-1,n)),r[h[h[t>>2]+8>>2]](t,i+8|0,h[e+8>>2],h[e+16>>2],h[e+20>>2]),t=h[e+20>>2],h[(h[h[t+8>>2]+8>>2]==h[h[e+4>>2]+8>>2]?8:12)+t>>2]=a)),z=i+160|0}function Li(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s,c,l,p=0,u=0,_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=0,T=0,P=0,I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0);if(z=s=z-176|0,T=m[e+68|0],c=h[(l=T?n:t)+4>>2],h[c+72>>2]!=h[e+80>>2]){if((0|(w=h[e+52>>2]))>=1)for(;(u=h[(P=p<<2)+h[e+60>>2]>>2])&&(r[h[h[u>>2]>>2]](u),u=h[e+4>>2],r[h[h[u>>2]+60>>2]](u,h[P+h[e+60>>2]>>2])),(0|w)!=(0|(p=p+1|0)););zi(e,t,n),h[e+80>>2]=h[c+72>>2]}if(u=h[e+52>>2]){if(w=h[c+68>>2],p=h[e+4>>2],P=h[e+60>>2],h[s+172>>2]=h[e+72>>2],h[s+168>>2]=P,h[s+164>>2]=o,h[s+160>>2]=i,h[s+156>>2]=p,i=T?t:n,h[s+152>>2]=i,h[s+148>>2]=l,h[s+144>>2]=11124,(0|(p=h[e+32>>2]))<=-1){for(h[e+36>>2]<=-1&&((t=h[e+40>>2])&&(m[e+44|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+40>>2]=0),h[e+36>>2]=0,h[e+40>>2]=0,a[e+44|0]=1);h[h[e+40>>2]+(p<<2)>>2]=0,n=(t=p+1|0)>>>0>=p>>>0,p=t,n;);u=h[e+52>>2]}if(h[e+32>>2]=0,(0|u)>=1)for(T=e+28|0,n=0;;){if(t=h[h[e+60>>2]+(n<<2)>>2]){if(r[h[h[t>>2]+16>>2]](t,T),u=0,(0|(p=h[e+32>>2]))>0)for(;t=h[h[e+40>>2]+(u<<2)>>2],h[t+844>>2]&&(h[o+4>>2]=t,(0|(p=h[t+836>>2]))==(0|(P=h[h[o+8>>2]+8>>2]))?wo(t,p+4|0,h[h[o+12>>2]+8>>2]+4|0):wo(t,h[h[o+12>>2]+8>>2]+4|0,P+4|0),h[o+4>>2]=0,p=h[e+32>>2]),(0|(u=u+1|0))<(0|p););if((0|p)<=-1)for(h[e+36>>2]<=-1&&((t=h[e+40>>2])&&(m[e+44|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+40>>2]=0),a[e+44|0]=1,h[e+36>>2]=0,h[e+40>>2]=0);h[h[e+40>>2]+(p<<2)>>2]=0,u=(t=p+1|0)>>>0<p>>>0,p=t,!u;);h[e+32>>2]=0,u=h[e+52>>2]}if(!((0|(n=n+1|0))<(0|u)))break}e:if(w)t=h[l+12>>2],I=g[t+52>>2],R=g[t+56>>2],n=h[i+12>>2],N=g[n+52>>2],D=g[n+56>>2],_=g[t+20>>2],f=g[t+36>>2],M=g[n+20>>2],O=g[n+36>>2],L=g[n+24>>2],d=g[t+24>>2],F=g[n+40>>2],v=g[t+40>>2],B=g[n+32>>2],A=g[t+32>>2],U=g[n>>2],b=g[t>>2],j=g[n+16>>2],C=g[t+16>>2],k=g[t+48>>2],G=g[n+48>>2],S=g[t+4>>2],H=g[n+4>>2],V=g[n+8>>2],E=g[t+8>>2],h[s+108>>2]=0,h[s+92>>2]=0,h[s+76>>2]=0,g[s+88>>2]=x(x(E*V)+x(d*L))+x(v*F),g[s+84>>2]=x(x(E*H)+x(d*M))+x(v*O),g[s+72>>2]=x(x(S*V)+x(_*L))+x(f*F),g[s+68>>2]=x(x(S*H)+x(_*M))+x(f*O),I=x(-I),g[s+104>>2]=x(x(x(d*I)-x(E*k))-x(v*R))+x(x(x(E*G)+x(d*N))+x(v*D)),g[s+100>>2]=x(x(x(_*I)-x(S*k))-x(f*R))+x(x(x(S*G)+x(_*N))+x(f*D)),h[s+60>>2]=0,g[s+48>>2]=x(x(b*U)+x(C*j))+x(A*B),g[s+80>>2]=x(x(E*U)+x(d*j))+x(v*B),g[s+64>>2]=x(x(S*U)+x(_*j))+x(f*B),g[s+56>>2]=x(x(b*V)+x(C*L))+x(A*F),g[s+52>>2]=x(x(b*H)+x(C*M))+x(A*O),g[s+96>>2]=x(x(x(C*I)-x(b*k))-x(A*R))+x(x(x(b*G)+x(C*N))+x(A*D)),t=h[i+4>>2],r[h[h[t>>2]+8>>2]](t,s+48|0,s+128|0,s+112|0),_=g[o+32>>2],g[s+128>>2]=g[s+128>>2]-_,g[s+132>>2]=g[s+132>>2]-_,g[s+136>>2]=g[s+136>>2]-_,g[s+112>>2]=_+g[s+112>>2],g[s+116>>2]=_+g[s+116>>2],g[s+120>>2]=_+g[s+120>>2],t=h[s+140>>2],h[s+24>>2]=h[s+136>>2],h[s+28>>2]=t,t=h[s+124>>2],h[s+40>>2]=h[s+120>>2],h[s+44>>2]=t,t=h[s+116>>2],h[s+32>>2]=h[s+112>>2],h[s+36>>2]=t,t=h[s+132>>2],h[s+16>>2]=h[s+128>>2],h[s+20>>2]=t,function(e,t,n,i){var o=0,s=0,c=0,l=0,p=0,u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0);if(e){if(u=g[t+24>>2],_=g[t+20>>2],s=h[n+8>>2],f=g[t+16>>2],d=g[t+8>>2],v=g[t+4>>2],A=g[t>>2],(0|(t=h[n+4>>2]))<=-1)for((0|s)<=-1&&((o=h[n+12>>2])&&(m[n+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[n+12>>2]=0),a[n+16|0]=1,h[n+8>>2]=0,h[n+12>>2]=0,s=0);h[h[n+12>>2]+(t<<2)>>2]=0,c=(o=t+1|0)>>>0>=t>>>0,t=o,c;);if(o=0,h[n+4>>2]=0,(0|s)<=63){if(h[6657]=h[6657]+1,s=0|r[h[5255]](256,16),(0|(o=h[n+4>>2]))>=1)for(t=0;h[(c=t<<2)+s>>2]=h[c+h[n+12>>2]>>2],(0|o)!=(0|(t=t+1|0)););(t=h[n+12>>2])&&(m[n+16|0]&&(t&&(h[6658]=h[6658]+1,r[h[5256]](t)),o=h[n+4>>2]),h[n+12>>2]=0),h[n+12>>2]=s,a[n+16|0]=1,h[n+8>>2]=64,s=64}if((0|o)==(0|s))if((0|s)>=(0|(l=s<<1)))o=s;else{t=0;t:{if(s){if(h[6657]=h[6657]+1,c=0|r[h[5255]](s<<3,16),(0|(o=h[n+4>>2]))<1)break t}else c=0,o=s;for(;h[(s=t<<2)+c>>2]=h[s+h[n+12>>2]>>2],(0|o)!=(0|(t=t+1|0)););}(t=h[n+12>>2])&&(m[n+16|0]&&(t&&(h[6658]=h[6658]+1,r[h[5256]](t)),o=h[n+4>>2]),h[n+12>>2]=0),h[n+12>>2]=c,a[n+16|0]=1,h[n+8>>2]=l}for(h[h[n+12>>2]+(o<<2)>>2]=e,o=o+1|0,h[n+4>>2]=o;;){if(c=h[n+12>>2],s=h[c+((t=o+-1|0)<<2)>>2],h[n+4>>2]=t,g[s>>2]<=f)if(g[s+16>>2]>=A)if(g[s+4>>2]<=_)if(g[s+20>>2]>=v)if(g[s+8>>2]<=u)if(g[s+24>>2]>=d)if(h[s+40>>2]){if(l=h[s+36>>2],(0|t)==(0|(e=h[n+8>>2])))if((0|o)>(0|(e=t?t<<1:1)))e=t;else{if(o=0,c=0,e&&(h[6657]=h[6657]+1,c=0|r[h[5255]](e<<2,16),t=h[n+4>>2]),(0|t)>=1)for(;h[(p=o<<2)+c>>2]=h[h[n+12>>2]+p>>2],(0|(o=o+1|0))!=(0|t););(o=h[n+12>>2])&&(m[n+16|0]&&(o&&(h[6658]=h[6658]+1,r[h[5256]](o)),t=h[n+4>>2]),h[n+12>>2]=0),h[n+12>>2]=c,a[n+16|0]=1,h[n+8>>2]=e}if(h[(t<<2)+c>>2]=l,t=t+1|0,h[n+4>>2]=t,s=h[s+40>>2],(0|e)==(0|t)){if((0|e)<(0|(o=e?e<<1:1))){if(t=0,c=0,o&&(h[6657]=h[6657]+1,c=0|r[h[5255]](o<<2,16),e=h[n+4>>2]),(0|e)>=1)for(;h[(l=t<<2)+c>>2]=h[l+h[n+12>>2]>>2],(0|(t=t+1|0))!=(0|e););(t=h[n+12>>2])&&(m[n+16|0]&&(t&&(h[6658]=h[6658]+1,r[h[5256]](t)),e=h[n+4>>2]),h[n+12>>2]=0),h[n+12>>2]=c,a[n+16|0]=1,h[n+8>>2]=o}t=e}h[h[n+12>>2]+(t<<2)>>2]=s,o=t+1|0,h[n+4>>2]=o}else r[h[h[i>>2]+12>>2]](i,s),o=h[n+4>>2];else o=t;else o=t;else o=t;else o=t;else o=t;else o=t;if(!((0|o)>0))break}}}(h[w>>2],s+16|0,e+8|0,s+144|0);else{if((0|u)<1)break e;for(p=0;Oi(s+144|0,h[64+(h[c+28>>2]+y(p,80)|0)>>2],p),(0|u)!=(0|(p=p+1|0)););}if(w=h[e+52>>2],(0|(p=h[e+32>>2]))<=-1)for(h[e+36>>2]<=-1&&((t=h[e+40>>2])&&(m[e+44|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+40>>2]=0),h[e+36>>2]=0,h[e+40>>2]=0,a[e+44|0]=1);h[h[e+40>>2]+(p<<2)>>2]=0,n=(t=p+1|0)>>>0>=p>>>0,p=t,n;);if(h[e+32>>2]=0,!((0|w)<1))for(o=0;h[(p=o<<2)+h[e+60>>2]>>2]&&(t=h[c+28>>2]+y(o,80)|0,T=h[t+64>>2],n=h[l+12>>2],H=g[n+52>>2],V=g[n+56>>2],R=g[t+48>>2],N=g[t+52>>2],D=g[t+56>>2],M=g[t+4>>2],O=g[t+20>>2],L=g[t+36>>2],F=g[t+8>>2],B=g[t+24>>2],U=g[t+40>>2],_=g[n+20>>2],f=g[n+24>>2],j=g[t>>2],k=g[t+16>>2],d=g[n+36>>2],G=g[t+32>>2],v=g[n+40>>2],I=g[n+48>>2],A=g[n+8>>2],b=g[n>>2],C=g[n+4>>2],S=g[n+16>>2],E=g[n+32>>2],u=0,h[s+108>>2]=0,h[s+92>>2]=0,h[s+76>>2]=0,h[s+60>>2]=0,g[s+80>>2]=x(x(E*j)+x(d*k))+x(v*G),g[s+64>>2]=x(x(S*j)+x(_*k))+x(f*G),g[s+48>>2]=x(x(b*j)+x(C*k))+x(A*G),g[s+88>>2]=x(x(E*F)+x(d*B))+x(v*U),g[s+84>>2]=x(x(E*M)+x(d*O))+x(v*L),g[s+72>>2]=x(x(S*F)+x(_*B))+x(f*U),g[s+68>>2]=x(x(S*M)+x(_*O))+x(f*L),g[s+56>>2]=x(x(b*F)+x(C*B))+x(A*U),g[s+52>>2]=x(x(b*M)+x(C*O))+x(A*L),g[s+104>>2]=V+x(x(x(E*R)+x(d*N))+x(v*D)),g[s+100>>2]=H+x(x(x(S*R)+x(_*N))+x(f*D)),g[s+96>>2]=I+x(x(x(b*R)+x(C*N))+x(A*D)),r[h[h[T>>2]+8>>2]](T,s+48|0,s+16|0,s+128|0),t=h[i+4>>2],r[h[h[t>>2]+8>>2]](t,h[i+12>>2],s+112|0,s),t=0,g[s+16>>2]>g[s>>2]||(t=0,g[s+128>>2]<g[s+112>>2]||(t=1)),(1^(u=g[s+136>>2]<g[s+120>>2]|g[s+24>>2]>g[s+8>>2]?u:t)||g[s+132>>2]<g[s+116>>2]|g[s+20>>2]>g[s+4>>2])&&(t=h[p+h[e+60>>2]>>2],r[h[h[t>>2]>>2]](t),t=h[e+4>>2],r[h[h[t>>2]+60>>2]](t,h[p+h[e+60>>2]>>2]),h[p+h[e+60>>2]>>2]=0)),(0|w)!=(0|(o=o+1|0)););}z=s+176|0}function zi(e,t,n){var i,o,s,c,l,p=0,u=0,_=0,f=0,d=0;if(z=i=z-32|0,p=h[e+52>>2],l=m[e+68|0],c=h[(s=l?n:t)+4>>2],(0|p)<(0|(o=h[c+20>>2]))){if(h[e+56>>2]<(0|o)){if(o?(h[6657]=h[6657]+1,f=0|r[h[5255]](o<<2,16),u=h[e+52>>2]):u=p,(0|u)>=1)for(;h[(d=_<<2)+f>>2]=h[h[e+60>>2]+d>>2],(0|u)!=(0|(_=_+1|0)););(u=h[e+60>>2])&&(m[e- -64|0]&&u&&(h[6658]=h[6658]+1,r[h[5256]](u)),h[e+60>>2]=0),h[e+60>>2]=f,h[e+56>>2]=o,a[e- -64|0]=1}for(;h[h[e+60>>2]+(p<<2)>>2]=0,(0|o)!=(0|(p=p+1|0)););}if(h[e+52>>2]=o,(0|o)>=1)for(t=l?t:n,p=0;h[c+68>>2]?h[h[e+60>>2]+(p<<2)>>2]=0:(n=h[s+12>>2],u=h[s+8>>2],h[i+12>>2]=h[64+(h[c+28>>2]+y(p,80)|0)>>2],h[i+16>>2]=u,h[i+20>>2]=n,h[i+28>>2]=p,h[i+24>>2]=-1,h[i+8>>2]=s,n=h[e+4>>2],n=0|r[h[h[n>>2]+8>>2]](n,i+8|0,t,h[e+72>>2],1),h[h[e+60>>2]+(p<<2)>>2]=n),(0|o)!=(0|(p=p+1|0)););z=i+32|0}function Fi(e,t,n,i){for(var o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0;;){for(p=n,a=h[e+12>>2],u=h[a+((n+i|0)/2<<3)>>2],s=n,o=i;;)if(s=(n=s)+1|0,!(h[(r=(n<<3)+a|0)>>2]<(0|u))){for(c=o;c=(o=c)+-1|0,h[(l=(_=o<<3)+a|0)>>2]>(0|u););if((0|n)<=(0|o)&&(n=h[r>>2],o=h[r+4>>2],a=h[l+4>>2],h[r>>2]=h[l>>2],h[r+4>>2]=a,r=h[e+12>>2]+_|0,h[r>>2]=n,h[r+4>>2]=o,o=c,n=s),!((0|n)<=(0|o)))break;a=h[e+12>>2],s=n}if((0|o)>(0|p)&&Fi(e,t,p,o),!((0|n)<(0|i)))break}}function Bi(e){var t=0,n=0;return h[(e|=0)>>2]=10504,m[e+52|0]&&(t=h[e+56>>2])&&(n=h[e+4>>2],r[h[h[n>>2]+16>>2]](n,t)),(t=h[e+44>>2])&&(m[e+48|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+44>>2]=0),h[e+44>>2]=0,h[e+36>>2]=0,h[e+40>>2]=0,a[e+48|0]=1,(t=h[e+24>>2])&&(m[e+28|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+24>>2]=0),h[e+24>>2]=0,h[e+16>>2]=0,h[e+20>>2]=0,a[e+28|0]=1,0|e}function Ui(e,t,n,i,o,s,c,l){var p,u=0,_=0,f=0,d=0,v=x(0),A=x(0),b=x(0),C=0,S=x(0),E=x(0),w=0,T=x(0),P=x(0),I=x(0),R=x(0),N=0,D=0,M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0);if(z=p=z-32|0,(0|(u=h[o+4>>2]))<=-1)for(h[o+8>>2]<=-1&&((_=h[o+12>>2])&&(m[o+16|0]&&_&&(h[6658]=h[6658]+1,r[h[5256]](_)),h[o+12>>2]=0),a[o+16|0]=1,h[o+8>>2]=0,h[o+12>>2]=0);f=h[p+20>>2],_=h[o+12>>2]+(u<<4)|0,h[_>>2]=h[p+16>>2],h[_+4>>2]=f,d=h[p+28>>2],h[_+8>>2]=h[p+24>>2],h[_+12>>2]=d,d=(_=u+1|0)>>>0>=u>>>0,u=_,d;);if(_=0,h[o+4>>2]=0,d=h[i+4>>2],h[o+8>>2]<(0|d)){if(d&&(h[6657]=h[6657]+1,_=0|r[h[5255]](d<<4,16),!((0|(D=h[o+4>>2]))<1)))for(u=0;C=w=(f=u<<4)+_|0,f=f+h[o+12>>2]|0,N=h[f+4>>2],h[C>>2]=h[f>>2],h[C+4>>2]=N,C=h[f+12>>2],h[w+8>>2]=h[f+8>>2],h[w+12>>2]=C,(0|D)!=(0|(u=u+1|0)););(u=h[o+12>>2])&&(m[o+16|0]&&u&&(h[6658]=h[6658]+1,r[h[5256]](u)),h[o+12>>2]=0),h[o+12>>2]=_,a[o+16|0]=1,h[o+8>>2]=d}if(!((0|(f=h[t+28>>2]))<1)){for(T=g[n+40>>2],M=g[n+36>>2],S=g[n+24>>2],O=g[n+20>>2],w=h[t+36>>2],P=g[e+8>>2],L=g[e+4>>2],I=g[e>>2],F=g[n+32>>2],B=g[n+16>>2],U=g[n+8>>2],j=g[n+4>>2],R=g[n>>2],u=0,b=x(34028234663852886e22),d=-1;_=w+y(u,36)|0,A=g[_+20>>2],v=g[_+24>>2],E=g[_+28>>2],b=(_=(A=x(x(x(x(x(x(A*R)+x(v*j))+x(E*U))*I)+x(x(x(x(A*B)+x(v*O))+x(E*S))*L))+x(x(x(x(A*F)+x(v*M))+x(E*T))*P)))<b)?A:b,d=_?u:d,(0|(u=u+1|0))<(0|f););if(!((0|d)<0)){if(f=h[t+36>>2]+y(d,36)|0,(0|(D=h[f+4>>2]))<1)_=i;else for(u=0;;){if(_=o,w=(0|(d=u+1|0))==(0|D),N=h[t+16>>2],C=h[f+12>>2],o=N+(h[C+((w?0:d)<<2)>>2]<<4)|0,k=g[o+8>>2],R=g[o>>2],G=g[o+4>>2],o=N+(h[(u<<2)+C>>2]<<4)|0,b=g[o+8>>2],A=g[o>>2],v=g[o+4>>2],X=g[n+56>>2],Q=g[n+52>>2],Z=g[n+48>>2],E=g[n+40>>2],T=g[n+32>>2],M=g[n+36>>2],S=g[f+28>>2],O=g[n+8>>2],P=g[f+20>>2],L=g[n>>2],I=g[f+24>>2],F=g[n+4>>2],B=g[n+24>>2],U=g[n+16>>2],j=g[n+20>>2],h[p+28>>2]=0,R=x(A-R),G=x(v-G),k=x(b-k),H=x(x(x(L*R)+x(F*G))+x(O*k)),V=x(x(x(U*P)+x(j*I))+x(B*S)),W=x(x(x(R*U)+x(G*j))+x(k*B)),q=x(x(x(L*P)+x(F*I))+x(O*S)),Y=x(x(H*V)-x(W*q)),g[p+24>>2]=-Y,S=x(x(x(T*P)+x(M*I))+x(E*S)),P=x(x(x(R*T)+x(G*M))+x(k*E)),I=x(x(W*S)-x(P*V)),g[p+16>>2]=-I,S=x(-x(x(P*q)-x(H*S))),g[p+20>>2]=S,Nl(o=i,_,p+16|0,x(-x(x(x(x(Q+x(x(x(A*U)+x(v*j))+x(b*B)))*S)-x(I*x(Z+x(x(x(A*L)+x(v*F))+x(b*O)))))-x(Y*x(X+x(x(x(A*T)+x(v*M))+x(b*E))))))),(0|(u=h[o+4>>2]))<=-1)for(h[o+8>>2]<=-1&&((i=h[o+12>>2])&&(m[o+16|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[o+12>>2]=0),a[o+16|0]=1,h[o+8>>2]=0,h[o+12>>2]=0);N=h[p+4>>2],i=h[o+12>>2]+(u<<4)|0,h[i>>2]=h[p>>2],h[i+4>>2]=N,C=h[p+12>>2],h[i+8>>2]=h[p+8>>2],h[i+12>>2]=C,C=(i=u+1|0)>>>0>=u>>>0,u=i,C;);if(h[o+4>>2]=0,u=d,i=_,w)break}if(!((0|(d=h[_+4>>2]))<1))for(b=g[f+20>>2],A=g[f+24>>2],v=g[f+28>>2],E=x(x(x(b*g[n>>2])+x(A*g[n+4>>2]))+x(v*g[n+8>>2])),T=x(x(x(b*g[n+16>>2])+x(A*g[n+20>>2]))+x(v*g[n+24>>2])),b=x(x(x(b*g[n+32>>2])+x(A*g[n+36>>2]))+x(v*g[n+40>>2])),A=x(g[f+32>>2]-x(x(x(E*g[n+48>>2])+x(T*g[n+52>>2]))+x(b*g[n+56>>2]))),n=0;t=h[_+12>>2]+(n<<4)|0,(v=(v=x(A+x(x(x(E*g[t>>2])+x(T*g[t+4>>2]))+x(b*g[t+8>>2]))))<=s?s:v)<=c&&(i=h[t+12>>2],h[p+24>>2]=h[t+8>>2],h[p+28>>2]=i,i=h[t+4>>2],h[p+16>>2]=h[t>>2],h[p+20>>2]=i,r[h[h[l>>2]+16>>2]](l,e,p+16|0,v),d=h[_+4>>2]),(0|(n=n+1|0))<(0|d););}}z=p+32|0}function ji(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0);z=i=z-144|0,h[i+108>>2]=0,a=g[t+80>>2],c=g[t+96>>2],d=g[t+120>>2],N=g[t+56>>2],E=g[t+112>>2],w=g[t+116>>2],D=g[t+52>>2],l=g[t+68>>2],v=g[t+84>>2],A=g[t+100>>2],s=g[t+20>>2],f=g[t+36>>2],y=g[t+72>>2],p=g[t+88>>2],m=g[t+24>>2],u=g[t+104>>2],b=g[t+40>>2],_=g[t+64>>2],C=g[t+32>>2],S=g[t>>2],P=g[t+16>>2],M=g[t+48>>2],I=g[t+4>>2],R=g[t+8>>2],h[i+100>>2]=0,h[i+84>>2]=0,h[i+68>>2]=0,g[i+80>>2]=x(x(R*y)+x(m*p))+x(b*u),g[i+76>>2]=x(x(I*y)+x(s*p))+x(f*u),g[i- -64>>2]=x(x(R*l)+x(m*v))+x(b*A),g[i+60>>2]=x(x(I*l)+x(s*v))+x(f*A),E=x(M-E),w=x(D-w),d=x(N-d),g[i+96>>2]=x(x(y*E)+x(p*w))+x(u*d),g[i+92>>2]=x(x(E*l)+x(w*v))+x(d*A),h[i+52>>2]=0,g[i+72>>2]=x(x(S*y)+x(P*p))+x(C*u),g[i+56>>2]=x(x(S*l)+x(P*v))+x(C*A),g[i+48>>2]=x(x(_*R)+x(a*m))+x(c*b),g[i+44>>2]=x(x(_*I)+x(a*s))+x(c*f),g[i+40>>2]=x(x(_*S)+x(a*P))+x(c*C),g[i+88>>2]=x(x(E*_)+x(w*a))+x(d*c),function(e,t,n,i,o,a){var s=x(0),c=x(0),l=x(0),p=0,u=0,_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=0,b=0,C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0);z=p=z-32|0,u=h[e+8>>2],c=g[u+60>>2],s=x(g[u+76>>2]-c),d=g[u- -64>>2],l=x(g[u+96>>2]-d),_=x(g[u+80>>2]-d),m=x(g[u+92>>2]-c),v=x(x(s*l)-x(_*m)),C=_,A=g[u+68>>2],_=x(g[u+100>>2]-A),f=x(g[u+84>>2]-A),l=x(x(C*_)-x(f*l)),m=x(x(f*m)-x(s*_));e:if((_=x(x(v*v)+x(x(l*l)+x(m*m))))>=x(14210854715202004e-30)&&(y=h[e+4>>2],C=x(g[y+32>>2]*g[y+16>>2]),s=x(C+a),a=x(x(1)/x(T(_))),_=x(l*a),l=g[t>>2],m=x(m*a),f=g[t+4>>2],S=x(x(_*x(l-c))+x(m*x(f-d))),d=x(v*a),c=g[t+8>>2],(a=x(S+x(d*x(c-A))))<x(0)&&(d=x(-d),m=x(-m),_=x(-_),a=x(-a)),a<s)){if(y=h[t+12>>2],h[p+24>>2]=h[t+8>>2],h[p+28>>2]=y,y=h[t+4>>2],h[p+16>>2]=h[t>>2],h[p+20>>2]=y,h[p+12>>2]=0,g[p+8>>2]=d,g[p+4>>2]=m,g[p>>2]=_,function(e,t,n){var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),h=x(0),m=x(0),d=x(0),v=x(0),A=x(0);return p=g[e+40>>2],c=g[e+24>>2],f=x(p-c),u=g[n+8>>2],m=g[e+32>>2],o=g[e+16>>2],s=x(m-o),r=g[t+4>>2],d=g[e+36>>2],l=g[e+20>>2],a=x(d-l),_=g[t>>2],h=x(x(u-c)*x(x(s*r)-x(a*_))),v=g[n>>2],i=a,a=g[t+8>>2],A=g[n+4>>2],f=x(h+x(x(x(v-o)*x(x(i*a)-x(f*r)))+x(x(A-l)*x(x(f*_)-x(s*a))))),i=c,c=g[e+8>>2],s=x(i-c),i=o,o=g[e>>2],h=x(i-o),i=l,l=g[e+4>>2],i=x(i-l),s=x(x(x(u-c)*x(x(h*r)-x(i*_)))+x(x(x(v-o)*x(x(i*a)-x(s*r)))+x(x(A-l)*x(x(s*_)-x(h*a))))),e=1,i=x(u-p),u=x(o-m),o=x(l-d),p=x(c-p),r=x(x(i*x(x(u*r)-x(o*_)))+x(x(x(v-m)*x(x(o*a)-x(p*r)))+x(x(A-d)*x(x(p*_)-x(u*a))))),f>x(0)&&!(r>x(0)^1|s>x(0)^1)||(e=s<=x(0)&f<=x(0)&r<=x(0)),e}(u+60|0,p,p+16|0))E=x(c-x(a*d)),w=x(f-x(a*m)),P=x(l-x(a*_)),S=x(s*s);else{if((0|r[h[h[u>>2]+100>>2]](u))<1)break e;for(S=x(s*s),y=0,u=0;b=h[e+8>>2],r[h[h[b>>2]+104>>2]](b,u,p+16|0,p),s=x(0),I=g[p+16>>2],a=x(g[t>>2]-I),f=x(g[p>>2]-I),R=g[p+20>>2],c=x(g[t+4>>2]-R),v=x(g[p+4>>2]-R),N=g[p+24>>2],l=x(g[t+8>>2]-N),A=x(g[p+8>>2]-N),(D=x(x(x(a*f)+x(c*v))+x(l*A)))>x(0)&&(D<(s=x(x(x(f*f)+x(v*v))+x(A*A)))?(s=x(D/s),l=x(l-x(A*s)),c=x(c-x(v*s)),a=x(a-x(f*s))):(l=x(l-A),c=x(c-v),a=x(a-f),s=x(1))),x(x(x(a*a)+x(c*c))+x(l*l))<S&&(P=x(I+x(f*s)),w=x(R+x(v*s)),y=1,E=x(N+x(A*s))),u=u+1|0,b=h[e+8>>2],(0|u)<(0|r[h[h[b>>2]+100>>2]](b)););if(b=0,!y)break e;c=g[t+8>>2],f=g[t+4>>2],l=g[t>>2]}a=x(l-P),l=x(f-w),c=x(c-E),(s=x(x(x(a*a)+x(l*l))+x(c*c)))<S&&(s>x(1.1920928955078125e-7)?(h[i+12>>2]=0,_=c,s=x(T(s)),c=x(x(1)/s),g[i+8>>2]=_*c,g[i+4>>2]=l*c,g[i>>2]=a*c,C=x(C-s)):(h[i+12>>2]=0,g[i+8>>2]=d,g[i+4>>2]=m,g[i>>2]=_),h[n+12>>2]=0,g[n+8>>2]=E,g[n+4>>2]=w,g[n>>2]=P,g[o>>2]=-C,b=1)}return z=p+32|0,b}(e,i+88|0,i+128|0,i+112|0,i+108|0,g[e+12>>2])&&(o?(v=g[t+72>>2],A=g[t+64>>2],y=g[t+68>>2],p=g[t+88>>2],u=g[t+80>>2],_=g[t+84>>2],s=g[t+104>>2],f=g[t+96>>2],m=g[t+100>>2],a=g[i+120>>2],c=g[i+112>>2],l=g[i+116>>2],h[i+36>>2]=0,b=x(x(x(c*f)+x(l*m))+x(a*s)),g[i+32>>2]=-b,C=x(x(x(c*u)+x(l*_))+x(a*p)),g[i+28>>2]=-C,S=x(x(x(A*c)+x(y*l))+x(v*a)),g[i+24>>2]=-S,P=g[t+112>>2],I=g[t+116>>2],a=g[t+120>>2],h[i+20>>2]=0,c=g[i+128>>2],l=g[i+132>>2],d=s,s=g[i+136>>2],d=x(a+x(x(x(f*c)+x(m*l))+x(d*s))),a=g[i+108>>2],g[i+16>>2]=d+x(b*a),g[i+12>>2]=x(I+x(x(x(c*u)+x(l*_))+x(s*p)))+x(C*a),g[i+8>>2]=x(P+x(x(x(c*A)+x(l*y))+x(s*v)))+x(S*a),r[h[h[n>>2]+16>>2]](n,i+24|0,i+8|0,a)):(a=g[t+72>>2],c=g[t+64>>2],l=g[t+68>>2],v=g[t+88>>2],A=g[t+80>>2],y=g[t+84>>2],p=g[t+104>>2],u=g[t+96>>2],_=g[t+100>>2],h[i+36>>2]=0,s=g[i+112>>2],f=g[i+116>>2],m=g[i+120>>2],g[i+32>>2]=x(x(u*s)+x(_*f))+x(p*m),g[i+28>>2]=x(x(s*A)+x(f*y))+x(m*v),g[i+24>>2]=x(x(c*s)+x(l*f))+x(a*m),s=g[t+112>>2],f=g[t+116>>2],m=g[t+120>>2],h[i+20>>2]=0,d=u,u=g[i+128>>2],b=_,_=g[i+132>>2],C=p,p=g[i+136>>2],g[i+16>>2]=m+x(x(x(d*u)+x(b*_))+x(C*p)),g[i+12>>2]=f+x(x(x(u*A)+x(_*y))+x(p*v)),g[i+8>>2]=s+x(x(x(u*c)+x(_*l))+x(p*a)),r[h[h[n>>2]+16>>2]](n,i+24|0,i+8|0,g[i+108>>2]))),z=i+144|0}function ki(e,t,n,i,o,a){e|=0,t|=0,n|=0,i=x(i),o|=0,a|=0;var s;return z=s=z+-64|0,h[s+60>>2]=a,h[s+56>>2]=o,o=h[e+212>>2],g[o+4>>2]>=i&&(h[s+8>>2]=h[e+216>>2],h[s+12>>2]=s+56,e=h[t+12>>2],h[s+24>>2]=h[t+8>>2],h[s+28>>2]=e,e=h[t+4>>2],h[s+16>>2]=h[t>>2],h[s+20>>2]=e,e=h[n+12>>2],h[s+40>>2]=h[n+8>>2],h[s+44>>2]=e,e=h[n+4>>2],h[s+32>>2]=h[n>>2],h[s+36>>2]=e,g[s+48>>2]=i,i=x(r[h[h[o>>2]+12>>2]](o,s+8|0,1))),z=s- -64|0,x(i)}function Gi(){return 1}function Hi(e){var t=0;(t=h[e+72>>2])&&(m[e+76|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+72>>2]=0),h[e+72>>2]=0,h[e+64>>2]=0,h[e+68>>2]=0,a[e+76|0]=1,(t=h[e+52>>2])&&(m[e+56|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+52>>2]=0),h[e+52>>2]=0,h[e+44>>2]=0,h[e+48>>2]=0,a[e+56|0]=1,(t=h[e+32>>2])&&(m[e+36|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+32>>2]=0),h[e+32>>2]=0,h[e+24>>2]=0,h[e+28>>2]=0,a[e+36|0]=1,(t=h[e+12>>2])&&(m[e+16|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+12>>2]=0),h[e+12>>2]=0,a[e+16|0]=1,h[e+4>>2]=0,h[e+8>>2]=0}function Vi(e,t){var n,i=0,o=0,s=0,c=0,l=0,p=0;if(z=n=z-96|0,a[n+92|0]=1,h[n+60>>2]=0,h[n+64>>2]=0,a[n+52|0]=1,h[n+48>>2]=0,a[n+72|0]=1,h[n+40>>2]=0,h[n+44>>2]=0,h[n+68>>2]=0,h[n+88>>2]=0,h[n+80>>2]=0,h[n+84>>2]=0,h[n+28>>2]=0,a[n+32|0]=1,h[n+20>>2]=0,h[n+24>>2]=0,!((0|(c=h[e+8>>2]))<1)){for(;;){s=h[h[h[e+16>>2]+(l<<2)>>2]+192>>2],h[n+12>>2]=s,p=i+-1|0,i=y((i=s+(s<<15^-1)|0)>>>10^i,9);e:{t:if(!((i=p&((i=((i^=i>>>6)<<11^-1)+i|0)>>>16^i))>>>0>=o>>>0)&&-1!=(0|(o=h[h[n+28>>2]+(i<<2)>>2]))){for(i=h[n+48>>2],p=h[n+88>>2];;){if((0|s)!=h[(o<<3)+p>>2]){if(-1!=(0|(o=h[i+(o<<2)>>2])))continue;break t}break}if(h[n+68>>2])break e}h[n>>2]=s,Dl(n+16|0,n,n+12|0),o=h[n+12>>2],r[h[h[o>>2]+60>>2]](o,t),c=h[e+8>>2]}if(!((0|(l=l+1|0))<(0|c)))break;o=h[n+20>>2],i=h[n+64>>2]}if(!((0|c)<1))for(o=0;s=h[h[e+16>>2]+(o<<2)>>2],1!=(0|(l=h[s+252>>2]))&&64!=(0|l)||(r[h[h[s>>2]+24>>2]](s,t),c=h[e+8>>2]),(0|(o=o+1|0))<(0|c););}Hi(n+16|0),z=n+96|0}function Wi(e){e|=0;var t,n=0,i=0,o=x(0),s=0,c=0,l=0,p=x(0),u=0,_=0,f=0,d=0,v=x(0),A=x(0),b=x(0),C=x(0);if(z=t=z-192|0,r[h[h[e>>2]+20>>2]](e)){if(n=0|r[h[h[e>>2]+20>>2]](e),r[h[h[n>>2]+100>>2]](n),n=0|r[h[h[e>>2]+20>>2]](e),r[h[h[n>>2]+8>>2]](t+80|0,n),n=0|r[h[h[e>>2]+20>>2]](e),8&r[h[h[n>>2]+56>>2]](n)&&(n=h[e+24>>2])&&!((0|(u=0|r[h[h[n>>2]+36>>2]](n)))<1))for(d=t+176|0,n=0;;){if(c=0,l=h[e+24>>2],_=0|r[h[h[l>>2]+40>>2]](l,n),(0|(f=h[_+844>>2]))>0)for(;s=0|r[h[h[e>>2]+20>>2]](e),l=_+y(c,208)|0,r[h[h[s>>2]+40>>2]](s,l+36|0,l+68|0,g[l+84>>2],h[l+168>>2],d),(0|f)!=(0|(c=c+1|0)););if((0|u)==(0|(n=n+1|0)))break}if(n=0|r[h[h[e>>2]+20>>2]](e),!(!(3&r[h[h[n>>2]+56>>2]](n))|h[e+8>>2]<1))for(l=t+160|0,u=t+96|0,d=t+112|0,_=t+128|0,f=t+144|0,c=0;;){if(s=h[h[e+16>>2]+(c<<2)>>2],!(32&m[s+204|0])){if(r[h[h[e>>2]+20>>2]](e)&&(n=0|r[h[h[e>>2]+20>>2]](e),1&r[h[h[n>>2]+56>>2]](n))){h[t+72>>2]=1053609165,h[t+76>>2]=0,h[t+64>>2]=1053609165,h[t+68>>2]=1053609165;e:if((n=h[s+220>>2]+-1|0)>>>0<=4){switch(n-1|0){default:n=h[t+92>>2],h[t+72>>2]=h[t+88>>2],h[t+76>>2]=n,n=h[t+84>>2],h[t+64>>2]=h[t+80>>2],h[t+68>>2]=n;break e;case 0:i=h[(n=u)+12>>2],h[t+72>>2]=h[n+8>>2],h[t+76>>2]=i,i=h[n+4>>2],h[t+64>>2]=h[n>>2],h[t+68>>2]=i;break e;case 1:i=h[(n=d)+12>>2],h[t+72>>2]=h[n+8>>2],h[t+76>>2]=i,i=h[n+4>>2],h[t+64>>2]=h[n>>2],h[t+68>>2]=i;break e;case 2:i=h[(n=_)+12>>2],h[t+72>>2]=h[n+8>>2],h[t+76>>2]=i,i=h[n+4>>2],h[t+64>>2]=h[n>>2],h[t+68>>2]=i;break e;case 3:}i=h[(n=f)+12>>2],h[t+72>>2]=h[n+8>>2],h[t+76>>2]=i,i=h[n+4>>2],h[t+64>>2]=h[n>>2],h[t+68>>2]=i}else h[t+72>>2]=1050253722,h[t+76>>2]=0,h[t+64>>2]=1050253722,h[t+68>>2]=1050253722;1&a[s+205|0]&&(n=h[s+320>>2],h[t+72>>2]=h[s+316>>2],h[t+76>>2]=n,n=h[s+312>>2],h[t+64>>2]=h[s+308>>2],h[t+68>>2]=n),r[h[h[e>>2]+28>>2]](e,s+4|0,h[s+192>>2],t- -64|0)}(n=h[e+72>>2])&&2&r[h[h[n>>2]+56>>2]](n)&&(i=h[(n=l)+12>>2],h[t+40>>2]=h[n+8>>2],h[t+44>>2]=i,i=h[n+4>>2],h[t+32>>2]=h[n>>2],h[t+36>>2]=i,n=h[s+192>>2],r[h[h[n>>2]+8>>2]](n,s+4|0,t- -64|0,t+48|0),o=g[5249],g[t+64>>2]=g[t+64>>2]-o,g[t+68>>2]=g[t+68>>2]-o,g[t+72>>2]=g[t+72>>2]-o,g[t+48>>2]=o+g[t+48>>2],g[t+52>>2]=o+g[t+52>>2],g[t+56>>2]=o+g[t+56>>2],3&m[s+204|0]|!m[e+44|0]|2!=h[s+252>>2]||(n=h[s+192>>2],r[h[h[n>>2]+8>>2]](n,s+68|0,t+16|0,t),p=x(g[t+16>>2]-o),g[t+16>>2]=p,v=x(g[t+20>>2]-o),g[t+20>>2]=v,A=x(g[t+24>>2]-o),g[t+24>>2]=A,b=x(o+g[t>>2]),g[t>>2]=b,C=x(o+g[t+4>>2]),g[t+4>>2]=C,o=x(o+g[t+8>>2]),g[t+8>>2]=o,p<g[t+64>>2]&&(g[t+64>>2]=p),v<g[t+68>>2]&&(g[t+68>>2]=v),A<g[t+72>>2]&&(g[t+72>>2]=A),(p=g[t+28>>2])<g[t+76>>2]&&(g[t+76>>2]=p),g[t+48>>2]<b&&(g[t+48>>2]=b),g[t+52>>2]<C&&(g[t+52>>2]=C),g[t+56>>2]<o&&(g[t+56>>2]=o),o=g[t+12>>2],g[t+60>>2]<o&&(g[t+60>>2]=o)),n=h[e+72>>2],r[h[h[n>>2]+60>>2]](n,t- -64|0,t+48|0,t+32|0))}if(!((0|(c=c+1|0))<h[e+8>>2]))break}}z=t+192|0}function qi(e,t,n,i){var o,r=0,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0);z=o=z-112|0,r=h[e+28>>2],R=g[r+52>>2],N=g[r+56>>2],d=g[n+52>>2],v=g[n+56>>2],a=g[r+20>>2],s=g[r+24>>2],A=g[n+20>>2],y=g[n+36>>2],b=g[n+24>>2],c=g[r+36>>2],C=g[n+40>>2],l=g[r+40>>2],D=g[r+48>>2],S=g[n+32>>2],E=g[n>>2],w=g[n+16>>2],p=g[r+8>>2],u=g[r>>2],_=g[r+4>>2],T=g[n+48>>2],f=g[r+16>>2],P=g[n+4>>2],I=g[n+8>>2],m=g[r+32>>2],h[o+108>>2]=0,h[o+92>>2]=0,h[o+76>>2]=0,g[o+88>>2]=x(x(I*m)+x(b*c))+x(C*l),g[o+84>>2]=x(x(P*m)+x(A*c))+x(y*l),g[o+72>>2]=x(x(I*f)+x(b*a))+x(C*s),g[o+68>>2]=x(x(P*f)+x(A*a))+x(y*s),g[o+104>>2]=N+x(x(x(m*T)+x(c*d))+x(l*v)),g[o+100>>2]=R+x(x(x(f*T)+x(a*d))+x(s*v)),h[o+60>>2]=0,g[o+56>>2]=x(x(u*I)+x(_*b))+x(p*C),g[o+52>>2]=x(x(u*P)+x(_*A))+x(p*y),g[o+48>>2]=x(x(E*u)+x(w*_))+x(S*p),g[o+96>>2]=D+x(x(x(u*T)+x(_*d))+x(p*v)),g[o+80>>2]=x(x(E*m)+x(w*c))+x(S*l),g[o+64>>2]=x(x(E*f)+x(w*a))+x(S*s),n=h[e+32>>2],h[o+36>>2]=-1,h[o+28>>2]=1065353216,h[o+32>>2]=1,h[o+44>>2]=t,h[o+40>>2]=n,h[o+24>>2]=9804,h[o+28>>2]=h[n+4>>2],n=h[e+4>>2],r=h[n+8>>2],h[o+20>>2]=t,h[o+16>>2]=-1,h[o+8>>2]=r,h[o+4>>2]=i,h[o>>2]=n,h[o+12>>2]=o+48,_l(h[e+8>>2],h[e+12>>2],h[e+16>>2],o,o+24|0,g[e+20>>2]),z=o+112|0}function Yi(e,t){var n,i,o=0,r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0);z=n=z-128|0,o=h[h[e+8>>2]+28>>2]+y(t,80)|0,i=h[o+64>>2],m=g[o+32>>2],d=g[o>>2],v=g[o+16>>2],A=g[o+56>>2],b=g[o+52>>2],C=g[o+48>>2],S=g[o+36>>2],E=g[o+20>>2],w=g[o+4>>2],T=g[o+40>>2],P=g[o+24>>2],I=g[o+8>>2],o=h[e+12>>2],R=g[o+52>>2],N=g[o+56>>2],r=g[o+24>>2],a=g[o+20>>2],s=g[o+40>>2],c=g[o+36>>2],D=g[o+48>>2],l=g[o+8>>2],p=g[o>>2],u=g[o+4>>2],_=g[o+16>>2],f=g[o+32>>2],h[n+124>>2]=0,h[n+108>>2]=0,h[n+92>>2]=0,g[n+104>>2]=x(x(I*f)+x(P*c))+x(T*s),g[n+100>>2]=x(x(w*f)+x(E*c))+x(S*s),g[n+88>>2]=x(x(I*_)+x(P*a))+x(T*r),g[n+84>>2]=x(x(w*_)+x(E*a))+x(S*r),g[n+120>>2]=N+x(x(x(f*C)+x(c*b))+x(s*A)),g[n+116>>2]=R+x(x(x(_*C)+x(a*b))+x(r*A)),h[n+76>>2]=0,g[n+72>>2]=x(x(p*I)+x(u*P))+x(l*T),g[n+68>>2]=x(x(p*w)+x(u*E))+x(l*S),g[n+64>>2]=x(x(d*p)+x(v*u))+x(m*l),g[n+112>>2]=D+x(x(x(p*C)+x(u*b))+x(l*A)),g[n+96>>2]=x(x(d*f)+x(v*c))+x(m*s),g[n+80>>2]=x(x(d*_)+x(v*a))+x(m*r),o=h[e+4>>2],h[n+60>>2]=t,h[n+56>>2]=-1,h[n+48>>2]=o,h[n+44>>2]=i,h[n+40>>2]=0,h[n+52>>2]=n- -64,o=h[e+24>>2],h[n+28>>2]=0,h[n+20>>2]=-65535,h[n+12>>2]=1065353216,h[n+16>>2]=0,h[n+36>>2]=t,h[n+32>>2]=o,h[n+8>>2]=8988,h[n+12>>2]=h[o+4>>2],h[n+28>>2]=h[o+20>>2],h[o+16>>2]=t,h[n+24>>2]=t,fl(h[e+16>>2],h[e+20>>2],n+40|0,n+8|0),z=n+128|0}function Xi(e,t,n,i){t|=0,n|=0,i|=0;var o,s=0,c=0,l=0,p=0,u=0;if(z=o=z-96|0,s=h[8+(e|=0)>>2],h[t+216>>2]=s,h[e+12>>2]==(0|s)&&!((0|s)>=(0|(l=s?s<<1:1)))){if(l&&(h[6657]=h[6657]+1,p=0|r[h[5255]](l<<2,16),s=h[e+8>>2]),(0|s)>=1)for(;h[(u=c<<2)+p>>2]=h[h[e+16>>2]+u>>2],(0|(c=c+1|0))!=(0|s););(c=h[e+16>>2])&&(m[e+20|0]&&(c&&(h[6658]=h[6658]+1,r[h[5256]](c)),s=h[e+8>>2]),h[e+16>>2]=0),h[e+16>>2]=p,h[e+12>>2]=l,a[e+20|0]=1}h[h[e+16>>2]+(s<<2)>>2]=t,h[e+8>>2]=s+1,s=h[t+16>>2],h[o+40>>2]=h[t+12>>2],h[o+44>>2]=s,s=h[t+8>>2],h[o+32>>2]=h[t+4>>2],h[o+36>>2]=s,s=h[t+32>>2],h[o+56>>2]=h[t+28>>2],h[o+60>>2]=s,s=h[t+24>>2],h[o+48>>2]=h[t+20>>2],h[o+52>>2]=s,s=h[t+48>>2],h[o+72>>2]=h[t+44>>2],h[o+76>>2]=s,s=h[t+40>>2],h[o+64>>2]=h[t+36>>2],h[o+68>>2]=s,s=h[t+64>>2],h[o+88>>2]=h[t+60>>2],h[o+92>>2]=s,s=h[t+56>>2],h[o+80>>2]=h[t+52>>2],h[o+84>>2]=s,s=h[t+192>>2],r[h[h[s>>2]+8>>2]](s,o+32|0,o+16|0,o),s=h[e+68>>2],h[t+188>>2]=r[h[h[s>>2]+8>>2]](s,o+16|0,o,h[h[t+192>>2]+4>>2],t,n,i,h[e+24>>2]),z=o+96|0}function Qi(e,t,n,i,o,r){var a;h[e+4>>2]=t,h[e>>2]=8080,t=h[n+12>>2],h[e+16>>2]=h[n+8>>2],h[e+20>>2]=t,t=h[n+4>>2],h[e+8>>2]=h[n>>2],h[e+12>>2]=t,t=h[n+28>>2],h[e+32>>2]=h[n+24>>2],h[e+36>>2]=t,t=h[n+20>>2],h[e+24>>2]=h[n+16>>2],h[e+28>>2]=t,t=h[n+44>>2],h[e+48>>2]=h[n+40>>2],h[e+52>>2]=t,t=h[n+36>>2],h[e+40>>2]=h[n+32>>2],h[e+44>>2]=t,a=h[n+60>>2],h[(t=e- -64|0)>>2]=h[n+56>>2],h[t+4>>2]=a,t=h[n+52>>2],h[e+56>>2]=h[n+48>>2],h[e+60>>2]=t,t=h[i+12>>2],h[e+80>>2]=h[i+8>>2],h[e+84>>2]=t,t=h[i+4>>2],h[e+72>>2]=h[i>>2],h[e+76>>2]=t,t=h[i+28>>2],h[e+96>>2]=h[i+24>>2],h[e+100>>2]=t,t=h[i+20>>2],h[e+88>>2]=h[i+16>>2],h[e+92>>2]=t,t=h[i+44>>2],h[e+112>>2]=h[i+40>>2],h[e+116>>2]=t,t=h[i+36>>2],h[e+104>>2]=h[i+32>>2],h[e+108>>2]=t,t=h[i+60>>2],h[e+128>>2]=h[i+56>>2],h[e+132>>2]=t,t=h[i+52>>2],h[e+120>>2]=h[i+48>>2],h[e+124>>2]=t,t=h[o+12>>2],h[e+144>>2]=h[o+8>>2],h[e+148>>2]=t,t=h[o+4>>2],h[e+136>>2]=h[o>>2],h[e+140>>2]=t,t=h[o+28>>2],h[e+160>>2]=h[o+24>>2],h[e+164>>2]=t,t=h[o+20>>2],h[e+152>>2]=h[o+16>>2],h[e+156>>2]=t,t=h[o+44>>2],h[e+176>>2]=h[o+40>>2],h[e+180>>2]=t,t=h[o+36>>2],h[e+168>>2]=h[o+32>>2],h[e+172>>2]=t,t=h[o+60>>2],h[e+192>>2]=h[o+56>>2],h[e+196>>2]=t,t=h[o+52>>2],h[e+184>>2]=h[o+48>>2],h[e+188>>2]=t,h[e+208>>2]=0,g[e+204>>2]=r,h[e+200>>2]=1065353216}function Zi(e,t,n,i){var o=0;h[e>>2]=8056,o=h[t+4>>2],h[e+4>>2]=h[t>>2],h[e+8>>2]=o,o=h[t+12>>2],h[e+12>>2]=h[t+8>>2],h[e+16>>2]=o,t=h[n+4>>2],h[e+20>>2]=h[n>>2],h[e+24>>2]=t,t=h[n+12>>2],h[e+28>>2]=h[n+8>>2],h[e+32>>2]=t,h[e+40>>2]=1065353216,h[e+36>>2]=i}function Ji(e,t,n,i,o,s){e|=0,t|=0,n|=0,i|=0,o|=0,s|=0;var l,p=x(0),u=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=0,C=0,S=x(0),E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=0,D=0,M=x(0),O=0,L=0;z=l=z-304|0,p=g[t+52>>2],v=g[n+52>>2],u=g[t+56>>2],A=g[n+56>>2],y=g[t+48>>2],d=g[n+48>>2],h[l+300>>2]=0,u=x(A-u),g[l+296>>2]=u,P=x(v-p),g[l+292>>2]=P,I=x(d-y),g[l+288>>2]=I,Lr(t,n,l+112|0,l+48|0),h[l+284>>2]=0,p=g[l+48>>2],v=x(p*g[l+120>>2]),g[l+280>>2]=v,A=x(p*g[l+116>>2]),g[l+276>>2]=A,y=x(p*g[l+112>>2]),g[l+272>>2]=y,p=g[i+52>>2],d=g[o+52>>2],f=g[i+56>>2],S=g[o+56>>2],E=g[i+48>>2],w=g[o+48>>2],h[l+268>>2]=0,S=x(S-f),g[l+264>>2]=S,R=x(d-p),g[l+260>>2]=R,E=x(w-E),g[l+256>>2]=E,Lr(i,o,l+112|0,l+48|0),h[l+252>>2]=0,p=g[l+48>>2],d=x(p*g[l+120>>2]),g[l+248>>2]=d,f=x(p*g[l+116>>2]),g[l+244>>2]=f,p=x(p*g[l+112>>2]),g[l+240>>2]=p,n=h[e+12>>2],M=x(r[h[h[n>>2]+16>>2]](n)),w=x(0),(n=h[e+16>>2])&&(w=x(r[h[h[n>>2]+16>>2]](n)),u=g[l+296>>2],S=g[l+264>>2],P=g[l+292>>2],R=g[l+260>>2],I=g[l+288>>2],E=g[l+256>>2],d=g[l+248>>2],f=g[l+244>>2],v=g[l+280>>2],A=g[l+276>>2],y=g[l+272>>2],p=g[l+240>>2]),d=x(x(M*x(T(x(x(x(y*y)+x(A*A))+x(v*v)))))+x(w*x(T(x(x(x(p*p)+x(f*f))+x(d*d)))))),v=x(E-I),A=x(R-P),y=x(S-u);e:if(x(d+x(T(x(x(x(v*v)+x(A*A))+x(y*y)))))!=x(0)&&(a[l+216|0]=0,h[l+212>>2]=1566444395,h[l+176>>2]=7932,Ki(e,t,i,l+176|0),n=h[l+208>>2],h[l+232>>2]=h[l+204>>2],h[l+236>>2]=n,n=h[l+200>>2],h[l+224>>2]=h[l+196>>2],h[l+228>>2]=n,m[l+216|0]&&(n=h[l+180>>2],N=h[l+184>>2],D=h[l+188>>2],!(x(d+x(x(x(v*g[l+180>>2])+x(A*g[l+184>>2]))+x(y*g[l+188>>2])))<=x(1.1920928955078125e-7))))){C=1,p=x(0);t:{if(u=x(g[l+212>>2]+g[s+172>>2]),f=g[l+192>>2],u>x(.0010000000474974513)){for(O=l+20|0,L=l+160|0,o=0;;){if((b=h[s+168>>2])&&(h[l+120>>2]=1065353216,h[l+124>>2]=0,h[l+112>>2]=1065353216,h[l+116>>2]=1065353216,r[h[h[b>>2]+28>>2]](b,l+224|0,x(.20000000298023224),l+112|0)),(f=x(d+x(x(x(v*(c(0,n),_()))+x(A*(c(0,N),_())))+x(y*(c(0,D),_())))))<=x(1.1920928955078125e-7)){C=0;break e}if((u=x(p+x(u/f)))<=p){C=0;break e}if(u<x(0)){C=0;break e}if(u>x(1)){C=0;break e}if(yr(t,l+288|0,l+272|0,u,l+112|0),yr(i,l+256|0,l+240|0,u,l+48|0),(n=h[s+168>>2])&&(h[l+8>>2]=0,h[l+12>>2]=0,h[l>>2]=1065353216,h[l+4>>2]=0,r[h[h[n>>2]+28>>2]](n,L,x(.20000000298023224),l)),r[h[h[s>>2]>>2]](s,u),a[l+40|0]=0,h[l+36>>2]=1566444395,h[l>>2]=7932,Ki(e,l+112|0,l+48|0,l),!m[l+40|0])break t;if(f=g[s+172>>2],b=h[(n=O)+12>>2],h[l+232>>2]=h[n+8>>2],h[l+236>>2]=b,b=h[n+4>>2],h[l+224>>2]=h[n>>2],h[l+228>>2]=b,b=o+1|0,o>>>0>63){r[h[h[s>>2]+8>>2]](s,-2,b),C=0;break e}if(n=h[l+4>>2],N=h[l+8>>2],D=h[l+12>>2],o=b,p=u,!((u=x(g[l+36>>2]+f))>x(.0010000000474974513)))break}f=g[l+16>>2]}u=f,h[s+132>>2]=n,g[s+164>>2]=p,g[s+144>>2]=u,h[s+140>>2]=D,h[s+136>>2]=N,e=h[l+228>>2],h[s+148>>2]=h[l+224>>2],h[s+152>>2]=e,e=h[l+236>>2],h[s+156>>2]=h[l+232>>2],h[s+160>>2]=e;break e}r[h[h[s>>2]+8>>2]](s,-1,o),C=0}return z=l+304|0,0|C}function Ki(e,t,n,i){var o,s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=0,M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=0,k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=x(0),$=0,ee=0,te=x(0),ne=x(0),ie=x(0),oe=x(0),re=x(0),ae=x(0);z=o=z-240|0,h[e+16>>2]?(Da(h[e+4>>2]),s=h[e+12>>2],D=h[s+4>>2],j=h[e+16>>2],$=s,ee=h[j+4>>2],M=x(r[h[h[s>>2]+48>>2]](s)),s=h[e+16>>2],e=function(e,t,n,i,o,r,s,c,l){return h[e+72>>2]=1,h[e+76>>2]=1,h[e+60>>2]=-1,a[e+52|0]=0,g[e+48>>2]=s,g[e+44>>2]=r,h[e+40>>2]=o,h[e+36>>2]=i,h[e+32>>2]=n,h[e+28>>2]=t,h[e+24>>2]=c,h[e+20>>2]=l,h[e+4>>2]=0,h[e+8>>2]=1065353216,h[e>>2]=5064,h[e+12>>2]=0,h[e+16>>2]=0,e}(o+160|0,$,j,D,ee,M,x(r[h[h[s>>2]+48>>2]](s)),h[e+4>>2],h[e+8>>2]),h[o+152>>2]=1566444395,s=h[t+12>>2],h[o+32>>2]=h[t+8>>2],h[o+36>>2]=s,s=h[t+4>>2],h[o+24>>2]=h[t>>2],h[o+28>>2]=s,s=h[t+28>>2],h[o+48>>2]=h[t+24>>2],h[o+52>>2]=s,s=h[t+20>>2],h[o+40>>2]=h[t+16>>2],h[o+44>>2]=s,D=h[t+44>>2],h[(s=o- -64|0)>>2]=h[t+40>>2],h[s+4>>2]=D,s=h[t+36>>2],h[o+56>>2]=h[t+32>>2],h[o+60>>2]=s,s=h[t+60>>2],h[o+80>>2]=h[t+56>>2],h[o+84>>2]=s,s=h[t+52>>2],h[o+72>>2]=h[t+48>>2],h[o+76>>2]=s,t=h[n+12>>2],h[o+96>>2]=h[n+8>>2],h[o+100>>2]=t,t=h[n+4>>2],h[o+88>>2]=h[n>>2],h[o+92>>2]=t,t=h[n+20>>2],h[o+104>>2]=h[n+16>>2],h[o+108>>2]=t,t=h[n+28>>2],h[o+112>>2]=h[n+24>>2],h[o+116>>2]=t,t=h[n+44>>2],h[o+128>>2]=h[n+40>>2],h[o+132>>2]=t,t=h[n+36>>2],h[o+120>>2]=h[n+32>>2],h[o+124>>2]=t,t=h[n+52>>2],h[o+136>>2]=h[n+48>>2],h[o+140>>2]=t,t=h[n+60>>2],h[o+144>>2]=h[n+56>>2],h[o+148>>2]=t,lr(e,o+24|0,i,0)):(te=g[n+52>>2],O=g[n+56>>2],L=g[t+52>>2],F=g[t+56>>2],u=g[t+16>>2],_=g[t+32>>2],f=g[t+20>>2],y=g[t+36>>2],p=g[n+20>>2],m=g[n+36>>2],c=g[n+24>>2],b=g[t+24>>2],l=g[n+40>>2],C=g[t+40>>2],B=g[n+48>>2],U=g[t+48>>2],s=h[e+12>>2],S=g[t>>2],E=g[t+4>>2],v=g[n+32>>2],d=g[n+16>>2],I=g[n>>2],R=g[n+4>>2],N=g[n+8>>2],w=g[t+8>>2],e=h[e+20>>2],A=g[e+56>>2],T=g[e+60>>2],P=g[e+52>>2],h[o+172>>2]=0,k=x(x(x(w*R)+x(b*p))+x(C*m)),A=x(-A),G=x(x(x(w*I)+x(b*d))+x(C*v)),H=x(x(x(w*N)+x(b*c))+x(C*l)),g[o+168>>2]=x(x(k*A)-x(P*G))-x(T*H),V=x(x(x(E*R)+x(f*p))+x(y*m)),W=x(x(x(E*I)+x(f*d))+x(y*v)),q=x(x(x(E*N)+x(f*c))+x(y*l)),g[o+164>>2]=x(x(V*A)-x(P*W))-x(T*q),Y=x(x(x(S*R)+x(u*p))+x(_*m)),X=x(x(x(S*I)+x(u*d))+x(_*v)),Q=x(x(x(S*N)+x(u*c))+x(_*l)),g[o+160>>2]=x(x(Y*A)-x(P*X))-x(T*Q),r[h[h[s>>2]+64>>2]](o+24|0,s,o+160|0),u=g[e+56>>2],_=g[e+60>>2],ne=g[e+68>>2],f=g[e+52>>2],y=g[o+32>>2],b=g[o+24>>2],C=g[o+28>>2],ie=g[n+52>>2],S=g[n+24>>2],E=g[n+20>>2],oe=g[n+56>>2],w=g[n+40>>2],T=g[n+36>>2],re=g[n+48>>2],P=g[n+8>>2],A=g[n>>2],Z=g[n+4>>2],J=g[n+16>>2],K=g[n+32>>2],h[o+172>>2]=0,ae=x(x(x(U*I)+x(L*d))+x(F*v)),M=d,d=x(-te),v=x(x(ae+x(x(x(M*d)-x(I*B))-x(v*O)))+x(x(x(X*b)+x(W*C))+x(G*y))),l=x(x(x(x(x(U*N)+x(L*c))+x(F*l))+x(x(x(c*d)-x(N*B))-x(l*O)))+x(x(x(Q*b)+x(q*C))+x(H*y))),c=x(x(x(x(x(U*R)+x(L*p))+x(F*m))+x(x(x(p*d)-x(R*B))-x(m*O)))+x(x(x(Y*b)+x(V*C))+x(k*y))),p=x(x(x(_*l)+x(x(f*v)+x(u*c)))-ne),m=x(v-x(f*p)),c=x(c-x(u*p)),l=x(l-x(_*p)),g[o+168>>2]=oe+x(x(x(K*m)+x(T*c))+x(w*l)),g[o+164>>2]=ie+x(x(x(m*J)+x(c*E))+x(l*S)),g[o+160>>2]=re+x(x(P*l)+x(x(A*m)+x(Z*c))),h[o+20>>2]=0,g[o+16>>2]=x(x(f*K)+x(u*T))+x(_*w),g[o+12>>2]=x(x(f*J)+x(u*E))+x(_*S),g[o+8>>2]=x(x(A*f)+x(Z*u))+x(P*_),r[h[h[i>>2]+16>>2]](i,o+8|0,o+160|0,p)),z=o+240|0}function $i(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0);z=i=z-160|0,h[i+112>>2]=h[t>>2],h[i+64>>2]=h[t+64>>2],h[i+116>>2]=h[t+4>>2],h[i+68>>2]=h[t+68>>2],h[i+120>>2]=h[t+8>>2],h[i+72>>2]=h[t+72>>2],h[i+128>>2]=h[t+16>>2],h[i+80>>2]=h[t+80>>2],h[i+132>>2]=h[t+20>>2],h[i+84>>2]=h[t+84>>2],h[i+136>>2]=h[t+24>>2],h[i+88>>2]=h[t+88>>2],h[i+144>>2]=h[t+32>>2],h[i+96>>2]=h[t+96>>2],h[i+148>>2]=h[t+36>>2],h[i+100>>2]=h[t+100>>2],h[i+152>>2]=h[t+40>>2],h[i+104>>2]=h[t+104>>2],o=h[e+4>>2],s=g[o+40>>2],a=g[o+36>>2],c=g[o+32>>2],l=x(r[h[h[o>>2]+48>>2]](o)),p=x(r[h[h[o>>2]+48>>2]](o)),u=x(r[h[h[o>>2]+48>>2]](o)),h[i+36>>2]=0,a=x(a+p),g[i+28>>2]=a+a,a=x(c+l),g[i+24>>2]=a+a,s=x(s+u),g[i+32>>2]=s+s,e=h[e+8>>2],s=g[e+40>>2],a=g[e+36>>2],c=g[e+32>>2],l=x(r[h[h[e>>2]+48>>2]](e)),p=x(r[h[h[e>>2]+48>>2]](e)),u=x(r[h[h[e>>2]+48>>2]](e)),h[i+20>>2]=0,a=x(a+p),g[i+12>>2]=a+a,a=x(c+l),g[i+8>>2]=a+a,s=x(s+u),g[i+16>>2]=s+s,function(e,t,n,i,o,a,s,c,l,p){var u=x(0),_=0,f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),C=x(0),S=x(0),E=x(0),w=0,P=x(0),I=0,R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=0,J=x(0),K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),re=x(0),ae=0,se=x(0),ce=x(0),le=x(0),pe=x(0),ue=x(0),_e=0,fe=x(0),he=0,me=0,de=0,ve=0,ge=0,Ae=0,ye=x(0),xe=x(0),be=0,Ce=0,Se=0,Ee=0;z=_=z-384|0,M=g[t+36>>2],W=g[t+4>>2],C=g[t+20>>2],j=g[t+40>>2],oe=g[t+8>>2],J=g[t+24>>2],v=g[e+8>>2],E=g[i+8>>2],A=g[e>>2],d=g[i>>2],L=g[e+4>>2],B=g[i+4>>2],f=g[t+32>>2],fe=g[t>>2],u=g[t+16>>2],P=x(g[n>>2]*x(.5)),g[_+372>>2]=P,m=x(g[n+4>>2]*x(.5)),g[_+376>>2]=m,R=x(g[n+8>>2]*x(.5)),g[_+380>>2]=R,O=x(g[a>>2]*x(.5)),g[_+360>>2]=O,N=x(g[a+4>>2]*x(.5)),g[_+364>>2]=N,S=x(g[a+8>>2]*x(.5)),g[_+368>>2]=S,A=x(d-A),d=x(B-L),v=x(E-v),E=x(x(x(fe*A)+x(u*d))+x(f*v)),K=g[o>>2],k=g[o+16>>2],q=g[o+32>>2],L=x(x(x(fe*K)+x(u*k))+x(f*q)),se=x(b(L)),D=g[o+4>>2],$=g[o+20>>2],ee=g[o+36>>2],B=x(x(x(fe*D)+x(u*$))+x(f*ee)),ye=x(b(B)),te=g[o+8>>2],ne=g[o+24>>2],re=g[o+40>>2],G=x(x(x(fe*te)+x(u*ne))+x(f*re)),xe=x(b(G));e:if(!((u=x(x(b(E))-x(x(x(P+x(O*se))+x(N*ye))+x(S*xe))))>x(0)||(H=x(x(x(W*te)+x(C*ne))+x(M*re)),ce=x(b(H)),Y=x(x(x(W*D)+x(C*$))+x(M*ee)),ie=x(b(Y)),X=x(x(x(W*K)+x(C*k))+x(M*q)),Q=x(b(X)),f=x(-34028234663852886e22),n=0,u>x(-34028234663852886e22)&&(w=E<x(0),f=u,I=t,n=1),M=x(x(x(A*W)+x(d*C))+x(v*M)),(u=x(x(b(M))-x(x(x(m+x(O*Q))+x(N*ie))+x(S*ce))))>x(0)||(V=x(x(x(oe*te)+x(J*ne))+x(j*re)),le=x(b(V)),U=x(x(x(oe*D)+x(J*$))+x(j*ee)),pe=x(b(U)),F=x(x(x(oe*K)+x(J*k))+x(j*q)),ue=x(b(F)),u>f&&(I=t+4|0,w=M<x(0),f=u,n=2),C=x(x(x(A*oe)+x(d*J))+x(v*j)),(u=x(x(b(C))-x(x(x(R+x(O*ue))+x(N*pe))+x(S*le))))>x(0)||(u>f&&(I=t+8|0,w=C<x(0),f=u,n=3),j=x(x(x(A*K)+x(d*k))+x(v*q)),(u=x(x(b(j))-x(O+x(x(R*ue)+x(x(P*se)+x(m*Q))))))>x(0)||(u>f&&(w=j<x(0),f=u,I=o,n=4),j=x(x(x(A*D)+x(d*$))+x(v*ee)),(u=x(x(b(j))-x(N+x(x(R*pe)+x(x(P*ye)+x(m*ie))))))>x(0)||(u>f&&(I=o+4|0,w=j<x(0),f=u,n=5),A=x(x(x(A*te)+x(d*ne))+x(v*re)),(u=x(x(b(A))-x(S+x(x(R*le)+x(x(P*xe)+x(m*ce))))))>x(0)||(u>f&&(I=o+8|0,w=A<x(0),f=u,n=6),q=x(x(C*X)-x(M*F)),$=x(ye+x(9999999747378752e-21)),ee=x(ue+x(9999999747378752e-21)),te=x(Q+x(9999999747378752e-21)),ne=x(xe+x(9999999747378752e-21)),(u=x(x(b(q))-x(x(S*$)+x(x(x(m*ee)+x(R*te))+x(N*ne)))))>x(1.1920928955078125e-7)||(j=x(pe+x(9999999747378752e-21)),J=x(ie+x(9999999747378752e-21)),K=x(se+x(9999999747378752e-21)),d=x(0),re=x(X*X),ie=x(x(F*F)+x(0)),(k=x(T(x(re+ie))))>x(1.1920928955078125e-7)?(v=x(0),u=x(u/k),A=x(0),x(u*x(1.0499999523162842))>f&&(w=q<x(0),v=x(x(-F)/k),d=x(x(0)/k),I=0,n=7,f=u,A=x(X/k))):(v=x(0),A=x(0)),Q=x(x(C*Y)-x(M*U)),(u=x(x(b(Q))-x(x(S*K)+x(x(x(m*j)+x(R*J))+x(O*ne)))))>x(1.1920928955078125e-7)||(k=x(le+x(9999999747378752e-21)),q=x(ce+x(9999999747378752e-21)),ce=x(Y*Y),le=x(x(U*U)+x(0)),(D=x(T(x(ce+le))))>x(1.1920928955078125e-7)&&(u=x(u/D),x(u*x(1.0499999523162842))>f&&(w=Q<x(0),A=x(Y/D),v=x(x(-U)/D),d=x(x(0)/D),I=0,n=8,f=u)),Q=x(x(C*H)-x(M*V)),(u=x(x(b(Q))-x(x(N*K)+x(x(O*$)+x(x(m*k)+x(R*q))))))>x(1.1920928955078125e-7)||(pe=x(H*H),ue=x(x(V*V)+x(0)),(D=x(T(x(pe+ue))))>x(1.1920928955078125e-7)&&(u=x(u/D),x(u*x(1.0499999523162842))>f&&(w=Q<x(0),A=x(H/D),v=x(x(-V)/D),d=x(x(0)/D),I=0,n=9,f=u)),Q=x(x(E*F)-x(C*L)),(u=x(x(b(Q))-x(x(S*J)+x(x(x(P*ee)+x(R*K))+x(N*q)))))>x(1.1920928955078125e-7)||(se=x(L*L),(D=x(T(x(se+ie))))>x(1.1920928955078125e-7)&&(u=x(u/D),x(u*x(1.0499999523162842))>f&&(w=Q<x(0),A=x(x(-L)/D),v=x(x(0)/D),d=x(F/D),I=0,n=10,f=u)),D=x(x(E*U)-x(C*B)),(u=x(x(b(D))-x(x(S*te)+x(x(x(P*j)+x(R*$))+x(O*q)))))>x(1.1920928955078125e-7)||(ie=x(B*B),(F=x(T(x(ie+le))))>x(1.1920928955078125e-7)&&(u=x(u/F),x(u*x(1.0499999523162842))>f&&(w=D<x(0),A=x(x(-B)/F),v=x(x(0)/F),d=x(U/F),I=0,n=11,f=u)),U=x(x(E*V)-x(C*G)),(u=x(x(b(U))-x(x(N*te)+x(x(O*J)+x(x(P*k)+x(R*ne))))))>x(1.1920928955078125e-7)||(F=x(G*G),(C=x(T(x(F+ue))))>x(1.1920928955078125e-7)&&(u=x(u/C),x(u*x(1.0499999523162842))>f&&(w=U<x(0),A=x(x(-G)/C),v=x(x(0)/C),d=x(V/C),I=0,n=12,f=u)),V=x(x(M*L)-x(E*X)),(u=x(x(b(V))-x(x(S*j)+x(x(x(P*te)+x(m*K))+x(N*k)))))>x(1.1920928955078125e-7)||((C=x(T(x(x(re+se)+x(0)))))>x(1.1920928955078125e-7)&&(u=x(u/C),x(u*x(1.0499999523162842))>f&&(w=V<x(0),A=x(x(0)/C),v=x(L/C),d=x(x(-X)/C),I=0,n=13,f=u)),C=x(x(M*B)-x(E*Y)),(u=x(x(b(C))-x(x(S*ee)+x(x(x(P*J)+x(m*$))+x(O*k)))))>x(1.1920928955078125e-7)||((S=x(T(x(x(ce+ie)+x(0)))))>x(1.1920928955078125e-7)&&(u=x(u/S),x(u*x(1.0499999523162842))>f&&(w=C<x(0),A=x(x(0)/S),v=x(B/S),d=x(x(-Y)/S),I=0,n=14,f=u)),S=x(x(M*G)-x(E*H)),(P=x(x(b(S))-x(x(N*ee)+x(x(O*j)+x(x(P*q)+x(m*ne))))))>x(1.1920928955078125e-7))))))))))))))))){t:{n:{if((u=x(T(x(x(pe+F)+x(0)))))>x(1.1920928955078125e-7)&&(P=x(P/u),x(P*x(1.0499999523162842))>f))w=S<x(0),A=x(x(0)/u),v=x(G/u),d=x(x(-H)/u),n=15;else{if(!n)break e;if(I)break n;P=f}u=x(x(x(fe*d)+x(W*v))+x(oe*A)),g[s>>2]=u,m=x(x(x(d*g[t+16>>2])+x(v*g[t+20>>2]))+x(A*g[t+24>>2])),g[s+4>>2]=m,d=x(x(x(d*g[t+32>>2])+x(v*g[t+36>>2]))+x(A*g[t+40>>2])),g[s+8>>2]=d;break t}u=g[I>>2],h[s>>2]=h[I>>2],m=g[I+16>>2],h[s+4>>2]=h[I+16>>2],d=g[I+32>>2],h[s+8>>2]=h[I+32>>2],P=f}if(w&&(g[s+8>>2]=-d,g[s+4>>2]=-m,g[s>>2]=-u),g[c>>2]=-P,(0|n)>=7)h[_+120>>2]=h[e+8>>2],a=h[e+4>>2],h[_+112>>2]=h[e>>2],h[_+116>>2]=a,m=x(0),N=g[_+112>>2],S=g[_+116>>2],C=f=g[_+372>>2],d=x(-f),f=g[s>>2],E=g[t>>2],u=g[s+4>>2],M=g[t+16>>2],A=g[s+8>>2],v=g[t+32>>2],d=x(x(x(f*E)+x(u*M))+x(A*v))>x(0)?C:d,D=x(g[_+120>>2]+x(d*v)),v=g[_+376>>2],C=g[t+4>>2],L=g[t+20>>2],B=g[t+36>>2],v=x(x(x(f*C)+x(u*L))+x(A*B))>x(0)?v:x(-v),D=x(D+x(v*B)),B=g[t+8>>2],G=g[t+24>>2],H=g[t+40>>2],R=x(x(x(f*B)+x(u*G))+x(A*H))>x(0)?R:x(-R),g[_+120>>2]=D+x(R*H),g[_+116>>2]=x(x(S+x(d*M))+x(v*L))+x(R*G),g[_+112>>2]=x(x(N+x(d*E))+x(v*C))+x(R*B),h[_+216>>2]=h[i+8>>2],e=h[i+4>>2],h[_+208>>2]=h[i>>2],h[_+212>>2]=e,C=x(-O),E=O,R=g[o>>2],O=g[o+16>>2],v=g[o+32>>2],d=x(x(x(f*R)+x(u*O))+x(A*v))>x(0)?C:E,C=x(g[_+216>>2]+x(d*v)),v=g[_+364>>2],N=g[o+4>>2],S=g[o+20>>2],E=g[o+36>>2],v=x(x(x(f*N)+x(u*S))+x(A*E))>x(0)?x(-v):v,D=x(C+x(v*E)),E=g[_+368>>2],L=x(-E),C=E,E=g[o+8>>2],M=g[o+24>>2],f=x(x(f*E)+x(u*M)),u=g[o+40>>2],f=x(f+x(A*u))>x(0)?L:C,u=x(D+x(f*u)),g[_+216>>2]=u,A=x(x(x(g[_+212>>2]+x(d*O))+x(v*S))+x(f*M)),g[_+212>>2]=A,f=x(x(x(g[_+208>>2]+x(d*R))+x(v*N))+x(f*E)),g[_+208>>2]=f,N=g[(e=(e=t)+((i=(0|(t=n+-7|0))/3|0)<<2)|0)>>2],t=(t-y(i,3)<<2)+o|0,d=g[t>>2],S=g[e+16>>2],v=g[t+16>>2],E=g[e+32>>2],R=g[t+32>>2],O=x(x(x(N*d)+x(S*v))+x(E*R)),(M=x(x(1)-x(O*O)))<=x(9999999747378752e-20)||(m=x(f-g[_+112>>2]),C=x(m*N),N=x(A-g[_+116>>2]),C=x(C+x(N*S)),S=x(u-g[_+120>>2]),m=x(x(x(x(C+x(S*E))*O)-x(x(x(m*d)+x(N*v))+x(S*R)))*x(x(1)/M))),g[_+216>>2]=u+x(m*R),g[_+212>>2]=A+x(m*v),g[_+208>>2]=f+x(m*d),f=g[s>>2],u=g[s+4>>2],A=g[s+8>>2],h[_+300>>2]=0,g[_+296>>2]=-A,g[_+292>>2]=-u,g[_+288>>2]=-f,r[h[h[p>>2]+16>>2]](p,_+288|0,_+208|0,P),h[l>>2]=n;else{v=g[s>>2],(0|n)<=3?(P=g[s+8>>2],A=g[s+4>>2],de=_+372|0,w=o,I=_+360|0):(v=x(-v),P=x(-g[s+8>>2]),A=x(-g[s+4>>2]),a=i,de=_+360|0,i=e,e=a,w=t,t=o,I=_+372|0),u=x(x(x(v*g[w>>2])+x(A*g[w+16>>2]))+x(P*g[w+32>>2])),g[_+344>>2]=u,m=x(x(x(v*g[w+4>>2])+x(A*g[w+20>>2]))+x(P*g[w+36>>2])),g[_+348>>2]=m,f=x(x(x(v*g[w+8>>2])+x(A*g[w+24>>2]))+x(P*g[w+40>>2])),g[_+352>>2]=f,f=x(b(f)),(m=x(b(m)))>(u=x(b(u)))?(o=(c=m>f)?1:2,a=0):(o=(1^(c=u>f))<<1,a=c),Ce=a,f=g[(a=o<<2)+I>>2],u=x(f*g[a+w>>2]),m=x(g[i>>2]-g[e>>2]),Se=c?2:1,o=_,g[a+(_+344|0)>>2]<x(0)?(u=x(m+u),g[_+328>>2]=u,m=x(x(g[i+4>>2]-g[e+4>>2])+x(f*g[(16|a)+w>>2])),g[_+332>>2]=m,f=x(x(g[i+8>>2]-g[e+8>>2])+x(f*g[(32|a)+w>>2]))):(u=x(m-u),g[_+328>>2]=u,m=x(x(g[i+4>>2]-g[e+4>>2])-x(f*g[(16|a)+w>>2])),g[_+332>>2]=m,f=x(x(g[i+8>>2]-g[e+8>>2])-x(f*g[(32|a)+w>>2]))),g[o+336>>2]=f,o=1;t:{if((be=((0|n)<4?-1:-4)+n|0)>>>0<=1){if(i=2,be-1)break t}else i=1;o=0}d=g[32+(o=(a=o<<2)+t|0)>>2],R=g[o>>2],O=g[o+16>>2],N=g[(t=(i<<=2)+t|0)>>2],S=g[t+16>>2],E=g[t+32>>2],M=x(x(x(u*N)+x(m*S))+x(f*E)),L=g[(ve=(t=Ce<<2)+w|0)>>2],B=g[ve+16>>2],G=g[ve+32>>2],C=x(x(x(N*L)+x(S*B))+x(E*G)),H=g[t+I>>2],Y=x(C*H),X=x(M+Y),V=g[(ge=(t=Se<<2)+w|0)>>2],U=g[ge+16>>2],F=g[ge+32>>2],S=x(x(x(N*V)+x(S*U))+x(E*F)),W=g[t+I>>2],N=x(S*W),g[_+316>>2]=X-N,E=x(x(x(u*R)+x(m*O))+x(f*d)),L=x(x(x(R*L)+x(O*B))+x(d*G)),u=x(H*L),m=x(E+u),R=x(x(x(R*V)+x(O*U))+x(d*F)),f=x(W*R),g[_+312>>2]=m-f,g[_+308>>2]=X+N,g[_+304>>2]=m+f,m=x(M-Y),g[_+300>>2]=m+N,u=x(E-u),g[_+296>>2]=u+f,g[_+292>>2]=m-N,g[_+288>>2]=u-f,h[_+280>>2]=h[a+de>>2],h[_+284>>2]=h[i+de>>2],t=4,a=_+208|0,I=_+288|0;t:{for(;;){n:{i:if((0|t)>=1){for(Ee=1-Ae|0,u=g[(_e=(ae=Ae<<2)+(_+280|0)|0)>>2],c=0,i=a,o=I;;){if(m=g[(Z=o+ae|0)>>2],u>(d=x(-m))){if(h[i>>2]=h[o>>2],h[i+4>>2]=h[o+4>>2],8&(c=c+1|0))break n;u=g[_e>>2],m=g[Z>>2],d=x(-m),i=i+8|0}if(he=d<u,Z=o+8|0,d=g[(me=(0|t)>1?Z:I)+ae>>2],(0|he)!=(u>x(-d)|0)){if(f=g[(he=o)+(o=Ee<<2)>>2],g[i+o>>2]=f+x(x(x(-u)-m)*x(x(g[o+me>>2]-f)/x(d-m))),u=g[_e>>2],g[i+ae>>2]=-u,8&(c=c+1|0))break n;i=i+8|0}if(o=Z,!((0|(t=t+-1|0))>0))break}if(t=0,I=(_+208|0)==(0|a)?_+112|0:_+208|0,(0|c)<=0)break i;for(i=I,o=a;;){if((m=g[(Z=o+ae|0)>>2])<u){if(h[i>>2]=h[o>>2],h[i+4>>2]=h[o+4>>2],8&(t=t+1|0))break t;u=g[_e>>2],m=g[Z>>2],i=i+8|0}if(Z=o+8|0,(m<u|0)!=((d=g[(me=(0|c)>1?Z:a)+ae>>2])<u|0)){if(f=g[(he=o)+(o=Ee<<2)>>2],g[i+o>>2]=f+x(x(u-m)*x(x(g[o+me>>2]-f)/x(d-m))),u=g[_e>>2],h[i+ae>>2]=h[_e>>2],8&(t=t+1|0))break t;i=i+8|0}if(o=Z,!((0|(c=c+-1|0))>0))break}}else I=(_+208|0)==(0|a)?_+112|0:_+208|0,t=0;if(a=(_+208|0)==(0|I)?_+112|0:_+208|0,2!=(0|(Ae=Ae+1|0)))continue;break t}break}I=a,t=c}if((_+208|0)!=(0|I)&&qo(_+208|0,I,t<<3),!((0|t)<1)){for(f=x(x(1)/x(x(L*S)-x(C*R))),m=x(f*x(-C)),d=x(S*f),R=x(R*f),O=x(L*f),N=g[(be<<2)+de>>2],S=g[(32|(i=Se<<2))+w>>2],C=g[(32|(o=Ce<<2))+w>>2],L=g[(16|i)+w>>2],B=g[(16|o)+w>>2],G=g[ge>>2],H=g[ve>>2],o=0,Y=g[_+336>>2],X=g[_+332>>2],V=g[_+328>>2],i=0;a=(_+112|0)+y(o,12)|0,U=g[(c=i<<3)+(_+208|0)>>2],u=x(U-E),F=g[(_+208|0)+(4|c)>>2],W=x(F-M),f=x(x(d*u)-x(R*W)),u=x(x(m*u)+x(O*W)),W=x(x(V+x(f*H))+x(u*G)),g[a>>2]=W,oe=x(x(X+x(f*B))+x(u*L)),g[a+4>>2]=oe,f=x(x(Y+x(f*C))+x(u*S)),g[a+8>>2]=f,f=x(N-x(x(x(v*W)+x(A*oe))+x(P*f))),g[(_+80|0)+(o<<2)>>2]=f,f>=x(0)&&(g[(a=o<<3)+(_+208|0)>>2]=U,g[(_+208|0)+(4|a)>>2]=F,o=o+1|0),(0|(i=i+1|0))!=(0|t););if(!((0|o)<1)){t:if((0|o)<=(0|(a=(0|(t=(0|o)<4?o:4))>1?t:1))){if((0|n)>=4){for(t=0;i=(_+112|0)+y(t,12)|0,u=g[s>>2],f=g[(_+80|0)+(t<<2)>>2],g[_+32>>2]=x(g[i>>2]+g[e>>2])-x(u*f),P=g[s+4>>2],g[_+36>>2]=x(g[i+4>>2]+g[e+4>>2])-x(f*P),A=g[s+8>>2],g[_+40>>2]=x(g[i+8>>2]+g[e+8>>2])-x(f*A),h[_+76>>2]=0,g[_+72>>2]=-A,g[_+68>>2]=-P,g[_+64>>2]=-u,r[h[h[p>>2]+16>>2]](p,_- -64|0,_+32|0,x(-f)),(0|o)!=(0|(t=t+1|0)););break t}for(t=0;i=(_+112|0)+y(t,12)|0,g[_+32>>2]=g[i>>2]+g[e>>2],g[_+36>>2]=g[i+4>>2]+g[e+4>>2],g[_+40>>2]=g[i+8>>2]+g[e+8>>2],f=g[s>>2],u=g[s+4>>2],P=g[s+8>>2],h[_+76>>2]=0,g[_+72>>2]=-P,g[_+68>>2]=-u,g[_+64>>2]=-f,r[h[h[p>>2]+16>>2]](p,_- -64|0,_+32|0,x(-g[(_+80|0)+(t<<2)>>2])),(0|o)!=(0|(t=t+1|0)););}else{if(i=0,(0|o)>=2)for(u=g[_+80>>2],t=1;u=(c=(f=g[(_+80|0)+(t<<2)>>2])>u)?f:u,i=c?t:i,(0|o)!=(0|(t=t+1|0)););for(function(e,t,n,i,o){var r=0,a=x(0),s=x(0),c=0,l=0,p=x(0),u=x(0),_=0,f=0,m=x(0),d=x(0),v=x(0),A=x(0),y=x(0);z=l=z+-64|0;n:{i:{o:{r:{a:{if(!((c=e+-1|0)>>>0<=1)){if((0|c)>0)break a;break r}if(c-1)break o;s=x(x(g[t+4>>2]+g[t+12>>2])*x(.5)),a=x(x(g[t>>2]+g[t+8>>2])*x(.5));break i}for(;u=g[(_=(f=r<<3)+t|0)>>2],m=g[_+12>>2],d=g[_+8>>2],v=g[(4|f)+t>>2],p=x(x(u*m)-x(d*v)),a=x(a+p),s=x(s+x(x(m+v)*p)),A=x(A+x(x(u+d)*p)),(0|c)!=(0|(r=r+1|0)););}if(p=x(0xde0b6b000000000),y=a,u=g[(r=(e<<3)+t|0)-8>>2],m=g[t+4>>2],d=g[t>>2],v=g[r+-4>>2],a=x(x(u*m)-x(d*v)),y=x(y+a),x(b(y))>x(1.1920928955078125e-7)&&(p=x(x(1)/x(y*x(3)))),_=0,(0|e)<=0)break n;s=x(x(s+x(x(m+v)*a))*p),a=x(x(A+x(x(u+d)*a))*p);break i}s=g[t+4>>2],a=g[t>>2]}for(r=0;c=r<<3,g[(l+32|0)+(r<<2)>>2]=So(x(g[(4|c)+t>>2]-s),x(g[t+c>>2]-a)),(0|(r=r+1|0))!=(0|e););for(r=0;_=1,h[(r<<2)+l>>2]=1,(0|(r=r+1|0))!=(0|e););}if(h[(t=i<<2)+l>>2]=0,h[o>>2]=i,(0|n)>=2)for(p=x(x(6.2831854820251465)/x(0|n)),A=g[t+(l+32|0)>>2],c=1;;){if(h[o+4>>2]=i,o=o+4|0,t=i,_)for(u=(a=x(x(p*x(0|c))+A))>x(3.1415927410125732)?x(a+x(-6.2831854820251465)):a,r=0,a=x(1e9);h[(f=r<<2)+l>>2]&&(s=(s=x(b(x(g[f+(l+32|0)>>2]-u))))>x(3.1415927410125732)?x(x(6.2831854820251465)-s):s)<a&&(h[o>>2]=r,t=r,a=s),(0|(r=r+1|0))!=(0|e););if(h[(t<<2)+l>>2]=0,(0|(c=c+1|0))==(0|n))break}z=l- -64|0}(o,_+208|0,a,i,_+32|0),c=(0|n)>3,t=0;i=h[(_+32|0)+(t<<2)>>2],o=(_+112|0)+y(i,12)|0,A=x(g[o>>2]+g[e>>2]),g[_+64>>2]=A,m=x(g[o+4>>2]+g[e+4>>2]),g[_+68>>2]=m,d=x(g[o+8>>2]+g[e+8>>2]),g[_+72>>2]=d,c?(u=g[s>>2],P=g[s+4>>2],f=g[s+8>>2],h[_+28>>2]=0,g[_+24>>2]=-f,g[_+20>>2]=-P,g[_+16>>2]=-u,h[_+12>>2]=0,E=f,f=g[(_+80|0)+(i<<2)>>2],g[_+8>>2]=d-x(E*f),g[_+4>>2]=m-x(P*f),g[_>>2]=A-x(u*f),r[h[h[p>>2]+16>>2]](p,_+16|0,_,x(-f))):(f=g[s>>2],u=g[s+4>>2],P=g[s+8>>2],h[_+28>>2]=0,g[_+24>>2]=-P,g[_+20>>2]=-u,g[_+16>>2]=-f,r[h[h[p>>2]+16>>2]](p,_+16|0,_- -64|0,x(-g[(_+80|0)+(i<<2)>>2]))),(t=t+1|0)>>>0<a>>>0;);}h[l>>2]=n}}}}z=_+384|0}(t+48|0,i+112|0,i+24|0,t+112|0,i- -64|0,i+8|0,i+48|0,i+44|0,i+40|0,n),z=i+160|0}function eo(e,t){t=x(t)}function to(){return 3}function no(e,t,n,i,o){var a,s,c,l,p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),re=x(0);z=a=z-48|0,l=m[e+16|0],s=h[(c=l?n:i)+12>>2],K=g[s+56>>2],W=g[s+52>>2],$=g[s+48>>2],n=h[(i=l?i:n)+12>>2],ee=g[n+56>>2],te=g[n+52>>2],ne=g[n+48>>2],i=h[i+4>>2],b=g[s+40>>2],f=g[s+8>>2],d=g[s+24>>2],v=g[s+36>>2],S=g[s+4>>2],T=g[s+20>>2],E=g[s+32>>2],R=g[n+40>>2],N=g[n+32>>2],D=g[n+36>>2],P=g[s>>2],M=g[n+8>>2],O=g[n>>2],L=g[n+4>>2],I=g[s+16>>2],U=g[n+24>>2],j=g[n+16>>2],k=g[n+20>>2],_=g[t+12>>2],y=g[t+8>>2],u=g[t+4>>2],p=g[t>>2],n=h[c+4>>2],G=g[n+60>>2],ie=g[n+56>>2],H=g[n+52>>2],h[a+28>>2]=0,C=x(x(2)/x(x(x(x(p*p)+x(u*u))+x(y*y))+x(_*_))),A=x(y*C),q=x(p*A),F=x(u*C),Y=x(_*F),B=x(q+Y),X=x(u*A),w=x(p*C),Q=x(_*w),C=x(X-Q),Z=x(p*w),J=x(u*F),u=x(x(1)-x(Z+J)),w=x(x(x(N*B)+x(D*C))+x(R*u)),V=x(x(x(O*B)+x(L*C))+x(M*u)),u=x(x(x(j*B)+x(k*C))+x(U*u)),C=x(-ie),g[a+24>>2]=x(x(x(x(v*w)+x(x(S*V)+x(T*u)))*C)-x(H*x(x(E*w)+x(x(P*V)+x(I*u)))))-x(G*x(x(b*w)+x(x(f*V)+x(d*u)))),u=x(X+Q),F=x(p*F),B=x(_*A),p=x(F-B),w=x(y*A),_=x(x(1)-x(Z+w)),y=x(x(R*u)+x(x(N*p)+x(D*_))),A=x(x(M*u)+x(x(O*p)+x(L*_))),p=x(x(U*u)+x(x(j*p)+x(k*_))),g[a+20>>2]=x(x(x(x(v*y)+x(x(S*A)+x(T*p)))*C)-x(H*x(x(E*y)+x(x(P*A)+x(I*p)))))-x(G*x(x(b*y)+x(x(f*A)+x(d*p)))),p=x(q-Y),_=x(F+B),u=x(x(1)-x(J+w)),y=x(x(R*p)+x(x(D*_)+x(N*u))),A=x(x(M*p)+x(x(L*_)+x(O*u))),p=x(x(U*p)+x(x(k*_)+x(j*u))),g[a+16>>2]=x(x(x(x(v*y)+x(x(S*A)+x(T*p)))*C)-x(H*x(x(E*y)+x(x(P*A)+x(I*p)))))-x(G*x(x(b*y)+x(x(f*A)+x(d*p)))),r[h[h[i>>2]+64>>2]](a+32|0,i,a+16|0),t=h[c+12>>2],C=g[t+48>>2],F=g[t+32>>2],B=g[t+16>>2],w=g[t+8>>2],V=g[t+4>>2],ie=g[t>>2],q=g[t+56>>2],Y=g[t+52>>2],X=g[t+40>>2],Q=g[t+36>>2],Z=g[t+24>>2],J=g[t+20>>2],oe=g[n+68>>2],y=g[n+60>>2],G=g[n+52>>2],H=g[n+56>>2],p=g[a+40>>2],_=g[a+32>>2],u=g[a+36>>2],re=g[h[e+12>>2]+848>>2],h[o+4>>2]=h[e+12>>2],A=x(-W),W=x(x(x(x(x(ne*f)+x(te*d))+x(ee*b))+x(x(x(d*A)-x(f*$))-x(b*K)))+x(x(x(_*x(x(x(O*f)+x(j*d))+x(N*b)))+x(u*x(x(x(L*f)+x(k*d))+x(D*b))))+x(p*x(x(x(M*f)+x(U*d))+x(R*b))))),E=x(x(x(x(x(ne*P)+x(te*I))+x(ee*E))+x(x(x(I*A)-x(P*$))-x(E*K)))+x(x(x(_*x(x(x(O*P)+x(j*I))+x(N*E)))+x(u*x(x(x(L*P)+x(k*I))+x(D*E))))+x(p*x(x(x(M*P)+x(U*I))+x(R*E))))),S=x(x(x(x(x(ne*S)+x(te*T))+x(ee*v))+x(x(x(T*A)-x(S*$))-x(v*K)))+x(x(x(_*x(x(x(O*S)+x(j*T))+x(N*v)))+x(u*x(x(x(L*S)+x(k*T))+x(D*v))))+x(p*x(x(x(M*S)+x(U*T))+x(R*v))))),(b=x(x(x(y*W)+x(x(G*E)+x(H*S)))-oe))<re&&(e=h[c+12>>2],T=g[e+24>>2],P=g[e+20>>2],I=g[e+40>>2],R=g[e+36>>2],N=g[e+16>>2],D=g[e+32>>2],f=g[n+60>>2],M=g[e+8>>2],d=g[n+52>>2],O=g[e>>2],v=g[n+56>>2],L=g[e+4>>2],h[a+28>>2]=0,g[a+16>>2]=x(x(O*d)+x(L*v))+x(M*f),g[a+24>>2]=x(x(d*D)+x(v*R))+x(f*I),g[a+20>>2]=x(x(d*N)+x(v*P))+x(f*T),h[a+12>>2]=0,f=x(E-x(G*b)),d=x(S-x(H*b)),v=x(W-x(y*b)),g[a+8>>2]=x(x(x(f*F)+x(d*Q))+x(v*X))+q,g[a+4>>2]=x(x(x(f*B)+x(d*J))+x(v*Z))+Y,g[a>>2]=x(x(w*v)+x(x(ie*f)+x(V*d)))+C,r[h[h[o>>2]+16>>2]](o,a+16|0,a,b)),z=a+48|0}function io(e,t,n,i){var o,r,a,s=0,p=0,u=0;z=o=z-32|0,r=s=2147483647&i,s=s+-1006698496|0,n>>>0<0&&(s=s+1|0),a=p=n,p=s,s=r+-1140785152|0,(u=n)>>>0<0&&(s=s+1|0);e:if((0|s)==(0|p)&a>>>0<u>>>0|p>>>0<s>>>0){if(s=i<<4|n>>>28,n=n<<4|t>>>28,u=t&=268435455,134217728==(0|t)&e>>>0>=1|t>>>0>134217728){s=s+1073741824|0,(e=n+1|0)>>>0<1&&(s=s+1|0),p=e;break e}if(p=n,s=s-((n>>>0<0)+-1073741824|0)|0,e|134217728^u)break e;(e=p+(1&p)|0)>>>0<p>>>0&&(s=s+1|0),p=e}else(!u&2147418112==(0|r)?!(e|t):2147418112==(0|r)&u>>>0<0|r>>>0<2147418112)?(p=0,s=2146435072,1140785151==(0|r)&u>>>0>4294967295|r>>>0>1140785151||(s=0,(u=r>>>16)>>>0<15249||(function(e,t,n,i,o,r){var a=0,s=0,c=0,l=0;t:if(64&r)t=31&(n=r+-64|0),32<=(63&n)>>>0?(n=0,t=o>>>t):(n=o>>>t,t=((1<<t)-1&o)<<32-t|i>>>t),i=0,o=0;else{if(!r)break t;s=o,c=i,a=31&(l=64-r|0),32<=(63&l)>>>0?(s=c<<a,l=0):(s=(1<<a)-1&c>>>32-a|s<<a,l=c<<a),c=t,t=31&(a=r),32<=(63&a)>>>0?(a=0,t=n>>>t):(a=n>>>t,t=((1<<t)-1&n)<<32-t|c>>>t),t|=l,n=a|s,a=i,i=31&r,32<=(63&r)>>>0?(s=0,i=o>>>i):(s=o>>>i,i=((1<<i)-1&o)<<32-i|a>>>i),o=s}h[e>>2]=t,h[e+4>>2]=n,h[e+8>>2]=i,h[e+12>>2]=o}(o,e,t,n,s=65535&i|65536,15361-u|0),function(e,t,n,i,o,r){var a=0,s=0,c=0,l=0;64&r?(i=t,t=31&(o=r+-64|0),32<=(63&o)>>>0?(o=i<<t,i=0):(o=(1<<t)-1&i>>>32-t|n<<t,i<<=t),t=0,n=0):r&&(a=i,c=r,i=31&r,32<=(63&r)>>>0?(s=a<<i,l=0):(s=(1<<i)-1&a>>>32-i|o<<i,l=a<<i),i=n,a=t,o=31&(r=64-r|0),32<=(63&r)>>>0?(r=0,i>>>=o):(r=i>>>o,i=((1<<o)-1&i)<<32-o|a>>>o),i|=l,o=r|s,r=t,t=31&c,32<=(63&c)>>>0?(s=r<<t,t=0):(s=(1<<t)-1&r>>>32-t|n<<t,t=r<<t),n=s),h[e>>2]=t,h[e+4>>2]=n,h[e+8>>2]=i,h[e+12>>2]=o}(o+16|0,e,t,n,s,u+-15233|0),n=h[o+4>>2],e=h[o+8>>2],s=h[o+12>>2]<<4|e>>>28,p=e<<4|n>>>28,n=e=268435455&n,134217728==(0|e)&(t=h[o>>2]|0!=(h[o+16>>2]|h[o+24>>2])|0!=(h[o+20>>2]|h[o+28>>2]))>>>0>=1|e>>>0>134217728?((e=p+1|0)>>>0<1&&(s=s+1|0),p=e):t|134217728^n||((e=p+(1&p)|0)>>>0<p>>>0&&(s=s+1|0),p=e)))):(p=n<<4|t>>>28,s=524287&(s=i<<4|n>>>28)|2146959360);return z=o+32|0,c(0,0|p),c(1,-2147483648&i|s),+l()}function oo(e,t){var n=0,i=0,o=0;n=0!=(0|t);e:{t:{n:{i:if(!(!t|!(3&e)))for(;;){if(!m[0|e])break n;if(e=e+1|0,n=0!=(0|(t=t+-1|0)),!t)break i;if(!(3&e))break}if(!n)break t}if(!m[0|e])break e;n:{if(t>>>0>=4){for(n=(n=t+-4|0)-(i=-4&n)|0,i=4+(e+i|0)|0;;){if((-1^(o=h[e>>2]))&o+-16843009&-2139062144)break n;if(e=e+4|0,!((t=t+-4|0)>>>0>3))break}t=n,e=i}if(!t)break t}for(;;){if(!m[0|e])break e;if(e=e+1|0,!(t=t+-1|0))break}}return 0}return e}function ro(e,t,n,i){if(e|t)for(;a[0|(n=n+-1|0)]=m[17616+(15&e)|0]|i,(e=(15&t)<<28|e>>>4)|(t>>>=4););return n}function ao(e,t,n){if(e|t)for(;a[0|(n=n+-1|0)]=7&e|48,(e=(7&t)<<29|e>>>3)|(t>>>=3););return n}function so(e,t,n){var i,o=x(0),r=x(0),a=0,s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0);z=i=z-16|0;e:{t:{n:{i:{if(h[n+100>>2]>=0)g[(h[t+108>>2]<<2)+i>>2]=h[n+88>>2];else if(o=Br(n+24|0),r=Br(a=n+72|0),s=h[n+100>>2],g[(h[t+108>>2]<<2)+i>>2]=o/r,(0|s)<0)break i;g[(h[t+112>>2]<<2)+i>>2]=h[n+92>>2];break n}if(o=Br(n+40|0),r=Br(a),a=h[n+100>>2],g[(h[t+112>>2]<<2)+i>>2]=o/r,(0|a)<0)break t}o=x(h[n+96>>2]);break e}o=x(Br(n+56|0)/Br(n+72|0))}g[(h[t+104>>2]<<2)+i>>2]=o,o=g[t+20>>2],r=g[t+24>>2],c=g[t+16>>2],l=g[t>>2],p=g[t+4>>2],u=g[t+8>>2],_=g[i>>2],f=g[i+4>>2],m=g[i+8>>2],h[e+12>>2]=0,g[e+8>>2]=r+x(m*u),g[e+4>>2]=o+x(f*p),g[e>>2]=c+x(_*l),z=i+16|0}function co(e,t,n){var i,o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,m=0,d=0,v=0,g=0,A=0,x=0,b=0,C=0,S=0,E=0,w=0,T=0,P=0,I=0,R=0,N=0,D=0,M=0,O=0,L=0;z=i=z-128|0;e:if(h[n+4>>2])if(h[t+4>>2]){if(h[e+100>>2]=h[e+100>>2]+-1,h[i+124>>2]=0,h[i+120>>2]=0,function(e,t,n,i){var o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,m=0,d=0,v=0,g=0,A=0,x=0,b=0,C=0,S=0;s=h[e+12>>2],p=h[t+8>>2];t:{if(!(h[s+88>>2]!=h[p+88>>2]|h[s+92>>2]!=h[p+92>>2])){if((0|(o=h[p+4>>2]))==(0|p)){if(h[n>>2]=s,e=0,!(t=h[p+8>>2]))break t;return h[i>>2]=h[t+12>>2],0}s=h[p>>2],h[o>>2]=s,h[s+4>>2]=o,h[t>>2]==(0|p)&&(l=t,u=s,a=(0|(a=h[s+88>>2]))<(0|(r=h[o+88>>2]))|(h[s+92>>2]<h[o+92>>2]?(0|a)==(0|r):0)?u:o,h[l>>2]=a),h[t+4>>2]==(0|p)&&((0|(a=h[s+88>>2]))!=(0|(r=h[o+88>>2]))|h[s+92>>2]<=h[o+92>>2]&&(0|a)<=(0|r)?h[t+4>>2]=o:h[t+4>>2]=s)}for(x=h[t>>2],C=h[e>>2],a=S=h[e+4>>2],o=b=h[t+4>>2],p=0,u=1;;){d=h[a+88>>2];n:if((0|(r=y(h[o+88>>2]-d|0,u)))>=1)for(l=a;;){for(s=o,c=h[o+92>>2],a=r;d=c-(r=h[l+92>>2])|0,!((0|(o=h[(_=!m<<2)+l>>2]))==(0|l)||(0|(f=h[o+92>>2]-r|0))>0||(v=h[o+88>>2],(0|(r=y(v-h[l+88>>2]|0,u)))>-1|(0|y(a,f))>(0|y(r,d))&&r));)a=y(h[s+88>>2]-v|0,u),l=o;if((0|s)==(0|(o=h[s+_>>2])))break n;if((0|(_=h[o+92>>2]-c|0))>-1)break n;if(c=h[o+88>>2],(0|(r=y(c-h[l+88>>2]|0,u)))<1)break n;if(c=y(c-h[s+88>>2]|0,u)){if((0|c)>-1)break n;if(!((0|y(a,_))<(0|y(c,d))))break}}else if((0|r)<=-1){i:for(;;){for(d=h[o+92>>2],s=h[(v=(0!=(0|m))<<2)+o>>2];;){if(c=r,l=a,_=d-(r=h[a+92>>2])|0,(0|o)!=(0|s)&&!((0|(f=h[s+92>>2]-d|0))<0||(g=h[s+88>>2],(0|(a=y(g-h[o+88>>2]|0,u)))>-1|(0|y(c,f))>(0|y(a,_))&&a))){r=y(g-h[l+88>>2]|0,u),o=s,a=l;continue i}if((0|l)==(0|(a=h[l+v>>2]))){s=o;break n}if((0|(g=h[a+92>>2]-r|0))<1){s=o;break n}if(f=h[a+88>>2],(0|(r=y(h[o+88>>2]-f|0,u)))>-1){s=o;break n}if(f=y(f-h[l+88>>2]|0,u)){if((0|f)>-1){s=o;break n}if(!((0|y(c,g))<(0|y(_,f))))break}}break}s=o}else{for(s=h[a+92>>2],r=a;l=r,!((0|(r=h[r+(!m<<2)>>2]))==(0|a)|(0|d)!=h[r+88>>2])&&(_=(0|(c=h[r+92>>2]))<=(0|s),s=c,_););for(a=h[o+92>>2],r=o;;){if(s=r,(0|(r=h[r+((0!=(0|m))<<2)>>2]))==(0|o)|(0|d)!=h[r+88>>2])break n;if(_=(0|(c=h[r+92>>2]))>=(0|a),a=c,!_)break}}if(a=m?l:C,o=m?s:x,A=m?A:l,p=m?p:s,u=m?u:-1,2==(0|(m=m+1|0)))break}h[a+4>>2]=o,h[o>>2]=a,h[A>>2]=p,h[p+4>>2]=A,h[x+88>>2]<h[C+88>>2]&&(h[e>>2]=x),h[b+88>>2]>=h[S+88>>2]&&(h[e+4>>2]=b),h[e+12>>2]=h[t+12>>2],h[n>>2]=A,e=1}return h[i>>2]=p,e}(t,n,i+124|0,i+120|0)){if(E=h[i+124>>2],s=h[E+92>>2],A=h[i+120>>2],d=h[A+92>>2],c=h[E+96>>2],g=h[A+96>>2],b=h[E+88>>2],L=h[A+88>>2],h[i+92>>2]=-1,n=g-c|0,h[i+88>>2]=n,a=d-s|0,h[i+84>>2]=a,o=L-b|0,h[i+80>>2]=o,t=h[E+8>>2],h[i+32>>2]=0,r=n,l=a,u=zl(n,P=n>>31,a,m=a>>31),I=F,_=n=0-o|0,n=zl(n,v=n>>31,o,o>>31),a=F,o=n-(w=zl(l,m,l,m))|0,w=a-(F+(n>>>0<w>>>0)|0)|0,P=0-(n=zl(r,P,_,v))|0,M=0-(F+(0<n>>>0)|0)|0,t){for(n=t;r=h[n+12>>2],f=zl(x=a=h[r+92>>2]-s|0,a>>=31,_,v),T=F,(0|f)!=(0-(O=zl(l,m,R=f=h[r+88>>2]-b|0,f>>=31))|0)|(0-(F+(0<O>>>0)|0)|0)!=(0|T)||(a=zl(u,I,x,a),T=F,x=(f=zl(R,f,P,M))+a|0,a=F+T|0,a=x>>>0<f>>>0?a+1|0:a,f=zl(o,w,r=h[r+96>>2]-c|0,r>>31),r=F+a|0,(0|(r=(x=f+x|0)>>>0<f>>>0?r+1|0:r))<0||(0|r)<=0&&!(x>>>0>=1)||p&&(h[i+64>>2]=-1,h[i+68>>2]=-1,h[i+56>>2]=0,h[i+60>>2]=0,1!=(0|jc(p,n,i+80|0,i+56|0)))||(p=n)),(0|t)!=(0|(n=h[n>>2])););h[i+32>>2]=p}if(a=h[A+8>>2],t=0,h[i+8>>2]=0,a){for(n=a;s=h[n+12>>2],b=zl(c=r=h[s+92>>2]-d|0,r>>=31,_,v),x=F,(0|(R=b))!=(0-(T=zl(l,m,f=b=h[s+88>>2]-L|0,b=f>>31))|0)|(0-(F+(0<T>>>0)|0)|0)!=(0|x)||(r=zl(u,I,c,r),x=F,c=(b=zl(f,b,P,M))+r|0,r=F+x|0,r=c>>>0<b>>>0?r+1|0:r,f=c,c=zl(o,w,s=h[s+96>>2]-g|0,s>>31),r=F+r|0,(0|(r=(s=f+c|0)>>>0<c>>>0?r+1|0:r))<0||(0|r)<=0&&!(s>>>0>=1)||t&&(h[i+64>>2]=-1,h[i+68>>2]=-1,h[i+56>>2]=0,h[i+60>>2]=0,2!=(0|jc(t,n,i+80|0,i+56|0)))||(t=n)),(0|a)!=(0|(n=h[n>>2])););h[i+8>>2]=t}t|p&&(Fn(e,E,A,i+32|0,i+8|0),(t=h[i+32>>2])&&(E=h[t+12>>2],h[i+124>>2]=E),(t=h[i+8>>2])&&(A=h[t+12>>2],h[i+120>>2]=A)),I=h[A+96>>2]+1|0,w=h[A+88>>2],g=h[A+92>>2]}else A=h[i+120>>2],w=h[A+88>>2]+1|0,I=h[A+96>>2],E=h[i+124>>2],g=h[A+92>>2];for(p=E,v=A,m=0,t=0,P=1,s=0,r=0;;){b=v,l=h[v+96>>2],L=p,o=h[p+96>>2],_=h[p+92>>2],n=h[v+92>>2],c=h[p+88>>2],a=h[v+88>>2],h[i+116>>2]=-1,n=n-_|0,h[i+108>>2]=n,l=l-o|0,h[i+112>>2]=l,a=a-c|0,h[i+104>>2]=a,o=I-o|0,d=(u=y(_=g-_|0,l)-y(o,n)|0)>>31,M=u,h[i+80>>2]=u,h[i+84>>2]=d,c=(u=(f=y(o,a))-y(o=w-c|0,l)|0)>>31,x=u,h[i+88>>2]=u,h[i+92>>2]=c,u=(o=y(n,o)-y(a,_)|0)>>31,f=o,h[i+96>>2]=o,h[i+100>>2]=u,a=zl(x,c,o=a,T=o>>31),R=F,_=n,n=zl(M,d,n,O=n>>31),h[i+72>>2]=a-n,h[i+76>>2]=R-(F+(a>>>0<n>>>0)|0),l=zl(M,d,n=l,a=n>>31),d=F,o=zl(f,u,o,T),h[i+64>>2]=l-o,h[i+68>>2]=d-(F+(l>>>0<o>>>0)|0),l=zl(f,u,_,O),o=F,n=zl(n,a,x,c),h[i+56>>2]=l-n,h[i+60>>2]=o-(F+(l>>>0<n>>>0)|0),h[i+48>>2]=0,h[i+40>>2]=0,h[i+44>>2]=0,h[i+32>>2]=0,h[i+36>>2]=0,u=zn(e,0,p,i+104|0,i+80|0,i+56|0,i+32|0),h[i+24>>2]=0,h[i+16>>2]=0,h[i+20>>2]=0,h[i+8>>2]=0,h[i+12>>2]=0;t:if((c=zn(e,1,v,i+104|0,i+80|0,i+56|0,i+8|0))|u){d=u?-1:1,!u|!c||(d=ea(i+32|0,i+8|0));n:{i:if(!P){o:{if((0|d)>=0){if(h[i+24>>2]>-1)break i;if(!(h[i+16>>2]|h[i+20>>2]))break o;break i}if(h[i+40>>2]|h[i+44>>2]|h[i+48>>2]>-1)break i}_=m,l=t,o=s,a=r;break n}a=o=Gc(e,p,v),s&&(h[s+4>>2]=o,a=r),h[o>>2]=s,l=_=h[o+8>>2],m&&(h[m>>2]=_,l=t),h[_+4>>2]=m}if(h[i+4>>2]=u,h[i>>2]=c,m=c,d||(Fn(e,p,v,i+4|0,i),m=h[i>>2]),t=_,!((0|d)<0)&&(t=_,m)){if(C&&(0|c)!=(0|(n=h[C>>2])))for(;g=h[n+8>>2],r=0,t=0,(0|(s=h[n>>2]))!=(0|n)&&(h[s+4>>2]=h[n+4>>2],h[h[n+4>>2]>>2]=s,t=s),h[h[g+12>>2]+8>>2]=t,(0|(t=h[g>>2]))!=(0|g)&&(h[t+4>>2]=h[g+4>>2],h[h[g+4>>2]>>2]=t,r=t),h[h[n+12>>2]+8>>2]=r,h[n+12>>2]=0,h[n+16>>2]=0,h[n+4>>2]=0,h[n+8>>2]=0,h[n>>2]=h[e+56>>2],h[e+56>>2]=n,h[g+12>>2]=0,h[g+16>>2]=0,h[g+4>>2]=0,h[g+8>>2]=0,h[g>>2]=h[e+56>>2],h[e+56>>2]=g,h[e+116>>2]=h[e+116>>2]+-1,(0|c)!=(0|(n=s)););_?(C||(C=h[c+4>>2],N=l),h[C>>2]=l,h[l+4>>2]=C,h[_>>2]=c,h[c+4>>2]=_,l=0):N=C?N:c,I=h[b+96>>2],g=h[v+92>>2],w=h[v+88>>2],v=h[m+12>>2],h[i+120>>2]=v,C=h[m+8>>2],t=0}if(m=t,s=o,!((0|d)>0)&&(s=o,c=h[i+4>>2])){if(S&&(0|u)!=(0|(t=h[S+4>>2])))for(;s=h[(n=t)+8>>2],_=h[n+4>>2],t=0,d=0,(0|(r=h[n>>2]))!=(0|n)&&(h[r+4>>2]=_,h[h[n+4>>2]>>2]=r,d=r),h[h[s+12>>2]+8>>2]=d,(0|(r=h[s>>2]))!=(0|s)&&(h[r+4>>2]=h[s+4>>2],h[h[s+4>>2]>>2]=r,t=r),h[h[n+12>>2]+8>>2]=t,h[n+12>>2]=0,h[n+16>>2]=0,h[n+4>>2]=0,h[n+8>>2]=0,h[n>>2]=h[e+56>>2],h[e+56>>2]=n,h[s+12>>2]=0,h[s+16>>2]=0,h[s+4>>2]=0,h[s+8>>2]=0,h[s>>2]=h[e+56>>2],h[e+56>>2]=s,h[e+116>>2]=h[e+116>>2]+-1,(0|(t=_))!=(0|u););o?(S||(S=h[u>>2],D=a),h[S+4>>2]=a,h[a>>2]=S,h[u>>2]=o,h[o+4>>2]=u,a=0):D=S?D:u,I=h[L+96>>2],g=h[p+92>>2],w=h[p+88>>2],p=h[c+12>>2],h[i+124>>2]=p,S=h[c+8>>2],s=0}if(n=1,(0|p)!=(0|E)|(0|v)!=(0|A))P=0;else{if(S){if((0|D)!=(0|(t=h[S+4>>2])))for(;o=h[(n=t)+8>>2],p=h[n+4>>2],t=0,d=0,(0|(r=h[n>>2]))!=(0|n)&&(h[r+4>>2]=p,h[h[n+4>>2]>>2]=r,d=r),h[h[o+12>>2]+8>>2]=d,(0|(r=h[o>>2]))!=(0|o)&&(h[r+4>>2]=h[o+4>>2],h[h[o+4>>2]>>2]=r,t=r),h[h[n+12>>2]+8>>2]=t,h[n+12>>2]=0,h[n+16>>2]=0,h[n+4>>2]=0,h[n+8>>2]=0,h[n>>2]=h[e+56>>2],h[e+56>>2]=n,h[o+12>>2]=0,h[o+16>>2]=0,h[o+4>>2]=0,h[o+8>>2]=0,h[o>>2]=h[e+56>>2],h[e+56>>2]=o,h[e+116>>2]=h[e+116>>2]+-1,(0|(t=p))!=(0|D););s&&(h[a>>2]=S,h[S+4>>2]=a,h[D>>2]=s,h[s+4>>2]=D)}else h[a>>2]=s,h[s+4>>2]=a,h[p+8>>2]=s;if(!C){h[m>>2]=l,h[l+4>>2]=m,h[h[i+120>>2]+8>>2]=m,C=0,t=l,r=a,n=0;break t}if((0|N)!=(0|(n=h[C>>2])))for(;o=h[n+8>>2],r=0,t=0,(0|(p=h[n>>2]))!=(0|n)&&(h[p+4>>2]=h[n+4>>2],h[h[n+4>>2]>>2]=p,t=p),h[h[o+12>>2]+8>>2]=t,(0|(t=h[o>>2]))!=(0|o)&&(h[t+4>>2]=h[o+4>>2],h[h[o+4>>2]>>2]=t,r=t),h[h[n+12>>2]+8>>2]=r,h[n+12>>2]=0,h[n+16>>2]=0,h[n+4>>2]=0,h[n+8>>2]=0,h[n>>2]=h[e+56>>2],h[e+56>>2]=n,h[o+12>>2]=0,h[o+16>>2]=0,h[o+4>>2]=0,h[o+8>>2]=0,h[o>>2]=h[e+56>>2],h[e+56>>2]=o,h[e+116>>2]=h[e+116>>2]+-1,(0|N)!=(0|(n=p)););n=0,m?(h[C>>2]=l,h[l+4>>2]=C,h[m>>2]=N,h[N+4>>2]=m):m=0}t=l,r=a}else n=Gc(e,p,v),h[n+4>>2]=n,h[n>>2]=n,h[p+8>>2]=n,n=h[n+8>>2],h[n+4>>2]=n,h[n>>2]=n,h[v+8>>2]=n,n=0;if(!n)break e;p=h[i+124>>2],v=h[i+120>>2]}}else e=h[n+4>>2],h[t>>2]=h[n>>2],h[t+4>>2]=e,e=h[n+12>>2],h[t+8>>2]=h[n+8>>2],h[t+12>>2]=e;z=i+128|0}function lo(e,t,n,i){var o,a=x(0),s=x(0),c=0,l=x(0),p=x(0),u=x(0),_=x(0),v=x(0),A=x(0),y=0,b=x(0),C=x(0),S=x(0),E=0,w=0,T=0,P=0,I=0,R=0,N=0,D=0;z=o=z-16|0;e:if(m[e+60|0]){if(p=g[e+28>>2],l=g[e+12>>2],a=(a=g[n+8>>2])<l?l:a,b=g[e+44>>2],c=(a=x(x((p<a?p:a)-l)*b))<x(4294967296)&a>=x(0)?~~a>>>0:0,C=g[e+40>>2],v=g[e+24>>2],a=g[e+8>>2],S=g[e+36>>2],A=g[e+20>>2],_=g[e+4>>2],s=g[n>>2],u=g[n+4>>2],E=65534&c,f[o+14>>1]=E,n=o,w=65534&(c=(u=x(C*x((v<(u=u<a?a:u)?v:u)-a)))<x(4294967296)&u>=x(0)?~~u>>>0:0),f[n+12>>1]=w,n=o,T=65534&(c=(s=x(x((A<(s=s<_?_:s)?A:s)-_)*S))<x(4294967296)&s>=x(0)?~~s>>>0:0),f[n+10>>1]=T,s=g[i+8>>2],n=(l=x(x(b*x((p<(s=s<l?l:s)?p:s)-l))+x(1)))<x(4294967296)&l>=x(0)?~~l>>>0:0,l=g[i>>2],p=g[i+4>>2],P=1|n,f[o+8>>1]=P,n=o,I=1|(i=(a=x(x(C*x((v<(p=p<a?a:p)?v:p)-a))+x(1)))<x(4294967296)&a>=x(0)?~~a>>>0:0),f[n+6>>1]=I,n=o,R=1|(i=(a=x(x(S*x((A<(a=l<_?_:l)?A:a)-_))+x(1)))<x(4294967296)&a>=x(0)?~~a>>>0:0),f[n+4>>1]=R,(n=h[e+144>>2])>>>0>2)break e;switch(n-1|0){default:if(i=0,(0|(N=h[e+56>>2]))>=1)for(e=h[e+136>>2],n=0;(D=(0|(y=h[e+12>>2]))<0)|!(c=T>>>0<=d[e+6>>1]&R>>>0>=d[e>>1]&E>>>0<=d[e+10>>1]&P>>>0>=d[e+4>>1]&w>>>0<=d[e+8>>1]&I>>>0>=d[e+2>>1])||r[h[h[t>>2]+8>>2]](t,y>>>21,2097151&y),(-1^c)&D?(n=n-(c=h[e+12>>2])|0,e=e-(c<<4)|0):(n=n+1|0,e=e+16|0),i=i+1|0,(0|n)<(0|N););if(h[6077]>=(0|i))break e;h[6077]=i;break e;case 0:!function(e,t,n,i){var o=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,m=0,v=0;if(h[e+152>>2]>=1)for(;;){if(_=d[n>>1],a=h[e+160>>2]+(f<<5)|0,!(_>>>0>d[a+6>>1]||(m=d[i>>1])>>>0<d[a>>1]||(v=d[n+4>>1])>>>0>d[a+10>>1]||(p=d[i+4>>1])>>>0<d[a+4>>1]||(c=d[n+2>>1])>>>0>d[a+8>>1]||(s=d[i+2>>1])>>>0<d[a+2>>1])){t:if((0|(o=h[a+16>>2]))<1)u=0;else for(a=o+(l=h[a+12>>2])|0,o=h[e+136>>2]+(l<<4)|0,u=0;;){if(p=_>>>0<=d[o+6>>1]&m>>>0>=d[o>>1]&v>>>0<=d[o+10>>1]&p>>>0>=d[o+4>>1]&c>>>0<=d[o+8>>1]&s>>>0>=d[o+2>>1],(s=(0|(c=h[o+12>>2]))<0)|!p||r[h[h[t>>2]+8>>2]](t,c>>>21,2097151&c),s&(-1^p)?(l=l-(s=h[o+12>>2])|0,o=o-(s<<4)|0):(l=l+1|0,o=o+16|0),u=u+1|0,(0|l)>=(0|a))break t;s=d[i+2>>1],c=d[n+2>>1],p=d[i+4>>1],v=d[n+4>>1],m=d[i>>1],_=d[n>>1]}h[6077]>=(0|u)||(h[6077]=u)}if(!((0|(f=f+1|0))<h[e+152>>2]))break}}(e,t,o+10|0,o+4|0);break e;case 1:}qn(e,h[e+136>>2],t,o+10|0,o+4|0)}else!function(e,t,n,i){var o=0,a=0,s=0,c=0,l=0;if(h[e+56>>2]>=1)for(o=h[e+96>>2];;){a=0,g[n>>2]>g[o+16>>2]||(a=0,g[i>>2]<g[o>>2]||(a=1)),s=0,s=g[i+8>>2]<g[o+8>>2]|g[n+8>>2]>g[o+24>>2]?s:a;t:{n:{if(g[i+4>>2]<g[o+4>>2]^1&&!(g[n+4>>2]>g[o+20>>2])){if(1==(s&(a=-1==h[o+32>>2]))){r[h[h[t>>2]+8>>2]](t,h[o+36>>2],h[o+40>>2]);break n}}else a=-1==h[o+32>>2],s=0;if(!(a|s)){c=(a=h[o+32>>2])+c|0,o=(a<<6)+o|0;break t}}c=c+1|0,o=o- -64|0}if(l=l+1|0,!((0|c)<h[e+56>>2]))break}h[6077]<(0|l)&&(h[6077]=l)}(e,t,n,i);z=o+16|0}function po(e,t,n,i){var o=x(0),r=x(0),a=0,s=x(0),c=0,l=x(0),p=x(0),u=0,_=0,v=0,A=0,y=0,b=0;e:{if(m[e+60|0]){if(p=g[e+12>>2],r=g[e+44>>2],u=(o=x(x(g[n+8>>2]-p)*r))<x(4294967296)&o>=x(0)?~~o>>>0:0,s=g[e+8>>2],o=g[e+40>>2],_=(l=x(x(g[n+4>>2]-s)*o))<x(4294967296)&l>=x(0)?~~l>>>0:0,v=(r=x(x(r*x(g[i+8>>2]-p))+x(1)))<x(4294967296)&r>=x(0)?~~r>>>0:0,a=(o=x(x(o*x(g[i+4>>2]-s))+x(1)))<x(4294967296)&o>=x(0)?~~o>>>0:0,c=h[e+136>>2],b=d[(A=c+(t<<4)|0)>>1],s=g[e+4>>2],o=g[e+36>>2],n=b>>>0<=(y=65534&(e=(r=x(x(g[n>>2]-s)*o))<x(4294967296)&r>=x(0)?~~r>>>0:0))>>>0,e=(o=x(x(o*x(g[i>>2]-s))+x(1)))<x(4294967296)&o>=x(0)?~~o>>>0:0,n||(f[A>>1]=y),e|=1,d[6+(n=c+(t<<4)|0)>>1]<e>>>0&&(f[n+6>>1]=e),e=65534&_,d[n+2>>1]>e>>>0&&(f[n+2>>1]=e),e=1|a,d[8+(n=i=c+(t<<4)|0)>>1]<e>>>0&&(f[n+8>>1]=e),e=65534&u,d[i+4>>1]>e>>>0&&(f[i+4>>1]=e),e=1|v,d[10+(t=c+(t<<4)|0)>>1]>=e>>>0)break e;return void(f[t+10>>1]=e)}o=g[n>>2],a=h[e+96>>2],o<g[(e=a+(t<<6)|0)>>2]&&(g[e>>2]=o),(o=g[n+4>>2])<g[e+4>>2]&&(g[e+4>>2]=o),(o=g[n+8>>2])<g[8+(e=a+(t<<6)|0)>>2]&&(g[e+8>>2]=o),(o=g[n+12>>2])<g[e+12>>2]&&(g[e+12>>2]=o),e=a+(t<<6)|0,o=g[i>>2],g[e+16>>2]<o&&(g[e+16>>2]=o),o=g[i+4>>2],g[e+20>>2]<o&&(g[e+20>>2]=o),e=t=a+(t<<6)|0,o=g[i+8>>2],g[e+24>>2]<o&&(g[e+24>>2]=o),o=g[i+12>>2],g[t+28>>2]<o&&(g[t+28>>2]=o)}}function uo(e,t){var n,i=0,o=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0;if(z=n=z-16|0,i=h[e+96>>2],r[h[h[i>>2]+56>>2]](i)){if(i=h[e+96>>2],o=0|r[h[h[i>>2]+28>>2]](i),(0|(i=h[o+4>>2]))>=2&&(As(o,n+8|0,0,i+-1|0),i=h[o+4>>2]),(0|i)>=1){for(;_=h[o+12>>2]+(f<<4)|0,c=h[_+4>>2],p=l,l=h[_>>2],((0|s)!=(0|c)||(0|p)!=(0|l))&&(s=h[l+48>>2],p=h[c+48>>2],!(g[s>>2]<=g[p+16>>2]^1|g[s+16>>2]>=g[p>>2]^1|g[s+4>>2]<=g[p+20>>2]^1|g[s+20>>2]>=g[p+4>>2]^1)&&g[s+8>>2]<=g[p+24>>2]&&g[s+24>>2]>=g[p+8>>2])||(i=h[e+96>>2],r[h[h[i>>2]+32>>2]](i,_,t),h[_>>2]=0,h[_+4>>2]=0,u=u+1|0,i=h[o+4>>2]),s=c,(0|(f=f+1|0))<(0|i););if((0|i)>=2&&(As(o,n,0,i+-1|0),i=h[o+4>>2]),c=i-u|0,(0|u)<=-1){if(h[o+8>>2]<(0|c)){if(c?(h[6657]=h[6657]+1,u=0|r[h[5255]](c<<4,16),e=h[o+4>>2]):(u=0,e=i),(0|e)>=1)for(t=0;l=(s=t<<4)+u|0,s=s+h[o+12>>2]|0,h[l>>2]=h[s>>2],h[l+4>>2]=h[s+4>>2],h[l+8>>2]=h[s+8>>2],h[l+12>>2]=h[s+12>>2],(0|e)!=(0|(t=t+1|0)););(e=h[o+12>>2])&&(m[o+16|0]&&e&&(h[6658]=h[6658]+1,r[h[5256]](e)),h[o+12>>2]=0),h[o+12>>2]=u,a[o+16|0]=1,h[o+8>>2]=c}for(;e=h[o+12>>2]+(i<<4)|0,h[e>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,(0|c)!=(0|(i=i+1|0)););}i=c}h[o+4>>2]=i}z=n+16|0}function _o(e,t){var n,i=0,o=0,s=0,c=0,l=0,p=0,u=0,_=x(0);if(z=n=z-32|0,jn(l=e+4|0,1+((0|y(h[e+112>>2],h[e+16>>2]))/100|0)|0),h[e+124>>2]&&(jn(e+44|0,i=1+((0|y(h[e+108>>2],h[e+56>>2]))/100|0)|0),i=h[e+124>>2]-i|0,h[e+124>>2]=(0|i)>0?i:0),i=(h[e+104>>2]+1|0)%2|0,h[e+104>>2]=i,o=h[84+((i<<2)+e|0)>>2]){for(c=e+44|0;i=h[o+56>>2],p=(s=h[o+52>>2])?s+56|0:84+((h[o+60>>2]<<2)+e|0)|0,h[p>>2]=i,(s=h[o+56>>2])&&(h[s+52>>2]=h[o+52>>2]),h[o+52>>2]=0,h[o+56>>2]=h[e+92>>2],(s=h[e+92>>2])&&(h[s+52>>2]=o),h[e+92>>2]=o,_s(l,h[o+48>>2]),s=h[o+28>>2],h[n+8>>2]=h[o+24>>2],h[n+12>>2]=s,s=h[o+20>>2],h[n>>2]=h[o+16>>2],h[n+4>>2]=s,s=h[o+44>>2],h[n+24>>2]=h[o+40>>2],h[n+28>>2]=s,s=h[o+36>>2],h[n+16>>2]=h[o+32>>2],h[n+20>>2]=s,s=fs(c,n,o),h[o+60>>2]=2,h[o+48>>2]=s,o=i;);a[e+154|0]=1,h[e+124>>2]=h[e+56>>2]}if(h[n>>2]=16704,h[n+4>>2]=e,m[e+153|0]&&(gs(l,h[e+4>>2],h[e+44>>2],n),m[e+153|0]&&gs(l,i=h[l>>2],i,n)),m[e+154|0]&&(i=h[e+96>>2],l=0|r[h[h[i>>2]+28>>2]](i),!((0|(c=h[l+4>>2]))<1))){s=e+144|0;e:{if((0|(p=(0|c)<(0|(i=(0|(o=h[e+120>>2]))>(0|(i=(0|y(h[e+116>>2],c))/100|0))?o:i))?c:i))>=1){for(o=0;i=h[l+12>>2]+((h[e+144>>2]+o|0)%(0|c)<<4)|0,c=h[i>>2],u=h[c+48>>2],s=h[i+4>>2],i=h[s+48>>2],!(g[u>>2]<=g[i+16>>2]^1|g[u+16>>2]>=g[i>>2]^1|g[u+4>>2]<=g[i+20>>2]^1|g[u+20>>2]>=g[i+4>>2]^1)&&g[u+8>>2]<=g[i+24>>2]&&g[u+24>>2]>=g[i+8>>2]||(i=h[e+96>>2],r[h[h[i>>2]+12>>2]](i,c,s,t),o=o+-1|0,p=p+-1|0),c=h[l+4>>2],(0|(o=o+1|0))<(0|p););if(s=e+144|0,t=0,(0|c)<=0)break e}t=(h[s>>2]+p|0)%(0|c)|0}h[s>>2]=t}a[e+154|0]=0,h[e+120>>2]=1,h[e+140>>2]=h[e+140>>2]+1,o=h[e+132>>2],t=e,i=h[e+128>>2],_=x(0),i&&(_=x(x(o>>>0)/x(i>>>0))),g[t+136>>2]=_,h[e+132>>2]=o>>>1,h[e+128>>2]=i>>>1,z=n+32|0}function fo(e,t,n){var i,o=0,s=0,c=0,l=0,p=0,u=0,_=x(0),f=0,d=x(0),v=0,A=x(0),C=x(0),S=x(0),E=x(0),w=0,P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0);z=i=z-32|0,_=g[n+8>>2],x(b(_))>x(.7071067690849304)?(A=g[n+4>>2],C=x(x(_*_)+x(A*A)),S=x(x(1)/x(T(C))),P=x(C*S),d=g[n>>2],C=x(S*x(-_)),R=x(d*C),S=x(A*S),E=x(S*x(-d)),A=x(0)):(S=g[n>>2],A=g[n+4>>2],d=x(x(S*S)+x(A*A)),C=x(x(1)/x(T(d))),R=x(d*C),A=x(C*x(-A)),E=x(_*A),C=x(S*C),P=x(C*x(-_)),S=x(0));e:if((0|(s=h[e+4>>2]))>=2){for(o=h[e+12>>2];u=y(l,24),x(x(x(A*g[(c=u+o|0)>>2])+x(C*g[c+4>>2]))+x(S*g[c+8>>2]))<x(x(x(A*g[o>>2])+x(C*g[o+4>>2]))+x(S*g[o+8>>2]))&&(s=h[o+20>>2],h[i+24>>2]=h[o+16>>2],h[i+28>>2]=s,s=h[o+12>>2],h[i+16>>2]=h[o+8>>2],h[i+20>>2]=s,s=h[o+4>>2],h[i+8>>2]=h[o>>2],h[i+12>>2]=s,s=h[c+4>>2],h[o>>2]=h[c>>2],h[o+4>>2]=s,s=h[c+12>>2],h[o+8>>2]=h[c+8>>2],h[o+12>>2]=s,s=h[c+20>>2],h[o+16>>2]=h[c+16>>2],h[o+20>>2]=s,s=h[i+12>>2],c=u+h[e+12>>2]|0,h[(o=c)>>2]=h[i+8>>2],h[o+4>>2]=s,o=h[i+28>>2],h[c+16>>2]=h[i+24>>2],h[c+20>>2]=o,o=h[i+20>>2],h[c+8>>2]=h[i+16>>2],h[c+12>>2]=o,s=h[e+4>>2],o=h[e+12>>2]),(0|(l=l+1|0))<(0|s););if(h[o+16>>2]=-246811958,(0|s)>=2)for(N=g[o+8>>2],D=g[o+4>>2],O=g[o>>2],l=1;d=x(0),c=y(l,24)+o|0,_=x(g[c>>2]-O),M=x(g[c+4>>2]-D),L=x(g[c+8>>2]-N),I=x(x(x(P*_)+x(E*M))+x(R*L)),_=x(x(x(A*_)+x(C*M))+x(S*L)),x(x(I*I)+x(_*_))<x(1.1920928955078125e-7)||(d=x(b(I)),_>=x(0)?(_=x(x(_-d)/x(_+d)),d=x(.7853981852531433)):(_=x(x(_+d)/x(d-_)),d=x(2.356194496154785)),_=x(d+x(_*x(-.7853981852531433))),d=I<x(0)?x(-_):_),g[c+16>>2]=d,(0|(l=l+1|0))!=(0|s););if(c=h[o+12>>2],h[i+16>>2]=h[o+8>>2],h[i+20>>2]=c,c=h[o+4>>2],h[i+8>>2]=h[o>>2],h[i+12>>2]=c,tl(e,i+8|0,1,s+-1|0),c=h[e+12>>2],(0|(s=h[t+4>>2]))==h[t+8>>2]&&!((0|s)>=(0|(f=s?s<<1:1)))){if(o=0,l=0,f&&(h[6657]=h[6657]+1,l=0|r[h[5255]](y(f,24),16),s=h[t+4>>2]),(0|s)>=1)for(;p=(u=y(o,24))+l|0,u=u+h[t+12>>2]|0,w=h[u+4>>2],h[p>>2]=h[u>>2],h[p+4>>2]=w,v=h[u+20>>2],h[p+16>>2]=h[u+16>>2],h[p+20>>2]=v,v=h[u+12>>2],h[p+8>>2]=h[u+8>>2],h[p+12>>2]=v,(0|s)!=(0|(o=o+1|0)););(o=h[t+12>>2])&&(m[t+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[t+12>>2]=0),h[t+12>>2]=l,a[t+16|0]=1,h[t+8>>2]=f,s=h[t+4>>2]}if(l=h[c+4>>2],o=h[t+12>>2]+y(s,24)|0,h[o>>2]=h[c>>2],h[o+4>>2]=l,s=h[c+20>>2],h[o+16>>2]=h[c+16>>2],h[o+20>>2]=s,s=h[c+12>>2],h[o+8>>2]=h[c+8>>2],h[o+12>>2]=s,s=h[t+4>>2]+1|0,h[t+4>>2]=s,c=h[e+12>>2],h[t+8>>2]==(0|s)&&!((0|s)>=(0|(f=s?s<<1:1)))){if(o=0,l=0,f&&(h[6657]=h[6657]+1,l=0|r[h[5255]](y(f,24),16),s=h[t+4>>2]),(0|s)>=1)for(;p=(u=y(o,24))+l|0,u=u+h[t+12>>2]|0,w=h[u+4>>2],h[p>>2]=h[u>>2],h[p+4>>2]=w,v=h[u+20>>2],h[p+16>>2]=h[u+16>>2],h[p+20>>2]=v,v=h[u+12>>2],h[p+8>>2]=h[u+8>>2],h[p+12>>2]=v,(0|s)!=(0|(o=o+1|0)););(o=h[t+12>>2])&&(m[t+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[t+12>>2]=0),h[t+12>>2]=l,a[t+16|0]=1,h[t+8>>2]=f,s=h[t+4>>2]}if(l=h[c+28>>2],o=h[t+12>>2]+y(s,24)|0,h[o>>2]=h[c+24>>2],h[o+4>>2]=l,s=h[c+44>>2],h[o+16>>2]=h[c+40>>2],h[o+20>>2]=s,s=h[c+36>>2],h[o+8>>2]=h[c+32>>2],h[o+12>>2]=s,o=h[t+4>>2]+1|0,h[t+4>>2]=o,2==h[e+4>>2])break e;for(u=2;;){t:if(!((0|o)<2)){for(c=h[e+12>>2]+y(u,24)|0,_=g[c+8>>2],C=g[c+4>>2],S=g[c>>2],A=g[n+8>>2],d=g[n+4>>2],I=g[n>>2],s=h[t+12>>2];;){if(p=y(o,24)+s|0,P=g[(l=p+-48|0)>>2],R=x(P-g[(p=p+-24|0)>>2]),E=g[l+4>>2],N=x(E-C),E=x(E-g[p+4>>2]),P=x(P-S),M=x(x(x(R*N)-x(E*P))*A),O=E,E=g[l+8>>2],D=x(E-_),E=x(E-g[p+8>>2]),!(x(M+x(x(I*x(x(O*D)-x(E*N)))+x(d*x(x(E*P)-x(R*D)))))>x(0))){if(o=o+-1|0,h[t+4>>2]=o,(0|o)>1)continue;break t}break}if(h[t+8>>2]==(0|o)&&!((0|o)>=(0|(f=o<<1)))){if(h[6657]=h[6657]+1,s=0|r[h[5255]](y(o,48),16),o=0,(0|(v=h[t+4>>2]))>=1)for(;p=(l=y(o,24))+s|0,l=l+h[t+12>>2]|0,w=h[l+4>>2],h[p>>2]=h[l>>2],h[p+4>>2]=w,w=h[l+20>>2],h[p+16>>2]=h[l+16>>2],h[p+20>>2]=w,w=h[l+12>>2],h[p+8>>2]=h[l+8>>2],h[p+12>>2]=w,(0|v)!=(0|(o=o+1|0)););(o=h[t+12>>2])&&(m[t+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[t+12>>2]=0),h[t+12>>2]=s,a[t+16|0]=1,h[t+8>>2]=f,o=h[t+4>>2]}l=h[c+4>>2],o=y(o,24)+s|0,h[o>>2]=h[c>>2],h[o+4>>2]=l,s=h[c+20>>2],h[o+16>>2]=h[c+16>>2],h[o+20>>2]=s,s=h[c+12>>2],h[o+8>>2]=h[c+8>>2],h[o+12>>2]=s,o=h[t+4>>2]+1|0,h[t+4>>2]=o}if(1==(0|o)){if(c=h[e+12>>2]+y(u,24)|0,o=1,1==h[t+8>>2]){if(h[6657]=h[6657]+1,p=0|r[h[5255]](48,16),o=0,(0|(f=h[t+4>>2]))>=1)for(;l=(s=y(o,24))+p|0,s=s+h[t+12>>2]|0,w=h[s+4>>2],h[l>>2]=h[s>>2],h[l+4>>2]=w,v=h[s+20>>2],h[l+16>>2]=h[s+16>>2],h[l+20>>2]=v,v=h[s+12>>2],h[l+8>>2]=h[s+8>>2],h[l+12>>2]=v,(0|f)!=(0|(o=o+1|0)););(o=h[t+12>>2])&&(m[t+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[t+12>>2]=0),h[t+12>>2]=p,a[t+16|0]=1,h[t+8>>2]=2,o=h[t+4>>2]}l=h[c+4>>2],o=h[t+12>>2]+y(o,24)|0,h[o>>2]=h[c>>2],h[o+4>>2]=l,s=h[c+20>>2],h[o+16>>2]=h[c+16>>2],h[o+20>>2]=s,s=h[c+12>>2],h[o+8>>2]=h[c+8>>2],h[o+12>>2]=s,o=h[t+4>>2]+1|0,h[t+4>>2]=o}if((0|(u=u+1|0))==h[e+4>>2])break}}else if(1==(0|s))for(s=h[t+4>>2];;){if(n=h[e+12>>2],h[t+8>>2]==(0|s)&&!((0|s)>=(0|(p=s?s<<1:1)))){if(o=0,l=0,p&&(h[6657]=h[6657]+1,l=0|r[h[5255]](y(p,24),16),s=h[t+4>>2]),(0|s)>=1)for(;u=(c=y(o,24))+l|0,c=c+h[t+12>>2]|0,v=h[c+4>>2],h[u>>2]=h[c>>2],h[u+4>>2]=v,f=h[c+20>>2],h[u+16>>2]=h[c+16>>2],h[u+20>>2]=f,f=h[c+12>>2],h[u+8>>2]=h[c+8>>2],h[u+12>>2]=f,(0|s)!=(0|(o=o+1|0)););(c=h[t+12>>2])&&(m[t+16|0]&&c&&(h[6658]=h[6658]+1,r[h[5256]](c)),h[t+12>>2]=0),h[t+12>>2]=l,a[t+16|0]=1,h[t+8>>2]=p,s=h[t+4>>2]}if(o=c=h[t+12>>2]+y(s,24)|0,s=h[n+4>>2],h[o>>2]=h[n>>2],h[o+4>>2]=s,o=h[n+20>>2],h[c+16>>2]=h[n+16>>2],h[c+20>>2]=o,o=h[n+12>>2],h[c+8>>2]=h[n+8>>2],h[c+12>>2]=o,s=h[t+4>>2]+1|0,h[t+4>>2]=s,!((0|(w=w+1|0))<h[e+4>>2]))break}z=i+32|0}function ho(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[n+4>>2]=function(e,t){var n,i=0;for(z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=z-16|0,e=h[n+12>>2],h[t+12>>2]=e,h[n+4>>2]=h[h[t+12>>2]+4>>2],h[n>>2]=0;;){if(t=h[n>>2],h[12+(i=z-16|0)>>2]=e,(0|t)<h[h[i+12>>2]+4>>2]){if(h[h[e+12>>2]+(h[n>>2]<<2)>>2]!=h[h[n+8>>2]>>2]){h[n>>2]=h[n>>2]+1;continue}h[n+4>>2]=h[n>>2]}break}return z=n+16|0,h[n+4>>2]}(e,h[n+8>>2]),J(e,h[n+4>>2]),z=n+16|0}function mo(e,t,n,i,o,r){var a,s;z=a=z-16|0,s=h[e+52>>2],h[a+8>>2]=t,h[a+4>>2]=s,h[a>>2]=12496,function(e,t,n,i,o,r){m[e+60|0]?Vn(e,t,n,i,o,r,h[e+56>>2]):Wn(e,t,n,i,o,r)}(h[e+56>>2],a,n,i,o,r),z=a+16|0}function vo(e,t,n,i){var o,r;z=o=z-16|0,r=h[e+52>>2],h[o+8>>2]=t,h[o+4>>2]=r,h[o>>2]=12328,function(e,t,n,i){var o;z=o=z-32|0,h[o+24>>2]=0,h[o+28>>2]=0,h[o+16>>2]=0,h[o+20>>2]=0,h[o+8>>2]=0,h[o+12>>2]=0,h[o>>2]=0,h[o+4>>2]=0,m[e+60|0]?Vn(e,t,n,i,o+16|0,o,h[e+56>>2]):Wn(e,t,n,i,o+16|0,o),z=o+32|0}(h[e+56>>2],o,n,i),z=o+16|0}function go(e,t,n){var i=0,o=0,s=0,c=0,l=0,p=0,u=0,_=0,g=0;e:{if(!((g=(o=f[t>>1])+((p=d[t+2>>1])<<16)&(u=h[e+48>>2])+-1)>>>0>=v[e+4>>2])&&-1!=(0|(i=h[h[e+12>>2]+(g<<2)>>2])))for(_=h[e+72>>2],l=65535&o;;){if((0|p)==d[2+(o=(s=i<<2)+_|0)>>1]&&(0|l)==d[o>>1])break e;if(-1==(0|(i=h[s+h[e+32>>2]>>2])))break}if((0|u)==(0|(i=_=h[e+44>>2]))&&!((0|(i=u))>=(0|(p=i?i<<1:1)))){if(p?(h[6657]=h[6657]+1,c=0|r[h[5255]](p<<2,16),i=h[e+44>>2]):i=u,(0|(o=i))>=1)for(i=0;l=(s=i<<2)+c|0,s=s+h[e+52>>2]|0,s=d[s>>1]|d[s+2>>1]<<16,f[l>>1]=s,f[l+2>>1]=s>>>16,(0|o)!=(0|(i=i+1|0)););(o=h[e+52>>2])&&(m[e+56|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+52>>2]=0),h[e+52>>2]=c,h[e+48>>2]=p,a[e+56|0]=1,i=h[e+44>>2]}if(o=h[e+52>>2]+(i<<2)|0,n=d[n>>1]|d[n+2>>1]<<16,f[o>>1]=n,f[o+2>>1]=n>>>16,h[e+44>>2]=h[e+44>>2]+1,(0|(c=h[e- -64>>2]))==h[e+68>>2]&&!((0|c)>=(0|(l=c?c<<1:1)))){if(l?(h[6657]=h[6657]+1,s=0|r[h[5255]](l<<2,16),c=h[e+64>>2]):s=0,(0|c)>=1)for(i=0;o=(n=i<<2)+s|0,n=n+h[e+72>>2]|0,n=d[n>>1]|d[n+2>>1]<<16,f[o>>1]=n,f[o+2>>1]=n>>>16,(0|c)!=(0|(i=i+1|0)););(n=h[e+72>>2])&&(m[e+76|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+72>>2]=0),h[e+72>>2]=s,h[e+68>>2]=l,a[e+76|0]=1,c=h[e+64>>2]}return o=h[e+72>>2]+(c<<2)|0,n=d[t>>1]|d[t+2>>1]<<16,f[o>>1]=n,f[o+2>>1]=n>>>16,h[e+64>>2]=h[e+64>>2]+1,(0|u)<h[e+48>>2]&&(function(e){var t,n=0,i=0,o=0,s=0,c=0,l=0,p=0,u=0;if(!((0|(t=h[e+4>>2]))>=(0|(i=h[e+48>>2])))){if(h[e+8>>2]>=(0|i))s=h[e+12>>2];else{n=t,i&&(h[6657]=h[6657]+1,s=0|r[h[5255]](i<<2,16),n=h[e+4>>2]),l=h[e+12>>2];t:{n:{if((0|n)>=1)for(;;)if(h[(c=o<<2)+s>>2]=h[l+c>>2],(0|(o=o+1|0))==(0|n))break n;if(!l)break t}m[e+16|0]&&l&&(h[6658]=h[6658]+1,r[h[5256]](l))}h[e+12>>2]=s,a[e+16|0]=1,h[e+8>>2]=i}if(Co((n=t<<2)+s|0,0,(c=i<<2)-n|0),h[e+4>>2]=i,(0|(l=h[e+24>>2]))<(0|i)){t:if(h[e+28>>2]>=(0|i))s=h[e+32>>2];else{o=0,n=l,s=0,i&&(h[6657]=h[6657]+1,s=0|r[h[5255]](c,16),n=h[e+24>>2]),p=h[e+32>>2];n:{if((0|n)>=1)for(;;)if(h[(u=o<<2)+s>>2]=h[p+u>>2],(0|(o=o+1|0))==(0|n))break n;if(!p){h[e+32>>2]=s,h[e+28>>2]=i,a[e+36|0]=1;break t}}m[e+36|0]&&p&&(h[6658]=h[6658]+1,r[h[5256]](p)),h[e+32>>2]=s,a[e+36|0]=1,h[e+28>>2]=i}Co((n=l<<2)+s|0,0,c-n|0)}if(h[e+24>>2]=i,(0|i)>=1&&(Co(h[e+12>>2],255,c),Co(h[e+32>>2],255,c)),!((0|t)<1))for(l=h[e+32>>2],i=h[e+72>>2],s=h[e+12>>2],o=0;n=s+(((d[2+(n=(c=o<<2)+i|0)>>1]<<16)+f[n>>1]&h[e+48>>2]+-1)<<2)|0,h[l+c>>2]=h[n>>2],h[n>>2]=o,(0|t)!=(0|(o=o+1|0)););}}(e),g=f[t>>1]+(d[t+2>>1]<<16)&h[e+48>>2]+-1),t=h[e+32>>2]+(_<<2)|0,e=h[e+12>>2]+(g<<2)|0,h[t>>2]=h[e>>2],void(h[e>>2]=_)}t=h[e+52>>2]+(i<<2)|0,e=d[n>>1]|d[n+2>>1]<<16,f[t>>1]=e,f[t+2>>1]=e>>>16}function Ao(e){for(var t=0;h[e+4>>2]=0,h[e+8>>2]=0,(t=h[e+24>>2])&&Ao(t),e=h[e+28>>2];);}function yo(e){Eo(e|=0)}function xo(e){e|=0;var t;z=t=z-16|0,h[t+12>>2]=e,(e=h[t+12>>2])&&r[h[h[e>>2]+4>>2]](e),z=t+16|0}function bo(e){var t;return z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],h[6657]=h[6657]+1,e=0|r[h[5255]](e,16),z=t+16|0,e}function Co(e,t,n){var i=0,o=0,r=0,s=0;if(n&&(a[(i=e+n|0)-1|0]=t,a[0|e]=t,!(n>>>0<3||(a[i+-2|0]=t,a[e+1|0]=t,a[i+-3|0]=t,a[e+2|0]=t,n>>>0<7||(a[i+-4|0]=t,a[e+3|0]=t,n>>>0<9||(o=(i=0-e&3)+e|0,t=y(255&t,16843009),h[o>>2]=t,h[(i=(n=n-i&-4)+o|0)-4>>2]=t,n>>>0<9||(h[o+8>>2]=t,h[o+4>>2]=t,h[i+-8>>2]=t,h[i+-12>>2]=t,n>>>0<25||(h[o+24>>2]=t,h[o+20>>2]=t,h[o+16>>2]=t,h[o+12>>2]=t,h[i+-16>>2]=t,h[i+-20>>2]=t,h[i+-24>>2]=t,h[i+-28>>2]=t,(n=n-(s=4&o|24)|0)>>>0<32))))))))for(i=t,r=t,t=o+s|0;h[t+24>>2]=r,h[t+28>>2]=i,h[t+16>>2]=r,h[t+20>>2]=i,h[t+8>>2]=r,h[t+12>>2]=i,h[t>>2]=r,h[t+4>>2]=i,t=t+32|0,(n=n+-32|0)>>>0>31;);return e}function So(e,t){var n,i,o=0,r=0,a=0,c=x(0);if(u(t),!((n=2147483647&(o=s(0)))>>>0<=2139095040&&(u(e),(r=2147483647&(a=s(0)))>>>0<2139095041)))return x(e+t);if(1065353216==(0|o))return wn(e);o=(i=o>>>30&2)|a>>>31;e:{t:{n:{i:{if(!r){o:switch(o-2|0){case 0:break i;case 1:break o;default:break n}return x(-3.1415927410125732)}if(2139095040!=(0|n)){if(!n|!(n+218103808>>>0>=r>>>0&&2139095040!=(0|r)))break e;if(r+218103808>>>0<n>>>0&&(c=x(0),i)||(c=wn(x(b(x(e/t))))),e=c,o>>>0<=2){o:switch(o-1|0){case 0:return x(-e);case 1:break o;default:break n}return x(x(3.1415927410125732)-x(e+x(8.742277657347586e-8)))}return x(x(e+x(8.742277657347586e-8))+x(-3.1415927410125732))}if(2139095040==(0|r))break t;return g[20576+(o<<2)>>2]}e=x(3.1415927410125732)}return e}return g[20560+(o<<2)>>2]}return x((0|a)<0?-1.5707963705062866:1.5707963705062866)}function Eo(e){var t=0,n=0,i=0,o=0,r=0,a=0,s=0;e:if(e|=0){r=(i=e+-8|0)+(e=-8&(n=h[e+-4>>2]))|0;t:if(!(1&n)){if(!(3&n))break e;if((i=i-(n=h[i>>2])|0)>>>0<v[6683])break e;if(e=e+n|0,h[6684]==(0|i)){if(3==(3&(n=h[r+4>>2])))return h[6681]=e,h[r+4>>2]=-2&n,h[i+4>>2]=1|e,void(h[e+i>>2]=e)}else{if(n>>>0<=255){if(o=h[i+8>>2],n>>>=3,(0|(t=h[i+12>>2]))==(0|o)){h[6679]=h[6679]&Bl(n);break t}h[o+12>>2]=t,h[t+8>>2]=o;break t}if(s=h[i+24>>2],(0|i)==(0|(n=h[i+12>>2])))if((t=h[(o=i+20|0)>>2])||(t=h[(o=i+16|0)>>2])){for(;a=o,(t=h[(o=(n=t)+20|0)>>2])||(o=n+16|0,t=h[n+16>>2]););h[a>>2]=0}else n=0;else t=h[i+8>>2],h[t+12>>2]=n,h[n+8>>2]=t;if(!s)break t;o=h[i+28>>2];n:{if(h[(t=27020+(o<<2)|0)>>2]==(0|i)){if(h[t>>2]=n,n)break n;h[6680]=h[6680]&Bl(o);break t}if(h[s+(h[s+16>>2]==(0|i)?16:20)>>2]=n,!n)break t}if(h[n+24>>2]=s,(t=h[i+16>>2])&&(h[n+16>>2]=t,h[t+24>>2]=n),!(t=h[i+20>>2]))break t;h[n+20>>2]=t,h[t+24>>2]=n}}if(!(r>>>0<=i>>>0)&&1&(n=h[r+4>>2])){t:{if(!(2&n)){if(h[6685]==(0|r)){if(h[6685]=i,e=h[6682]+e|0,h[6682]=e,h[i+4>>2]=1|e,h[6684]!=(0|i))break e;return h[6681]=0,void(h[6684]=0)}if(h[6684]==(0|r))return h[6684]=i,e=h[6681]+e|0,h[6681]=e,h[i+4>>2]=1|e,void(h[e+i>>2]=e);e=(-8&n)+e|0;n:if(n>>>0<=255){if(n>>>=3,(0|(t=h[r+8>>2]))==(0|(o=h[r+12>>2]))){h[6679]=h[6679]&Bl(n);break n}h[t+12>>2]=o,h[o+8>>2]=t}else{if(s=h[r+24>>2],(0|r)==(0|(n=h[r+12>>2])))if((t=h[(o=r+20|0)>>2])||(t=h[(o=r+16|0)>>2])){for(;a=o,(t=h[(o=(n=t)+20|0)>>2])||(o=n+16|0,t=h[n+16>>2]););h[a>>2]=0}else n=0;else t=h[r+8>>2],h[t+12>>2]=n,h[n+8>>2]=t;if(s){o=h[r+28>>2];i:{if(h[(t=27020+(o<<2)|0)>>2]==(0|r)){if(h[t>>2]=n,n)break i;h[6680]=h[6680]&Bl(o);break n}if(h[s+(h[s+16>>2]==(0|r)?16:20)>>2]=n,!n)break n}h[n+24>>2]=s,(t=h[r+16>>2])&&(h[n+16>>2]=t,h[t+24>>2]=n),(t=h[r+20>>2])&&(h[n+20>>2]=t,h[t+24>>2]=n)}}if(h[i+4>>2]=1|e,h[e+i>>2]=e,h[6684]!=(0|i))break t;return void(h[6681]=e)}h[r+4>>2]=-2&n,h[i+4>>2]=1|e,h[e+i>>2]=e}if(e>>>0<=255)return n=26756+((e>>>=3)<<3)|0,(t=h[6679])&(e=1<<e)?e=h[n+8>>2]:(h[6679]=e|t,e=n),h[n+8>>2]=i,h[e+12>>2]=i,h[i+12>>2]=n,void(h[i+8>>2]=e);h[i+16>>2]=0,h[i+20>>2]=0,t=0,(o=e>>>8)&&(t=31,e>>>0>16777215||(t=o,t<<=o=o+1048320>>>16&8,t=28+((t=((t<<=s=t+520192>>>16&4)<<(a=t+245760>>>16&2)>>>15)-(a|o|s)|0)<<1|e>>>t+21&1)|0)),h[(n=i)+28>>2]=t,a=27020+(t<<2)|0;t:if((o=h[6680])&(n=1<<t)){o=e<<(31==(0|t)?0:25-(t>>>1)|0),n=h[a>>2];n:{for(;;){if(t=n,(-8&h[n+4>>2])==(0|e))break n;if(n=o>>>29,o<<=1,!(n=h[16+(a=t+(4&n)|0)>>2]))break}h[a+16>>2]=i,h[i+12>>2]=i,h[i+24>>2]=t,h[i+8>>2]=i;break t}e=h[t+8>>2],h[e+12>>2]=i,h[t+8>>2]=i,h[i+24>>2]=0,h[i+12>>2]=t,h[i+8>>2]=e}else h[6680]=n|o,h[a>>2]=i,h[i+12>>2]=i,h[i+24>>2]=a,h[i+8>>2]=i;if(e=h[6687]+-1|0,h[6687]=e,!e){for(i=27172;i=(e=h[i>>2])+8|0,e;);h[6687]=-1}}}}function wo(e,t,n){var i,o=0,a=x(0),s=x(0),c=x(0),l=0,p=0,u=x(0),_=x(0),f=x(0),m=0,d=x(0),v=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0);if(z=i=z-16|0,!((0|(p=h[e+844>>2]))<1)){for(;d=g[t+48>>2],b=g[t+8>>2],C=g[t>>2],S=g[t+4>>2],v=g[t+52>>2],E=g[t+24>>2],u=g[t+16>>2],w=g[t+20>>2],a=g[t+56>>2],s=g[t+40>>2],c=g[t+32>>2],A=g[t+36>>2],o=y(p=p+-1|0,208)+e|0,h[o- -64>>2]=0,f=a,a=g[o+4>>2],_=x(c*a),c=g[o+8>>2],T=s,s=g[o+12>>2],A=x(f+x(x(_+x(A*c))+x(T*s))),g[o+60>>2]=A,v=x(v+x(x(x(a*u)+x(c*w))+x(s*E))),g[o+56>>2]=v,d=x(d+x(x(x(a*C)+x(c*S))+x(s*b))),g[o+52>>2]=d,b=g[n+56>>2],C=g[n+40>>2],S=g[n+32>>2],E=g[n+36>>2],u=g[n+52>>2],w=g[n+24>>2],P=g[n+16>>2],I=g[n+20>>2],a=g[n+48>>2],s=g[n+8>>2],c=g[n>>2],_=g[n+4>>2],h[o+48>>2]=0,f=a,a=g[o+20>>2],R=x(c*a),c=g[o+24>>2],T=s,s=g[o+28>>2],_=x(f+x(x(R+x(_*c))+x(T*s))),g[o+36>>2]=_,u=x(u+x(x(x(a*P)+x(c*I))+x(s*w))),g[o+40>>2]=u,a=x(b+x(x(x(a*S)+x(c*E))+x(s*C))),g[o+44>>2]=a,g[o+84>>2]=x(x(x(d-_)*g[o+68>>2])+x(x(v-u)*g[o+72>>2]))+x(x(A-a)*g[o+76>>2]),h[o+168>>2]=h[o+168>>2]+1,(0|p)>0;);if(!((0|(t=h[e+844>>2]))<1))for(;;){p=4+(o=y(t=(n=t)+-1|0,208)+e|0)|0;e:if((a=g[o+84>>2])<=(c=g[e+848>>2]))if(s=x(g[o+36>>2]-x(g[o+52>>2]-x(g[o+68>>2]*a))),f=x(s*s),s=x(g[o+40>>2]-x(g[o+56>>2]-x(a*g[o+72>>2]))),a=x(g[o+44>>2]-x(g[o+60>>2]-x(a*g[o+76>>2]))),x(x(f+x(s*s))+x(a*a))>x(c*c)){if((l=h[o+120>>2])&&(m=h[5779])&&(r[m](l),h[o+120>>2]=0),(0|(l=h[(o=e)+844>>2]))!=(0|n)&&(qo(p,4+(n=y(l+-1|0,208)+e|0)|0,208),h[n+168>>2]=0,h[n+120>>2]=0,h[n+132>>2]=0,h[n+136>>2]=0,h[n+140>>2]=0,h[n+144>>2]=0,n=h[e+844>>2]),n=n+-1|0,h[o+844>>2]=n,n)break e;if(!(n=h[5782]))break e;h[i+8>>2]=e,r[n](i+8|0)}else(n=h[5780])&&r[n](p,h[e+836>>2],h[e+840>>2]);else{if((l=h[o+120>>2])&&(m=h[5779])&&(r[m](l),h[o+120>>2]=0),(0|(l=h[(o=e)+844>>2]))!=(0|n)&&(qo(p,4+(n=y(l+-1|0,208)+e|0)|0,208),h[n+168>>2]=0,h[n+120>>2]=0,h[n+132>>2]=0,h[n+136>>2]=0,h[n+140>>2]=0,h[n+144>>2]=0,n=h[e+844>>2]),n=n+-1|0,h[o+844>>2]=n,n)break e;if(!(n=h[5782]))break e;h[i+12>>2]=e,r[n](i+12|0)}if(!((0|t)>0))break}}z=i+16|0}function To(e,t,n,i){var o;h[12+(o=z-16|0)>>2]=e,h[o+8>>2]=t,h[o+4>>2]=n,h[o>>2]=i,e=h[o+12>>2],g[e>>2]=g[h[o+8>>2]>>2],g[e+4>>2]=g[h[o+4>>2]>>2],g[e+8>>2]=g[h[o>>2]>>2],g[e+12>>2]=0}function Po(e){return 0|e}function Io(e,t){var n=0,i=0,o=0,r=0,a=0,l=0,p=0;if(u(t),!(o=(a=s(0))<<1)|(2147483647&a)>>>0>2139095040||(u(e),255==(0|(i=(p=s(0))>>>23&255))))return e=x(e*t),x(e/e);if((n=p<<1)>>>0>o>>>0){if(l=a>>>23&255,i)n=8388607&p|8388608;else{if(i=0,(0|(n=p<<9))>=0)for(;i=i+-1|0,(0|(n<<=1))>-1;);n=p<<1-i}if(o=n,l)a=8388607&a|8388608;else{if(l=0,(0|(r=a<<9))>=0)for(;l=l+-1|0,(0|(r<<=1))>-1;);a<<=1-l}if(r=(0|(o=o-a|0))>-1,(0|i)>(0|l)){for(;;){if(1&r&&!(n=o))return x(e*x(0));if(r=(0|(o=(n<<=1)-a|0))>-1,!((0|(i=i+-1|0))>(0|l)))break}i=l}if(r&&!(n=o))return x(e*x(0));if(n>>>0>8388607)r=n;else for(;i=i+-1|0,o=n>>>0<4194304,n=r=n<<1,o;);return c(0,(n=-2147483648&p)|((0|i)>=1?r+-8388608|i<<23:r>>>1-i)),_()}return(0|n)==(0|o)?x(e*x(0)):e}function Ro(e){var t,n=x(0),i=0,o=0,r=0;z=t=z-16|0,u(e);e:if((i=2147483647&(o=s(0)))>>>0<=1061752794){if(n=x(1),i>>>0<964689920)break e;n=nr(+e)}else if(i>>>0<=1081824209){if(r=+e,i>>>0>=1075235812){n=x(-nr(((0|o)<0?3.141592653589793:-3.141592653589793)+r));break e}if((0|o)<=-1){n=tr(r+1.5707963267948966);break e}n=tr(1.5707963267948966-r)}else if(i>>>0<=1088565717){if(i>>>0>=1085271520){n=nr(+e+((0|o)<0?6.283185307179586:-6.283185307179586));break e}if((0|o)<=-1){n=tr(-4.71238898038469-+e);break e}n=tr(+e-4.71238898038469)}else if(n=x(e-e),!(i>>>0>=2139095040))if((i=3&Tn(e,t+8|0))>>>0<=2){switch(i-1|0){default:n=nr(A[t+8>>3]);break e;case 0:n=tr(-A[t+8>>3]);break e;case 1:}n=x(-nr(A[t+8>>3]))}else n=tr(A[t+8>>3]);return z=t+16|0,n}function No(e){var t,n=0,i=0,o=0;z=t=z-16|0,u(e);e:if((n=2147483647&(o=s(0)))>>>0<=1061752794){if(n>>>0<964689920)break e;e=tr(+e)}else if(n>>>0<=1081824209){if(i=+e,n>>>0<=1075235811){if((0|o)<=-1){e=x(-nr(i+1.5707963267948966));break e}e=nr(i+-1.5707963267948966);break e}e=tr(-(((0|o)<0?3.141592653589793:-3.141592653589793)+i))}else if(n>>>0<=1088565717){if(i=+e,n>>>0<=1085271519){if((0|o)<=-1){e=nr(i+4.71238898038469);break e}e=x(-nr(i+-4.71238898038469));break e}e=tr(((0|o)<0?6.283185307179586:-6.283185307179586)+i)}else if(n>>>0>=2139095040)e=x(e-e);else if((n=3&Tn(e,t+8|0))>>>0<=2){switch(n-1|0){default:e=tr(A[t+8>>3]);break e;case 0:e=nr(A[t+8>>3]);break e;case 1:}e=tr(-A[t+8>>3])}else e=x(-nr(A[t+8>>3]));return z=t+16|0,e}function Do(e,t,n){32&m[0|e]||function(e,t,n){var i=0,o=0,s=0;e:{if(!(i=h[n+16>>2])){if(Pn(n))break e;i=h[n+16>>2]}if(i-(s=h[n+20>>2])>>>0<t>>>0)return void r[h[n+36>>2]](n,e,t);t:if(!(a[n+75|0]<0)){for(i=t;;){if(!(o=i))break t;if(10==m[(i=o+-1|0)+e|0])break}if(r[h[n+36>>2]](n,e,o)>>>0<o>>>0)break e;t=t-o|0,e=e+o|0,s=h[n+20>>2]}qo(s,e,t),h[n+20>>2]=h[n+20>>2]+t}}(t,n,e)}function Mo(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+24>>2]](e,h[n+8>>2]),z=n+16|0}function Oo(e,t){var n,i=0,o=x(0);z=n=z+-64|0,h[n+60>>2]=e,h[n+56>>2]=t,e=z-16|0,t=h[n+60>>2],h[e+12>>2]=t,o=g[h[e+12>>2]>>2],h[12+(e=z-16|0)>>2]=t+16,o=x(o+g[h[e+12>>2]+4>>2]),h[12+(e=z-16|0)>>2]=t+32,g[n+52>>2]=o+g[h[e+12>>2]+8>>2],g[n+52>>2]>x(0)?(g[12+(e=z-16|0)>>2]=g[n+52>>2]+x(1),g[n+28>>2]=T(g[e+12>>2]),g[n+44>>2]=g[n+28>>2]*x(.5),g[n+28>>2]=x(.5)/g[n+28>>2],h[12+(e=z-16|0)>>2]=t+32,o=g[h[e+12>>2]+4>>2],h[12+(e=z-16|0)>>2]=t+16,g[n+32>>2]=x(o-g[h[e+12>>2]+8>>2])*g[n+28>>2],h[12+(e=z-16|0)>>2]=t,o=g[h[e+12>>2]+8>>2],h[12+(e=z-16|0)>>2]=t+32,g[n+36>>2]=x(o-g[h[e+12>>2]>>2])*g[n+28>>2],h[12+(e=z-16|0)>>2]=t+16,o=g[h[e+12>>2]>>2],h[12+(e=z-16|0)>>2]=t,g[n+40>>2]=x(o-g[h[e+12>>2]+4>>2])*g[n+28>>2]):(e=n,h[12+(i=z-16|0)>>2]=t,o=g[h[i+12>>2]>>2],h[12+(i=z-16|0)>>2]=t+16,o<g[h[i+12>>2]+4>>2]?(h[12+(i=z-16|0)>>2]=t+16,o=g[h[i+12>>2]+4>>2],h[12+(i=z-16|0)>>2]=t+32,i=o<g[h[i+12>>2]+8>>2]?2:1):(h[12+(i=z-16|0)>>2]=t,o=g[h[i+12>>2]>>2],h[12+(i=z-16|0)>>2]=t+32,i=o<g[h[i+12>>2]+8>>2]?2:0),h[e+24>>2]=i,h[n+20>>2]=(h[n+24>>2]+1|0)%3,h[n+16>>2]=(h[n+24>>2]+2|0)%3,h[12+(e=z-16|0)>>2]=t+(h[n+24>>2]<<4),o=g[h[e+12>>2]+(h[n+24>>2]<<2)>>2],h[12+(e=z-16|0)>>2]=t+(h[n+20>>2]<<4),o=x(o-g[h[e+12>>2]+(h[n+20>>2]<<2)>>2]),h[12+(e=z-16|0)>>2]=t+(h[n+16>>2]<<4),g[12+(i=z-16|0)>>2]=x(o-g[h[e+12>>2]+(h[n+16>>2]<<2)>>2])+x(1),g[n+12>>2]=T(g[i+12>>2]),g[(e=n+32|0)+(h[n+24>>2]<<2)>>2]=g[n+12>>2]*x(.5),g[n+12>>2]=x(.5)/g[n+12>>2],h[12+(i=z-16|0)>>2]=t+(h[n+16>>2]<<4),o=g[h[i+12>>2]+(h[n+20>>2]<<2)>>2],h[12+(i=z-16|0)>>2]=t+(h[n+20>>2]<<4),g[n+44>>2]=x(o-g[h[i+12>>2]+(h[n+16>>2]<<2)>>2])*g[n+12>>2],h[12+(i=z-16|0)>>2]=t+(h[n+20>>2]<<4),o=g[h[i+12>>2]+(h[n+24>>2]<<2)>>2],h[12+(i=z-16|0)>>2]=t+(h[n+24>>2]<<4),g[e+(h[n+20>>2]<<2)>>2]=x(o+g[h[i+12>>2]+(h[n+20>>2]<<2)>>2])*g[n+12>>2],h[12+(i=z-16|0)>>2]=t+(h[n+16>>2]<<4),o=g[h[i+12>>2]+(h[n+24>>2]<<2)>>2],h[12+(i=z-16|0)>>2]=t+(h[n+24>>2]<<4),g[e+(h[n+16>>2]<<2)>>2]=x(o+g[h[i+12>>2]+(h[n+16>>2]<<2)>>2])*g[n+12>>2]),e=n+32|0,dc(h[n+56>>2],e,e+4|0,e+8|0,e+12|0),z=n- -64|0}function Lo(e){e|=0;var t,n=x(0);return z=t=z-16|0,h[t+12>>2]=e,n=function(e){var t=0,n=0,i=0,o=0,a=x(0);return z=t=z-128|0,h[t+124>>2]=e,e=h[t+124>>2],Qo(n=t+56|0),Ko(n),i=t+40|0,h[12+(z-16|0)>>2]=i,o=t+24|0,h[12+(z-16|0)>>2]=o,r[h[h[e>>2]+8>>2]](e,n,i,o),sr(e=t+8|0,o,i),a=_a(e),z=t+128|0,x(a*x(.5))}(h[t+12>>2]),z=t+16|0,x(n)}function zo(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o;z=o=z-16|0,h[o+12>>2]=e,h[o+8>>2]=t,h[o+4>>2]=n,h[o>>2]=i,e=h[o+12>>2],r[h[h[e>>2]+8>>2]](e,h[o+8>>2],h[o+4>>2],h[o>>2]),z=o+16|0}function Fo(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,h[h[e+12>>2]+12>>2]=h[e+8>>2],z=n+16|0}function Bo(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+12>>2]}function Uo(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=1&function(e){var t,n;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],h[12+(n=z-16|0)>>2]=h[h[e+12>>2]+4>>2],z=t+16|0,31==h[n+12>>2]}(h[t+12>>2]),z=t+16|0,0|e}function jo(e,t,n){e|=0,t=x(t),n|=0;var i;z=i=z-16|0,h[i+12>>2]=e,g[i+8>>2]=t,h[i+4>>2]=n,e=h[i+12>>2],r[h[h[e>>2]+32>>2]](e,g[i+8>>2],h[i+4>>2]),z=i+16|0}function ko(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],e=0|r[h[h[e>>2]+28>>2]](e),z=t+16|0,0|e}function Go(e,t,n,i,o){var r,a=0,s=0;if(z=r=z-256|0,!(73728&o|(0|n)<=(0|i))){if(Co(r,t,(a=(o=n-i|0)>>>0<256)?o:256),t=e,s=r,!a){for(n=n-i|0;Do(e,r,256),(o=o+-256|0)>>>0>255;);o=255&n}Do(t,s,o)}z=r+256|0}function Ho(e,t,n){var i;z=i=z-32|0,h[i+28>>2]=t,h[i+24>>2]=n,g[i+20>>2]=g[h[i+28>>2]>>2]*g[h[i+24>>2]>>2],g[i+16>>2]=g[h[i+28>>2]+4>>2]*g[h[i+24>>2]>>2],g[i+12>>2]=g[h[i+28>>2]+8>>2]*g[h[i+24>>2]>>2],To(e,i+20|0,i+16|0,i+12|0),z=i+32|0}function Vo(e,t){var n;return h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],x(x(x(g[e>>2]*g[h[n+8>>2]>>2])+x(g[e+4>>2]*g[h[n+8>>2]+4>>2]))+x(g[e+8>>2]*g[h[n+8>>2]+8>>2]))}function Wo(){}function qo(e,t,n){var i=0,o=0;if(n>>>0>=8192)N(0|e,0|t,0|n);else{i=e+n|0;e:if(3&(e^t))if(i>>>0<4)n=e;else if((o=i+-4|0)>>>0<e>>>0)n=e;else for(n=e;a[0|n]=m[0|t],a[n+1|0]=m[t+1|0],a[n+2|0]=m[t+2|0],a[n+3|0]=m[t+3|0],t=t+4|0,(n=n+4|0)>>>0<=o>>>0;);else{t:if((0|n)<1)n=e;else if(3&e)for(n=e;;){if(a[0|n]=m[0|t],t=t+1|0,(n=n+1|0)>>>0>=i>>>0)break t;if(!(3&n))break}else n=e;if(!((e=-4&i)>>>0<64||n>>>0>(o=e+-64|0)>>>0))for(;h[n>>2]=h[t>>2],h[n+4>>2]=h[t+4>>2],h[n+8>>2]=h[t+8>>2],h[n+12>>2]=h[t+12>>2],h[n+16>>2]=h[t+16>>2],h[n+20>>2]=h[t+20>>2],h[n+24>>2]=h[t+24>>2],h[n+28>>2]=h[t+28>>2],h[n+32>>2]=h[t+32>>2],h[n+36>>2]=h[t+36>>2],h[n+40>>2]=h[t+40>>2],h[n+44>>2]=h[t+44>>2],h[n+48>>2]=h[t+48>>2],h[n+52>>2]=h[t+52>>2],h[n+56>>2]=h[t+56>>2],h[n+60>>2]=h[t+60>>2],t=t- -64|0,(n=n- -64|0)>>>0<=o>>>0;);if(n>>>0>=e>>>0)break e;for(;h[n>>2]=h[t>>2],t=t+4|0,(n=n+4|0)>>>0<e>>>0;);}if(n>>>0<i>>>0)for(;a[0|n]=m[0|t],t=t+1|0,(0|i)!=(0|(n=n+1|0)););}}function Yo(e,t,n){return n?!function(e,t){var n=0,i=0;e:if(!(!(n=m[0|e])|(0|n)!=(0|(i=m[0|t]))))for(;;){if(i=m[t+1|0],!(n=m[e+1|0]))break e;if(t=t+1|0,e=e+1|0,(0|n)!=(0|i))break}return n-i|0}(h[e+4>>2],h[t+4>>2]):(0|e)==(0|t)}function Xo(e){var t=0,n=0;for(e=e||1;!(t=Mc(e))&&(n=h[6678]);)r[n]();return t}function Qo(e){var t;z=t=z-16|0,h[t+12>>2]=e,function(e){var t,n;for(z=t=z-16|0,h[t+8>>2]=e,e=h[t+8>>2],h[t+12>>2]=e,n=e+48|0;h[12+(z-16|0)>>2]=e,(0|n)!=(0|(e=e+16|0)););z=t+16|0}(e=h[t+12>>2]),h[12+(z-16|0)>>2]=e+48,z=t+16|0}function Zo(e,t){e|=0,t|=0;var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+48>>2]=h[e>>2],h[t+52>>2]=n,n=h[e+12>>2],h[t+56>>2]=h[e+8>>2],h[t+60>>2]=n}function Jo(e){h[e>>2]=13796,h[e+12>>2]=-1,h[e+4>>2]=35,h[e+8>>2]=0,h[e+48>>2]=1025758986,h[e+24>>2]=1065353216,h[e+28>>2]=0,h[e+16>>2]=1065353216,h[e+20>>2]=1065353216,h[e>>2]=13924}function Ko(e){var t;z=t=z-16|0,h[t+12>>2]=e,function(e){var t;z=t=z-48|0,h[t+44>>2]=e,e=h[t+44>>2],g[t+40>>2]=1,g[t+36>>2]=0,g[t+32>>2]=0,g[t+28>>2]=0,g[t+24>>2]=1,g[t+20>>2]=0,g[t+16>>2]=0,g[t+12>>2]=0,g[t+8>>2]=1,Zr(e,t+40|0,t+36|0,t+32|0,t+28|0,t+24|0,t+20|0,t+16|0,t+12|0,t+8|0),z=t+48|0}(e=h[t+12>>2]),g[t+8>>2]=0,g[t+4>>2]=0,g[t>>2]=0,To(e+48|0,t+8|0,t+4|0,t),z=t+16|0}function $o(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],h[12+(z-16|0)>>2]=e,z=t+16|0,0|e}function er(e){e|=0;var t;z=t=z-16|0,h[t+12>>2]=e,(e=h[t+12>>2])&&Eo(e),z=t+16|0}function tr(e){var t,n;return x((n=(t=e*e)*e)*t*t*(2718311493989822e-21*t-.00019839334836096632)+(n*(.008333329385889463*t-.16666666641626524)+e))}function nr(e){var t;return x(-.499999997251031*(e*=e)+1+.04166662332373906*(t=e*e)+e*t*(2439044879627741e-20*e-.001388676377460993))}function ir(e,t){var n,i=0,o=0,s=x(0),c=0,l=0,p=x(0),u=0,_=0,f=0,d=0,v=0,A=x(0),b=x(0),C=x(0),S=0;if(z=n=z-96|0,i=h[e+12>>2],r[h[h[i>>2]+8>>2]](i,h[e+8>>2]+4|0,n+80|0,n- -64|0),i=h[t+68>>2],r[h[h[i>>2]+16>>2]](i,h[h[e+8>>2]+188>>2],n+80|0,n- -64|0,h[t+24>>2]),i=h[t+24>>2],r[h[h[i>>2]+32>>2]](i,h[h[e+8>>2]+344>>2],t+28|0,i),t=h[e+8>>2],i=h[t+56>>2],h[e+132>>2]=h[t+52>>2],h[e+136>>2]=i,i=h[t+64>>2],h[e+140>>2]=h[t+60>>2],h[e+144>>2]=i,t=h[t+344>>2],(0|r[h[h[t>>2]+36>>2]](t))>=1)for(f=e+200|0;;){if((0|(t=h[e+204>>2]))<=-1)for(h[e+208>>2]<=-1&&((i=h[e+212>>2])&&(m[e+216|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[e+212>>2]=0),a[e+216|0]=1,h[e+208>>2]=0,h[e+212>>2]=0);h[h[e+212>>2]+(t<<2)>>2]=0,o=(i=t+1|0)>>>0>=t>>>0,t=i,o;);if(h[e+204>>2]=0,t=h[h[e+8>>2]+344>>2],i=h[12+(0|r[h[h[t>>2]+28>>2]](t))>>2]+(c<<4)|0,t=h[h[i+4>>2]>>2],o=h[h[i>>2]>>2],!((4&m[o+204|0]?o:0)|(4&m[t+204|0]?t:0))&&r[h[h[e>>2]+56>>2]](e,o,t)&&((t=h[i+8>>2])&&r[h[h[t>>2]+16>>2]](t,f),!((0|(u=h[e+204>>2]))<1)))for(d=h[e+8>>2],v=h[e+212>>2],i=0;;){if(l=h[(i<<2)+v>>2],(0|(_=h[l+844>>2]))>=1)for(p=h[l+836>>2]==(0|d)?x(-1):x(1),A=x(-g[e+16>>2]),t=0;o=y(t,208)+l|0,(s=g[o+84>>2])<A&&(b=g[o+76>>2],C=g[o+72>>2],g[e+132>>2]=x(x(s*x(p*g[o+68>>2]))*x(.20000000298023224))+g[e+132>>2],g[e+136>>2]=x(x(s*x(p*C))*x(.20000000298023224))+g[e+136>>2],g[e+140>>2]=x(x(s*x(p*b))*x(.20000000298023224))+g[e+140>>2],S=1),(0|(t=t+1|0))<(0|_););if(!((0|(i=i+1|0))<(0|u)))break}if(c=c+1|0,t=h[h[e+8>>2]+344>>2],!((0|c)<(0|r[h[h[t>>2]+36>>2]](t))))break}return t=h[e+8>>2],i=h[t+16>>2],h[n+8>>2]=h[t+12>>2],h[n+12>>2]=i,i=h[t+8>>2],h[n>>2]=h[t+4>>2],h[n+4>>2]=i,i=h[t+32>>2],h[n+24>>2]=h[t+28>>2],h[n+28>>2]=i,i=h[t+24>>2],h[n+16>>2]=h[t+20>>2],h[n+20>>2]=i,i=h[t+48>>2],h[n+40>>2]=h[t+44>>2],h[n+44>>2]=i,i=h[t+40>>2],h[n+32>>2]=h[t+36>>2],h[n+36>>2]=i,i=h[e+144>>2],h[n+56>>2]=h[e+140>>2],h[n+60>>2]=i,i=h[e+136>>2],h[n+48>>2]=h[e+132>>2],h[n+52>>2]=i,h[t+304>>2]=h[t+304>>2]+1,e=h[n+12>>2],h[t+12>>2]=h[n+8>>2],h[t+16>>2]=e,e=h[n+4>>2],h[t+4>>2]=h[n>>2],h[t+8>>2]=e,e=h[n+28>>2],h[t+28>>2]=h[n+24>>2],h[t+32>>2]=e,e=h[n+20>>2],h[t+20>>2]=h[n+16>>2],h[t+24>>2]=e,e=h[n+36>>2],h[t+36>>2]=h[n+32>>2],h[t+40>>2]=e,e=h[n+44>>2],h[t+44>>2]=h[n+40>>2],h[t+48>>2]=e,e=h[n+52>>2],h[t+52>>2]=h[n+48>>2],h[t+56>>2]=e,e=h[n+60>>2],h[t+60>>2]=h[n+56>>2],h[t+64>>2]=e,z=n+96|0,S}function or(){P()}function rr(e){e|=0;var t,n=x(0);return z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],n=x(r[h[h[e>>2]+48>>2]](e)),z=t+16|0,x(n)}function ar(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+44>>2]](e,g[n+8>>2]),z=n+16|0}function sr(e,t,n){var i;z=i=z-32|0,h[i+28>>2]=t,h[i+24>>2]=n,g[i+20>>2]=g[h[i+28>>2]>>2]-g[h[i+24>>2]>>2],g[i+16>>2]=g[h[i+28>>2]+4>>2]-g[h[i+24>>2]+4>>2],g[i+12>>2]=g[h[i+28>>2]+8>>2]-g[h[i+24>>2]+8>>2],To(e,i+20|0,i+16|0,i+12|0),z=i+32|0}function cr(e,t,n,i,o,a){var s,c=0,l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0);z=s=z-400|0,r[h[5253]](8549),c=h[n+12>>2],h[s+336>>2]=h[n+8>>2],h[s+340>>2]=c,c=h[n+4>>2],h[s+328>>2]=h[n>>2],h[s+332>>2]=c,c=h[n+28>>2],h[s+352>>2]=h[n+24>>2],h[s+356>>2]=c,c=h[n+20>>2],h[s+344>>2]=h[n+16>>2],h[s+348>>2]=c,c=h[n+44>>2],h[s+368>>2]=h[n+40>>2],h[s+372>>2]=c,c=h[n+36>>2],h[s+360>>2]=h[n+32>>2],h[s+364>>2]=c,c=h[n+60>>2],h[s+384>>2]=h[n+56>>2],h[s+388>>2]=c,c=h[n+52>>2],h[s+376>>2]=h[n+48>>2],h[s+380>>2]=c,c=h[i+12>>2],h[s+272>>2]=h[i+8>>2],h[s+276>>2]=c,c=h[i+4>>2],h[s+264>>2]=h[i>>2],h[s+268>>2]=c,c=h[i+28>>2],h[s+288>>2]=h[i+24>>2],h[s+292>>2]=c,c=h[i+20>>2],h[s+280>>2]=h[i+16>>2],h[s+284>>2]=c,c=h[i+44>>2],h[s+304>>2]=h[i+40>>2],h[s+308>>2]=c,c=h[i+36>>2],h[s+296>>2]=h[i+32>>2],h[s+300>>2]=c,c=h[i+60>>2],h[s+320>>2]=h[i+56>>2],h[s+324>>2]=c,c=h[i+52>>2],h[s+312>>2]=h[i+48>>2],h[s+316>>2]=c,Lr(s+328|0,s+264|0,s,s+248|0),h[s+228>>2]=0,l=g[s+248>>2],g[s+224>>2]=l*g[s+8>>2],g[s+220>>2]=l*g[s+4>>2],g[s+216>>2]=l*g[s>>2],h[s+208>>2]=0,h[s+212>>2]=0,h[s+200>>2]=0,h[s+204>>2]=0,h[s+52>>2]=0,h[s+56>>2]=0,h[s+60>>2]=0,h[s+4>>2]=0,h[s+8>>2]=0,h[s>>2]=1065353216,h[s+12>>2]=0,h[s+16>>2]=0,h[s+24>>2]=0,h[s+28>>2]=0,h[s+20>>2]=1065353216,h[s+32>>2]=0,h[s+36>>2]=0,h[s+44>>2]=0,h[s+48>>2]=0,h[s+40>>2]=1065353216,Oo(s+328|0,s+248|0),h[s+28>>2]=0,l=g[s+248>>2],p=g[s+252>>2],m=g[s+256>>2],u=g[s+260>>2],f=x(x(2)/x(x(x(x(l*l)+x(p*p))+x(m*m))+x(u*u))),d=x(m*f),_=x(p*d),v=x(l*f),A=x(u*v),g[s+36>>2]=_+A,h[s+44>>2]=0,h[s+12>>2]=0,y=x(l*d),f=x(p*f),b=x(u*f),g[s+32>>2]=y-b,g[s+24>>2]=_-A,_=x(l*f),u=x(u*d),g[s+16>>2]=_+u,g[s+8>>2]=y+b,g[s+4>>2]=_-u,l=x(l*v),p=x(p*f),g[s+40>>2]=x(1)-x(l+p),_=l,l=x(m*d),g[s+20>>2]=x(1)-x(_+l),g[s>>2]=x(1)-x(p+l),hi(t,s,s+200|0,s+216|0,s+248|0,s+232|0),h[s>>2]=10192,c=h[n+12>>2],h[s+44>>2]=h[n+8>>2],h[s+48>>2]=c,c=h[n+4>>2],h[s+36>>2]=h[n>>2],h[s+40>>2]=c,c=h[n+28>>2],h[s+60>>2]=h[n+24>>2],h[s+64>>2]=c,c=h[n+20>>2],h[s+52>>2]=h[n+16>>2],h[s+56>>2]=c,c=h[n+44>>2],h[s+76>>2]=h[n+40>>2],h[s+80>>2]=c,c=h[n+36>>2],h[s+68>>2]=h[n+32>>2],h[s+72>>2]=c,c=h[n+60>>2],h[s+92>>2]=h[n+56>>2],h[s+96>>2]=c,c=h[n+52>>2],h[s+84>>2]=h[n+48>>2],h[s+88>>2]=c,n=h[i+12>>2],h[s+108>>2]=h[i+8>>2],h[s+112>>2]=n,n=h[i+4>>2],h[s+100>>2]=h[i>>2],h[s+104>>2]=n,n=h[i+20>>2],h[s+116>>2]=h[i+16>>2],h[s+120>>2]=n,n=h[i+28>>2],h[s+124>>2]=h[i+24>>2],h[s+128>>2]=n,n=h[i+44>>2],h[s+140>>2]=h[i+40>>2],h[s+144>>2]=n,n=h[i+36>>2],h[s+132>>2]=h[i+32>>2],h[s+136>>2]=n,n=h[i+52>>2],h[s+148>>2]=h[i+48>>2],h[s+152>>2]=n,n=h[i+60>>2],h[s+156>>2]=h[i+56>>2],h[s+160>>2]=n,h[s+184>>2]=o,g[s+188>>2]=a,h[s+192>>2]=t,h[s+180>>2]=e,a=x(g[s+148>>2]-g[s+84>>2]),l=x(g[s+152>>2]-g[s+88>>2]),p=x(g[s+156>>2]-g[s+92>>2]),u=x(x(1)/x(T(x(x(x(a*a)+x(l*l))+x(p*p))))),d=(m=x(p*u))==x(0)?x(0xde0b6b000000000):x(x(1)/m),g[s+12>>2]=d,_=(f=x(l*u))==x(0)?x(0xde0b6b000000000):x(x(1)/f),g[s+8>>2]=_,h[s+28>>2]=d<x(0),h[s+24>>2]=_<x(0),_=a,a=x(a*u),g[s+32>>2]=x(p*m)+x(x(_*a)+x(l*f)),a=a==x(0)?x(0xde0b6b000000000):x(x(1)/a),g[s+4>>2]=a,h[s+20>>2]=a<x(0),e=h[e+68>>2],r[h[h[e>>2]+24>>2]](e,s+376|0,s+312|0,s,s+248|0,s+232|0),r[h[5254]](),z=s+400|0}function lr(e,t,n,i){yl(e|=0,t|=0,n|=0,i|=0)}function pr(e,t,n){var i,o,a,s,c,l,p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0);z=i=z-48|0,p=g[t+8>>2],u=g[t>>2],_=g[t+4>>2],h[n+12>>2]=0,f=p,p=x(x(1)/x(T(x(x(x(u*u)+x(_*_))+x(p*p))))),g[n+8>>2]=f*p,g[n+4>>2]=_*p,g[n>>2]=u*p,t=h[e+120>>2],s=i+32|0,o=h[e+124>>2],c=a=h[e>>2]+(o>>1)|0,l=n,1&o&&(t=h[t+h[a>>2]>>2]),r[t](s,c,l),p=g[n>>2],u=g[n+4>>2],_=g[n+8>>2],h[i+12>>2]=0,g[i+8>>2]=-_,g[i+4>>2]=-u,g[i>>2]=-p,function(e,t,n){var i=0,o=x(0),a=x(0),s=x(0),c=0,l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=0,b=0,C=x(0),S=x(0),E=x(0);z=i=z-32|0,y=h[t+124>>2],b=h[t+4>>2]+(y>>1)|0,c=h[t+120>>2],c=1&y?h[h[b>>2]+c>>2]:c,l=g[t+16>>2],p=g[t+12>>2],u=g[t+32>>2],_=g[t+24>>2],f=g[t+28>>2],m=g[t+48>>2],d=g[t+40>>2],v=g[t+44>>2],A=g[t+8>>2],o=g[n+8>>2],a=g[n>>2],s=g[n+4>>2],h[i+12>>2]=0,g[i+8>>2]=x(x(a*d)+x(s*v))+x(o*m),g[i+4>>2]=x(x(a*_)+x(s*f))+x(o*u),g[i>>2]=x(x(A*a)+x(p*s))+x(l*o),r[c](i+16|0,b,i),l=g[t+104>>2],p=g[t- -64>>2],u=g[t+60>>2],_=g[t+108>>2],f=g[t+80>>2],m=g[t+72>>2],d=g[t+76>>2],v=g[t+112>>2],A=g[t+96>>2],C=g[t+88>>2],S=g[t+92>>2],E=g[t+56>>2],o=g[i+24>>2],a=g[i+16>>2],s=g[i+20>>2],h[e+12>>2]=0,g[e+8>>2]=v+x(x(x(a*C)+x(s*S))+x(o*A)),g[e+4>>2]=_+x(x(x(a*m)+x(s*d))+x(o*f)),g[e>>2]=l+x(x(x(a*E)+x(s*u))+x(o*p)),z=i+32|0}(i+16|0,e,i),p=g[i+16>>2],u=g[i+32>>2],_=g[i+20>>2],f=g[i+36>>2],m=g[i+24>>2],d=g[i+40>>2],h[n+28>>2]=0,g[n+24>>2]=d-m,g[n+20>>2]=f-_,g[n+16>>2]=u-p,z=i+48|0}function ur(e,t,n,i){h[e+44>>2]=0,h[e+36>>2]=0,h[e+40>>2]=1028443341,h[e+32>>2]=i,h[e+28>>2]=n,h[e+24>>2]=-1,f[e+20>>1]=1,h[e+16>>2]=2139095039,h[e+8>>2]=-1,h[e+12>>2]=-1,h[e>>2]=3532,h[e+4>>2]=t}function _r(){}function fr(e,t,n,i,o){var r,a=x(0),s=x(0);return z=r=z-32|0,h[r+28>>2]=e,h[r+24>>2]=t,h[r+20>>2]=n,h[r+16>>2]=i,h[r+12>>2]=o,t=z-16|0,e=h[r+28>>2],h[t+12>>2]=e+(h[r+24>>2]<<4),a=g[h[t+12>>2]+(h[r+20>>2]<<2)>>2],h[12+(t=z-16|0)>>2]=e+(h[r+16>>2]<<4),a=x(a*g[h[t+12>>2]+(h[r+12>>2]<<2)>>2]),h[12+(t=z-16|0)>>2]=e+(h[r+24>>2]<<4),s=g[h[t+12>>2]+(h[r+12>>2]<<2)>>2],h[12+(t=z-16|0)>>2]=e+(h[r+16>>2]<<4),z=r+32|0,x(a-x(s*g[h[t+12>>2]+(h[r+20>>2]<<2)>>2]))}function hr(){var e;return z=e=z-48|0,!(0==m[21488])|1&a[21488]||(g[e+44>>2]=1,g[e+40>>2]=0,g[e+36>>2]=0,To(21440,e+44|0,e+40|0,e+36|0),g[e+24>>2]=0,g[e+20>>2]=1,g[e+16>>2]=0,To(21456,e+24|0,e+20|0,e+16|0),g[e+12>>2]=0,g[e+8>>2]=0,g[e+4>>2]=1,To(21472,e+12|0,e+8|0,e+4|0),h[5372]=0,h[5372]=1|h[5372]),z=e+48|0,21440}function mr(e){var t,n,i=x(0),o=x(0);if(u(e),(t=2147483647&(n=s(0)))>>>0>=1065353216)return x(1065353216==(0|t)?(0|n)<0?3.141592502593994:0:x(0)/x(e-e));e:{if(t>>>0<=1056964607){if(i=x(1.570796251296997),t>>>0<847249409)break e;return i=x(e*e),x(x(x(x(7.549789415861596e-8)-x(x(x(i*x(x(i*x(x(i*x(-.008656363002955914))+x(-.04274342209100723)))+x(.16666586697101593)))/x(x(i*x(-.7066296339035034))+x(1)))*e))-e)+x(1.570796251296997))}if((0|n)<=-1)return e=x(x(e+x(1))*x(.5)),i=x(T(e)),e=x(x(1.570796251296997)-x(i+x(x(i*x(x(e*x(x(e*x(x(e*x(-.008656363002955914))+x(-.04274342209100723)))+x(.16666586697101593)))/x(x(e*x(-.7066296339035034))+x(1))))+x(-7.549789415861596e-8)))),x(e+e);e=x(x(x(1)-e)*x(.5)),c(0,-4096&(u(o=x(T(e))),s(0))),i=_(),e=x(x(x(x(x(e*x(x(e*x(x(e*x(-.008656363002955914))+x(-.04274342209100723)))+x(.16666586697101593)))/x(x(e*x(-.7066296339035034))+x(1)))*o)+x(x(e-x(i*i))/x(o+i)))+i),i=x(e+e)}return i}function dr(e,t,n,i,o,a){var s,c=0,l=0,p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=0,C=0;if(z=s=z-272|0,l=h[(c=n)+12>>2],h[s+216>>2]=h[c+8>>2],h[s+220>>2]=l,l=h[c+4>>2],h[s+208>>2]=h[c>>2],h[s+212>>2]=l,l=h[c+28>>2],h[s+232>>2]=h[c+24>>2],h[s+236>>2]=l,l=h[c+20>>2],h[s+224>>2]=h[c+16>>2],h[s+228>>2]=l,l=h[c+44>>2],h[s+248>>2]=h[c+40>>2],h[s+252>>2]=l,l=h[c+36>>2],h[s+240>>2]=h[c+32>>2],h[s+244>>2]=l,l=h[c+60>>2],h[s+264>>2]=h[c+56>>2],h[s+268>>2]=l,l=h[c+52>>2],h[s+256>>2]=h[c+48>>2],h[s+260>>2]=l,l=h[(c=i)+12>>2],h[s+152>>2]=h[c+8>>2],h[s+156>>2]=l,l=h[c+4>>2],h[s+144>>2]=h[c>>2],h[s+148>>2]=l,l=h[c+28>>2],h[s+168>>2]=h[c+24>>2],h[s+172>>2]=l,l=h[c+20>>2],h[s+160>>2]=h[c+16>>2],h[s+164>>2]=l,l=h[c+44>>2],h[s+184>>2]=h[c+40>>2],h[s+188>>2]=l,l=h[c+36>>2],h[s+176>>2]=h[c+32>>2],h[s+180>>2]=l,l=h[c+60>>2],h[s+200>>2]=h[c+56>>2],h[s+204>>2]=l,l=h[c+52>>2],h[s+192>>2]=h[c+48>>2],h[s+196>>2]=l,h[s+108>>2]=0,g[s+104>>2]=g[s+200>>2]-g[s+264>>2],g[s+100>>2]=g[s+196>>2]-g[s+260>>2],g[s+96>>2]=g[s+192>>2]-g[s+256>>2],Lr(s+208|0,s+144|0,s+16|0,s+128|0),h[s+92>>2]=0,p=g[s+128>>2],g[s+88>>2]=p*g[s+24>>2],g[s+84>>2]=p*g[s+20>>2],g[s+80>>2]=p*g[s+16>>2],h[s+72>>2]=0,h[s+76>>2]=0,h[(c=s- -64|0)>>2]=0,h[c+4>>2]=0,Oo(s+208|0,s+128|0),h[s+60>>2]=0,h[s+44>>2]=0,p=g[s+128>>2],u=g[s+132>>2],f=g[s+136>>2],v=g[s+140>>2],d=x(x(2)/x(x(x(x(p*p)+x(u*u))+x(f*f))+x(v*v))),A=x(f*d),_=x(u*A),m=x(p*d),y=x(v*m),g[s+52>>2]=_+y,g[s+40>>2]=_-y,_=x(p*m),m=u,u=x(u*d),d=x(m*u),g[s+56>>2]=x(1)-x(_+d),f=x(f*A),g[s+36>>2]=x(1)-x(_+f),h[s+28>>2]=0,_=x(p*A),m=x(v*u),g[s+48>>2]=_-m,p=x(p*u),u=x(v*A),g[s+32>>2]=p+u,g[s+24>>2]=_+m,g[s+20>>2]=p-u,g[s+16>>2]=x(1)-x(d+f),hi(t,s+16|0,s+96|0,s+80|0,s+128|0,s+112|0),h[e+328>>2]>=1)for(c=i+48|0,l=n+48|0,i=0;n=h[h[e+336>>2]+(i<<2)>>2],r[h[h[o>>2]+8>>2]](o,h[n+188>>2])&&(b=h[n+192>>2],C=n+4|0,r[h[h[b>>2]+8>>2]](b,C,s+16|0,s+96|0),h[s+28>>2]=0,h[s+108>>2]=0,g[s+24>>2]=g[s+24>>2]+g[s+136>>2],g[s+20>>2]=g[s+20>>2]+g[s+132>>2],g[s+16>>2]=g[s+16>>2]+g[s+128>>2],g[s+96>>2]=g[s+96>>2]+g[s+112>>2],g[s+100>>2]=g[s+100>>2]+g[s+116>>2],g[s+104>>2]=g[s+104>>2]+g[s+120>>2],h[s+12>>2]=1065353216,Cl(l,c,s+16|0,s+96|0,s+12|0,s+80|0)&&Ml(t,s+208|0,s+144|0,n,h[n+192>>2],C,o,a)),(0|(i=i+1|0))<h[e+328>>2];);z=s+272|0}function vr(e,t){var n=x(0),i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0);!e|!(1&h[e+180>>2])||(v=g[e+172>>2],n=g[e+44>>2],l=g[e+12>>2],p=g[e+28>>2],o=g[e+36>>2],u=g[e+20>>2],A=g[e+168>>2],i=g[e+40>>2],_=g[e+8>>2],f=g[e+24>>2],r=g[e+164>>2],m=g[e+4>>2],h[t+12>>2]=0,d=o,a=r,r=g[t>>2],s=g[t+4>>2],o=g[t+8>>2],c=x(a*x(x(x(m*r)+x(u*s))+x(d*o))),y=i,i=x(A*x(x(x(r*_)+x(s*f))+x(o*i))),a=n,n=x(v*x(x(x(r*l)+x(s*p))+x(o*n))),g[t+8>>2]=x(x(d*c)+x(y*i))+x(a*n),g[t+4>>2]=x(x(u*c)+x(f*i))+x(p*n),g[t>>2]=x(x(m*c)+x(_*i))+x(l*n))}function gr(e,t,n){e|=0,n|=0;var i=0,o=0;if(h[(t|=0)>>2]=r[h[h[n>>2]+28>>2]](n,h[e+28>>2]),h[t+4>>2]=r[h[h[n>>2]+28>>2]](n,h[e+32>>2]),i=0|r[h[h[n>>2]+40>>2]](n,e),o=0|r[h[h[n>>2]+28>>2]](n,i),h[t+8>>2]=o,o&&r[h[h[n>>2]+48>>2]](n,i),h[t+12>>2]=h[e+4>>2],h[t+24>>2]=m[e+21|0],h[t+40>>2]=h[e+24>>2],h[t+44>>2]=h[e+16>>2],h[t+48>>2]=m[e+20|0],h[t+20>>2]=h[e+12>>2],h[t+16>>2]=h[e+8>>2],h[t+28>>2]=h[e+36>>2],i=h[e+40>>2],n=0,h[t+36>>2]=0,h[t+32>>2]=i,i=h[e+28>>2],(0|(o=h[i+548>>2]))>=1)for(i=h[i+556>>2];h[i+(n<<2)>>2]==(0|e)&&(h[t+36>>2]=1),(0|(n=n+1|0))<(0|o););if(n=h[e+32>>2],(0|(i=h[n+548>>2]))>=1)for(o=h[n+556>>2],n=0;h[o+(n<<2)>>2]==(0|e)&&(h[t+36>>2]=1),(0|(n=n+1|0))<(0|i););return 3576}function Ar(e){h[(e|=0)>>2]=3532,e&&(h[6658]=h[6658]+1,r[h[5256]](e))}function yr(e,t,n,i,o){var r,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0);z=r=z-16|0,a=g[e+52>>2],s=g[e+56>>2],l=g[e+48>>2],c=g[t>>2],p=g[t+4>>2],u=g[t+8>>2],h[o+60>>2]=0,g[o+56>>2]=s+x(u*i),g[o+52>>2]=a+x(p*i),g[o+48>>2]=l+x(c*i),l=g[n>>2],_=g[n+4>>2],f=g[n+8>>2],a=(a=x(x(x(l*l)+x(_*_))+x(f*f)))>x(1.1920928955078125e-7)?x(T(a)):x(0),a=(s=x(a*i)>x(.7853981852531433)?x(x(.7853981852531433)/i):a)<x(.0010000000474974513)?x(x(i*x(.5))+x(s*x(x(x(x(i*i)*i)*x(-.02083333395421505))*s))):x(No(x(x(s*x(.5))*i))/s),Oo(e,r),c=g[r+12>>2],s=Ro(x(x(s*i)*x(.5))),p=x(l*a),u=g[r>>2],_=x(_*a),m=g[r+4>>2],f=x(f*a),d=g[r+8>>2],a=x(x(x(x(c*s)-x(p*u))-x(_*m))-x(f*d)),l=x(x(x(x(f*c)+x(s*d))+x(p*m))-x(_*u)),i=x(x(x(x(s*u)+x(p*c))+x(_*d))-x(f*m)),s=x(x(x(f*u)+x(x(_*c)+x(s*m)))-x(p*d)),(c=x(x(a*a)+x(x(l*l)+x(x(i*i)+x(s*s)))))>x(1.1920928955078125e-7)&&(c=x(x(1)/x(T(c))),a=x(a*c),l=x(l*c),s=x(s*c),i=x(i*c),c=x(x(a*a)+x(x(l*l)+x(x(s*s)+x(i*i))))),c>x(1.1920928955078125e-7)?(h[o+12>>2]=0,h[o+44>>2]=0,h[o+28>>2]=0,p=x(x(2)/c),c=x(l*p),u=x(s*c),_=x(i*p),m=x(a*_),g[o+36>>2]=u+m,f=x(i*c),p=x(s*p),d=x(a*p),g[o+32>>2]=f-d,g[o+24>>2]=u-m,u=x(i*p),a=x(a*c),g[o+16>>2]=u+a,g[o+8>>2]=f+d,g[o+4>>2]=u-a,i=x(i*_),a=x(s*p),g[o+40>>2]=x(1)-x(i+a),s=i,i=x(l*c),g[o+20>>2]=x(1)-x(s+i),g[o>>2]=x(1)-x(a+i)):(t=h[e+4>>2],h[o>>2]=h[e>>2],h[o+4>>2]=t,t=h[e+12>>2],h[o+8>>2]=h[e+8>>2],h[o+12>>2]=t,t=h[e+20>>2],h[o+16>>2]=h[e+16>>2],h[o+20>>2]=t,t=h[e+28>>2],h[o+24>>2]=h[e+24>>2],h[o+28>>2]=t,t=h[e+36>>2],h[o+32>>2]=h[e+32>>2],h[o+36>>2]=t,t=h[e+44>>2],h[o+40>>2]=h[e+40>>2],h[o+44>>2]=t),z=r+16|0}function xr(e,t,n){var i;z=i=z-32|0,h[i+28>>2]=t,h[i+24>>2]=n,h[12+(t=z-16|0)>>2]=h[i+28>>2],h[t+8>>2]=0,g[i+20>>2]=Vo(h[t+12>>2]+(h[t+8>>2]<<4)|0,h[i+24>>2]),h[12+(t=z-16|0)>>2]=h[i+28>>2],h[t+8>>2]=1,g[i+16>>2]=Vo(h[t+12>>2]+(h[t+8>>2]<<4)|0,h[i+24>>2]),h[12+(t=z-16|0)>>2]=h[i+28>>2],h[t+8>>2]=2,g[i+12>>2]=Vo(h[t+12>>2]+(h[t+8>>2]<<4)|0,h[i+24>>2]),To(e,i+20|0,i+16|0,i+12|0),z=i+32|0}function br(e,t){var n;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],g[e>>2]=g[e>>2]+g[h[n+8>>2]>>2],g[e+4>>2]=g[e+4>>2]+g[h[n+8>>2]+4>>2],g[e+8>>2]=g[e+8>>2]+g[h[n+8>>2]+8>>2]}function Cr(e){var t;z=t=z-16|0,h[t+12>>2]=e,function(e){var t,n;z=t=z-16|0,h[t+12>>2]=e,n=z-16|0,e=h[t+12>>2],h[n+12>>2]=e,is(e,h[h[n+12>>2]+4>>2]),ns(e),bn(e),z=t+16|0}(h[t+12>>2]),z=t+16|0}function Sr(e,t,n,i){e|=0,t|=0,n=x(n),i|=0;var o;z=o=z-16|0,h[o+12>>2]=e,h[o+8>>2]=t,g[o+4>>2]=n,h[o>>2]=i,e=h[o+12>>2],r[h[h[e>>2]+28>>2]](e,h[o+8>>2],g[o+4>>2],h[o>>2]),z=o+16|0}function Er(e,t,n){e|=0,t|=0,n|=0;var i,o=x(0);return z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,e=h[i+12>>2],o=x(r[h[h[e>>2]+32>>2]](e,h[i+8>>2],h[i+4>>2])),z=i+16|0,x(o)}function wr(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+16>>2]=g[e+8>>2],z=n+16|0}function Tr(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,x(g[h[e+12>>2]+16>>2])}function Pr(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,t=1&a[n+11|0],h[12+(e=z-16|0)>>2]=h[n+12>>2],a[e+11|0]=t,a[h[e+12>>2]+21|0]=1&a[e+11|0],z=n+16|0}function Ir(e,t,n){e|=0,t|=0,n|=0;var i,o=x(0),a=x(0),s=0,c=x(0),l=x(0),p=x(0),u=0,_=x(0),f=0,m=x(0),d=0,v=x(0),A=0;z=i=z-48|0;e:{t:if(!((s=h[t+4>>2])>>>0>13)){switch(s-1|0){case 7:h[e>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0;break e;default:_=g[t+36>>2],l=g[t+40>>2],c=g[n+4>>2],a=g[n+8>>2],p=g[t+32>>2],o=g[n>>2],h[e+12>>2]=0,g[e>>2]=o>=x(0)?p:x(-p),g[e+8>>2]=a>=x(0)?l:x(-l),g[e+4>>2]=c>=x(0)?_:x(-_);break e;case 0:l=g[n>>2],p=g[n+4>>2],o=g[n+8>>2],c=x(x(x(l*g[t+76>>2])+x(p*g[t+80>>2]))+x(o*g[t+84>>2])),a=x(x(x(l*g[t+92>>2])+x(p*g[t+96>>2]))+x(o*g[t+100>>2])),o=x(x(x(l*g[t+60>>2])+x(p*g[t- -64>>2]))+x(o*g[t+68>>2])),s=h[4+(t=(t+60|0)+((o<c?c<a?2:1:(o<a)<<1)<<4)|0)>>2],n=h[t>>2],t=h[t+8>>2],h[e+12>>2]=0,h[e+8>>2]=t,h[e>>2]=n,h[e+4>>2]=s;break e;case 12:s=h[t+44>>2],h[i+40>>2]=h[t+40>>2],h[i+44>>2]=s,s=h[t+36>>2],h[i+32>>2]=h[t+32>>2],h[i+36>>2]=s,h[i+16>>2]=h[n>>2],a=g[n+4>>2],h[i+20>>2]=h[n+4>>2],o=g[n+8>>2],n=h[n+8>>2],h[i+28>>2]=0,h[i+24>>2]=n,s=2,n=1,(t=(u=h[t+56>>2])+-1|0)>>>0>1||(t-1?(d=1,n=0):(o=a,d=2,s=1,n=0)),t=s,l=g[(i+32|0)+(u<<2)>>2],p=g[((s=n<<2)|i+32)>>2],c=g[(s|i+16)>>2],(a=x(T(x(x(c*c)+x(o*o)))))==x(0)?(g[(n<<2|i)>>2]=p,g[(n=d<<2)+i>>2]=g[n+(i+16|0)>>2]<x(0)?x(-l):l,h[(t<<2)+i>>2]=0,n=4|i,t=i+8|0):(a=x(p/a),g[(n<<2|i)>>2]=c*a,g[(n=d<<2)+i>>2]=g[n+(i+16|0)>>2]<x(0)?x(-l):l,g[(t<<2)+i>>2]=o*a,n=4|i,t=i+8|0),h[e>>2]=h[i>>2],h[e+4>>2]=h[n>>2],t=h[t>>2],h[e+12>>2]=0,h[e+8>>2]=t;break e;case 9:s=t,A=h[t+56>>2],l=g[32+(s+(t=A<<2)|0)>>2],p=g[n>>2],c=g[n+4>>2],a=g[n+8>>2],(o=x(x(x(p*p)+x(c*c))+x(a*a)))<x(14210854715202004e-30)?c=x(1):(o=x(x(1)/x(T(o))),_=x(a*o),m=x(c*o),c=x(p*o)),h[i+40>>2]=0,h[i+44>>2]=0,h[i+32>>2]=0,h[i+36>>2]=0,g[t+(i+32|0)>>2]=l,o=x(-0xde0b6b000000000),n=0,u=h[i+32>>2],s=h[i+36>>2],t=h[i+40>>2],(a=x(x(x(c*g[i+32>>2])+x(m*g[i+36>>2]))+x(_*g[i+40>>2])))>x(-0xde0b6b000000000)&&(d=t,f=s,o=a,n=u),h[i+40>>2]=0,h[i+44>>2]=0,h[i+32>>2]=0,h[i+36>>2]=0,g[(i+32|0)+(A<<2)>>2]=-l,u=h[i+40>>2],l=g[i+40>>2],s=h[i+32>>2],p=g[i+32>>2],t=h[i+36>>2],a=g[i+36>>2],h[e+12>>2]=0,A=u,u=x(x(x(c*p)+x(m*a))+x(_*l))>o,h[e+8>>2]=u?A:d,h[e+4>>2]=u?t:f,h[e>>2]=u?s:n;break e;case 4:if(v=g[t+16>>2],m=g[t+24>>2],_=g[t+20>>2],u=h[t+96>>2],f=-1,(0|(s=h[t+100>>2]))>=1)for(l=x(g[n>>2]*v),p=x(g[n+8>>2]*m),c=x(g[n+4>>2]*_),t=0,o=x(-34028234663852886e22);o=(n=(a=x(x(x(l*g[(n=u+(t<<4)|0)>>2])+x(c*g[n+4>>2]))+x(p*g[n+8>>2])))>o)?a:o,f=n?t:f,(0|s)!=(0|(t=t+1|0)););c=g[(t=u+(f<<4)|0)>>2],a=g[t+4>>2],o=g[t+8>>2],h[e+12>>2]=0,g[e+8>>2]=m*o,g[e+4>>2]=_*a,g[e>>2]=v*c;break e;case 1:case 2:case 5:case 6:case 8:case 10:case 11:break t;case 3:}if(v=g[t+16>>2],m=g[t+24>>2],_=g[t+20>>2],u=h[t+108>>2],f=-1,(0|(s=h[t+100>>2]))>=1)for(l=x(g[n>>2]*v),p=x(g[n+8>>2]*m),c=x(g[n+4>>2]*_),t=0,o=x(-34028234663852886e22);o=(n=(a=x(x(x(l*g[(n=u+(t<<4)|0)>>2])+x(c*g[n+4>>2]))+x(p*g[n+8>>2])))>o)?a:o,f=n?t:f,(0|s)!=(0|(t=t+1|0)););c=g[(t=u+(f<<4)|0)>>2],a=g[t+4>>2],o=g[t+8>>2],h[e+12>>2]=0,g[e+8>>2]=m*o,g[e+4>>2]=_*a,g[e>>2]=v*c;break e}r[h[h[t>>2]+68>>2]](e,t,n)}z=i+48|0}function Rr(e,t,n){e|=0,t|=0;var i,o;return i=0|r[h[h[(n|=0)>>2]+40>>2]](n,e),o=0|r[h[h[n>>2]+28>>2]](n,i),h[t>>2]=o,o&&r[h[h[n>>2]+48>>2]](n,i),e=h[e+4>>2],h[t+8>>2]=0,h[t+4>>2]=e,13738}function Nr(e){var t,n=0,i=0,o=0,r=0,a=x(0),s=x(0),c=x(0),l=x(0),p=0,u=x(0),_=x(0),f=x(0),m=0,d=x(0),v=x(0);z=t=z-48|0;e:{t:{i=h[e+372>>2];n:if(!((n=h[i+32>>2]+-1|0)>>>0>3)){switch(n-1|0){default:for(o=h[e+364>>2],n=1;;){if(h[t+40>>2]=0,h[t+44>>2]=0,h[t+32>>2]=0,h[t+36>>2]=0,h[(t+32|0)+(r<<2)>>2]=1065353216,h[16+(p=(n<<2)+i|0)>>2]=0,o=o+-1|0,h[e+364>>2]=o,o=h[348+((o<<2)+e|0)>>2],h[p>>2]=o,h[i+32>>2]=n+1,pr(e,t+32|0,o),Nr(e))break t;if(i=h[e+372>>2],n=h[i+32>>2]+-1|0,h[i+32>>2]=n,o=h[e+364>>2],n=h[i+(n<<2)>>2],h[348+((o<<2)+e|0)>>2]=n,i=h[e+372>>2],h[t+28>>2]=0,g[t+24>>2]=-g[t+40>>2],g[t+20>>2]=-g[t+36>>2],g[t+16>>2]=-g[t+32>>2],p=h[i+32>>2],h[16+(m=i+(p<<2)|0)>>2]=0,h[e+364>>2]=o,h[m>>2]=n,h[i+32>>2]=p+1,pr(e,t+16|0,n),Nr(e))break t;if(i=h[e+372>>2],n=h[i+32>>2]+-1|0,h[i+32>>2]=n,i=h[i+(n<<2)>>2],o=(n=h[e+364>>2])+1|0,h[e+364>>2]=o,h[348+((n<<2)+e|0)>>2]=i,3==(0|(r=r+1|0)))break n;i=h[e+372>>2],n=h[i+32>>2]}case 0:for(n=h[i+4>>2],i=h[i>>2],a=x(g[n+24>>2]-g[i+24>>2]),c=x(g[n+20>>2]-g[i+20>>2]),s=x(g[n+16>>2]-g[i+16>>2]),i=0;;){if(h[t+40>>2]=0,h[t+44>>2]=0,h[t+32>>2]=0,h[t+36>>2]=0,h[(t+32|0)+(i<<2)>>2]=1065353216,h[t+28>>2]=0,l=g[t+32>>2],u=g[t+40>>2],_=x(x(a*l)-x(s*u)),g[t+20>>2]=_,f=g[t+36>>2],u=x(x(c*u)-x(a*f)),g[t+16>>2]=u,l=x(x(s*f)-x(c*l)),g[t+24>>2]=l,x(x(l*l)+x(x(u*u)+x(_*_)))>x(0)){if(n=h[e+372>>2],o=h[n+32>>2],h[16+(r=(o<<2)+n|0)>>2]=0,p=h[e+364>>2]+-1|0,h[e+364>>2]=p,m=r,r=h[348+((p<<2)+e|0)>>2],h[m>>2]=r,h[n+32>>2]=o+1,pr(e,t+16|0,r),Nr(e))break t;if(n=h[e+372>>2],o=h[n+32>>2]+-1|0,h[n+32>>2]=o,r=h[e+364>>2],o=h[n+(o<<2)>>2],h[348+((r<<2)+e|0)>>2]=o,n=h[e+372>>2],h[t+12>>2]=0,g[t+8>>2]=-g[t+24>>2],g[t+4>>2]=-g[t+20>>2],g[t>>2]=-g[t+16>>2],p=h[n+32>>2],h[16+(m=n+(p<<2)|0)>>2]=0,h[e+364>>2]=r,h[m>>2]=o,h[n+32>>2]=p+1,pr(e,t,o),Nr(e))break t;n=h[e+372>>2],o=h[n+32>>2]+-1|0,h[n+32>>2]=o,n=h[n+(o<<2)>>2],o=h[e+364>>2],h[e+364>>2]=o+1,h[348+((o<<2)+e|0)>>2]=n}if(3==(0|(i=i+1|0)))break}break n;case 1:if(n=h[i+4>>2],_=g[n+20>>2],o=h[i+8>>2],u=g[o+24>>2],r=h[i>>2],a=g[r+24>>2],l=g[n+24>>2],f=g[o+20>>2],c=g[r+20>>2],d=g[o+16>>2],s=g[r+16>>2],v=g[n+16>>2],h[t+44>>2]=0,_=x(_-c),u=x(u-a),l=x(l-a),f=x(f-c),a=x(x(_*u)-x(l*f)),g[t+32>>2]=a,c=l,l=x(d-s),s=x(v-s),c=x(x(c*l)-x(s*u)),g[t+36>>2]=c,s=x(x(s*f)-x(_*l)),g[t+40>>2]=s,!(x(x(s*s)+x(x(a*a)+x(c*c)))>x(0)))break n;if(h[i+28>>2]=0,n=h[e+364>>2]+-1|0,h[e+364>>2]=n,n=h[348+((n<<2)+e|0)>>2],h[i+32>>2]=4,h[i+12>>2]=n,pr(e,t+32|0,n),Nr(e))break t;if(i=h[e+372>>2],n=h[i+32>>2]+-1|0,h[i+32>>2]=n,o=h[e+364>>2],n=h[i+(n<<2)>>2],h[348+((o<<2)+e|0)>>2]=n,i=h[e+372>>2],h[t+28>>2]=0,g[t+24>>2]=-g[t+40>>2],g[t+20>>2]=-g[t+36>>2],g[t+16>>2]=-g[t+32>>2],r=h[i+32>>2],h[16+(p=i+(r<<2)|0)>>2]=0,h[e+364>>2]=o,h[p>>2]=n,h[i+32>>2]=r+1,pr(e,t+16|0,n),n=1,Nr(e))break e;i=h[e+372>>2],n=h[i+32>>2]+-1|0,h[i+32>>2]=n,i=h[i+(n<<2)>>2],n=h[e+364>>2],h[e+364>>2]=n+1,h[348+((n<<2)+e|0)>>2]=i,n=0;break e;case 2:}if(e=h[i>>2],o=h[i+12>>2],a=g[o+16>>2],_=x(g[e+16>>2]-a),r=h[i+4>>2],c=g[o+20>>2],u=x(g[r+20>>2]-c),i=h[i+8>>2],s=g[o+24>>2],l=x(g[i+24>>2]-s),f=x(g[e+20>>2]-c),d=x(g[r+24>>2]-s),v=x(g[i+16>>2]-a),s=x(g[e+24>>2]-s),a=x(g[r+16>>2]-a),c=x(g[i+20>>2]-c),n=1,(a=x(x(x(x(_*u)*l)+x(x(x(x(x(f*d)*v)+x(x(s*a)*c))-x(x(_*d)*c))-x(x(f*a)*l)))-x(x(s*u)*v)))!=x(0)&a==a)break e}n=0;break e}n=1}return z=t+48|0,n}function Dr(e){var t;return h[(e|=0)>>2]=4464,(t=h[e+296>>2])&&(m[e+300|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+296>>2]=0),h[e+296>>2]=0,h[e+288>>2]=0,h[e+292>>2]=0,a[e+300|0]=1,0|e}function Mr(e,t,n){var i,o=0;return z=i=z-256|0,(0|(o=h[t+212>>2]))>-1||(2&(o=h[t+252>>2])&&(2&m[204+(o=o<<30>>31&t)|0]||g[o+404>>2]!=x(0))?(o=h[e+8>>2],Co(i+8|0,0,244),function(e,t,n){var i=0,o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0);t=t?h[t+252>>2]<<30>>31&t:0,h[e+64>>2]=0,h[e+68>>2]=0,h[e+144>>2]=0,h[e+148>>2]=0,h[e+88>>2]=0,h[e+92>>2]=0,h[e+80>>2]=0,h[e+84>>2]=0,h[e+72>>2]=0,h[e+76>>2]=0,h[e+152>>2]=0,h[e+156>>2]=0,h[e+160>>2]=0,h[e+164>>2]=0,h[e+168>>2]=0,h[e+172>>2]=0,t?(i=h[t+16>>2],h[e+8>>2]=h[t+12>>2],h[e+12>>2]=i,i=h[t+8>>2],h[e>>2]=h[t+4>>2],h[e+4>>2]=i,i=h[t+32>>2],h[e+24>>2]=h[t+28>>2],h[e+28>>2]=i,i=h[t+24>>2],h[e+16>>2]=h[t+20>>2],h[e+20>>2]=i,i=h[t+48>>2],h[e+40>>2]=h[t+44>>2],h[e+44>>2]=i,i=h[t+40>>2],h[e+32>>2]=h[t+36>>2],h[e+36>>2]=i,i=h[t+64>>2],h[e+56>>2]=h[t+60>>2],h[e+60>>2]=i,i=h[t+56>>2],h[e+48>>2]=h[t+52>>2],h[e+52>>2]=i,r=g[t+412>>2],a=g[t+416>>2],s=g[t+408>>2],o=g[t+404>>2],h[e+240>>2]=t,h[e+140>>2]=0,g[e+136>>2]=o*a,g[e+132>>2]=o*r,g[e+128>>2]=o*s,i=h[t+616>>2],h[e+104>>2]=h[t+612>>2],h[e+108>>2]=i,i=h[t+608>>2],h[e+96>>2]=h[t+604>>2],h[e+100>>2]=i,i=h[t+420>>2],h[e+120>>2]=h[t+416>>2],h[e+124>>2]=i,i=h[t+412>>2],h[e+112>>2]=h[t+408>>2],h[e+116>>2]=i,i=h[t+384>>2],h[e+184>>2]=h[t+380>>2],h[e+188>>2]=i,i=h[t+376>>2],h[e+176>>2]=h[t+372>>2],h[e+180>>2]=i,i=h[t+400>>2],h[e+200>>2]=h[t+396>>2],h[e+204>>2]=i,i=h[t+392>>2],h[e+192>>2]=h[t+388>>2],h[e+196>>2]=i,r=g[t+476>>2],a=g[t+480>>2],s=g[t+472>>2],o=g[t+404>>2],h[e+220>>2]=0,g[e+216>>2]=x(o*a)*n,g[e+212>>2]=x(o*r)*n,g[e+208>>2]=x(o*s)*n,s=g[t+340>>2],c=g[t+356>>2],l=g[t+328>>2],p=g[t+344>>2],u=g[t+360>>2],_=g[t+324>>2],o=g[t+488>>2],r=g[t+492>>2],a=g[t+496>>2],g[e+232>>2]=x(x(x(o*g[t+332>>2])+x(r*g[t+348>>2]))+x(a*g[t+364>>2]))*n,g[e+228>>2]=x(x(x(o*l)+x(r*p))+x(a*u))*n,g[e+224>>2]=x(x(x(_*o)+x(s*r))+x(c*a))*n):(h[e+4>>2]=0,h[e+8>>2]=0,h[e>>2]=1065353216,h[e+32>>2]=0,h[e+36>>2]=0,h[e+240>>2]=0,h[e+128>>2]=0,h[e+132>>2]=0,h[e+112>>2]=1065353216,h[e+116>>2]=1065353216,h[e+96>>2]=1065353216,h[e+100>>2]=1065353216,h[e+176>>2]=0,h[e+180>>2]=0,h[e+12>>2]=0,h[e+16>>2]=0,h[e+24>>2]=0,h[e+28>>2]=0,h[e+20>>2]=1065353216,h[e+44>>2]=0,h[e+48>>2]=0,h[e+40>>2]=1065353216,h[e+52>>2]=0,h[e+56>>2]=0,h[e+60>>2]=0,h[e+136>>2]=0,h[e+140>>2]=0,h[e+120>>2]=1065353216,h[e+124>>2]=0,h[e+104>>2]=1065353216,h[e+108>>2]=0,h[e+232>>2]=0,h[e+224>>2]=0,h[e+228>>2]=0,h[e+216>>2]=0,h[e+220>>2]=0,h[e+208>>2]=0,h[e+212>>2]=0,h[e+200>>2]=0,h[e+204>>2]=0,h[e+192>>2]=0,h[e+196>>2]=0,h[e+184>>2]=0,h[e+188>>2]=0),h[e+236>>2]=0}(Re(e+4|0,i+8|0),t,n),h[t+212>>2]=o):(0|(o=h[e+188>>2]))>-1||(h[e+188>>2]=h[e+8>>2],Co(i+8|0,0,244),t=Re(e+4|0,i+8|0),h[t+88>>2]=0,h[t+92>>2]=0,h[t+80>>2]=0,h[t+84>>2]=0,h[t+72>>2]=0,h[t+76>>2]=0,h[t+64>>2]=0,h[t+68>>2]=0,h[t+144>>2]=0,h[t+148>>2]=0,h[t+152>>2]=0,h[t+156>>2]=0,h[t+160>>2]=0,h[t+164>>2]=0,h[t+168>>2]=0,h[t+172>>2]=0,h[t+4>>2]=0,h[t+8>>2]=0,h[t>>2]=1065353216,h[t+12>>2]=0,h[t+16>>2]=0,h[t+24>>2]=0,h[t+28>>2]=0,h[t+20>>2]=1065353216,h[t+32>>2]=0,h[t+36>>2]=0,h[t+44>>2]=0,h[t+48>>2]=0,h[t+40>>2]=1065353216,h[t+52>>2]=0,h[t+56>>2]=0,h[t+60>>2]=0,h[t+136>>2]=0,h[t+140>>2]=0,h[t+240>>2]=0,h[t+128>>2]=0,h[t+132>>2]=0,h[t+120>>2]=1065353216,h[t+124>>2]=0,h[t+112>>2]=1065353216,h[t+116>>2]=1065353216,h[t+104>>2]=1065353216,h[t+108>>2]=0,h[t+96>>2]=1065353216,h[t+100>>2]=1065353216,h[t+232>>2]=0,h[t+236>>2]=0,h[t+224>>2]=0,h[t+228>>2]=0,h[t+216>>2]=0,h[t+220>>2]=0,h[t+208>>2]=0,h[t+212>>2]=0,h[t+200>>2]=0,h[t+204>>2]=0,h[t+192>>2]=0,h[t+196>>2]=0,h[t+184>>2]=0,h[t+188>>2]=0,h[t+176>>2]=0,h[t+180>>2]=0,o=h[e+188>>2])),z=i+256|0,o}function Or(e,t,n,i,o){var r=x(0);if(r=x(1),!(t>n)&&(r=x(0),t!=n)){if((i=x(i/o))<x(0))return e>=t^1|x(t-i)>e^1?x(e<t?0:1):x(x(t-e)/i);if(i>x(0)){if(!(e<=n^1|x(n-i)<e^1))return x(x(n-e)/i);r=x(e>n?0:1)}}return r}function Lr(e,t,n,i){var o,r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0);z=o=z+-64|0,d=g[t+24>>2],v=g[t+20>>2],A=g[t+40>>2],y=g[t+36>>2],l=g[e+40>>2],p=g[e+20>>2],f=g[e+36>>2],u=g[e+24>>2],b=g[t+8>>2],C=g[t>>2],w=g[t+4>>2],P=g[t+16>>2],I=g[t+32>>2],a=g[e+8>>2],s=g[e+4>>2],m=g[e+32>>2],_=g[e+16>>2],c=g[e>>2],h[o+60>>2]=0,h[o+44>>2]=0,N=x(x(p*l)-x(u*f)),D=x(x(u*m)-x(l*_)),M=x(x(f*_)-x(p*m)),r=x(x(1)/x(x(x(c*N)+x(s*D))+x(a*M))),R=x(x(x(u*s)-x(p*a))*r),u=x(x(x(_*a)-x(u*c))*r),p=x(x(x(p*c)-x(_*s))*r),g[o+56>>2]=x(x(I*R)+x(y*u))+x(A*p),_=x(x(x(f*a)-x(l*s))*r),a=x(x(x(l*c)-x(m*a))*r),s=x(x(x(m*s)-x(f*c))*r),g[o+52>>2]=x(x(I*_)+x(y*a))+x(A*s),g[o+40>>2]=x(x(R*P)+x(u*v))+x(p*d),g[o+36>>2]=x(x(_*P)+x(a*v))+x(s*d),h[o+28>>2]=0,c=x(N*r),l=x(D*r),r=x(M*r),g[o+48>>2]=x(x(I*c)+x(y*l))+x(A*r),g[o+32>>2]=x(x(c*P)+x(l*v))+x(r*d),g[o+24>>2]=x(b*p)+x(x(C*R)+x(w*u)),g[o+20>>2]=x(b*s)+x(x(C*_)+x(w*a)),g[o+16>>2]=x(b*r)+x(x(C*c)+x(w*l)),Oo(o+16|0,o),c=g[o>>2],s=g[o+4>>2],a=g[o+8>>2],l=g[o+12>>2],r=x(x(1)/x(T(x(x(x(x(c*c)+x(s*s))+x(a*a))+x(l*l))))),a=x(a*r),g[o+8>>2]=a,s=x(s*r),g[o+4>>2]=s,c=x(c*r),g[o>>2]=c,r=x(l*r),g[o+12>>2]=r,r=mr(x(S(x(E(r,x(-1))),x(1)))),g[i>>2]=r+r,h[n+12>>2]=0,g[n+8>>2]=a,g[n+4>>2]=s,g[n>>2]=c,(r=x(x(x(c*c)+x(s*s))+x(a*a)))<x(14210854715202004e-30)?(h[n+8>>2]=0,h[n+12>>2]=0,h[n>>2]=1065353216,h[n+4>>2]=0):(r=x(x(1)/x(T(r))),g[n+8>>2]=a*r,g[n+4>>2]=s*r,g[n>>2]=c*r),z=o- -64|0}function zr(e,t,n){var i;z=i=z-32|0,h[i+28>>2]=t,h[i+24>>2]=n,g[i+20>>2]=g[h[i+28>>2]>>2]*g[h[i+24>>2]>>2],g[i+16>>2]=g[h[i+28>>2]+4>>2]*g[h[i+24>>2]+4>>2],g[i+12>>2]=g[h[i+28>>2]+8>>2]*g[h[i+24>>2]+8>>2],To(e,i+20|0,i+16|0,i+12|0),z=i+32|0}function Fr(e){var t;return(0|(e=(t=h[6808])+e|0))<=-1?(h[6659]=48,-1):e>>>0<=(i.byteLength/65536|0)<<16>>>0||D(0|e)?(h[6808]=e,t):(h[6659]=48,-1)}function Br(e){var t,n,i=0,o=0,r=0,a=x(0);return z=t=z-16|0,o=i=h[e+12>>2],n=h[e+8>>2],(0|i)>0||(0|i)>=0&&!(n>>>0<0)?a=x(x(x(+(n>>>0)+4294967296*+(o>>>0))*x(0x10000000000000000))+x(+v[e>>2]+4294967296*+v[e+4>>2])):(r=h[e+4>>2],e=i=h[e>>2],h[t>>2]=0-e,h[t+4>>2]=0-(r+(0<e>>>0)|0),o^=-1,(i=(e=!(e|r))+(r=-1^n)|0)>>>0<r>>>0&&(o=o+1|0),h[(e=t)+8>>2]=i,h[e+12>>2]=o,a=x(-Br(e))),z=t+16|0,a}function Ur(e){(e|=0)&&(h[6658]=h[6658]+1,r[h[5256]](e))}function jr(e,t,n,i,o,s,c,l,p,u,_,f){var d,v=0,A=0,b=0,C=0,S=0;if(v=d=h[e+68>>2],(0|d)==h[e+72>>2]&&(v=d,!((0|d)>=(0|(b=d?d<<1:1))))){if(b?(h[6657]=h[6657]+1,C=0|r[h[5255]](y(b,152),16),v=h[e+68>>2]):v=d,(0|(A=v))>=1)for(v=0;qo((S=y(v,152))+C|0,h[e+76>>2]+S|0,152),(0|A)!=(0|(v=v+1|0)););(A=h[e+76>>2])&&(m[e+80|0]&&A&&(h[6658]=h[6658]+1,r[h[5256]](A)),h[e+76>>2]=0),h[e+76>>2]=C,h[e+72>>2]=b,a[e+80|0]=1,v=h[e+68>>2]}h[e+68>>2]=v+1,A=h[e+76>>2]+y(d,152)|0,h[A+140>>2]=o,function(e,t,n,i,o,r,a,s,c,l,p,u){var _=x(0),f=0,d=0,v=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),z=x(0),F=x(0),B=x(0),U=0,j=x(0),k=x(0),G=0,H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0);U=h[e+16>>2],f=h[240+(U+y(o,244)|0)>>2],d=h[240+(y(i,244)+U|0)>>2],h[t+148>>2]=o,h[t+144>>2]=i,H=g[r+84>>2],G=h[r+84>>2],h[t+132>>2]=0,h[t+104>>2]=G,h[t+96>>2]=0,h[t+100>>2]=0,d?(e=h[n+4>>2],h[t+16>>2]=h[n>>2],h[t+20>>2]=e,e=h[n+12>>2],h[t+24>>2]=h[n+8>>2],h[t+28>>2]=e,v=g[a+8>>2],b=g[a>>2],C=g[a+4>>2],h[t+12>>2]=0,T=g[t+20>>2],M=g[t+16>>2],P=x(x(b*T)-x(C*M)),g[t+8>>2]=P,O=g[t+24>>2],b=x(x(v*M)-x(b*O)),g[t+4>>2]=b,C=x(x(C*O)-x(v*T)),g[t>>2]=C,v=g[d+612>>2],_=g[d+364>>2],I=g[d+356>>2],S=g[d+360>>2],A=g[d+608>>2],L=g[d+348>>2],z=g[d+340>>2],F=g[d+344>>2],E=g[d+332>>2],R=g[d+328>>2],N=g[d+604>>2],w=g[d+324>>2],h[t+76>>2]=0,R=x(N*x(x(x(C*w)+x(b*R))+x(P*E))),g[t+64>>2]=R,N=x(A*x(x(x(C*z)+x(b*F))+x(P*L))),g[t+68>>2]=N,w=x(v*x(x(x(C*I)+x(b*S))+x(P*_))),g[t+72>>2]=w):(h[t+64>>2]=0,h[t+68>>2]=0,h[t>>2]=0,h[t+4>>2]=0,h[t+72>>2]=0,h[t+76>>2]=0,h[t+8>>2]=0,h[t+12>>2]=0,h[t+16>>2]=0,h[t+20>>2]=0,h[t+24>>2]=0,h[t+28>>2]=0),f?(v=g[n>>2],_=g[n+4>>2],A=g[n+8>>2],h[t+60>>2]=0,L=x(-A),g[t+56>>2]=L,z=x(-_),g[t+52>>2]=z,F=x(-v),g[t+48>>2]=F,E=g[s+8>>2],D=g[s+4>>2],S=g[s>>2],h[t+44>>2]=0,I=x(x(v*D)-x(_*S)),g[t+40>>2]=I,S=x(x(A*S)-x(v*E)),g[t+36>>2]=S,A=x(x(_*E)-x(A*D)),g[t+32>>2]=A,v=g[f+332>>2],D=g[f+328>>2],E=g[f+608>>2],j=g[f+348>>2],B=g[f+340>>2],k=g[f+344>>2],_=g[f+612>>2],V=g[f+364>>2],W=g[f+356>>2],q=g[f+360>>2],Y=g[f+604>>2],X=g[f+324>>2],h[t+92>>2]=0,_=x(_*x(x(x(A*W)+x(S*q))+x(I*V))),g[t+88>>2]=_,E=x(E*x(x(x(A*B)+x(S*k))+x(I*j))),g[t+84>>2]=E,D=x(Y*x(x(x(A*X)+x(S*D))+x(I*v))),g[t+80>>2]=D):(h[t+80>>2]=0,h[t+84>>2]=0,h[t+32>>2]=0,h[t+36>>2]=0,h[t+88>>2]=0,h[t+92>>2]=0,h[t+40>>2]=0,h[t+44>>2]=0,h[t+48>>2]=0,h[t+52>>2]=0,h[t+56>>2]=0,h[t+60>>2]=0,I=x(0),S=x(0),A=x(0),L=x(0),z=x(0),F=x(0),_=x(0),E=x(0)),e=t,v=c,d?(c=g[a+8>>2],j=g[a+4>>2],k=x(x(x(N*c)-x(w*j))*g[n>>2]),B=w,w=g[a>>2],c=x(g[d+404>>2]+x(x(k+x(x(x(B*w)-x(c*R))*g[n+4>>2]))+x(x(x(j*R)-x(N*w))*g[n+8>>2])))):c=x(0),f?(R=g[s+4>>2],N=g[s+8>>2],B=x(x(x(_*R)-x(E*N))*g[n>>2]),w=_,_=g[s>>2],_=x(g[f+404>>2]+x(x(B+x(x(x(D*N)-x(w*_))*g[n+4>>2]))+x(x(x(E*_)-x(D*R))*g[n+8>>2])))):_=x(0),v=x(v/x(c+_)),g[e+108>>2]=v,d?(e=y(i,244)+U|0,T=x(x(x(x(g[e+176>>2]+g[e+208>>2])*M)+x(x(g[e+180>>2]+g[e+212>>2])*T))+x(x(g[e+184>>2]+g[e+216>>2])*O)),O=g[e+200>>2],_=g[e+192>>2],c=g[e+196>>2]):(_=x(0),T=x(x(x(M*x(0))+x(T*x(0)))+x(O*x(0))),O=x(0),c=x(0)),T=x(T+x(x(x(_*C)+x(c*b))+x(O*P))),f?(e=y(o,244)+U|0,C=x(x(x(x(g[e+176>>2]+g[e+208>>2])*F)+x(x(g[e+180>>2]+g[e+212>>2])*z))+x(x(g[e+184>>2]+g[e+216>>2])*L)),b=g[e+200>>2],M=g[e+192>>2],c=g[e+196>>2]):(b=x(0),C=x(x(x(F*x(0))+x(z*x(0)))+x(L*x(0))),M=x(0),c=x(0)),P=x(0),P=16&m[r+128|0]?x(v*x(x(g[l+44>>2]*x(-x(x(x(x(g[r+48>>2]-g[r+32>>2])*g[n>>2])+x(x(g[r+52>>2]-g[r+36>>2])*g[n+4>>2]))+x(x(g[r+56>>2]-g[r+40>>2])*g[n+8>>2]))))/g[l+12>>2])):P,h[t+128>>2]=0,h[t+124>>2]=G,g[t+116>>2]=u,g[t+112>>2]=x(v*x(p-x(T+x(C+x(x(x(M*A)+x(c*S))+x(b*I))))))+P,g[t+120>>2]=-H}(e,A,t,n,i,s,c,l,p,u,_,f)}function kr(e,t,n,i,o,r,a,s){var c,l,p,u,_,f,d=x(0),v=x(0),A=x(0),y=x(0),b=0,C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0);c=z-16|0,l=h[(a?20:16)+i>>2],b=h[(a?12:8)+i>>2],h[b+(p=o<<2)>>2]=h[r>>2],h[(_=(u=o+1|0)<<2)+b>>2]=h[r+4>>2],h[b+(f=(b=o+2|0)<<2)>>2]=h[r+8>>2],g[l+p>>2]=-g[r>>2],g[l+_>>2]=-g[r+4>>2],g[l+f>>2]=-g[r+8>>2],a||(S=g[e+1348>>2],C=g[n+52>>2],E=g[e+1352>>2],w=g[n+56>>2],N=g[e+1356>>2],y=g[t+56>>2],T=g[e+1292>>2],P=g[e+1284>>2],I=g[t+52>>2],R=g[e+1288>>2],D=g[n+48>>2],v=g[r+8>>2],A=g[r+4>>2],M=g[t+48>>2],d=g[r>>2],h[c+12>>2]=0,P=x(P-M),I=x(R-I),R=x(x(A*P)-x(d*I)),g[c+8>>2]=R,y=x(T-y),T=x(x(d*y)-x(P*v)),g[c+4>>2]=T,y=x(x(I*v)-x(y*A)),g[c>>2]=y,E=x(E-C),w=x(N-w),C=x(x(v*E)-x(A*w)),S=x(S-D),A=x(x(A*S)-x(E*d)),v=x(x(w*d)-x(S*v)),!m[e+1452|0]|s||(d=g[e+1444>>2],g[c+8>>2]=R*d,g[c+4>>2]=T*d,g[c>>2]=y*d,d=g[e+1448>>2],A=x(A*d),C=x(C*d),v=x(v*d)),n=h[c+4>>2],e=(t=o<<2)+h[i+12>>2]|0,h[e>>2]=h[c>>2],h[e+4>>2]=n,h[e+8>>2]=h[c+8>>2],e=h[i+20>>2],g[e+t>>2]=-C,g[e+(u<<2)>>2]=-v,g[e+(b<<2)>>2]=-A)}function Gr(e,t){var n=x(0),i=x(0),o=0,r=x(0),a=x(0),s=x(0),c=0;i=g[1192+((t<<2)+e|0)>>2],(r=g[868+(o=(t<<6)+e|0)>>2])>=(a=g[o+872>>2])||(i<r?((n=Io(x(r-i),x(6.2831854820251465)))<x(-3.1415927410125732)?n=x(n+x(6.2831854820251465)):n>x(3.1415927410125732)&&(n=x(n+x(-6.2831854820251465))),s=x(b(n)),(n=Io(x(a-i),x(6.2831854820251465)))<x(-3.1415927410125732)?n=x(n+x(6.2831854820251465)):n>x(3.1415927410125732)&&(n=x(n+x(-6.2831854820251465))),i=s<x(b(n))?i:x(i+x(6.2831854820251465))):i>a&&((n=Io(x(i-a),x(6.2831854820251465)))<x(-3.1415927410125732)?n=x(n+x(6.2831854820251465)):n>x(3.1415927410125732)&&(n=x(n+x(-6.2831854820251465))),s=x(b(n)),(n=Io(x(i-r),x(6.2831854820251465)))<x(-3.1415927410125732)?n=x(n+x(6.2831854820251465)):n>x(3.1415927410125732)&&(n=x(n+x(-6.2831854820251465))),i=x(b(n))<s?x(i+x(-6.2831854820251465)):i)),g[o+920>>2]=i;e:{t:{if(r>a)c=924+((t<<6)+e|0)|0;else{if(r>i){if(e=(t<<6)+e|0,n=x(i-r),g[e+916>>2]=n,h[e+924>>2]=1,n>x(3.1415927410125732)){g[e+916>>2]=n+x(-6.2831854820251465);break t}if(!(n<x(-3.1415927410125732)))break t;g[e+916>>2]=n+x(6.2831854820251465);break t}if(c=924+(o=(t<<6)+e|0)|0,a<i){if(h[o+924>>2]=2,n=x(i-a),g[o+916>>2]=n,n>x(3.1415927410125732)){g[o+916>>2]=n+x(-6.2831854820251465);break t}if(!(n<x(-3.1415927410125732)))break t;g[o+916>>2]=n+x(6.2831854820251465);break t}}if(h[c>>2]=0,o=0,!m[912+((t<<6)+e|0)|0])break e}o=1}return o}function Hr(){}function Vr(e,t){var n,i=x(0),o=x(0);return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=z-16|0,e=h[n+12>>2],h[t+12>>2]=e,i=g[h[t+12>>2]+8>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],i=x(i*g[h[t+12>>2]>>2]),h[12+(t=z-16|0)>>2]=e+16,o=g[h[t+12>>2]+8>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],i=x(i+x(o*g[h[t+12>>2]+4>>2])),h[12+(t=z-16|0)>>2]=e+32,o=g[h[t+12>>2]+8>>2],h[12+(e=z-16|0)>>2]=h[n+8>>2],z=n+16|0,x(i+x(o*g[h[e+12>>2]+8>>2]))}function Wr(e,t){var n,i=x(0),o=x(0);return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=z-16|0,e=h[n+12>>2],h[t+12>>2]=e,i=g[h[t+12>>2]+4>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],i=x(i*g[h[t+12>>2]>>2]),h[12+(t=z-16|0)>>2]=e+16,o=g[h[t+12>>2]+4>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],i=x(i+x(o*g[h[t+12>>2]+4>>2])),h[12+(t=z-16|0)>>2]=e+32,o=g[h[t+12>>2]+4>>2],h[12+(e=z-16|0)>>2]=h[n+8>>2],z=n+16|0,x(i+x(o*g[h[e+12>>2]+8>>2]))}function qr(e,t){var n,i=x(0),o=x(0);return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=z-16|0,e=h[n+12>>2],h[t+12>>2]=e,i=g[h[t+12>>2]>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],i=x(i*g[h[t+12>>2]>>2]),h[12+(t=z-16|0)>>2]=e+16,o=g[h[t+12>>2]>>2],h[12+(t=z-16|0)>>2]=h[n+8>>2],i=x(i+x(o*g[h[t+12>>2]+4>>2])),h[12+(t=z-16|0)>>2]=e+32,o=g[h[t+12>>2]>>2],h[12+(e=z-16|0)>>2]=h[n+8>>2],z=n+16|0,x(i+x(o*g[h[e+12>>2]+8>>2]))}function Yr(e){e|=0,h[12+(z-16|0)>>2]=e,P()}function Xr(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,$o(e=h[t+12>>2]),z=t+16|0,0|e}function Qr(e,t,n,i){var o;h[28+(o=z-32|0)>>2]=e,h[o+24>>2]=t,h[o+20>>2]=n,g[o+16>>2]=i,e=h[o+28>>2],g[o+12>>2]=x(1)-g[o+16>>2],g[e>>2]=x(g[o+12>>2]*g[h[o+24>>2]>>2])+x(g[o+16>>2]*g[h[o+20>>2]>>2]),g[e+4>>2]=x(g[o+12>>2]*g[h[o+24>>2]+4>>2])+x(g[o+16>>2]*g[h[o+20>>2]+4>>2]),g[e+8>>2]=x(g[o+12>>2]*g[h[o+24>>2]+8>>2])+x(g[o+16>>2]*g[h[o+20>>2]+8>>2])}function Zr(e,t,n,i,o,r,a,s,c,l){var p;z=p=z-48|0,h[p+44>>2]=e,h[p+40>>2]=t,h[p+36>>2]=n,h[p+32>>2]=i,h[p+28>>2]=o,h[p+24>>2]=r,h[p+20>>2]=a,h[p+16>>2]=s,h[p+12>>2]=c,h[p+8>>2]=l,To(e=h[p+44>>2],h[p+40>>2],h[p+36>>2],h[p+32>>2]),To(e+16|0,h[p+28>>2],h[p+24>>2],h[p+20>>2]),To(e+32|0,h[p+16>>2],h[p+12>>2],h[p+8>>2]),z=p+48|0}function Jr(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+32|0}function Kr(e){var t=0,n=0,i=x(0),o=0;e:{t:{if(u(e),(n=2147483647&(o=s(0)))>>>0>=1065353216){if(1065353216!=(0|n))break t;return x(1.5707963267948966*+e+752316384526264e-51)}if(n>>>0<=1056964607){if(n+-8388608>>>0<956301312)break e;return i=x(e*e),x(x(x(x(i*x(x(i*x(x(i*x(-.008656363002955914))+x(-.04274342209100723)))+x(.16666586697101593)))/x(x(i*x(-.7066296339035034))+x(1)))*e)+e)}return e=x(x(x(1)-x(b(e)))*x(.5)),t=T(+e),t+=t*+x(x(e*x(x(e*x(x(e*x(-.008656363002955914))+x(-.04274342209100723)))+x(.16666586697101593)))/x(x(e*x(-.7066296339035034))+x(1))),e=x(1.5707963267948966-(t+t)),(0|o)<0?x(-e):e}e=x(x(0)/x(e-e))}return e}function $r(e,t,n){var i=0,o=0,r=0;if(1==(0|t)&e>>>0<0|t>>>0<1)i=e;else for(;i=Fl(e,t,10),r=o=F,o=zl(i,o,10,0),a[0|(n=n+-1|0)]=e-o|48,o=9==(0|t)&e>>>0>4294967295|t>>>0>9,e=i,t=r,o;);if(i)for(;e=(i>>>0)/10|0,a[0|(n=n+-1|0)]=i-y(e,10)|48,t=i>>>0>9,i=e,t;);return n}function ea(e,t){var n,i=0,o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,m=0,d=0;return(0|(n=h[e+16>>2]))!=(0|(o=h[t+16>>2]))?n-o|0:n?(s=h[e+4>>2],l=h[t+8>>2],u=zl(p=h[t+12>>2],0,m=h[e>>2],0),c=F,p=zl(p,r,s,0),o=F+a|0,a=i=p+c|0,i=i>>>0<p>>>0?o+1|0:o,s=zl(l,p=0,s,r),(r=(o=a)+(a=F)|0)>>>0<a>>>0&&(i=i+1|0),o=r,a=i,r=0,(i=s+u|0)>>>0<s>>>0&&(r=r+1|0),u=r,r=r+o|0,o=a,o=r>>>0<u>>>0?o+1|0:o,a=r,r=i,u=0,l=zl(m,_,l,p),i=F+i|0,i=(s=u+l|0)>>>0<l>>>0?i+1|0:i,d=s,l=s,s=i,(i=a+(r=(0|r)==(0|i)&l>>>0<u>>>0|i>>>0<r>>>0)|0)>>>0<r>>>0&&(o=o+1|0),u=i,l=o,p=i,m=o,r=h[e+8>>2],e=h[e+12>>2],i=h[t>>2],_=r,a=zl(c=h[t+4>>2],o=0,r,0),t=F,f=e,c=zl(c,o,e,r=0),o=F,o=(e=t+c|0)>>>0<c>>>0?o+1|0:o,t=e,c=i,e=zl(i,0,f,r),i=o,r=i=(t=(f=F)+t|0)>>>0<f>>>0?i+1|0:i,o=0,(i=e+a|0)>>>0<e>>>0&&(o=o+1|0),f=o,a=o+t|0,o=r,o=a>>>0<f>>>0?o+1|0:o,t=a,a=-1,r=o,f=t,t=0,_=zl(c,0,_,0),o=i,i=i+F|0,i=(e=t+_|0)>>>0<_>>>0?i+1|0:i,_=e,c=e,e=i,(o=f+(t=(0|o)==(0|i)&c>>>0<t>>>0|i>>>0<o>>>0)|0)>>>0<t>>>0&&(r=r+1|0),t=r,(0|r)==(0|m)&p>>>0<(i=o)>>>0|m>>>0<r>>>0||(a=1,(0|t)==(0|l)&u>>>0>o>>>0|l>>>0>t>>>0||(a=-1,(0|e)==(0|s)&d>>>0<_>>>0|s>>>0<e>>>0||(a=(0|e)==(0|s)&d>>>0>_>>>0|s>>>0>e>>>0))),y(a,n)):0}function ta(e,t){var n=0,i=0,o=0,s=0,c=0,l=0;if(m[e+164|0]){if((0|(n=h[e+128>>2]))==h[e+132>>2]&&!((0|n)>=(0|(o=n?n<<1:1)))){o&&(h[6657]=h[6657]+1,s=0|r[h[5255]](o<<2,16),n=h[e+128>>2]),i=h[e+136>>2];e:{t:{if((0|n)>=1)for(;;)if(h[(l=c<<2)+s>>2]=h[i+l>>2],(0|(c=c+1|0))==(0|n))break t;if(!i)break e}m[e+140|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[e+136>>2]=0,n=h[e+128>>2]}h[e+136>>2]=s,h[e+132>>2]=o,a[e+140|0]=1}return i=n<<2,n=h[e+136>>2],h[i+n>>2]=t,h[e+128>>2]=h[e+128>>2]+1,void(h[h[e+32>>2]+4>>2]=n)}if((0|(n=h[e+148>>2]))==h[e+152>>2]&&!((0|n)>=(0|(o=n?n<<1:1)))){o&&(h[6657]=h[6657]+1,s=0|r[h[5255]](o<<1,16),n=h[e+148>>2]),i=h[e+156>>2];e:{t:{if((0|n)>=1)for(;;)if(f[(l=c<<1)+s>>1]=d[i+l>>1],(0|(c=c+1|0))==(0|n))break t;if(!i)break e}m[e+160|0]&&(i&&(h[6658]=h[6658]+1,r[h[5256]](i)),n=h[e+148>>2]),h[e+156>>2]=0}h[e+156>>2]=s,h[e+152>>2]=o,a[e+160|0]=1}s=h[e+156>>2],f[s+(n<<1)>>1]=t,h[e+148>>2]=n+1,h[h[e+32>>2]+4>>2]=s}function na(e){var t;z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],h[12+(z-16|0)>>2]=e,bn(e),z=t+16|0}function ia(e,t,n,i,o,r,a){var s,c,l=x(0),p=x(0),u=0,_=0,f=x(0),m=x(0),d=x(0);if(s=z-16|0,h[i>>2]=2139095039,u=-8388609,h[o>>2]=-8388609,c=h[e+8>>2],l=x(-34028234663852886e22),!((0|c)<1)){for(u=0;_=h[e+16>>2]+(u<<4)|0,l=g[_>>2],p=g[_+4>>2],f=g[_+8>>2],m=x(x(x(x(l*g[t>>2])+x(p*g[t+4>>2]))+x(f*g[t+8>>2]))+g[t+48>>2]),d=x(x(x(x(l*g[t+16>>2])+x(p*g[t+20>>2]))+x(f*g[t+24>>2]))+g[t+52>>2]),p=x(x(x(x(l*g[t+32>>2])+x(p*g[t+36>>2]))+x(f*g[t+40>>2]))+g[t+56>>2]),(l=x(x(x(m*g[n>>2])+x(d*g[n+4>>2]))+x(p*g[n+8>>2])))<g[i>>2]&&(g[i>>2]=l,h[r+12>>2]=0,g[r+8>>2]=p,g[r+4>>2]=d,g[r>>2]=m),l>g[o>>2]&&(g[o>>2]=l,h[a+12>>2]=0,g[a+8>>2]=p,g[a+4>>2]=d,g[a>>2]=m),(0|c)!=(0|(u=u+1|0)););u=h[o>>2],l=g[o>>2]}(p=g[i>>2])>l&&(h[i>>2]=u,g[o>>2]=p,e=h[r+12>>2],h[s+8>>2]=h[r+8>>2],h[s+12>>2]=e,e=h[r+4>>2],h[s>>2]=h[r>>2],h[s+4>>2]=e,e=h[a+12>>2],h[r+8>>2]=h[a+8>>2],h[r+12>>2]=e,e=h[a+4>>2],h[r>>2]=h[a>>2],h[r+4>>2]=e,e=h[s+12>>2],h[a+8>>2]=h[s+8>>2],h[a+12>>2]=e,e=h[s+4>>2],h[a>>2]=h[s>>2],h[a+4>>2]=e)}function oa(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+8>>2]](e,h[n+8>>2]),z=n+16|0}function ra(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,h[t+12>>2]}function aa(){return x(x(1))}function sa(e,t,n,i,o){var r,s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0);r=-16&m[o+16|0],a[o+16|0]=r,D=g[i>>2],f=g[t>>2],b=x(D-f),_=g[e>>2],s=x(_-f),M=g[i+4>>2],d=g[t+4>>2],C=x(M-d),p=g[e+4>>2],c=x(p-d),O=g[i+8>>2],v=g[t+8>>2],S=x(O-v),A=g[e+8>>2],l=x(A-v),u=x(x(x(b*s)+x(C*c))+x(S*l)),e=o,P=g[n>>2],E=x(P-f),I=g[n+4>>2],w=x(I-d),R=g[n+8>>2],T=x(R-v),(c=x(x(x(E*s)+x(w*c))+x(T*l)))<=x(0)^1|u<=x(0)^1?(s=x(_-P),l=x(p-I),y=x(A-R),N=x(x(x(b*s)+x(C*l))+x(S*y)),(l=x(x(x(E*s)+x(w*l))+x(T*y)))>=x(0)^1|N<=l^1?(y=x(x(c*N)-x(l*u)),l<=x(0)^1|c>=x(0)^1||(s=x(0),!(y<=x(0)))?(s=x(_-D),p=x(p-M),A=x(A-O),_=x(x(x(E*s)+x(w*p))+x(T*A)),(s=x(x(x(b*s)+x(C*p))+x(S*A)))>=x(0)^1|_<=s^1?(p=x(x(_*u)-x(c*s)),s<=x(0)^1|u>=x(0)^1||(c=x(0),!(p<=x(0)))?(u=x(x(l*s)-x(_*N)))<=x(0)&&(c=x(N-l))>=x(0)&&(s=x(_-s))>=x(0)?(h[o+12>>2]=0,a[o+16|0]=6|r,s=x(c/x(c+s)),g[o+8>>2]=R+x(x(O-R)*s),g[o+4>>2]=I+x(x(M-I)*s),g[o>>2]=P+x(x(D-P)*s),c=x(x(1)-s),l=x(0)):(h[o+12>>2]=0,a[o+16|0]=7|r,c=x(x(1)/x(y+x(u+p))),s=x(y*c),c=x(p*c),g[o+8>>2]=x(S*s)+x(v+x(T*c)),g[o+4>>2]=x(C*s)+x(d+x(w*c)),g[o>>2]=x(b*s)+x(f+x(E*c)),l=x(x(x(1)-c)-s)):(h[o+12>>2]=0,a[o+16|0]=5|r,s=x(u/x(u-s)),g[o+8>>2]=v+x(S*s),g[o+4>>2]=d+x(C*s),g[o>>2]=f+x(b*s),l=x(x(1)-s))):(t=h[i+4>>2],h[o>>2]=h[i>>2],h[o+4>>2]=t,t=h[i+12>>2],h[o+8>>2]=h[i+8>>2],h[o+12>>2]=t,a[o+16|0]=4|r,s=x(1),c=x(0),l=x(0))):(h[o+12>>2]=0,a[o+16|0]=3|r,c=x(c/x(c-l)),g[o+8>>2]=v+x(T*c),g[o+4>>2]=d+x(w*c),g[o>>2]=f+x(E*c),l=x(x(1)-c))):(t=h[n+4>>2],h[o>>2]=h[n>>2],h[o+4>>2]=t,t=h[n+12>>2],h[o+8>>2]=h[n+8>>2],h[o+12>>2]=t,a[o+16|0]=2|r,c=x(1),s=x(0),l=x(0))):(n=h[t+4>>2],h[o>>2]=h[t>>2],h[o+4>>2]=n,n=h[t+12>>2],h[o+8>>2]=h[t+8>>2],h[o+12>>2]=n,a[o+16|0]=1|r,c=x(0),s=x(0),l=x(1)),g[e+20>>2]=l,h[o+32>>2]=0,g[o+28>>2]=s,g[o+24>>2]=c}function ca(e,t,n,i,o){var r,s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=0,A=x(0);if(r=h[e+18504>>2]){if((s=h[r+48>>2])&&(h[s+44>>2]=h[r+44>>2]),(s=h[r+44>>2])&&(h[s+48>>2]=h[r+48>>2]),h[e+18504>>2]==(0|r)&&(h[e+18504>>2]=h[r+48>>2]),h[(s=e+18508|0)>>2]=h[s>>2]+-1,h[r+44>>2]=0,h[r+48>>2]=h[e+18496>>2],(s=h[e+18496>>2])&&(h[s+44>>2]=r),h[e+18496>>2]=r,h[(s=e+18500|0)>>2]=h[s>>2]+1,h[r+28>>2]=i,h[r+24>>2]=n,h[r+20>>2]=t,a[r+55|0]=0,u=g[n+24>>2],A=g[i+24>>2],c=g[t+24>>2],_=g[i+20>>2],p=g[t+20>>2],f=g[n+20>>2],m=g[n+16>>2],d=g[i+16>>2],l=g[t+16>>2],h[r+12>>2]=0,m=x(m-l),_=x(_-p),f=x(f-p),l=x(d-l),p=x(x(m*_)-x(f*l)),g[r+8>>2]=p,u=x(u-c),d=x(u*l),l=x(A-c),c=x(d-x(m*l)),g[r+4>>2]=c,l=x(x(f*l)-x(u*_)),g[r>>2]=l,v=2,(c=x(T(x(x(x(l*l)+x(c*c))+x(p*p)))))>x(9999999747378752e-20)){if(Gs(r,t,n,s=r+16|0)||Gs(r,n,i,s)||Gs(r,i,t,s)||(g[r+16>>2]=x(x(x(g[t+16>>2]*g[r>>2])+x(g[t+20>>2]*g[r+4>>2]))+x(g[t+24>>2]*g[r+8>>2]))/c),c=x(x(1)/c),g[r>>2]=c*g[r>>2],g[r+4>>2]=c*g[r+4>>2],g[r+8>>2]=c*g[r+8>>2],o)return r;if(v=3,g[s>>2]>=x(-9999999747378752e-21))return r}return h[e>>2]=v,(t=h[r+48>>2])&&(h[t+44>>2]=h[r+44>>2]),(t=h[r+44>>2])&&(h[t+48>>2]=h[r+48>>2]),h[e+18496>>2]==(0|r)&&(h[e+18496>>2]=h[r+48>>2]),h[e+18500>>2]=h[e+18500>>2]+-1,h[r+44>>2]=0,h[r+48>>2]=h[e+18504>>2],(t=h[e+18504>>2])&&(h[t+44>>2]=r),h[e+18504>>2]=r,h[e+18508>>2]=h[e+18508>>2]+1,0}return h[e>>2]=5,0}function la(e){var t;h[e+132>>2]=0,h[e+136>>2]=0,h[e>>2]=4464,h[e+188>>2]=0,h[e+192>>2]=0,h[e+180>>2]=0,h[e+184>>2]=1566444395,h[e+164>>2]=1065353216,h[e+168>>2]=1065353216,h[e+276>>2]=0,h[e+280>>2]=0,h[e+268>>2]=1065353216,h[e+272>>2]=0,h[e+260>>2]=-1,h[e+264>>2]=-1,h[e+252>>2]=1,h[e+256>>2]=0,h[e+244>>2]=1036831949,h[e+248>>2]=1176256512,h[e+236>>2]=0,h[e+240>>2]=0,h[e+228>>2]=1056964608,h[e+232>>2]=0,h[e+220>>2]=1,h[e+224>>2]=0,h[e+212>>2]=-1,h[e+216>>2]=-1,h[e+204>>2]=1,h[e+208>>2]=-1,h[e+140>>2]=0,h[e+144>>2]=0,h[e+148>>2]=0,h[e+152>>2]=0,h[e+156>>2]=0,h[e+160>>2]=0,h[e+172>>2]=1065353216,h[e+176>>2]=0,h[e+196>>2]=0,h[e+200>>2]=0,a[e+300|0]=1,h[e+304>>2]=0,h[e+296>>2]=0,h[e+288>>2]=0,h[e+292>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,h[e+4>>2]=1065353216,h[e+16>>2]=0,h[e+20>>2]=0,h[e+28>>2]=0,h[e+32>>2]=0,h[e+24>>2]=1065353216,h[e+36>>2]=0,h[e+40>>2]=0,h[e+48>>2]=0,h[e+52>>2]=0,h[e+44>>2]=1065353216,h[e+56>>2]=0,h[e+60>>2]=0,h[e+72>>2]=0,h[e+76>>2]=0,h[(t=e- -64|0)>>2]=0,h[t+4>>2]=1065353216,h[e+80>>2]=0,h[e+84>>2]=0,h[e+88>>2]=1065353216,h[e+100>>2]=0,h[e+104>>2]=0,h[e+92>>2]=0,h[e+96>>2]=0,h[e+128>>2]=0,h[e+108>>2]=1065353216,h[e+120>>2]=0,h[e+124>>2]=0,h[e+112>>2]=0,h[e+116>>2]=0}function pa(e){h[e>>2]=1025,h[e+120>>2]=0,h[e+124>>2]=0,h[e+128>>2]=0,h[e+132>>2]=0,h[e+136>>2]=0,h[e+140>>2]=0,h[e+144>>2]=0,h[e+148>>2]=0,h[e+152>>2]=0,h[e+156>>2]=0,h[e+160>>2]=0,h[e+164>>2]=0,h[e+168>>2]=0,h[e+328>>2]=0,h[e+332>>2]=0,h[e+336>>2]=0,h[e+340>>2]=0,h[e+344>>2]=0,h[e+348>>2]=0,h[e+352>>2]=0,h[e+356>>2]=0,h[e+360>>2]=0,h[e+364>>2]=0,h[e+368>>2]=0,h[e+372>>2]=0,h[e+376>>2]=0,h[e+536>>2]=0,h[e+540>>2]=0,h[e+544>>2]=0,h[e+548>>2]=0,h[e+552>>2]=0,h[e+556>>2]=0,h[e+560>>2]=0,h[e+564>>2]=0,h[e+568>>2]=0,h[e+572>>2]=0,h[e+576>>2]=0,h[e+580>>2]=0,h[e+584>>2]=0,h[e+792>>2]=0,h[e+784>>2]=0,h[e+788>>2]=0,h[e+776>>2]=0,h[e+780>>2]=0,h[e+768>>2]=0,h[e+772>>2]=0,h[e+760>>2]=0,h[e+764>>2]=0,h[e+752>>2]=0,h[e+756>>2]=0,h[e+744>>2]=0,h[e+748>>2]=0,h[e+836>>2]=0,h[e+840>>2]=0,h[e+864>>2]=0,h[e+844>>2]=0}function ua(e,t,n){var i=x(0),o=x(0),r=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0);N=g[t+52>>2],D=g[t+56>>2],f=g[e+96>>2],d=g[e+100>>2],v=g[e+104>>2],i=g[t+20>>2],o=g[t+24>>2],A=g[e- -64>>2],y=g[e+80>>2],b=g[e+52>>2],C=g[e+68>>2],S=g[e+84>>2],E=g[e+56>>2],r=g[t+36>>2],w=g[e+72>>2],s=g[t+40>>2],P=g[e+88>>2],R=g[t+48>>2],c=g[t+8>>2],l=g[t>>2],p=g[t+4>>2],u=g[t+16>>2],I=g[e+48>>2],_=g[t+32>>2],h[e+1124>>2]=0,h[e+1108>>2]=0,h[e+1092>>2]=0,h[e+1076>>2]=0,g[e+1104>>2]=x(x(E*_)+x(w*r))+x(P*s),g[e+1100>>2]=x(x(b*_)+x(C*r))+x(S*s),g[e+1096>>2]=x(x(I*_)+x(A*r))+x(y*s),g[e+1088>>2]=x(x(E*u)+x(w*i))+x(P*o),g[e+1084>>2]=x(x(b*u)+x(C*i))+x(S*o),g[e+1080>>2]=x(x(I*u)+x(A*i))+x(y*o),g[e+1072>>2]=x(x(l*E)+x(p*w))+x(c*P),g[e+1068>>2]=x(x(l*b)+x(p*C))+x(c*S),g[e+1064>>2]=x(x(I*l)+x(A*p))+x(y*c),g[e+1120>>2]=D+x(x(x(_*f)+x(r*d))+x(s*v)),g[e+1116>>2]=N+x(x(x(u*f)+x(i*d))+x(o*v)),g[e+1112>>2]=R+x(x(x(l*f)+x(p*d))+x(c*v)),N=g[n+52>>2],D=g[n+56>>2],f=g[e+160>>2],d=g[e+164>>2],v=g[e+168>>2],i=g[n+20>>2],o=g[n+24>>2],A=g[e+128>>2],y=g[e+144>>2],b=g[e+116>>2],C=g[e+132>>2],S=g[e+148>>2],E=g[e+120>>2],w=g[e+136>>2],r=g[n+36>>2],P=g[e+152>>2],s=g[n+40>>2],R=g[n+48>>2],c=g[n+8>>2],l=g[n>>2],p=g[n+4>>2],u=g[n+16>>2],I=g[e+112>>2],_=g[n+32>>2],h[e+1188>>2]=0,h[e+1172>>2]=0,h[e+1156>>2]=0,h[e+1140>>2]=0,g[e+1168>>2]=x(x(E*_)+x(w*r))+x(P*s),g[e+1164>>2]=x(x(b*_)+x(C*r))+x(S*s),g[e+1160>>2]=x(x(I*_)+x(A*r))+x(y*s),g[e+1152>>2]=x(x(E*u)+x(w*i))+x(P*o),g[e+1148>>2]=x(x(b*u)+x(C*i))+x(S*o),g[e+1144>>2]=x(x(I*u)+x(A*i))+x(y*o),g[e+1136>>2]=x(x(l*E)+x(p*w))+x(c*P),g[e+1132>>2]=x(x(l*b)+x(p*C))+x(c*S),g[e+1128>>2]=x(x(I*l)+x(A*p))+x(y*c),g[e+1184>>2]=D+x(x(x(_*f)+x(r*d))+x(s*v)),g[e+1180>>2]=N+x(x(x(u*f)+x(i*d))+x(o*v)),g[e+1176>>2]=R+x(x(x(l*f)+x(p*d))+x(c*v)),function(e){var t,n=x(0),i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0);h[e+1268>>2]=0,s=g[e+1084>>2],c=g[e+1104>>2],l=g[e+1088>>2],p=g[e+1100>>2],v=x(x(s*c)-x(l*p)),i=g[e+1064>>2],o=g[e+1068>>2],u=g[e+1096>>2],_=g[e+1080>>2],A=x(x(l*u)-x(c*_)),r=x(x(p*_)-x(s*u)),a=g[e+1072>>2],n=x(x(1)/x(x(x(v*i)+x(o*A))+x(r*a))),f=x(g[e+1184>>2]-g[e+1120>>2]),m=x(g[e+1176>>2]-g[e+1112>>2]),d=x(g[e+1180>>2]-g[e+1116>>2]),r=x(x(f*x(x(x(s*i)-x(_*o))*n))+x(x(m*x(r*n))+x(d*x(x(x(u*o)-x(p*i))*n)))),g[e+1264>>2]=r,i=x(x(f*x(x(x(_*a)-x(l*i))*n))+x(x(m*x(A*n))+x(d*x(x(x(c*i)-x(u*a))*n)))),g[e+1260>>2]=i,n=x(x(f*x(x(x(l*o)-x(s*a))*n))+x(x(m*x(v*n))+x(d*x(x(x(p*a)-x(c*o))*n)))),g[e+1256>>2]=n,g[e+840>>2]=n;e:{if(!((o=g[e+680>>2])>(a=g[e+696>>2]))){if(o>n){h[e+856>>2]=2,n=x(n-o);break e}if(a<n){h[e+856>>2]=1,n=x(n-a);break e}}h[e+856>>2]=0,n=x(0)}g[e+844>>2]=i,g[e+824>>2]=n;e:{if(!((n=g[e+684>>2])>(o=g[e+700>>2])))t:{if(!(n>i)){if(!(o<i))break t;h[e+860>>2]=1,n=x(i-o);break e}h[e+860>>2]=2,n=x(i-n);break e}h[e+860>>2]=0,n=x(0)}g[e+848>>2]=r,g[e+828>>2]=n,t=e;e:{if(!((n=g[e+688>>2])>(i=g[e+704>>2])))t:{if(!(n>r)){if(!(i<r))break t;h[e+864>>2]=1,n=x(r-i);break e}h[e+864>>2]=2,n=x(r-n);break e}h[e+864>>2]=0,n=x(0)}g[t+832>>2]=n}(e),function(e){var t,n,i,o,r,a,s,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0);z=t=z-48|0,C=g[(n=e+1160|0)>>2],S=g[(i=e+1128|0)>>2],E=g[(o=e+1144|0)>>2],w=g[e+1164>>2],P=g[e+1132>>2],I=g[e+1148>>2],R=g[e+1168>>2],N=g[e+1136>>2],D=g[e+1152>>2],u=g[(r=e+1072|0)>>2],v=g[e+1084>>2],p=g[e+1100>>2],_=g[e+1068>>2],f=g[e+1096>>2],A=g[(a=e+1088|0)>>2],m=g[e+1080>>2],d=g[(s=e+1104|0)>>2],c=g[e+1064>>2],h[t+44>>2]=0,h[t+28>>2]=0,L=x(x(v*d)-x(A*p)),y=x(x(A*f)-x(d*m)),b=x(x(p*m)-x(v*f)),l=x(x(1)/x(x(x(c*L)+x(_*y))+x(b*u))),b=x(b*l),M=x(x(x(f*_)-x(p*c))*l),O=x(x(x(v*c)-x(m*_))*l),g[t+40>>2]=x(x(N*b)+x(D*M))+x(R*O),g[t+36>>2]=x(x(P*b)+x(M*I))+x(O*w),y=x(y*l),f=x(x(x(d*c)-x(f*u))*l),c=x(x(x(m*u)-x(A*c))*l),g[t+24>>2]=x(x(N*y)+x(D*f))+x(R*c),g[t+20>>2]=x(x(P*y)+x(f*I))+x(c*w),h[t+12>>2]=0,g[t+32>>2]=x(C*O)+x(x(S*b)+x(E*M)),g[t+16>>2]=x(C*c)+x(x(S*y)+x(E*f)),c=x(L*l),p=x(x(x(p*u)-x(d*_))*l),l=x(x(x(A*_)-x(v*u))*l),g[t+8>>2]=x(x(N*c)+x(D*p))+x(R*l),g[t+4>>2]=x(x(c*P)+x(p*I))+x(l*w),g[t>>2]=x(C*l)+x(x(S*c)+x(E*p)),We(t,e+1192|0),h[e+1236>>2]=0,h[e+1252>>2]=0,h[e+1220>>2]=0,c=g[o>>2],v=g[r>>2],p=g[i>>2],f=g[a>>2],l=x(x(c*v)-x(p*f)),A=g[s>>2],m=g[n>>2],u=x(x(p*A)-x(m*v)),_=x(x(m*f)-x(c*A)),d=x(x(1)/x(T(x(x(l*l)+x(x(u*u)+x(_*_)))))),g[e+1232>>2]=l*d,g[e+1228>>2]=u*d,g[e+1224>>2]=_*d,d=x(x(c*l)-x(m*u)),m=x(x(m*_)-x(p*l)),p=x(x(p*u)-x(c*_)),c=x(x(1)/x(T(x(x(x(d*d)+x(m*m))+x(p*p))))),g[e+1248>>2]=p*c,g[e+1244>>2]=m*c,g[e+1240>>2]=d*c,c=x(x(A*u)-x(f*l)),p=x(x(v*l)-x(A*_)),u=x(x(f*_)-x(v*u)),l=x(x(1)/x(T(x(x(x(c*c)+x(p*p))+x(u*u))))),g[e+1216>>2]=u*l,g[e+1212>>2]=p*l,g[e+1208>>2]=c*l,z=t+48|0}(e),m[e+1301|0]&&(o=g[h[e+28>>2]+404>>2],i=g[h[e+32>>2]+404>>2],a[e+1280|0]=o<x(1.1920928955078125e-7)|i<x(1.1920928955078125e-7),R=i,i=(i=x(o+i))>x(0)?x(R/i):x(.5),g[e+1272>>2]=i,g[e+1276>>2]=x(1)-i)}function _a(e){var t,n=x(0);return z=t=z-16|0,h[t+12>>2]=e,n=cc(h[t+12>>2]),g[12+(e=z-16|0)>>2]=n,z=t+16|0,x(T(g[e+12>>2]))}function fa(e,t,n,i,o){var r;z=r=z-32|0,h[r+28>>2]=e,h[r+24>>2]=t,h[r+20>>2]=n,h[r+16>>2]=i,h[r+12>>2]=o,dc(h[r+28>>2],h[r+24>>2],h[r+20>>2],h[r+16>>2],h[r+12>>2]),z=r+32|0}function ha(e,t){var n,i=0;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,rt(e=h[n+12>>2],h[n+8>>2]),t=h[n+8>>2],i=h[t+52>>2],h[e+48>>2]=h[t+48>>2],h[e+52>>2]=i,i=h[t+60>>2],h[e+56>>2]=h[t+56>>2],h[e+60>>2]=i,z=n+16|0}function ma(e){e|=0;var t;z=t=z-16|0,h[t+12>>2]=e,(e=h[t+12>>2])&&(Cr(e),Eo(e)),z=t+16|0}function da(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+4>>2]}function va(e,t){e|=0,t|=0;var n=x(0),i=x(0),o=x(0);n=g[t>>2],i=g[t+4>>2],o=g[t+8>>2],h[e+28>>2]=0,g[e+24>>2]=b(o),g[e+20>>2]=b(i),g[e+16>>2]=b(n)}function ga(e){var t=0;return h[(e|=0)>>2]=13280,(t=h[e+56>>2])&&(r[h[h[t>>2]>>2]](t),(t=h[e+56>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t))),0|e}function Aa(){return 0}function ya(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+204>>2]}function xa(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+4|0}function ba(e,t,n){var i,o=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=0;if(z=i=z-256|0,e){for(f=g[t+24>>2],m=g[t+20>>2],d=g[t+16>>2],v=g[t+8>>2],A=g[t+4>>2],y=g[t>>2],h[i>>2]=e,a=64,o=i,t=1;;){e:{t:{n:{if(s=h[(u=(e=t+-1|0)<<2)+o>>2],!(g[s>>2]<=d^1|g[s+16>>2]>=y^1|g[s+4>>2]<=m^1|g[s+20>>2]>=A^1||g[s+8>>2]<=f^1|g[s+24>>2]>=v^1)){if(h[s+40>>2]){if(b=h[s+36>>2],(0|e)!=(0|a))break n;if((0|t)>(0|(l=a?a<<1:1)))break n;e=0,c=0,l&&(h[6657]=h[6657]+1,c=0|r[h[5255]](l<<2,16));i:{o:{if((0|a)>=1){for(;h[(_=e<<2)+c>>2]=h[o+_>>2],(0|a)!=(0|(e=e+1|0)););if(p)break o;break i}if(!o|!p)break i}o&&(h[6658]=h[6658]+1,r[h[5256]](o))}p=1;break t}r[h[h[n>>2]+12>>2]](n,s)}break e}l=a,c=o}if(h[c+u>>2]=b,s=h[s+40>>2],(0|t)==(0|l))if((0|t)>=(0|(a=t?t<<1:1)))a=t,o=c;else{e=0,o=0,a&&(h[6657]=h[6657]+1,o=0|r[h[5255]](a<<2,16));t:{n:{if((0|t)>=1){for(;h[(l=e<<2)+o>>2]=h[c+l>>2],(0|t)!=(0|(e=e+1|0)););if(p)break n;break t}if(!c|!p)break t}c&&(h[6658]=h[6658]+1,r[h[5256]](c))}p=1}else a=l,o=c;h[(t<<2)+o>>2]=s,e=t+1|0}if(!((0|(t=e))>0))break}!o|!p||o&&(h[6658]=h[6658]+1,r[h[5256]](o))}z=i+256|0}function Ca(e){ga(e|=0),e&&(h[6658]=h[6658]+1,r[h[5256]](e))}function Sa(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,0!=(3&h[h[e+12>>2]+204>>2])|0}function Ea(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,0!=(1&h[h[e+12>>2]+204>>2])|0}function wa(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,0!=(2&h[h[e+12>>2]+204>>2])|0}function Ta(e){return h[16+(e|=0)>>2]}function Pa(e,t){t|=0;var n=0,i=0,o=0,s=0,c=0;if(!(!(n=h[12+(e|=0)>>2])|!m[e+8|0])){if((0|(i=h[t+4>>2]))==h[t+8>>2]&&!((0|i)>=(0|(o=i?i<<1:1)))){if(o&&(h[6657]=h[6657]+1,s=0|r[h[5255]](o<<2,16),i=h[t+4>>2]),(0|i)>=1)for(n=0;h[(c=n<<2)+s>>2]=h[h[t+12>>2]+c>>2],(0|(n=n+1|0))!=(0|i););(n=h[t+12>>2])&&(m[t+16|0]&&(n&&(h[6658]=h[6658]+1,r[h[5256]](n)),i=h[t+4>>2]),h[t+12>>2]=0),h[t+12>>2]=s,a[t+16|0]=1,h[t+8>>2]=o,n=h[e+12>>2]}h[h[t+12>>2]+(i<<2)>>2]=n,h[t+4>>2]=i+1}}function Ia(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=1&function(e){var t=0,n=0,i=0;return z=t=z-16|0,h[t+12>>2]=e,e=0,n=z-16|0,i=h[t+12>>2],h[n+12>>2]=i,2!=h[h[n+12>>2]+220>>2]&&(h[12+(e=z-16|0)>>2]=i,e=5!=h[h[e+12>>2]+220>>2]),z=t+16|0,1&e}(h[t+12>>2]),z=t+16|0,0|e}function Ra(){!(0==m[24144])|1&a[24144]||(h[5954]=1062847606,h[5955]=0,h[5952]=1042701022,h[5953]=1056964440,h[5950]=1062847606,h[5951]=0,h[5948]=-1093024784,h[5949]=1050556081,h[5946]=1062847606,h[5947]=0,h[5944]=-1093024784,h[5945]=-1096927567,h[5942]=1062847606,h[5943]=0,h[5940]=1042701022,h[5941]=-1090519208,h[5938]=1062847572,h[5939]=0,h[5936]=1057396286,h[5937]=0,h[5934]=1057396386,h[5935]=0,h[5932]=1060121912,h[5933]=1056964507,h[5930]=1057396420,h[5931]=0,h[5928]=-1098475836,h[5929]=1062148969,h[5926]=1057396386,h[5927]=0,h[5924]=-1084636143,h[5925]=0,h[5922]=1057396420,h[5923]=0,h[5920]=-1098475836,h[5921]=-1085334679,h[5918]=1057396386,h[5919]=0,h[5916]=1060121912,h[5917]=-1090519141,h[5914]=-2147483648,h[5915]=0,h[5912]=1058437413,h[5913]=1062149053,h[5910]=-2147483648,h[5911]=0,h[5908]=-2147483648,h[5909]=1065353216,h[5906]=-2147483648,h[5907]=0,h[5904]=-1089046235,h[5905]=1062149053,h[5902]=-2147483648,h[5903]=0,h[5900]=-1082951543,h[5901]=1050556148,h[5898]=-2147483648,h[5899]=0,h[5896]=-1082951543,h[5897]=-1096927500,h[5894]=0,h[5895]=0,h[5892]=-1089046235,h[5893]=-1085334595,h[5890]=0,h[5891]=0,h[5888]=0,h[5889]=-1082130432,h[5886]=0,h[5887]=0,h[5884]=1058437413,h[5885]=-1085334595,h[5882]=0,h[5883]=0,h[5880]=1064532105,h[5881]=-1096927500,h[5878]=0,h[5879]=0,h[5876]=1064532105,h[5877]=1050556148,h[5874]=-1090087228,h[5875]=0,h[5872]=1049007812,h[5873]=1062148969,h[5870]=-1090087262,h[5871]=0,h[5868]=-1087361736,h[5869]=1056964507,h[5866]=-1084636042,h[5867]=0,h[5864]=-1104782626,h[5865]=1056964440,h[5862]=-1090087262,h[5863]=0,h[5860]=-1087361736,h[5861]=-1090519141,h[5858]=-1084636076,h[5859]=0,h[5856]=-1090087362,h[5857]=-2147483648,h[5854]=-1090087262,h[5855]=0,h[5852]=1062847505,h[5853]=-2147483648,h[5850]=-1084636042,h[5851]=0,h[5848]=1054458864,h[5849]=1050556081,h[5846]=-1090087228,h[5847]=0,h[5844]=1049007812,h[5845]=-1085334679,h[5842]=-1084636042,h[5843]=0,h[5840]=-1104782626,h[5841]=-1090519208,h[5838]=-1084636042,h[5839]=0,h[5836]=1054458864,h[5837]=-1096927567,h[5834]=1065353216,h[5835]=0,h[5832]=-2147483648,h[5833]=0,h[5830]=1055193471,h[5831]=0,h[5828]=1063581978,h[5829]=0,h[5826]=1055193572,h[5827]=0,h[5824]=1049461434,h[5825]=1062847522,h[5822]=1055193572,h[5823]=0,h[5820]=-1086767520,h[5821]=1057396202,h[5818]=1055193572,h[5819]=0,h[5816]=-1086767520,h[5817]=-1090087446,h[5814]=1055193605,h[5815]=0,h[5812]=1049461434,h[5813]=-1084636126,h[5810]=-1092290076,h[5811]=0,h[5808]=1060716128,h[5809]=1057396202,h[5806]=-1092290043,h[5807]=0,h[5804]=-1098022214,h[5805]=1062847522,h[5802]=-1092290177,h[5803]=0,h[5800]=-1083901670,h[5801]=-2147483648,h[5798]=-1092290076,h[5799]=0,h[5796]=-1098022214,h[5797]=-1084636126,h[5794]=-1092290076,h[5795]=0,h[5792]=1060716128,h[5793]=-1090087446,h[5790]=-1082130432,h[5791]=0,h[5788]=0,h[5789]=-2147483648,h[6036]=0,h[6036]=1|h[6036])}function Na(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,Ba(h[n+12>>2],1&a[n+11|0]),z=n+16|0}function Da(e){a[e+356|0]=1,h[e>>2]=0,a[e+312|0]=0,h[e+292>>2]=1566444395,h[e+296>>2]=1566444395,h[e+336>>2]=0,h[e+340>>2]=0,h[e+300>>2]=1566444395,h[e+304>>2]=0,h[e+344>>2]=0,h[e+348>>2]=0,a[e+352|0]=0,a[e+332|0]=240&m[e+332|0]}function Ma(e){e|=0;var t;z=t=z-16|0,h[t+12>>2]=e,Ba(h[t+12>>2],0),z=t+16|0}function Oa(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]+220>>2]=h[n+8>>2],z=n+16|0}function La(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+8>>2],t=h[n+12>>2],4!=(-2&h[t+220>>2])&&(h[t+220>>2]=e),z=n+16|0}function za(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+220>>2]}function Fa(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+192>>2]}function Ba(e,t){3&m[e+204|0]&&!t||(4!=(-2&h[e+220>>2])&&(h[e+220>>2]=1),h[e+224>>2]=0)}function Ua(e,t,n){e|=0,t|=0,n|=0;var i;z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,function(e,t,n){var i=0,o=0;z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,t=h[i+8>>2],o=h[t+4>>2],e=h[i+12>>2],h[(n=e)+164>>2]=h[t>>2],h[n+168>>2]=o,n=h[t+12>>2],h[e+172>>2]=h[t+8>>2],h[e+176>>2]=n,t=i,h[12+(o=z-16|0)>>2]=h[i+8>>2],n=1,g[h[o+12>>2]>>2]==x(1)&&(h[12+(o=z-16|0)>>2]=h[i+8>>2],n=1,g[h[o+12>>2]+4>>2]==x(1)&&(h[12+(n=z-16|0)>>2]=h[i+8>>2],n=g[h[n+12>>2]+8>>2]!=x(1))),a[t+3|0]=n,t=1&a[i+3|0]?h[i+4>>2]:0,h[e+180>>2]=t,z=i+16|0}(h[i+12>>2],h[i+8>>2],h[i+4>>2]),z=i+16|0}function ja(e){var t=x(0);return(t=Io(x(g[e>>2]-g[e+4>>2]),x(6.2831854820251465)))<x(-3.1415927410125732)?x(t+x(6.2831854820251465)):t>x(3.1415927410125732)^1?t:x(t+x(-6.2831854820251465))}function ka(e){var t=x(0);return(t=Io(x(g[e>>2]+g[e+4>>2]),x(6.2831854820251465)))<x(-3.1415927410125732)?x(t+x(6.2831854820251465)):t>x(3.1415927410125732)^1?t:x(t+x(-6.2831854820251465))}function Ga(e,t,n,i,o,r,a,s,c,l){var p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=0,w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0);E=h[r+4>>2],h[e>>2]=h[r>>2],h[e+4>>2]=E,E=h[r+12>>2],h[e+8>>2]=h[r+8>>2],h[e+12>>2]=E,S=g[t+24>>2],A=g[t+20>>2],f=g[t+40>>2],p=g[t+36>>2],y=g[t+8>>2],b=g[t>>2],w=g[t+4>>2],T=g[t+16>>2],u=g[t+32>>2],d=g[i+4>>2],m=g[i+8>>2],C=g[i>>2],h[e+28>>2]=0,P=u,u=g[e+8>>2],_=g[e+4>>2],v=x(x(d*u)-x(m*_)),I=p,p=m,m=g[e>>2],p=x(x(p*m)-x(u*C)),d=x(x(_*C)-x(d*m)),C=x(x(x(P*v)+x(I*p))+x(f*d)),g[e+24>>2]=C,S=x(x(x(v*T)+x(p*A))+x(d*S)),g[e+20>>2]=S,d=x(x(x(v*b)+x(w*p))+x(d*y)),g[e+16>>2]=d,y=g[n+24>>2],b=g[n+20>>2],w=g[n+40>>2],T=g[n+36>>2],I=g[n+8>>2],R=g[n>>2],N=g[n+4>>2],D=g[n+16>>2],f=g[n+32>>2],v=g[o+4>>2],p=g[o>>2],A=g[o+8>>2],h[e+44>>2]=0,P=f,f=x(x(_*A)-x(u*v)),u=x(x(u*p)-x(m*A)),_=x(x(m*v)-x(_*p)),m=x(x(x(P*f)+x(T*u))+x(w*_)),g[e+40>>2]=m,v=x(x(x(f*D)+x(u*b))+x(_*y)),g[e+36>>2]=v,u=x(x(x(R*f)+x(N*u))+x(_*I)),g[e+32>>2]=u,_=g[a+8>>2],p=g[a+4>>2],A=g[a>>2],h[e+60>>2]=0,A=x(A*d),g[e+48>>2]=A,p=x(p*S),g[e+52>>2]=p,_=x(_*C),g[e+56>>2]=_,f=g[c+8>>2],y=g[c+4>>2],b=g[c>>2],h[e+76>>2]=0,b=x(b*u),g[e+64>>2]=b,y=x(y*v),g[e+68>>2]=y,f=x(f*m),g[e+72>>2]=f,g[e+80>>2]=x(x(x(x(x(d*A)+x(S*p))+x(C*_))+s)+l)+x(x(x(u*b)+x(v*y))+x(m*f))}function Ha(e,t){var n=x(0),i=0,o=x(0),r=x(0),a=x(0);(n=g[e+404>>2])!=x(0)&&(o=g[t>>2],r=g[t+4>>2],a=g[t+8>>2],h[e+436>>2]=0,n=x(x(1)/n),g[e+432>>2]=a*n,g[e+428>>2]=n*r,g[e+424>>2]=n*o),i=h[t+4>>2],h[e+440>>2]=h[t>>2],h[e+444>>2]=i,i=h[t+12>>2],h[e+448>>2]=h[t+8>>2],h[e+452>>2]=i}function Va(e,t,n){yr(e+4|0,e+372|0,e+388|0,t,n)}function Wa(e,t,n,i,o,r,a,s,c,l){var p;for(z=p=z-48|0,h[p+40>>2]=e,h[p+36>>2]=t,h[p+32>>2]=n,h[p+28>>2]=i,h[p+24>>2]=o,h[p+20>>2]=r,h[p+16>>2]=a,h[p+12>>2]=s,h[p+8>>2]=c,h[p+4>>2]=l,e=h[p+40>>2],h[p+44>>2]=e,n=e+48|0,t=e;h[12+(z-16|0)>>2]=t,(0|n)!=(0|(t=i=t+16|0)););Zr(e,h[p+36>>2],h[p+32>>2],h[p+28>>2],h[p+24>>2],h[p+20>>2],h[p+16>>2],h[p+12>>2],h[p+8>>2],h[p+4>>2]),z=p+48|0}function qa(e,t){var n;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],g[e>>2]=g[e>>2]-g[h[n+8>>2]>>2],g[e+4>>2]=g[e+4>>2]-g[h[n+8>>2]+4>>2],g[e+8>>2]=g[e+8>>2]-g[h[n+8>>2]+8>>2]}function Ya(e){var t;return z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],g[t+8>>2]=_a(e),e=ee(e,t+8|0),z=t+16|0,e}function Xa(e,t,n){var i;z=i=z-32|0,h[i+28>>2]=t,h[i+24>>2]=n,t=h[i+28>>2],g[i+20>>2]=x(g[t+4>>2]*g[h[i+24>>2]+8>>2])-x(g[t+8>>2]*g[h[i+24>>2]+4>>2]),g[i+16>>2]=x(g[t+8>>2]*g[h[i+24>>2]>>2])-x(g[t>>2]*g[h[i+24>>2]+8>>2]),g[i+12>>2]=x(g[t>>2]*g[h[i+24>>2]+4>>2])-x(g[t+4>>2]*g[h[i+24>>2]>>2]),To(e,i+20|0,i+16|0,i+12|0),z=i+32|0}function Qa(e,t,n,i){var o;z=o=z-80|0,h[o+76>>2]=e,h[o+72>>2]=t,h[o+68>>2]=n,g[o+64>>2]=i,e=h[o+76>>2],g[o+44>>2]=0,g[o+40>>2]=0,g[o+36>>2]=0,To(t=o+48|0,o+44|0,o+40|0,o+36|0),g[o+12>>2]=0,g[o+8>>2]=0,g[o+4>>2]=0,To(n=o+16|0,o+12|0,o+8|0,o+4|0),ie(e,t,n),h[e>>2]=1308,h[e+84>>2]=h[o+72>>2],t=h[o+68>>2],n=h[t+4>>2],h[e+88>>2]=h[t>>2],h[e+92>>2]=n,n=h[t+12>>2],h[e+96>>2]=h[t+8>>2],h[e+100>>2]=n,g[e+104>>2]=g[o+64>>2],z=o+80|0}function Za(e,t,n){var i;z=i=z-32|0,h[i+28>>2]=t,h[i+24>>2]=n,g[i+20>>2]=g[h[i+28>>2]>>2]+g[h[i+24>>2]>>2],g[i+16>>2]=g[h[i+28>>2]+4>>2]+g[h[i+24>>2]+4>>2],g[i+12>>2]=g[h[i+28>>2]+8>>2]+g[h[i+24>>2]+8>>2],To(e,i+20|0,i+16|0,i+12|0),z=i+32|0}function Ja(e,t,n,i,o,r,s){var c,l;z=c=z-32|0,h[c+28>>2]=e,h[c+24>>2]=t,g[c+20>>2]=n,g[c+16>>2]=i,g[c+12>>2]=o,g[c+8>>2]=r,h[c+4>>2]=s,n=g[c+20>>2],s=h[c+24>>2],t=z-16|0,e=h[c+28>>2],h[t+12>>2]=e+80,h[t+8>>2]=s,g[h[h[t+12>>2]+12>>2]+(h[t+8>>2]<<2)>>2]=n,n=g[c+16>>2],s=h[c+24>>2],h[12+(t=z-16|0)>>2]=e+120,h[t+8>>2]=s,g[h[h[t+12>>2]+12>>2]+(h[t+8>>2]<<2)>>2]=n,n=g[c+12>>2],s=h[c+24>>2],h[12+(t=z-16|0)>>2]=e+100,h[t+8>>2]=s,g[h[h[t+12>>2]+12>>2]+(h[t+8>>2]<<2)>>2]=n,n=g[c+8>>2],s=h[c+24>>2],h[12+(t=z-16|0)>>2]=e+140,h[t+8>>2]=s,g[h[h[t+12>>2]+12>>2]+(h[t+8>>2]<<2)>>2]=n,s=h[c+4>>2],l=h[c+24>>2],h[12+(t=z-16|0)>>2]=e+160,h[t+8>>2]=l,h[h[h[t+12>>2]+12>>2]+(h[t+8>>2]<<2)>>2]=s,a[e+180|0]=1,z=c+32|0}function Ka(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[e+304>>2]=h[e+304>>2]+1,ha(e+4|0,h[n+8>>2]),z=n+16|0}function $a(e,t){var n,i=0;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Jt(e=h[n+12>>2],h[n+8>>2]),t=h[n+8>>2],i=h[t+52>>2],h[e+48>>2]=h[t+48>>2],h[e+52>>2]=i,i=h[t+60>>2],h[e+56>>2]=h[t+56>>2],h[e+60>>2]=i,z=n+16|0}function es(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]+8>>2]}function ts(e){e|=0;var t;z=t=z-16|0,h[t+12>>2]=e,(e=h[t+12>>2])&&mc(e),z=t+16|0}function ns(e){var t;z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],h[e+12>>2]&&(1&a[e+16|0]&&function(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,(e=h[n+8>>2])&&(h[6658]=h[6658]+1,r[h[5256]](e)),z=n+16|0}(e,h[e+12>>2]),h[e+12>>2]=0),z=t+16|0}function is(e,t){var n;for(h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=0,h[n+4>>2]=t,h[n>>2]=h[n+8>>2];h[n>>2]<h[n+4>>2];)h[n>>2]=h[n>>2]+1}function os(e,t){e|=0,t|=0;var n;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]+8>>2]=h[n+8>>2]}function rs(e,t){e|=0,t=x(t);var n;h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+4>>2]=g[n+8>>2]}function as(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+4>>2])}function ss(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],e=0|r[h[h[e>>2]+36>>2]](e),z=t+16|0,0|e}function cs(e,t){var n=0;e:if((0|t)>=1024){if(e*=898846567431158e293,(0|(n=t+-1023|0))<1024){t=n;break e}e*=898846567431158e293,t=((0|t)<3069?t:3069)+-2046|0}else(0|t)>-1023||(e*=22250738585072014e-324,(0|(n=t+1022|0))>-1023?t=n:(e*=22250738585072014e-324,t=((0|t)>-3066?t:-3066)+2044|0));return c(0,0),c(1,t+1023<<20),e*+l()}function ls(e,t,n,i,o){var a,s,c=0;c=(a=h[e+4>>2])>>8,s=e=h[e>>2],1&a&&(c=h[h[n>>2]+c>>2]),r[h[h[e>>2]+24>>2]](s,t,n+c|0,2&a?i:2,o)}function ps(e,t){var n=x(0),i=0,o=0,r=0,a=x(0),l=0,p=0,f=x(0),h=x(0),m=x(0),d=0,v=x(0),A=0,y=x(0),C=x(0),S=x(0),E=x(0);a=x(1);e:{t:{u(e);n:if(1065353216!=(0|(l=s(0)))&&(u(t),o=2147483647&(p=s(0)))){if(i=2147483647&l,!(o>>>0<2139095041&&i>>>0<=2139095040))return x(e+t);d=0,(0|l)>-1||(d=2,o>>>0>1266679807||(d=0,o>>>0<1065353216||(d=0,(0|o)==(A=o>>>(r=150-(o>>>23)|0))<<r&&(d=2-(1&A)|0)))),r=d;i:{if(1065353216!=(0|o)){if(2139095040!=(0|o))break i;if(1065353216==(0|i))break n;return i>>>0>=1065353217?(0|p)>-1?t:x(0):x((0|p)>-1?0:-t)}return(0|p)>-1?e:x(x(1)/e)}if(1073741824==(0|p))return x(e*e);if(!(1056964608!=(0|p)|(0|l)<0))return x(T(e));if(n=x(b(e)),2139095040==(1073741824|i)||!i){if(a=(0|p)<0?x(x(1)/n):n,(0|l)>-1)break n;return r|i+-1065353216?1==(0|r)?x(-a):a:(e=x(a-a),x(e/e))}if(!((0|l)>-1|r>>>0>1)){if(r-1)return e=x(e-e),x(e/e);a=x(-1)}if(o>>>0>=1291845633){if(i>>>0<=1065353207)return x((0|p)<0?x(a*x(1.0000000150474662e30))*x(1.0000000150474662e30):x(a*x(1.0000000031710769e-30))*x(1.0000000031710769e-30));if(i>>>0>=1065353224)return x((0|p)>0?x(a*x(1.0000000150474662e30))*x(1.0000000150474662e30):x(a*x(1.0000000031710769e-30))*x(1.0000000031710769e-30));e=x(n+x(-1)),n=x(e*x(1.44268798828125)),f=x(x(e*x(7052607543300837e-21))+x(x(x(e*e)*x(x(.5)-x(e*x(x(e*x(-.25))+x(.3333333432674408)))))*x(-1.4426950216293335))),c(0,-4096&(u(x(n+f)),s(0))),e=_(),v=x(e-n)}else r=1065353216|(l=8388607&(i=(o=i>>>0<8388608)?(u(x(n*x(16777216))),s(0)):i)),o=(i>>23)+(o?-151:-127)|0,i=0,l>>>0<1885298||(l>>>0<6140887?i=1:(r=r+-8388608|0,o=o+1|0)),v=g[20608+(l=i<<2)>>2],c(0,r),f=_(),h=g[l+20592>>2],m=x(f-h),y=x(x(1)/x(h+f)),c(0,-4096&(u(n=x(m*y)),s(0))),e=_(),C=x(e*e),S=e,E=m,c(0,4194304+((r>>1&-536875008|536870912)+(i<<21)|0)|0),m=_(),f=x(y*x(x(E-x(e*m))-x(e*x(f-x(m-h))))),m=x(x(n+e)*f),e=x(n*n),h=x(m+x(x(e*e)*x(x(e*x(x(e*x(x(e*x(x(e*x(x(e*x(.20697501301765442))+x(.23066075146198273)))+x(.2727281153202057)))+x(.3333333432674408)))+x(.4285714328289032)))+x(.6000000238418579)))),c(0,-4096&(u(x(x(C+x(3))+h)),s(0))),e=_(),m=x(S*e),n=x(x(f*e)+x(n*x(h-x(x(e+x(-3))-C)))),c(0,-4096&(u(x(m+n)),s(0))),e=_(),h=x(e*x(.9619140625)),f=x(g[l+20600>>2]+x(x(x(n-x(e-m))*x(.9617967009544373))+x(e*x(-.00011736857413779944)))),n=x(0|o),c(0,-4096&(u(x(x(v+x(h+f))+n)),s(0))),e=_(),v=x(x(x(e-n)-v)-h);if(c(0,-4096&p),h=_(),n=x(e*h),e=x(x(x(f-v)*t)+x(x(t-h)*e)),u(t=x(n+e)),(0|(r=s(0)))>=1124073473)break t;i=1124073472;i:{o:{if(1124073472==(0|r)){if(!(x(e+x(4.299566569443414e-8))>x(t-n)))break o;break t}if(i=2147483647&r,!(e<=x(t-n)^1|-1021968384!=(0|r))|i>>>0>=1125515265)break e;if(o=0,i>>>0<1056964609)break i}o=(8388607&(p=(8388608>>>(i>>>23)-126)+r|0)|8388608)>>>150-(i=p>>>23&255),o=(0|r)<0?0-o|0:o,n=x(n-(c(0,p&-8388608>>i+-127),_())),u(x(e+n)),r=s(0)}c(0,-32768&r),t=_(),f=x(t*x(.693145751953125)),n=x(x(t*x(14286065379565116e-22))+x(x(e-x(t-n))*x(.6931471824645996))),e=x(f+n),t=x(e*e),t=x(e-x(t*x(x(t*x(x(t*x(x(t*x(x(t*x(4.138136944220605e-8))+x(-16533901998627698e-22)))+x(661375597701408e-19)))+x(-.0027777778450399637)))+x(.1666666716337204)))),m=x(x(e*t)/x(t+x(-2))),t=x(n-x(e-f)),(0|(r=0|(u(e=x(x(e-x(m-x(t+x(e*t))))+x(1))),s(0)+(o<<23))))<=8388607?e=function(e,t){var n=0;i:if((0|t)>=128){if(e=x(e*x(17014118346046923e22)),(0|(n=t+-127|0))<128){t=n;break i}e=x(e*x(17014118346046923e22)),t=((0|t)<381?t:381)+-254|0}else(0|t)>-127||(e=x(e*x(11754943508222875e-54)),(0|(n=t+126|0))>-127?t=n:(e=x(e*x(11754943508222875e-54)),t=((0|t)>-378?t:-378)+252|0));return x(e*(c(0,1065353216+(t<<23)|0),_()))}(e,o):(c(0,r),e=_()),a=x(a*e)}return a}return x(x(a*x(1.0000000150474662e30))*x(1.0000000150474662e30))}return x(x(a*x(1.0000000031710769e-30))*x(1.0000000031710769e-30))}function us(e){var t;return z=t=z-16|0,g[t+8>>2]=e,g[t+8>>2]=function(e){var t;return z=t=z-16|0,g[t+12>>2]=e,g[t+8>>2]=6.2831854820251465,e=Io(g[t+12>>2],g[t+8>>2]),z=t+16|0,e}(g[t+8>>2]),g[t+8>>2]<x(-3.1415927410125732)?g[t+12>>2]=g[t+8>>2]+x(6.2831854820251465):g[t+8>>2]>x(3.1415927410125732)?g[t+12>>2]=g[t+8>>2]-x(6.2831854820251465):g[t+12>>2]=g[t+8>>2],z=t+16|0,g[t+12>>2]}function _s(e,t){var n;ms(e,t),(n=h[e+4>>2])&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+4>>2]=t,h[e+12>>2]=h[e+12>>2]+-1}function fs(e,t,n){var i=0;return(i=h[e+4>>2])?h[e+4>>2]=0:(h[6657]=h[6657]+1,i=0|r[h[5255]](44,16),h[i>>2]=0,h[i+4>>2]=0,h[i+40>>2]=0,h[i+32>>2]=0,h[i+36>>2]=0,h[i+24>>2]=0,h[i+28>>2]=0,h[i+16>>2]=0,h[i+20>>2]=0,h[i+8>>2]=0,h[i+12>>2]=0),h[i+36>>2]=n,h[i+32>>2]=0,h[i+40>>2]=0,n=h[t+4>>2],h[i>>2]=h[t>>2],h[i+4>>2]=n,n=h[t+12>>2],h[i+8>>2]=h[t+8>>2],h[i+12>>2]=n,n=h[t+20>>2],h[i+16>>2]=h[t+16>>2],h[i+20>>2]=n,n=h[t+28>>2],h[i+24>>2]=h[t+24>>2],h[i+28>>2]=n,hs(e,h[e>>2],i),h[e+12>>2]=h[e+12>>2]+1,i}function hs(e,t,n){var i=0,o=x(0),a=x(0),s=x(0),c=0;if(!h[e>>2])return h[e>>2]=n,void(h[n+32>>2]=0);if(i=h[t+40>>2])for(a=x(g[n>>2]+g[n+16>>2]),o=x(g[n+8>>2]+g[n+24>>2]),s=x(g[n+4>>2]+g[n+20>>2]);c=t+36|0,t=h[t+36>>2],t=h[c+((x(x(x(b(x(a-x(g[t>>2]+g[t+16>>2]))))+x(b(x(s-x(g[t+4>>2]+g[t+20>>2])))))+x(b(x(o-x(g[t+8>>2]+g[t+24>>2])))))<x(x(x(b(x(a-x(g[i>>2]+g[i+16>>2]))))+x(b(x(s-x(g[i+4>>2]+g[i+20>>2])))))+x(b(x(o-x(g[i+8>>2]+g[i+24>>2])))))^1)<<2)>>2],i=h[t+40>>2];);c=h[t+32>>2],(i=h[e+4>>2])?h[e+4>>2]=0:(h[6657]=h[6657]+1,i=0|r[h[5255]](44,16),h[i>>2]=0,h[i+4>>2]=0,h[i+40>>2]=0,h[i+32>>2]=0,h[i+36>>2]=0,h[i+24>>2]=0,h[i+28>>2]=0,h[i+16>>2]=0,h[i+20>>2]=0,h[i+8>>2]=0,h[i+12>>2]=0),h[i+36>>2]=0,h[i+40>>2]=0,h[i+32>>2]=c,a=g[n>>2],o=g[t>>2],g[i>>2]=a<o?a:o,a=g[n+16>>2],o=g[t+16>>2],g[i+16>>2]=a>o?a:o,a=g[n+4>>2],o=g[t+4>>2],g[i+4>>2]=a<o?a:o,a=g[n+20>>2],o=g[t+20>>2],g[i+20>>2]=a>o?a:o,a=g[n+8>>2],o=g[t+8>>2],g[i+8>>2]=a<o?a:o,a=g[n+24>>2],o=g[t+24>>2],g[i+24>>2]=a>o?a:o;e:if(c)for(h[36+(((h[h[t+32>>2]+40>>2]==(0|t))<<2)+c|0)>>2]=i,h[i+36>>2]=t,h[t+32>>2]=i,h[i+40>>2]=n,h[n+32>>2]=i,a=g[i>>2];;){if(e=i,!(g[(i=c)>>2]<=a^1|g[i+4>>2]<=g[e+4>>2]^1|g[i+8>>2]<=g[e+8>>2]^1|g[i+16>>2]>=g[e+16>>2]^1)&&g[i+20>>2]>=g[e+20>>2]&&g[i+24>>2]>=g[e+24>>2])break e;if(e=h[i+36>>2],a=g[e>>2],t=h[i+40>>2],a=a<(o=g[t>>2])?a:o,g[i>>2]=a,o=g[e+16>>2],s=g[t+16>>2],g[i+16>>2]=o>s?o:s,o=g[e+4>>2],s=g[t+4>>2],g[i+4>>2]=o<s?o:s,o=g[e+20>>2],s=g[t+20>>2],g[i+20>>2]=o>s?o:s,o=g[e+8>>2],s=g[t+8>>2],g[i+8>>2]=o<s?o:s,o=g[e+24>>2],s=g[t+24>>2],g[i+24>>2]=o>s?o:s,!(c=h[i+32>>2]))break}else h[i+36>>2]=t,h[t+32>>2]=i,h[i+40>>2]=n,h[n+32>>2]=i,h[e>>2]=i}function ms(e,t){var n=0,i=0,o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0);if(h[e>>2]==(0|t))return h[e>>2]=0,0;i=h[t+32>>2],n=h[36+(((h[i+40>>2]!=(0|t))<<2)+i|0)>>2];e:{if(t=h[i+32>>2])for(h[36+((((0|i)==h[t+40>>2])<<2)+t|0)>>2]=n,h[n+32>>2]=t,(n=h[e+4>>2])&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+4>>2]=i;;){if(A=g[t>>2],i=h[t+36>>2],o=g[i>>2],n=h[t+40>>2],o=o<(u=g[n>>2])?o:u,g[t>>2]=o,u=g[t+16>>2],a=(a=g[i+16>>2])>(_=g[n+16>>2])?a:_,g[t+16>>2]=a,_=g[t+4>>2],s=(s=g[i+4>>2])<(f=g[n+4>>2])?s:f,g[t+4>>2]=s,f=g[t+20>>2],c=(c=g[i+20>>2])>(m=g[n+20>>2])?c:m,g[t+20>>2]=c,m=g[t+8>>2],l=(l=g[i+8>>2])<(d=g[n+8>>2])?l:d,g[t+8>>2]=l,d=g[t+24>>2],p=(p=g[i+24>>2])>(v=g[n+24>>2])?p:v,g[t+24>>2]=p,!(f!=c|u!=a|A!=o|_!=s)&&m==l&&d==p)break e;if(!(t=h[t+32>>2]))break}else h[e>>2]=n,h[n+32>>2]=0,(t=h[e+4>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+4>>2]=i;t=h[e>>2]}return t}function ds(e,t){var n;h[t+40>>2]&&(ds(e,h[t+36>>2]),ds(e,h[t+40>>2])),h[e>>2]==(0|t)&&(h[e>>2]=0),(n=h[e+4>>2])&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+4>>2]=t}function vs(e){var t=0;return h[(e|=0)>>2]=16944,(t=h[e+160>>2])&&(m[e+164|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+160>>2]=0),h[e+160>>2]=0,h[e+152>>2]=0,h[e+156>>2]=0,a[e+164|0]=1,(t=h[e+136>>2])&&(m[e+140|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+136>>2]=0),h[e+136>>2]=0,h[e+128>>2]=0,h[e+132>>2]=0,a[e+140|0]=1,(t=h[e+116>>2])&&(m[e+120|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+116>>2]=0),h[e+116>>2]=0,h[e+108>>2]=0,h[e+112>>2]=0,a[e+120|0]=1,(t=h[e+96>>2])&&(m[e+100|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+96>>2]=0),h[e+96>>2]=0,h[e+88>>2]=0,h[e+92>>2]=0,a[e+100|0]=1,(t=h[e+76>>2])&&(m[e+80|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+76>>2]=0),h[e+76>>2]=0,h[e+68>>2]=0,h[e+72>>2]=0,a[e+80|0]=1,0|e}function gs(e,t,n,i){var o=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,d=0,v=0;if(!(!t|!n)){if(!(h[e+24>>2]>127|h[e+28>>2]>127)){if(h[6657]=h[6657]+1,o=0|r[h[5255]](1024,16),(0|(p=h[e+24>>2]))>=1)for(;l=(s=c<<3)+o|0,s=s+h[e+32>>2]|0,u=h[s+4>>2],h[l>>2]=h[s>>2],h[l+4>>2]=u,(0|p)!=(0|(c=c+1|0)););(p=h[e+32>>2])&&(m[e+36|0]&&p&&(h[6658]=h[6658]+1,r[h[5256]](p)),h[e+32>>2]=0),h[e+32>>2]=o,h[e+28>>2]=128,a[e+36|0]=1}for(h[e+24>>2]=128,o=h[e+32>>2],h[o+4>>2]=n,h[o>>2]=t,t=124,o=1;;){if(n=h[e+32>>2],p=o,l=h[4+(s=n+(u=(o=o+-1|0)<<3)|0)>>2],s=h[s>>2],(0|o)>(0|t)){if(!((0|(c=h[e+24>>2]))>=(0|(t=c<<1))|h[e+28>>2]>=(0|t))){if(c){if(h[6657]=h[6657]+1,n=0|r[h[5255]](c<<4,16),c=0,!((0|(f=h[e+24>>2]))<1))for(;d=(_=c<<3)+n|0,_=h[e+32>>2]+_|0,v=h[_+4>>2],h[d>>2]=h[_>>2],h[d+4>>2]=v,(0|f)!=(0|(c=c+1|0)););}else n=0;(c=h[e+32>>2])&&(m[e+36|0]&&c&&(h[6658]=h[6658]+1,r[h[5256]](c)),h[e+32>>2]=0),h[e+32>>2]=n,a[e+36|0]=1,h[e+28>>2]=t}h[e+24>>2]=t,t=t+-4|0}e:if((0|s)!=(0|l)){if(!(g[s>>2]<=g[l+16>>2]^1|g[s+16>>2]>=g[l>>2]^1|g[s+4>>2]<=g[l+20>>2]^1|g[s+20>>2]>=g[l+4>>2]^1||g[s+8>>2]<=g[l+24>>2]^1|g[s+24>>2]>=g[l+8>>2]^1))if(c=h[l+40>>2],h[s+40>>2]){if(o=h[s+36>>2],c){h[4+(n=n+u|0)>>2]=h[l+36>>2],h[n>>2]=o,o=h[s+40>>2],c=(n=p<<3)+h[e+32>>2]|0,h[c+4>>2]=h[l+36>>2],h[c>>2]=o,o=h[s+36>>2],c=n+h[e+32>>2]|0,h[c+12>>2]=h[l+40>>2],h[c+8>>2]=o,o=h[s+40>>2],n=n+h[e+32>>2]|0,h[n+20>>2]=h[l+40>>2],h[n+16>>2]=o,o=p+3|0;break e}h[4+(n=n+u|0)>>2]=l,h[n>>2]=o,n=h[s+40>>2],o=h[e+32>>2]+(p<<3)|0,h[o+4>>2]=l,h[o>>2]=n,o=p+1|0}else c?(h[4+(n=n+u|0)>>2]=h[l+36>>2],h[n>>2]=s,n=h[e+32>>2]+(p<<3)|0,h[n+4>>2]=h[l+40>>2],h[n>>2]=s,o=p+1|0):r[h[h[i>>2]+8>>2]](i,s,l)}else{if(!h[s+40>>2])break e;n=n+u|0,o=h[s+36>>2],h[n+4>>2]=o,h[n>>2]=o,o=(n=p<<3)+h[e+32>>2]|0,l=h[s+40>>2],h[o+4>>2]=l,h[o>>2]=l,o=h[s+40>>2],n=n+h[e+32>>2]|0,h[n+8>>2]=h[s+36>>2],h[n+12>>2]=o,o=p+2|0}if(!o)break}}}function As(e,t,n,i){for(var o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,m=0,d=0,g=0,A=0,y=0,x=0,b=0;;){for(y=n,f=h[e+12>>2],x=h[8+(r=f+((n+i|0)/2<<4)|0)>>2],u=h[r+4>>2],p=h[r>>2],r=i;;){a=-1,c=-1,(_=h[(o=(n<<4)+f|0)>>2])&&(c=h[_+12>>2]),a=p?h[p+12>>2]:a,s=-1,l=-1,(m=h[o+4>>2])&&(l=h[m+12>>2]),s=u?h[u+12>>2]:s;e:{t:if(!((0|c)>(0|a))){if(!((0|p)!=(0|_)|(0|l)>(0|s))){if((0|u)!=(0|m))break e;if(v[o+8>>2]>x>>>0)break t;break e}if((0|p)!=(0|_)|(0|l)<=(0|s))break e}n=n+1|0;continue}for(;;){a=(b=r<<4)+f|0,c=-1,s=-1,s=p?h[p+12>>2]:s,(d=h[a>>2])&&(c=h[d+12>>2]),l=-1,g=-1,g=u?h[u+12>>2]:g,(A=h[a+4>>2])&&(l=h[A+12>>2]);e:{t:if(!((0|s)>(0|c))){if(!((0|p)!=(0|d)|(0|g)>(0|l))){if((0|u)!=(0|A))break e;if(v[a+8>>2]<x>>>0)break t;break e}if((0|p)!=(0|d)|(0|g)<=(0|l))break e}r=r+-1|0;continue}break}if((0|n)<=(0|r)&&(l=h[o+8>>2],s=h[o+12>>2],c=h[a+4>>2],h[o>>2]=h[a>>2],h[o+4>>2]=c,c=h[a+12>>2],h[o+8>>2]=h[a+8>>2],h[o+12>>2]=c,o=h[e+12>>2]+b|0,h[o+4>>2]=m,h[o+8>>2]=l,h[o+12>>2]=s,h[o>>2]=_,r=r+-1|0,n=n+1|0),!((0|n)<=(0|r)))break;f=h[e+12>>2]}if((0|r)>(0|y)&&As(e,t,y,r),!((0|n)<(0|i)))break}}function ys(e,t){e|=0,t=x(t);var n=x(0),i=x(0),o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0);n=x(r[h[h[e>>2]+48>>2]](e)),i=x(r[h[h[e>>2]+48>>2]](e)),o=x(r[h[h[e>>2]+48>>2]](e)),g[e+48>>2]=t,t=g[e+40>>2],a=g[e+32>>2],s=g[e+36>>2],c=x(r[h[h[e>>2]+48>>2]](e)),l=x(r[h[h[e>>2]+48>>2]](e)),p=x(r[h[h[e>>2]+48>>2]](e)),h[e+44>>2]=0,g[e+36>>2]=x(i+s)-l,g[e+32>>2]=x(n+a)-c,g[e+40>>2]=x(o+t)-p}function xs(e){var t=0;e:{t:if(!((t=h[e+4>>2])>>>0>13)){n:switch(t+-2|0){case 6:return x(g[e+32>>2]*g[e+16>>2]);case 0:case 1:case 4:case 5:case 7:case 10:break t;case 2:case 3:break n;default:break e}break e}return x(r[h[h[e>>2]+48>>2]](e))}return g[e+48>>2]}function bs(e){var t=0,n=x(0);z=t=z-96|0,a[e+92|0]=1,!(0==m[24288])|1&a[24288]||(h[6049]=0,h[6050]=0,h[6048]=1065353216,h[6051]=0,h[6052]=0,h[6054]=0,h[6055]=0,h[6053]=1065353216,h[6056]=0,h[6057]=0,h[6061]=0,h[6062]=0,h[6060]=-1082130432,h[6058]=1065353216,h[6059]=0,h[6063]=0,h[6064]=0,h[6066]=0,h[6067]=0,h[6065]=-1082130432,h[6068]=0,h[6069]=0,h[6070]=-1082130432,h[6071]=0,h[6072]=0,h[6072]=1|h[6072]),t=Co(t,0,96),r[h[h[e>>2]+76>>2]](e,24192,t,6),n=g[e+48>>2],g[e+76>>2]=g[t>>2]+n,g[e+60>>2]=g[t+48>>2]-n,g[e+80>>2]=n+g[t+20>>2],g[e- -64>>2]=g[t+68>>2]-n,g[e+84>>2]=n+g[t+40>>2],g[e+68>>2]=g[t+88>>2]-n,z=t+96|0}function Cs(e){return Jo(e),h[e+56>>2]=0,h[e>>2]=13280,e}function Ss(e,t){var n,i=0;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=z-16|0,e=h[n+12>>2],h[t+12>>2]=e,h[n+4>>2]=h[h[t+12>>2]+4>>2],t=h[n+4>>2],h[12+(i=z-16|0)>>2]=e,h[h[i+12>>2]+8>>2]==(0|t)&&(h[12+(i=z-16|0)>>2]=e,t=h[h[i+12>>2]+4>>2],h[12+(i=z-16|0)>>2]=e,h[i+8>>2]=t,Kt(t=e,i=h[i+8>>2]?h[i+8>>2]<<1:1)),h[h[e+12>>2]+(h[e+4>>2]<<2)>>2]=h[h[n+8>>2]>>2],h[e+4>>2]=h[e+4>>2]+1,z=n+16|0}function Es(e,t,n){e|=0,t|=0,n|=0;var i;z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,a[i+7|0]=n,il(h[i+12>>2],h[i+8>>2],1&a[i+7|0]),z=i+16|0}function ws(){return 60}function Ts(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,h[h[e+12>>2]+260>>2]=h[e+8>>2],z=n+16|0}function Ps(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,h[h[e+12>>2]+264>>2]=h[e+8>>2],z=n+16|0}function Is(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+264>>2]}function Rs(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+272>>2]=g[e+8>>2],z=n+16|0}function Ns(){}function Ds(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+276>>2]=g[e+8>>2],z=n+16|0}function Ms(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Ka(h[n+12>>2],h[n+8>>2]),z=n+16|0}function Os(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,h[h[e+12>>2]+204>>2]=h[e+8>>2],z=n+16|0}function Ls(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,e=h[n+12>>2],h[e+304>>2]=h[e+304>>2]+1,g[e+240>>2]=g[n+8>>2]}(h[n+12>>2],g[n+8>>2]),z=n+16|0}function zs(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,e=h[n+12>>2],h[e+304>>2]=h[e+304>>2]+1,g[e+236>>2]=g[n+8>>2]}(h[n+12>>2],g[n+8>>2]),z=n+16|0}function Fs(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,e=h[n+12>>2],h[e+304>>2]=h[e+304>>2]+1,g[e+228>>2]=g[n+8>>2]}(h[n+12>>2],g[n+8>>2]),z=n+16|0}function Bs(e,t,n){t=x(t),h[(n|=0)>>2]=0,h[n+4>>2]=0,h[n+8>>2]=0,h[n+12>>2]=0}function Us(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,e=h[n+12>>2],h[e+304>>2]=h[e+304>>2]+1,g[e+232>>2]=g[n+8>>2]}(h[n+12>>2],g[n+8>>2]),z=n+16|0}function js(e,t,n,i,o){var s=x(0);return h[e+32>>2]=n,h[e+28>>2]=t,h[e+24>>2]=i,h[e+20>>2]=o,h[e+4>>2]=0,h[e+8>>2]=1065353216,h[e>>2]=5064,h[e+12>>2]=0,h[e+16>>2]=0,h[e+36>>2]=h[t+4>>2],h[e+40>>2]=h[n+4>>2],g[e+44>>2]=r[h[h[t>>2]+48>>2]](t),s=x(r[h[h[n>>2]+48>>2]](n)),h[e+72>>2]=1,h[e+76>>2]=1,h[e+60>>2]=-1,a[e+52|0]=0,g[e+48>>2]=s,e}function ks(e,t){var n=0,i=0,o=0;e:{t:{n:{i:{o:{r:if((0|(n=h[e>>2]))>=4){if(8&m[0|t]){o=n;break r}o=n+-1|0,h[e>>2]=o,n=h[16+(i=(o<<4)+e|0)>>2],h[e+60>>2]=h[i+12>>2],h[e+64>>2]=n,n=h[i+8>>2],h[e+52>>2]=h[i+4>>2],h[e+56>>2]=n,n=h[i+88>>2],h[e+132>>2]=h[i+84>>2],h[e+136>>2]=n,n=h[i+96>>2],h[e+140>>2]=h[i+92>>2],h[e+144>>2]=n,n=h[i+176>>2],h[e+220>>2]=h[i+172>>2],h[e+224>>2]=n,n=h[i+168>>2],h[e+212>>2]=h[i+164>>2],h[e+216>>2]=n}else if(o=3,3!=(0|n))break o;if(4&m[0|t])break i;o=o+-1|0,h[e>>2]=o,n=h[16+(i=(o<<4)+e|0)>>2],h[e+44>>2]=h[i+12>>2],h[e+48>>2]=n,n=h[i+8>>2],h[e+36>>2]=h[i+4>>2],h[e+40>>2]=n,n=h[i+88>>2],h[e+116>>2]=h[i+84>>2],h[e+120>>2]=n,n=h[i+96>>2],h[e+124>>2]=h[i+92>>2],h[e+128>>2]=n,n=h[i+176>>2],h[e+204>>2]=h[i+172>>2],h[e+208>>2]=n,n=h[i+168>>2],h[e+196>>2]=h[i+164>>2],h[e+200>>2]=n;break i}if(o=2,(0|n)<2)break n}if(2&m[0|t])break t;o=o+-1|0,h[e>>2]=o,n=h[16+(i=(o<<4)+e|0)>>2],h[e+28>>2]=h[i+12>>2],h[e+32>>2]=n,n=h[i+8>>2],h[e+20>>2]=h[i+4>>2],h[e+24>>2]=n,n=h[i+88>>2],h[e+100>>2]=h[i+84>>2],h[e+104>>2]=n,n=h[i+96>>2],h[e+108>>2]=h[i+92>>2],h[e+112>>2]=n,n=h[i+176>>2],h[e+188>>2]=h[i+172>>2],h[e+192>>2]=n,n=h[i+168>>2],h[e+180>>2]=h[i+164>>2],h[e+184>>2]=n;break t}if(o=1,1!=(0|n))break e}1&a[0|t]||(t=o+-1|0,h[e>>2]=t,t=h[4+(o=(n=t<<4)+(e+4|0)|0)>>2],h[e+4>>2]=h[o>>2],h[e+8>>2]=t,t=h[o+12>>2],h[e+12>>2]=h[o+8>>2],h[e+16>>2]=t,t=h[4+(o=n+(e+84|0)|0)>>2],h[e+84>>2]=h[o>>2],h[e+88>>2]=t,t=h[o+12>>2],h[e+92>>2]=h[o+8>>2],h[e+96>>2]=t,t=h[12+(n=n+(e+164|0)|0)>>2],h[e+172>>2]=h[n+8>>2],h[e+176>>2]=t,t=h[n+4>>2],h[e+164>>2]=h[n>>2],h[e+168>>2]=t)}}function Gs(e,t,n,i){var o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),h=x(0),m=x(0);return c=g[n+24>>2],o=g[t+24>>2],u=x(c-o),l=g[n+16>>2],a=g[t+16>>2],_=x(l-a),r=g[e+4>>2],p=g[n+20>>2],s=g[t+20>>2],f=x(p-s),h=g[e>>2],m=g[e+8>>2],x(x(o*x(x(_*r)-x(f*h)))+x(x(a*x(x(f*m)-x(u*r)))+x(s*x(x(u*h)-x(_*m)))))<x(0)?(r=x(x(x(a*a)+x(s*s))+x(o*o)),x(x(x(a*_)+x(s*f))+x(o*u))>x(0)||(r=x(x(x(l*l)+x(p*p))+x(c*c)),x(x(x(l*_)+x(p*f))+x(c*u))<x(0)||(r=x(x(x(x(l*l)+x(p*p))+x(c*c))*x(x(x(a*a)+x(s*s))+x(o*o))),o=x(x(x(l*a)+x(p*s))+x(c*o)),r=(o=x(x(r-x(o*o))/x(x(x(_*_)+x(f*f))+x(u*u))))>x(0)?o:x(0))),g[i>>2]=T(r),e=1):e=0,e}function Hs(e,t,n,i,o,r){var s=0,c=0,l=0;e:if(m[i+55|0]!=(0|t)){if(c=h[4924+(s=o<<2)>>2],x(x(x(x(g[i>>2]*g[n+16>>2])+x(g[i+4>>2]*g[n+20>>2]))+x(g[i+8>>2]*g[n+24>>2]))-g[i+16>>2])<x(-9999999747378752e-21)){if(!(e=ca(t=e,h[(e=i+20|0)+(c<<2)>>2],h[e+s>>2],n,0)))break e;return h[e+32>>2]=i,a[e+52|0]=o,a[52+(i+o|0)|0]=0,h[32+((o<<2)+i|0)>>2]=e,(t=h[r>>2])?(h[t+36>>2]=e,a[t+53|0]=2,h[e+40>>2]=t,a[e+54|0]=1):h[r+4>>2]=e,h[r>>2]=e,h[r+8>>2]=h[r+8>>2]+1,1}a[i+55|0]=t,Hs(e,t,n,h[32+((c<<2)+i|0)>>2],m[52+(i+c|0)|0],r)&&(o=t,t=h[s+4936>>2],Hs(e,o,n,h[32+((t<<2)+i|0)>>2],m[52+(t+i|0)|0],r)&&((t=h[i+48>>2])&&(h[t+44>>2]=h[i+44>>2]),(t=h[i+44>>2])&&(h[t+48>>2]=h[i+48>>2]),h[e+18496>>2]==(0|i)&&(h[e+18496>>2]=h[i+48>>2]),h[(t=e+18500|0)>>2]=h[t>>2]+-1,h[i+44>>2]=0,h[i+48>>2]=h[e+18504>>2],(t=h[e+18504>>2])&&(h[t+44>>2]=i),h[e+18504>>2]=i,l=1,h[(e=e+18508|0)>>2]=h[e>>2]+1))}return l}function Vs(e,t){var n,i=x(0),o=x(0),r=0,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=0;if(z=n=z-80|0,i=g[t+12>>2],u=g[e+264>>2],o=g[t+8>>2],(g[e+268>>2]!=i|u!=o|g[e+260>>2]!=g[t+4>>2]||g[e+256>>2]!=g[t>>2])&&(c=g[e+260>>2],l=g[e+256>>2],a=g[t>>2],s=g[t+4>>2],(p=x(x(x(a*a)+x(s*s))+x(o*o)))>x(0)?(g[e+268>>2]=i,i=x(x(1)/x(T(p))),_=x(o*i),g[e+264>>2]=_,p=x(s*i),g[e+260>>2]=p,f=x(a*i),g[e+256>>2]=f):(h[e+256>>2]=0,h[e+260>>2]=0,h[e+264>>2]=0,h[e+268>>2]=0,p=x(0)),r=h[e+8>>2])){e:if((m=x(x(x(f*f)+x(p*p))+x(_*_)))!=x(0)&&(d=x(x(x(l*l)+x(c*c))+x(u*u)))!=x(0))if(a=x(x(1)/x(T(m))),i=x(_*a),g[e+264>>2]=i,o=x(p*a),g[e+260>>2]=o,a=x(f*a),g[e+256>>2]=a,s=x(x(1)/x(T(d))),u=x(u*s),p=x(c*s),c=x(l*s),(s=x(x(u*i)+x(x(p*o)+x(c*a))))<x(-.9999998807907104)){if(x(b(i))>x(.7071067690849304)){c=o,o=x(x(1)/x(T(x(x(o*o)+x(i*i))))),s=x(c*o),a=x(o*x(-i)),o=x(0),i=x(0);break e}i=x(x(1)/x(T(x(x(o*o)+x(a*a))))),a=x(a*i),o=x(i*x(-o)),s=x(0),i=x(0)}else s=x(s+x(1)),_=x(T(x(s+s))),l=x(x(1)/_),s=x(x(x(p*a)-x(c*o))*l),a=x(x(x(c*i)-x(u*a))*l),o=x(x(x(u*o)-x(p*i))*l),i=x(_*x(.5));t=h[r+16>>2],h[n+24>>2]=h[r+12>>2],h[n+28>>2]=t,t=h[r+8>>2],h[n+16>>2]=h[r+4>>2],h[n+20>>2]=t,t=h[r+32>>2],h[n+40>>2]=h[r+28>>2],h[n+44>>2]=t,t=h[r+24>>2],h[n+32>>2]=h[r+20>>2],h[n+36>>2]=t,t=h[r+48>>2],h[n+56>>2]=h[r+44>>2],h[n+60>>2]=t,t=h[r+40>>2],h[n+48>>2]=h[r+36>>2],h[n+52>>2]=t,t=h[r+64>>2],h[n+72>>2]=h[r+60>>2],h[n+76>>2]=t,v=h[r+56>>2],h[(t=n)+64>>2]=h[r+52>>2],h[t+68>>2]=v,Oo(t+16|0,t),h[t+60>>2]=0,h[t+44>>2]=0,c=g[t+8>>2],l=g[t+4>>2],_=g[t+12>>2],f=g[t>>2],u=x(x(o*c)+x(x(x(i*l)-x(a*_))-x(s*f))),p=x(x(s*c)+x(x(x(o*f)+x(i*_))+x(a*l))),m=x(x(a*f)+x(x(x(i*c)-x(s*_))-x(o*l))),o=x(x(x(x(i*f)-x(o*_))-x(a*c))+x(s*l)),i=x(x(2)/x(x(p*p)+x(x(m*m)+x(x(o*o)+x(u*u))))),a=x(m*i),s=x(u*a),c=x(o*i),l=x(p*c),g[t+52>>2]=s+l,g[t+40>>2]=s-l,s=x(o*a),i=x(u*i),l=x(p*i),g[t+24>>2]=s+l,c=x(o*c),u=x(u*i),g[t+56>>2]=x(1)-x(c+u),_=c,c=x(m*a),g[t+36>>2]=x(1)-x(_+c),h[t+28>>2]=0,g[t+48>>2]=s-l,o=x(o*i),i=x(p*a),g[t+32>>2]=o+i,g[t+20>>2]=o-i,g[t+16>>2]=x(1)-x(u+c),e=h[e+8>>2],h[e+304>>2]=h[e+304>>2]+1,r=h[t+28>>2],h[e+12>>2]=h[t+24>>2],h[e+16>>2]=r,r=h[t+20>>2],h[e+4>>2]=h[t+16>>2],h[e+8>>2]=r,r=h[t+44>>2],h[e+28>>2]=h[t+40>>2],h[e+32>>2]=r,r=h[t+36>>2],h[e+20>>2]=h[t+32>>2],h[e+24>>2]=r,r=h[t+52>>2],h[e+36>>2]=h[t+48>>2],h[e+40>>2]=r,r=h[t+60>>2],h[e+44>>2]=h[t+56>>2],h[e+48>>2]=r,r=h[t+68>>2],h[e+52>>2]=h[t+64>>2],h[e+56>>2]=r,r=h[t+76>>2],h[e+60>>2]=h[t+72>>2],h[e+64>>2]=r}z=n+80|0}function Ws(e,t,n,i,o,c){var l,p=0,_=0,f=0,d=0,v=0;if(p=l=h[e+88>>2],(0|l)==h[e+92>>2]&&(p=l,!((0|l)>=(0|(f=l?l<<1:1))))){if(f?(h[6657]=h[6657]+1,d=0|r[h[5255]](y(f,152),16),p=h[e+88>>2]):p=l,(0|(_=p))>=1)for(p=0;qo((v=y(p,152))+d|0,h[e+96>>2]+v|0,152),(0|_)!=(0|(p=p+1|0)););(_=h[e+96>>2])&&(m[e+100|0]&&_&&(h[6658]=h[6658]+1,r[h[5256]](_)),h[e+96>>2]=0),h[e+96>>2]=d,h[e+92>>2]=f,a[e+100|0]=1,p=h[e+88>>2]}h[e+88>>2]=p+1,_=h[e+96>>2]+y(l,152)|0,h[_+140>>2]=o,function(e,t,n,i,o,r){var a=0,c=x(0),l=x(0),p=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=0,A=x(0),b=x(0),C=x(0),S=0,E=0,w=0,T=0,P=0,I=0,R=x(0),N=x(0),D=x(0),M=x(0),O=x(0);h[t+48>>2]=-2147483648,h[t+52>>2]=-2147483648,h[t+16>>2]=0,h[t+20>>2]=0,h[t+56>>2]=-2147483648,h[t+60>>2]=0,h[t+24>>2]=0,h[t+28>>2]=0,v=h[e+16>>2],e=h[240+(v+y(i,244)|0)>>2],a=h[240+(y(o,244)+v|0)>>2],h[t+148>>2]=o,h[t+144>>2]=i,h[t+132>>2]=0,g[t+104>>2]=r,h[t+96>>2]=0,h[t+100>>2]=0,l=g[n>>2],b=g[n+4>>2],p=g[n+8>>2],h[t+12>>2]=0,g[t+8>>2]=-p,c=x(-b),g[t+4>>2]=c,C=x(-l),g[t>>2]=C,E=t,e?(u(x(x(x(x(g[e+360>>2]*c)-x(l*g[e+356>>2]))-x(p*g[e+364>>2]))*g[e+612>>2])),w=s(0),u(x(x(x(x(g[e+344>>2]*c)-x(l*g[e+340>>2]))-x(p*g[e+348>>2]))*g[e+608>>2])),T=s(0),u(x(x(x(x(g[e+328>>2]*c)-x(l*g[e+324>>2]))-x(p*g[e+332>>2]))*g[e+604>>2])),S=s(0)):S=0,h[E+64>>2]=S,h[t+76>>2]=0,h[t+72>>2]=w,h[t+68>>2]=T,_=g[n>>2],f=g[n+4>>2],m=g[n+8>>2],h[t+44>>2]=h[n+12>>2],g[t+40>>2]=m,g[t+36>>2]=f,g[t+32>>2]=_,n=0,a&&(u(x(x(x(x(_*g[a+356>>2])+x(f*g[a+360>>2]))+x(m*g[a+364>>2]))*g[a+612>>2])),P=s(0),u(x(x(x(x(_*g[a+324>>2])+x(f*g[a+328>>2]))+x(m*g[a+332>>2]))*g[a+604>>2])),I=s(0),u(x(x(x(x(_*g[a+340>>2])+x(f*g[a+344>>2]))+x(m*g[a+348>>2]))*g[a+608>>2])),n=s(0)),h[t+80>>2]=I,h[t+92>>2]=0,h[t+88>>2]=P,h[t+84>>2]=n,e&&(A=x(x(x(g[e+360>>2]*c)-x(l*g[e+356>>2]))-x(p*g[e+364>>2])),R=x(x(x(g[e+344>>2]*c)-x(l*g[e+340>>2]))-x(p*g[e+348>>2])),d=x(x(x(g[e+328>>2]*c)-x(l*g[e+324>>2]))-x(p*g[e+332>>2]))),n=t,l=x(x(x(x(R*c)-x(l*d))-x(p*A))+x(0)),a?(N=x(x(x(_*g[a+356>>2])+x(f*g[a+360>>2]))+x(m*g[a+364>>2])),D=x(x(x(_*g[a+340>>2])+x(f*g[a+344>>2]))+x(m*g[a+348>>2])),c=x(x(x(g[a+324>>2]*_)+x(g[a+328>>2]*f))+x(g[a+332>>2]*m))):c=x(0),A=x(x(1)/x(l+x(x(x(c*_)+x(D*f))+x(N*m)))),g[n+108>>2]=A,l=x(0),c=x(0),d=x(0),e&&(e=y(i,244)+v|0,l=x(x(x(x(g[e+176>>2]+g[e+208>>2])*x(0))+x(x(g[e+180>>2]+g[e+212>>2])*x(0)))+x(x(g[e+184>>2]+g[e+216>>2])*x(0))),M=g[e+196>>2],d=g[e+192>>2],c=g[e+200>>2]),d=x(l+x(x(x(d*C)-x(b*M))-x(p*c))),a?(e=y(o,244)+v|0,l=x(x(x(x(g[e+176>>2]+g[e+208>>2])*x(-0))+x(x(g[e+180>>2]+g[e+212>>2])*x(-0)))+x(x(g[e+184>>2]+g[e+216>>2])*x(-0))),O=g[e+200>>2],c=g[e+196>>2],p=g[e+192>>2]):(l=x(-0),c=x(0),p=x(0)),g[t+124>>2]=r,g[t+116>>2]=0,g[t+120>>2]=-r,g[t+112>>2]=A*x(x(0)-x(d+x(l+x(x(m*O)+x(x(f*c)+x(_*p))))))}(e,_,t,n,i,c)}function qs(e,t,n){var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),h=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0);return i=g[e+552>>2],o=g[t>>2],r=g[e+568>>2],a=g[t+4>>2],s=g[e+584>>2],c=g[t+8>>2],p=g[e+620>>2],u=g[e+636>>2],l=g[e+652>>2],_=x(x(x(p*g[n>>2])+x(u*g[n+4>>2]))+x(l*g[n+8>>2])),f=g[t+16>>2],h=g[t+20>>2],m=g[t+24>>2],d=x(x(x(p*g[n+16>>2])+x(u*g[n+20>>2]))+x(l*g[n+24>>2])),v=x(x(x(x(x(i*o)+x(r*a))+x(s*c))*_)+x(x(x(x(i*f)+x(r*h))+x(s*m))*d)),A=i,i=g[t+32>>2],y=r,r=g[t+36>>2],b=s,s=g[t+40>>2],l=x(x(x(p*g[n+32>>2])+x(u*g[n+36>>2]))+x(l*g[n+40>>2])),p=o,o=g[e+556>>2],u=a,a=g[e+572>>2],C=c,c=g[e+588>>2],x(So(x(v+x(x(x(x(A*i)+x(y*r))+x(b*s))*l)),x(x(x(x(x(x(p*o)+x(u*a))+x(C*c))*_)+x(x(x(x(f*o)+x(h*a))+x(m*c))*d))+x(x(x(x(i*o)+x(r*a))+x(s*c))*l)))*g[e+732>>2])}function Ys(e,t,n,i,o){var r,s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),re=x(0),ae=x(0),se=x(0),ce=x(0),le=x(0),pe=x(0),ue=x(0),_e=x(0),fe=x(0),he=x(0),me=x(0),de=x(0),ve=x(0),ge=x(0),Ae=x(0),ye=x(0),xe=x(0),be=x(0),Ce=x(0),Se=x(0),Ee=x(0),we=x(0),Te=x(0),Pe=x(0),Ie=x(0),Re=x(0),Ne=0,De=x(0),Me=x(0),Oe=x(0),Le=x(0),ze=x(0),Fe=x(0);z=r=z-80|0,a[e+525|0]=0,a[e+526|0]=0,h[e+500>>2]=0,h[e+504>>2]=0;e:if(m[e+527|0]|!m[e+552|0]){Oo(t,r+16|0),Oo(e+300|0,r),s=g[r+24>>2],c=g[r+8>>2],l=g[r+4>>2],p=g[r+20>>2],A=g[r+12>>2],B=g[r+28>>2],w=g[r+16>>2],R=g[r>>2],Oo(n,r+16|0),Oo(e+364|0,r),F=x(-0),U=x(1),M=x(x(x(R*s)+x(x(A*p)+x(B*l)))-x(w*c)),y=g[r+28>>2],O=g[r+8>>2],v=g[r+12>>2],d=g[r+24>>2],C=g[r+16>>2],V=g[r+4>>2],f=g[r>>2],N=g[r+20>>2],_=x(x(x(x(y*O)+x(v*d))+x(C*V))-x(f*N)),G=x(x(x(x(B*R)+x(w*A))+x(p*c))-x(s*l)),P=x(x(x(x(y*v)-x(f*C))-x(N*V))-x(O*d)),H=x(x(x(x(B*A)-x(R*w))-x(p*l))-x(c*s)),I=x(x(x(x(y*f)+x(C*v))+x(N*O))-x(d*V)),B=x(x(x(x(B*c)+x(A*s))+x(w*l))-x(R*p)),A=x(x(x(f*d)+x(x(v*N)+x(y*V)))-x(C*O)),w=x(x(M*_)+x(x(x(G*P)-x(H*I))-x(B*A))),R=x(x(G*A)+x(x(x(B*P)-x(H*_))-x(M*I))),y=x(x(B*_)+x(x(x(G*I)+x(H*P))+x(M*A))),c=x(y*x(0)),l=x(w*x(0)),s=x(x(R+c)-l),O=x(x(B*I)+x(x(x(M*P)-x(H*A))-x(G*_))),c=x(x(c+l)-O),p=x(O*x(0)),v=x(R*x(0)),l=x(x(x(-w)-p)-v),p=x(x(y+p)-v),d=v=x(x(w*s)+x(x(x(y*c)-x(R*l))-x(O*p))),f=x(v*v),v=x(x(O*c)+x(x(x(y*p)-x(w*l))-x(R*s))),s=x(x(R*p)+x(x(x(y*s)-x(O*l))-x(w*c))),c=x(x(1)/x(T(x(f+x(x(v*v)+x(s*s)))))),p=x(d*c),s=x(s*c),l=x(v*c),(c=x(x(p*x(0))+x(x(s*x(0))+l)))<x(-.9999998807907104)||(U=x(l*x(0)),c=x(c+x(1)),c=x(T(x(c+c))),l=x(x(1)/c),u=x(x(s-U)*l),F=x(x(x(p*x(0))-x(s*x(0)))*l),L=x(c*x(.5)),U=x(x(U-p)*l)),s=x(x(1)/x(T(x(x(x(x(F*F)+x(U*U))+x(u*u))+x(L*L))))),U=x(U*s),V=x(L*s),v=x(u*s),F=x(F*s);t:if((Ne=(c=g[e+444>>2])>=(f=g[e+456>>2]))&&(d=g[e+448>>2])>=f){if(p=mr(x(S(x(E(V,x(-1))),x(1)))),C=x(p+p),s=x(0),C>x(1.1920928955078125e-7)&&(p=x(x(1)/x(T(x(x(v*v)+x(x(F*F)+x(U*U)))))),l=x(v*p),u=x(F*p),p=x(U*p),s=c,x(b(p))>x(1.1920928955078125e-7)&&(s=x(x(l*l)/x(p*p)),s=x(T(x(x(s+x(1))/x(x(s/x(c*c))+x(x(1)/x(d*d)))))))),D=g[e+428>>2],!(C>(f=x(s*D))))break t;a[e+526|0]=1,L=x(1),N=x(C-f),g[e+504>>2]=N,g[e+528>>2]=C<s^1|D<x(.9999998807907104)^1?L:x(N/x(s-f)),x(b(p))>x(1.1920928955078125e-7)&&(s=x(b(x(p*x(x(d/c)*x(x(-l)/p))))),s=l<x(0)?s:x(-s),c=x(x(1)/x(T(x(x(x(u*u)+x(p*p))+x(s*s))))),l=x(c*x(-s)),p=x(p*c),u=x(u*c)),h[e+536>>2]=0,h[e+540>>2]=0,h[e+472>>2]=0,h[e+544>>2]=0,h[e+548>>2]=0,s=x(-p),d=x(x(x(P*s)-x(_*u))+x(I*l)),C=x(x(A*u)+x(x(I*s)-x(P*l))),f=x(x(x(I*u)+x(A*p))+x(_*l)),l=x(x(_*p)+x(x(A*x(-l))-x(P*u))),s=x(x(I*d)+x(x(x(P*C)-x(_*f))-x(A*l))),g[e+468>>2]=s,c=x(x(_*l)+x(x(x(P*d)-x(A*f))-x(I*C))),g[e+464>>2]=c,l=x(x(A*C)+x(x(x(P*l)-x(I*f))-x(_*d))),g[e+460>>2]=l,g[e+492>>2]=x(1)/x(x(x(x(l*x(x(x(l*g[i>>2])+x(g[i+16>>2]*c))+x(g[i+32>>2]*s)))+x(c*x(x(x(l*g[i+4>>2])+x(c*g[i+20>>2]))+x(s*g[i+36>>2]))))+x(s*x(x(x(l*g[i+8>>2])+x(c*g[i+24>>2]))+x(s*g[i+40>>2]))))+x(x(x(l*x(x(x(l*g[o>>2])+x(c*g[o+16>>2]))+x(s*g[o+32>>2])))+x(c*x(x(x(l*g[o+4>>2])+x(c*g[o+20>>2]))+x(s*g[o+36>>2]))))+x(s*x(x(x(l*g[o+8>>2])+x(c*g[o+24>>2]))+x(s*g[o+40>>2])))))}else{u=g[t>>2],s=g[e+308>>2],N=g[t+4>>2],l=g[e+324>>2],L=g[t+8>>2],C=g[e+340>>2],ae=x(x(x(u*s)+x(N*l))+x(L*C)),D=g[e+364>>2],k=g[e+380>>2],W=g[e+396>>2],p=x(x(x(D*g[n>>2])+x(k*g[n+4>>2]))+x(W*g[n+8>>2])),Y=g[t+16>>2],X=g[t+20>>2],Q=g[t+24>>2],se=x(x(x(Y*s)+x(X*l))+x(Q*C)),d=x(x(x(D*g[n+16>>2])+x(k*g[n+20>>2]))+x(W*g[n+24>>2])),Z=g[t+32>>2],J=g[t+36>>2],K=g[t+40>>2],ce=x(x(x(Z*s)+x(J*l))+x(K*C)),C=x(x(x(D*g[n+32>>2])+x(k*g[n+36>>2]))+x(W*g[n+40>>2])),s=x(x(x(ae*p)+x(se*d))+x(ce*C)),l=g[e+304>>2],D=g[e+320>>2],k=g[e+336>>2],W=x(x(x(u*l)+x(N*D))+x(L*k)),le=x(x(x(Y*l)+x(X*D))+x(Q*k)),pe=x(x(x(Z*l)+x(J*D))+x(K*k)),l=x(x(x(W*p)+x(le*d))+x(pe*C)),D=g[e+300>>2],j=x(D*u),u=g[e+316>>2],k=g[e+332>>2],N=x(x(j+x(u*N))+x(k*L)),L=x(x(x(D*Y)+x(u*X))+x(k*Q)),D=x(x(x(D*Z)+x(u*J))+x(k*K)),u=x(x(x(N*p)+x(L*d))+x(D*C));n:if(c<f){if((c=g[e+448>>2])<f){if(x(b(s))<x(1.1920928955078125e-7)&&x(b(l))<x(1.1920928955078125e-7))break t;a[e+526|0]=1,h[e+472>>2]=0,g[e+468>>2]=-x(x(L*p)-x(N*d)),g[e+464>>2]=-x(x(N*C)-x(D*p)),g[e+460>>2]=-x(x(D*d)-x(L*C));break t}if(x(b(s))<x(1.1920928955078125e-7)&&x(b(u))<x(1.1920928955078125e-7))break n;if(a[e+526|0]=1,!(c>=f))break n;if((f=So(s,u))>c){s=No(c),u=Ro(c),l=x(0);break n}if(l=x(0),!(f<x(-c)))break n;u=Ro(c),s=x(-No(c))}else x(b(l))<x(1.1920928955078125e-7)&&x(b(u))<x(1.1920928955078125e-7)||(a[e+526|0]=1,Ne&&((f=So(l,u))>c?(l=No(c),u=Ro(c),s=x(0)):(s=x(0),f<x(-c)&&(u=Ro(c),l=x(-No(c))))));h[e+472>>2]=0,c=x(x(ce*s)+x(x(pe*l)+x(D*u))),f=x(x(ae*s)+x(x(W*l)+x(N*u))),l=x(x(se*s)+x(x(le*l)+x(L*u))),s=x(x(1)/x(T(x(x(c*c)+x(x(f*f)+x(l*l)))))),u=x(l*s),f=x(f*s),l=x(x(p*u)-x(d*f)),N=x(-l),g[e+468>>2]=N,c=x(c*s),s=x(x(C*f)-x(p*c)),p=x(-s),g[e+464>>2]=p,c=x(x(d*c)-x(C*u)),u=x(-c),g[e+460>>2]=u,s=x(T(x(x(x(c*c)+x(s*s))+x(l*l)))),g[e+504>>2]=s,x(b(s))<x(1.1920928955078125e-7)||(s=x(x(1)/s),g[e+468>>2]=s*N,g[e+464>>2]=s*p,g[e+460>>2]=s*u)}if((d=g[e+452>>2])>=x(0)){if(p=x(x(R*v)+x(x(O*U)+x(x(y*V)+x(w*F)))),s=x(x(w*U)+x(x(x(R*V)-x(y*v))-x(O*F))),c=x(x(O*v)+x(x(x(w*V)-x(y*F))-x(R*U))),l=x(x(R*F)+x(x(x(O*V)-x(y*U))-x(w*v))),u=x(x(1)/x(T(x(x(p*p)+x(x(s*s)+x(x(c*c)+x(l*l))))))),s=x(s*u),l=x(l*u),c=x(c*u),u=x(p*u),p=mr(x(S(x(E(u,x(-1))),x(1)))),(p=x(p+p))>x(3.1415927410125732)&&(u=mr(x(S(x(E(x(-u),x(-1))),x(1)))),p=x(u+u),l=x(-l),c=x(-c),s=x(-s)),g[e+512>>2]=p,p>x(1.1920928955078125e-7)&&(u=x(x(1)/x(T(x(x(x(c*c)+x(l*l))+x(s*s))))),s=x(s*u),l=x(l*u),c=x(c*u)),R=g[e+428>>2],p>(w=x(d*R))&&(a[e+525|0]=1,y=x(p-w),g[e+508>>2]=y,t=e,v=x(1),p<d&&(v=x(1),R<x(.9999998807907104)&&(v=x(y/x(d-w)))),g[t+532>>2]=v,h[e+488>>2]=0,u=x(-l),w=x(x(x(P*u)-x(_*c))+x(I*s)),R=x(x(A*c)+x(x(I*u)-x(P*s))),y=x(x(x(I*c)+x(A*l))+x(_*s)),O=x(x(_*l)+x(x(A*x(-s))-x(P*c))),u=x(x(I*w)+x(x(x(P*R)-x(_*y))-x(A*O))),g[e+484>>2]=u,p=x(x(_*O)+x(x(x(P*w)-x(A*y))-x(I*R))),g[e+480>>2]=p,_=x(x(A*R)+x(x(x(P*O)-x(I*y))-x(_*w))),g[e+476>>2]=_,g[e+496>>2]=x(1)/x(x(x(x(_*x(x(x(_*g[i>>2])+x(g[i+16>>2]*p))+x(g[i+32>>2]*u)))+x(p*x(x(x(_*g[i+4>>2])+x(p*g[i+20>>2]))+x(u*g[i+36>>2]))))+x(u*x(x(x(_*g[i+8>>2])+x(p*g[i+24>>2]))+x(u*g[i+40>>2]))))+x(x(x(_*x(x(x(_*g[o>>2])+x(p*g[o+16>>2]))+x(u*g[o+32>>2])))+x(p*x(x(x(_*g[o+4>>2])+x(p*g[o+20>>2]))+x(u*g[o+36>>2]))))+x(u*x(x(x(_*g[o+8>>2])+x(p*g[o+24>>2]))+x(u*g[o+40>>2])))))),!m[e+526|0])break e;h[e+548>>2]=0,p=x(-l),u=x(x(x(H*p)-x(B*c))+x(G*s)),p=x(x(M*c)+x(x(G*p)-x(H*s))),_=x(x(x(G*c)+x(M*l))+x(B*s)),s=x(x(B*l)+x(x(M*x(-s))-x(H*c))),g[e+544>>2]=x(G*u)+x(x(x(H*p)-x(B*_))-x(M*s)),g[e+540>>2]=x(B*s)+x(x(x(H*u)-x(M*_))-x(G*p)),g[e+536>>2]=x(M*p)+x(x(x(H*s)-x(G*_))-x(B*u))}else h[e+512>>2]=0}else{if(De=g[n+52>>2],Me=g[n+56>>2],V=g[e+412>>2],f=g[e+416>>2],N=g[e+420>>2],Oe=g[t+52>>2],Le=g[t+56>>2],L=g[e+348>>2],D=g[e+352>>2],k=g[e+356>>2],u=g[n+20>>2],p=g[n+24>>2],_=g[t+20>>2],P=g[t+24>>2],W=g[e+308>>2],Y=g[e+324>>2],X=g[e+340>>2],Q=g[e+316>>2],Z=g[e+332>>2],J=g[e+304>>2],I=g[t+36>>2],K=g[e+320>>2],A=g[t+40>>2],ae=g[e+336>>2],se=g[e+372>>2],ce=g[e+388>>2],le=g[e+404>>2],pe=g[e+368>>2],de=g[e+384>>2],ve=g[e+400>>2],c=g[e+568>>2],M=g[e+564>>2],s=g[e+556>>2],l=g[e+560>>2],G=g[n+36>>2],ge=g[e+380>>2],H=g[n+40>>2],Ae=g[e+396>>2],ze=g[n+48>>2],B=g[n+8>>2],w=g[n+4>>2],R=g[n>>2],Fe=g[t+48>>2],y=g[t+8>>2],O=g[t>>2],U=g[t+4>>2],v=g[n+16>>2],F=g[t+16>>2],ye=g[e+300>>2],d=g[t+32>>2],C=g[n+32>>2],xe=g[e+364>>2],h[r+76>>2]=0,h[r+60>>2]=0,h[r+44>>2]=0,ue=x(x(x(W*d)+x(Y*I))+x(X*A)),j=x(x(2)/x(x(x(x(s*s)+x(l*l))+x(M*M))+x(c*c))),$=x(s*j),ee=x(s*$),q=x(l*j),te=x(l*q),be=x(x(1)-x(ee+te)),_e=x(x(x(se*C)+x(ce*G))+x(le*H)),j=x(M*j),ne=x(s*j),ie=x(c*q),Ce=x(ne+ie),fe=x(x(x(xe*C)+x(ge*G))+x(Ae*H)),oe=x(l*j),re=x(c*$),Se=x(oe-re),l=x(x(x(pe*C)+x(de*G))+x(ve*H)),$=x(x(be*_e)+x(x(Ce*fe)+x(Se*l))),he=x(x(x(ye*d)+x(Q*I))+x(Z*A)),Ee=x(ne-ie),M=x(M*j),we=x(x(1)-x(te+M)),q=x(s*q),j=x(c*j),Te=x(q+j),s=x(x(Ee*_e)+x(x(we*fe)+x(Te*l))),c=x(x(x(J*d)+x(K*I))+x(ae*A)),Pe=x(oe+re),Ie=x(q-j),Re=x(x(1)-x(ee+M)),M=x(x(Pe*_e)+x(x(Ie*fe)+x(Re*l))),g[r+56>>2]=x(ue*$)+x(x(he*s)+x(c*M)),j=x(x(x(W*F)+x(Y*_))+x(X*P)),q=x(x(x(ye*F)+x(Q*_))+x(Z*P)),ee=x(x(x(J*F)+x(K*_))+x(ae*P)),g[r+52>>2]=x(j*$)+x(x(q*s)+x(ee*M)),te=x(x(x(se*v)+x(ce*u))+x(le*p)),ne=x(x(x(xe*v)+x(ge*u))+x(Ae*p)),ie=x(x(x(pe*v)+x(de*u))+x(ve*p)),oe=x(x(be*te)+x(x(Ce*ne)+x(Se*ie))),re=x(x(Ee*te)+x(x(we*ne)+x(Te*ie))),me=x(x(Pe*te)+x(x(Ie*ne)+x(Re*ie))),g[r+40>>2]=x(ue*oe)+x(x(he*re)+x(c*me)),g[r+36>>2]=x(j*oe)+x(x(q*re)+x(ee*me)),F=x(-x(Oe+x(x(x(F*L)+x(_*D))+x(P*k)))),_=x(x(x(O*W)+x(U*Y))+x(y*X)),W=x(Fe+x(x(x(O*L)+x(U*D))+x(y*k))),A=x(Le+x(x(x(d*L)+x(I*D))+x(A*k))),d=x(x(x(j*F)-x(_*W))-x(ue*A)),P=x(x(x(ye*O)+x(Q*U))+x(Z*y)),L=x(x(x(q*F)-x(P*W))-x(he*A)),I=x(x(x(O*J)+x(U*K))+x(y*ae)),y=x(x(x(ee*F)-x(I*W))-x(c*A)),g[r+72>>2]=x(x(d*$)+x(x(L*s)+x(y*M)))+x(x(x(_e*x(0))+x(x(fe*x(0))+x(l*x(0))))+x(Me+x(x(x(C*V)+x(G*f))+x(H*N)))),g[r+68>>2]=x(x(d*oe)+x(x(L*re)+x(y*me)))+x(x(x(te*x(0))+x(x(ne*x(0))+x(ie*x(0))))+x(De+x(x(x(v*V)+x(u*f))+x(p*N)))),h[r+28>>2]=0,g[r+48>>2]=x(_*$)+x(x(P*s)+x(I*M)),g[r+32>>2]=x(_*oe)+x(x(P*re)+x(I*me)),s=x(x(x(xe*R)+x(ge*w))+x(Ae*B)),l=x(x(x(R*pe)+x(w*de))+x(B*ve)),u=x(x(x(R*se)+x(w*ce))+x(B*le)),p=x(x(x(Ce*s)+x(Se*l))+x(be*u)),A=x(x(x(we*s)+x(Te*l))+x(Ee*u)),v=c,c=x(x(x(Ie*s)+x(Re*l))+x(Pe*u)),g[r+24>>2]=x(ue*p)+x(x(he*A)+x(v*c)),g[r+20>>2]=x(j*p)+x(x(q*A)+x(ee*c)),g[r+16>>2]=x(_*p)+x(x(P*A)+x(I*c)),g[r+64>>2]=x(x(d*p)+x(x(L*A)+x(y*c)))+x(x(x(x(s*x(0))+x(l*x(0)))+x(u*x(0)))+x(ze+x(x(x(R*V)+x(w*f))+x(B*N)))),Oo(r+16|0,r),s=g[r>>2],c=g[r+4>>2],l=g[r+8>>2],u=x(x(x(s*s)+x(c*c))+x(l*l)),x(b(u))<x(1.1920928955078125e-7))break e;if(h[e+472>>2]=0,u=x(x(1)/x(T(u))),g[e+468>>2]=u*l,g[e+464>>2]=u*c,g[e+460>>2]=u*s,s=mr(x(S(x(E(g[r+12>>2],x(-1))),x(1)))),s=x(s+s),g[e+504>>2]=s,x(b(s))<x(1.1920928955078125e-7))break e;a[e+526|0]=1}z=r+80|0}function Xs(e,t,n){var i,o,r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0);i=m[e+180|0],m[e+48|0]&&!i?(R=g[n+52>>2],N=g[n+56>>2],d=g[e+164>>2],v=g[e+168>>2],A=g[e+172>>2],r=g[n+20>>2],a=g[n+24>>2],y=g[e+132>>2],P=g[e+148>>2],b=g[e+120>>2],C=g[e+136>>2],S=g[e+152>>2],I=g[e+124>>2],s=g[n+36>>2],E=g[e+140>>2],u=g[n+40>>2],w=g[e+156>>2],D=g[n+48>>2],l=g[n+8>>2],c=g[n>>2],p=g[n+4>>2],_=g[n+16>>2],T=g[e+116>>2],f=g[n+32>>2],h[e+884>>2]=0,h[e+868>>2]=0,h[e+852>>2]=0,h[e+836>>2]=0,g[e+864>>2]=x(x(I*f)+x(E*s))+x(w*u),g[e+860>>2]=x(x(b*f)+x(C*s))+x(S*u),g[e+856>>2]=x(x(T*f)+x(y*s))+x(P*u),g[e+848>>2]=x(x(I*_)+x(E*r))+x(w*a),g[e+844>>2]=x(x(b*_)+x(C*r))+x(S*a),g[e+840>>2]=x(x(T*_)+x(y*r))+x(P*a),g[e+832>>2]=x(x(c*I)+x(p*E))+x(l*w),g[e+828>>2]=x(x(c*b)+x(p*C))+x(l*S),g[e+824>>2]=x(x(T*c)+x(y*p))+x(P*l),g[e+880>>2]=N+x(x(x(f*d)+x(s*v))+x(u*A)),g[e+876>>2]=R+x(x(x(_*d)+x(r*v))+x(a*A)),g[e+872>>2]=D+x(x(x(c*d)+x(p*v))+x(l*A)),r=g[t+16>>2],p=g[e+100>>2],a=g[t+20>>2],_=g[e+104>>2],s=g[t+24>>2],f=g[e+108>>2],d=x(x(x(r*p)+x(a*_))+x(s*f)),v=g[e+60>>2],u=g[t+32>>2],A=g[e+76>>2],l=g[t+36>>2],y=g[e+92>>2],c=g[t+40>>2],P=x(x(x(v*u)+x(A*l))+x(y*c)),b=g[e+56>>2],C=g[e+72>>2],S=g[e+88>>2],I=x(x(x(b*u)+x(C*l))+x(S*c)),E=g[e+52>>2],w=g[e+68>>2],T=g[e+84>>2],R=x(x(x(E*u)+x(w*l))+x(T*c)),N=x(x(x(v*r)+x(A*a))+x(y*s)),D=x(x(x(b*r)+x(C*a))+x(S*s)),M=x(x(x(E*r)+x(w*a))+x(T*s)),c=x(c*f),u=x(x(u*p)+x(l*_)),r=g[t>>2],a=g[t+4>>2],s=g[t+8>>2],p=x(x(x(r*p)+x(a*_))+x(s*f)),_=x(x(x(r*v)+x(a*A))+x(s*y)),l=x(x(x(r*b)+x(a*C))+x(s*S)),n=t,r=x(x(x(E*r)+x(w*a))+x(T*s))):(R=g[t+52>>2],N=g[t+56>>2],d=g[e+100>>2],v=g[e+104>>2],A=g[e+108>>2],r=g[t+20>>2],a=g[t+24>>2],y=g[e+68>>2],P=g[e+84>>2],b=g[e+56>>2],C=g[e+72>>2],S=g[e+88>>2],I=g[e+60>>2],s=g[t+36>>2],E=g[e+76>>2],u=g[t+40>>2],w=g[e+92>>2],D=g[t+48>>2],l=g[t+8>>2],c=g[t>>2],p=g[t+4>>2],_=g[t+16>>2],T=g[e+52>>2],f=g[t+32>>2],h[e+884>>2]=0,h[e+868>>2]=0,h[e+852>>2]=0,h[e+836>>2]=0,g[e+864>>2]=x(x(I*f)+x(E*s))+x(w*u),g[e+860>>2]=x(x(b*f)+x(C*s))+x(S*u),g[e+856>>2]=x(x(T*f)+x(y*s))+x(P*u),g[e+848>>2]=x(x(I*_)+x(E*r))+x(w*a),g[e+844>>2]=x(x(b*_)+x(C*r))+x(S*a),g[e+840>>2]=x(x(T*_)+x(y*r))+x(P*a),g[e+832>>2]=x(x(c*I)+x(p*E))+x(l*w),g[e+828>>2]=x(x(c*b)+x(p*C))+x(l*S),g[e+824>>2]=x(x(T*c)+x(y*p))+x(P*l),g[e+880>>2]=N+x(x(x(f*d)+x(s*v))+x(u*A)),g[e+876>>2]=R+x(x(x(_*d)+x(r*v))+x(a*A)),g[e+872>>2]=D+x(x(x(c*d)+x(p*v))+x(l*A)),r=g[n+16>>2],p=g[e+164>>2],a=g[n+20>>2],_=g[e+168>>2],s=g[n+24>>2],f=g[e+172>>2],d=x(x(x(r*p)+x(a*_))+x(s*f)),v=g[e+124>>2],u=g[n+32>>2],A=g[e+140>>2],l=g[n+36>>2],y=g[e+156>>2],c=g[n+40>>2],P=x(x(x(v*u)+x(A*l))+x(y*c)),b=g[e+120>>2],C=g[e+136>>2],S=g[e+152>>2],I=x(x(x(b*u)+x(C*l))+x(S*c)),E=g[e+116>>2],w=g[e+132>>2],T=g[e+148>>2],R=x(x(x(E*u)+x(w*l))+x(T*c)),N=x(x(x(v*r)+x(A*a))+x(y*s)),D=x(x(x(b*r)+x(C*a))+x(S*s)),M=x(x(x(E*r)+x(w*a))+x(T*s)),c=x(c*f),u=x(x(u*p)+x(l*_)),r=g[n>>2],a=g[n+4>>2],s=g[n+8>>2],p=x(x(x(r*p)+x(a*_))+x(s*f)),_=x(x(x(r*v)+x(a*A))+x(s*y)),l=x(x(x(r*b)+x(a*C))+x(s*S)),r=x(x(x(E*r)+x(w*a))+x(T*s))),a=g[n+56>>2],s=g[n+52>>2],g[e+936>>2]=g[n+48>>2]+p,h[e+932>>2]=0,g[e+928>>2]=P,g[e+924>>2]=I,g[e+920>>2]=R,h[e+916>>2]=0,g[e+912>>2]=N,g[e+908>>2]=D,g[e+904>>2]=M,h[e+900>>2]=0,g[e+896>>2]=_,g[e+892>>2]=l,g[e+888>>2]=r,h[e+948>>2]=0,g[e+940>>2]=d+s,g[e+944>>2]=a+x(u+c),t=h[e+876>>2],h[e+968>>2]=h[e+872>>2],h[e+972>>2]=t,t=h[e+884>>2],h[e+976>>2]=h[e+880>>2],h[e+980>>2]=t,t=h[e+948>>2],h[e+992>>2]=h[e+944>>2],h[e+996>>2]=t,t=h[e+940>>2],h[e+984>>2]=h[e+936>>2],h[e+988>>2]=t,s=g[e+840>>2],t=h[e+840>>2],a=g[e+856>>2],n=h[e+856>>2],u=g[e+824>>2],o=h[e+824>>2],h[e+964>>2]=0,h[e+960>>2]=n,h[e+956>>2]=t,h[e+952>>2]=o,t=e,m[e+48|0]||i?(l=g[e+976>>2],c=x(g[e+992>>2]-l),f=g[e+972>>2],p=x(g[e+988>>2]-f),d=g[e+968>>2],r=x(g[e+984>>2]-d)):(l=g[e+976>>2],c=x(l-g[e+992>>2]),f=g[e+972>>2],p=x(f-g[e+988>>2]),d=g[e+968>>2],r=x(d-g[e+984>>2])),g[t+1016>>2]=r,h[e+1028>>2]=0,g[e+1024>>2]=c,g[e+1020>>2]=p,h[e+1012>>2]=0,_=x(x(x(r*u)+x(p*s))+x(c*a)),g[e+1032>>2]=_,g[e+1008>>2]=l+x(_*a),g[e+1004>>2]=f+x(_*s),g[e+1e3>>2]=d+x(_*u),g[e+1036>>2]=x(x(r*g[e+828>>2])+x(p*g[e+844>>2]))+x(c*g[e+860>>2]),g[e+1040>>2]=x(x(r*g[e+832>>2])+x(p*g[e+848>>2]))+x(c*g[e+864>>2])}function Qs(){return 52}function Zs(){var e;return z=e=z-16|0,!(0==m[23108])|1&a[23108]||(h[e+8>>2]=0,h[e+12>>2]=0,h[e>>2]=0,h[e+4>>2]=0,lt(22432,e),h[5777]=0,h[5777]=1|h[5777]),h[e+8>>2]=0,h[e+12>>2]=0,h[e>>2]=0,h[e+4>>2]=0,ac(22432,x(0),e),z=e+16|0,22432}function Js(e,t,n){h[e+28>>2]=n,h[e+24>>2]=-1,f[e+20>>1]=1,h[e+16>>2]=2139095039,h[e+8>>2]=-1,h[e+12>>2]=-1,h[e>>2]=3532,h[e+4>>2]=t,Zs(),h[e+44>>2]=0,h[e+36>>2]=0,h[e+40>>2]=1028443341,h[e+32>>2]=22432}function Ks(e,t){var n,i=x(0),o=x(0),r=x(0),a=x(0),s=x(0);if(o=g[1364+((t<<2)+e|0)>>2],n=y(t,88)+e|0,(r=g[n+968>>2])>=(a=g[n+972>>2])||(o<r?((i=Io(x(r-o),x(6.2831854820251465)))<x(-3.1415927410125732)?i=x(i+x(6.2831854820251465)):i>x(3.1415927410125732)&&(i=x(i+x(-6.2831854820251465))),s=x(b(i)),(i=Io(x(a-o),x(6.2831854820251465)))<x(-3.1415927410125732)?i=x(i+x(6.2831854820251465)):i>x(3.1415927410125732)&&(i=x(i+x(-6.2831854820251465))),o=s<x(b(i))?o:x(o+x(6.2831854820251465))):o>a&&((i=Io(x(o-a),x(6.2831854820251465)))<x(-3.1415927410125732)?i=x(i+x(6.2831854820251465)):i>x(3.1415927410125732)&&(i=x(i+x(-6.2831854820251465))),s=x(b(i)),(i=Io(x(o-r),x(6.2831854820251465)))<x(-3.1415927410125732)?i=x(i+x(6.2831854820251465)):i>x(3.1415927410125732)&&(i=x(i+x(-6.2831854820251465))),o=x(b(i))<s?x(o+x(-6.2831854820251465)):o)),g[n+1048>>2]=o,r>a)return e=y(t,88)+e|0,h[e+1040>>2]=0,void(h[e+1052>>2]=0);e=y(t,88)+e|0,g[e+1040>>2]=o-r,r!=a?(h[e+1052>>2]=4,g[e+1044>>2]=o-a):h[e+1052>>2]=3}function $s(e,t,n,i,o,r,a,s,c,l,p,u,_){var f,d,v=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=0,T=0,P=0,I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=0,F=0,B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=0,q=0,Y=0,X=x(0),Q=x(0);z=f=z-16|0,P=h[c+24>>2],d=m[t+44|0];e:if((F=h[t+56>>2])||d){W=h[(u?20:16)+c>>2],L=h[(u?12:8)+c>>2],w=y(l,P),h[L+(T=w<<2)>>2]=h[p>>2],h[(P=(q=w+1|0)<<2)+L>>2]=h[p+4>>2],h[L+(l=(Y=w+2|0)<<2)>>2]=h[p+8>>2],g[T+W>>2]=-g[p>>2],g[P+W>>2]=-g[p+4>>2],g[l+W>>2]=-g[p+8>>2],u||(m[e+1301|0]?(A=g[e+1112>>2],j=g[n+52>>2],I=g[e+1116>>2],O=g[n+56>>2],S=g[e+1120>>2],k=g[e+1176>>2],G=g[i+52>>2],H=g[e+1180>>2],V=g[i+56>>2],E=g[e+1184>>2],B=g[e+1276>>2],U=g[e+1272>>2],R=g[t+48>>2],C=g[t+52>>2],b=g[n+48>>2],N=g[p>>2],v=g[i+48>>2],D=g[p+4>>2],M=g[p+8>>2],h[f+12>>2]=0,A=x(A-b),I=x(I-j),S=x(S-O),X=x(x(x(N*A)+x(D*I))+x(M*S)),b=x(N*X),O=x(C-R),k=x(k-v),G=x(H-G),H=x(E-V),C=x(x(x(N*k)+x(D*G))+x(M*H)),V=x(N*C),Q=x(x(b+x(N*O))-V),v=x(D*X),E=x(D*C),j=x(x(v+x(D*O))-E),A=x(x(A-b)+x(U*Q)),b=x(x(I-v)+x(U*j)),R=x(x(D*A)-x(N*b)),g[f+8>>2]=R,v=x(M*X),C=x(M*C),O=x(x(v+x(M*O))-C),v=x(x(S-v)+x(U*O)),I=x(x(N*v)-x(M*A)),g[f+4>>2]=I,S=x(x(M*b)-x(D*v)),g[f>>2]=S,A=x(x(k-V)-x(B*Q)),b=x(x(G-E)-x(B*j)),E=x(x(D*A)-x(N*b)),v=x(x(H-C)-x(B*O)),A=x(x(N*v)-x(M*A)),C=x(x(M*b)-x(D*v)),!m[e+1280|0]|_||(g[f+8>>2]=U*R,g[f+4>>2]=U*I,g[f>>2]=U*S,E=x(B*E),C=x(B*C),A=x(B*A)),e=h[f+4>>2],i=(n=w<<2)+h[c+12>>2]|0,h[i>>2]=h[f>>2],h[i+4>>2]=e,h[i+8>>2]=h[f+8>>2],e=h[c+20>>2],g[e+n>>2]=-C,g[e+(q<<2)>>2]=-A,g[e+(Y<<2)>>2]=-E):(C=g[(T=e+1176|0)>>2],I=g[n+48>>2],R=g[p>>2],L=h[c+12>>2],P=w<<2,S=x(g[(_=e+1180|0)>>2]-g[n+52>>2]),A=g[p+8>>2],v=x(g[(l=e+1184|0)>>2]-g[n+56>>2]),b=g[p+4>>2],g[L+P>>2]=x(S*A)-x(v*b),n=q<<2,E=x(v*R),v=x(C-I),g[n+L>>2]=E-x(A*v),g[(e=Y<<2)+L>>2]=x(v*b)-x(S*R),C=g[T>>2],I=g[i+48>>2],R=g[p>>2],T=P,P=h[c+20>>2],S=x(g[_>>2]-g[i+52>>2]),A=g[p+8>>2],v=x(g[l>>2]-g[i+56>>2]),b=g[p+4>>2],g[T+P>>2]=-x(x(S*A)-x(v*b)),E=x(v*R),v=x(C-I),g[n+P>>2]=-x(E-x(A*v)),g[e+P>>2]=-x(x(v*b)-x(S*R))));t:if(!F|g[t>>2]!=g[t+4>>2]){if(n=h[c+28>>2],h[n+(e=w<<2)>>2]=0,d){if(h[e+h[c+32>>2]>>2]=h[t+28>>2],F)break t;v=g[t+8>>2],v=Or(g[t+52>>2],g[t>>2],g[t+4>>2],u?v:x(-v),x(g[c>>2]*g[t+32>>2])),e=(n=w<<2)+h[c+28>>2]|0,g[e>>2]=x(v*g[t+8>>2])+g[e>>2],g[n+h[c+36>>2]>>2]=-g[t+12>>2],h[n+h[c+40>>2]>>2]=h[t+12>>2],T=1;break e}if(!F){T=1;break e}}else n=h[c+28>>2],h[n+(w<<2)>>2]=0;if(b=x(g[c>>2]*g[t+32>>2]),v=g[t+48>>2],g[(e=(w<<2)+n|0)>>2]=u?g[e>>2]-x(b*v):x(b*v)+g[e>>2],h[(i=w<<2)+h[c+32>>2]>>2]=h[t+36>>2],g[t>>2]!=g[t+4>>2]){if(T=1,e=1==(0|F),g[i+h[c+36>>2]>>2]=x(e?0:-34028234663852886e22),g[i+h[c+40>>2]>>2]=x(e?34028234663852886e22:0),(S=g[t+40>>2])>x(0))if(u?(A=g[p+8>>2],E=x(g[a+8>>2]*A),C=g[p>>2],b=g[p+4>>2],v=x(x(g[a>>2]*C)+x(g[a+4>>2]*b))):(A=g[p+8>>2],E=x(g[o+8>>2]*A),s=r,C=g[p>>2],b=g[p+4>>2],v=x(x(g[o>>2]*C)+x(g[o+4>>2]*b))),v=x(x(v+E)-x(x(x(C*g[s>>2])+x(b*g[s+4>>2]))+x(A*g[s+8>>2]))),1!=(0|F))v>x(0)&&(v=x(v*x(-S)))<g[(e=(w<<2)+n|0)>>2]&&(g[e>>2]=v);else{if(!(v<x(0)))break e;if(!((v=x(v*x(-S)))>g[(e=(w<<2)+n|0)>>2]))break e;g[e>>2]=v}}else h[i+h[c+36>>2]>>2]=-8388609,h[i+h[c+40>>2]>>2]=2139095039,T=1}return z=f+16|0,T}function ec(e,t,n){var i,o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0);i=h[e+32>>2],c=g[i+36>>2],l=g[i+20>>2],p=g[i+4>>2],_=g[i+40>>2],u=g[i+24>>2],y=g[i+8>>2],f=g[i+44>>2],a=g[i+28>>2],b=g[i+12>>2],e=h[e+28>>2],v=g[e+36>>2],A=g[e+4>>2],C=g[e+20>>2],m=g[e+40>>2],S=g[e+8>>2],E=g[e+24>>2],d=g[e+44>>2],w=g[e+12>>2],T=g[e+28>>2],h[t+8>>2]=0,h[t+12>>2]=0,h[t>>2]=0,h[t+4>>2]=0,r=g[n+8>>2],o=g[n>>2],s=g[n+4>>2],h[t+28>>2]=0,d=x(x(x(w*o)+x(T*s))+x(d*r)),g[t+24>>2]=d,m=x(x(x(S*o)+x(E*s))+x(m*r)),g[t+20>>2]=m,s=x(x(x(A*o)+x(C*s))+x(v*r)),g[t+16>>2]=s,r=g[n+8>>2],v=g[n+4>>2],o=g[n>>2],h[t+44>>2]=0,A=a,a=x(-v),f=x(x(x(A*a)-x(b*o))-x(f*r)),g[t+40>>2]=f,_=x(x(x(u*a)-x(y*o))-x(_*r)),g[t+36>>2]=_,r=x(x(x(l*a)-x(p*o))-x(c*r)),g[t+32>>2]=r,o=g[e+456>>2],a=g[e+460>>2],c=g[e+464>>2],h[t+60>>2]=0,c=x(d*c),g[t+56>>2]=c,a=x(m*a),g[t+52>>2]=a,o=x(s*o),g[t+48>>2]=o,l=g[i+456>>2],p=g[i+460>>2],u=g[i+464>>2],h[t+76>>2]=0,u=x(f*u),g[t+72>>2]=u,p=x(_*p),g[t+68>>2]=p,l=x(r*l),g[t+64>>2]=l,g[t+80>>2]=x(x(x(s*o)+x(m*a))+x(d*c))+x(x(x(r*l)+x(_*p))+x(f*u))}function tc(e,t,n,i,o){var r,a,s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0);z=r=z-128|0,a=h[e+28>>2],h[r+80>>2]=h[a+4>>2],h[r+84>>2]=h[a+20>>2],s=h[a+36>>2],h[r+92>>2]=0,h[r+88>>2]=s,h[r+96>>2]=h[a+8>>2],h[r+100>>2]=h[a+24>>2],s=h[a+40>>2],h[r+108>>2]=0,h[r+104>>2]=s,h[r+112>>2]=h[a+12>>2],h[r+116>>2]=h[a+28>>2],s=h[a+44>>2],h[r+124>>2]=0,h[r+120>>2]=s,e=h[e+32>>2],h[r+32>>2]=h[e+4>>2],h[r+36>>2]=h[e+20>>2],s=h[e+36>>2],h[r+44>>2]=0,h[r+40>>2]=s,h[r+48>>2]=h[e+8>>2],h[r+52>>2]=h[e+24>>2],s=h[e+40>>2],h[r+60>>2]=0,h[r+56>>2]=s,h[r+64>>2]=h[e+12>>2],h[r+68>>2]=h[e+28>>2],s=h[e+44>>2],h[r+76>>2]=0,h[r+72>>2]=s,c=g[a+52>>2],l=g[a+56>>2],p=g[a+60>>2],u=g[i>>2],_=g[i+4>>2],f=g[i+8>>2],h[r+28>>2]=0,g[r+24>>2]=f-p,g[r+20>>2]=_-l,g[r+16>>2]=u-c,c=g[e+52>>2],l=g[e+56>>2],p=g[e+60>>2],u=g[o>>2],_=g[o+4>>2],f=g[o+8>>2],h[r+12>>2]=0,g[r+8>>2]=f-p,g[r+4>>2]=_-l,g[r>>2]=u-c,Ga(t,r+80|0,r+32|0,r+16|0,r,n,a+456|0,g[a+404>>2],e+456|0,g[e+404>>2]),z=r+128|0}function nc(e){ua(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0)}function ic(e){return h[72+(e|=0)>>2]}function oc(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],e=1&r[h[h[e>>2]+48>>2]](e),z=t+16|0,0|e}function rc(e,t){var n=0,i=0;2&m[e+204|0]?(n=h[e+16>>2],h[e+76>>2]=h[e+12>>2],h[e+80>>2]=n,n=h[e+8>>2],h[e+68>>2]=h[e+4>>2],h[e+72>>2]=n,n=h[e+24>>2],h[e+84>>2]=h[e+20>>2],h[e+88>>2]=n,n=h[e+32>>2],h[e+92>>2]=h[e+28>>2],h[e+96>>2]=n,n=h[e+40>>2],h[e+100>>2]=h[e+36>>2],h[e+104>>2]=n,n=h[e+48>>2],h[e+108>>2]=h[e+44>>2],h[e+112>>2]=n,n=h[e+56>>2],h[e+116>>2]=h[e+52>>2],h[e+120>>2]=n,n=h[e+64>>2],h[e+124>>2]=h[e+60>>2],h[e+128>>2]=n):(i=h[(n=t)+4>>2],h[e+68>>2]=h[n>>2],h[e+72>>2]=i,i=h[n+12>>2],h[e+76>>2]=h[n+8>>2],h[e+80>>2]=i,i=h[n+28>>2],h[e+92>>2]=h[n+24>>2],h[e+96>>2]=i,i=h[n+20>>2],h[e+84>>2]=h[n+16>>2],h[e+88>>2]=i,i=h[n+36>>2],h[e+100>>2]=h[n+32>>2],h[e+104>>2]=i,i=h[n+44>>2],h[e+108>>2]=h[n+40>>2],h[e+112>>2]=i,i=h[n+60>>2],h[e+124>>2]=h[n+56>>2],h[e+128>>2]=i,i=h[n+52>>2],h[e+116>>2]=h[n+48>>2],h[e+120>>2]=i),n=h[e+392>>2],h[e+148>>2]=h[e+388>>2],h[e+152>>2]=n,n=h[e+376>>2],h[e+132>>2]=h[e+372>>2],h[e+136>>2]=n,n=h[e+400>>2],h[e+156>>2]=h[e+396>>2],h[e+160>>2]=n,n=h[e+384>>2],h[e+140>>2]=h[e+380>>2],h[e+144>>2]=n,n=h[t+12>>2],h[e+12>>2]=h[t+8>>2],h[e+16>>2]=n,n=h[t+4>>2],h[e+4>>2]=h[t>>2],h[e+8>>2]=n,n=h[t+28>>2],h[e+28>>2]=h[t+24>>2],h[e+32>>2]=n,n=h[t+20>>2],h[e+20>>2]=h[t+16>>2],h[e+24>>2]=n,n=h[t+44>>2],h[e+44>>2]=h[t+40>>2],h[e+48>>2]=n,n=h[t+36>>2],h[e+36>>2]=h[t+32>>2],h[e+40>>2]=n,n=h[t+60>>2],h[e+60>>2]=h[t+56>>2],h[e+64>>2]=n,n=h[t+52>>2],h[e+52>>2]=h[t+48>>2],h[e+56>>2]=n,sc(e)}function ac(e,t,n){var i,o=x(0),r=x(0),a=x(0);i=h[e+204>>2],t!=x(0)?(h[e+204>>2]=-2&i,o=x(x(1)/t)):h[e+204>>2]=1|i,g[e+404>>2]=o,h[e+436>>2]=0,g[e+424>>2]=g[e+440>>2]*t,g[e+432>>2]=g[e+448>>2]*t,g[e+428>>2]=g[e+444>>2]*t,t=g[n+8>>2],r=g[n+4>>2],a=g[n>>2],g[e+620>>2]=g[e+408>>2]*o,g[e+624>>2]=o*g[e+412>>2],g[e+628>>2]=o*g[e+416>>2],h[e+632>>2]=0,h[e+468>>2]=0,g[e+456>>2]=a!=x(0)?x(x(1)/a):x(0),g[e+460>>2]=r!=x(0)?x(x(1)/r):x(0),g[e+464>>2]=t!=x(0)?x(x(1)/t):x(0)}function sc(e){var t=x(0),n=x(0),i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0);h[e+368>>2]=0,h[e+352>>2]=0,h[e+336>>2]=0,f=g[e+456>>2],t=g[e+36>>2],n=x(f*t),m=g[e+460>>2],i=g[e+40>>2],o=x(m*i),d=g[e+464>>2],r=g[e+44>>2],a=x(d*r),g[e+364>>2]=x(x(n*t)+x(o*i))+x(a*r),p=g[e+20>>2],u=g[e+24>>2],_=g[e+28>>2],g[e+360>>2]=x(x(n*p)+x(o*u))+x(a*_),s=n,n=g[e+4>>2],c=o,o=g[e+8>>2],l=a,a=g[e+12>>2],g[e+356>>2]=x(x(s*n)+x(c*o))+x(l*a),s=x(f*p),c=x(m*u),l=x(d*_),g[e+348>>2]=x(x(t*s)+x(i*c))+x(r*l),g[e+344>>2]=x(x(s*p)+x(c*u))+x(l*_),g[e+340>>2]=x(x(s*n)+x(c*o))+x(l*a),s=t,t=x(n*f),c=i,i=x(o*m),l=r,r=x(a*d),g[e+332>>2]=x(x(s*t)+x(c*i))+x(l*r),g[e+328>>2]=x(x(t*p)+x(i*u))+x(r*_),g[e+324>>2]=x(x(t*n)+x(i*o))+x(r*a)}function cc(e){var t,n=x(0);return z=t=z-16|0,h[t+12>>2]=e,n=Vo(e=h[t+12>>2],e),z=t+16|0,n}function lc(e,t,n){var i;z=i=z-48|0,h[i+44>>2]=e,h[i+40>>2]=t,h[i+36>>2]=n,e=h[i+44>>2],g[e+404>>2]!=x(0)&&(Nt(e,h[i+40>>2]),h[12+(t=z-16|0)>>2]=e+604,h[t+12>>2]&&(t=h[i+36>>2],zr(i,h[i+40>>2],e+408|0),Xa(n=i+16|0,t,i),Dt(e,n))),z=i+48|0}function pc(e,t,n){var i,o,r,a,s;z=i=z-32|0,h[i+28>>2]=t,h[i+24>>2]=n,r=h[i+24>>2],t=z-16|0,n=h[i+28>>2],h[t+12>>2]=n,h[t+8>>2]=0,a=h[t+12>>2]+(h[t+8>>2]<<4)|0,h[12+(t=z-16|0)>>2]=n,h[t+8>>2]=1,s=h[t+12>>2]+(h[t+8>>2]<<4)|0,h[12+(t=z-16|0)>>2]=n,h[t+8>>2]=2,function(e,t,n,i,o){var r;z=r=z-32|0,h[r+28>>2]=t,h[r+24>>2]=n,h[r+20>>2]=i,h[r+16>>2]=o,t=h[r+28>>2],g[r+12>>2]=Vo(t,h[r+24>>2]),g[r+8>>2]=Vo(t,h[r+20>>2]),g[r+4>>2]=Vo(t,h[r+16>>2]),To(e,r+12|0,r+8|0,r+4|0),z=r+32|0}(o=i+8|0,r,a,s,h[t+12>>2]+(h[t+8>>2]<<4)|0),Za(e,o,n+48|0),z=i+32|0}function uc(e,t){var n,i,o=0;z=n=z-96|0,h[n+92>>2]=e,h[n+88>>2]=t,function(e,t){var n,i,o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,o=z-16|0,t=h[n+8>>2],h[o+12>>2]=t,o=h[o+12>>2],h[12+(r=z-16|0)>>2]=t+16,r=h[r+12>>2],h[12+(a=z-16|0)>>2]=t+32,a=h[a+12>>2],h[12+(s=z-16|0)>>2]=t,s=h[s+12>>2]+4|0,h[12+(c=z-16|0)>>2]=t+16,c=h[c+12>>2]+4|0,h[12+(l=z-16|0)>>2]=t+32,l=h[l+12>>2]+4|0,h[12+(p=z-16|0)>>2]=t,p=h[p+12>>2]+8|0,h[12+(u=z-16|0)>>2]=t+16,u=h[u+12>>2]+8|0,h[12+(i=z-16|0)>>2]=t+32,Wa(e,o,r,a,s,c,l,p,u,h[i+12>>2]+8|0),z=n+16|0}(t=n+40|0,o=h[n+88>>2]),Ut(i=n+8|0,o+48|0),xr(o=n+24|0,t,i),_c(e,t,o),z=n+96|0}function _c(e,t,n){var i;z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,Jt(e=h[i+12>>2],h[i+8>>2]),t=h[i+4>>2],n=h[t+4>>2],h[e+48>>2]=h[t>>2],h[e+52>>2]=n,n=h[t+12>>2],h[e+56>>2]=h[t+8>>2],h[e+60>>2]=n,z=i+16|0}function fc(e,t,n){var i;z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,h[i+20>>2]=n,t=z-16|0,e=h[i+28>>2],h[t+12>>2]=e,h[h[t+12>>2]>>2]=1748,h[e>>2]=1664,$a(e+4|0,h[i+24>>2]),$a(e+68|0,h[i+20>>2]),$a(e+132|0,h[i+24>>2]),h[e+196>>2]=0,z=i+32|0}function hc(){var e,t=0;return z=e=z-48|0,!(0==m[22364])|1&a[22364]||(t=function(){var e;return z=e=z-48|0,!(0==m[22416])|1&a[22416]||(g[e+44>>2]=1,g[e+40>>2]=0,g[e+36>>2]=0,g[e+32>>2]=0,g[e+28>>2]=1,g[e+24>>2]=0,g[e+20>>2]=0,g[e+16>>2]=0,g[e+12>>2]=1,Wa(22368,e+44|0,e+40|0,e+36|0,e+32|0,e+28|0,e+24|0,e+20|0,e+16|0,e+12|0),h[5604]=0,h[5604]=1|h[5604]),z=e+48|0,22368}(),g[e+20>>2]=0,g[e+16>>2]=0,g[e+12>>2]=0,To(e+24|0,e+20|0,e+16|0,e+12|0),_c(22300,t,e+24|0),h[5591]=0,h[5591]=1|h[5591]),z=e+48|0,22300}function mc(e){var t;z=t=z-16|0,h[t+12>>2]=e,(e=h[t+12>>2])&&(h[6658]=h[6658]+1,r[h[5256]](e)),z=t+16|0}function dc(e,t,n,i,o){var r;h[28+(r=z-32|0)>>2]=e,h[r+24>>2]=t,h[r+20>>2]=n,h[r+16>>2]=i,h[r+12>>2]=o,e=h[r+28>>2],g[e>>2]=g[h[r+24>>2]>>2],g[e+4>>2]=g[h[r+20>>2]>>2],g[e+8>>2]=g[h[r+16>>2]>>2],g[e+12>>2]=g[h[r+12>>2]>>2]}function vc(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+8>>2]=g[e+8>>2],z=n+16|0}function gc(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+4>>2]=g[e+8>>2],z=n+16|0}function Ac(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]>>2]=g[e+8>>2],z=n+16|0}function yc(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,x(g[h[e+12>>2]+8>>2])}function xc(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,x(g[h[e+12>>2]+4>>2])}function bc(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,x(g[h[e+12>>2]>>2])}function Cc(e,t,n){e|=0,t|=0,n=x(n);var i;z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,g[i+4>>2]=n,e=h[i+12>>2],r[h[h[e>>2]+8>>2]](e,h[i+8>>2],g[i+4>>2]),z=i+16|0}function Sc(e,t){e|=0,t|=0;var n;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]+16>>2]=h[n+8>>2]}function Ec(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]+16>>2]}function wc(e,t){e|=0,t|=0;var n;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,f[h[n+12>>2]+14>>1]=h[n+8>>2]}function Tc(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,f[h[t+12>>2]+14>>1]}function Pc(e,t){e|=0,t|=0;var n;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,f[h[n+12>>2]+12>>1]=h[n+8>>2]}function Ic(e){e|=0;var t;return h[12+(t=z-16|0)>>2]=e,f[h[t+12>>2]+12>>1]}function Rc(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,t=1&a[n+11|0],h[12+(e=z-16|0)>>2]=h[n+12>>2],a[e+11|0]=t,a[h[e+12>>2]+24|0]=1&a[e+11|0],z=n+16|0}function Nc(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,0!=h[h[e+12>>2]+8>>2]|0}function Dc(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+64>>2]](e,h[n+8>>2]),z=n+16|0}function Mc(e){var t,n=0,i=0,o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0;z=t=z-16|0;e:{t:{n:{i:{o:{r:{a:{s:{c:{l:{p:{if((e|=0)>>>0<=244){if(3&(n=(a=h[6679])>>>(e=(s=e>>>0<11?16:e+11&-8)>>>3))){e=(n=h[26764+(r=(i=e+(1&(-1^n))|0)<<3)>>2])+8|0,(0|(o=h[n+8>>2]))!=(0|(r=r+26756|0))?(h[o+12>>2]=r,h[r+8>>2]=o):h[6679]=Bl(i)&a,i<<=3,h[n+4>>2]=3|i,h[4+(n=n+i|0)>>2]=1|h[n+4>>2];break e}if(s>>>0<=(l=h[6681])>>>0)break p;if(n){i=n=(e=(0-(e=(0-(i=2<<e)|i)&n<<e)&e)-1|0)>>>12&16,i|=n=(e>>>=n)>>>5&8,i|=n=(e>>>=n)>>>2&4,n=h[26764+(o=(i=((i|=n=(e>>>=n)>>>1&2)|(n=(e>>>=n)>>>1&1))+(e>>>n)|0)<<3)>>2],(0|(e=h[n+8>>2]))!=(0|(o=o+26756|0))?(h[e+12>>2]=o,h[o+8>>2]=e):(a=Bl(i)&a,h[6679]=a),e=n+8|0,h[n+4>>2]=3|s,r=(i<<=3)-s|0,h[4+(c=n+s|0)>>2]=1|r,h[n+i>>2]=r,l&&(n=26756+((i=l>>>3)<<3)|0,o=h[6684],(i=1<<i)&a?i=h[n+8>>2]:(h[6679]=i|a,i=n),h[n+8>>2]=o,h[i+12>>2]=o,h[o+12>>2]=n,h[o+8>>2]=i),h[6684]=c,h[6681]=r;break e}if(!(u=h[6680]))break p;for(i=n=(e=(u&0-u)-1|0)>>>12&16,i|=n=(e>>>=n)>>>5&8,i|=n=(e>>>=n)>>>2&4,n=h[27020+(((i|=n=(e>>>=n)>>>1&2)|(n=(e>>>=n)>>>1&1))+(e>>>n)<<2)>>2],o=(-8&h[n+4>>2])-s|0,i=n;(e=h[i+16>>2])||(e=h[i+20>>2]);)o=(i=(r=(-8&h[e+4>>2])-s|0)>>>0<o>>>0)?r:o,n=i?e:n,i=e;if(p=h[n+24>>2],(0|(r=h[n+12>>2]))!=(0|n)){e=h[n+8>>2],h[e+12>>2]=r,h[r+8>>2]=e;break t}if(!(e=h[(i=n+20|0)>>2])){if(!(e=h[n+16>>2]))break l;i=n+16|0}for(;c=i,r=e,(e=h[(i=e+20|0)>>2])||(i=r+16|0,e=h[r+16>>2]););h[c>>2]=0;break t}if(s=-1,!(e>>>0>4294967231)&&(s=-8&(n=e+11|0),l=h[6680])){i=0-s|0,a=0,(n>>>=8)&&(a=31,s>>>0>16777215||(a=28+((e=((a=(n<<=o=n+1048320>>>16&8)<<(e=n+520192>>>16&4))<<(n=a+245760>>>16&2)>>>15)-(n|e|o)|0)<<1|s>>>e+21&1)|0));u:{_:{if(o=h[27020+(a<<2)>>2])for(n=s<<(31==(0|a)?0:25-(a>>>1)|0),e=0;;){if(!((c=(-8&h[o+4>>2])-s|0)>>>0>=i>>>0||(r=o,i=c))){i=0,e=o;break _}if(c=h[o+20>>2],o=h[16+((n>>>29&4)+o|0)>>2],e=c?(0|c)==(0|o)?e:c:e,n<<=0!=(0|o),!o)break}else e=0;if(!(e|r)){if(!(e=(0-(e=2<<a)|e)&l))break p;o=n=(e=(e&0-e)-1|0)>>>12&16,o|=n=(e>>>=n)>>>5&8,o|=n=(e>>>=n)>>>2&4,e=h[27020+(((o|=n=(e>>>=n)>>>1&2)|(n=(e>>>=n)>>>1&1))+(e>>>n)<<2)>>2]}if(!e)break u}for(;i=(n=(o=(-8&h[e+4>>2])-s|0)>>>0<i>>>0)?o:i,r=n?e:r,e=(n=h[e+16>>2])||h[e+20>>2];);}if(!(!r|i>>>0>=h[6681]-s>>>0)){if(c=h[r+24>>2],(0|r)!=(0|(n=h[r+12>>2]))){e=h[r+8>>2],h[e+12>>2]=n,h[n+8>>2]=e;break n}if(!(e=h[(o=r+20|0)>>2])){if(!(e=h[r+16>>2]))break c;o=r+16|0}for(;a=o,n=e,(e=h[(o=e+20|0)>>2])||(o=n+16|0,e=h[n+16>>2]););h[a>>2]=0;break n}}}if((n=h[6681])>>>0>=s>>>0){e=h[6684],(i=n-s|0)>>>0>=16?(h[6681]=i,o=e+s|0,h[6684]=o,h[o+4>>2]=1|i,h[e+n>>2]=i,h[e+4>>2]=3|s):(h[6684]=0,h[6681]=0,h[e+4>>2]=3|n,h[4+(n=e+n|0)>>2]=1|h[n+4>>2]),e=e+8|0;break e}if((o=h[6682])>>>0>s>>>0){n=o-s|0,h[6682]=n,i=(e=h[6685])+s|0,h[6685]=i,h[i+4>>2]=1|n,h[e+4>>2]=3|s,e=e+8|0;break e}if(e=0,i=r=s+47|0,h[6797]?n=h[6799]:(h[6800]=-1,h[6801]=-1,h[6798]=4096,h[6799]=4096,h[6797]=t+12&-16^1431655768,h[6802]=0,h[6790]=0,n=4096),(i=(a=i+n|0)&(c=0-n|0))>>>0<=s>>>0)break e;if((n=h[6789])&&(p=(l=h[6787])+i|0)>>>0<=l>>>0|p>>>0>n>>>0)break e;if(4&m[27160])break r;p:{u:{if(n=h[6685])for(e=27164;;){if((l=h[e>>2])+h[e+4>>2]>>>0>n>>>0&&l>>>0<=n>>>0)break u;if(!(e=h[e+8>>2]))break}if(-1==(0|(n=Fr(0))))break a;if(a=i,(o=(e=h[6798])+-1|0)&n&&(a=(i-n|0)+(n+o&0-e)|0),a>>>0<=s>>>0|a>>>0>2147483646)break a;if((e=h[6789])&&(c=(o=h[6787])+a|0)>>>0<=o>>>0|c>>>0>e>>>0)break a;if((0|n)!=(0|(e=Fr(a))))break p;break o}if((a=c&a-o)>>>0>2147483646)break a;if((0|(n=Fr(a)))==(h[e>>2]+h[e+4>>2]|0))break s;e=n}if(n=e,!(s+48>>>0<=a>>>0|a>>>0>2147483646|-1==(0|e))){if((e=(e=h[6799])+(r-a|0)&0-e)>>>0>2147483646)break o;if(-1!=(0|Fr(e))){a=e+a|0;break o}Fr(0-a|0);break a}if(-1!=(0|n))break o;break a}r=0;break t}n=0;break n}if(-1!=(0|n))break o}h[6790]=4|h[6790]}if(i>>>0>2147483646)break i;if((n=Fr(i))>>>0>=(e=Fr(0))>>>0|-1==(0|n)|-1==(0|e))break i;if((a=e-n|0)>>>0<=s+40>>>0)break i}e=h[6787]+a|0,h[6787]=e,e>>>0>v[6788]&&(h[6788]=e);o:{r:{a:{if(i=h[6685]){for(e=27164;;){if(((o=h[e>>2])+(r=h[e+4>>2])|0)==(0|n))break a;if(!(e=h[e+8>>2]))break}break r}for(n>>>0>=(e=h[6683])>>>0&&e||(h[6683]=n),e=0,h[6792]=a,h[6791]=n,h[6687]=-1,h[6688]=h[6797],h[6794]=0;o=26756+(i=e<<3)|0,h[i+26764>>2]=o,h[i+26768>>2]=o,32!=(0|(e=e+1|0)););o=(e=a+-40|0)-(i=n+8&7?-8-n&7:0)|0,h[6682]=o,i=n+i|0,h[6685]=i,h[i+4>>2]=1|o,h[4+(e+n|0)>>2]=40,h[6686]=h[6801];break o}if(!(8&m[e+12|0]|n>>>0<=i>>>0|o>>>0>i>>>0)){h[e+4>>2]=r+a,n=(e=i+8&7?-8-i&7:0)+i|0,h[6685]=n,e=(o=h[6682]+a|0)-e|0,h[6682]=e,h[n+4>>2]=1|e,h[4+(i+o|0)>>2]=40,h[6686]=h[6801];break o}}n>>>0<(r=h[6683])>>>0&&(h[6683]=n,r=0),o=n+a|0,e=27164;r:{a:{s:{c:{l:{p:{for(;;){if((0|o)!=h[e>>2]){if(e=h[e+8>>2])continue;break p}break}if(!(8&m[e+12|0]))break l}for(e=27164;;){if((o=h[e>>2])>>>0<=i>>>0&&(r=o+h[e+4>>2]|0)>>>0>i>>>0)break c;e=h[e+8>>2]}}if(h[e>>2]=n,h[e+4>>2]=h[e+4>>2]+a,h[4+(p=(n+8&7?-8-n&7:0)+n|0)>>2]=3|s,e=((n=o+(o+8&7?-8-o&7:0)|0)-p|0)-s|0,c=s+p|0,(0|n)==(0|i)){h[6685]=c,e=h[6682]+e|0,h[6682]=e,h[c+4>>2]=1|e;break a}if(h[6684]==(0|n)){h[6684]=c,e=h[6681]+e|0,h[6681]=e,h[c+4>>2]=1|e,h[e+c>>2]=e;break a}if(1==(3&(i=h[n+4>>2]))){u=-8&i;l:if(i>>>0<=255){if(r=i>>>3,i=h[n+8>>2],(0|(o=h[n+12>>2]))==(0|i)){h[6679]=h[6679]&Bl(r);break l}h[i+12>>2]=o,h[o+8>>2]=i}else{if(l=h[n+24>>2],(0|(a=h[n+12>>2]))==(0|n))if((s=h[(o=n+20|0)>>2])||(s=h[(o=n+16|0)>>2])){for(;i=o,a=s,(s=h[(o=s+20|0)>>2])||(o=a+16|0,s=h[a+16>>2]););h[i>>2]=0}else a=0;else i=h[n+8>>2],h[i+12>>2]=a,h[a+8>>2]=i;if(l){i=h[n+28>>2];p:{if(h[(o=27020+(i<<2)|0)>>2]==(0|n)){if(h[o>>2]=a,a)break p;h[6680]=h[6680]&Bl(i);break l}if(h[l+(h[l+16>>2]==(0|n)?16:20)>>2]=a,!a)break l}h[a+24>>2]=l,(i=h[n+16>>2])&&(h[a+16>>2]=i,h[i+24>>2]=a),(i=h[n+20>>2])&&(h[a+20>>2]=i,h[i+24>>2]=a)}}n=n+u|0,e=e+u|0}if(h[n+4>>2]=-2&h[n+4>>2],h[c+4>>2]=1|e,h[e+c>>2]=e,e>>>0<=255){e=26756+((n=e>>>3)<<3)|0,(i=h[6679])&(n=1<<n)?n=h[e+8>>2]:(h[6679]=n|i,n=e),h[e+8>>2]=c,h[n+12>>2]=c,h[c+12>>2]=e,h[c+8>>2]=n;break a}if(n=0,(o=e>>>8)&&(n=31,e>>>0>16777215||(n=28+((n=((s=(o<<=r=o+1048320>>>16&8)<<(n=o+520192>>>16&4))<<(o=s+245760>>>16&2)>>>15)-(o|n|r)|0)<<1|e>>>n+21&1)|0)),h[(i=c)+28>>2]=n,h[c+16>>2]=0,h[c+20>>2]=0,i=27020+(n<<2)|0,(o=h[6680])&(r=1<<n)){for(o=e<<(31==(0|n)?0:25-(n>>>1)|0),n=h[i>>2];;){if(i=n,(-8&h[n+4>>2])==(0|e))break s;if(n=o>>>29,o<<=1,!(n=h[16+(r=(4&n)+i|0)>>2]))break}h[r+16>>2]=c}else h[6680]=o|r,h[i>>2]=c;h[c+24>>2]=i,h[c+12>>2]=c,h[c+8>>2]=c;break a}for(c=(e=a+-40|0)-(o=n+8&7?-8-n&7:0)|0,h[6682]=c,o=n+o|0,h[6685]=o,h[o+4>>2]=1|c,h[4+(e+n|0)>>2]=40,h[6686]=h[6801],h[(o=(e=(r+(r+-39&7?39-r&7:0)|0)-47|0)>>>0<i+16>>>0?i:e)+4>>2]=27,e=h[6794],h[o+16>>2]=h[6793],h[o+20>>2]=e,e=h[6792],h[o+8>>2]=h[6791],h[o+12>>2]=e,h[6793]=o+8,h[6792]=a,h[6791]=n,h[6794]=0,e=o+24|0;h[e+4>>2]=7,n=e+8|0,e=e+4|0,n>>>0<r>>>0;);if((0|i)==(0|o))break o;if(h[o+4>>2]=-2&h[o+4>>2],r=o-i|0,h[i+4>>2]=1|r,h[o>>2]=r,r>>>0<=255){e=26756+((n=r>>>3)<<3)|0,(o=h[6679])&(n=1<<n)?n=h[e+8>>2]:(h[6679]=n|o,n=e),h[e+8>>2]=i,h[n+12>>2]=i,h[i+12>>2]=e,h[i+8>>2]=n;break o}if(h[i+16>>2]=0,h[i+20>>2]=0,e=0,(o=r>>>8)&&(e=31,r>>>0>16777215||(e=28+((e=((c=(o<<=a=o+1048320>>>16&8)<<(e=o+520192>>>16&4))<<(o=c+245760>>>16&2)>>>15)-(o|e|a)|0)<<1|r>>>e+21&1)|0)),h[(n=i)+28>>2]=e,n=27020+(e<<2)|0,(o=h[6680])&(a=1<<e)){for(e=r<<(31==(0|e)?0:25-(e>>>1)|0),n=h[n>>2];;){if(o=n,(0|r)==(-8&h[n+4>>2]))break r;if(n=e>>>29,e<<=1,!(n=h[16+(a=o+(4&n)|0)>>2]))break}h[a+16>>2]=i,h[i+24>>2]=o}else h[6680]=o|a,h[n>>2]=i,h[i+24>>2]=n;h[i+12>>2]=i,h[i+8>>2]=i;break o}e=h[i+8>>2],h[e+12>>2]=c,h[i+8>>2]=c,h[c+24>>2]=0,h[c+12>>2]=i,h[c+8>>2]=e}e=p+8|0;break e}e=h[o+8>>2],h[e+12>>2]=i,h[o+8>>2]=i,h[i+24>>2]=0,h[i+12>>2]=o,h[i+8>>2]=e}if(!((e=h[6682])>>>0<=s>>>0)){n=e-s|0,h[6682]=n,i=(e=h[6685])+s|0,h[6685]=i,h[i+4>>2]=1|n,h[e+4>>2]=3|s,e=e+8|0;break e}}h[6659]=48,e=0;break e}n:if(c){e=h[r+28>>2];i:{if(h[(o=27020+(e<<2)|0)>>2]==(0|r)){if(h[o>>2]=n,n)break i;l=Bl(e)&l,h[6680]=l;break n}if(h[c+(h[c+16>>2]==(0|r)?16:20)>>2]=n,!n)break n}h[n+24>>2]=c,(e=h[r+16>>2])&&(h[n+16>>2]=e,h[e+24>>2]=n),(e=h[r+20>>2])&&(h[n+20>>2]=e,h[e+24>>2]=n)}n:if(i>>>0<=15)e=i+s|0,h[r+4>>2]=3|e,h[4+(e=e+r|0)>>2]=1|h[e+4>>2];else if(h[r+4>>2]=3|s,h[4+(o=r+s|0)>>2]=1|i,h[i+o>>2]=i,i>>>0<=255)e=26756+((n=i>>>3)<<3)|0,(i=h[6679])&(n=1<<n)?n=h[e+8>>2]:(h[6679]=n|i,n=e),h[e+8>>2]=o,h[n+12>>2]=o,h[o+12>>2]=e,h[o+8>>2]=n;else{e=0,(s=i>>>8)&&(e=31,i>>>0>16777215||(e=28+((e=((c=(s<<=a=s+1048320>>>16&8)<<(e=s+520192>>>16&4))<<(s=c+245760>>>16&2)>>>15)-(s|e|a)|0)<<1|i>>>e+21&1)|0)),h[(n=o)+28>>2]=e,h[o+16>>2]=0,h[o+20>>2]=0,n=27020+(e<<2)|0;i:{if((s=1<<e)&l){for(e=i<<(31==(0|e)?0:25-(e>>>1)|0),s=h[n>>2];;){if((-8&h[(n=s)+4>>2])==(0|i))break i;if(s=e>>>29,e<<=1,!(s=h[16+(a=(4&s)+n|0)>>2]))break}h[a+16>>2]=o}else h[6680]=s|l,h[n>>2]=o;h[o+24>>2]=n,h[o+12>>2]=o,h[o+8>>2]=o;break n}e=h[n+8>>2],h[e+12>>2]=o,h[n+8>>2]=o,h[o+24>>2]=0,h[o+12>>2]=n,h[o+8>>2]=e}e=r+8|0;break e}t:if(p){e=h[n+28>>2];n:{if(h[(i=27020+(e<<2)|0)>>2]==(0|n)){if(h[i>>2]=r,r)break n;h[6680]=Bl(e)&u;break t}if(h[p+(h[p+16>>2]==(0|n)?16:20)>>2]=r,!r)break t}h[r+24>>2]=p,(e=h[n+16>>2])&&(h[r+16>>2]=e,h[e+24>>2]=r),(e=h[n+20>>2])&&(h[r+20>>2]=e,h[e+24>>2]=r)}o>>>0<=15?(e=o+s|0,h[n+4>>2]=3|e,h[4+(e=e+n|0)>>2]=1|h[e+4>>2]):(h[n+4>>2]=3|s,h[4+(s=n+s|0)>>2]=1|o,h[o+s>>2]=o,l&&(e=26756+((i=l>>>3)<<3)|0,r=h[6684],(i=1<<i)&a?i=h[e+8>>2]:(h[6679]=i|a,i=e),h[e+8>>2]=r,h[i+12>>2]=r,h[r+12>>2]=e,h[r+8>>2]=i),h[6684]=s,h[6681]=o),e=n+8|0}return z=t+16|0,0|e}function Oc(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+48|0}function Lc(e,t,n,i,o,a){var s,c,l=0;l=(s=h[e+4>>2])>>8,c=e=h[e>>2],1&s&&(l=h[h[i>>2]+l>>2]),r[h[h[e>>2]+20>>2]](c,t,n,i+l|0,2&s?o:2,a)}function zc(e,t,n,i){a[e+53|0]=1;e:if(h[e+4>>2]==(0|n)){if(a[e+52|0]=1,!(n=h[e+16>>2])){if(h[e+36>>2]=1,h[e+24>>2]=i,h[e+16>>2]=t,1!=(0|i)|1!=h[e+48>>2])break e;return void(a[e+54|0]=1)}if((0|t)==(0|n)){if(2==(0|(n=h[e+24>>2]))&&(h[e+24>>2]=i,n=i),1!=h[e+48>>2]|1!=(0|n))break e;return void(a[e+54|0]=1)}a[e+54|0]=1,h[e+36>>2]=h[e+36>>2]+1}}function Fc(e,t,n){var i;if(!(i=h[e+16>>2]))return h[e+36>>2]=1,h[e+24>>2]=n,void(h[e+16>>2]=t);e:{if((0|t)==(0|i)){if(2!=h[e+24>>2])break e;return void(h[e+24>>2]=n)}a[e+54|0]=1,h[e+24>>2]=2,h[e+36>>2]=h[e+36>>2]+1}}function Bc(e,t,n,i){var o,s,c,l=0,p=0,u=0,_=0,d=0,v=0,g=0,x=0,b=0,C=0,S=0,E=0,w=0;z=o=z-80|0,h[o+76>>2]=20620,c=o+55|0,s=o+56|0;e:{t:{n:for(;;){(0|b)<0||((0|l)>(2147483647-b|0)?(h[6659]=61,b=-1):b=l+b|0);i:{o:{r:{a:{s:{c:{l:{p:{u:{_:{f:{h:{m:{if(d=h[o+76>>2],_=m[0|(l=d)]){for(;;){d:{v:{g:if(p=255&_){if(37!=(0|p))break v;for(_=l;;){if(37!=m[l+1|0])break g;if(p=l+2|0,h[o+76>>2]=p,_=_+1|0,u=m[l+2|0],l=p,37!=(0|u))break}}else _=l;if(l=_-d|0,e&&Do(e,d,l),l)continue n;C=-1,_=1,p=o,l=h[o+76>>2],36!=m[l+2|0]|a[h[o+76>>2]+1|0]+-48>>>0>=10||(C=a[l+1|0]+-48|0,E=1,_=3),l=_+l|0,h[p+76>>2]=l,_=0;g:if((u=(S=a[0|l])+-32|0)>>>0>31)p=l;else if(p=l,75913&(u=1<<u))for(;;){if(p=l+1|0,h[o+76>>2]=p,_|=u,(u=(S=a[l+1|0])+-32|0)>>>0>31)break g;if(l=p,!(75913&(u=1<<u)))break}g:if(42!=(0|S)){if((0|(x=Nn(o+76|0)))<0)break t;l=h[o+76>>2]}else{if(v=o,a[p+1|0]+-48>>>0>=10||(l=h[o+76>>2],36!=m[l+2|0])){if(E)break t;E=0,x=0,e&&(l=h[t>>2],h[t>>2]=l+4,x=h[l>>2]),l=h[o+76>>2]+1|0}else h[((a[l+1|0]<<2)+i|0)-192>>2]=10,x=h[((a[l+1|0]<<3)+n|0)-384>>2],E=1,l=l+3|0;if(h[v+76>>2]=l,(0|x)>-1)break g;x=0-x|0,_|=8192}u=-1;g:if(46==m[0|l])if(42!=m[l+1|0])h[o+76>>2]=l+1,u=Nn(o+76|0),l=h[o+76>>2];else{if(!(a[l+2|0]+-48>>>0>=10)&&(l=h[o+76>>2],36==m[l+3|0])){h[((a[l+2|0]<<2)+i|0)-192>>2]=10,u=h[((a[l+2|0]<<3)+n|0)-384>>2],l=l+4|0,h[o+76>>2]=l;break g}if(E)break t;e?(l=h[t>>2],h[t>>2]=l+4,u=h[l>>2]):u=0,l=h[o+76>>2]+2|0,h[o+76>>2]=l}for(p=0;;){if(w=p,g=-1,a[0|l]+-65>>>0>57)break e;if(S=l+1|0,h[o+76>>2]=S,p=a[0|l],l=S,!((p=m[17087+(p+y(w,58)|0)|0])+-1>>>0<8))break}if(!p)break e;g:{A:{y:{if(19==(0|p)){if((0|C)<=-1)break y;break e}if((0|C)<0)break A;h[(C<<2)+i>>2]=p,p=h[4+(l=(C<<3)+n|0)>>2],h[o+64>>2]=h[l>>2],h[o+68>>2]=p}if(l=0,!e)continue n;break g}if(!e)break i;Rn(o- -64|0,p,t),S=h[o+76>>2]}if(v=-65537&_,_=8192&_?v:_,g=0,C=17121,p=s,l=a[S+-1|0],(S=(l=w&&3==(15&l)?-33&l:l)+-88|0)>>>0<=32)break d;g:{A:{y:{x:{if((v=l+-65|0)>>>0>6){if(83!=(0|l))break o;if(!u)break x;p=h[o+64>>2];break A}switch(v-1|0){case 1:break y;case 0:case 2:break o;default:break m}}l=0,Go(e,32,x,0,_);break g}h[o+12>>2]=0,h[o+8>>2]=h[o+64>>2],h[o+64>>2]=o+8,u=-1,p=o+8|0}l=0;A:{for(;;){if(!(d=h[p>>2]))break A;if(!((v=(0|(d=Mn(o+4|0,d)))<0)|d>>>0>u-l>>>0)){if(p=p+4|0,u>>>0>(l=l+d|0)>>>0)continue;break A}break}if(g=-1,v)break e}if(Go(e,32,x,l,_),l)for(u=0,p=h[o+64>>2];;){if(!(d=h[p>>2]))break g;if((0|(u=(d=Mn(o+4|0,d))+u|0))>(0|l))break g;if(Do(e,o+4|0,d),p=p+4|0,!(u>>>0<l>>>0))break}else l=0}Go(e,32,x,l,8192^_),l=(0|x)>(0|l)?x:l;continue n}p=l+1|0,h[o+76>>2]=p,_=m[l+1|0],l=p;continue}break}switch(S-1|0){case 28:break s;case 21:break c;case 23:break p;case 22:break u;case 11:case 16:break _;case 10:break f;case 26:break h;case 8:case 12:case 13:case 14:break m;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 9:case 15:case 17:case 18:case 19:case 20:case 24:case 25:case 27:case 29:case 30:break o;default:break l}}if(g=b,e)break e;if(!E)break i;for(l=1;;){if(e=h[(l<<2)+i>>2]){if(Rn((l<<3)+n|0,e,t),g=1,10!=(0|(l=l+1|0)))continue;break e}break}if(g=1,l>>>0>9)break e;if(g=-1,h[(l<<2)+i>>2])break e;for(;!h[((l=l+1|0)<<2)+i>>2]&&10!=(0|l););g=l>>>0<10?-1:1;break e}l=0|r[737](e,A[o+64>>3],x,u,_,l);continue}p=(l=oo(d=(l=h[o+64>>2])||17131,u))||u+d|0,_=v,u=l?l-d|0:u;break o}a[o+55|0]=h[o+64>>2],u=1,d=c,_=v;break o}if(l=v=h[o+68>>2],d=h[o+64>>2],(0|l)<-1||(0|l)<=-1&&!(d>>>0>4294967295)){l=0-(l+(0<d>>>0)|0)|0,d=0-d|0,h[o+64>>2]=d,h[o+68>>2]=l,g=1,C=17121;break a}if(2048&_){g=1,C=17122;break a}C=(g=1&_)?17123:17121;break a}if(d=ao(h[o+64>>2],h[o+68>>2],s),!(8&_))break r;u=(0|u)>(0|(l=s-d|0))?u:l+1|0;break r}u=u>>>0>8?u:8,_|=8,l=120}if(d=ro(h[o+64>>2],h[o+68>>2],s,32&l),!(8&_)|!(h[o+64>>2]|h[o+68>>2]))break r;C=17121+(l>>>4)|0,g=2;break r}if(l=0,(p=255&w)>>>0>7)continue;switch(p-1|0){default:case 0:h[h[o+64>>2]>>2]=b;continue;case 1:p=h[o+64>>2],h[p>>2]=b,h[p+4>>2]=b>>31;continue;case 2:f[h[o+64>>2]>>1]=b;continue;case 3:a[h[o+64>>2]]=b;continue;case 5:h[h[o+64>>2]>>2]=b;continue;case 4:continue;case 6:}p=h[o+64>>2],h[p>>2]=b,h[p+4>>2]=b>>31;continue}d=h[o+64>>2],l=h[o+68>>2],C=17121}d=$r(d,l,s)}_=(0|u)>-1?-65537&_:_,!!((l=h[o+64>>2])|(v=h[o+68>>2]))|u?u=(0|u)>(0|(l=!(l|v)+(s-d|0)|0))?u:l:(d=s,u=0)}Go(e,32,l=(0|x)<(0|(p=(u=(0|u)<(0|(v=p-d|0))?v:u)+g|0))?p:x,p,_),Do(e,C,g),Go(e,48,l,p,65536^_),Go(e,48,u,v,0),Do(e,d,v),Go(e,32,l,p,8192^_);continue}break}g=0;break e}g=-1}return z=o+80|0,g}function Uc(e,t,n,i){var o,r,a,s,c=0,l=0,p=0,u=0,_=0,f=0,m=0;for(z=o=z-16|0,p=h[e+12>>2],s=h[8+(u=p+((n+i|0)/2<<4)|0)>>2],r=h[u+4>>2],a=h[u>>2],u=n,_=i;;){e:{if(!((0|(l=h[4+(c=(u<<4)+p|0)>>2]))<(0|r))){if((0|l)!=(0|r))break e;if(!((0|(l=h[c>>2]))<(0|a))&&(0|l)!=(0|a)|h[c+8>>2]>=(0|s))break e}u=u+1|0;continue}for(;;){e:{if(!((0|r)<(0|(f=h[4+(l=(m=_<<4)+p|0)>>2])))){if((0|r)!=(0|f))break e;if(!((0|a)<(0|(f=h[l>>2])))&&(0|a)!=(0|f)|(0|s)>=h[l+8>>2])break e}_=_+-1|0;continue}break}if((0|u)<=(0|_)&&(p=h[c+12>>2],h[o+8>>2]=h[c+8>>2],h[o+12>>2]=p,p=h[c+4>>2],h[o>>2]=h[c>>2],h[o+4>>2]=p,p=h[l+4>>2],h[c>>2]=h[l>>2],h[c+4>>2]=p,p=h[l+12>>2],h[c+8>>2]=h[l+8>>2],h[c+12>>2]=p,p=h[o+4>>2],c=h[e+12>>2]+m|0,h[c>>2]=h[o>>2],h[c+4>>2]=p,l=h[o+12>>2],h[c+8>>2]=h[o+8>>2],h[c+12>>2]=l,_=_+-1|0,u=u+1|0),!((0|u)<=(0|_)))break;p=h[e+12>>2]}(0|_)>(0|n)&&Uc(e,t,n,_),(0|u)<(0|i)&&Uc(e,t,u,i),z=o+16|0}function jc(e,t,n,i){var o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,m=0,d=0;r=h[e+4>>2];e:{if(h[e>>2]==(0|t)){if(o=2,(0|t)!=(0|r))break e;return r=h[t+12>>2],t=h[h[t+8>>2]+12>>2],s=h[t+96>>2],_=h[r+96>>2]-s|0,e=h[e+12>>2],o=h[t+92>>2],c=h[e+92>>2]-o|0,o=h[r+92>>2]-o|0,s=h[e+96>>2]-s|0,a=l=y(_,c)-y(o,s)|0,u=l>>31,l=h[n+8>>2],f=h[i+4>>2],m=h[n+4>>2],d=h[i+8>>2],p=zl(a,u,p=y(l,f)-y(m,d)|0,p>>31),u=F,a=o,o=(o=h[e+88>>2])-(e=h[t+88>>2])|0,r=h[r+88>>2]-e|0,t=e=y(a,o)-y(r,c)|0,a=e>>31,i=h[i>>2],n=h[n>>2],c=zl(t,a,e=y(i,m)-y(n,f)|0,e>>31),e=F+u|0,e=(t=c+p|0)>>>0<c>>>0?e+1|0:e,a=t,n=zl(o=t=y(r,s)-y(o,_)|0,r=t>>31,t=y(n,d)-y(i,l)|0,t>>31),e=F+e|0,(0|(e=(t=a+n|0)>>>0<n>>>0?e+1|0:e))>0||(0|e)>=0&&!(t>>>0<=0)?2:1}o=(0|t)==(0|r)}return o}function kc(e,t,n,i){var o,r=0,a=0,s=0,c=0,l=0,p=0,u=0;z=o=z-16|0;e:if((r=n-t|0)>>>0<=2){switch(r-1|0){default:h[i>>2]=0,h[i+4>>2]=0,h[i+8>>2]=0,h[i+12>>2]=0;break e;case 1:if(r=h[h[e+92>>2]+(t<<2)>>2],t=h[r+204>>2],(0|(c=h[r+88>>2]))!=(0|(s=h[r+200>>2]))|(0|(a=h[r+92>>2]))!=(0|t)||(t=a,h[r+96>>2]!=h[r+208>>2])){n=r+112|0,(t=a-t|0)|(a=c-s|0)?(h[r+4>>2]=n,h[r>>2]=n,h[r+116>>2]=r,h[r+112>>2]=r,s=(c=(0|t)<0)&!a,s|=a=(0|a)<0,h[i+4>>2]=s?n:r,h[i>>2]=s?r:n,a&!t||c?(h[i+8>>2]=r,t=n):(h[i+8>>2]=n,t=r)):(a=h[r+96>>2]>h[r+208>>2],h[(t=a?n:r)+4>>2]=t,h[t>>2]=t,h[i+8>>2]=t,h[i+4>>2]=t,h[i>>2]=t,n=a?r:n,r=t),h[i+12>>2]=t,e=Gc(e,r,n),h[e+4>>2]=e,h[e>>2]=e,h[r+8>>2]=e,e=h[e+8>>2],h[e+4>>2]=e,h[e>>2]=e,h[n+8>>2]=e;break e}h[r+8>>2]=0,h[r+4>>2]=r,h[r>>2]=r,h[i+12>>2]=r,h[i+8>>2]=r,h[i+4>>2]=r,h[i>>2]=r;break e;case 0:}e=h[h[e+92>>2]+(t<<2)>>2],h[e+8>>2]=0,h[e+4>>2]=e,h[e>>2]=e,h[i+12>>2]=e,h[i+8>>2]=e,h[i+4>>2]=e,h[i>>2]=e}else{t:if(!((0|(r=a=((0|r)/2|0)+t|0))>=(0|n))){for(s=h[e+92>>2],r=h[(s+(a<<2)|0)-4>>2],l=h[r+88>>2],p=h[r+96>>2],u=h[r+92>>2],r=a;;){if(c=h[(r<<2)+s>>2],(0|l)!=h[c+88>>2]|(0|u)!=h[c+92>>2]|(0|p)!=h[c+96>>2])break t;if((0|(r=r+1|0))==(0|n))break}r=n}kc(e,t,a,i),h[o+8>>2]=0,h[o+12>>2]=0,h[o>>2]=0,h[o+4>>2]=0,kc(e,r,n,o),co(e,i,o)}z=o+16|0}function Gc(e,t,n){var i=0,o=0,a=0,s=0,c=0,l=0;if(!((a=h[e+56>>2])||((i=h[e+52>>2])?h[e+52>>2]=h[i+8>>2]:(h[6657]=h[6657]+1,i=0|r[h[5255]](12,16),o=h[e+60>>2],h[i+8>>2]=0,h[i+4>>2]=o,h[6657]=h[6657]+1,h[i>>2]=r[h[5255]](y(o,24),16),h[i+8>>2]=h[e+48>>2],h[e+48>>2]=i),a=h[i>>2],(0|(s=h[i+4>>2]))<1)))for(i=0,o=a;c=o,o=o+24|0,i=i+1|0,h[c>>2]=(0|i)<(0|s)?o:0,(0|i)!=(0|s););if(h[e+56>>2]=h[a>>2],h[a+16>>2]=0,h[a+20>>2]=0,h[a+8>>2]=0,h[a+12>>2]=0,h[a>>2]=0,h[a+4>>2]=0,!((s=h[e+56>>2])||((i=h[e+52>>2])?h[e+52>>2]=h[i+8>>2]:(h[6657]=h[6657]+1,i=0|r[h[5255]](12,16),o=h[e+60>>2],h[i+8>>2]=0,h[i+4>>2]=o,h[6657]=h[6657]+1,h[i>>2]=r[h[5255]](y(o,24),16),h[i+8>>2]=h[e+48>>2],h[e+48>>2]=i),s=h[i>>2],(0|(l=h[i+4>>2]))<1)))for(i=0,o=s;c=o,o=o+24|0,i=i+1|0,h[c>>2]=(0|i)<(0|l)?o:0,(0|i)!=(0|l););return h[e+56>>2]=h[s>>2],h[s>>2]=0,h[s+4>>2]=0,h[a+8>>2]=s,h[s+8>>2]=a,o=h[e+100>>2],h[a+20>>2]=o,h[s+20>>2]=o,h[a+12>>2]=n,h[s+12>>2]=t,h[a+16>>2]=0,h[s+16>>2]=0,n=(t=h[e+116>>2])+1|0,h[e+116>>2]=n,(0|t)>=h[e+120>>2]&&(h[e+120>>2]=n),a}function Hc(e){var t=0;(t=h[e+24>>2])&&(Hc(t),Eo(t)),h[e+24>>2]=0,(t=h[e+28>>2])&&(Hc(t),Eo(t)),h[e+28>>2]=0}function Vc(e,t,n){var i=0,o=0,r=0,a=0;e:if(o=ms(e,t))if((0|(r=h[e+8>>2]))>=0){if(!r)break e;for(;;){if(!(i=h[o+32>>2]))break e;if(o=i,(0|r)==(0|(a=a+1|0)))break}}else o=h[e>>2];else o=0;i=h[n+4>>2],h[t>>2]=h[n>>2],h[t+4>>2]=i,i=h[n+28>>2],h[t+24>>2]=h[n+24>>2],h[t+28>>2]=i,i=h[n+20>>2],h[t+16>>2]=h[n+16>>2],h[t+20>>2]=i,i=h[n+12>>2],h[t+8>>2]=h[n+8>>2],h[t+12>>2]=i,hs(e,o,t)}function Wc(e){var t=0;(t=h[e>>2])&&ds(e,t),(t=h[e+4>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+4>>2]=0,h[e+8>>2]=-1,(t=h[e+32>>2])&&(m[e+36|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+32>>2]=0),h[e+16>>2]=0,h[e+32>>2]=0,h[e+24>>2]=0,h[e+28>>2]=0,a[e+36|0]=1}function qc(e,t,n){var i,o,s=0,c=0,l=0,p=x(0),u=x(0),_=x(0),v=0,A=0,y=x(0),b=x(0),C=x(0),S=0,E=0,w=x(0),T=0;if(z=i=z-32|0,o=h[e+56>>2],1!=(n-t|0)){if(E=function(e,t,n,i){var o,r=0,a=0,s=0,c=0,l=0,p=0,u=x(0),_=x(0),f=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=0,w=x(0),T=x(0),P=x(0),I=0;if(h[24+(o=z-96|0)>>2]=0,h[o+28>>2]=0,h[o+16>>2]=0,h[o+20>>2]=0,!(r=(0|n)<=(0|t))){for(E=m[e+60|0],p=t;E?(s=h[e+116>>2]+(p<<4)|0,A=g[e+44>>2],f=g[e+12>>2],y=x(x(x(d[s+4>>1])/A)+f),_=g[e+40>>2],w=g[e+8>>2],u=x(x(x(d[s+2>>1])/_)+w),T=g[e+36>>2],P=g[e+4>>2],v=x(x(x(d[s>>1])/T)+P),A=x(x(x(d[s+10>>1])/A)+f),f=x(x(x(d[s+8>>1])/_)+w),_=x(x(x(d[s+6>>1])/T)+P)):(s=h[e+76>>2]+(p<<6)|0,y=g[s+8>>2],u=g[s+4>>2],v=g[s>>2],A=g[s+24>>2],f=g[s+20>>2],_=g[s+16>>2]),b=x(x(x(A+y)*x(.5))+b),C=x(x(x(f+u)*x(.5))+C),S=x(x(x(_+v)*x(.5))+S),(0|(p=p+1|0))!=(0|n););g[o+24>>2]=b,g[o+20>>2]=C,g[o+16>>2]=S}if(E=n-t|0,u=x(x(1)/x(0|E)),g[o+24>>2]=u*b,g[o+20>>2]=u*C,g[o+16>>2]=u*S,s=t,!r)for(A=g[(i<<=2)+(o+16|0)>>2],I=i+o|0,s=p=t;(r=m[e+60|0])?(i=h[e+116>>2]+(p<<4)|0,u=g[e+44>>2],v=g[e+12>>2],b=x(x(x(d[i+4>>1])/u)+v),y=g[e+40>>2],f=g[e+8>>2],C=x(x(x(d[i+2>>1])/y)+f),_=g[e+36>>2],w=g[e+4>>2],S=x(x(x(d[i>>1])/_)+w),u=x(x(x(d[i+10>>1])/u)+v),v=x(x(x(d[i+8>>1])/y)+f),_=x(x(x(d[i+6>>1])/_)+w)):(i=h[e+76>>2]+(p<<6)|0,b=g[i+8>>2],C=g[i+4>>2],S=g[i>>2],u=g[i+24>>2],v=g[i+20>>2],_=g[i+16>>2]),y=_,h[o+12>>2]=0,g[o+8>>2]=x(u+b)*x(.5),g[o+4>>2]=x(v+C)*x(.5),g[o>>2]=x(y+S)*x(.5),g[I>>2]>A&&(r?(l=h[e+116>>2],c=h[4+(a=8+(i=r=l+(p<<4)|0)|0)>>2],h[o+40>>2]=h[a>>2],h[o+44>>2]=c,a=h[i+4>>2],h[o+32>>2]=h[i>>2],h[o+36>>2]=a,a=h[4+(r=(r=l)+(l=s<<4)|0)>>2],h[i>>2]=h[r>>2],h[i+4>>2]=a,a=h[r+12>>2],h[i+8>>2]=h[r+8>>2],h[i+12>>2]=a,i=l+h[e+116>>2]|0,l=h[o+36>>2],h[i>>2]=h[o+32>>2],h[i+4>>2]=l,r=h[o+44>>2],h[i+8>>2]=h[o+40>>2],h[i+12>>2]=r):(r=h[e+76>>2],a=h[4+(l=56+(i=r+(p<<6)|0)|0)>>2],h[o+88>>2]=h[l>>2],h[o+92>>2]=a,l=h[i+52>>2],h[o+80>>2]=h[i+48>>2],h[o+84>>2]=l,l=h[i+44>>2],h[o+72>>2]=h[i+40>>2],h[o+76>>2]=l,c=h[i+36>>2],h[(a=l=o- -64|0)>>2]=h[i+32>>2],h[a+4>>2]=c,a=h[i+28>>2],h[o+56>>2]=h[i+24>>2],h[o+60>>2]=a,a=h[i+20>>2],h[o+48>>2]=h[i+16>>2],h[o+52>>2]=a,a=h[i+12>>2],h[o+40>>2]=h[i+8>>2],h[o+44>>2]=a,a=h[i+4>>2],h[o+32>>2]=h[i>>2],h[o+36>>2]=a,c=h[4+(r=r+(a=s<<6)|0)>>2],h[i>>2]=h[r>>2],h[i+4>>2]=c,c=h[r+12>>2],h[i+8>>2]=h[r+8>>2],h[i+12>>2]=c,c=h[r+20>>2],h[i+16>>2]=h[r+16>>2],h[i+20>>2]=c,c=h[r+28>>2],h[i+24>>2]=h[r+24>>2],h[i+28>>2]=c,c=h[r+36>>2],h[i+32>>2]=h[r+32>>2],h[i+36>>2]=c,c=h[r+44>>2],h[i+40>>2]=h[r+40>>2],h[i+44>>2]=c,c=h[r+52>>2],h[i+48>>2]=h[r+48>>2],h[i+52>>2]=c,c=h[r+60>>2],h[i+56>>2]=h[r+56>>2],h[i+60>>2]=c,i=h[e+76>>2]+a|0,a=h[o+36>>2],h[i>>2]=h[o+32>>2],h[i+4>>2]=a,r=h[o+44>>2],h[i+8>>2]=h[o+40>>2],h[i+12>>2]=r,r=h[o+52>>2],h[i+16>>2]=h[o+48>>2],h[i+20>>2]=r,r=h[o+60>>2],h[i+24>>2]=h[o+56>>2],h[i+28>>2]=r,r=h[l+4>>2],h[i+32>>2]=h[l>>2],h[i+36>>2]=r,r=h[o+76>>2],h[i+40>>2]=h[o+72>>2],h[i+44>>2]=r,r=h[o+84>>2],h[i+48>>2]=h[o+80>>2],h[i+52>>2]=r,r=h[o+92>>2],h[i+56>>2]=h[o+88>>2],h[i+60>>2]=r),s=s+1|0),(0|(p=p+1|0))!=(0|n););return i=e=(E>>1)+t|0,(0|s)>=((-1^(e=(0|E)/3|0))+n|0)||(0|s)<=(e+t|0)?i:s}(e,t,n,function(e,t,n){var i,o=0,r=x(0),a=0,s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=0,T=x(0);i=n-t|0;e:{t:{if((0|n)<=(0|t))u=x(0|i);else{for(w=m[e+60|0],o=t;w?(a=h[e+116>>2]+(o<<4)|0,l=g[e+44>>2],p=g[e+12>>2],r=x(x(x(d[a+4>>1])/l)+p),u=g[e+40>>2],f=g[e+8>>2],_=x(x(x(d[a+2>>1])/u)+f),b=g[e+36>>2],C=g[e+4>>2],A=x(x(x(d[a>>1])/b)+C),l=x(x(x(d[a+10>>1])/l)+p),p=x(x(x(d[a+8>>1])/u)+f),u=x(x(x(d[a+6>>1])/b)+C)):(a=h[e+76>>2]+(o<<6)|0,r=g[a+8>>2],_=g[a+4>>2],A=g[a>>2],l=g[a+24>>2],p=g[a+20>>2],u=g[a+16>>2]),s=x(s+x(x(l+r)*x(.5))),c=x(c+x(x(p+_)*x(.5))),y=x(y+x(x(u+A)*x(.5))),(0|(o=o+1|0))!=(0|n););if(u=x(0|i),r=x(0),(0|n)>(0|t))break t}s=x(0),c=x(0);break e}for(r=x(x(1)/u),b=x(r*s),C=x(r*c),T=x(r*y),c=x(0),a=m[e+60|0],s=x(0),r=x(0);a?(o=h[e+116>>2]+(t<<4)|0,l=g[e+44>>2],p=g[e+12>>2],y=x(x(x(d[o+4>>1])/l)+p),f=g[e+40>>2],v=g[e+8>>2],_=x(x(x(d[o+2>>1])/f)+v),S=g[e+36>>2],E=g[e+4>>2],A=x(x(x(d[o>>1])/S)+E),l=x(x(x(d[o+10>>1])/l)+p),p=x(x(x(d[o+8>>1])/f)+v),f=x(x(x(d[o+6>>1])/S)+E)):(o=h[e+76>>2]+(t<<6)|0,y=g[o+8>>2],_=g[o+4>>2],A=g[o>>2],l=g[o+24>>2],p=g[o+20>>2],f=g[o+16>>2]),v=c,c=x(x(x(l+y)*x(.5))-b),c=x(v+x(c*c)),v=s,s=x(x(x(p+_)*x(.5))-C),s=x(v+x(s*s)),v=r,r=x(x(x(f+A)*x(.5))-T),r=x(v+x(r*r)),(0|n)!=(0|(t=t+1|0)););}return _=x(x(1)/x(u+x(-1))),s=x(_*s),c=x(_*c),(r=x(_*r))<s?s<c?2:1:(r<c)<<1}(e,t,n)),A=h[e+56>>2],m[e+60|0]?(u=g[e+40>>2],_=g[e+8>>2],y=g[e+24>>2],b=g[e+44>>2],C=g[e+12>>2],w=g[e+28>>2],s=c=h[e+136>>2]+(A<<4)|0,l=(p=x(x(g[e+20>>2]-g[e+4>>2])*g[e+36>>2]))<x(4294967296)&p>=x(0)?~~p>>>0:0,f[s>>1]=65534&l,s=c,l=(p=x(x(w-C)*b))<x(4294967296)&p>=x(0)?~~p>>>0:0,f[s+4>>1]=65534&l,s=(p=x(x(y-_)*u))<x(4294967296)&p>=x(0)?~~p>>>0:0,f[c+2>>1]=65534&s):(v=h[e+24>>2],c=h[e+96>>2]+(A<<6)|0,h[c>>2]=h[e+20>>2],h[c+4>>2]=v,s=h[e+32>>2],h[c+8>>2]=h[e+28>>2],h[c+12>>2]=s),c=h[e+56>>2],m[e+60|0]?(y=g[e+40>>2],p=g[e+8>>2],b=g[e+44>>2],u=g[e+12>>2],s=c=h[e+136>>2]+(c<<4)|0,_=g[e+4>>2],l=(_=x(x(x(_-_)*g[e+36>>2])+x(1)))<x(4294967296)&_>=x(0)?~~_>>>0:0,f[s+6>>1]=1|l,s=c,l=(u=x(x(x(u-u)*b)+x(1)))<x(4294967296)&u>=x(0)?~~u>>>0:0,f[s+10>>1]=1|l,s=(p=x(x(x(p-p)*y)+x(1)))<x(4294967296)&p>=x(0)?~~p>>>0:0,f[c+8>>1]=1|s):(v=h[e+8>>2],c=h[e+96>>2]+(c<<6)|0,h[c+16>>2]=h[e+4>>2],h[c+20>>2]=v,s=h[e+16>>2],h[c+24>>2]=h[e+12>>2],h[c+28>>2]=s),v=h[e+56>>2],(0|n)>(0|t))for(c=t;m[e+60|0]?(s=h[e+116>>2]+(c<<4)|0,l=d[s+4>>1],S=d[s+2>>1],T=d[s>>1],p=g[e+44>>2],u=g[e+40>>2],_=g[e+36>>2],h[i+28>>2]=0,y=g[e+4>>2],g[i+16>>2]=x(x(T>>>0)/_)+y,b=g[e+8>>2],g[i+20>>2]=x(x(S>>>0)/u)+b,C=g[e+12>>2],g[i+24>>2]=x(x(l>>>0)/p)+C,l=d[s+6>>1],S=d[s+8>>1],s=d[s+10>>1],h[i+12>>2]=0,g[i+8>>2]=C+x(x(s>>>0)/p),g[i+4>>2]=b+x(x(S>>>0)/u),g[i>>2]=y+x(x(l>>>0)/_)):(s=h[e+76>>2]+(c<<6)|0,l=h[s+12>>2],h[i+24>>2]=h[s+8>>2],h[i+28>>2]=l,l=h[s+4>>2],h[i+16>>2]=h[s>>2],h[i+20>>2]=l,l=h[s+28>>2],h[i+8>>2]=h[s+24>>2],h[i+12>>2]=l,l=h[s+20>>2],h[i>>2]=h[s+16>>2],h[i+4>>2]=l),po(e,v,i+16|0,i),v=h[e+56>>2],(0|(c=c+1|0))!=(0|n););s=v+1|0,h[e+56>>2]=s,qc(e,t,E),v=h[e+56>>2],qc(e,E,n),!(c=m[e+60|0])|(0|(t=h[e+56>>2]-o|0))<129||(function(e,t,n){var i,o,s,c,l=0,p=0,u=0,_=0,v=0,g=0,A=0,y=0;if(z=i=z-32|0,o=h[e+136>>2],s=(0|(l=h[12+(o+(n<<4)|0)>>2]))>-1?1:0-l|0,(0|(c=(0|(l=h[12+((t<<4)+o|0)>>2]))>-1?1:0-l|0))<=128){if((0|(l=u=h[e+152>>2]))==h[e+156>>2]&&!((0|(l=u))>=(0|(g=l?l<<1:1)))){if(g?(h[6657]=h[6657]+1,l=0|r[h[5255]](g<<5,16),_=h[e+152>>2]):(l=0,_=u),(0|_)>=1)for(;v=(p=A<<5)+l|0,p=p+h[e+160>>2]|0,y=h[p+4>>2],h[v>>2]=h[p>>2],h[v+4>>2]=y,y=h[p+28>>2],h[v+24>>2]=h[p+24>>2],h[v+28>>2]=y,y=h[p+20>>2],h[v+16>>2]=h[p+16>>2],h[v+20>>2]=y,y=h[p+12>>2],h[v+8>>2]=h[p+8>>2],h[v+12>>2]=y,(0|_)!=(0|(A=A+1|0)););(_=h[e+160>>2])&&(m[e+164|0]&&_&&(h[6658]=h[6658]+1,r[h[5256]](_)),h[e+160>>2]=0),h[e+160>>2]=l,h[e+156>>2]=g,a[e+164|0]=1,l=h[e+152>>2]}h[e+152>>2]=l+1,p=h[(l=i)+4>>2],u=(_=u<<5)+h[e+160>>2]|0,h[u>>2]=h[l>>2],h[u+4>>2]=p,p=h[l+28>>2],h[u+24>>2]=h[l+24>>2],h[u+28>>2]=p,p=h[l+20>>2],h[u+16>>2]=h[l+16>>2],h[u+20>>2]=p,p=h[l+12>>2],h[u+8>>2]=h[l+8>>2],h[u+12>>2]=p,l=_+h[e+160>>2]|0,u=(t<<4)+o|0,f[l>>1]=d[u>>1],f[l+2>>1]=d[u+2>>1],f[l+4>>1]=d[u+4>>1],f[l+6>>1]=d[u+6>>1],f[l+8>>1]=d[u+8>>1],u=d[u+10>>1],h[l+16>>2]=c,h[l+12>>2]=t,f[l+10>>1]=u}if((0|s)<=128){if((0|(l=u=h[e+152>>2]))==h[e+156>>2]&&!((0|(l=u))>=(0|(v=l?l<<1:1)))){if(v?(h[6657]=h[6657]+1,t=0|r[h[5255]](v<<5,16),l=h[e+152>>2]):(t=0,l=u),(0|l)>=1)for(A=0;_=(p=A<<5)+t|0,p=p+h[e+160>>2]|0,g=h[p+4>>2],h[_>>2]=h[p>>2],h[_+4>>2]=g,g=h[p+28>>2],h[_+24>>2]=h[p+24>>2],h[_+28>>2]=g,g=h[p+20>>2],h[_+16>>2]=h[p+16>>2],h[_+20>>2]=g,g=h[p+12>>2],h[_+8>>2]=h[p+8>>2],h[_+12>>2]=g,(0|l)!=(0|(A=A+1|0)););(l=h[e+160>>2])&&(m[e+164|0]&&l&&(h[6658]=h[6658]+1,r[h[5256]](l)),h[e+160>>2]=0),h[e+160>>2]=t,h[e+156>>2]=v,a[e+164|0]=1,l=h[e+152>>2]}h[e+152>>2]=l+1,p=h[(t=i)+4>>2],l=(u<<=5)+h[e+160>>2]|0,h[l>>2]=h[t>>2],h[l+4>>2]=p,_=h[t+28>>2],h[l+24>>2]=h[t+24>>2],h[l+28>>2]=_,_=h[t+20>>2],h[l+16>>2]=h[t+16>>2],h[l+20>>2]=_,_=h[t+12>>2],h[l+8>>2]=h[t+8>>2],h[l+12>>2]=_,t=u+h[e+160>>2]|0,l=(n<<4)+o|0,f[t>>1]=d[l>>1],f[t+2>>1]=d[l+2>>1],f[t+4>>1]=d[l+4>>1],f[t+6>>1]=d[l+6>>1],f[t+8>>1]=d[l+8>>1],l=d[l+10>>1],h[t+16>>2]=s,h[t+12>>2]=n,f[t+10>>1]=l}h[e+168>>2]=h[e+152>>2],z=i+32|0}(e,s,v),c=m[e+60|0]),255&c?h[12+(h[e+136>>2]+(A<<4)|0)>>2]=0-t:h[32+(h[e+96>>2]+(A<<6)|0)>>2]=t}else m[e+60|0]?(t=h[e+116>>2]+(t<<4)|0,A=h[(s=t)+4>>2],n=h[e+136>>2]+(o<<4)|0,h[(c=n)>>2]=h[s>>2],h[c+4>>2]=A):(t=h[e+76>>2]+(t<<6)|0,A=h[(c=t)+4>>2],n=h[e+96>>2]+(o<<6)|0,h[(s=n)>>2]=h[c>>2],h[s+4>>2]=A,s=h[c+60>>2],h[n+56>>2]=h[c+56>>2],h[n+60>>2]=s,s=h[c+52>>2],h[n+48>>2]=h[c+48>>2],h[n+52>>2]=s,s=h[c+44>>2],h[n+40>>2]=h[c+40>>2],h[n+44>>2]=s,s=h[c+36>>2],h[n+32>>2]=h[c+32>>2],h[n+36>>2]=s,s=h[c+28>>2],h[n+24>>2]=h[c+24>>2],h[n+28>>2]=s,s=h[c+20>>2],h[n+16>>2]=h[c+16>>2],h[n+20>>2]=s),c=h[t+12>>2],h[n+8>>2]=h[t+8>>2],h[n+12>>2]=c,h[e+56>>2]=h[e+56>>2]+1;z=i+32|0}function Yc(e,t,n){var i=0,o=0,s=0,c=0,l=x(0),p=0,u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=0;e:{if(m[e+165|0]){if(!(!n|(0|(i=h[e+88>>2]))<1))for(s=h[e+96>>2],_=g[e+168>>2],f=g[t+8>>2],d=g[t+4>>2],v=g[t>>2],n=0;;){if(l=x(g[(o=s+(n<<4)|0)>>2]-v),u=x(l*l),l=x(g[o+4>>2]-d),u=x(u+x(l*l)),l=x(g[o+8>>2]-f),x(u+x(l*l))<=_)break e;if(!((0|(n=n+1|0))<(0|i)))break}if(n=h[e+32>>2],h[n+12>>2]=h[n+12>>2]+1,h[e+92>>2]==(0|i)&&!((0|i)>=(0|(o=i?i<<1:1)))){if(o&&(h[6657]=h[6657]+1,c=0|r[h[5255]](o<<4,16),i=h[e+88>>2]),(0|i)>=1)for(n=0;p=(s=n<<4)+c|0,s=s+h[e+96>>2]|0,A=h[s+4>>2],h[p>>2]=h[s>>2],h[p+4>>2]=A,A=h[s+12>>2],h[p+8>>2]=h[s+8>>2],h[p+12>>2]=A,(0|i)!=(0|(n=n+1|0)););(n=h[e+96>>2])&&(m[e+100|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+96>>2]=0),h[e+96>>2]=c,h[e+92>>2]=o,a[e+100|0]=1,i=h[e+88>>2]}return n=h[e+96>>2]+(i<<4)|0,i=h[t+4>>2],h[n>>2]=h[t>>2],h[n+4>>2]=i,i=h[t+12>>2],h[n+8>>2]=h[t+8>>2],h[n+12>>2]=i,t=h[e+88>>2],h[e+88>>2]=t+1,h[h[e+32>>2]+16>>2]=h[e+96>>2],t}t:if(!(!n|(0|(i=h[e+108>>2]))<1)){for(s=h[e+116>>2],_=g[e+168>>2],f=g[t+8>>2],d=g[t+4>>2],v=g[t>>2],n=0;;){if(l=x(g[(o=s+(n<<2)|0)>>2]-v),u=x(l*l),l=x(g[o+4>>2]-d),u=x(u+x(l*l)),l=x(g[o+8>>2]-f),!(x(u+x(l*l))<=_)){if((0|(n=n+3|0))<(0|i))continue;break t}break}return(n>>>0)/3|0}if((0|(o=h[e+112>>2]))==(0|i))if((0|i)>=(0|(o=i?i<<1:1)))o=i;else{n=0,o&&(h[6657]=h[6657]+1,c=0|r[h[5255]](o<<2,16),i=h[e+108>>2]),s=h[e+116>>2];t:{n:{if((0|i)>=1)for(;;)if(h[(p=n<<2)+c>>2]=h[s+p>>2],(0|i)==(0|(n=n+1|0)))break n;if(!s)break t}m[e+120|0]&&(s&&(h[6658]=h[6658]+1,r[h[5256]](s)),i=h[e+108>>2]),h[e+116>>2]=0}h[e+116>>2]=c,h[e+112>>2]=o,a[e+120|0]=1}if(c=h[e+116>>2],h[c+(i<<2)>>2]=h[t>>2],n=i+1|0,h[e+108>>2]=n,(0|n)==(0|o))if((0|o)>=(0|(s=o?o<<1:1)))i=c,s=o;else{n=0,i=0,s&&(h[6657]=h[6657]+1,i=0|r[h[5255]](s<<2,16),o=h[e+108>>2],c=h[e+116>>2]);t:{n:{if((0|o)>=1)for(;;)if(h[(p=n<<2)+i>>2]=h[c+p>>2],(0|o)==(0|(n=n+1|0)))break n;if(!c)break t}m[e+120|0]&&(c&&(h[6658]=h[6658]+1,r[h[5256]](c)),o=h[e+108>>2]),h[e+116>>2]=0}h[e+116>>2]=i,h[e+112>>2]=s,a[e+120|0]=1}else i=c,s=o,o=n;if(h[(o<<2)+i>>2]=h[t+4>>2],n=o+1|0,h[e+108>>2]=n,(0|n)==(0|s))if((0|s)>=(0|(o=s?s<<1:1)))c=i;else{n=0,c=0,o&&(h[6657]=h[6657]+1,c=0|r[h[5255]](o<<2,16),s=h[e+108>>2],i=h[e+116>>2]);t:{n:{if((0|s)>=1)for(;;)if(h[(p=n<<2)+c>>2]=h[i+p>>2],(0|s)==(0|(n=n+1|0)))break n;if(!i)break t}m[e+120|0]&&(i&&(h[6658]=h[6658]+1,r[h[5256]](i)),s=h[e+108>>2]),h[e+116>>2]=0}h[e+116>>2]=c,h[e+112>>2]=o,a[e+120|0]=1}else c=i,s=n;h[(s<<2)+c>>2]=h[t+8>>2],t=s+1|0,h[e+108>>2]=t,e=h[e+32>>2],h[e+16>>2]=c,h[e+12>>2]=h[e+12>>2]+1,n=((0|t)/3|0)-1|0}return n}function Xc(e,t,n){var i,o=0,s=0,c=0;if(h[e>>2]=15916,a[e+36|0]=1,h[e+12>>2]=1065353216,h[e+16>>2]=0,h[e+4>>2]=1065353216,h[e+8>>2]=1065353216,h[e+32>>2]=0,h[e+48>>2]=0,h[e+24>>2]=0,h[e+28>>2]=0,a[e+100|0]=1,h[e+96>>2]=0,a[e+120|0]=1,h[e+88>>2]=0,h[e+92>>2]=0,h[e+116>>2]=0,a[e+140|0]=1,h[e+108>>2]=0,h[e+112>>2]=0,h[e+136>>2]=0,a[e+160|0]=1,h[e+128>>2]=0,h[e+132>>2]=0,h[e+168>>2]=0,a[e+164|0]=t,h[e+148>>2]=0,h[e+152>>2]=0,h[e+156>>2]=0,a[e+165|0]=n,h[6657]=h[6657]+1,c=0|r[h[5255]](32,16),(0|(i=h[e+24>>2]))>=1)for(;n=(t=s<<5)+c|0,t=t+h[e+32>>2]|0,o=h[t+4>>2],h[n>>2]=h[t>>2],h[n+4>>2]=o,o=h[t+28>>2],h[n+24>>2]=h[t+24>>2],h[n+28>>2]=o,o=h[t+20>>2],h[n+16>>2]=h[t+16>>2],h[n+20>>2]=o,o=h[t+12>>2],h[n+8>>2]=h[t+8>>2],h[n+12>>2]=o,(0|i)!=(0|(s=s+1|0)););(t=h[e+32>>2])&&(m[e+36|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+32>>2]=0),h[e+32>>2]=c,a[e+36|0]=1,h[e+28>>2]=1,t=c+(h[e+24>>2]<<5)|0,h[t+24>>2]=2,h[t+28>>2]=0,h[t+16>>2]=0,h[t+20>>2]=16,h[t+8>>2]=12,h[t+12>>2]=0,h[t>>2]=0,h[t+4>>2]=0,h[e+24>>2]=h[e+24>>2]+1,n=m[e+164|0],c=h[(n?128:148)+e>>2],t=h[e+32>>2],h[t+24>>2]=n?2:3,h[t+4>>2]=0,s=12,h[t+8>>2]=n?12:6,h[t>>2]=(0|c)/3,m[e+165|0]?(s=16,e=h[e+88>>2]):e=h[e+108>>2]/3|0,h[t+20>>2]=s,h[t+16>>2]=0,h[t+12>>2]=e}function Qc(e,t){e|=0,t=x(t);var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,g[12+(e=z-16|0)>>2]=g[n+8>>2],g[5249]=g[e+12>>2],z=n+16|0}function Zc(e,t){e|=0,t|=0;var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+40>>2]](e,h[n+8>>2]),z=n+16|0}function Jc(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o;z=o=z-16|0,h[o+12>>2]=e,h[o+8>>2]=t,h[o+4>>2]=n,h[o>>2]=i,e=h[o+12>>2],r[h[h[e>>2]+36>>2]](e,h[o+8>>2],h[o+4>>2],h[o>>2]),z=o+16|0}function Kc(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,e=function(e){var t;return z=t=z-16|0,h[t+12>>2]=e,e=h[h[t+12>>2]+68>>2],e=0|r[h[h[e>>2]+36>>2]](e),z=t+16|0,e}(h[t+12>>2]),z=t+16|0,0|e}function $c(e,t,n,i,o,r,a){e|=0,t|=0,n|=0,i|=0,o|=0,r|=0,a|=0;var s;z=s=z-32|0,h[s+28>>2]=e,h[s+24>>2]=t,h[s+20>>2]=n,h[s+16>>2]=i,h[s+12>>2]=o,h[s+8>>2]=r,h[s+4>>2]=a,function(e,t,n,i,o,r){var a=0;z=a=z-32|0,h[a+24>>2]=-1,h[a+28>>2]=-1,h[a+20>>2]=o,h[a+16>>2]=n,h[a+12>>2]=i,h[a+8>>2]=0,fl(e,t,a+8|0,r),z=a+32|0}(h[s+24>>2],h[s+20>>2],h[s+16>>2],h[s+12>>2],h[s+8>>2],h[s+4>>2]),z=s+32|0}function el(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o;z=o=z-16|0,h[o+12>>2]=e,h[o+8>>2]=t,h[o+4>>2]=n,h[o>>2]=i,e=h[o+12>>2],r[h[h[e>>2]+32>>2]](e,h[o+8>>2],h[o+4>>2],h[o>>2]),z=o+16|0}function tl(e,t,n,i){var o,r,a=x(0),s=0,c=0,l=0,p=0,u=x(0),_=x(0),f=0,m=x(0),d=x(0),v=x(0),A=x(0),b=0,C=x(0),S=x(0),E=x(0);for(z=o=z-32|0,l=(c=h[e+12>>2])+y((n+i|0)/2|0,24)|0,r=h[l+20>>2],m=g[l+16>>2],C=g[l+8>>2],S=g[l+4>>2],E=g[l>>2],l=n,f=i;;){for(d=g[t>>2],u=x(E-d),_=x(u*u),v=g[t+4>>2],u=x(S-v),_=x(_+x(u*u)),A=g[t+8>>2],u=x(C-A),u=x(_+x(u*u));;){e:{s=y(l,24)+c|0;t:{if((a=g[s+16>>2])!=m){if(a<m)break t;break e}if(a=x(g[s>>2]-d),_=x(a*a),a=x(g[s+4>>2]-v),_=x(_+x(a*a)),a=x(g[s+8>>2]-A),1!=(0|((a=x(_+x(a*a)))!=u?a<u:h[s+20>>2]<(0|r))))break e}l=l+1|0;continue}break}for(;;){e:{b=y(f,24);t:{if(m!=(a=g[16+(p=b+c|0)>>2])){if(m<a)break t;break e}if(a=x(g[p>>2]-d),_=x(a*a),a=x(g[p+4>>2]-v),_=x(_+x(a*a)),a=x(g[p+8>>2]-A),1!=(0|(u!=(a=x(_+x(a*a)))?u<a:(0|r)<h[p+20>>2])))break e}f=f+-1|0;continue}break}if((0|l)<=(0|f)&&(c=h[s+20>>2],h[o+24>>2]=h[s+16>>2],h[o+28>>2]=c,c=h[s+12>>2],h[o+16>>2]=h[s+8>>2],h[o+20>>2]=c,c=h[s+4>>2],h[o+8>>2]=h[s>>2],h[o+12>>2]=c,c=h[p+4>>2],h[s>>2]=h[p>>2],h[s+4>>2]=c,c=h[p+12>>2],h[s+8>>2]=h[p+8>>2],h[s+12>>2]=c,c=h[p+20>>2],h[s+16>>2]=h[p+16>>2],h[s+20>>2]=c,c=h[o+12>>2],s=h[e+12>>2]+b|0,h[s>>2]=h[o+8>>2],h[s+4>>2]=c,p=h[o+28>>2],h[s+16>>2]=h[o+24>>2],h[s+20>>2]=p,p=h[o+20>>2],h[s+8>>2]=h[o+16>>2],h[s+12>>2]=p,f=f+-1|0,l=l+1|0),!((0|l)<=(0|f)))break;c=h[e+12>>2]}(0|f)>(0|n)&&tl(e,t,n,f),(0|l)<(0|i)&&tl(e,t,l,i),z=o+32|0}function nl(e){e|=0;var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+24>>2]}function il(e,t,n){var i;z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,a[i+7|0]=n,e=h[i+12>>2],1&a[i+7|0]?Ss(e+284|0,i+8|0):ho(e+284|0,i+8|0),h[12+(t=z-16|0)>>2]=e+284,h[e+280>>2]=h[h[t+12>>2]+4>>2]>0,z=i+16|0}function ol(e){var t,n,i=x(0),o=x(0),r=x(0),a=0,s=0,c=0,l=0,p=0;for(n=(0|(t=h[e+28>>2]))<1;;){e:if(!(a>>>0>7)){switch(a-1|0){default:i=x(g[e+88>>2]+g[e+72>>2]),o=x(g[e+84>>2]+g[e+68>>2]),r=x(g[e+80>>2]+g[e+64>>2]);break e;case 0:i=x(g[e+72>>2]-g[e+88>>2]),o=x(g[e+84>>2]+g[e+68>>2]),r=x(g[e+80>>2]+g[e+64>>2]);break e;case 1:i=x(g[e+88>>2]+g[e+72>>2]),o=x(g[e+68>>2]-g[e+84>>2]),r=x(g[e+80>>2]+g[e+64>>2]);break e;case 2:i=x(g[e+72>>2]-g[e+88>>2]),o=x(g[e+68>>2]-g[e+84>>2]),r=x(g[e+80>>2]+g[e+64>>2]);break e;case 3:i=x(g[e+88>>2]+g[e+72>>2]),o=x(g[e+84>>2]+g[e+68>>2]),r=x(g[e+64>>2]-g[e+80>>2]);break e;case 4:i=x(g[e+72>>2]-g[e+88>>2]),o=x(g[e+84>>2]+g[e+68>>2]),r=x(g[e+64>>2]-g[e+80>>2]);break e;case 5:i=x(g[e+88>>2]+g[e+72>>2]),o=x(g[e+68>>2]-g[e+84>>2]),r=x(g[e+64>>2]-g[e+80>>2]);break e;case 6:}i=x(g[e+72>>2]-g[e+88>>2]),o=x(g[e+68>>2]-g[e+84>>2]),r=x(g[e+64>>2]-g[e+80>>2])}e:{if(!n)for(p=h[e+36>>2],l=0,s=0;;){if(c=y(s,36)+p|0,x(g[c+32>>2]+x(x(x(r*g[c+20>>2])+x(o*g[c+24>>2]))+x(i*g[c+28>>2])))>x(0))break e;if(!((0|(s=s+1|0))<(0|t)))break}if(l=1,8!=(0|(a=a+1|0)))continue}break}return l}function rl(e,t,n){var i,o,r=x(0),a=x(0),s=x(0),c=0,l=x(0),p=x(0);a=x(g[t+64>>2]*x(.5)),i=h[t+68>>2],c=(o=h[t+72>>2])<<2,r=g[n>>2],s=x(r*r),r=g[n+4>>2],s=x(s+x(r*r)),r=g[n+8>>2];e:{if(g[c+n>>2]>x(g[t+56>>2]*x(T(x(s+x(r*r))))))h[(i<<2)+e>>2]=0,g[e+c>>2]=a,n=h[t+76>>2];else{if(r=g[(i<<2)+n>>2],c=n,n=h[t+76>>2],l=g[c+(n<<2)>>2],(p=x(T(x(x(r*r)+x(l*l)))))>x(1.1920928955078125e-7)){s=r,r=x(g[t+60>>2]/p),g[(i<<2)+e>>2]=s*r,g[(o<<2)+e>>2]=-a,a=x(l*r);break e}h[(i<<2)+e>>2]=0,g[(o<<2)+e>>2]=-a}a=x(0)}g[(n<<2)+e>>2]=a}function al(e){return h[96+(e|=0)>>2]}function sl(e){var t,n=0,i=0,o=0,s=0,c=0,l=0,p=0,u=0;if(!((0|(t=h[e+28>>2]))>=(0|(i=h[e+12>>2])))){e:if(h[e+32>>2]>=(0|i))n=h[e+36>>2];else{o=t,i&&(h[6657]=h[6657]+1,n=0|r[h[5255]](i<<2,16),o=h[e+28>>2]),c=h[e+36>>2];t:{if((0|o)>=1)for(;;)if(h[(l=s<<2)+n>>2]=h[c+l>>2],(0|(s=s+1|0))==(0|o))break t;if(!c){h[e+36>>2]=n,h[e+32>>2]=i,a[e+40|0]=1;break e}}m[e+40|0]&&c&&(h[6658]=h[6658]+1,r[h[5256]](c)),h[e+36>>2]=n,a[e+40|0]=1,h[e+32>>2]=i}if(Co((o=t<<2)+n|0,0,(l=i<<2)-o|0),h[e+28>>2]=i,(0|(c=h[e+48>>2]))<(0|i)){e:if(h[e+52>>2]>=(0|i))n=h[e+56>>2];else{s=0,o=c,n=0,i&&(h[6657]=h[6657]+1,n=0|r[h[5255]](l,16),o=h[e+48>>2]),p=h[e+56>>2];t:{if((0|o)>=1)for(;;)if(h[(u=s<<2)+n>>2]=h[p+u>>2],(0|(s=s+1|0))==(0|o))break t;if(!p){h[e+56>>2]=n,h[e+52>>2]=i,a[e+60|0]=1;break e}}m[e+60|0]&&p&&(h[6658]=h[6658]+1,r[h[5256]](p)),h[e+56>>2]=n,a[e+60|0]=1,h[e+52>>2]=i}Co((o=c<<2)+n|0,0,l-o|0)}if(h[e+48>>2]=i,(0|i)>=1&&(Co(h[e+36>>2],255,l),Co(h[e+56>>2],255,l)),!((0|t)<1))for(o=h[e+56>>2],c=h[e+16>>2],i=h[e+36>>2],s=0;n=c+y(s,12)|0,n=h[n+4>>2]<<16|h[n>>2],n=y((n=(n<<15^-1)+n|0)>>>10^n,9),n=((n^=n>>>6)<<11^-1)+n|0,n=i+((h[e+12>>2]+-1&(n>>>16^n))<<2)|0,h[o+(s<<2)>>2]=h[n>>2],h[n>>2]=s,(0|t)!=(0|(s=s+1|0)););}}function cl(e){var t,n=0,i=0,o=0;if(h[(e|=0)>>2]=11052,(0|(t=h[e+52>>2]))>=1)for(;(i=h[(o=n<<2)+h[e+60>>2]>>2])&&(r[h[h[i>>2]>>2]](i),i=h[e+4>>2],r[h[h[i>>2]+60>>2]](i,h[h[e+60>>2]+o>>2])),(0|t)!=(0|(n=n+1|0)););return(n=h[e+60>>2])&&(m[e- -64|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+60>>2]=0),h[e+60>>2]=0,h[e+52>>2]=0,h[e+56>>2]=0,a[e- -64|0]=1,(n=h[e+40>>2])&&(m[e+44|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+40>>2]=0),h[e+40>>2]=0,h[e+32>>2]=0,h[e+36>>2]=0,a[e+44|0]=1,(n=h[e+20>>2])&&(m[e+24|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+20>>2]=0),h[e+20>>2]=0,h[e+12>>2]=0,h[e+16>>2]=0,a[e+24|0]=1,0|e}function ll(e,t,n,i,o){h[e>>2]=17096,h[e+4>>2]=h[t>>2],h[e>>2]=5592,a[e+24|0]=1,h[e>>2]=11052,h[e+20>>2]=0,a[e+44|0]=1,h[e+12>>2]=0,h[e+16>>2]=0,h[e+40>>2]=0,a[e- -64|0]=1,h[e+32>>2]=0,h[e+36>>2]=0,h[e+60>>2]=0,a[e+68|0]=o,h[e+52>>2]=0,h[e+56>>2]=0,t=h[t+4>>2],a[e+76|0]=0,h[e+72>>2]=t,h[e+80>>2]=h[h[(o?i:n)+4>>2]+72>>2],zi(e,n,i)}function pl(e,t,n,i,o,r,a,s,c,l,p){var u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0);A=g[(s=(s<<2)+l|0)>>2],y=x(g[l+48>>2]-g[c+48>>2]),E=g[s+16>>2],w=x(g[l+52>>2]-g[c+52>>2]),P=g[s+32>>2],I=x(g[l+56>>2]-g[c+56>>2]),f=x(x(x(A*y)+x(E*w))+x(P*I)),C=g[(a=(a<<2)+c|0)>>2],m=g[a+16>>2],v=g[a+32>>2],S=x(x(x(C*y)+x(m*w))+x(v*I)),d=x(x(x(C*A)+x(m*E))+x(v*P)),(_=x(x(1)-x(d*d)))!=x(0)&&((_=x(x(S-x(d*f))/_))<(u=x(-n))||(u=_)>n&&(u=n));e:{if((_=x(x(d*u)-f))<(f=x(-o))){if((o=x(S-x(d*o)))<(u=x(-n))){_=f;break e}if(!(o>n)){_=f,u=o;break e}o=f}else{if(!(_>o))break e;if((f=x(x(d*o)+S))<(u=x(-n))){_=o;break e}if(!(f>n)){_=o,u=f;break e}}_=o,u=n}if(f=x(P*_),n=x(f+x(I-x(v*u))),d=x(A*_),o=x(d+x(y-x(C*u))),_=x(E*_),u=x(_+x(w-x(m*u))),S=x(x(n*n)+x(x(o*o)+x(u*u))),A=x(T(S)),!((y=x(x(A-i)-r))>p)){e:if(S<=x(14210854715202004e-30)){if(x(b(v))>x(.7071067690849304)){h[e>>2]=0,i=x(x(1)/x(T(x(x(m*m)+x(v*v))))),n=x(m*i),g[e+8>>2]=n,u=x(i*x(-v)),g[e+4>>2]=u,i=x(0);break e}h[e+8>>2]=0,n=x(x(1)/x(T(x(x(C*C)+x(m*m))))),u=x(C*n),g[e+4>>2]=u,i=x(n*x(-m)),g[e>>2]=i,n=x(0)}else h[e+12>>2]=0,i=x(x(-1)/A),n=x(n*i),g[e+8>>2]=n,u=x(u*i),g[e+4>>2]=u,i=x(o*i),g[e>>2]=i;o=g[l+48>>2],p=g[l+52>>2],m=g[l+56>>2],h[t+12>>2]=0,g[t+8>>2]=x(f+m)+x(n*r),g[t+4>>2]=x(_+p)+x(u*r),g[t>>2]=x(d+o)+x(i*r)}return y}function ul(e,t,n,i,o,r,a){var s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),h=x(0);return s=g[i>>2],p=g[i+4>>2],u=g[i+8>>2],f=x(x(x(g[n>>2]*s)+x(g[n+4>>2]*p))+x(g[n+8>>2]*u)),c=x(x(x(s*g[e>>2])+x(p*g[e+16>>2]))+x(u*g[e+32>>2])),l=g[o+80>>2],_=x(c*(c<x(0)?x(-l):l)),c=x(x(x(s*g[e+4>>2])+x(p*g[e+20>>2]))+x(u*g[e+36>>2])),l=g[o+84>>2],_=x(_+x(c*(c<x(0)?x(-l):l))),c=x(x(x(s*g[e+8>>2])+x(p*g[e+24>>2]))+x(u*g[e+40>>2])),l=g[o+88>>2],_=(c=x(_+x(c*(c<x(0)?x(-l):l))))>(l=g[o+96>>2])?c:l,c=x(x(x(s*g[t>>2])+x(p*g[t+16>>2]))+x(u*g[t+32>>2])),l=g[r+80>>2],h=x(c*(c<x(0)?x(-l):l)),c=x(x(x(s*g[t+4>>2])+x(p*g[t+20>>2]))+x(u*g[t+36>>2])),l=g[r+84>>2],s=x(x(x(s*g[t+8>>2])+x(p*g[t+24>>2]))+x(u*g[t+40>>2])),p=g[r+88>>2],s=x(x(h+x(c*(c<x(0)?x(-l):l)))+x(s*(s<x(0)?x(-p):p))),p=g[r+96>>2],s=x(_+(s>p?s:p)),((p=x(f+s))<(s=x(s-f))?p:s)>a^1}function _l(e,t,n,i,o,s){var c,l,p,u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=0,R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=0,H=x(0),V=x(0),W=x(0);z=c=z-656|0,l=h[i+12>>2],p=h[i+4>>2];e:if((0|(I=h[p+4>>2]))<=19)g[c+652>>2]=s,h[c+648>>2]=0,h[c+480>>2]=7628,h[c+644>>2]=h[o+4>>2],a[c+452|0]=0,h[c+428>>2]=953267991,h[c+32>>2]=4956,h[20+(I=c+96|0)>>2]=0,h[I+16>>2]=p,h[I+12>>2]=e,h[I+8>>2]=c+32,h[I+4>>2]=c+120,h[I>>2]=7992,r[h[h[I>>2]+8>>2]](I,t,n,l,l,c+480|0)&&(s=g[c+612>>2],u=g[c+616>>2],_=g[c+620>>2],(f=x(x(x(s*s)+x(u*u))+x(_*_)))>x(9999999747378752e-20)&&(m=g[c+644>>2])<g[o+4>>2]&&(d=_,_=x(x(1)/x(T(f))),g[c+620>>2]=d*_,g[c+616>>2]=u*_,g[c+612>>2]=s*_,e=h[i+8>>2],h[c+52>>2]=0,h[c+48>>2]=e,t=h[c+624>>2],h[(e=c- -64|0)>>2]=h[c+620>>2],h[e+4>>2]=t,e=h[c+612>>2],t=h[c+616>>2],n=h[c+640>>2],h[c+80>>2]=h[c+636>>2],h[c+84>>2]=n,h[c+56>>2]=e,h[c+60>>2]=t,e=h[c+632>>2],h[c+72>>2]=h[c+628>>2],h[c+76>>2]=e,g[c+88>>2]=m,x(r[h[h[o>>2]+12>>2]](o,c+48|0,1))));else if((G=I+-21|0)>>>0<=8){t:if(!(G>>>0>7)){switch(G-1|0){default:u=g[l+20>>2],_=g[l+36>>2],f=g[l+24>>2],P=g[l+52>>2],b=g[l+56>>2],m=g[l+40>>2],d=g[l+32>>2],E=g[l+16>>2],A=g[l>>2],v=g[l+4>>2],C=g[l+48>>2],w=g[l+8>>2],S=g[t+52>>2],N=g[t+56>>2],D=g[t+48>>2],h[c+60>>2]=0,P=x(-P),M=x(x(x(f*P)-x(w*C))-x(m*b)),g[c+56>>2]=M+x(x(x(w*D)+x(f*S))+x(m*N)),R=x(x(x(u*P)-x(v*C))-x(_*b)),g[c+52>>2]=R+x(x(x(v*D)+x(u*S))+x(_*N)),P=x(x(x(E*P)-x(A*C))-x(d*b)),g[c+48>>2]=P+x(x(x(A*D)+x(E*S))+x(d*N)),b=g[n+52>>2],C=g[n+56>>2],S=g[n+48>>2],h[c+108>>2]=0,g[c+104>>2]=M+x(x(x(w*S)+x(f*b))+x(m*C)),g[c+100>>2]=R+x(x(x(v*S)+x(u*b))+x(_*C)),g[c+96>>2]=P+x(x(x(A*S)+x(E*b))+x(d*C)),b=g[n+20>>2],C=g[n+36>>2],S=g[n+24>>2],N=g[n+40>>2],D=g[n+32>>2],P=g[n>>2],M=g[n+16>>2],R=g[n+4>>2],O=g[n+8>>2],h[c+524>>2]=0,h[c+528>>2]=0,h[c+508>>2]=0,h[c+532>>2]=0,h[c+536>>2]=0,h[c+540>>2]=0,g[c+520>>2]=x(x(w*O)+x(f*S))+x(m*N),g[c+516>>2]=x(x(w*R)+x(f*b))+x(m*C),g[c+504>>2]=x(x(v*O)+x(u*S))+x(_*N),g[c+500>>2]=x(x(v*R)+x(u*b))+x(_*C),h[c+492>>2]=0,g[c+512>>2]=x(x(w*P)+x(f*M))+x(m*D),g[c+496>>2]=x(x(v*P)+x(u*M))+x(_*D),g[c+488>>2]=x(x(A*O)+x(E*S))+x(d*N),g[c+484>>2]=x(x(A*R)+x(E*b))+x(d*C),g[c+480>>2]=x(x(A*P)+x(E*M))+x(d*D),i=h[i+8>>2],Qi(c+120|0,e,t,n,l,x(r[h[h[p>>2]+48>>2]](p))),h[c+340>>2]=p,h[c+336>>2]=i,h[c+120>>2]=9160,h[c+332>>2]=o,t=h[o+4>>2],g[c+328>>2]=s,h[c+320>>2]=t,r[h[h[e>>2]+8>>2]](e,c+480|0,c+32|0,c+16|0),mo(p,c+120|0,c+48|0,c+96|0,c+32|0,c+16|0);break e;case 0:case 1:case 2:case 3:case 4:case 5:break t;case 6:}g[c+292>>2]=s,h[c+288>>2]=0,h[c+120>>2]=7628,h[c+284>>2]=h[o+4>>2],h[20+(I=c+48|0)>>2]=p,h[I+16>>2]=0,h[I+12>>2]=e,h[I+4>>2]=0,h[I+8>>2]=0,h[I>>2]=7992,r[h[h[I>>2]+8>>2]](I,t,n,l,l,c+120|0)&&(s=g[c+252>>2],u=g[c+256>>2],_=g[c+260>>2],(f=x(x(x(s*s)+x(u*u))+x(_*_)))>x(9999999747378752e-20)&&(m=g[c+284>>2])<g[o+4>>2]&&(d=_,_=x(x(1)/x(T(f))),g[c+260>>2]=d*_,g[c+256>>2]=u*_,g[c+252>>2]=s*_,e=h[i+8>>2],h[c+484>>2]=0,h[c+480>>2]=e,e=h[c+264>>2],h[c+496>>2]=h[c+260>>2],h[c+500>>2]=e,e=h[c+252>>2],t=h[c+256>>2],n=h[c+280>>2],h[c+512>>2]=h[c+276>>2],h[c+516>>2]=n,h[c+488>>2]=e,h[c+492>>2]=t,e=h[c+272>>2],h[c+504>>2]=h[c+268>>2],h[c+508>>2]=e,g[c+520>>2]=m,x(r[h[h[o>>2]+12>>2]](o,c+480|0,1))));break e}N=g[n+52>>2],D=g[n+56>>2],W=g[l+52>>2],_=g[l+56>>2],E=g[t+52>>2],P=g[t+56>>2],m=g[l+20>>2],d=g[l+36>>2],v=g[l+24>>2],w=g[l+40>>2],M=g[n+48>>2],R=g[l+48>>2],O=g[t+48>>2],f=g[l+32>>2],A=g[l>>2],b=g[l+16>>2],C=g[l+4>>2],S=g[l+8>>2],u=g[n+20>>2],L=g[n+36>>2],B=g[n+24>>2],U=g[n+40>>2],j=g[n+32>>2],k=g[n>>2],F=g[n+16>>2],H=g[n+4>>2],V=g[n+8>>2],h[c+524>>2]=0,h[c+528>>2]=0,h[c+508>>2]=0,h[c+532>>2]=0,h[c+536>>2]=0,h[c+540>>2]=0,g[c+520>>2]=x(x(S*V)+x(v*B))+x(w*U),g[c+516>>2]=x(x(S*H)+x(v*u))+x(w*L),g[c+504>>2]=x(x(C*V)+x(m*B))+x(d*U),g[c+500>>2]=x(x(C*H)+x(m*u))+x(d*L),h[c+492>>2]=0,g[c+512>>2]=x(x(S*k)+x(v*F))+x(w*j),g[c+496>>2]=x(x(C*k)+x(m*F))+x(d*j),g[c+488>>2]=x(x(A*V)+x(b*B))+x(f*U),g[c+484>>2]=x(x(A*H)+x(b*u))+x(f*L),g[c+480>>2]=x(x(A*k)+x(b*F))+x(f*j),i=h[i+8>>2],Qi(c+120|0,e,t,n,l,x(r[h[h[p>>2]+48>>2]](p))),h[c+340>>2]=p,h[c+336>>2]=i,h[c+120>>2]=9372,h[c+332>>2]=o,t=h[o+4>>2],g[c+328>>2]=s,h[c+320>>2]=t,r[h[h[e>>2]+8>>2]](e,c+480|0,c+48|0,c+96|0),h[c+44>>2]=0,L=x(-W),B=x(x(x(v*L)-x(S*R))-x(w*_)),s=x(B+x(x(x(S*O)+x(v*E))+x(w*P))),g[c+40>>2]=s,U=x(x(x(m*L)-x(C*R))-x(d*_)),u=x(U+x(x(x(C*O)+x(m*E))+x(d*P))),g[c+36>>2]=u,R=x(x(x(b*L)-x(A*R))-x(f*_)),_=x(R+x(x(x(A*O)+x(b*E))+x(f*P))),g[c+32>>2]=_,E=_,(f=x(R+x(x(x(A*M)+x(b*N))+x(f*D))))<_&&(g[c+32>>2]=f,E=f),A=u,(m=x(U+x(x(x(C*M)+x(m*N))+x(d*D))))<u&&(g[c+36>>2]=m,A=m),(d=x(B+x(x(x(S*M)+x(v*N))+x(w*D))))<(v=s)&&(g[c+40>>2]=d,v=d),h[c+28>>2]=0,g[c+24>>2]=s,g[c+20>>2]=u,g[c+16>>2]=_,_<f&&(g[c+16>>2]=f,_=f),u<m&&(g[c+20>>2]=m,u=m),s<d&&(g[c+24>>2]=d,s=d),g[c+32>>2]=g[c+48>>2]+E,g[c+36>>2]=g[c+52>>2]+A,g[c+40>>2]=g[c+56>>2]+v,g[c+16>>2]=g[c+96>>2]+_,g[c+20>>2]=g[c+100>>2]+u,g[c+24>>2]=g[c+104>>2]+s,r[h[h[p>>2]+64>>2]](p,c+120|0,c+32|0,c+16|0)}else if(31==(0|I)){r[h[5253]](8529),b=g[t+56>>2],C=g[t+52>>2],S=g[t+36>>2],N=g[t+20>>2],D=g[t+40>>2],P=g[t+24>>2],u=g[l+32>>2],_=g[l>>2],f=g[l+16>>2],M=g[t+32>>2],R=g[t>>2],O=g[t+16>>2],L=g[l+56>>2],F=g[l+52>>2],B=g[l+48>>2],U=g[t+48>>2],m=g[l+36>>2],d=g[l+4>>2],E=g[l+20>>2],j=g[t+4>>2],A=g[l+40>>2],k=g[t+8>>2],v=g[l+8>>2],w=g[l+24>>2],h[c+180>>2]=0,h[c+164>>2]=0,h[c+148>>2]=0,g[c+160>>2]=x(x(v*k)+x(w*P))+x(A*D),g[c+156>>2]=x(x(v*j)+x(w*N))+x(A*S),g[c+144>>2]=x(x(d*k)+x(E*P))+x(m*D),g[c+140>>2]=x(x(d*j)+x(E*N))+x(m*S),F=x(-F),g[c+176>>2]=x(x(x(w*F)-x(v*B))-x(A*L))+x(x(x(v*U)+x(w*C))+x(A*b)),g[c+172>>2]=x(x(x(E*F)-x(d*B))-x(m*L))+x(x(x(d*U)+x(E*C))+x(m*b)),h[c+132>>2]=0,g[c+152>>2]=x(x(v*R)+x(w*O))+x(A*M),g[c+136>>2]=x(x(d*R)+x(E*O))+x(m*M),g[c+128>>2]=x(x(_*k)+x(f*P))+x(u*D),g[c+124>>2]=x(x(_*j)+x(f*N))+x(u*S),g[c+120>>2]=x(x(_*R)+x(f*O))+x(u*M),g[c+168>>2]=x(x(x(f*F)-x(_*B))-x(u*L))+x(x(x(_*U)+x(f*C))+x(u*b)),r[h[h[e>>2]+8>>2]](e,c+120|0,c+48|0,c+96|0),b=g[n+56>>2],C=g[n+52>>2],S=g[n+36>>2],N=g[n+20>>2],D=g[n+40>>2],P=g[n+24>>2],u=g[l+32>>2],_=g[l>>2],f=g[l+16>>2],M=g[n+32>>2],R=g[n>>2],O=g[n+16>>2],L=g[l+56>>2],F=g[l+52>>2],B=g[l+48>>2],U=g[n+48>>2],m=g[l+36>>2],d=g[l+4>>2],E=g[l+20>>2],j=g[n+4>>2],A=g[l+40>>2],k=g[n+8>>2],v=g[l+8>>2],w=g[l+24>>2],h[c+180>>2]=0,h[c+164>>2]=0,h[c+148>>2]=0,g[c+160>>2]=x(x(v*k)+x(w*P))+x(A*D),g[c+156>>2]=x(x(v*j)+x(w*N))+x(A*S),g[c+144>>2]=x(x(d*k)+x(E*P))+x(m*D),g[c+140>>2]=x(x(d*j)+x(E*N))+x(m*S),F=x(-F),g[c+176>>2]=x(x(x(w*F)-x(v*B))-x(A*L))+x(x(x(v*U)+x(w*C))+x(A*b)),g[c+172>>2]=x(x(x(E*F)-x(d*B))-x(m*L))+x(x(x(d*U)+x(E*C))+x(m*b)),h[c+132>>2]=0,g[c+152>>2]=x(x(v*R)+x(w*O))+x(A*M),g[c+136>>2]=x(x(d*R)+x(E*O))+x(m*M),g[c+128>>2]=x(x(_*k)+x(f*P))+x(u*D),g[c+124>>2]=x(x(_*j)+x(f*N))+x(u*S),g[c+120>>2]=x(x(_*R)+x(f*O))+x(u*M),g[c+168>>2]=x(x(x(f*F)-x(_*B))-x(u*L))+x(x(x(_*U)+x(f*C))+x(u*b)),r[h[h[e>>2]+8>>2]](e,c+120|0,c+32|0,c+16|0),(u=g[c+32>>2])<g[c+48>>2]&&(g[c+48>>2]=u),(u=g[c+36>>2])<g[c+52>>2]&&(g[c+52>>2]=u),(u=g[c+40>>2])<g[c+56>>2]&&(g[c+56>>2]=u),(u=g[c+44>>2])<g[c+60>>2]&&(g[c+60>>2]=u),u=g[c+16>>2],g[c+96>>2]<u&&(g[c+96>>2]=u),u=g[c+20>>2],g[c+100>>2]<u&&(g[c+100>>2]=u),u=g[c+24>>2],g[c+104>>2]<u&&(g[c+104>>2]=u),u=g[c+28>>2],g[c+108>>2]<u&&(g[c+108>>2]=u),h[c+512>>2]=o,h[c+508>>2]=l,g[c+500>>2]=s,h[c+496>>2]=n,h[c+492>>2]=t,h[c+488>>2]=e,h[c+484>>2]=i,h[c+480>>2]=9588,h[c+504>>2]=p;t:if(e=h[p+68>>2])t=h[c+60>>2],h[c+128>>2]=h[c+56>>2],h[c+132>>2]=t,t=h[c+108>>2],h[c+144>>2]=h[c+104>>2],h[c+148>>2]=t,t=h[c+100>>2],h[c+136>>2]=h[c+96>>2],h[c+140>>2]=t,t=h[c+52>>2],h[c+120>>2]=h[c+48>>2],h[c+124>>2]=t,ba(h[e>>2],c+120|0,c+480|0);else{if(h[p+20>>2]<1)break t;for(n=0;e=h[p+28>>2]+y(n,80)|0,t=h[e+64>>2],i=h[e+12>>2],h[c+128>>2]=h[e+8>>2],h[c+132>>2]=i,i=h[e+4>>2],h[c+120>>2]=h[e>>2],h[c+124>>2]=i,i=h[e+28>>2],h[c+144>>2]=h[e+24>>2],h[c+148>>2]=i,i=h[e+20>>2],h[c+136>>2]=h[e+16>>2],h[c+140>>2]=i,i=h[e+44>>2],h[c+160>>2]=h[e+40>>2],h[c+164>>2]=i,i=h[e+36>>2],h[c+152>>2]=h[e+32>>2],h[c+156>>2]=i,i=h[e+60>>2],h[c+176>>2]=h[e+56>>2],h[c+180>>2]=i,i=h[e+52>>2],h[c+168>>2]=h[e+48>>2],h[c+172>>2]=i,qi(c+480|0,n,c+120|0,t),(0|(n=n+1|0))<h[p+20>>2];);}r[h[5254]]()}z=c+656|0}function fl(e,t,n,i){var o,s,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=0,d=x(0),v=x(0),A=0,y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=0,M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0);z=o=z-688|0,Jo(o+632|0),h[o+660>>2]=0,h[o+664>>2]=0,h[o+656>>2]=1065353216,h[o+668>>2]=0,h[o+672>>2]=0,h[o+676>>2]=0,h[o+680>>2]=0,h[o+684>>2]=0,h[o+648>>2]=1065353216,h[o+652>>2]=1065353216,h[o+636>>2]=8,h[o+632>>2]=12036,s=h[n+12>>2],m=h[n+4>>2];e:if((0|(A=h[m+4>>2]))<=19)h[o+624>>2]=0,h[o+628>>2]=0,h[o+456>>2]=7628,h[o+620>>2]=h[i+4>>2],a[o+428|0]=0,h[o+404>>2]=953267991,h[12+(A=o+80|0)>>2]=m,h[A+8>>2]=o+632,h[A+4>>2]=o+96,h[A>>2]=6924,h[12+(D=o- -64|0)>>2]=m,h[D+8>>2]=o+632,h[D+4>>2]=o+96,h[D>>2]=7880,m=8&h[i+20>>2]?D:A,r[h[h[m>>2]+8>>2]](m,e,t,s,s,o+456|0)&&(l=g[o+588>>2],u=g[o+592>>2],c=g[o+596>>2],(p=x(x(x(l*l)+x(u*u))+x(c*c)))>x(9999999747378752e-20)&&(b=g[o+620>>2])<g[i+4>>2]&&(_=c,c=x(x(1)/x(T(p))),g[o+596>>2]=_*c,g[o+592>>2]=u*c,g[o+588>>2]=l*c,e=h[n+8>>2],h[o+36>>2]=0,h[o+32>>2]=e,e=h[o+600>>2],h[o+48>>2]=h[o+596>>2],h[o+52>>2]=e,e=h[o+592>>2],h[o+40>>2]=h[o+588>>2],h[o+44>>2]=e,g[o+56>>2]=b,x(r[h[h[i>>2]+12>>2]](i,o+32|0,1))));else if(A+-21>>>0<=8){if(v=g[s+20>>2],_=g[s+36>>2],f=g[s+24>>2],c=g[s+52>>2],p=g[s+56>>2],d=g[s+40>>2],y=g[s+32>>2],C=g[s+16>>2],S=g[s>>2],R=g[s+4>>2],l=g[s+48>>2],N=g[s+8>>2],b=g[e+52>>2],w=g[e+56>>2],u=g[e+48>>2],h[o+468>>2]=0,O=x(-c),F=x(f*O),B=x(d*p),E=x(x(F-x(N*l))-B),U=x(f*b),j=x(d*w),g[o+464>>2]=E+x(x(x(N*u)+U)+j),k=x(v*O),G=x(_*p),M=x(x(k-x(R*l))-G),H=x(v*b),V=x(_*w),g[o+460>>2]=M+x(x(x(R*u)+H)+V),W=x(x(x(C*O)-x(S*l))-x(y*p)),g[o+456>>2]=W+x(x(x(S*u)+x(C*b))+x(y*w)),P=g[t+52>>2],I=g[t+56>>2],c=g[t+48>>2],h[o+44>>2]=0,L=E,q=x(N*c),N=x(f*P),E=x(d*I),g[o+40>>2]=L+x(x(q+N)+E),L=M,f=x(R*c),R=x(v*P),M=x(_*I),g[o+36>>2]=L+x(x(f+R)+M),g[o+32>>2]=W+x(x(x(S*c)+x(C*P))+x(y*I)),21==h[m+4>>2]){e=h[n+8>>2],Zi(o+96|0,o+456|0,o+32|0,h[i+20>>2]),h[o+148>>2]=m,h[o+144>>2]=e,h[o+140>>2]=i,h[o+96>>2]=8600,e=h[s+12>>2],h[o+160>>2]=h[s+8>>2],h[o+164>>2]=e,e=h[s+4>>2],h[o+152>>2]=h[s>>2],h[o+156>>2]=e,e=h[s+28>>2],h[o+176>>2]=h[s+24>>2],h[o+180>>2]=e,e=h[s+20>>2],h[o+168>>2]=h[s+16>>2],h[o+172>>2]=e,e=h[s+44>>2],h[o+192>>2]=h[s+40>>2],h[o+196>>2]=e,e=h[s+36>>2],h[o+184>>2]=h[s+32>>2],h[o+188>>2]=e,e=h[s+60>>2],h[o+208>>2]=h[s+56>>2],h[o+212>>2]=e,e=h[s+52>>2],h[o+200>>2]=h[s+48>>2],h[o+204>>2]=e,h[o+136>>2]=h[i+4>>2],vo(m,o+96|0,o+456|0,o+32|0);break e}v=g[s+32>>2],_=g[s+16>>2],f=g[s>>2],d=g[s+4>>2],y=g[s+8>>2],h[o+92>>2]=0,C=x(x(F-x(y*l))-B),g[o+88>>2]=x(x(x(u*y)+U)+j)+C,S=x(x(k-x(d*l))-G),g[o+84>>2]=x(x(x(u*d)+H)+V)+S,l=x(x(x(_*O)-x(f*l))-x(v*p)),g[o+80>>2]=x(x(x(u*f)+x(b*_))+x(w*v))+l,h[o+76>>2]=0,g[o+72>>2]=x(x(x(c*y)+N)+E)+C,g[o+68>>2]=x(x(x(c*d)+R)+M)+S,g[o+64>>2]=x(x(x(c*f)+x(P*_))+x(I*v))+l,e=h[n+8>>2],Zi(o+96|0,o+80|0,o- -64|0,h[i+20>>2]),h[o+148>>2]=m,h[o+144>>2]=e,h[o+140>>2]=i,h[o+96>>2]=8600,e=h[s+12>>2],h[o+160>>2]=h[s+8>>2],h[o+164>>2]=e,e=h[s+4>>2],h[o+152>>2]=h[s>>2],h[o+156>>2]=e,e=h[s+28>>2],h[o+176>>2]=h[s+24>>2],h[o+180>>2]=e,e=h[s+20>>2],h[o+168>>2]=h[s+16>>2],h[o+172>>2]=e,e=h[s+44>>2],h[o+192>>2]=h[s+40>>2],h[o+196>>2]=e,e=h[s+36>>2],h[o+184>>2]=h[s+32>>2],h[o+188>>2]=e,e=h[s+60>>2],h[o+208>>2]=h[s+56>>2],h[o+212>>2]=e,e=h[s+52>>2],h[o+200>>2]=h[s+48>>2],h[o+204>>2]=e,h[o+136>>2]=h[i+4>>2],e=h[o+92>>2],h[o+24>>2]=h[o+88>>2],h[o+28>>2]=e,e=h[o+84>>2],h[o+16>>2]=h[o+80>>2],h[o+20>>2]=e,(l=g[o+64>>2])<g[o+16>>2]&&(g[o+16>>2]=l),(u=g[o+68>>2])<g[o+20>>2]&&(g[o+20>>2]=u),(c=g[o+72>>2])<g[o+24>>2]&&(g[o+24>>2]=c),(p=g[o+76>>2])<g[o+28>>2]&&(g[o+28>>2]=p),e=h[o+92>>2],h[o+8>>2]=h[o+88>>2],h[o+12>>2]=e,e=h[o+84>>2],h[o>>2]=h[o+80>>2],h[o+4>>2]=e,g[o>>2]<l&&(g[o>>2]=l),g[o+4>>2]<u&&(g[o+4>>2]=u),g[o+8>>2]<c&&(g[o+8>>2]=c),g[o+12>>2]<p&&(g[o+12>>2]=p),r[h[h[m>>2]+64>>2]](m,o+96|0,o+16|0,o)}else if(31==(0|A))if(A=h[m+68>>2],n=h[n+8>>2],h[o+120>>2]=i,h[o+116>>2]=t,h[o+112>>2]=e,h[o+108>>2]=s,h[o+104>>2]=m,h[o+100>>2]=n,h[o+96>>2]=8784,A)l=g[s+20>>2],u=g[s+36>>2],c=g[s+24>>2],p=g[s+52>>2],f=g[e+52>>2],b=g[s+40>>2],w=g[s+56>>2],d=g[e+56>>2],y=g[s>>2],P=g[s+16>>2],I=g[s+32>>2],C=g[s+4>>2],_=g[s+8>>2],v=g[s+48>>2],S=g[e+48>>2],h[o+468>>2]=0,E=_,_=x(S-v),f=x(f-p),d=x(d-w),g[o+464>>2]=x(x(E*_)+x(c*f))+x(b*d),g[o+460>>2]=x(x(_*C)+x(f*l))+x(d*u),g[o+456>>2]=x(x(_*y)+x(f*P))+x(d*I),_=g[t+52>>2],f=g[t+56>>2],d=g[s>>2],y=g[s+4>>2],C=g[s+8>>2],S=g[t+48>>2],h[o+44>>2]=0,v=x(S-v),E=c,c=x(_-p),p=x(f-w),g[o+40>>2]=x(x(C*v)+x(E*c))+x(b*p),g[o+36>>2]=x(x(v*y)+x(c*l))+x(p*u),g[o+32>>2]=x(x(v*d)+x(c*P))+x(p*I),function(e,t,n,i){var o=0,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=0,f=0,m=0,d=0,v=x(0),A=0,y=x(0),b=0,C=0,S=x(0),E=0,w=0,P=x(0),I=0,R=0,N=0,D=0,M=0,O=0;if(z=o=z-544|0,e){for(a=g[t+8>>2],s=g[n+8>>2],l=g[t>>2],c=g[n>>2],p=g[t+4>>2],v=g[n+4>>2],h[o+32>>2]=e,y=u=x(s-a),a=x(c-l),s=x(v-p),c=x(x(1)/x(T(x(x(x(a*a)+x(s*s))+x(u*u))))),u=x(u*c),v=a,a=x(a*c),S=s,s=x(s*c),S=x(x(y*u)+x(x(v*a)+x(S*s))),I=((e=(u=u==x(0)?x(0xde0b6b000000000):x(x(1)/u))<x(0))<<4)+o|8,R=((n=(s=s==x(0)?x(0xde0b6b000000000):x(x(1)/s))<x(0))<<4)+o|4,N=((1^e)<<4)+o|8,D=((1^n)<<4)+o|4,M=((e=(a=a==x(0)?x(0xde0b6b000000000):x(x(1)/a))<x(0))<<4)+o|0,O=((1^e)<<4)+o|0,E=126,A=128,f=o+32|0,m=128,b=1;;){_=h[(w=(e=b+-1|0)<<2)+f>>2],n=h[_+4>>2],h[o>>2]=h[_>>2],h[o+4>>2]=n,n=h[_+12>>2],h[o+8>>2]=h[_+8>>2],h[o+12>>2]=n,n=h[_+28>>2],h[o+24>>2]=h[_+24>>2],h[o+28>>2]=n,n=h[_+20>>2],h[o+16>>2]=h[_+16>>2],h[o+20>>2]=n;t:{n:{i:{o:{r:{a:{s:{if(!((c=x(s*x(g[R>>2]-p)))>(v=x(a*x(g[O>>2]-l)))||(l=x(a*x(g[M>>2]-l)))>(p=x(s*x(g[D>>2]-p)))||(P=g[t+8>>2],(y=x(u*x(g[I>>2]-P)))>(p=p<v?p:v)||(l=c>l?c:l)>(c=x(u*x(g[N>>2]-P)))|(y>l?y:l)<S^1|(c<p?c:p)>x(0)^1))){if(h[_+40>>2]){if((0|e)<=(0|E)){n=f,d=m;break n}if((0|m)>=(0|(d=m<<1))){n=f;break i}if((0|A)>=(0|d)){n=f;break o}if(!m){n=0;break s}if(h[6657]=h[6657]+1,n=0|r[h[5255]](m<<3,16),(0|m)<1)break s;for(e=0;h[(A=e<<2)+n>>2]=h[f+A>>2],(0|m)!=(0|(e=e+1|0)););if(!C)break r;break a}r[h[h[i>>2]+12>>2]](i,_)}n=f,d=m;break t}if(e=C,C=1,!e)break r;if(A=d,!f)break o}f&&(h[6658]=h[6658]+1,r[h[5256]](f))}C=1,A=d}Co((e=m<<2)+n|0,0,e)}E=d+-2|0}h[n+w>>2]=h[_+36>>2],h[(b<<2)+n>>2]=h[_+40>>2],e=b+1|0}if(!e)break;p=g[t+4>>2],l=g[t>>2],f=n,m=d,b=e}!C|!n||n&&(h[6658]=h[6658]+1,r[h[5256]](n))}z=o+544|0}(h[A>>2],o+456|0,o+32|0,o+96|0);else if(!((0|(t=h[m+20>>2]))<1))for(e=0;Yi(o+96|0,e),(0|t)!=(0|(e=e+1|0)););z=o+688|0}function hl(e,t){e|=0;var n=0,i=0,o=0,a=0,s=0,c=0,l=0;(i=h[188+(t|=0)>>2])&&(n=h[e+68>>2],n=0|r[h[h[n>>2]+36>>2]](n),r[h[h[n>>2]+40>>2]](n,i,h[e+24>>2]),n=h[e+68>>2],r[h[h[n>>2]+12>>2]](n,i,h[e+24>>2]),h[t+188>>2]=0);e:if((0|(n=h[t+216>>2]))<0|(0|n)>=(0|(i=h[e+8>>2]))){if(!((0|i)<1)){for(o=h[e+16>>2],n=0;;){if(h[(a=o+(n<<2)|0)>>2]!=(0|t)){if((0|i)!=(0|(n=n+1|0)))continue;break e}break}(0|i)<=(0|n)||(n=(i=i+-1|0)<<2,h[a>>2]=h[n+o>>2],h[n+h[e+16>>2]>>2]=t,h[e+8>>2]=i)}}else{if(o=h[e+16>>2],c=h[(s=o+(a=n<<2)|0)>>2],l=o,o=(i=i+-1|0)<<2,h[s>>2]=h[l+o>>2],h[o+h[e+16>>2]>>2]=c,h[e+8>>2]=i,(0|n)>=(0|i))break e;h[h[a+h[e+16>>2]>>2]+216>>2]=n}h[t+216>>2]=-1}function ml(e){var t=0,n=0,i=0,o=0,s=0;if(h[(e|=0)>>2]=8188,t=h[e+16>>2],(0|(n=h[e+8>>2]))>=1)for(;s=h[(i<<2)+t>>2],(o=h[s+188>>2])&&(t=h[e+68>>2],t=0|r[h[h[t>>2]+36>>2]](t),r[h[h[t>>2]+40>>2]](t,o,h[e+24>>2]),t=h[e+68>>2],r[h[h[t>>2]+12>>2]](t,o,h[e+24>>2]),h[s+188>>2]=0,n=h[e+8>>2],t=h[e+16>>2]),(0|(i=i+1|0))<(0|n););return t&&(m[e+20|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+16>>2]=0),h[e+16>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,a[e+20|0]=1,0|e}function dl(e,t,n,i,o,s){e|=0,t|=0,n|=0,i|=0,o|=0,s|=0;var l,p,u=0,f=x(0),d=x(0),v=0,A=x(0),y=0,b=x(0),C=x(0),S=x(0),E=0,w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0);z=l=z-288|0,Da(h[e+4>>2]),f=g[t+52>>2],d=g[n+52>>2],A=g[i+52>>2],b=g[o+52>>2],C=g[t+56>>2],S=g[n+56>>2],w=g[i+56>>2],T=g[o+56>>2],P=g[t+48>>2],I=g[n+48>>2],R=g[i+48>>2],N=g[o+48>>2],a[l+264|0]=0,h[l+260>>2]=1566444395,h[l+224>>2]=7932,p=js(l+144|0,h[e+8>>2],h[e+12>>2],h[e+4>>2],0),h[l+136>>2]=1566444395,u=h[(e=t)+12>>2],h[l+16>>2]=h[e+8>>2],h[l+20>>2]=u,u=h[e+4>>2],h[l+8>>2]=h[e>>2],h[l+12>>2]=u,u=h[e+28>>2],h[l+32>>2]=h[e+24>>2],h[l+36>>2]=u,u=h[e+20>>2],h[l+24>>2]=h[e+16>>2],h[l+28>>2]=u,u=h[e+44>>2],h[l+48>>2]=h[e+40>>2],h[l+52>>2]=u,u=h[e+36>>2],h[l+40>>2]=h[e+32>>2],h[l+44>>2]=u,y=h[e+60>>2],h[(u=l- -64|0)>>2]=h[e+56>>2],h[u+4>>2]=y,u=h[e+52>>2],h[l+56>>2]=h[e+48>>2],h[l+60>>2]=u,u=h[(e=i)+12>>2],h[l+80>>2]=h[e+8>>2],h[l+84>>2]=u,u=h[e+4>>2],h[l+72>>2]=h[e>>2],h[l+76>>2]=u,u=h[e+20>>2],h[l+88>>2]=h[e+16>>2],h[l+92>>2]=u,u=h[e+28>>2],h[l+96>>2]=h[e+24>>2],h[l+100>>2]=u,u=h[e+44>>2],h[l+112>>2]=h[e+40>>2],h[l+116>>2]=u,u=h[e+36>>2],h[l+104>>2]=h[e+32>>2],h[l+108>>2]=u,u=h[e+52>>2],h[l+120>>2]=h[e+48>>2],h[l+124>>2]=u,u=h[e+60>>2],h[l+128>>2]=h[e+56>>2],h[l+132>>2]=u,lr(p,l+8|0,l+224|0,0),e=h[l+256>>2],h[l+280>>2]=h[l+252>>2],h[l+284>>2]=e,e=h[l+248>>2],h[l+272>>2]=h[l+244>>2],h[l+276>>2]=e,v=0;e:if(m[l+264|0]){C=x(x(S-C)-x(T-w)),b=x(x(d-f)-x(b-A)),S=x(x(I-P)-x(N-R)),y=h[l+232>>2],u=h[l+236>>2],E=h[l+228>>2];t:{if((A=g[l+260>>2])>x(.0010000000474974513)){for(e=0,d=x(0);;){if(v=0,32==(0|e))break e;if(v=0,(f=x(d-x(A/x(x(C*(c(0,u),_()))+x(x(b*(c(0,y),_()))+x(S*(c(0,E),_())))))))<=d)break e;if(v=0,f<x(0))break e;if(v=0,f>x(1))break e;if(r[h[h[s>>2]>>2]](s,f),d=x(x(1)-f),g[l+56>>2]=x(d*g[t+48>>2])+x(f*g[n+48>>2]),g[l+60>>2]=x(d*g[t+52>>2])+x(f*g[n+52>>2]),g[l+64>>2]=x(d*g[t+56>>2])+x(f*g[n+56>>2]),g[l+120>>2]=x(d*g[i+48>>2])+x(f*g[o+48>>2]),g[l+124>>2]=x(d*g[i+52>>2])+x(f*g[o+52>>2]),g[l+128>>2]=x(d*g[i+56>>2])+x(f*g[o+56>>2]),lr(p,l+8|0,l+224|0,0),v=0,!m[l+264|0])break e;if((A=g[l+260>>2])<x(0)){g[s+164>>2]=f,e=h[l+228>>2],t=h[l+232>>2],n=h[l+240>>2],h[s+140>>2]=h[l+236>>2],h[s+144>>2]=n,h[s+132>>2]=e,h[s+136>>2]=t,e=h[l+256>>2],h[s+156>>2]=h[l+252>>2],h[s+160>>2]=e,e=h[l+248>>2],h[s+148>>2]=h[l+244>>2],h[s+152>>2]=e;break t}if(e=e+1|0,u=h[l+256>>2],h[l+280>>2]=h[l+252>>2],h[l+284>>2]=u,u=h[l+248>>2],h[l+272>>2]=h[l+244>>2],h[l+276>>2]=u,E=h[l+228>>2],y=h[l+232>>2],u=h[l+236>>2],d=f,!(A>x(.0010000000474974513)))break}d=g[l+240>>2]}else f=x(0),d=g[l+240>>2];if(v=0,x(x(C*(c(0,u),_()))+x(x(b*(c(0,y),_()))+x(S*(c(0,E),_()))))>=x(-g[s+172>>2]))break e;h[s+132>>2]=E,g[s+164>>2]=f,g[s+144>>2]=d,h[s+140>>2]=u,h[s+136>>2]=y,e=h[l+276>>2],h[s+148>>2]=h[l+272>>2],h[s+152>>2]=e,e=h[l+284>>2],h[s+156>>2]=h[l+280>>2],h[s+160>>2]=e}v=1}return z=l+288|0,0|v}function vl(e,t,n,i){t|=0,n|=0,i|=0,r[h[h[(e|=0)>>2]+80>>2]](e,t,n,i)}function gl(e){var t=0;return h[8+(e|=0)>>2]=7012,h[e>>2]=6984,t=h[e+56>>2],r[h[h[t>>2]+20>>2]](t,h[e+72>>2]),t=h[e+56>>2],r[h[h[t>>2]+16>>2]](t,h[e+72>>2]),0|e}function Al(e,t,n,i,o){var s;h[e>>2]=17096,h[e+4>>2]=h[t>>2],h[e>>2]=5592,h[e>>2]=6984,t=h[t>>2],h[e+60>>2]=0,h[e+56>>2]=t,h[e+8>>2]=7012,s=o?n:i,h[e+48>>2]=s,n=o?i:n,h[e+44>>2]=n,t=0|r[h[h[t>>2]+12>>2]](t,h[n+8>>2],h[s+8>>2]),h[e+72>>2]=t,n=h[e+56>>2],r[h[h[n>>2]+20>>2]](n,t),a[e+76|0]=o}function yl(e,t,n,i){var o,a,s=x(0),c=x(0),l=x(0),p=0,u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=0,C=x(0),S=0,E=x(0),w=x(0),P=0,I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=0,W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),re=x(0),ae=x(0),se=x(0),ce=x(0),le=x(0),pe=x(0);for(z=o=z-272|0,h[e+56>>2]=0,h[o+264>>2]=0,h[o+268>>2]=0,h[o+256>>2]=0,h[o+260>>2]=0,p=h[t+12>>2],h[o+168>>2]=h[t+8>>2],h[o+172>>2]=p,p=h[t+4>>2],h[o+160>>2]=h[t>>2],h[o+164>>2]=p,p=h[t+28>>2],h[o+184>>2]=h[t+24>>2],h[o+188>>2]=p,p=h[t+20>>2],h[o+176>>2]=h[t+16>>2],h[o+180>>2]=p,p=h[t+44>>2],h[o+200>>2]=h[t+40>>2],h[o+204>>2]=p,p=h[t+36>>2],h[o+192>>2]=h[t+32>>2],h[o+196>>2]=p,p=h[t+60>>2],h[o+216>>2]=h[t+56>>2],h[o+220>>2]=p,p=h[t+52>>2],h[o+208>>2]=h[t+48>>2],h[o+212>>2]=p,p=h[t+76>>2],h[o+104>>2]=h[t+72>>2],h[o+108>>2]=p,p=h[t+68>>2],h[o+96>>2]=h[t+64>>2],h[o+100>>2]=p,p=h[t+92>>2],h[o+120>>2]=h[t+88>>2],h[o+124>>2]=p,p=h[t+84>>2],h[o+112>>2]=h[t+80>>2],h[o+116>>2]=p,p=h[t+108>>2],h[o+136>>2]=h[t+104>>2],h[o+140>>2]=p,p=h[t+100>>2],h[o+128>>2]=h[t+96>>2],h[o+132>>2]=p,p=h[t+124>>2],h[o+152>>2]=h[t+120>>2],h[o+156>>2]=p,p=h[t+116>>2],h[o+144>>2]=h[t+112>>2],h[o+148>>2]=p,s=g[o+212>>2],c=g[o+148>>2],D=x(x(s+c)*x(.5)),g[o+212>>2]=s-D,s=g[o+216>>2],l=g[o+152>>2],M=x(x(s+l)*x(.5)),g[o+216>>2]=s-M,g[o+148>>2]=c-D,g[o+152>>2]=l-M,s=g[o+208>>2],c=g[o+144>>2],O=x(x(s+c)*x(.5)),g[o+208>>2]=s-O,g[o+144>>2]=c-O,P=h[h[e+28>>2]+4>>2]+-17>>>0<=1?h[h[e+32>>2]+4>>2]+-17>>>0<2:P,d=g[e+44>>2],s=g[e+48>>2],h[5785]=h[5785]+1,h[e+68>>2]=0,h[e+12>>2]=0,h[e+16>>2]=0,h[e+4>>2]=0,h[e+8>>2]=1065353216,h[e+60>>2]=-1,h[e+64>>2]=0,a=m[e+52|0],Da(h[e+24>>2]),v=a?x(0):s,p=e+4|0,c=x(0xde0b6b000000000);;){f=g[t+32>>2],y=g[t+16>>2],C=g[t>>2],A=g[t+36>>2],w=g[t+20>>2],I=g[t+4>>2],R=g[t+40>>2],s=g[e+12>>2],_=g[t+24>>2],u=g[e+8>>2],N=g[t+8>>2],l=g[e+4>>2],h[o+252>>2]=0,E=_,_=x(-u),g[o+248>>2]=x(x(E*_)-x(l*N))-x(s*R),g[o+244>>2]=x(x(w*_)-x(l*I))-x(s*A),g[o+240>>2]=x(x(y*_)-x(l*C))-x(s*f),_=g[t+96>>2],f=g[t+64>>2],y=g[t+80>>2],C=g[t+100>>2],A=g[t+68>>2],w=g[t+84>>2],I=g[t+104>>2],R=g[t+72>>2],N=g[t+88>>2],h[o+236>>2]=0,g[o+232>>2]=x(x(l*R)+x(u*N))+x(s*I),g[o+228>>2]=x(x(l*A)+x(u*w))+x(s*C),g[o+224>>2]=x(x(l*f)+x(u*y))+x(s*_),Ir(o+80|0,h[e+28>>2],o+240|0),Ir(o- -64|0,h[e+32>>2],o+224|0),h[o+60>>2]=0,s=g[o+80>>2],u=g[o+84>>2],_=g[o+88>>2],l=x(x(x(x(s*g[o+192>>2])+x(u*g[o+196>>2]))+x(_*g[o+200>>2]))+g[o+216>>2]),g[o+56>>2]=l,y=x(x(x(x(s*g[o+176>>2])+x(u*g[o+180>>2]))+x(_*g[o+184>>2]))+g[o+212>>2]),g[o+52>>2]=y,C=x(x(x(x(s*g[o+160>>2])+x(u*g[o+164>>2]))+x(_*g[o+168>>2]))+g[o+208>>2]),g[o+48>>2]=C,h[o+44>>2]=0,s=g[o+64>>2],_=g[o+68>>2],f=g[o+72>>2],u=x(x(x(x(s*g[o+128>>2])+x(_*g[o+132>>2]))+x(f*g[o+136>>2]))+g[o+152>>2]),g[o+40>>2]=u,A=x(x(x(x(s*g[o+112>>2])+x(_*g[o+116>>2]))+x(f*g[o+120>>2]))+g[o+148>>2]),g[o+36>>2]=A,s=x(x(x(x(s*g[o+96>>2])+x(_*g[o+100>>2]))+x(f*g[o+104>>2]))+g[o+144>>2]),g[o+32>>2]=s,P&&(h[o+40>>2]=0,h[o+56>>2]=0,u=x(0),l=x(0)),h[o+28>>2]=0,l=x(l-u),g[o+24>>2]=l,s=x(C-s),g[o+16>>2]=s,u=x(y-A),g[o+20>>2]=u;e:{if((s=x(x(x(s*g[e+4>>2])+x(u*g[e+8>>2]))+x(l*g[e+12>>2])))>x(0)^1|x(s*s)>x(c*g[t+128>>2])^1){if(de(h[e+24>>2],o+16|0)){S=1,h[e+68>>2]=1,b=2;break e}if((s=x(c-s))<=x(c*x(9.999999974752427e-7))){b=2,h[e+68>>2]=s<=x(0)?2:11,S=1;break e}if(Ae(h[e+24>>2],o+16|0,o+48|0,o+32|0),ve(h[e+24>>2],o)){if(s=g[o>>2],l=x(s*s),s=g[o+4>>2],l=x(l+x(s*s)),s=g[o+8>>2],!((s=x(l+x(s*s)))<x(9.999999974752427e-7))){x(c-s)<=x(c*x(1.1920928955078125e-7))?(h[e+68>>2]=12,S=1,b=2):(b=h[o+4>>2],h[p>>2]=h[o>>2],h[p+4>>2]=b,b=h[o+12>>2],h[p+8>>2]=h[o+8>>2],h[p+12>>2]=b,V=h[e+64>>2],h[e+64>>2]=V+1,b=2,(0|V)>1e3||(4==h[h[e+24>>2]>>2]?h[e+68>>2]=13:b=0)),c=s;break e}b=h[o+4>>2],h[p>>2]=h[o>>2],h[p+4>>2]=b,b=h[o+12>>2],h[p+8>>2]=h[o+8>>2],h[p+12>>2]=b,h[e+68>>2]=6}else h[e+68>>2]=3}else h[e+68>>2]=10;S=1,b=2}if(b)break}s=x(0),l=a?x(0):d,u=x(l+v),P=0,b=0,1&S&&(me(h[e+24>>2],o+240|0,o+224|0),S=h[p+12>>2],h[o+264>>2]=h[p+8>>2],h[o+268>>2]=S,S=h[p+4>>2],h[o+256>>2]=h[p>>2],h[o+260>>2]=S,s=g[e+4>>2],_=g[e+8>>2],f=g[e+12>>2],(d=x(x(x(s*s)+x(_*_))+x(f*f)))<x(9.999999974752427e-7)&&(h[e+68>>2]=5),S=1,d>x(14210854715202004e-30)?(d=x(x(1)/x(T(d))),g[o+256>>2]=d*g[o+256>>2],g[o+260>>2]=d*g[o+260>>2],g[o+264>>2]=d*g[o+264>>2],y=x(T(c)),c=x(l/y),g[o+240>>2]=g[o+240>>2]-x(c*s),g[o+244>>2]=g[o+244>>2]-x(c*_),g[o+248>>2]=g[o+248>>2]-x(c*f),c=x(v/y),g[o+224>>2]=x(c*s)+g[o+224>>2],g[o+228>>2]=x(c*_)+g[o+228>>2],g[o+232>>2]=x(c*f)+g[o+232>>2],b=1,s=x(x(x(1)/d)-u)):(S=2,s=x(0)),h[e+60>>2]=S),!h[e+68>>2]|!h[e+72>>2]|!h[e+20>>2]||(P=x(u+s)<g[5251]);e:{t:{if(((S=1^b)||P)&&(P=h[e+20>>2])){if(h[5784]=h[5784]+1,h[p+8>>2]=0,h[p+12>>2]=0,h[p>>2]=0,h[p+4>>2]=0,r[h[h[P>>2]+8>>2]](P,h[e+24>>2],h[e+28>>2],h[e+32>>2],o+160|0,o+96|0,p,o+80|0,o- -64|0,i)){if(f=x(0),c=g[o+64>>2],d=g[o+80>>2],v=x(c-d),y=g[o+68>>2],C=g[o+84>>2],_=x(y-C),A=g[o+72>>2],w=g[o+88>>2],l=x(A-w),(u=x(x(x(v*v)+x(_*_))+x(l*l)))<=x(14210854715202004e-30)&&(f=g[e+16>>2],v=g[e+4>>2],_=g[e+8>>2],l=g[e+12>>2],u=x(x(x(v*v)+x(_*_))+x(l*l))),u>x(14210854715202004e-30)){if(h[e+60>>2]=3,c=x(d-c),E=x(c*c),c=x(C-y),E=x(E+x(c*c)),c=x(w-A),!((s>(c=x(-x(T(x(E+x(c*c))))))^-1)&(1^S))){i=h[o+92>>2],h[o+248>>2]=h[o+88>>2],h[o+252>>2]=i,i=h[o+76>>2],h[o+232>>2]=h[o+72>>2],h[o+236>>2]=i,i=h[o+84>>2],h[o+240>>2]=h[o+80>>2],h[o+244>>2]=i,i=h[o+68>>2],h[o+224>>2]=h[o+64>>2],h[o+228>>2]=i,g[o+268>>2]=f,s=x(x(1)/x(T(u))),g[o+264>>2]=l*s,g[o+260>>2]=_*s,g[o+256>>2]=v*s,s=c;break t}if(h[e+60>>2]=8,b)break t;break e}if(h[e+60>>2]=9,b)break t;break e}if(_=g[e+4>>2],f=g[e+8>>2],d=g[e+12>>2],x(x(x(_*_)+x(f*f))+x(d*d))>x(0)){if(c=x(g[o+80>>2]-g[o+64>>2]),A=x(c*c),c=x(g[o+84>>2]-g[o+68>>2]),A=x(A+x(c*c)),c=x(g[o+88>>2]-g[o+72>>2]),!(((c=x(x(T(x(A+x(c*c))))-u))<s^-1)&(1^S))){i=h[o+92>>2],h[o+248>>2]=h[o+88>>2],h[o+252>>2]=i,i=h[o+76>>2],h[o+232>>2]=h[o+72>>2],h[o+236>>2]=i,g[o+248>>2]=g[o+248>>2]-x(l*d),g[o+232>>2]=x(v*d)+g[o+232>>2],i=h[o+68>>2],h[o+224>>2]=h[o+64>>2],h[o+228>>2]=i,i=h[o+84>>2],h[o+240>>2]=h[o+80>>2],h[o+244>>2]=i,g[o+224>>2]=x(v*_)+g[o+224>>2],g[o+228>>2]=x(v*f)+g[o+228>>2],g[o+240>>2]=g[o+240>>2]-x(l*_),g[o+244>>2]=g[o+244>>2]-x(l*f),i=h[p+12>>2],h[o+264>>2]=h[p+8>>2],h[o+268>>2]=i,i=h[p+4>>2],h[o+256>>2]=h[p>>2],h[o+260>>2]=i,l=g[o+256>>2],u=g[o+260>>2],v=g[o+264>>2],s=x(x(1)/x(T(x(x(x(l*l)+x(u*u))+x(v*v))))),g[o+264>>2]=v*s,g[o+260>>2]=u*s,g[o+256>>2]=l*s,h[e+60>>2]=6,s=c;break t}if(h[e+60>>2]=5,b)break t;break e}if(b)break t;break e}if(!b)break e}x(s*s)<g[t+128>>2]^1&&!(s<x(0))||(i=h[o+260>>2],h[p>>2]=h[o+256>>2],h[p+4>>2]=i,i=h[o+268>>2],h[p+8>>2]=h[o+264>>2],h[p+12>>2]=i,g[e+56>>2]=s,v=g[t+32>>2],_=g[t>>2],f=g[t+16>>2],d=g[t+36>>2],y=g[t+4>>2],C=g[t+20>>2],l=g[t+40>>2],c=g[t+8>>2],u=g[t+24>>2],h[o+92>>2]=0,A=c,c=g[o+256>>2],E=u,u=g[o+260>>2],w=l,l=g[o+264>>2],g[o+88>>2]=x(x(A*c)+x(E*u))+x(w*l),g[o+84>>2]=x(x(c*y)+x(u*C))+x(l*d),g[o+80>>2]=x(x(_*c)+x(f*u))+x(v*l),v=g[t+96>>2],_=g[t+80>>2],f=g[t+64>>2],d=g[t+100>>2],y=g[t+84>>2],C=g[t+68>>2],A=g[t+104>>2],w=g[t+88>>2],I=g[t+72>>2],h[o+76>>2]=0,u=x(-u),g[o+72>>2]=x(x(w*u)-x(c*I))-x(l*A),g[o+68>>2]=x(x(y*u)-x(c*C))-x(l*d),g[o+64>>2]=x(x(_*u)-x(c*f))-x(l*v),Ir(o+48|0,h[e+28>>2],o+80|0),Ir(o+32|0,h[e+32>>2],o- -64|0),c=g[o+264>>2],w=g[o+216>>2],I=g[o+200>>2],R=g[o+192>>2],N=g[o+196>>2],W=g[o+152>>2],q=g[o+136>>2],Y=g[o+128>>2],X=g[o+132>>2],Q=g[o+212>>2],Z=g[o+184>>2],J=g[o+176>>2],K=g[o+180>>2],$=g[o+148>>2],ee=g[o+120>>2],te=g[o+112>>2],ne=g[o+116>>2],ie=g[o+208>>2],oe=g[o+168>>2],v=g[o+56>>2],re=g[o+160>>2],_=g[o+48>>2],ae=g[o+164>>2],f=g[o+52>>2],se=g[o+144>>2],ce=g[o+104>>2],d=g[o+40>>2],le=g[o+96>>2],y=g[o+32>>2],pe=g[o+100>>2],C=g[o+36>>2],u=g[o+260>>2],l=g[o+256>>2],L=g[t+32>>2],F=g[t+16>>2],B=g[t>>2],U=g[t+36>>2],j=g[t+20>>2],k=g[t+4>>2],G=g[t+40>>2],A=g[t+24>>2],H=g[t+8>>2],h[o+92>>2]=0,E=A,A=x(-u),g[o+88>>2]=x(x(E*A)-x(l*H))-x(c*G),g[o+84>>2]=x(x(j*A)-x(l*k))-x(c*U),g[o+80>>2]=x(x(F*A)-x(l*B))-x(c*L),L=g[t+96>>2],F=g[t+64>>2],B=g[t+80>>2],U=g[t+100>>2],j=g[t+68>>2],k=g[t+84>>2],G=g[t+104>>2],H=g[t+72>>2],E=g[t+88>>2],h[o+76>>2]=0,g[o+72>>2]=x(x(l*H)+x(u*E))+x(c*G),g[o+68>>2]=x(x(l*j)+x(u*k))+x(c*U),g[o+64>>2]=x(x(l*F)+x(u*B))+x(c*L),Ir(o+48|0,h[e+28>>2],o+80|0),Ir(o+32|0,h[e+32>>2],o- -64|0),A=x(x(x(x(x(Q+x(x(x(_*J)+x(f*K))+x(v*Z)))-x($+x(x(x(y*te)+x(C*ne))+x(d*ee))))*A)-x(l*x(x(ie+x(x(x(_*re)+x(f*ae))+x(v*oe)))-x(se+x(x(x(y*le)+x(C*pe))+x(d*ce))))))-x(c*x(x(w+x(x(x(_*R)+x(f*N))+x(v*I)))-x(W+x(x(x(y*Y)+x(C*X))+x(d*q)))))),c=g[o+48>>2],l=g[o+52>>2],u=g[o+56>>2],v=g[o+32>>2],_=g[o+36>>2],f=g[o+40>>2],d=g[o+256>>2],y=g[o+260>>2],E=x(x(x(x(x(x(x(c*g[o+160>>2])+x(l*g[o+164>>2]))+x(u*g[o+168>>2]))+g[o+208>>2])-x(x(x(x(v*g[o+96>>2])+x(_*g[o+100>>2]))+x(f*g[o+104>>2]))+g[o+144>>2]))*d)+x(x(x(x(x(x(c*g[o+176>>2])+x(l*g[o+180>>2]))+x(u*g[o+184>>2]))+g[o+212>>2])-x(x(x(x(v*g[o+112>>2])+x(_*g[o+116>>2]))+x(f*g[o+120>>2]))+g[o+148>>2]))*y)),l=x(x(x(x(x(c*g[o+192>>2])+x(l*g[o+196>>2]))+x(u*g[o+200>>2]))+g[o+216>>2])-x(x(x(x(v*g[o+128>>2])+x(_*g[o+132>>2]))+x(f*g[o+136>>2]))+g[o+152>>2])),c=g[o+264>>2],A>x(E+x(l*c))&&(h[e+60>>2]=10,g[o+264>>2]=-c,g[o+260>>2]=-y,g[o+256>>2]=-d),h[o+92>>2]=0,g[o+88>>2]=M+g[o+232>>2],g[o+84>>2]=D+g[o+228>>2],g[o+80>>2]=O+g[o+224>>2],r[h[h[n>>2]+16>>2]](n,o+256|0,o+80|0,s))}z=o+272|0}function xl(e,t,n){var i,o=0,r=x(0),s=0,c=x(0),l=0,p=0,u=x(0),_=0,f=x(0),d=0,A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=0,I=0,R=x(0),N=x(0);z=i=z-16|0;e:{if(l=h[t+372>>2],!(v[l+32>>2]<2)&&Nr(t)){if(o=h[e+18496>>2]){for(_=h[e+18508>>2],p=h[e+18500>>2];(s=h[o+48>>2])&&(h[s+44>>2]=h[o+44>>2]),(s=h[o+44>>2])&&(h[s+48>>2]=h[o+48>>2]),h[e+18496>>2]==(0|o)&&(h[e+18496>>2]=h[o+48>>2]),h[o+44>>2]=0,h[o+48>>2]=h[e+18504>>2],(s=h[e+18504>>2])&&(h[s+44>>2]=o),p=p+-1|0,h[e+18504>>2]=o,_=_+1|0,o=h[e+18496>>2];);h[e+18508>>2]=_,h[e+18500>>2]=p}if(h[e+18492>>2]=0,h[e>>2]=0,s=h[l>>2],p=h[l+12>>2],c=g[p+16>>2],w=x(g[s+16>>2]-c),o=h[l+4>>2],S=g[p+20>>2],u=x(g[o+20>>2]-S),d=h[l+8>>2],r=g[p+24>>2],E=x(g[d+24>>2]-r),A=x(g[s+20>>2]-S),y=x(g[o+24>>2]-r),b=x(g[d+16>>2]-c),f=x(g[s+24>>2]-r),c=x(g[o+16>>2]-c),r=x(g[d+20>>2]-S),x(x(x(x(w*u)*E)+x(x(x(x(x(A*y)*b)+x(x(f*c)*r))-x(x(w*y)*r))-x(x(A*c)*E)))-x(x(f*u)*b))<x(0)?(h[l+4>>2]=s,h[l>>2]=o,p=h[l+16>>2],h[l+16>>2]=h[l+20>>2],h[l+20>>2]=p,p=s):(p=o,o=s),P=ca(e,o,p,d,1),d=ca(e,h[l+4>>2],h[l>>2],h[l+12>>2],1),p=ca(e,h[l+8>>2],h[l+4>>2],h[l+12>>2],1),s=ca(e,h[l>>2],h[l+8>>2],h[l+12>>2],1),4==h[e+18500>>2]){if(o=h[e+18496>>2],u=g[o+16>>2],_=h[o+48>>2]){for(u=x(u*u);r=g[_+16>>2],o=(n=(r=x(r*r))<u)?_:o,u=n?r:u,_=h[_+48>>2];);u=g[o+16>>2]}for(n=h[o+28>>2],I=h[o+24>>2],l=h[o+20>>2],r=g[o+12>>2],E=g[o+8>>2],f=g[o+4>>2],c=g[o>>2],h[P+32>>2]=d,a[P+52|0]=0,h[d+32>>2]=P,a[d+52|0]=0,h[P+36>>2]=p,a[P+53|0]=0,h[p+32>>2]=P,a[p+52|0]=1,h[P+40>>2]=s,a[P+54|0]=0,h[s+32>>2]=P,a[s+52|0]=2,h[d+36>>2]=s,a[d+53|0]=2,h[s+40>>2]=d,a[s+54|0]=1,h[d+40>>2]=p,a[d+54|0]=1,h[p+36>>2]=d,a[p+53|0]=258,a[p+54|0]=1,h[p+40>>2]=s,h[s+36>>2]=p,a[s+53|0]=2,h[e>>2]=0,p=0;;){t:{n:{if(!((s=h[e+18492>>2])>>>0<=127)){h[e>>2]=6;break t}if(_=0,h[i+8>>2]=0,h[i>>2]=0,h[i+4>>2]=0,h[e+18492>>2]=s+1,p=p+1|0,a[o+55|0]=p,pr(t,o,d=60+(s=(s<<5)+e|0)|0),!(x(x(x(x(g[o>>2]*g[s+76>>2])+x(g[o+4>>2]*g[s+80>>2]))+x(g[o+8>>2]*g[s+84>>2]))-g[o+16>>2])>x(9999999747378752e-20))){h[e>>2]=7;break t}for(;;){if(!(s=Hs(e,p,d,h[32+((_<<2)+o|0)>>2],m[52+(o+_|0)|0],i)))break n;if(!((_=_+1|0)>>>0<3))break}}if(s&v[i+8>>2]>2){if(s=h[i>>2],n=h[i+4>>2],h[s+36>>2]=n,a[s+53|0]=2,h[n+40>>2]=s,a[n+54|0]=1,(n=h[o+48>>2])&&(h[n+44>>2]=h[o+44>>2]),(n=h[o+44>>2])&&(h[n+48>>2]=h[o+48>>2]),h[e+18496>>2]==(0|o)&&(h[e+18496>>2]=h[o+48>>2]),h[e+18500>>2]=h[e+18500>>2]+-1,h[o+44>>2]=0,h[o+48>>2]=h[e+18504>>2],(n=h[e+18504>>2])&&(h[n+44>>2]=o),h[e+18504>>2]=o,h[e+18508>>2]=h[e+18508>>2]+1,o=h[e+18496>>2],u=g[o+16>>2],_=h[o+48>>2]){for(u=x(u*u);r=g[_+16>>2],o=(n=(r=x(r*r))<u)?_:o,u=n?r:u,_=h[_+48>>2];);u=g[o+16>>2]}if(n=h[o+28>>2],I=h[o+24>>2],l=h[o+20>>2],r=g[o+12>>2],E=g[o+8>>2],f=g[o+4>>2],c=g[o>>2],255!=(0|p))continue}else h[e>>2]=4}break}g[e+56>>2]=u,g[e+40>>2]=c,h[e+4>>2]=l,g[e+52>>2]=r,g[e+48>>2]=E,g[e+44>>2]=f,h[e+36>>2]=3,h[e+12>>2]=n,h[e+8>>2]=I,R=x(c*u),A=x(g[I+16>>2]-R),S=x(f*u),y=x(g[n+20>>2]-S),c=x(g[I+20>>2]-S),b=x(g[n+16>>2]-R),r=x(x(A*y)-x(c*b)),N=x(r*r),w=x(E*u),f=x(g[n+24>>2]-w),C=x(c*f),c=x(g[I+24>>2]-w),r=x(C-x(c*y)),C=x(r*r),r=x(x(c*b)-x(A*f)),u=x(T(x(N+x(C+x(r*r))))),g[e+20>>2]=u,A=x(g[n+16>>2]-R),y=x(g[l+20>>2]-S),c=x(g[n+20>>2]-S),b=x(g[l+16>>2]-R),r=x(x(A*y)-x(c*b)),N=x(r*r),f=x(g[l+24>>2]-w),C=x(c*f),c=x(g[n+24>>2]-w),r=x(C-x(c*y)),C=x(r*r),r=x(x(c*b)-x(A*f)),E=x(T(x(N+x(C+x(r*r))))),g[e+24>>2]=E,A=x(g[l+16>>2]-R),y=x(g[I+20>>2]-S),c=x(g[l+20>>2]-S),b=x(g[I+16>>2]-R),r=x(x(A*y)-x(c*b)),N=x(r*r),f=x(g[I+24>>2]-w),C=x(c*f),c=x(g[l+24>>2]-w),r=x(C-x(c*y)),C=x(r*r),r=x(x(c*b)-x(A*f)),r=x(T(x(N+x(C+x(r*r))))),c=x(r+x(u+E)),g[e+28>>2]=r/c,g[e+24>>2]=E/c,g[e+20>>2]=u/c,e=h[e>>2];break e}}h[e>>2]=8,A=g[n>>2],y=g[n+4>>2],r=g[n+8>>2],h[e+52>>2]=0,b=x(-r),g[e+48>>2]=b,f=x(-y),g[e+44>>2]=f,c=x(-A),g[e+40>>2]=c,(r=x(T(x(x(x(A*A)+x(y*y))+x(r*r)))))>x(0)?(r=x(x(1)/r),g[e+48>>2]=r*b,g[e+44>>2]=r*f,g[e+40>>2]=r*c):(h[e+48>>2]=0,h[e+40>>2]=1065353216,h[e+44>>2]=0),h[e+52>>2]=0,h[e+56>>2]=0,h[e+36>>2]=1,t=h[l>>2],h[e+20>>2]=1065353216,h[e+4>>2]=t,e=8}return z=i+16|0,e}function bl(e,t,n,i,o,r){var a,s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=0,b=0,C=0,S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=0,D=x(0),M=x(0),O=x(0),L=x(0),F=0;if(z=a=z-96|0,h[a+92>>2]=i,h[a+88>>2]=n,h[a+84>>2]=t,h[a+80>>2]=e,s=g[i>>2],l=g[e>>2],c=g[i+4>>2],S=g[e+4>>2],_=g[i+8>>2],E=g[e+8>>2],h[a+44>>2]=0,f=x(E-_),g[a+40>>2]=f,m=x(S-c),g[a+36>>2]=m,v=x(l-s),g[a+32>>2]=v,w=g[t>>2],T=g[t+4>>2],D=g[t+8>>2],h[a+60>>2]=0,d=x(D-_),g[a+56>>2]=d,P=x(T-c),g[a+52>>2]=P,I=x(w-s),g[a+48>>2]=I,M=g[n>>2],O=g[n+4>>2],L=g[n+8>>2],h[a+76>>2]=0,R=x(L-_),g[a+72>>2]=R,A=x(O-c),g[a+68>>2]=A,p=x(M-s),g[a+64>>2]=p,u=x(-1),!((d=x(x(x(x(v*P)*R)+x(x(x(x(x(m*d)*p)+x(x(f*I)*A))-x(x(v*d)*A))-x(x(m*I)*R)))-x(x(f*P)*p)))==x(0)|d!=d)&&(P=x(S-T),I=x(w-M),w=x(l-w),T=x(T-O),A=x(E*x(x(P*I)-x(w*T))),p=l,l=x(E-D),E=x(D-L),x(d*x(A+x(x(p*x(x(l*T)-x(P*E)))+x(S*x(x(w*E)-x(l*I))))))<=x(0))){for(h[a+24>>2]=0,h[a+16>>2]=0,h[a+20>>2]=0,h[a+12>>2]=0;b=h[4912+(y=N<<2)>>2],l=g[8+(C=(a+32|0)+(b<<4)|0)>>2],S=g[C+4>>2],p=x(x(x(m*l)-x(f*S))*s),s=g[C>>2],x(d*x(x(p+x(c*x(x(f*s)-x(l*v))))+x(x(x(S*v)-x(m*s))*_)))>x(0)&&(C=b<<2,(s=ye(h[y+(a+80|0)>>2],h[C+(a+80|0)>>2],i,a+16|0,a+12|0))<u^1&&!(u<x(0))||(F=1<<b,b=h[a+12>>2],h[r>>2]=((F&b<<30>>31)+(b<<1&8)|0)+(0-(1&b)&1<<N),h[o+y>>2]=h[a+16>>2],h[o+C>>2]=h[a+20>>2],h[(h[C+4912>>2]<<2)+o>>2]=0,h[o+12>>2]=h[a+24>>2],u=s)),3!=(0|(N=N+1|0));)v=g[(y=(a+32|0)+(N<<4)|0)>>2],f=g[y+8>>2],m=g[y+4>>2],_=g[i+8>>2],c=g[i+4>>2],s=g[i>>2];u<x(0)&&(h[r>>2]=15,u=g[n+4>>2],s=g[t+8>>2],c=g[i>>2],_=g[n+8>>2],f=g[t>>2],m=g[i+4>>2],A=x(x(x(u*s)*c)+x(x(_*f)*m)),p=s,s=g[n>>2],l=x(u*f),u=g[i+8>>2],l=x(x(A-x(m*x(p*s)))-x(l*u)),p=u,u=g[t+4>>2],u=x(x(x(l+x(p*x(s*u)))-x(c*x(_*u)))/d),g[o>>2]=u,s=g[e+4>>2],c=g[n+8>>2],_=g[i>>2],f=g[e+8>>2],m=g[n>>2],v=g[i+4>>2],A=x(x(x(s*c)*_)+x(x(f*m)*v)),p=c,c=g[e>>2],l=x(s*m),s=g[i+8>>2],l=x(x(A-x(v*x(p*c)))-x(l*s)),p=s,s=g[n+4>>2],s=x(x(x(l+x(p*x(c*s)))-x(_*x(f*s)))/d),g[o+4>>2]=s,c=g[t+4>>2],_=g[e+8>>2],f=g[i>>2],m=g[t+8>>2],v=g[e>>2],l=g[i+4>>2],R=x(x(x(c*_)*f)+x(x(m*v)*l)),p=_,_=g[t>>2],A=x(c*v),c=g[i+8>>2],l=x(x(R-x(l*x(p*_)))-x(A*c)),p=c,c=g[e+4>>2],d=x(x(x(l+x(p*x(_*c)))-x(f*x(m*c)))/d),g[o+8>>2]=d,g[o+12>>2]=x(1)-x(x(u+s)+d),u=x(0))}return z=a+96|0,u}function Cl(e,t,n,i,o,r){var a,s,c,l,p,u,_,f,m,d,v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0);if(a=z-16|0,y=g[i>>2],v=g[n>>2],b=x(x(y+v)*x(.5)),A=x(g[t>>2]-b),y=x(y-v),s=A>(R=x(y*x(.5))),c=A<(y=x(y*x(-.5))),v=g[i+4>>2],C=g[n+4>>2],S=x(x(v+C)*x(.5)),T=x(g[t+4>>2]-S),v=x(v-C),l=T<(E=x(v*x(-.5))),p=T>(C=x(v*x(.5))),v=g[i+8>>2],w=g[n+8>>2],I=x(x(v+w)*x(.5)),P=x(g[t+8>>2]-I),v=x(v-w),!((t=c|s<<3|l<<1|p<<4|(i=P<(N=x(v*x(-.5))))<<2|(P>(w=x(v*x(.5))))<<5)&(d=(u=(b=x(g[e>>2]-b))<y)|(n=b>R)<<3|(_=(S=x(g[e+4>>2]-S))<E)<<1|(f=S>C)<<4|(m=(E=x(g[e+8>>2]-I))<N)<<2|(E>w)<<5))){y=g[o>>2],h[a+8>>2]=0,h[a+12>>2]=0,h[a>>2]=0,h[a+4>>2]=0,I=x(A-b),v=x(-b),e=4|a;e:if(u){if(!((A=x(x(v-R)/I))>=x(0))){A=x(0);break e}h[e>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,h[a>>2]=1065353216}else A=x(0),c&&(v=x(x(v-R)/I))<y&&(y=v);T=x(T-S),v=x(-S);e:{t:{if(_){if(!(A<=(v=x(x(v-C)/T))))break t;h[a+8>>2]=0,h[a+12>>2]=0,h[a>>2]=0,h[a+4>>2]=1065353216;break e}l&&(v=x(x(v-C)/T))<y&&(y=v)}v=A}P=x(P-E),A=x(-E);e:{t:{if(m){if(!(v<=(A=x(x(A-w)/P))))break t;h[a+8>>2]=1065353216,h[a+12>>2]=0,h[a>>2]=0,h[a+4>>2]=0;break e}i&&(A=x(x(A-w)/P))<y&&(y=A)}A=v}e:{t:{if(n){if(!(A<=(v=x(x(R-b)/I))))break t;h[e>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,h[a>>2]=-1082130432;break e}s&&(v=x(x(R-b)/I))<y&&(y=v)}v=A}e:{t:{if(f){if(!(v<=(A=x(x(C-S)/T))))break t;h[a+8>>2]=0,h[a+12>>2]=0,h[a>>2]=0,h[a+4>>2]=-1082130432;break e}p&&(A=x(x(C-S)/T))<y&&(y=A)}A=v}e:{t:{if(32&d){if(!(A<=(v=x(x(w-E)/P))))break t;h[a+8>>2]=-1082130432,h[a+12>>2]=0,h[a>>2]=0,h[a+4>>2]=0;break e}32&t&&(v=x(x(w-E)/P))<y&&(y=v)}v=A}if(v<=y)return g[o>>2]=v,e=h[a+12>>2],h[r+8>>2]=h[a+8>>2],h[r+12>>2]=e,e=h[a+4>>2],h[r>>2]=h[a>>2],h[r+4>>2]=e,1}return 0}function Sl(e,t){var n=x(0),i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0);n=x(g[e+152>>2]-g[e+132>>2]),o=x(g[e+156>>2]-g[e+136>>2]),i=x(g[e+160>>2]-g[e+140>>2]),(s=x(T(x(x(x(n*n)+x(o*o))+x(i*i)))))>x(1.1920928955078125e-7)&&(l=g[t+8>>2],a=g[t>>2],p=g[t+4>>2],t=h[e+136>>2],h[e+152>>2]=h[e+132>>2],h[e+156>>2]=t,t=h[e+144>>2],h[e+160>>2]=h[e+140>>2],h[e+164>>2]=t,r=n,n=x(x(1)/s),c=r=x(r*n),u=x(r*a),r=x(o*n),i=x(i*n),n=x(x(u+x(r*p))+x(i*l)),n=x(n+n),c=o=x(c-x(a*n)),i=x(i-x(l*n)),n=x(r-x(p*n)),o=x(x(1)/x(T(x(x(i*i)+x(x(o*o)+x(n*n)))))),r=x(c*o),c=a,i=x(i*o),n=x(n*o),a=x(x(l*i)+x(x(a*r)+x(p*n))),g[e+152>>2]=x(s*x(r-x(c*a)))+g[e+152>>2],g[e+156>>2]=x(s*x(n-x(p*a)))+g[e+156>>2],g[e+160>>2]=x(s*x(i-x(l*a)))+g[e+160>>2])}function El(e,t,n){var i,o=0,r=x(0),a=x(0),s=x(0);z=i=z-80|0,h[e+240>>2]&&(g[e+176>>2]=g[e+64>>2]+g[e+176>>2],g[e+192>>2]=g[e+80>>2]+g[e+192>>2],g[e+180>>2]=g[e+68>>2]+g[e+180>>2],g[e+184>>2]=g[e+72>>2]+g[e+184>>2],g[e+196>>2]=g[e+84>>2]+g[e+196>>2],g[e+200>>2]=g[e+88>>2]+g[e+200>>2],(g[e+144>>2]!=x(0)|g[e+148>>2]!=x(0)|g[e+152>>2]!=x(0)|g[e+160>>2]!=x(0)||g[e+164>>2]!=x(0)||g[e+168>>2]!=x(0))&&(r=g[e+164>>2],a=g[e+168>>2],s=g[e+160>>2],h[i+12>>2]=0,g[i>>2]=s*n,g[i+8>>2]=a*n,g[i+4>>2]=r*n,yr(e,e+144|0,i,t,i+16|0),o=h[i+28>>2],h[e+8>>2]=h[i+24>>2],h[e+12>>2]=o,o=h[i+20>>2],h[e>>2]=h[i+16>>2],h[e+4>>2]=o,o=h[i+44>>2],h[e+24>>2]=h[i+40>>2],h[e+28>>2]=o,o=h[i+36>>2],h[e+16>>2]=h[i+32>>2],h[e+20>>2]=o,o=h[i+52>>2],h[e+32>>2]=h[i+48>>2],h[e+36>>2]=o,o=h[i+60>>2],h[e+40>>2]=h[i+56>>2],h[e+44>>2]=o,o=h[i+68>>2],h[e+48>>2]=h[i+64>>2],h[e+52>>2]=o,o=h[i+76>>2],h[e+56>>2]=h[i+72>>2],h[e+60>>2]=o)),z=i+80|0}function wl(e,t,n){var i,o,s,c,l,p=x(0),u=x(0),_=x(0),f=0,d=x(0),v=0,A=x(0),C=x(0),S=0,E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=0,D=x(0),M=x(0),O=x(0),L=0,F=x(0),B=0,U=0,j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=0,Y=0,X=0,Q=x(0),Z=0,J=x(0),K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=0,oe=0;if(z=i=z-80|0,o=h[t+840>>2],c=Mr(e,s=h[t+836>>2],g[n+12>>2]),l=Mr(e,o,g[n+12>>2]),S=(v=h[e+16>>2])+y(c,244)|0,p=g[S+128>>2],_=x(p*p),p=g[S+132>>2],_=x(_+x(p*p)),p=g[S+136>>2],!(x(_+x(p*p))<x(14210854715202004e-30)&&(S=v+y(l,244)|0,p=g[S+128>>2],_=x(p*p),p=g[S+132>>2],_=x(_+x(p*p)),p=g[S+136>>2],x(_+x(p*p))<x(14210854715202004e-30))||(0|(N=h[t+844>>2]))<1))for(ie=B=v+y(l,244)|0,oe=U=v+y(c,244)|0;;){if(f=y(Z,208)+t|0,g[f+84>>2]<=g[t+852>>2]){if(Y=f+4|0,N=S=h[e+28>>2],(0|S)==h[e+32>>2]&&(N=S,!((0|S)>=(0|(L=S?S<<1:1))))){if(N=0,v=S,q=0,L&&(h[6657]=h[6657]+1,q=0|r[h[5255]](y(L,152),16),v=h[e+28>>2]),(0|v)>=1)for(;qo((X=y(N,152))+q|0,h[e+36>>2]+X|0,152),(0|v)!=(0|(N=N+1|0)););(v=h[e+36>>2])&&(m[e+40|0]&&v&&(h[6658]=h[6658]+1,r[h[5256]](v)),h[e+36>>2]=0),h[e+36>>2]=q,a[e+40|0]=1,h[e+32>>2]=L,N=h[e+28>>2]}h[e+28>>2]=N+1,q=h[e+36>>2]+y(S,152)|0,h[q+148>>2]=l,h[q+144>>2]=c,h[q+132>>2]=Y,j=g[f+52>>2],R=g[f+56>>2],A=g[f+60>>2],d=g[s+52>>2],u=g[s+56>>2],p=g[s+60>>2],h[i+76>>2]=0,F=x(A-p),g[i+72>>2]=F,w=x(R-u),g[i+68>>2]=w,C=x(j-d),g[i+64>>2]=C,j=g[f+36>>2],R=g[f+40>>2],A=g[f+44>>2],d=g[o+52>>2],u=g[o+56>>2],p=g[o+60>>2],h[i+60>>2]=0,_=x(A-p),g[i+56>>2]=_,R=x(R-u),g[i+52>>2]=R,A=x(j-d),g[i+48>>2]=A,J=x(0),K=x(0),$=x(0),ee=x(0),h[U+240>>2]&&(d=x(g[U+192>>2]+g[U+224>>2]),u=x(g[U+196>>2]+g[U+228>>2]),ee=x(x(g[U+184>>2]+g[U+216>>2])+x(x(w*d)-x(C*u))),p=x(g[U+200>>2]+g[oe+232>>2]),$=x(x(g[U+180>>2]+g[U+212>>2])+x(x(C*p)-x(F*d))),K=x(x(g[U+176>>2]+g[U+208>>2])+x(x(F*u)-x(w*p)))),te=x(0),ne=x(0),h[B+240>>2]&&(d=x(g[B+192>>2]+g[B+224>>2]),u=x(g[B+196>>2]+g[B+228>>2]),ne=x(x(g[B+184>>2]+g[B+216>>2])+x(x(R*d)-x(A*u))),p=x(g[B+200>>2]+g[ie+232>>2]),te=x(x(g[B+180>>2]+g[B+212>>2])+x(x(A*p)-x(_*d))),J=x(x(g[B+176>>2]+g[B+208>>2])+x(x(_*u)-x(R*p)))),j=g[f+76>>2],R=g[(X=f+68|0)>>2],A=g[f+72>>2],Pl(e,q,c,l,Y,n,i+44|0,i- -64|0,i+48|0),h[q+140>>2]=h[e+68>>2],g[f+92>>2]>x(0)&&(Ws(e,X,c,l,S,g[f+96>>2]),_=g[f+76>>2],x(b(_))>x(.7071067690849304)?(p=g[f+72>>2],h[i+24>>2]=0,I=p,p=x(x(_*_)+x(p*p)),u=x(x(1)/x(T(p))),D=x(I*u),g[i+32>>2]=D,E=x(u*x(-_)),g[i+28>>2]=E,M=x(p*u),g[i+8>>2]=M,p=g[X>>2],O=x(D*x(-p)),g[i+12>>2]=O,P=x(0),I=x(p*E)):(p=g[X>>2],d=g[f+72>>2],h[i+32>>2]=0,I=p,p=x(x(p*p)+x(d*d)),u=x(x(1)/x(T(p))),E=x(I*u),g[i+28>>2]=E,P=x(u*x(-d)),g[i+24>>2]=P,O=x(_*P),g[i+12>>2]=O,M=x(E*x(-_)),g[i+8>>2]=M,D=x(0),I=x(p*u)),p=x(x(1)/x(T(x(x(x(P*P)+x(E*E))+x(D*D))))),D=x(D*p),g[i+32>>2]=D,E=x(E*p),g[i+28>>2]=E,P=x(P*p),g[i+24>>2]=P,p=x(x(1)/x(T(x(x(I*I)+x(x(M*M)+x(O*O)))))),I=x(I*p),g[i+16>>2]=I,O=x(O*p),g[i+12>>2]=O,M=x(M*p),g[i+8>>2]=M,(N=2&h[s+180>>2])&&(d=g[s+172>>2],k=g[s+44>>2],G=g[s+12>>2],H=g[s+28>>2],u=g[s+164>>2],_=g[s+36>>2],V=g[s+4>>2],W=g[s+20>>2],p=g[s+168>>2],F=g[s+40>>2],w=g[s+8>>2],C=g[s+24>>2],h[i+36>>2]=0,Q=_,_=x(u*x(x(x(P*V)+x(E*W))+x(D*_))),u=x(p*x(x(x(P*w)+x(E*C))+x(D*F))),p=x(d*x(x(x(P*G)+x(E*H))+x(D*k))),D=x(x(x(Q*_)+x(F*u))+x(k*p)),g[i+32>>2]=D,E=x(x(x(W*_)+x(C*u))+x(H*p)),g[i+28>>2]=E,P=x(x(x(V*_)+x(w*u))+x(G*p)),g[i+24>>2]=P),(v=2&h[o+180>>2])&&(d=g[o+172>>2],k=g[o+44>>2],G=g[o+12>>2],H=g[o+28>>2],u=g[o+164>>2],_=g[o+36>>2],V=g[o+4>>2],W=g[o+20>>2],p=g[o+168>>2],F=g[o+40>>2],w=g[o+8>>2],C=g[o+24>>2],h[i+36>>2]=0,Q=_,_=x(u*x(x(x(V*P)+x(W*E))+x(_*D))),u=x(p*x(x(x(P*w)+x(E*C))+x(D*F))),p=x(d*x(x(x(P*G)+x(E*H))+x(D*k))),D=x(x(x(Q*_)+x(F*u))+x(k*p)),g[i+32>>2]=D,E=x(x(x(W*_)+x(C*u))+x(H*p)),g[i+28>>2]=E,P=x(x(x(V*_)+x(w*u))+x(G*p)),g[i+24>>2]=P),N&&(d=g[s+172>>2],k=g[s+44>>2],G=g[s+12>>2],H=g[s+28>>2],u=g[s+164>>2],_=g[s+36>>2],V=g[s+4>>2],W=g[s+20>>2],p=g[s+168>>2],F=g[s+40>>2],w=g[s+8>>2],C=g[s+24>>2],h[i+20>>2]=0,Q=_,_=x(u*x(x(x(M*V)+x(O*W))+x(I*_))),u=x(p*x(x(x(M*w)+x(O*C))+x(I*F))),p=x(d*x(x(x(M*G)+x(O*H))+x(I*k))),I=x(x(x(Q*_)+x(F*u))+x(k*p)),g[i+16>>2]=I,O=x(x(x(W*_)+x(C*u))+x(H*p)),g[i+12>>2]=O,M=x(x(x(V*_)+x(w*u))+x(G*p)),g[i+8>>2]=M),v&&(d=g[o+172>>2],k=g[o+44>>2],G=g[o+12>>2],H=g[o+28>>2],u=g[o+164>>2],_=g[o+36>>2],V=g[o+4>>2],W=g[o+20>>2],p=g[o+168>>2],F=g[o+40>>2],w=g[o+8>>2],C=g[o+24>>2],h[i+20>>2]=0,Q=_,_=x(u*x(x(x(V*M)+x(W*O))+x(_*I))),u=x(p*x(x(x(M*w)+x(O*C))+x(I*F))),p=x(d*x(x(x(M*G)+x(O*H))+x(I*k))),I=x(x(x(Q*_)+x(F*u))+x(k*p)),g[i+16>>2]=I,O=x(x(x(W*_)+x(C*u))+x(H*p)),g[i+12>>2]=O,M=x(x(x(V*_)+x(w*u))+x(G*p)),g[i+8>>2]=M),+x(T(x(x(x(P*P)+x(E*E))+x(D*D))))>.001&&Ws(e,i+24|0,c,l,S,g[f+92>>2]),+x(T(x(x(x(M*M)+x(O*O))+x(I*I))))>.001&&Ws(e,i+8|0,c,l,S,g[f+92>>2]));e:if(1&a[f+132|0]&&32&m[n+72|0])jr(e,f+172|0,c,l,S,Y,i- -64|0,i+48|0,p=g[i+44>>2],n,g[f+148>>2],g[f+164>>2]),16&m[n+72|0]&&jr(e,f+188|0,c,l,S,Y,i- -64|0,i+48|0,p,n,g[f+152>>2],g[f+164>>2]);else{if(_=g[X>>2],w=g[f+72>>2],C=g[f+76>>2],h[f+184>>2]=0,d=x(K-J),u=x($-te),p=x(ee-ne),j=x(x(x(d*R)+x(u*A))+x(p*j)),R=x(p-x(C*j)),g[f+180>>2]=R,A=x(u-x(j*w)),g[f+176>>2]=A,L=f+172|0,u=x(d-x(j*_)),g[L>>2]=u,!(64&m[n+72|0])&&(p=x(x(x(u*u)+x(A*A))+x(R*R)))>x(1.1920928955078125e-7)){if(p=x(x(1)/x(T(p))),g[L>>2]=u*p,g[f+176>>2]=A*p,g[f+180>>2]=R*p,vr(s,L),vr(o,L),jr(e,L,c,l,S,Y,i- -64|0,i+48|0,p=g[i+44>>2],n,x(0),x(0)),!(16&m[n+72|0]))break e;C=g[f+176>>2],_=g[f+72>>2],j=g[X>>2],d=g[f+180>>2],R=g[L>>2],u=g[f+76>>2],h[f+200>>2]=0,A=x(x(C*u)-x(d*_)),d=x(x(d*j)-x(u*R)),u=x(x(_*R)-x(C*j)),R=x(x(1)/x(T(x(x(x(A*A)+x(d*d))+x(u*u))))),g[f+196>>2]=u*R,g[f+192>>2]=d*R,g[(v=f+188|0)>>2]=A*R,vr(s,v),vr(o,v),jr(e,v,c,l,S,Y,i- -64|0,i+48|0,p,n,x(0),x(0));break e}if(v=N=f+188|0,x(b(C))>x(.7071067690849304)?(h[L>>2]=0,d=x(x(w*w)+x(C*C)),A=x(x(1)/x(T(d))),u=x(A*x(-C)),g[f+176>>2]=u,p=x(w*A),g[f+180>>2]=p,E=x(_*u),P=x(p*x(-_)),_=x(d*A)):(d=x(x(_*_)+x(w*w)),A=x(x(1)/x(T(d))),u=x(A*x(-w)),g[L>>2]=u,p=x(_*A),g[f+176>>2]=p,h[f+180>>2]=0,E=x(d*A),P=x(C*u),_=x(p*x(-C))),g[v>>2]=_,g[f+196>>2]=E,g[f+192>>2]=P,vr(s,L),vr(o,L),jr(e,L,c,l,S,Y,i- -64|0,i+48|0,p=g[i+44>>2],n,x(0),x(0)),16&(v=h[n+72>>2])&&(vr(s,N),vr(o,N),jr(e,N,c,l,S,Y,i- -64|0,i+48|0,p,n,x(0),x(0)),v=h[n+72>>2]),80!=(80&v))break e;h[f+132>>2]=1|h[f+132>>2]}Tl(e,q,c,l,Y,n),N=h[t+844>>2]}if(!((0|(Z=Z+1|0))<(0|N)))break}z=i+80|0}function Tl(e,t,n,i,o,r){var a,s,c,l,p,u=x(0),_=x(0),f=x(0),m=x(0),d=0,v=x(0),A=x(0),b=x(0),C=0,S=0,E=x(0),w=x(0);c=h[e+16>>2],a=h[240+(c+y(i,244)|0)>>2],s=h[240+(y(n,244)+c|0)>>2],l=h[e+76>>2],p=h[t+140>>2];e:if(S=4&(C=h[r+72>>2])){if(t=y(p,152)+l|0,u=x(g[o+136>>2]*g[r+68>>2]),g[t+100>>2]=u,s&&(f=g[s+416>>2],m=g[t+24>>2],v=g[s+412>>2],A=g[t+20>>2],e=y(n,244)+c|0,_=g[s+404>>2],g[e+64>>2]=x(x(u*x(x(_*g[t+16>>2])*g[s+408>>2]))*g[e+112>>2])+g[e+64>>2],g[e+68>>2]=x(x(u*x(v*x(_*A)))*g[e+116>>2])+g[e+68>>2],g[e+72>>2]=x(x(u*x(f*x(_*m)))*g[e+120>>2])+g[e+72>>2],_=g[t+72>>2],f=g[t+68>>2],g[e+80>>2]=x(x(u*g[e+96>>2])*g[t+64>>2])+g[e+80>>2],m=g[e+104>>2],g[e+84>>2]=x(f*x(u*g[e+100>>2]))+g[e+84>>2],g[e+88>>2]=x(_*x(u*m))+g[e+88>>2]),!a)break e;d=y(p,152)+l|0,f=g[d+88>>2],m=g[d+84>>2],v=g[d+80>>2],A=g[a+416>>2],b=g[d+56>>2],E=g[a+412>>2],w=g[d+52>>2],e=y(i,244)+c|0,_=g[a+404>>2],u=g[t+100>>2],g[e+64>>2]=g[e+64>>2]+x(x(x(x(_*g[d+48>>2])*g[a+408>>2])*u)*g[e+112>>2]),g[e+68>>2]=g[e+68>>2]+x(x(u*x(E*x(_*w)))*g[e+116>>2]),g[e+72>>2]=g[e+72>>2]+x(x(u*x(A*x(_*b)))*g[e+120>>2]),g[e+80>>2]=g[e+80>>2]+x(v*x(u*g[e+96>>2])),_=g[e+104>>2],g[e+84>>2]=g[e+84>>2]+x(m*x(u*g[e+100>>2])),g[e+88>>2]=g[e+88>>2]+x(f*x(_*u))}else h[100+(y(p,152)+l|0)>>2]=0;e:if(16&C){if(d=p+1|0,S){if(t=y(d,152)+l|0,u=x(g[o+140>>2]*g[r+68>>2]),g[t+100>>2]=u,s&&(f=g[t+24>>2],m=g[t+20>>2],e=y(n,244)+c|0,_=g[s+404>>2],g[e+64>>2]=x(x(u*x(_*g[t+16>>2]))*g[e+112>>2])+g[e+64>>2],g[e+68>>2]=x(x(u*x(_*m))*g[e+116>>2])+g[e+68>>2],g[e+72>>2]=x(x(u*x(_*f))*g[e+120>>2])+g[e+72>>2],_=g[t+72>>2],f=g[t+68>>2],g[e+80>>2]=x(x(u*g[e+96>>2])*g[t+64>>2])+g[e+80>>2],m=g[e+104>>2],g[e+84>>2]=x(f*x(u*g[e+100>>2]))+g[e+84>>2],g[e+88>>2]=x(_*x(u*m))+g[e+88>>2]),!a)break e;return n=y(d,152)+l|0,f=g[n+88>>2],m=g[n+84>>2],v=g[n+56>>2],A=g[n+52>>2],b=g[n+48>>2],_=g[a+404>>2],e=y(i,244)+c|0,u=g[t+100>>2],g[e+80>>2]=g[e+80>>2]+x(g[n+80>>2]*x(g[e+96>>2]*u)),g[e+64>>2]=g[e+64>>2]+x(x(u*x(_*b))*g[e+112>>2]),g[e+68>>2]=g[e+68>>2]+x(x(u*x(_*A))*g[e+116>>2]),g[e+72>>2]=g[e+72>>2]+x(x(u*x(_*v))*g[e+120>>2]),_=g[e+104>>2],g[e+84>>2]=g[e+84>>2]+x(m*x(u*g[e+100>>2])),void(g[e+88>>2]=g[e+88>>2]+x(f*x(_*u)))}h[100+(y(d,152)+l|0)>>2]=0}}function Pl(e,t,n,i,o,r,a,s,c){var l,p,u,_,f,d=x(0),v=x(0),A=x(0),C=x(0),S=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),z=x(0),F=x(0),B=x(0),U=x(0);_=(u=h[e+16>>2])+y(i,244)|0,l=h[_+240>>2],f=y(n,244)+u|0,p=h[f+240>>2],h[a>>2]=h[r+28>>2],M=g[r+12>>2],B=g[r+36>>2],w=g[r+40>>2];e:if(6&(e=h[o+128>>2])){if(w=2&e?g[o+152>>2]:w,!(4&e))break e;B=g[o+156>>2]}else 8&e&&(v=x(M*g[o+152>>2]),d=x(E(x(v+g[o+156>>2]),x(1.1920928955078125e-7))),B=x(v/d),w=x(x(1)/d));d=g[o+68>>2],v=g[s>>2],C=g[s+4>>2],S=g[o+64>>2],T=x(x(d*v)-x(C*S)),A=g[s+8>>2],N=x(A*S),S=g[o+72>>2],R=x(N-x(S*v)),O=x(x(C*S)-x(A*d)),v=x(0),C=x(0),p&&(D=x(x(x(x(O*g[p+356>>2])+x(R*g[p+360>>2]))+x(T*g[p+364>>2]))*g[p+612>>2]),C=x(x(x(x(O*g[p+340>>2])+x(R*g[p+344>>2]))+x(T*g[p+348>>2]))*g[p+608>>2]),v=x(x(x(x(O*g[p+324>>2])+x(R*g[p+328>>2]))+x(T*g[p+332>>2]))*g[p+604>>2])),g[t+64>>2]=v,h[t+76>>2]=0,g[t+72>>2]=D,g[t+68>>2]=C,d=g[o+68>>2],S=g[c>>2],A=g[c+4>>2],P=g[o+64>>2],L=x(x(d*S)-x(A*P)),N=g[c+8>>2],z=x(N*P),P=g[o+72>>2],F=x(z-x(P*S)),P=x(x(A*P)-x(N*d)),S=x(0),A=x(0),l&&(d=x(-F),A=x(x(x(x(g[l+360>>2]*d)-x(P*g[l+356>>2]))-x(L*g[l+364>>2]))*g[l+612>>2]),I=x(x(x(x(g[l+328>>2]*d)-x(P*g[l+324>>2]))-x(L*g[l+332>>2]))*g[l+604>>2]),S=x(x(x(x(g[l+344>>2]*d)-x(P*g[l+340>>2]))-x(L*g[l+348>>2]))*g[l+608>>2])),g[t+80>>2]=I,h[t+92>>2]=0,g[t+88>>2]=A,g[t+84>>2]=S,d=x(0),p&&(d=g[s+8>>2],N=g[s+4>>2],U=x(x(x(C*d)-x(D*N))*g[o+64>>2]),z=D,D=g[s>>2],d=x(g[p+404>>2]+x(x(U+x(x(x(z*D)-x(d*v))*g[o+68>>2]))+x(x(x(N*v)-x(C*D))*g[o+72>>2])))),e=t,U=g[a>>2],D=x(x(1)/M),C=N=x(D*w),l?(v=g[c+4>>2],M=g[c+8>>2],w=x(x(x(A*v)-x(S*M))*g[o+64>>2]),z=A,A=g[c>>2],A=x(g[l+404>>2]+x(x(w+x(x(x(I*M)-x(z*A))*g[o+68>>2]))+x(x(x(S*A)-x(I*v))*g[o+72>>2])))):A=x(0),g[e+108>>2]=U/x(C+x(d+A)),p?(a=h[4+(e=o- -64|0)>>2],h[t+16>>2]=h[e>>2],h[t+20>>2]=a,a=h[e+12>>2],h[t+24>>2]=h[e+8>>2],h[t+28>>2]=a,h[t+12>>2]=0,g[t+8>>2]=T,g[t+4>>2]=R,g[t>>2]=O):(h[t>>2]=0,h[t+4>>2]=0,h[t+24>>2]=0,h[t+28>>2]=0,h[t+16>>2]=0,h[t+20>>2]=0,h[t+8>>2]=0,h[t+12>>2]=0),l?(d=g[o+64>>2],v=g[o+68>>2],C=g[o+72>>2],h[t+60>>2]=0,h[t+44>>2]=0,g[t+40>>2]=-L,g[t+36>>2]=-F,g[t+32>>2]=-P,g[t+56>>2]=-C,g[t+52>>2]=-v,g[t+48>>2]=-d):(h[t+32>>2]=0,h[t+36>>2]=0,h[t+56>>2]=0,h[t+60>>2]=0,h[t+48>>2]=0,h[t+52>>2]=0,h[t+40>>2]=0,h[t+44>>2]=0),F=g[r+64>>2],z=g[o+80>>2],I=x(0),v=x(0),C=x(0),S=x(0),p&&(d=g[s+4>>2],v=g[p+388>>2],A=g[p+392>>2],C=g[s>>2],S=x(x(x(d*v)-x(A*C))+g[p+380>>2]),w=g[p+396>>2],T=g[s+8>>2],C=x(g[p+376>>2]+x(x(w*C)-x(T*v))),v=x(x(x(A*T)-x(w*d))+g[p+372>>2])),A=x(0),T=x(0),l&&(d=g[c+4>>2],A=g[l+388>>2],w=g[l+392>>2],I=g[c>>2],T=x(x(x(d*A)-x(w*I))+g[l+380>>2]),R=g[l+396>>2],P=x(R*I),I=g[c+8>>2],A=x(g[l+376>>2]+x(P-x(I*A))),I=x(x(x(w*I)-x(R*d))+g[l+372>>2])),d=g[o+72>>2],w=g[o+64>>2],R=g[o+68>>2],h[t+104>>2]=h[o+84>>2],d=x(x(x(w*x(v-I))+x(R*x(C-A)))+x(d*x(S-T))),I=x(b(d))<g[r+96>>2]?x(0):x(g[o+96>>2]*x(-d));e:if(4&m[r+72|0]){if(d=x(g[o+132>>2]*g[r+68>>2]),g[t+100>>2]=d,!p|!h[f+240>>2]||(v=g[p+416>>2],C=g[t+24>>2],S=g[p+412>>2],A=g[t+20>>2],e=y(n,244)+u|0,g[e+64>>2]=x(g[e+112>>2]*x(d*x(x(g[t+16>>2]*g[e+128>>2])*g[p+408>>2])))+g[e+64>>2],g[e+68>>2]=x(x(d*x(S*x(A*g[e+132>>2])))*g[e+116>>2])+g[e+68>>2],g[e+72>>2]=x(x(d*x(v*x(C*g[e+136>>2])))*g[e+120>>2])+g[e+72>>2],v=g[t+72>>2],C=g[t+68>>2],g[e+80>>2]=x(x(d*g[e+96>>2])*g[t+64>>2])+g[e+80>>2],S=g[e+104>>2],g[e+84>>2]=x(C*x(d*g[e+100>>2]))+g[e+84>>2],g[e+88>>2]=x(v*x(d*S))+g[e+88>>2]),!l|!h[_+240>>2])break e;v=g[l+416>>2],C=g[t+56>>2],S=g[l+412>>2],A=g[t+52>>2],w=g[t+88>>2],T=g[t+84>>2],R=g[t+80>>2],e=y(i,244)+u|0,d=x(-g[t+100>>2]),g[e+64>>2]=g[e+64>>2]-x(g[e+112>>2]*x(x(x(g[e+128>>2]*g[t+48>>2])*g[l+408>>2])*d)),g[e+68>>2]=g[e+68>>2]-x(x(x(S*x(A*g[e+132>>2]))*d)*g[e+116>>2]),g[e+72>>2]=g[e+72>>2]-x(x(x(v*x(C*g[e+136>>2]))*d)*g[e+120>>2]),g[e+80>>2]=g[e+80>>2]-x(R*x(g[e+96>>2]*d)),v=g[e+104>>2],g[e+84>>2]=g[e+84>>2]-x(T*x(g[e+100>>2]*d)),g[e+88>>2]=g[e+88>>2]-x(w*x(v*d))}else h[t+100>>2]=0;h[t+96>>2]=0,C=x(0),S=x(0),A=x(0),T=x(0),R=x(0),O=x(0),L=x(0),h[f+240>>2]&&(e=y(n,244)+u|0,R=g[e+232>>2],O=g[e+228>>2],L=g[e+224>>2],A=g[e+212>>2],T=g[e+208>>2],S=g[e+216>>2]),v=x(0),P=x(0),w=x(0),M=x(0),d=x(0),h[_+240>>2]&&(e=y(i,244)+u|0,w=g[e+232>>2],M=g[e+228>>2],P=g[e+216>>2],C=g[e+208>>2],v=g[e+212>>2],d=g[e+224>>2]),e=y(n,244)+u|0,A=x(x(x(x(x(T+g[e+176>>2])*g[t+16>>2])+x(x(A+g[e+180>>2])*g[t+20>>2]))+x(x(S+g[e+184>>2])*g[t+24>>2]))+x(x(x(x(L+g[e+192>>2])*g[t>>2])+x(x(O+g[e+196>>2])*g[t+4>>2]))+x(x(R+g[e+200>>2])*g[t+8>>2]))),e=y(i,244)+u|0,v=x((I<=x(0)?x(0):I)-x(A+x(x(x(x(x(C+g[e+176>>2])*g[t+48>>2])+x(x(v+g[e+180>>2])*g[t+52>>2]))+x(x(P+g[e+184>>2])*g[t+56>>2]))+x(x(x(x(d+g[e+192>>2])*g[t+32>>2])+x(x(M+g[e+196>>2])*g[t+36>>2]))+x(x(w+g[e+200>>2])*g[t+40>>2]))))),C=x(0),(d=x(z+F))>x(0)?v=x(v-x(D*d)):C=x(D*x(B*x(-d))),S=g[t+108>>2],v=x(v*S),C=x(C*S),e=t,d>g[r+56>>2]^1&&h[r+52>>2]||(v=x(C+v),C=x(0)),g[e+128>>2]=C,g[t+112>>2]=v,h[t+120>>2]=0,h[t+124>>2]=1343554297,g[t+116>>2]=N*S}function Il(e,t,n){var i,o=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,d=0,v=0;o=y((o=((o=n<<16|t)<<15^-1)+o|0)>>>10^o,9),_=(i=(o=((o^=o>>>6)<<11^-1)+o|0)>>>16^o)&(o=h[e+12>>2])+-1;e:{if(-1!=(0|(c=h[h[e+36>>2]+(_<<2)>>2])))for(l=h[e+16>>2];;){if(s=l+y(c,12)|0,h[s+4>>2]==(0|n)&&h[s>>2]==(0|t))break e;if(-1==(0|(c=h[h[e+56>>2]+(c<<2)>>2])))break}c=e;t:{n:{if((0|(s=l=h[e+8>>2]))==(0|o)){if(!(d=(0|o)>=(0|(s=o?o<<1:1))))break n}else o=s;h[c+8>>2]=o+1,s=(p=h[e+16>>2])+y(l,12)|0;break t}if(s&&(h[6657]=h[6657]+1,p=0|r[h[5255]](y(s,12),16),o=h[e+8>>2]),(0|o)>=1)for(c=0;f=(u=y(c,12))+h[e+16>>2]|0,v=h[f+4>>2],h[(u=p+u|0)>>2]=h[f>>2],h[u+4>>2]=v,h[u+8>>2]=h[f+8>>2],(0|(c=c+1|0))!=(0|o););(o=h[e+16>>2])&&(m[e+20|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+16>>2]=0),h[e+16>>2]=p,h[e+12>>2]=s,a[e+20|0]=1,h[e+8>>2]=h[e+8>>2]+1,s=y(l,12)+p|0,d||(sl(e),_=h[e+12>>2]+-1&i)}h[s>>2]=t,t=y(l,12)+p|0,h[t+4>>2]=n,h[t+8>>2]=0,t=h[e+56>>2]+(l<<2)|0,e=h[e+36>>2]+(_<<2)|0,h[t>>2]=h[e>>2],h[e>>2]=l}return s}function Rl(e){var t,n,i=0,o=0,s=0,c=0;if(h[e>>2]=11200,h[e+8>>2]=0,h[e+12>>2]=0,a[e+20|0]=1,h[e+16>>2]=0,a[e+40|0]=1,h[e+36>>2]=0,a[e+60|0]=1,h[e+28>>2]=0,h[e+32>>2]=0,h[e+56>>2]=0,h[e+48>>2]=0,h[e+52>>2]=0,h[6657]=h[6657]+1,t=0|r[h[5255]](24,16),(0|(n=h[e+8>>2]))>=1)for(;i=(o=y(s,12))+h[e+16>>2]|0,c=h[i+4>>2],h[(o=o+t|0)>>2]=h[i>>2],h[o+4>>2]=c,h[o+8>>2]=h[i+8>>2],(0|n)!=(0|(s=s+1|0)););(i=h[e+16>>2])&&(m[e+20|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[e+16>>2]=0),h[e+16>>2]=t,a[e+20|0]=1,h[e+12>>2]=2,sl(e)}function Nl(e,t,n,i){var o=0,s=0,c=0,l=0,p=x(0),u=0,_=0,f=0,d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=0,E=x(0),w=0,T=x(0),P=x(0),I=x(0),R=0;e:if(!((0|(w=h[e+4>>2]))<2))for(c=h[e+12>>2],A=g[(o=(c+(w<<4)|0)-16|0)>>2],T=g[n>>2],d=g[o+4>>2],P=g[n+4>>2],v=g[o+8>>2],I=g[n+8>>2],p=x(x(x(x(A*T)+x(d*P))+x(v*I))+i);;){y=g[(o=(R<<4)+c|0)>>2],b=g[o+4>>2],C=g[o+8>>2],E=x(x(x(x(y*T)+x(b*P))+x(C*I))+i),S=h[o+12>>2];t:{n:if(p<x(0)){if(E<x(0)){if((0|(o=h[t+4>>2]))==h[t+8>>2]&&!((0|o)>=(0|(u=o?o<<1:1)))){if(c=0,_=0,u&&(h[6657]=h[6657]+1,_=0|r[h[5255]](u<<4,16),o=h[t+4>>2]),(0|o)>=1)for(;l=(s=c<<4)+_|0,s=s+h[t+12>>2]|0,f=h[s+4>>2],h[l>>2]=h[s>>2],h[l+4>>2]=f,f=h[s+12>>2],h[l+8>>2]=h[s+8>>2],h[l+12>>2]=f,(0|(c=c+1|0))!=(0|o););(o=h[t+12>>2])&&(m[t+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[t+12>>2]=0),h[t+12>>2]=_,a[t+16|0]=1,h[t+8>>2]=u,o=h[t+4>>2]}o=h[t+12>>2]+(o<<4)|0,h[o+12>>2]=S,g[o+8>>2]=C,g[o+4>>2]=b,g[o>>2]=y;break n}if(p=x(p/x(p-E)),v=x(v+x(x(C-v)*p)),d=x(d+x(x(b-d)*p)),p=x(A+x(x(y-A)*p)),(0|(o=h[t+4>>2]))==h[t+8>>2]&&!((0|o)>=(0|(_=o?o<<1:1)))){if(c=0,u=0,_&&(h[6657]=h[6657]+1,u=0|r[h[5255]](_<<4,16),o=h[t+4>>2]),(0|o)>=1)for(;l=S=(s=c<<4)+u|0,s=s+h[t+12>>2]|0,f=h[s+4>>2],h[l>>2]=h[s>>2],h[l+4>>2]=f,l=h[s+12>>2],h[S+8>>2]=h[s+8>>2],h[S+12>>2]=l,(0|(c=c+1|0))!=(0|o););(o=h[t+12>>2])&&(m[t+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[t+12>>2]=0),h[t+12>>2]=u,a[t+16|0]=1,h[t+8>>2]=_,o=h[t+4>>2]}o=h[t+12>>2]+(o<<4)|0,h[o+12>>2]=0,g[o+8>>2]=v,g[o+4>>2]=d,g[o>>2]=p}else{if(!(E<x(0)))break t;if(p=x(p/x(p-E)),v=x(v+x(x(C-v)*p)),d=x(d+x(x(b-d)*p)),p=x(A+x(x(y-A)*p)),(0|(o=h[t+4>>2]))==h[t+8>>2]&&!((0|o)>=(0|(u=o?o<<1:1)))){if(c=0,_=0,u&&(h[6657]=h[6657]+1,_=0|r[h[5255]](u<<4,16),o=h[t+4>>2]),(0|o)>=1)for(;l=(s=c<<4)+_|0,s=s+h[t+12>>2]|0,f=h[s+4>>2],h[l>>2]=h[s>>2],h[l+4>>2]=f,f=h[s+12>>2],h[l+8>>2]=h[s+8>>2],h[l+12>>2]=f,(0|(c=c+1|0))!=(0|o););(o=h[t+12>>2])&&(m[t+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[t+12>>2]=0),h[t+12>>2]=_,a[t+16|0]=1,h[t+8>>2]=u,o=h[t+4>>2]}if(o=h[t+12>>2]+(o<<4)|0,h[o+12>>2]=0,g[o+8>>2]=v,g[o+4>>2]=d,g[o>>2]=p,o=h[t+4>>2]+1|0,h[t+4>>2]=o,h[t+8>>2]==(0|o)&&!((0|o)>=(0|(u=o?o<<1:1)))){if(c=0,_=0,u&&(h[6657]=h[6657]+1,_=0|r[h[5255]](u<<4,16),o=h[t+4>>2]),(0|o)>=1)for(;l=(s=c<<4)+_|0,s=s+h[t+12>>2]|0,f=h[s+4>>2],h[l>>2]=h[s>>2],h[l+4>>2]=f,f=h[s+12>>2],h[l+8>>2]=h[s+8>>2],h[l+12>>2]=f,(0|(c=c+1|0))!=(0|o););(o=h[t+12>>2])&&(m[t+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[t+12>>2]=0),h[t+12>>2]=_,a[t+16|0]=1,h[t+8>>2]=u,o=h[t+4>>2]}o=h[t+12>>2]+(o<<4)|0,h[o+12>>2]=S,g[o+8>>2]=C,g[o+4>>2]=b,g[o>>2]=y}h[t+4>>2]=h[t+4>>2]+1}if((0|(R=R+1|0))==(0|w))break e;I=g[n+8>>2],P=g[n+4>>2],T=g[n>>2],c=h[e+12>>2],p=E,v=C,d=b,A=y}}function Dl(e,t,n){var i=0,o=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0;e:{if(l=h[e+48>>2],i=h[t>>2],o=y((o=(i<<15^-1)+i|0)>>>10^o,9),!((u=l+-1&((o=((o^=o>>>6)<<11^-1)+o|0)>>>16^o))>>>0>=v[e+4>>2])&&-1!=(0|(o=h[h[e+12>>2]+(u<<2)>>2])))for(s=h[e+72>>2];;){if((0|i)==h[s+(o<<3)>>2])break e;if(-1==(0|(o=h[h[e+32>>2]+(o<<2)>>2])))break}if((0|l)==(0|(i=_=h[e+44>>2]))&&!((0|(i=l))>=(0|(s=i?i<<1:1)))){if(s?(h[6657]=h[6657]+1,c=0|r[h[5255]](s<<2,16),i=h[e+44>>2]):i=l,(0|i)>=1)for(o=0;h[(p=o<<2)+c>>2]=h[p+h[e+52>>2]>>2],(0|(o=o+1|0))!=(0|i););(o=h[e+52>>2])&&(m[e+56|0]&&(o&&(h[6658]=h[6658]+1,r[h[5256]](o)),i=h[e+44>>2]),h[e+52>>2]=0),h[e+52>>2]=c,h[e+48>>2]=s,a[e+56|0]=1}if(h[h[e+52>>2]+(i<<2)>>2]=h[n>>2],h[e+44>>2]=i+1,(0|(i=h[e- -64>>2]))==h[e+68>>2]&&!((0|i)>=(0|(n=i?i<<1:1)))){if(n?(h[6657]=h[6657]+1,c=0|r[h[5255]](n<<3,16),i=h[e+64>>2]):c=0,(0|i)>=1)for(o=0;p=(s=o<<3)+c|0,s=s+h[e+72>>2]|0,f=h[s+4>>2],h[p>>2]=h[s>>2],h[p+4>>2]=f,(0|(o=o+1|0))!=(0|i););(i=h[e+72>>2])&&(m[e+76|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[e+72>>2]=0),h[e+72>>2]=c,h[e+68>>2]=n,a[e+76|0]=1,i=h[e+64>>2]}return n=h[e+72>>2]+(i<<3)|0,i=h[t+4>>2],h[n>>2]=h[t>>2],h[n+4>>2]=i,h[e+64>>2]=h[e+64>>2]+1,(0|l)<h[e+48>>2]&&(function(e){var t,n=0,i=0,o=0,s=0,c=0,l=0,p=0,u=0;if(!((0|(t=h[e+4>>2]))>=(0|(i=h[e+48>>2])))){if(h[e+8>>2]>=(0|i))n=h[e+12>>2];else{o=t,i&&(h[6657]=h[6657]+1,n=0|r[h[5255]](i<<2,16),o=h[e+4>>2]),c=h[e+12>>2];t:{n:{if((0|o)>=1)for(;;)if(h[(l=s<<2)+n>>2]=h[c+l>>2],(0|(s=s+1|0))==(0|o))break n;if(!c)break t}m[e+16|0]&&c&&(h[6658]=h[6658]+1,r[h[5256]](c))}h[e+12>>2]=n,a[e+16|0]=1,h[e+8>>2]=i}if(Co((o=t<<2)+n|0,0,(l=i<<2)-o|0),h[e+4>>2]=i,(0|(c=h[e+24>>2]))<(0|i)){t:if(h[e+28>>2]>=(0|i))n=h[e+32>>2];else{s=0,o=c,n=0,i&&(h[6657]=h[6657]+1,n=0|r[h[5255]](l,16),o=h[e+24>>2]),p=h[e+32>>2];n:{if((0|o)>=1)for(;;)if(h[(u=s<<2)+n>>2]=h[p+u>>2],(0|(s=s+1|0))==(0|o))break n;if(!p){h[e+32>>2]=n,h[e+28>>2]=i,a[e+36|0]=1;break t}}m[e+36|0]&&p&&(h[6658]=h[6658]+1,r[h[5256]](p)),h[e+32>>2]=n,a[e+36|0]=1,h[e+28>>2]=i}Co((o=c<<2)+n|0,0,l-o|0)}if(h[e+24>>2]=i,(0|i)>=1&&(Co(h[e+12>>2],255,l),Co(h[e+32>>2],255,l)),!((0|t)<1))for(o=h[e+32>>2],c=h[e+72>>2],i=h[e+12>>2],s=0;n=h[c+(s<<3)>>2],n=y((n=(n<<15^-1)+n|0)>>>10^n,9),n=((n^=n>>>6)<<11^-1)+n|0,n=i+((h[e+48>>2]+-1&(n>>>16^n))<<2)|0,h[o+(s<<2)>>2]=h[n>>2],h[n>>2]=s,(0|t)!=(0|(s=s+1|0)););}}(e),t=h[t>>2],t=y((t=(t<<15^-1)+t|0)>>>10^t,9),t=((t^=t>>>6)<<11^-1)+t|0,u=h[e+48>>2]+-1&(t>>>16^t)),t=h[e+32>>2]+(_<<2)|0,e=h[e+12>>2]+(u<<2)|0,h[t>>2]=h[e>>2],void(h[e>>2]=_)}h[h[e+52>>2]+(o<<2)>>2]=h[n>>2]}function Ml(e,t,n,i,o,r,a,s){var c;z=c=z-32|0,h[c+24>>2]=-1,h[c+28>>2]=-1,h[c+20>>2]=r,h[c+16>>2]=i,h[c+12>>2]=o,h[c+8>>2]=0,_l(e,t,n,c+8|0,a,s),z=c+32|0}function Ol(e,t){var n,i=x(0),o=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=0;z=n=z+-64|0,_=h[t+192>>2],r[h[h[_>>2]+8>>2]](_,t+4|0,n+48|0,n+32|0),i=g[5249],s=x(g[n+48>>2]-i),g[n+48>>2]=s,c=x(g[n+52>>2]-i),g[n+52>>2]=c,l=x(g[n+56>>2]-i),g[n+56>>2]=l,o=x(i+g[n+32>>2]),g[n+32>>2]=o,p=x(i+g[n+36>>2]),g[n+36>>2]=p,u=x(i+g[n+40>>2]),g[n+40>>2]=u,3&m[t+204|0]|!m[e+44|0]|2!=h[t+252>>2]||(_=h[t+192>>2],r[h[h[_>>2]+8>>2]](_,t+68|0,n+16|0,n),c=x(g[n+16>>2]-i),g[n+16>>2]=c,l=x(g[n+20>>2]-i),g[n+20>>2]=l,o=x(g[n+24>>2]-i),g[n+24>>2]=o,p=x(i+g[n>>2]),g[n>>2]=p,u=x(i+g[n+4>>2]),g[n+4>>2]=u,i=x(i+g[n+8>>2]),g[n+8>>2]=i,c<(s=g[n+48>>2])&&(g[n+48>>2]=c,s=c),l<(c=g[n+52>>2])&&(g[n+52>>2]=l,c=l),o<(l=g[n+56>>2])&&(g[n+56>>2]=o,l=o),(o=g[n+28>>2])<g[n+60>>2]&&(g[n+60>>2]=o),(o=g[n+32>>2])<p&&(g[n+32>>2]=p,o=p),(p=g[n+36>>2])<u&&(g[n+36>>2]=u,p=u),(u=g[n+40>>2])<i&&(g[n+40>>2]=i,u=i),i=g[n+12>>2],g[n+44>>2]<i&&(g[n+44>>2]=i)),_=h[e+68>>2],1&a[t+204|0]||(s=x(o-s),o=x(s*s),s=x(p-c),o=x(o+x(s*s)),s=x(u-l),x(o+x(s*s))<x(999999995904))?r[h[h[_>>2]+16>>2]](_,h[t+188>>2],n+48|0,n+32|0,h[e+24>>2]):(4!=(-2&h[t+220>>2])&&(h[t+220>>2]=5),m[24152]||(t=h[e+72>>2])&&(a[24152]=1,r[h[h[t>>2]+44>>2]](t,8240),t=h[e+72>>2],r[h[h[t>>2]+44>>2]](t,8289),t=h[e+72>>2],r[h[h[t>>2]+44>>2]](t,8357),e=h[e+72>>2],r[h[h[e>>2]+44>>2]](e,8422))),z=n- -64|0}function Ll(e,t){var n,i;n=0|e,i=0|t,o[0]=n,o[1]=i}function zl(e,t,n,i){return function(e,t,n,i){var o,r,a,s,c=0,l=0;return s=y(c=n>>>16,l=e>>>16),c=(65535&(l=((a=y(o=65535&n,r=65535&e))>>>16)+y(l,o)|0))+y(c,r)|0,e=(((y(t,n)+s|0)+y(e,i)|0)+(l>>>16)|0)+(c>>>16)|0,F=e,65535&a|c<<16}(e,t,n,i)}function Fl(e,t,n){return function(e,t,n){var i=0,o=0,r=0,a=0,s=0,c=0,l=0,p=0,u=0;e:{t:{n:{i:{o:{r:{a:{s:{c:{if(o=t){if(!(i=n))break c;break s}return Ll((t=e)-y(e=(e>>>0)/(n>>>0)|0,n)|0,0),F=0,e}if(!e)break a;break r}if(!((a=i+-1|0)&i))break o;s=0-(a=(C(i)+33|0)-C(o)|0)|0;break n}return Ll(0,o-y(e=(o>>>0)/0|0,0)|0),F=0,e}if((i=32-C(o)|0)>>>0<31)break i;break t}if(Ll(e&a,0),1==(0|i))break e;return n=31&(i=i?31-C(i+-1^i)|0:32),32<=(63&i)>>>0?(o=0,e=t>>>n):(o=t>>>n,e=((1<<n)-1&t)<<32-n|e>>>n),F=o,e}a=i+1|0,s=63-i|0}if(i=t,r=31&(o=63&a),32<=o>>>0?(o=0,r=i>>>r):(o=i>>>r,r=((1<<r)-1&i)<<32-r|e>>>r),i=31&(s&=63),32<=s>>>0?(t=e<<i,e=0):(t=(1<<i)-1&e>>>32-i|t<<i,e<<=i),a)for(i=-1,(s=n+-1|0)>>>0<4294967295&&(i=0);r=(l=c=r<<1|t>>>31)-(p=n&(c=i-((o=o<<1|r>>>31)+(s>>>0<c>>>0)|0)>>31))|0,o=o-(l>>>0<p>>>0)|0,t=t<<1|e>>>31,e=u|e<<1,u=c&=1,a=a+-1|0;);return Ll(r,o),F=t<<1|e>>>31,c|e<<1}Ll(e,t),e=0,t=0}return F=t,e}(e,t,n)}function Bl(e){var t;return(-1>>>(t=31&e)&-2)<<t|(-1<<(e=0-e&31)&-2)>>>e}return r[1]=function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],h[e>>2]=1032,Cr(e+128|0),$o(e),z=t+16|0,0|e},r[2]=function(e){var t;e|=0,z=t=z-16|0,h[t+12>>2]=e,At(21620),z=t+16|0},r[3]=function(e,t,n,i,o){var r;return e|=0,t|=0,n|=0,i=x(i),o|=0,z=r=z-48|0,h[r+44>>2]=e,h[r+40>>2]=t,h[r+36>>2]=n,g[r+32>>2]=i,h[r+28>>2]=o,function(e){var t=0,n=0;z=t=z-16|0,h[t+12>>2]=e,e=z-16|0,n=h[t+12>>2],h[e+12>>2]=n,h[h[e+12>>2]>>2]=1284,h[n>>2]=1220,z=t+16|0}(e=h[r+44>>2]),h[e>>2]=1032,h[12+(z-16|0)>>2]=e+60,h[12+(z-16|0)>>2]=e+76,h[12+(z-16|0)>>2]=e+92,h[12+(z-16|0)>>2]=e+112,na(e+128|0),h[12+(z-16|0)>>2]=e+152,h[e+176>>2]=h[r+28>>2],g[e+56>>2]=.019999999552965164,g[r+16>>2]=0,g[r+12>>2]=0,g[r+8>>2]=0,To(e+60|0,r+16|0,r+12|0,r+8|0),a[e+170|0]=1,h[e+8>>2]=h[r+40>>2],g[e+52>>2]=g[r+32>>2],g[e+48>>2]=0,h[e+12>>2]=h[r+36>>2],a[e+171|0]=1,g[e+172>>2]=0,g[e+16>>2]=0,g[e+20>>2]=0,g[e+44>>2]=29.399999618530273,g[e+24>>2]=55,g[e+28>>2]=10,a[e+168|0]=0,a[e+169|0]=0,a[e+180|0]=1,g[12+(t=z-16|0)>>2]=45,Un(e,x(g[t+12>>2]*x(.01745329238474369))),g[e+108>>2]=0,a[e+181|0]=0,a[e+182|0]=0,z=r+48|0,0|e},r[4]=function(e){var t;e|=0,z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],r[1](e),mc(e),z=t+16|0},r[5]=function(e,t,n){var i;e|=0,t|=0,n=x(n),z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,g[i+4>>2]=n,e=h[i+12>>2],r[h[h[e>>2]+32>>2]](e,h[i+8>>2]),r[h[h[e>>2]+36>>2]](e,h[i+8>>2],g[i+4>>2]),z=i+16|0},r[6]=function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t},r[7]=function(e,t){e|=0,t|=0;var n,i=0;z=n=z-32|0,h[n+28>>2]=e,h[n+24>>2]=t,t=h[n+28>>2],a[t+171|0]=1,e=h[n+24>>2],i=h[e+4>>2],h[t+60>>2]=h[e>>2],h[t+64>>2]=i,i=h[e+12>>2],h[t+68>>2]=h[e+8>>2],h[t+72>>2]=i,St(e=n+8|0,t+60|0),i=h[e+4>>2],h[t+76>>2]=h[e>>2],h[t+80>>2]=i,i=h[e+12>>2],h[t+84>>2]=h[e+8>>2],h[t+88>>2]=i,z=n+32|0},r[8]=function(e,t,n){e|=0,t|=0,n=x(n);var i,o=0;z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,g[i+20>>2]=n,e=h[i+28>>2],a[e+171|0]=0,t=h[i+24>>2],o=h[t+4>>2],h[e+60>>2]=h[t>>2],h[e+64>>2]=o,o=h[t+12>>2],h[e+68>>2]=h[t+8>>2],h[e+72>>2]=o,St(i,e+60|0),t=h[i+4>>2],h[e+76>>2]=h[i>>2],h[e+80>>2]=t,t=h[i+12>>2],h[e+84>>2]=h[i+8>>2],h[e+88>>2]=t,g[e+172>>2]=g[e+172>>2]+g[i+20>>2],z=i+32|0},r[9]=function(e,t){e|=0,t|=0;var n,i=0,o=0;for(z=n=z-32|0,h[n+28>>2]=e,h[n+24>>2]=t,e=h[n+28>>2],g[e+16>>2]=0,g[e+20>>2]=0,a[e+168|0]=0,a[e+169|0]=0,g[n+20>>2]=0,g[n+16>>2]=0,g[n+12>>2]=0,To(e+60|0,n+20|0,n+16|0,n+12|0),g[e+172>>2]=0,h[12+(t=z-16|0)>>2]=h[e+8>>2],h[n+8>>2]=h[h[t+12>>2]+344>>2];e=h[n+8>>2],e=0|r[h[h[e>>2]+28>>2]](e),h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]+4>>2]>0;)t=h[n+8>>2],e=h[n+8>>2],o=0|r[h[h[e>>2]+28>>2]](e),h[12+(e=z-16|0)>>2]=o,h[e+8>>2]=0,o=h[h[h[e+12>>2]+12>>2]+(h[e+8>>2]<<4)>>2],e=h[n+8>>2],i=0|r[h[h[e>>2]+28>>2]](e),h[12+(e=z-16|0)>>2]=i,h[e+8>>2]=0,e=h[4+(h[h[e+12>>2]+12>>2]+(h[e+8>>2]<<4)|0)>>2],h[12+(i=z-16|0)>>2]=h[n+24>>2],r[h[h[t>>2]+12>>2]](t,o,e,h[h[i+12>>2]+24>>2]);z=n+32|0},r[10]=function(e,t){var n;e|=0,t|=0,z=n=z-80|0,h[n+76>>2]=e,h[n+72>>2]=t,t=h[n+76>>2],Qo(e=n+8|0),Ko(e),Zo(e,h[n+72>>2]),Ka(h[t+8>>2],e),z=n+80|0},r[11]=function(e,t){e|=0,t|=0;var n,i=0;for(z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[n+4>>2]=0,a[e+148|0]=0;1&le(e,h[n+8>>2])&&(h[n+4>>2]=h[n+4>>2]+1,a[e+148|0]=1,h[n+4>>2]<=4););h[12+(t=z-16|0)>>2]=h[e+8>>2],h[12+(i=z-16|0)>>2]=h[t+12>>2]+4,t=h[i+12>>2]+48|0,i=h[t+4>>2],h[e+92>>2]=h[t>>2],h[e+96>>2]=i,i=h[t+12>>2],h[e+100>>2]=h[t+8>>2],h[e+104>>2]=i,t=h[e+96>>2],h[e+112>>2]=h[e+92>>2],h[e+116>>2]=t,t=h[e+104>>2],h[e+120>>2]=h[e+100>>2],h[e+124>>2]=t,z=n+16|0},r[12]=function(e,t,n){e|=0,t|=0,n=x(n);var i,o=0;z=i=z-112|0,h[i+108>>2]=e,h[i+104>>2]=t,g[i+100>>2]=n,t=h[i+108>>2],1&a[t+171|0]|!(+g[t+172>>2]<=0)&&(a[t+168|0]=r[h[h[t>>2]+48>>2]](t),g[t+16>>2]=g[t+16>>2]-x(g[t+44>>2]*g[i+100>>2]),!(+g[t+16>>2]>0)|!(g[t+16>>2]>g[t+28>>2])||(g[t+16>>2]=g[t+28>>2]),+g[t+16>>2]<0&&(g[12+(e=z-16|0)>>2]=g[t+16>>2],n=x(b(g[e+12>>2])),g[12+(e=z-16|0)>>2]=g[t+24>>2],n>x(b(g[e+12>>2]))&&(g[12+(e=z-16|0)>>2]=g[t+24>>2],g[t+16>>2]=-x(b(g[e+12>>2])))),g[t+20>>2]=g[t+16>>2]*g[i+100>>2],Qo(e=i+32|0),h[12+(o=z-16|0)>>2]=h[t+8>>2],ha(e,h[o+12>>2]+4|0),function(e,t){var n=0,i=0,o=0,s=0,c=x(0),l=x(0);z=n=z-352|0,h[n+348>>2]=e,h[n+344>>2]=t,t=h[n+348>>2],Qo(n+280|0),Qo(n+216|0),i=t+92|0,o=hr()+(h[t+176>>2]<<4)|0,e=n,l=g[t+52>>2],c=g[t+20>>2]>x(0)?g[t+20>>2]:x(0),g[e+180>>2]=l+c,Ho(e=n+184|0,o,n+180|0),Za(n+200|0,i,e),e=h[n+204>>2],h[t+112>>2]=h[n+200>>2],h[t+116>>2]=e,e=h[n+212>>2],h[t+120>>2]=h[n+208>>2],h[t+124>>2]=e,Ko(e=n+280|0),Ko(i=n+216|0),o=hr()+(h[t+176>>2]<<4)|0,s=h[t+12>>2],g[n+140>>2]=x(r[h[h[s>>2]+48>>2]](s))+g[t+56>>2],Ho(s=n+144|0,o,n+140|0),Za(o=n+160|0,t+92|0,s),Zo(e,o),Zo(i,t+112|0),e=h[t+8>>2],Ut(i=n+16|0,hr()+(h[t+176>>2]<<4)|0),Qa(n+32|0,e,i,x(.707099974155426)),h[12+(e=z-16|0)>>2]=t,h[12+(i=z-16|0)>>2]=h[h[e+12>>2]+8>>2],h[n+40>>2]=h[h[h[i+12>>2]+188>>2]+4>>2],h[12+(e=z-16|0)>>2]=t,h[12+(i=z-16|0)>>2]=h[h[e+12>>2]+8>>2],h[n+44>>2]=h[h[h[i+12>>2]+188>>2]+8>>2],1&a[t+170|0]?(e=h[t+8>>2],i=h[t+12>>2],h[12+(o=z-16|0)>>2]=h[n+344>>2],dr(e,i,n+280|0,n+216|0,n+32|0,g[28+(h[o+12>>2]+28|0)>>2])):cr(h[n+344>>2],h[t+12>>2],n+280|0,n+216|0,n+32|0,x(0)),h[12+(e=z-16|0)>>2]=n+32,g[h[e+12>>2]+4>>2]<x(1)&&(h[12+(e=z-16|0)>>2]=h[t+8>>2],!(4&h[h[e+12>>2]+204>>2])&&1&r[h[h[t>>2]+56>>2]](t,h[t+8>>2],h[n+112>>2]))?(+Vo(n+80|0,hr()+(h[t+176>>2]<<4)|0)>0&&(g[t+108>>2]=g[t+52>>2]*g[n+36>>2],1!=(1&a[t+180|0])?(e=h[t+116>>2],h[t+92>>2]=h[t+112>>2],h[t+96>>2]=e,e=h[t+124>>2],h[t+100>>2]=h[t+120>>2],h[t+104>>2]=e):Qr(t+92|0,t+92|0,t+112|0,g[n+36>>2])),g[t+16>>2]=0,g[t+20>>2]=0):(g[t+108>>2]=g[t+52>>2],e=h[t+116>>2],h[t+92>>2]=h[t+112>>2],h[t+96>>2]=e,e=h[t+124>>2],h[t+100>>2]=h[t+120>>2],h[t+104>>2]=e),Xr(n+32|0),z=n+352|0}(t,h[i+104>>2]),1&a[t+171|0]?Rt(t,h[i+104>>2],t+60|0):(e=i,n=g[i+100>>2]<g[t+172>>2]?g[i+100>>2]:g[t+172>>2],g[e+28>>2]=n,g[t+172>>2]=g[t+172>>2]-g[i+100>>2],Ho(e=i+8|0,t+60|0,i+28|0),Rt(t,h[i+104>>2],e)),function(e,t,n){var i=0,o=0,s=0;for(z=i=z-560|0,h[i+556>>2]=e,h[i+552>>2]=t,g[i+548>>2]=n,t=h[i+556>>2],Qo(i+480|0),Qo(i+416|0),Qo(i+352|0),a[i+351|0]=0,e=h[t+116>>2],h[i+328>>2]=h[t+112>>2],h[i+332>>2]=e,e=h[t+124>>2],h[i+336>>2]=h[t+120>>2],h[i+340>>2]=e,e=i,n=g[t+16>>2]<x(0)?x(-g[t+16>>2]):x(0),g[e+324>>2]=n*g[i+548>>2],!(+g[i+324>>2]>0)|!(g[i+324>>2]>g[t+24>>2])|(1&a[t+169|0]?!(1&a[t+168|0]):0)||(g[i+324>>2]=g[t+24>>2]),e=hr()+(h[t+176>>2]<<4)|0,g[i+300>>2]=g[t+108>>2]+g[i+324>>2],Ho(o=i+304|0,e,i+300|0),qa(t+112|0,o),Qa(i+192|0,h[t+8>>2],hr()+(h[t+176>>2]<<4)|0,g[t+40>>2]),h[12+(e=z-16|0)>>2]=t,h[12+(o=z-16|0)>>2]=h[h[e+12>>2]+8>>2],h[i+200>>2]=h[h[h[o+12>>2]+188>>2]+4>>2],h[12+(e=z-16|0)>>2]=t,h[12+(o=z-16|0)>>2]=h[h[e+12>>2]+8>>2],h[i+204>>2]=h[h[h[o+12>>2]+188>>2]+8>>2],Qa(i+72|0,h[t+8>>2],hr()+(h[t+176>>2]<<4)|0,g[t+40>>2]),h[12+(e=z-16|0)>>2]=t,h[12+(o=z-16|0)>>2]=h[h[e+12>>2]+8>>2],h[i+80>>2]=h[h[h[o+12>>2]+188>>2]+4>>2],h[12+(e=z-16|0)>>2]=t,h[12+(o=z-16|0)>>2]=h[h[e+12>>2]+8>>2],h[i+84>>2]=h[h[h[o+12>>2]+188>>2]+8>>2];Ko(i+480|0),Ko(i+416|0),Ko(i+352|0),Zo(i+480|0,t+92|0),Zo(i+416|0,t+112|0),sr(i+56|0,t+112|0,i+304|0),Zo(i+352|0,i+56|0),1&a[t+170|0]?(e=h[t+8>>2],o=h[t+12>>2],h[12+(s=z-16|0)>>2]=h[i+552>>2],dr(e,o,i+480|0,i+416|0,i+192|0,g[28+(h[s+12>>2]+28|0)>>2]),h[12+(e=z-16|0)>>2]=i+192,g[h[e+12>>2]+4>>2]<x(1)||(e=h[t+8>>2],o=h[t+12>>2],h[12+(s=z-16|0)>>2]=h[i+552>>2],dr(e,o,i+480|0,i+352|0,i+72|0,g[28+(h[s+12>>2]+28|0)>>2]))):(e=h[i+552>>2],o=h[t+12>>2],h[12+(s=z-16|0)>>2]=h[i+552>>2],cr(e,o,i+480|0,i+416|0,i+192|0,g[28+(h[s+12>>2]+28|0)>>2]),h[12+(e=z-16|0)>>2]=i+192,g[h[e+12>>2]+4>>2]<x(1)||(e=h[i+552>>2],o=h[t+12>>2],h[12+(s=z-16|0)>>2]=h[i+552>>2],cr(e,o,i+480|0,i+352|0,i+72|0,g[28+(h[s+12>>2]+28|0)>>2]))),e=i,n=g[t+16>>2]<x(0)?x(-g[t+16>>2]):x(0),g[e+52>>2]=n*g[i+548>>2],a[i+51|0]=0,1!=(1&a[t+182|0])?(e=i,h[12+(s=z-16|0)>>2]=i+72,o=0,g[h[s+12>>2]+4>>2]<x(1)&&(h[12+(s=z-16|0)>>2]=h[t+8>>2],o=0,4&h[h[s+12>>2]+204>>2]||(o=0|r[h[h[t>>2]+56>>2]](t,h[t+8>>2],h[i+152>>2]))),a[e+51|0]=1&o):(e=i,h[12+(o=z-16|0)>>2]=i+192,(g[h[o+12>>2]+4>>2]<x(1)||(h[12+(s=z-16|0)>>2]=i+72,o=0,g[h[s+12>>2]+4>>2]<x(1)))&&(h[12+(s=z-16|0)>>2]=h[t+8>>2],o=0,4&h[h[s+12>>2]+204>>2]||(o=0|r[h[h[t>>2]+56>>2]](t,h[t+8>>2],h[i+272>>2]))),a[e+51|0]=1&o),!(!(+g[i+52>>2]>0)|!(g[i+52>>2]<g[t+52>>2])|1&a[i+351|0]|1!=(1&a[i+51|0])||1&a[t+169|0]&&!(1&a[t+168|0]));)e=h[i+332>>2],h[t+112>>2]=h[i+328>>2],h[t+116>>2]=e,e=h[i+340>>2],h[t+120>>2]=h[i+336>>2],h[t+124>>2]=e,g[i+324>>2]=g[t+52>>2],e=hr()+(h[t+176>>2]<<4)|0,g[i+28>>2]=g[t+108>>2]+g[i+324>>2],Ho(i+32|0,e,i+28|0),qa(t+112|0,i+32|0),a[i+351|0]=1;e:{t:{if(1!=(1&a[i+351|0])){if(h[12+(e=z-16|0)>>2]=h[t+8>>2],4&h[h[e+12>>2]+204>>2])break t;if(h[12+(e=z-16|0)>>2]=i+192,!(g[h[e+12>>2]+4>>2]<x(1)))break t;if(!(1&r[h[h[t>>2]+56>>2]](t,h[t+8>>2],h[i+272>>2])))break t}h[12+(e=z-16|0)>>2]=t+92,n=g[h[e+12>>2]+4>>2],h[12+(e=z-16|0)>>2]=i+256,g[i+24>>2]=x(n-g[h[e+12>>2]+4>>2])/x(2);n:if(1!=(1&a[t+182|0]))Qr(t+92|0,t+92|0,t+112|0,g[i+196>>2]);else{if(1==(1&a[t+181|0])){Qr(t+92|0,t+92|0,t+112|0,g[i+196>>2]);break n}Qr(t+92|0,t+92|0,t+112|0,g[i+24>>2])}a[t+181|0]=0,g[t+16>>2]=0,g[t+20>>2]=0,a[t+169|0]=0;break e}a[t+181|0]=1,1==(1&a[t+182|0])&&(e=i,n=g[t+16>>2]<x(0)?x(-g[t+16>>2]):x(0),g[e+324>>2]=n*g[i+548>>2],!(g[i+324>>2]>g[t+24>>2])|(1&a[t+169|0]?!(1&a[t+168|0]):0)||(br(t+112|0,i+304|0),g[i+324>>2]=g[t+24>>2],e=hr()+(h[t+176>>2]<<4)|0,g[i+4>>2]=g[t+108>>2]+g[i+324>>2],Ho(i+8|0,e,i+4|0),o=h[i+12>>2],h[(e=i+304|0)>>2]=h[i+8>>2],h[e+4>>2]=o,o=h[i+20>>2],h[e+8>>2]=h[i+16>>2],h[e+12>>2]=o,qa(t+112|0,e))),e=h[t+116>>2],h[t+92>>2]=h[t+112>>2],h[t+96>>2]=e,e=h[t+124>>2],h[t+100>>2]=h[t+120>>2],h[t+104>>2]=e}Xr(i+72|0),Xr(i+192|0),z=i+560|0}(t,h[i+104>>2],g[i+100>>2]),Zo(e=i+32|0,t+92|0),Ka(h[t+8>>2],e)),z=i+112|0},r[13]=oc,r[14]=function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],1&r[h[h[e>>2]+40>>2]](e)&&(g[e+16>>2]=g[e+28>>2],a[e+169|0]=1),z=n+16|0},r[15]=function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,e=h[t+12>>2],0|(0==+g[e+16>>2]?0==+g[e+20>>2]:0)},r[16]=function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,a[n+11|0]=t,a[h[n+12>>2]+180|0]=1&a[n+11|0]},r[17]=function(e,t,n){var i;return e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,h[12+(e=z-16|0)>>2]=h[i+8>>2],e=h[h[h[e+12>>2]+188>>2]+4>>2],h[12+(t=z-16|0)>>2]=h[i+4>>2],a[i+3|0]=0!=(h[h[h[t+12>>2]+188>>2]+8>>2]&e),e=i,1&a[i+3|0]?(h[12+(t=z-16|0)>>2]=h[i+4>>2],t=h[h[h[t+12>>2]+188>>2]+4>>2],h[12+(n=z-16|0)>>2]=h[i+8>>2],t=0!=(h[h[h[n+12>>2]+188>>2]+8>>2]&t)):t=0,a[e+3|0]=t,e=i,t=0,1&a[i+3|0]&&(t=0,1&Ve(h[i+8>>2],h[i+4>>2])&&(t=Ve(h[i+4>>2],h[i+8>>2]))),a[e+3|0]=1&t,z=i+16|0,1&a[i+3|0]},r[18]=$o,r[19]=Yr,r[20]=function(){(function(){var e=0;z=e=z-16|0,h[e+12>>2]=0,function(e){var t=0,n=0,i=0,o=0;z=t=z-208|0,h[t+204>>2]=0,Co(t+160|0,0,40),h[t+200>>2]=h[t+204>>2],(0|Bc(0,t+200|0,t+80|0,t+160|0))<0||(i=h[e+76>>2]>=0?1:i,n=h[e>>2],a[e+74|0]<=0&&(h[e>>2]=-33&n),o=32&n,h[e+48>>2]?Bc(e,t+200|0,t+80|0,t+160|0):(h[e+48>>2]=80,h[e+16>>2]=t+80,h[e+28>>2]=t,h[e+20>>2]=t,n=h[e+44>>2],h[e+44>>2]=t,Bc(e,t+200|0,t+80|0,t+160|0),n&&(r[h[e+36>>2]](e,0,0),h[e+48>>2]=0,h[e+44>>2]=n,h[e+28>>2]=0,h[e+16>>2]=0,h[e+20>>2]=0)),h[e>>2]=h[e>>2]|o),z=t+208|0}(e=h[5154]),function(e){var t=0;if(h[e+76>>2]<0)return 10==a[e+75|0]||(t=h[e+20>>2])>>>0>=v[e+16>>2]?void In(e):(h[e+20>>2]=t+1,void(a[0|t]=10));10==a[e+75|0]||(t=h[e+20>>2])>>>0>=v[e+16>>2]?In(e):(h[e+20>>2]=t+1,a[0|t]=10)}(e),O(),P()})(),P()},r[21]=ra,r[22]=Yr,r[23]=Xr,r[24]=function(e){var t;e|=0,z=t=z-16|0,h[t+12>>2]=e,Xr(e=h[t+12>>2]),Eo(e),z=t+16|0},r[25]=function(e,t){var n;return e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],a[n+7|0]=0!=(h[h[n+8>>2]+4>>2]&h[t+12>>2]),a[n+7|0]=1&a[n+7|0]?0!=(h[t+8>>2]&h[h[n+8>>2]+8>>2]):0,1&a[n+7|0]},r[26]=function(e,t,n){var i;return e|=0,t|=0,n|=0,z=i=z+-64|0,h[i+56>>2]=e,h[i+52>>2]=t,a[i+51|0]=n,e=h[i+56>>2],h[h[i+52>>2]>>2]!=h[e+84>>2]?(h[12+(t=z-16|0)>>2]=h[h[i+52>>2]>>2],4&h[h[t+12>>2]+204>>2]?g[i+60>>2]=1:(h[12+(z-16|0)>>2]=i+32,1&a[i+51|0]?(t=h[i+52>>2],n=h[t+12>>2],h[i+32>>2]=h[t+8>>2],h[i+36>>2]=n,n=h[t+20>>2],h[i+40>>2]=h[t+16>>2],h[i+44>>2]=n):(h[12+(t=z-16|0)>>2]=h[h[i+52>>2]>>2],h[12+(n=z-16|0)>>2]=h[t+12>>2]+4,xr(i+16|0,h[n+12>>2],h[i+52>>2]+8|0),t=h[i+20>>2],h[i+32>>2]=h[i+16>>2],h[i+36>>2]=t,t=h[i+28>>2],h[i+40>>2]=h[i+24>>2],h[i+44>>2]=t),g[i+12>>2]=Vo(e+88|0,i+32|0),g[i+12>>2]<g[e+104>>2]?g[i+60>>2]=1:g[i+60>>2]=Ct(e,h[i+52>>2],1&a[i+51|0]))):g[i+60>>2]=1,z=i- -64|0,x(g[i+60>>2])},r[27]=$o,r[28]=bt,r[29]=Ct,r[30]=ra,r[31]=Yr,r[32]=$o,r[33]=gt,r[34]=function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-32|0,h[i+24>>2]=e,h[i+20>>2]=t,h[i+16>>2]=n,a[i+15|0]=0!=(h[h[i+20>>2]+4>>2]&h[h[i+16>>2]+8>>2]),a[i+15|0]=1&a[i+15|0]?0!=(h[h[i+16>>2]+4>>2]&h[h[i+20>>2]+8>>2]):0;e:{if(1&a[i+15|0]){if(h[i+8>>2]=h[h[i+20>>2]>>2],h[i+4>>2]=h[h[i+16>>2]>>2],h[12+(e=z-16|0)>>2]=h[i+8>>2],1&h[h[e+12>>2]+204>>2]&&(h[12+(e=z-16|0)>>2]=h[i+4>>2],1&h[h[e+12>>2]+204>>2])){a[i+31|0]=0;break e}if(h[12+(e=z-16|0)>>2]=h[i+8>>2],2==h[h[e+12>>2]+220>>2]&&(h[12+(e=z-16|0)>>2]=h[i+4>>2],2==h[h[e+12>>2]+220>>2])){a[i+31|0]=0;break e}}a[i+31|0]=1&a[i+15|0]}return z=i+32|0,1&a[i+31|0]},r[35]=ra,r[36]=Yr,r[37]=$o,r[38]=gt,r[39]=function(e,t){var n,i;e|=0,t|=0,z=n=z-144|0,h[n+140>>2]=e,h[n+136>>2]=t,uc(e=n+8|0,(t=h[n+140>>2])+68|0),vt(i=n+72|0,t+4|0,e),ha(h[n+136>>2],i),z=n+144|0},r[40]=function(e,t){var n;e|=0,t|=0,z=n=z-80|0,h[n+76>>2]=e,h[n+72>>2]=t,e=n+8|0,t=h[n+76>>2],vt(e,h[n+72>>2],t+68|0),ha(t+4|0,e),z=n+80|0},r[41]=ra,r[42]=Yr,r[43]=dt,r[44]=function(e){var t;e|=0,z=t=z-16|0,h[t+12>>2]=e,dt(e=h[t+12>>2]),Eo(e),z=t+16|0},r[45]=function(e,t){var n;return e|=0,t|=0,h[8+(n=z-16|0)>>2]=e,h[n+4>>2]=t,t=h[n+8>>2],1&a[t+24|0]?a[n+15|0]=0!=(h[h[n+4>>2]+4>>2]&f[t+14>>1]):(a[n+3|0]=0!=(h[h[n+4>>2]+4>>2]&f[t+14>>1]),a[n+3|0]=1&a[n+3|0]?0!=(f[t+12>>1]&h[h[n+4>>2]+8>>2]):0,a[n+15|0]=1&a[n+3|0]),1&a[n+15|0]},r[46]=function(e,t,n){var i;return e|=0,t|=0,n|=0,z=i=z-80|0,h[i+76>>2]=e,h[i+72>>2]=t,a[i+71|0]=n,e=h[i+76>>2],h[e+8>>2]=h[h[i+72>>2]>>2],Ss(e+28|0,h[i+72>>2]),h[12+(z-16|0)>>2]=i+48,1&a[i+71|0]?(t=h[i+72>>2],n=h[t+12>>2],h[i+48>>2]=h[t+8>>2],h[i+52>>2]=n,n=h[t+20>>2],h[i+56>>2]=h[t+16>>2],h[i+60>>2]=n):(h[12+(t=z-16|0)>>2]=h[e+8>>2],h[12+(n=z-16|0)>>2]=h[t+12>>2]+4,xr(i+32|0,h[n+12>>2],h[i+72>>2]+8|0),t=h[i+36>>2],h[i+48>>2]=h[i+32>>2],h[i+52>>2]=t,t=h[i+44>>2],h[i+56>>2]=h[i+40>>2],h[i+60>>2]=t),mt(e+80|0,i+48|0),t=i+16|0,h[12+(z-16|0)>>2]=t,Qr(t,e+48|0,e- -64|0,g[h[i+72>>2]+24>>2]),mt(e+100|0,t),function(e,t){var n,i=0;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=z-16|0,e=h[n+12>>2],h[t+12>>2]=e,h[n+4>>2]=h[h[t+12>>2]+4>>2],t=h[n+4>>2],h[12+(i=z-16|0)>>2]=e,h[h[i+12>>2]+8>>2]==(0|t)&&(h[12+(i=z-16|0)>>2]=e,t=h[h[i+12>>2]+4>>2],h[12+(i=z-16|0)>>2]=e,h[i+8>>2]=t,ft(t=e,i=h[i+8>>2]?h[i+8>>2]<<1:1)),g[h[e+12>>2]+(h[e+4>>2]<<2)>>2]=g[h[n+8>>2]>>2],h[e+4>>2]=h[e+4>>2]+1,z=n+16|0}(e+120|0,h[i+72>>2]+24|0),h[h[i+72>>2]+4>>2]?Ss(e+140|0,h[h[i+72>>2]+4>>2]):(h[i+12>>2]=0,Ss(e+140|0,i+12|0)),z=i+80|0,x(g[e+4>>2])},r[47]=ra,r[48]=Yr,r[49]=$o,r[50]=bt,r[51]=function(e,t,n){var i;return e|=0,t|=0,n|=0,z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,a[i+23|0]=n,t=e=h[i+28>>2],n=h[h[i+24>>2]+4>>2]?h[h[h[i+24>>2]+4>>2]>>2]:0,h[t+16>>2]=n,g[e+4>>2]=g[h[i+24>>2]+24>>2],h[e+8>>2]=h[h[i+24>>2]>>2],1&a[i+23|0]?(t=h[i+24>>2],n=h[t+12>>2],h[e+60>>2]=h[t+8>>2],h[e+64>>2]=n,n=h[t+20>>2],h[e+68>>2]=h[t+16>>2],h[e+72>>2]=n):(h[12+(t=z-16|0)>>2]=h[e+8>>2],h[12+(n=z-16|0)>>2]=h[t+12>>2]+4,xr(i,h[n+12>>2],h[i+24>>2]+8|0),t=h[i+4>>2],h[e+60>>2]=h[i>>2],h[e+64>>2]=t,t=h[i+12>>2],h[e+68>>2]=h[i+8>>2],h[e+72>>2]=t),Qr(e+76|0,e+28|0,e+44|0,g[h[i+24>>2]+24>>2]),z=i+32|0,x(g[h[i+24>>2]+24>>2])},r[52]=At,r[53]=function(e){var t;h[(e|=0)>>2]=2012,(t=h[e+556>>2])&&(m[e+560|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+556>>2]=0),h[e+556>>2]=0,h[e+548>>2]=0,h[e+552>>2]=0,a[e+560|0]=1,Dr(e),e&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[54]=function(e,t){t|=0,h[200+(e|=0)>>2]=t,h[e+192>>2]=t,h[e+304>>2]=h[e+304>>2]+1},r[55]=function(e,t){t|=0;var n,i=0;i=n=h[288+(e|=0)>>2];e:if(!((0|n)<1)){for(e=h[e+296>>2],i=0;;){if(h[e+(i<<2)>>2]==(0|t))break e;if((0|n)==(0|(i=i+1|0)))break}i=n}return(0|i)>=(0|n)|0},r[56]=function(){return 496},r[57]=function(e,t,n){return Ce(e|=0,t|=0,n|=0),h[t+264>>2]=h[e+324>>2],h[t+268>>2]=h[e+328>>2],h[t+272>>2]=h[e+332>>2],h[t+276>>2]=h[e+336>>2],h[t+280>>2]=h[e+340>>2],h[t+284>>2]=h[e+344>>2],h[t+288>>2]=h[e+348>>2],h[t+292>>2]=h[e+352>>2],h[t+296>>2]=h[e+356>>2],h[t+300>>2]=h[e+360>>2],h[t+304>>2]=h[e+364>>2],h[t+308>>2]=h[e+368>>2],h[t+312>>2]=h[e+372>>2],h[t+316>>2]=h[e+376>>2],h[t+320>>2]=h[e+380>>2],h[t+324>>2]=h[e+384>>2],h[t+328>>2]=h[e+388>>2],h[t+332>>2]=h[e+392>>2],h[t+336>>2]=h[e+396>>2],h[t+340>>2]=h[e+400>>2],h[t+456>>2]=h[e+404>>2],h[t+344>>2]=h[e+604>>2],h[t+348>>2]=h[e+608>>2],h[t+352>>2]=h[e+612>>2],h[t+356>>2]=h[e+616>>2],h[t+360>>2]=h[e+408>>2],h[t+364>>2]=h[e+412>>2],h[t+368>>2]=h[e+416>>2],h[t+372>>2]=h[e+420>>2],h[t+376>>2]=h[e+424>>2],h[t+380>>2]=h[e+428>>2],h[t+384>>2]=h[e+432>>2],h[t+388>>2]=h[e+436>>2],h[t+392>>2]=h[e+440>>2],h[t+396>>2]=h[e+444>>2],h[t+400>>2]=h[e+448>>2],h[t+404>>2]=h[e+452>>2],h[t+408>>2]=h[e+456>>2],h[t+412>>2]=h[e+460>>2],h[t+416>>2]=h[e+464>>2],h[t+420>>2]=h[e+468>>2],h[t+424>>2]=h[e+472>>2],h[t+428>>2]=h[e+476>>2],h[t+432>>2]=h[e+480>>2],h[t+436>>2]=h[e+484>>2],h[t+440>>2]=h[e+488>>2],h[t+444>>2]=h[e+492>>2],h[t+448>>2]=h[e+496>>2],h[t+452>>2]=h[e+500>>2],h[t+460>>2]=h[e+504>>2],h[t+464>>2]=h[e+508>>2],h[t+492>>2]=m[e+512|0],h[t+468>>2]=h[e+516>>2],h[t+472>>2]=h[e+520>>2],h[t+476>>2]=h[e+524>>2],h[t+480>>2]=h[e+528>>2],h[t+484>>2]=h[e+532>>2],h[t+488>>2]=h[e+536>>2],2040},r[58]=function(e,t){var n,i,o=0,a=0,s=0,c=0;a=t|=0,s=0|r[h[h[(e|=0)>>2]+16>>2]](e),c=1,o=h[h[t>>2]+16>>2],n=0|r[o](0|a,0|s,0|c),c=t,s=n,a=0|r[h[h[e>>2]+20>>2]](e,h[n+8>>2],t),i=e,o=h[h[t>>2]+20>>2],r[o](0|c,0|s,0|a,1497645650,0|i)},r[59]=ot,r[60]=function(e){(e=ot(e|=0))&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[61]=function(e){e|=0;var t,n=0,i=0,o=0,a=0;if(z=t=z-16|0,r[h[5253]](8431),(0|(n=h[e+8>>2]))>=1)for(;;){o=h[h[e+16>>2]+(i<<2)>>2];e:{t:if(!(m[e+76|0]||(a=h[o+220>>2]+-2|0)>>>0>3))switch(a-1|0){case 0:case 1:break t;default:break e}Ol(e,o),n=h[e+8>>2]}if(!((0|(i=i+1|0))<(0|n)))break}r[h[5254]](),z=t+16|0},r[62]=function(e){var t,n;e|=0,z=t=z-16|0,r[h[5253]](8443),n=h[e+68>>2],r[h[h[n>>2]+32>>2]](n,h[e+24>>2]),r[h[5254]](),z=t+16|0},r[63]=function(e,t){t|=0,h[72+(e|=0)>>2]=t},r[64]=ic,r[65]=function(e){e|=0;var t,n=0,i=0,o=0,a=0,s=0;z=t=z-16|0,r[h[5253]](2284),Wi(e);e:if(r[h[h[e>>2]+20>>2]](e)&&(n=0|r[h[h[e>>2]+20>>2]](e),6144&r[h[h[n>>2]+56>>2]](n)))for(n=0|r[h[h[e>>2]+104>>2]](e);;){if((0|n)<1)break e;n=n+-1|0,a=e,s=0|r[h[h[e>>2]+108>>2]](e,n),o=h[h[e>>2]+172>>2],r[o](0|a,0|s)}if(r[h[h[e>>2]+20>>2]](e)&&(n=0|r[h[h[e>>2]+20>>2]](e),16387&r[h[h[n>>2]+56>>2]](n)&&r[h[h[e>>2]+20>>2]](e)&&(n=0|r[h[h[e>>2]+20>>2]](e),!(!r[h[h[n>>2]+56>>2]](n)|h[e+296>>2]<1))))for(n=0;i=h[h[e+304>>2]+(n<<2)>>2],r[h[h[i>>2]+12>>2]](i,h[e+72>>2]),(0|(n=n+1|0))<h[e+296>>2];);r[h[h[e>>2]+20>>2]](e)&&(e=0|r[h[h[e>>2]+20>>2]](e),r[h[h[e>>2]+104>>2]](e)),r[h[5254]](),z=t+16|0},r[66]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,a=0,s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=0,b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=0,D=0,M=0,O=x(0),L=x(0),F=0,B=0,U=0,j=0,k=0,G=x(0),H=x(0),V=x(0);z=o=z-144|0,r[h[h[e>>2]+20>>2]](e)&&(a=0|r[h[h[e>>2]+20>>2]](e),32768&r[h[h[a>>2]+56>>2]](a)&&(a=0|r[h[h[e>>2]+20>>2]](e),r[h[h[a>>2]+64>>2]](a,t,x(.10000000149011612))));e:{t:if(!((a=h[n+4>>2])>>>0>31)){switch(a-1|0){case 30:if((0|(N=h[n+20>>2]))<1)break e;for(;N=N+-1|0,a=h[n+28>>2]+y(N,80)|0,A=h[a+64>>2],d=g[a+56>>2],v=g[a+48>>2],T=g[a+52>>2],b=g[a+32>>2],C=g[a>>2],P=g[a+16>>2],R=g[a+36>>2],p=g[a+4>>2],S=g[a+20>>2],I=g[a+40>>2],O=g[a+8>>2],L=g[a+24>>2],G=g[t+48>>2],H=g[t+52>>2],V=g[t+56>>2],s=g[t+8>>2],c=g[t>>2],l=g[t+4>>2],u=g[t+24>>2],_=g[t+16>>2],f=g[t+20>>2],E=g[t+40>>2],w=g[t+32>>2],m=g[t+36>>2],h[o+60>>2]=0,h[o+44>>2]=0,h[o+28>>2]=0,h[o+12>>2]=0,g[o+40>>2]=x(x(O*w)+x(L*m))+x(I*E),g[o+36>>2]=x(x(p*w)+x(S*m))+x(R*E),g[o+32>>2]=x(x(C*w)+x(P*m))+x(b*E),g[o+24>>2]=x(x(O*_)+x(L*f))+x(I*u),g[o+20>>2]=x(x(p*_)+x(S*f))+x(R*u),g[o+16>>2]=x(x(C*_)+x(P*f))+x(b*u),g[o+8>>2]=x(x(O*c)+x(L*l))+x(I*s),g[o+4>>2]=x(x(p*c)+x(S*l))+x(R*s),g[o>>2]=x(x(C*c)+x(P*l))+x(b*s),g[o+56>>2]=V+x(x(x(v*w)+x(T*m))+x(d*E)),g[o+52>>2]=H+x(x(x(v*_)+x(T*f))+x(d*u)),g[o+48>>2]=G+x(x(x(v*c)+x(T*l))+x(d*s)),r[h[h[e>>2]+28>>2]](e,o,A,i),(0|N)>0;);break e;default:a=h[n+44>>2],h[o+8>>2]=h[n+40>>2],h[o+12>>2]=a,a=h[n+36>>2],h[o>>2]=h[n+32>>2],h[o+4>>2]=a,s=x(r[h[h[n>>2]+48>>2]](n)),c=x(r[h[h[n>>2]+48>>2]](n)),l=x(x(r[h[h[n>>2]+48>>2]](n))+g[o+8>>2]),g[o+8>>2]=l,s=x(s+g[o>>2]),g[o>>2]=s,c=x(c+g[o+4>>2]),g[o+4>>2]=c,e=0|r[h[h[e>>2]+20>>2]](e),h[o+140>>2]=0,g[o+136>>2]=-l,g[o+132>>2]=-c,g[o+128>>2]=-s,r[h[h[e>>2]+80>>2]](e,o+128|0,o,t,i);break e;case 7:s=x(r[h[h[n>>2]+48>>2]](n)),e=0|r[h[h[e>>2]+20>>2]](e),r[h[h[e>>2]+24>>2]](e,s,t,i);break e;case 8:if((0|(a=h[n+96>>2]))<1)break e;for(;a=a+-1|0,A=h[n+104>>2]+(a<<4)|0,s=g[A+8>>2],c=g[A>>2],l=g[A+4>>2],A=0|r[h[h[e>>2]+20>>2]](e),b=g[h[n+124>>2]+(a<<2)>>2],C=g[t+48>>2],P=g[t+52>>2],R=g[t+56>>2],u=g[t+8>>2],_=g[t>>2],f=g[t+4>>2],E=g[t+24>>2],w=g[t+16>>2],m=g[t+20>>2],d=g[t+40>>2],v=g[t+32>>2],T=g[t+36>>2],h[o+60>>2]=0,h[o+44>>2]=0,h[o+28>>2]=0,h[o+12>>2]=0,p=x(v*x(0)),S=x(T*x(0)),g[o+40>>2]=d+x(p+S),I=x(p+T),p=x(d*x(0)),g[o+36>>2]=I+p,g[o+32>>2]=x(v+S)+p,p=x(w*x(0)),S=x(m*x(0)),g[o+24>>2]=E+x(p+S),I=x(p+m),p=x(E*x(0)),g[o+20>>2]=I+p,g[o+16>>2]=x(w+S)+p,p=x(_*x(0)),S=x(f*x(0)),g[o+8>>2]=u+x(p+S),I=x(p+f),p=x(u*x(0)),g[o+4>>2]=I+p,g[o>>2]=x(_+S)+p,g[o+56>>2]=R+x(x(x(c*v)+x(l*T))+x(s*d)),g[o+52>>2]=P+x(x(x(c*w)+x(l*m))+x(s*E)),g[o+48>>2]=C+x(x(x(c*_)+x(l*f))+x(s*u)),r[h[h[A>>2]+24>>2]](A,b,o,i),(0|a)>0;);break e;case 9:a=h[n+56>>2],s=g[(a<<2)+(n=n+32|0)>>2],c=g[n+((a+2|0)%3<<2)>>2],e=0|r[h[h[e>>2]+20>>2]](e),r[h[h[e>>2]+84>>2]](e,c,s,a,t,i);break e;case 10:a=h[n+72>>2],s=g[n+60>>2],c=g[n+64>>2],e=0|r[h[h[e>>2]+20>>2]](e),r[h[h[e>>2]+92>>2]](e,s,c,a,t,i);break e;case 12:a=h[n+56>>2],s=x(r[h[h[n>>2]+92>>2]](n)),A=h[n+44>>2],h[o+8>>2]=h[n+40>>2],h[o+12>>2]=A,A=h[n+36>>2],h[o>>2]=h[n+32>>2],h[o+4>>2]=A,c=x(r[h[h[n>>2]+48>>2]](n)),l=x(r[h[h[n>>2]+48>>2]](n)),g[o+8>>2]=x(r[h[h[n>>2]+48>>2]](n))+g[o+8>>2],g[o>>2]=c+g[o>>2],g[o+4>>2]=l+g[o+4>>2],c=g[(a<<2)+o>>2],e=0|r[h[h[e>>2]+20>>2]](e),r[h[h[e>>2]+88>>2]](e,s,c,a,t,i);break e;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 29:break t;case 27:}s=g[n+68>>2],e=0|r[h[h[e>>2]+20>>2]](e),r[h[h[e>>2]+96>>2]](e,n+52|0,s,t,i);break e}t:if(!((0|a)>6))if(M=h[n+56>>2]){if(h[M+28>>2]<1)break t;for(;;){l=x(0);n:if(a=(U=y(B,36))+h[M+36>>2]|0,F=h[a+4>>2]){if(s=x(0),c=x(0),!((0|F)<1))for(D=h[a+12>>2],a=h[(D+(F<<2)|0)-4>>2],N=0;;){if(D=(j=(A=h[(N<<2)+D>>2])<<4)+h[M+16>>2]|0,I=g[D>>2],O=g[D+4>>2],L=g[D+8>>2],D=0|r[h[h[e>>2]+20>>2]](e),k=h[M+16>>2],u=g[8+(a=k+(a<<4)|0)>>2],_=g[a>>2],f=g[a+4>>2],E=g[t+48>>2],w=g[t+8>>2],m=g[t>>2],d=g[t+4>>2],v=g[t+52>>2],T=g[t+24>>2],b=g[t+16>>2],C=g[t+20>>2],P=g[t+56>>2],R=g[t+40>>2],p=g[t+32>>2],S=g[t+36>>2],h[o+12>>2]=0,g[o+8>>2]=P+x(x(x(_*p)+x(f*S))+x(u*R)),g[o+4>>2]=v+x(x(x(_*b)+x(f*C))+x(u*T)),g[o>>2]=E+x(x(x(_*m)+x(f*d))+x(u*w)),u=g[8+(a=j+k|0)>>2],_=g[a>>2],f=g[a+4>>2],h[o+140>>2]=0,g[o+136>>2]=P+x(x(x(p*_)+x(S*f))+x(R*u)),g[o+132>>2]=v+x(x(x(b*_)+x(C*f))+x(T*u)),g[o+128>>2]=E+x(x(x(m*_)+x(d*f))+x(w*u)),r[h[h[D>>2]+16>>2]](D,o,o+128|0,i),c=x(c+L),s=x(s+O),l=x(l+I),N=N+1|0,a=h[M+36>>2]+U|0,(0|N)>=h[a+4>>2])break n;D=h[a+12>>2],a=A}}else s=x(0),c=x(0);if(a=0|r[h[h[e>>2]+20>>2]](e),16384&r[h[h[a>>2]+56>>2]](a)&&(h[o+8>>2]=0,h[o+12>>2]=0,h[o>>2]=1065353216,h[o+4>>2]=1065353216,a=h[M+36>>2]+U|0,p=g[a+28>>2],S=g[a+20>>2],I=g[a+24>>2],a=0|r[h[h[e>>2]+20>>2]](e),u=g[t+48>>2],_=g[t+8>>2],f=g[t>>2],E=g[t+4>>2],w=g[t+52>>2],m=g[t+24>>2],d=g[t+16>>2],v=g[t+20>>2],T=g[t+56>>2],b=g[t+40>>2],C=g[t+32>>2],P=g[t+36>>2],h[o+140>>2]=0,R=x(x(1)/x(0|F)),l=x(R*l),s=x(R*s),c=x(R*c),g[o+136>>2]=T+x(x(x(C*l)+x(P*s))+x(b*c)),g[o+132>>2]=w+x(x(x(l*d)+x(s*v))+x(c*m)),g[o+128>>2]=u+x(x(x(l*f)+x(s*E))+x(c*_)),h[o+124>>2]=0,l=x(l+S),s=x(s+I),c=x(c+p),g[o+120>>2]=T+x(x(x(C*l)+x(P*s))+x(b*c)),g[o+116>>2]=w+x(x(x(l*d)+x(s*v))+x(c*m)),g[o+112>>2]=u+x(x(x(l*f)+x(s*E))+x(c*_)),r[h[h[a>>2]+16>>2]](a,o+128|0,o+112|0,o)),!((0|(B=B+1|0))<h[M+28>>2]))break}}else if(!((0|r[h[h[n>>2]+100>>2]](n))<1))for(a=0;r[h[h[n>>2]+104>>2]](n,a,o,o+128|0),s=g[t+48>>2],c=g[t+8>>2],l=g[t>>2],u=g[t+4>>2],_=g[t+52>>2],f=g[t+24>>2],E=g[t+16>>2],w=g[t+20>>2],m=g[t+56>>2],d=g[t+40>>2],v=g[t+32>>2],T=g[t+36>>2],h[o+124>>2]=0,b=g[o>>2],C=g[o+4>>2],P=g[o+8>>2],g[o+120>>2]=m+x(x(x(v*b)+x(T*C))+x(d*P)),g[o+116>>2]=_+x(x(x(b*E)+x(C*w))+x(P*f)),g[o+112>>2]=s+x(x(x(b*l)+x(C*u))+x(P*c)),h[o+108>>2]=0,p=m,m=g[o+128>>2],C=x(v*m),v=g[o+132>>2],b=d,d=g[o+136>>2],g[o+104>>2]=p+x(x(C+x(T*v))+x(b*d)),g[o+100>>2]=_+x(x(x(E*m)+x(w*v))+x(f*d)),g[o+96>>2]=s+x(x(x(l*m)+x(u*v))+x(c*d)),A=0|r[h[h[e>>2]+20>>2]](e),r[h[h[A>>2]+16>>2]](A,o+112|0,o+96|0,i),(0|(a=a+1|0))<(0|r[h[h[n>>2]+100>>2]](n)););(a=h[n+4>>2])+-21>>>0<=8&&(h[o+136>>2]=1566444395,h[o+140>>2]=0,h[o+128>>2]=1566444395,h[o+132>>2]=1566444395,h[o+120>>2]=-581039253,h[o+124>>2]=0,h[o+112>>2]=-581039253,h[o+116>>2]=-581039253,h[o+8>>2]=r[h[h[e>>2]+20>>2]](e),h[o+4>>2]=10272,h[o>>2]=10248,a=h[i+12>>2],h[o+20>>2]=h[i+8>>2],h[o+24>>2]=a,a=h[i+4>>2],h[o+12>>2]=h[i>>2],h[o+16>>2]=a,a=h[t+12>>2],h[o+36>>2]=h[t+8>>2],h[o+40>>2]=a,a=h[t+4>>2],h[o+28>>2]=h[t>>2],h[o+32>>2]=a,a=h[t+20>>2],h[o+44>>2]=h[t+16>>2],h[o+48>>2]=a,a=h[t+28>>2],h[o+52>>2]=h[t+24>>2],h[o+56>>2]=a,a=h[t+44>>2],h[o+68>>2]=h[t+40>>2],h[o+72>>2]=a,a=h[t+36>>2],h[o+60>>2]=h[t+32>>2],h[o+64>>2]=a,a=h[t+52>>2],h[o+76>>2]=h[t+48>>2],h[o+80>>2]=a,a=h[t+60>>2],h[o+84>>2]=h[t+56>>2],h[o+88>>2]=a,r[h[h[n>>2]+64>>2]](n,o,o+112|0,o+128|0),a=h[n+4>>2]),3==(0|a)&&(h[o+136>>2]=1566444395,h[o+140>>2]=0,h[o+128>>2]=1566444395,h[o+132>>2]=1566444395,h[o+120>>2]=-581039253,h[o+124>>2]=0,h[o+112>>2]=-581039253,h[o+116>>2]=-581039253,h[o+8>>2]=r[h[h[e>>2]+20>>2]](e),h[o+4>>2]=10272,h[o>>2]=10248,e=h[i+12>>2],h[o+20>>2]=h[i+8>>2],h[o+24>>2]=e,e=h[i+4>>2],h[o+12>>2]=h[i>>2],h[o+16>>2]=e,e=h[t+12>>2],h[o+36>>2]=h[t+8>>2],h[o+40>>2]=e,e=h[t+4>>2],h[o+28>>2]=h[t>>2],h[o+32>>2]=e,e=h[t+20>>2],h[o+44>>2]=h[t+16>>2],h[o+48>>2]=e,e=h[t+28>>2],h[o+52>>2]=h[t+24>>2],h[o+56>>2]=e,e=h[t+44>>2],h[o+68>>2]=h[t+40>>2],h[o+72>>2]=e,e=h[t+36>>2],h[o+60>>2]=h[t+32>>2],h[o+64>>2]=e,e=h[t+52>>2],h[o+76>>2]=h[t+48>>2],h[o+80>>2]=e,e=h[t+60>>2],h[o+84>>2]=h[t+56>>2],h[o+88>>2]=e,e=h[n+96>>2],r[h[h[e>>2]+8>>2]](e,4|o,o+112|0,o+128|0))}z=o+144|0},r[67]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,a,s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0);z=o=z-256|0,h[o+32>>2]=10064,s=h[t+12>>2],h[o+76>>2]=h[t+8>>2],h[o+80>>2]=s,s=h[t+4>>2],h[o+68>>2]=h[t>>2],h[o+72>>2]=s,s=h[n+12>>2],h[o+92>>2]=h[n+8>>2],h[o+96>>2]=s,s=h[n>>2],a=h[n+4>>2],h[o+104>>2]=0,h[o+108>>2]=0,h[o+112>>2]=0,h[o+116>>2]=0,h[o+124>>2]=0,h[o+128>>2]=0,h[o+120>>2]=1065353216,h[o+132>>2]=0,h[o+136>>2]=0,h[o+140>>2]=1065353216,h[o+144>>2]=0,h[o+84>>2]=s,h[o+88>>2]=a,h[o+248>>2]=i,h[o+100>>2]=1065353216,h[o+244>>2]=e,i=h[o+72>>2],h[o+148>>2]=h[o+68>>2],h[o+152>>2]=i,i=h[o+80>>2],h[o+156>>2]=h[o+76>>2],h[o+160>>2]=i,h[o+164>>2]=1065353216,h[o+176>>2]=0,h[o+180>>2]=0,h[o+168>>2]=0,h[o+172>>2]=0,h[o+184>>2]=1065353216,h[o+196>>2]=0,h[o+200>>2]=0,h[o+188>>2]=0,h[o+192>>2]=0,h[o+204>>2]=1065353216,h[o+208>>2]=0,i=h[n+12>>2],h[o+220>>2]=h[n+8>>2],h[o+224>>2]=i,i=h[n+4>>2],h[o+212>>2]=h[n>>2],h[o+216>>2]=i,u=x(g[n>>2]-g[t>>2]),c=x(g[n+4>>2]-g[t+4>>2]),l=x(g[n+8>>2]-g[t+8>>2]),p=x(x(1)/x(T(x(x(x(u*u)+x(c*c))+x(l*l))))),_=(l=x(l*p))==x(0)?x(0xde0b6b000000000):x(x(1)/l),g[o+44>>2]=_,f=(c=x(c*p))==x(0)?x(0xde0b6b000000000):x(x(1)/c),g[o+40>>2]=f,h[o+60>>2]=_<x(0),h[o+56>>2]=f<x(0),u=(p=x(u*p))==x(0)?x(0xde0b6b000000000):x(x(1)/p),g[o+36>>2]=u,h[o+52>>2]=u<x(0),g[o+64>>2]=x(x(p*x(g[o+84>>2]-g[o+68>>2]))+x(c*x(g[o+88>>2]-g[o+72>>2])))+x(l*x(g[o+92>>2]-g[o+76>>2])),e=h[e+68>>2],h[o+24>>2]=0,h[o+28>>2]=0,h[o+16>>2]=0,h[o+20>>2]=0,h[o+8>>2]=0,h[o+12>>2]=0,h[o>>2]=0,h[o+4>>2]=0,r[h[h[e>>2]+24>>2]](e,t,n,o+32|0,o+16|0,o),z=o+256|0},r[68]=function(e,t,n,i){Xi(e|=0,t|=0,n|=0,i|=0)},r[69]=function(e,t){e|=0,!(t|=0)|!(2&h[t+252>>2])?hl(e,t):r[h[h[e>>2]+92>>2]](e,t)},r[70]=function(e){e|=0;var t,n,i=0,o=0,a=0,s=0,c=0,l=0;z=n=z-16|0,r[h[5253]](8469),r[h[h[e>>2]+8>>2]](e),r[h[h[e>>2]+12>>2]](e),t=h[e+24>>2],r[h[5253]](8503),t&&(i=h[e+68>>2],a=t,s=0|r[h[h[i>>2]+36>>2]](i),c=e+28|0,l=h[e+24>>2],o=h[h[t>>2]+32>>2],r[o](0|a,0|s,0|c,0|l)),r[h[5254]](),r[h[5254]](),z=n+16|0},r[71]=function(e,t){var n,i,o;e|=0,r[h[h[(t|=0)>>2]+32>>2]](t),i=0|r[h[h[t>>2]+16>>2]](t,104,1),n=Co(h[i+8>>2],0,104),h[n+88>>2]=h[e+264>>2],h[n+92>>2]=h[e+268>>2],h[n+96>>2]=h[e+272>>2],h[n+100>>2]=h[e+276>>2],h[n>>2]=h[e+92>>2],h[n+4>>2]=h[e+96>>2],h[n+8>>2]=h[e+100>>2],h[n+12>>2]=h[e+104>>2],h[n+16>>2]=h[e+108>>2],h[n+20>>2]=h[e+116>>2],h[n+24>>2]=h[e+120>>2],h[n+28>>2]=h[e+124>>2],h[n+32>>2]=h[e+128>>2],h[n+36>>2]=h[e+132>>2],h[n+40>>2]=h[e+148>>2],h[n+44>>2]=h[e+152>>2],h[n+48>>2]=h[e+156>>2],h[n+52>>2]=h[e+160>>2],h[n+56>>2]=h[e+176>>2],h[n+60>>2]=h[e+180>>2],h[n+64>>2]=h[e+112>>2],h[n+68>>2]=h[e+164>>2],h[n+72>>2]=h[e+168>>2],h[n+76>>2]=h[e+172>>2],o=h[e+144>>2],h[n+84>>2]=0,h[n+80>>2]=o,r[h[h[t>>2]+20>>2]](t,i,2601,1145853764,n),Vi(e,t),function(e,t){var n=0,i=0,o=0,a=0,s=0,c=0,l=0,p=0,u=0;if((0|(i=h[e+8>>2]))>=1)for(;n=h[h[e+16>>2]+(o<<2)>>2],2&m[n+252|0]&&(s=t,c=0|r[h[h[n>>2]+16>>2]](n),l=1,a=h[h[t>>2]+16>>2],i=0|r[a](0|s,0|c,0|l),l=t,c=i,s=0|r[h[h[n>>2]+20>>2]](n,h[i+8>>2],t),p=1497645650,u=n,a=h[h[t>>2]+20>>2],r[a](0|l,0|c,0|s,0|p,0|u),i=h[e+8>>2]),(0|(o=o+1|0))<(0|i););if(h[e+228>>2]>=1)for(o=0;n=h[h[e+236>>2]+(o<<2)>>2],u=t,p=0|r[h[h[n>>2]+36>>2]](n),s=1,a=h[h[t>>2]+16>>2],i=0|r[a](0|u,0|p,0|s),s=t,p=i,u=0|r[h[h[n>>2]+40>>2]](n,h[i+8>>2],t),c=1397641027,l=n,a=h[h[t>>2]+20>>2],r[a](0|s,0|p,0|u,0|c,0|l),(0|(o=o+1|0))<h[e+228>>2];);}(e,t),r[h[h[t>>2]+36>>2]](t)},r[72]=function(e,t,n,i){e|=0,t=x(t),n|=0,i=x(i);var o=0,s=0,c=x(0);I(h[6078],0);e:if(n){if(g[e+284>>2]=i,t=x(g[e+280>>2]+t),g[e+280>>2]=t,!(t>=i))break e;o=e,c=t,t=x(t/i),s=x(b(t))<x(2147483648)?~~t:-2147483648,g[o+280>>2]=c-x(x(0|s)*i)}else h[e+284>>2]=0,g[e+280>>2]=m[e+316|0]?x(0):t,i=t,n=s=x(b(t))<x(1.1920928955078125e-7)^1;r[h[h[e>>2]+20>>2]](e)&&(o=0|r[h[h[e>>2]+20>>2]](e),a[22420]=r[h[h[o>>2]+56>>2]](o)>>>4&1);e:if(s){if(o=(0|s)>(0|n)?n:s,r[h[h[e>>2]+168>>2]](e,x(i*x(0|o))),r[h[h[e>>2]+176>>2]](e),(0|o)<1)break e;for(n=0;r[h[h[e>>2]+160>>2]](e,i),r[h[h[e>>2]+80>>2]](e),(0|(n=n+1|0))<(0|o););}else r[h[h[e>>2]+80>>2]](e);return r[h[h[e>>2]+120>>2]](e),h[6656]=h[6656]+1,0|s},r[73]=function(e,t,n){t|=0,n|=0;var i=0,o=0,s=0,c=0,l=0;if((0|(i=h[228+(e|=0)>>2]))==h[e+232>>2]&&!((0|i)>=(0|(s=i?i<<1:1)))){if(s&&(h[6657]=h[6657]+1,c=0|r[h[5255]](s<<2,16),i=h[e+228>>2]),(0|i)>=1)for(;h[(l=o<<2)+c>>2]=h[h[e+236>>2]+l>>2],(0|(o=o+1|0))!=(0|i););(o=h[e+236>>2])&&(m[e+240|0]&&(o&&(h[6658]=h[6658]+1,r[h[5256]](o)),i=h[e+228>>2]),h[e+236>>2]=0),h[e+236>>2]=c,h[e+232>>2]=s,a[e+240|0]=1}h[h[e+236>>2]+(i<<2)>>2]=t,h[e+228>>2]=i+1,n&&(st(h[t+28>>2],t),st(h[t+32>>2],t))},r[74]=function(e,t){t|=0;var n=0,i=0,o=0,r=0;e:if(!((0|(n=h[228+(e|=0)>>2]))<1)){for(o=h[e+236>>2];;){if(h[(r=(i<<2)+o|0)>>2]!=(0|t)){if((0|n)!=(0|(i=i+1|0)))continue;break e}break}(0|n)<=(0|i)||(i=(n=n+-1|0)<<2,h[r>>2]=h[i+o>>2],h[i+h[e+236>>2]>>2]=t,h[e+228>>2]=n)}at(h[t+28>>2],t),at(h[t+32>>2],t)},r[75]=function(e,t){t|=0;var n=0,i=0,o=0,s=0,c=0;if((0|(n=h[296+(e|=0)>>2]))==h[e+300>>2]&&!((0|n)>=(0|(o=n?n<<1:1)))){if(o&&(h[6657]=h[6657]+1,s=0|r[h[5255]](o<<2,16),n=h[e+296>>2]),(0|n)>=1)for(;h[(c=i<<2)+s>>2]=h[h[e+304>>2]+c>>2],(0|(i=i+1|0))!=(0|n););(i=h[e+304>>2])&&(m[e+308|0]&&(i&&(h[6658]=h[6658]+1,r[h[5256]](i)),n=h[e+296>>2]),h[e+304>>2]=0),h[e+304>>2]=s,h[e+300>>2]=o,a[e+308|0]=1}h[h[e+304>>2]+(n<<2)>>2]=t,h[e+296>>2]=n+1},r[76]=function(e,t){t|=0;var n=0,i=0,o=0,r=0;e:if(!((0|(n=h[296+(e|=0)>>2]))<1)){for(o=h[e+304>>2];;){if(h[(r=(i<<2)+o|0)>>2]!=(0|t)){if((0|n)!=(0|(i=i+1|0)))continue;break e}break}(0|n)<=(0|i)||(i=(n=n+-1|0)<<2,h[r>>2]=h[i+o>>2],h[i+h[e+304>>2]>>2]=t,h[e+296>>2]=n)}},r[77]=function(e,t){e|=0;var n=0,i=0,o=0,r=0;if(i=h[4+(n=t|=0)>>2],h[e+264>>2]=h[n>>2],h[e+268>>2]=i,i=h[n+12>>2],h[e+272>>2]=h[n+8>>2],h[e+276>>2]=i,(0|(n=h[e+248>>2]))>=1)for(;;){e:{t:if(i=h[h[e+256>>2]+(o<<2)>>2],!((r=h[i+220>>2]+-2|0)>>>0>3))switch(r-1|0){case 0:case 1:break t;default:break e}1&a[i+564|0]||(Ha(i,t),n=h[e+248>>2])}if(!((0|(o=o+1|0))<(0|n)))break}},r[78]=function(e,t){e|=0;var n=0;n=h[268+(t|=0)>>2],h[e>>2]=h[t+264>>2],h[e+4>>2]=n,n=h[t+276>>2],h[e+8>>2]=h[t+272>>2],h[e+12>>2]=n},r[79]=function(e){e|=0;var t,n=0,i=0,o=x(0),a=0,s=0;z=t=z+-64|0;e:if(m[e+290|0]){if((0|(i=h[e+8>>2]))<1)break e;for(;!(n=h[h[e+16>>2]+(a<<2)>>2])|!(2&h[n+252>>2])|!h[n+540>>2]|3&m[n+204|0]||(yr(i=n+68|0,s=n+132|0,n+148|0,o=m[e+316|0]&&(o=g[e+284>>2])!=x(0)?x(g[e+280>>2]-o):x(g[e+280>>2]*g[n+268>>2]),t),n=h[n+540>>2],r[h[h[n>>2]+12>>2]](n,t),i=h[e+8>>2]),(0|(a=a+1|0))<(0|i););}else if(!((0|(i=h[e+248>>2]))<1))for(;;){t:{n:if(n=h[h[e+256>>2]+(a<<2)>>2],!((s=h[n+220>>2]+-2|0)>>>0>3))switch(s-1|0){case 0:case 1:break n;default:break t}!h[n+540>>2]|3&m[n+204|0]||(yr(i=n+68|0,s=n+132|0,n+148|0,o=m[e+316|0]&&(o=g[e+284>>2])!=x(0)?x(g[e+280>>2]-o):x(g[e+280>>2]*g[n+268>>2]),t),n=h[n+540>>2],r[h[h[n>>2]+12>>2]](n,t),i=h[e+248>>2])}if(!((0|(a=a+1|0))<(0|i)))break}z=t- -64|0},r[80]=function(e,t){e|=0;var n=0,i=0,o=0,s=0,c=0;if(3&m[204+(t|=0)|0]|1&a[t+564|0]||Ha(t,e+264|0),h[t+192>>2]){if(1&a[t+204|0])4!=(-2&h[t+220>>2])&&(h[t+220>>2]=2);else{if((0|(n=h[e+248>>2]))==h[e+252>>2]&&!((0|n)>=(0|(o=n?n<<1:1)))){if(o&&(h[6657]=h[6657]+1,s=0|r[h[5255]](o<<2,16),n=h[e+248>>2]),(0|n)>=1)for(;h[(c=i<<2)+s>>2]=h[h[e+256>>2]+c>>2],(0|(i=i+1|0))!=(0|n););(i=h[e+256>>2])&&(m[e+260|0]&&(i&&(h[6658]=h[6658]+1,r[h[5256]](i)),n=h[e+248>>2]),h[e+256>>2]=0),h[e+256>>2]=s,h[e+252>>2]=o,a[e+260|0]=1}h[h[e+256>>2]+(n<<2)>>2]=t,h[e+248>>2]=n+1}n=t,t=3&h[t+204>>2],r[h[h[e>>2]+36>>2]](e,n,t?2:1,t?-3:-1)}},r[81]=function(e,t,n,i){e|=0,n|=0,i|=0;var o=0,s=0,c=0,l=0,p=0;if(3&m[204+(t|=0)|0]|1&a[t+564|0]||Ha(t,e+264|0),h[t+192>>2]){if(1&a[t+204|0])4!=(-2&h[t+220>>2])&&(h[t+220>>2]=2);else{if((0|(o=h[e+248>>2]))==h[e+252>>2]&&!((0|o)>=(0|(c=o?o<<1:1)))){if(c&&(h[6657]=h[6657]+1,l=0|r[h[5255]](c<<2,16),o=h[e+248>>2]),(0|o)>=1)for(;h[(p=s<<2)+l>>2]=h[h[e+256>>2]+p>>2],(0|(s=s+1|0))!=(0|o););(s=h[e+256>>2])&&(m[e+260|0]&&(s&&(h[6658]=h[6658]+1,r[h[5256]](s)),o=h[e+248>>2]),h[e+256>>2]=0),h[e+256>>2]=l,h[e+252>>2]=c,a[e+260|0]=1}h[h[e+256>>2]+(o<<2)>>2]=t,h[e+248>>2]=o+1}r[h[h[e>>2]+36>>2]](e,t,n,i)}},r[82]=function(e,t){t|=0;var n=0,i=0,o=0,r=0;e:if(!((0|(n=h[248+(e|=0)>>2]))<1)){for(o=h[e+256>>2];;){if(h[(r=(i<<2)+o|0)>>2]!=(0|t)){if((0|n)!=(0|(i=i+1|0)))continue;break e}break}(0|n)<=(0|i)||(i=(n=n+-1|0)<<2,h[r>>2]=h[i+o>>2],h[i+h[e+256>>2]>>2]=t,h[e+248>>2]=n)}hl(e,t)},r[83]=function(e,t){t|=0;var n=0;m[289+(e|=0)|0]&&(n=h[e+216>>2])&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+216>>2]=t,a[e+289|0]=0,h[h[e+212>>2]+8>>2]=t},r[84]=function(e){return h[216+(e|=0)>>2]},r[85]=function(e){return h[228+(e|=0)>>2]},r[86]=$e,r[87]=$e,r[88]=Ke,r[89]=function(e){var t=0,n=0;if(h[248+(e|=0)>>2]>=1)for(;t=h[h[e+256>>2]+(n<<2)>>2],h[t+472>>2]=0,h[t+476>>2]=0,h[t+496>>2]=0,h[t+500>>2]=0,h[t+488>>2]=0,h[t+492>>2]=0,h[t+480>>2]=0,h[t+484>>2]=0,(0|(n=n+1|0))<h[e+248>>2];);},r[90]=it,r[91]=nt,r[92]=it,r[93]=nt,r[94]=function(e,t){e|=0,t=x(t);var n,i=0,o=0,a=0;if(z=n=z-16|0,r[h[5253]](2575),(0|(o=h[e+248>>2]))>=1)for(;i=h[h[e+256>>2]+(a<<2)>>2],3&m[i+204|0]||(Y(i,t),Va(i,t,i+68|0),o=h[e+248>>2]),(0|(a=a+1|0))<(0|o););r[h[5254]](),z=n+16|0},r[95]=function(e,t){e|=0,t=x(t);var n,i=0,o=x(0),a=0,s=0,c=0,l=x(0),p=x(0),u=x(0),_=0,f=0,d=x(0),v=x(0),A=x(0),b=x(0);if(z=n=z-80|0,r[h[5253]](2517),(0|(i=h[e+248>>2]))>=1&&function(e,t,n,i){var o=0,a=0,s=0,c=x(0),l=0,p=0,u=0,_=0,f=x(0),d=0,v=x(0);if(z=o=z-304|0,(0|n)>=1)for(;;){d=s=h[(_<<2)+t>>2],h[s+268>>2]=1065353216;e:{t:if(!((p=h[s+220>>2]+-2|0)>>>0>3))switch(p-1|0){case 0:case 1:break t;default:break e}3&m[s+204|0]||(Va(s,i,o+240|0),m[e+44|0]&&(c=g[s+276>>2],(c=x(c*c))!=x(0)&&(v=c,c=x(g[o+288>>2]-g[s+52>>2]),f=x(c*c),c=x(g[o+292>>2]-g[s+56>>2]),f=x(f+x(c*c)),c=x(g[o+296>>2]-g[s+60>>2]),v<x(f+x(c*c))&&(r[h[5253]](2497),h[h[s+192>>2]+4>>2]<=19&&(p=0,h[5607]=h[5607]+1,a=h[e+68>>2],a=0|r[h[h[a>>2]+36>>2]](a),u=h[e+24>>2],h[o+140>>2]=-1,h[o+132>>2]=1065353216,h[o+136>>2]=1,h[o+128>>2]=1504,l=h[s+64>>2],h[o+152>>2]=h[s+60>>2],h[o+156>>2]=l,l=h[s+56>>2],h[o+144>>2]=h[s+52>>2],h[o+148>>2]=l,l=h[o+300>>2],h[o+168>>2]=h[o+296>>2],h[o+172>>2]=l,l=h[o+292>>2],h[o+160>>2]=h[o+288>>2],h[o+164>>2]=l,h[o+224>>2]=u,h[o+220>>2]=a,h[o+216>>2]=0,h[o+128>>2]=2820,h[o+208>>2]=0,h[o+212>>2]=s,a=h[s+272>>2],Jo(o+72|0),h[o+96>>2]=1065353216,h[o+88>>2]=1065353216,h[o+92>>2]=1065353216,h[o+76>>2]=8,h[o+72>>2]=12036,h[o+108>>2]=0,h[o+112>>2]=0,h[o+116>>2]=0,h[o+100>>2]=0,h[o+104>>2]=0,h[o+124>>2]=0,h[o+120>>2]=a,h[o+104>>2]=a,h[o+216>>2]=h[e+56>>2],a=h[s+188>>2],h[o+136>>2]=h[a+4>>2],h[o+140>>2]=h[a+8>>2],a=h[o+252>>2],h[o+16>>2]=h[o+248>>2],h[o+20>>2]=a,a=h[o+244>>2],h[o+8>>2]=h[o+240>>2],h[o+12>>2]=a,a=h[o+268>>2],h[o+32>>2]=h[o+264>>2],h[o+36>>2]=a,a=h[o+260>>2],h[o+24>>2]=h[o+256>>2],h[o+28>>2]=a,a=h[o+284>>2],h[o+48>>2]=h[o+280>>2],h[o+52>>2]=a,a=h[o+276>>2],h[o+40>>2]=h[o+272>>2],h[o+44>>2]=a,a=h[o+300>>2],h[o+64>>2]=h[o+296>>2],h[o+68>>2]=a,a=h[o+292>>2],h[o+56>>2]=h[o+288>>2],h[o+60>>2]=a,l=h[12+(a=u=s+4|0)>>2],h[o+16>>2]=h[a+8>>2],h[o+20>>2]=l,l=h[a+4>>2],h[o+8>>2]=h[a>>2],h[o+12>>2]=l,a=h[s+32>>2],h[o+32>>2]=h[s+28>>2],h[o+36>>2]=a,a=h[s+24>>2],h[o+24>>2]=h[s+20>>2],h[o+28>>2]=a,a=h[s+48>>2],h[o+48>>2]=h[s+44>>2],h[o+52>>2]=a,a=h[s+40>>2],h[o+40>>2]=h[s+36>>2],h[o+44>>2]=a,cr(e,o+72|0,u,o+8|0,o+128|0,x(0)),(c=g[o+132>>2])<x(1)&&(g[d+268>>2]=c,Va(s,x(c*i),o+240|0),h[d+268>>2]=0,rc(s,o+240|0),p=4),p)||(p=0),r[h[5254]](),p)))||rc(s,o+240|0))}if((0|(_=_+1|0))==(0|n))break}z=o+304|0}(e,h[e+256>>2],i,t),m[e+291|0]){if(r[h[5253]](2537),(0|(i=h[e+324>>2]))>=1)for(;;){if(s=h[h[e+332>>2]+(f<<2)>>2],h[s+844>>2]>=1){for(i=h[s+840>>2],c=h[i+252>>2]<<30>>31&i,i=h[s+836>>2],a=h[i+252>>2]<<30>>31&i,_=0;(t=x(g[a+232>>2]*g[c+232>>2]))>x(0)&&(i=y(_,208)+s|0,(o=g[i+136>>2])!=x(0)&&(l=g[i+68>>2],p=g[i+72>>2],u=g[i+76>>2],h[n+60>>2]=0,u=x(t*x(o*x(-u))),g[n+56>>2]=u,p=x(t*x(o*x(-p))),g[n+52>>2]=p,t=x(t*x(o*x(-l))),g[n+48>>2]=t,o=g[a+52>>2],l=g[i+52>>2],d=g[a+56>>2],v=g[i+56>>2],A=g[a+60>>2],b=g[i+60>>2],h[n+44>>2]=0,g[n+40>>2]=b-A,g[n+36>>2]=v-d,g[n+32>>2]=l-o,o=g[c+52>>2],l=g[i+36>>2],d=g[c+56>>2],v=g[i+40>>2],A=g[c+60>>2],b=g[i+44>>2],h[n+28>>2]=0,g[n+24>>2]=b-A,g[n+20>>2]=v-d,g[n+16>>2]=l-o,a&&(lc(a,n+48|0,n+32|0),u=g[n+56>>2],p=g[n+52>>2],t=g[n+48>>2]),h[n+12>>2]=0,g[n+8>>2]=-u,g[n+4>>2]=-p,g[n>>2]=-t,lc(c,n,n+16|0))),(0|(_=_+1|0))<h[s+844>>2];);i=h[e+324>>2]}if(!((0|(f=f+1|0))<(0|i)))break}r[h[5254]]()}r[h[5254]](),z=n+80|0},r[96]=function(e){e|=0;var t,n=0,i=0,o=0,a=0,s=0,c=0,l=0,p=0;if(z=t=z-16|0,r[h[5253]](2381),n=h[e+220>>2],r[h[h[n>>2]+8>>2]](n,e,h[e+24>>2]),(0|(l=h[e+324>>2]))>=1)for(p=h[e+332>>2];;){if(n=h[p+(c<<2)>>2],(i=h[n+836>>2])&&!(!(n=h[n+840>>2])|3&h[i+204>>2]|3&m[n+204|0])){if(n=h[n+208>>2],o=h[h[e+220>>2]+16>>2],a=h[i+208>>2],(0|(i=h[(s=o+(a<<3)|0)>>2]))!=(0|a))for(;i=o+(i<<3)|0,h[s>>2]=h[i>>2],a=h[i>>2],(0|(i=h[(s=o+(a<<3)|0)>>2]))!=(0|a););if((0|(i=h[(s=o+(n<<3)|0)>>2]))!=(0|n))for(;n=o+(i<<3)|0,h[s>>2]=h[n>>2],(0|(n=h[n>>2]))!=(0|(i=h[(s=o+(n<<3)|0)>>2])););(0|n)!=(0|a)&&(h[(i=o+(a<<3)|0)>>2]=n,h[4+(n=o+(n<<3)|0)>>2]=h[n+4>>2]+h[i+4>>2])}if(!((0|(c=c+1|0))<(0|l)))break}if((0|(l=h[e+228>>2]))>=1)for(p=h[e+236>>2],s=0;;){if(n=h[p+(s<<2)>>2],m[n+20|0]&&(i=h[n+28>>2],!(3&m[i+204|0]||(n=h[n+32>>2],3&m[n+204|0])))){if(n=h[n+208>>2],o=h[h[e+220>>2]+16>>2],a=h[i+208>>2],(0|(c=h[(i=o+(a<<3)|0)>>2]))!=(0|a))for(;a=i,i=o+(c<<3)|0,h[a>>2]=h[i>>2],a=h[i>>2],(0|(c=h[(i=o+(a<<3)|0)>>2]))!=(0|a););if((0|(c=h[(i=o+(n<<3)|0)>>2]))!=(0|n))for(;n=o+(c<<3)|0,h[i>>2]=h[n>>2],(0|(n=h[n>>2]))!=(0|(c=h[(i=o+(n<<3)|0)>>2])););(0|n)!=(0|a)&&(h[(i=o+(a<<3)|0)>>2]=n,h[4+(n=o+(n<<3)|0)>>2]=h[n+4>>2]+h[i+4>>2])}if((0|l)==(0|(s=s+1|0)))break}n=h[e+220>>2],r[h[h[n>>2]+12>>2]](n,e),r[h[5254]](),z=t+16|0},r[97]=function(e,t){e|=0,t|=0;var n,i,o,s,c,l=0,p=0,u=0,_=0,f=0,d=0;if(z=n=z-16|0,r[h[5253]](2364),(0|(p=h[e+196>>2]))<(0|(u=h[e+228>>2]))){if(h[e+200>>2]<(0|u)){if(u?(h[6657]=h[6657]+1,f=0|r[h[5255]](u<<2,16),l=h[e+196>>2]):l=p,(0|l)>=1)for(;h[(d=_<<2)+f>>2]=h[h[e+204>>2]+d>>2],(0|l)!=(0|(_=_+1|0)););(l=h[e+204>>2])&&(m[e+208|0]&&l&&(h[6658]=h[6658]+1,r[h[5256]](l)),h[e+204>>2]=0),h[e+204>>2]=f,h[e+200>>2]=u,a[e+208|0]=1}for(;h[h[e+204>>2]+(p<<2)>>2]=0,(0|u)!=(0|(p=p+1|0)););}for(l=e+192|0,h[e+196>>2]=u,p=0;(0|p)<(0|r[h[h[e>>2]+104>>2]](e));)h[(u=p<<2)+h[e+204>>2]>>2]=h[u+h[e+236>>2]>>2],p=p+1|0;(0|(p=h[e+196>>2]))>=2&&tt(l,n,0,p+-1|0),l=0,r[h[h[e>>2]+104>>2]](e)&&(l=h[e+204>>2]),function(e,t,n,i,o){if(h[e+20>>2]=o,h[e+16>>2]=i,h[e+12>>2]=n,h[e+4>>2]=t,(0|(t=h[e+32>>2]))<=-1)for(h[e+36>>2]<=-1&&((n=h[e+40>>2])&&(m[e+44|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+40>>2]=0),h[e+36>>2]=0,h[e+40>>2]=0,a[e+44|0]=1);h[h[e+40>>2]+(t<<2)>>2]=0,i=(n=t+1|0)>>>0>=t>>>0,t=n,i;);if(h[e+32>>2]=0,(0|(t=h[e+52>>2]))<=-1)for(h[e+56>>2]<=-1&&((n=h[e+60>>2])&&(m[e- -64|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+60>>2]=0),h[e+56>>2]=0,h[e+60>>2]=0,a[e- -64|0]=1);h[h[e+60>>2]+(t<<2)>>2]=0,i=(n=t+1|0)>>>0>=t>>>0,t=n,i;);if(h[e+52>>2]=0,(0|(t=h[e+72>>2]))<=-1)for(h[e+76>>2]<=-1&&((n=h[e+80>>2])&&(m[e+84|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+80>>2]=0),h[e+76>>2]=0,h[e+80>>2]=0,a[e+84|0]=1);h[h[e+80>>2]+(t<<2)>>2]=0,i=(n=t+1|0)>>>0>=t>>>0,t=n,i;);h[e+72>>2]=0}(h[e+212>>2],t,l,h[e+196>>2],0|r[h[h[e>>2]+20>>2]](e)),l=h[e+216>>2],p=h[e+24>>2],o=l,s=h[e+8>>2],c=0|r[h[h[p>>2]+36>>2]](p),i=h[h[l>>2]+8>>2],r[i](0|o,0|s,0|c),function(e,t,n,i){var o=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,d=0,v=0,g=0,A=0,y=0;if(z=A=z-16|0,function(e,t,n){var i=0,o=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,d=0,v=0,g=0;if(z=g=z-16|0,r[h[5253]](6736),(0|(i=h[e+28>>2]))<=-1)for(h[e+32>>2]<=-1&&((o=h[e+36>>2])&&(m[e+40|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+36>>2]=0),h[e+32>>2]=0,h[e+36>>2]=0,a[e+40|0]=1);h[h[e+36>>2]+(i<<2)>>2]=0,s=(o=i+1|0)>>>0>=i>>>0,i=o,s;);if(h[e+28>>2]=0,function(e){var t=0,n=0,i=0,o=0,r=0,a=0,s=0,c=0;if(z=r=z-16|0,!((0|(n=h[e+4>>2]))<=0)){for(a=h[e+12>>2];;){if(c=s=(i<<3)+a|0,(0|(t=i))!=(0|(o=h[s>>2])))for(;t=(o<<3)+a|0,h[c>>2]=h[t>>2],(0|(t=h[t>>2]))!=(0|(o=h[(c=(t<<3)+a|0)>>2])););if(h[s>>2]=t,(0|n)==(0|(i=i+1|0)))break}(0|n)<2||Fi(e,r+8|0,0,n+-1|0)}z=r+16|0}(e+4|0),(0|(d=h[e+8>>2]))>=1)for(s=0;;){for(p=h[e+16>>2],f=h[p+((o=s)<<3)>>2];u=s,(0|f)==h[((s=s+1|0)<<3)+p>>2]&&(0|s)<(0|d););e:if(!(l=(0|o)>(0|u))){for(_=h[n+16>>2],v=1,i=o;c=h[(h[4+((i<<3)+p|0)>>2]<<2)+_>>2],(0|f)==h[c+208>>2]&&(v&=4!=(0|(c=h[c+220>>2]))&1!=(0|c)),c=(0|i)<(0|u),i=i+1|0,c;);if(!v){if(l)break e;for(;;){if(i=h[h[n+16>>2]+(h[4+((o<<3)+p|0)>>2]<<2)>>2],(0|f)!=h[i+208>>2]|2!=h[i+220>>2]||(4!=(-2&h[i+220>>2])&&(h[i+220>>2]=3),h[i+224>>2]=0),(0|o)>=(0|u))break e;o=o+1|0,p=h[e+16>>2]}}if(!l)for(;;){if(i=h[h[n+16>>2]+(h[4+((o<<3)+p|0)>>2]<<2)>>2],(0|f)==h[i+208>>2]&&4!=(-2&h[i+220>>2])&&(h[i+220>>2]=2),(0|o)>=(0|u))break e;o=o+1|0,p=h[e+16>>2]}}if(!((0|s)<(0|d)))break}if((0|(u=0|r[h[h[t>>2]+36>>2]](t)))>=1)for(s=0;;){if(c=0|r[h[h[t>>2]+40>>2]](t,s),i=h[c+840>>2],o=h[c+836>>2],(!(!i|2==h[i+220>>2])||2!=h[o+220>>2]&&o)&&(!(2&(n=h[o+204>>2]))|4&n|2==h[o+220>>2]||Ba(i,0),!(2&(n=h[i+204>>2]))|4&n|2==h[i+220>>2]||Ba(o,0),m[e+64|0]&&r[h[h[t>>2]+28>>2]](t,o,i))){if((0|(n=h[e+28>>2]))==h[e+32>>2]&&!((0|n)>=(0|(l=n?n<<1:1)))){if(i=0,_=0,l&&(h[6657]=h[6657]+1,_=0|r[h[5255]](l<<2,16),n=h[e+28>>2]),(0|n)>=1)for(;h[(o=i<<2)+_>>2]=h[o+h[e+36>>2]>>2],(0|(i=i+1|0))!=(0|n););(o=h[e+36>>2])&&(m[e+40|0]&&(o&&(h[6658]=h[6658]+1,r[h[5256]](o)),n=h[e+28>>2]),h[e+36>>2]=0),h[e+36>>2]=_,a[e+40|0]=1,h[e+32>>2]=l}h[h[e+36>>2]+(n<<2)>>2]=c,h[e+28>>2]=n+1}if((0|u)==(0|(s=s+1|0)))break}r[h[5254]](),z=g+16|0}(e,t,n),u=h[e+8>>2],r[h[5253]](6764),m[e+64|0]){if((0|(v=h[e+28>>2]))>=2&&ue(e+24|0,A,0,v+-1|0),!((0|u)<1))for(_=1;;){t=h[e+16>>2],g=h[t+(c<<3)>>2],y=1;e:if(!((0|c)>=(0|u)))for(;;){if(l=h[h[n+16>>2]+(h[4+((c<<3)+t|0)>>2]<<2)>>2],(0|(s=h[e+48>>2]))==h[e+52>>2]&&!((0|s)>=(0|(o=s?s<<1:1)))){if(t=0,p=0,o&&(h[6657]=h[6657]+1,p=0|r[h[5255]](o<<2,16),s=h[e+48>>2]),(0|s)>=1)for(;h[(f=t<<2)+p>>2]=h[h[e+56>>2]+f>>2],(0|s)!=(0|(t=t+1|0)););(t=h[e+56>>2])&&(m[e+60|0]&&(t&&(h[6658]=h[6658]+1,r[h[5256]](t)),s=h[e+48>>2]),h[e+56>>2]=0),h[e+56>>2]=p,a[e+60|0]=1,h[e+52>>2]=o}if(h[h[e+56>>2]+(s<<2)>>2]=l,h[e+48>>2]=s+1,y&=5==(0|(t=h[l+220>>2]))|2==(0|t),(0|u)==(0|(c=c+1|0))){c=u;break e}if(t=h[e+16>>2],(0|g)!=h[t+(c<<3)>>2])break}if(p=0,o=0,!((0|d)>=(0|v))&&(f=h[e+36>>2],t=h[(l=f+(d<<2)|0)>>2],(0|(s=h[h[t+836>>2]+208>>2]))<=-1&&(s=h[h[t+840>>2]+208>>2]),t=d,o=0,(0|s)==(0|g))){for(;(0|(t=t+1|0))<(0|v)&&(_=h[f+(t<<2)>>2],(0|(o=h[h[_+836>>2]+208>>2]))<=-1&&(o=h[h[_+840>>2]+208>>2]),(0|o)==(0|g)););p=t-d|0,_=t,o=l}if(y||r[h[h[i>>2]+8>>2]](i,h[e+56>>2],h[e+48>>2],o,p,g),(0|(t=h[e+48>>2]))<=-1)for(h[e+52>>2]<=-1&&((o=h[e+56>>2])&&(m[e+60|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+56>>2]=0),a[e+60|0]=1,h[e+52>>2]=0,h[e+56>>2]=0);h[h[e+56>>2]+(t<<2)>>2]=0,l=(o=t+1|0)>>>0>=t>>>0,t=o,l;);if(d=p?_:d,h[e+48>>2]=0,!((0|c)<(0|u)))break}}else e=0|r[h[h[t>>2]+44>>2]](t),t=0|r[h[h[t>>2]+36>>2]](t),r[h[h[i>>2]+8>>2]](i,h[n+16>>2],h[n+8>>2],e,t,-1);r[h[5254]](),z=A+16|0}(h[e+220>>2],h[e+24>>2],e,h[e+212>>2]),et(h[e+212>>2]),l=h[e+216>>2],r[h[h[l>>2]+16>>2]](l,t,h[e+72>>2]),r[h[5254]](),z=n+16|0},r[98]=function(e,t){e|=0,t=x(t);var n,i=0,o=x(0),a=x(0),s=0,c=0,l=0;if(z=n=z-16|0,r[h[5253]](2342),h[e+248>>2]>=1)for(;;){e:if(i=h[h[e+256>>2]+(c<<2)>>2]){t:{if(!((l=(s=h[i+220>>2])+-2|0)-1|0&&l>>>0<=2)){if(o=g[i+372>>2],a=x(o*o),o=g[i+376>>2],a=x(a+x(o*o)),o=g[i+380>>2],a=x(a+x(o*o)),o=g[i+532>>2],a<x(o*o)&&(o=g[i+388>>2],a=x(o*o),o=g[i+392>>2],a=x(a+x(o*o)),o=g[i+396>>2],a=x(a+x(o*o)),o=g[i+536>>2],a<x(o*o))){g[i+224>>2]=g[i+224>>2]+t;break t}h[i+224>>2]=0,4!=(-2&h[i+220>>2])&&(h[i+220>>2]=0),s=h[i+220>>2]}if(4==(0|s))break e}if(m[22420]||(o=g[5248])==x(0)|(g[i+224>>2]>o^1?2!=(-2&s):0))4!=(-2&h[i+220>>2])&&(h[i+220>>2]=1);else{if(3&m[i+204|0]){4!=(-2&h[i+220>>2])&&(h[i+220>>2]=2);break e}if(1==(0|s)&&(4!=(-2&h[i+220>>2])&&(h[i+220>>2]=3),s=h[i+220>>2]),2!=(0|s))break e;h[i+388>>2]=0,h[i+392>>2]=0,h[i+372>>2]=0,h[i+376>>2]=0,h[i+396>>2]=0,h[i+400>>2]=0,h[i+380>>2]=0,h[i+384>>2]=0,h[i+304>>2]=h[i+304>>2]+2}}if(!((0|(c=c+1|0))<h[e+248>>2]))break}r[h[5254]](),z=n+16|0},r[99]=function(e,t){e|=0,t=x(t);var n,i=0,o=0;if(z=n=z-16|0,r[h[5253]](2299),(i=h[e+84>>2])&&r[i](e,t),r[h[h[e>>2]+140>>2]](e,t),i=0,h[e+32>>2]=0,g[e+28>>2]=t,h[e+48>>2]=r[h[h[e>>2]+20>>2]](e),r[h[h[e>>2]+164>>2]](e,t),r[h[h[e>>2]+44>>2]](e),r[h[h[e>>2]+148>>2]](e),g[e+104>>2]=t,r[h[h[e>>2]+152>>2]](e,e+92|0),r[h[h[e>>2]+144>>2]](e,t),r[h[5253]](2328),h[e+296>>2]>=1)for(;o=h[h[e+304>>2]+(i<<2)>>2],r[h[h[o>>2]+8>>2]](o,e,t),(0|(i=i+1|0))<h[e+296>>2];);r[h[5254]](),r[h[h[e>>2]+156>>2]](e,t),(i=h[e+80>>2])&&r[i](e,t),r[h[5254]](),z=n+16|0},r[100]=function(e,t){var n,i;e|=0,t=x(t),z=n=z-16|0,r[h[5253]](2472),function(e){var t=0,n=0,i=0,o=0;if(z=i=z-16|0,r[h[5253]](2435),t=h[e+332>>2],h[e+324>>2]>=1)for(;o=h[e+24>>2],r[h[h[o>>2]+16>>2]](o,h[(n<<2)+t>>2]),t=h[e+332>>2],(0|(n=n+1|0))<h[e+324>>2];);t&&(m[e+336|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+332>>2]=0),h[e+332>>2]=0,h[e+324>>2]=0,h[e+328>>2]=0,a[e+336|0]=1,r[h[5254]](),z=i+16|0}(e),(0|(i=h[e+248>>2]))>=1&&function(e,t,n,i){var o=0,s=0,c=0,l=x(0),p=0,u=x(0),_=0,f=x(0),d=x(0),v=x(0),A=0,b=x(0),C=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=0,D=0,M=x(0),O=0,L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0);if(z=o=z-512|0,(0|n)>=1)for(;;){c=h[(N<<2)+t>>2],h[c+268>>2]=1065353216;e:{t:if(!((s=h[c+220>>2]+-2|0)>>>0>3))switch(s-1|0){case 0:case 1:break t;default:break e}if(!(3&m[c+204|0])&&(Va(c,i,o+448|0),m[e+44|0]&&(l=g[c+276>>2],(l=x(l*l))!=x(0)&&(f=l,l=x(g[o+496>>2]-g[c+52>>2]),u=x(l*l),l=x(g[o+500>>2]-g[c+56>>2]),u=x(u+x(l*l)),l=x(g[o+504>>2]-g[c+60>>2]),f<x(u+x(l*l)))))){if(r[h[5253]](2408),h[h[c+192>>2]+4>>2]<=19&&(h[5607]=h[5607]+1,s=h[e+68>>2],s=0|r[h[h[s>>2]+36>>2]](s),p=h[e+24>>2],h[o+348>>2]=-1,h[o+340>>2]=1065353216,h[o+344>>2]=1,h[o+336>>2]=1504,_=h[c+64>>2],h[o+360>>2]=h[c+60>>2],h[o+364>>2]=_,_=h[c+56>>2],h[o+352>>2]=h[c+52>>2],h[o+356>>2]=_,_=h[o+508>>2],h[o+376>>2]=h[o+504>>2],h[o+380>>2]=_,_=h[o+500>>2],h[o+368>>2]=h[o+496>>2],h[o+372>>2]=_,h[o+432>>2]=p,h[o+428>>2]=s,h[o+424>>2]=0,h[o+336>>2]=2820,h[o+416>>2]=0,h[o+420>>2]=c,s=h[c+272>>2],Jo(o+280|0),h[o+304>>2]=1065353216,h[o+296>>2]=1065353216,h[o+300>>2]=1065353216,h[o+284>>2]=8,h[o+280>>2]=12036,h[o+316>>2]=0,h[o+320>>2]=0,h[o+324>>2]=0,h[o+308>>2]=0,h[o+312>>2]=0,h[o+332>>2]=0,h[o+328>>2]=s,h[o+312>>2]=s,h[o+424>>2]=h[e+56>>2],s=h[c+188>>2],h[o+344>>2]=h[s+4>>2],h[o+348>>2]=h[s+8>>2],s=h[o+460>>2],h[o+224>>2]=h[o+456>>2],h[o+228>>2]=s,s=h[o+452>>2],h[o+216>>2]=h[o+448>>2],h[o+220>>2]=s,s=h[o+476>>2],h[o+240>>2]=h[o+472>>2],h[o+244>>2]=s,s=h[o+468>>2],h[o+232>>2]=h[o+464>>2],h[o+236>>2]=s,s=h[o+492>>2],h[o+256>>2]=h[o+488>>2],h[o+260>>2]=s,s=h[o+484>>2],h[o+248>>2]=h[o+480>>2],h[o+252>>2]=s,s=h[o+508>>2],h[o+272>>2]=h[o+504>>2],h[o+276>>2]=s,s=h[o+500>>2],h[o+264>>2]=h[o+496>>2],h[o+268>>2]=s,p=h[12+(s=c+4|0)>>2],h[o+224>>2]=h[s+8>>2],h[o+228>>2]=p,p=h[s+4>>2],h[o+216>>2]=h[s>>2],h[o+220>>2]=p,p=h[c+32>>2],h[o+240>>2]=h[c+28>>2],h[o+244>>2]=p,p=h[c+24>>2],h[o+232>>2]=h[c+20>>2],h[o+236>>2]=p,p=h[c+48>>2],h[o+256>>2]=h[c+44>>2],h[o+260>>2]=p,p=h[c+40>>2],h[o+248>>2]=h[c+36>>2],h[o+252>>2]=p,cr(e,o+280|0,s,o+216|0,o+336|0,x(0)),(l=g[o+340>>2])<x(1))){if(b=g[c+60>>2],d=g[c+56>>2],v=g[c+52>>2],f=g[o+392>>2],C=g[o+504>>2],w=g[o+388>>2],T=g[o+500>>2],P=g[o+384>>2],I=g[o+496>>2],s=h[e+24>>2],p=0|r[h[h[s>>2]+12>>2]](s,c,h[o+416>>2]),R=x(l*x(T-d)),d=x(l*x(I-v)),u=f,f=x(l*x(C-b)),U=x(x(x(R*x(-w))-x(P*d))-x(u*f)),(0|(s=h[e+324>>2]))==h[e+328>>2]&&!((0|s)>=(0|(_=s?s<<1:1)))){if(A=0,D=0,_&&(h[6657]=h[6657]+1,D=0|r[h[5255]](_<<2,16),s=h[e+324>>2]),(0|s)>=1)for(;h[(O=A<<2)+D>>2]=h[h[e+332>>2]+O>>2],(0|s)!=(0|(A=A+1|0)););(A=h[e+332>>2])&&(m[e+336|0]&&(A&&(h[6658]=h[6658]+1,r[h[5256]](A)),s=h[e+324>>2]),h[e+332>>2]=0),h[e+332>>2]=D,a[e+336|0]=1,h[e+328>>2]=_}h[h[e+332>>2]+(s<<2)>>2]=p,h[e+324>>2]=s+1,s=h[o+416>>2],C=g[s+20>>2],w=g[s+36>>2],T=g[s+40>>2],P=g[s+8>>2],I=g[s+24>>2],l=g[s+60>>2],j=g[s+56>>2],b=g[s+52>>2],L=g[s+44>>2],M=g[c+60>>2],F=g[s+12>>2],v=g[c+52>>2],u=g[s+28>>2],k=g[c+56>>2],B=g[s+4>>2],h[o+16>>2]=0,h[o+20>>2]=0,h[o+36>>2]=0,h[o+8>>2]=0,h[o+12>>2]=0,d=x(d+v),v=x(R+k),f=x(f+M),M=x(x(x(F*d)+x(u*v))+x(L*f)),R=u,u=x(-j),g[o+32>>2]=M+x(x(x(R*u)-x(F*b))-x(L*l)),g[o+28>>2]=x(x(x(d*P)+x(v*I))+x(f*T))+x(x(x(I*u)-x(P*b))-x(T*l)),g[o+24>>2]=x(x(x(d*B)+x(v*C))+x(f*w))+x(x(x(C*u)-x(B*b))-x(w*l)),s=h[o+388>>2],h[o+72>>2]=h[o+384>>2],h[o+76>>2]=s,s=h[o+396>>2],h[o+80>>2]=h[o+392>>2],h[o+84>>2]=s,g[o+88>>2]=U,h[o+100>>2]=0,h[o+104>>2]=0,h[o+92>>2]=0,h[o+96>>2]=0,h[o+172>>2]=0,h[o+164>>2]=0,h[o+168>>2]=0,h[o+156>>2]=0,h[o+160>>2]=0,h[o+148>>2]=0,h[o+152>>2]=0,h[o+140>>2]=0,h[o+144>>2]=0,h[o+132>>2]=0,h[o+136>>2]=0,h[o+124>>2]=0,h[o+128>>2]=0,s=y(Se(p,o+8|0),208)+p|0,h[s+100>>2]=0,g[s+88>>2]=S(x(E(x(g[c+228>>2]*g[h[o+416>>2]+228>>2]),x(-10))),x(10)),p=h[c+56>>2],h[s+52>>2]=h[c+52>>2],h[s+56>>2]=p,p=h[c+64>>2],h[s+60>>2]=h[c+60>>2],h[s+64>>2]=p,h[s+48>>2]=0,g[s+44>>2]=f,g[s+40>>2]=v,g[s+36>>2]=d}r[h[5254]]()}}if((0|(N=N+1|0))==(0|n))break}z=o+512|0}(e,h[e+256>>2],i,t),r[h[5254]](),z=n+16|0},r[101]=function(e,t){e|=0,t=x(t);var n=0,i=0,o=0;if((0|(i=h[e+8>>2]))>=1)for(;!(n=h[h[e+16>>2]+(o<<2)>>2])|!(2&h[n+252>>2])|!(2&m[n+204|0])|2==h[n+220>>2]||(X(n,t),i=h[e+8>>2]),(0|(o=o+1|0))<(0|i););},r[102]=function(e,t){e|=0,t|=0;var n,i=0,o=0,a=0,s=0,c=x(0),l=x(0),p=x(0),u=0,_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=0,j=0,k=x(0),G=x(0),H=x(0);z=n=z-176|0,i=0|r[h[h[e>>2]+20>>2]](e),u=0|r[h[h[i>>2]+56>>2]](i),i=0|r[h[h[e>>2]+20>>2]](e),s=0|r[h[h[i>>2]+56>>2]](i);e:if(!((B=g[t+40>>2])<=x(0)||(i=h[t+4>>2]+-3|0)>>>0>9)){switch(a=2048&u,j=4096&s,i-1|0){default:if(h[n+124>>2]=0,h[n+128>>2]=0,h[n+136>>2]=0,h[n+140>>2]=0,h[n+132>>2]=1065353216,h[n+156>>2]=0,h[n+160>>2]=0,h[n+152>>2]=1065353216,h[n+164>>2]=0,h[n+168>>2]=0,h[n+172>>2]=0,h[n+116>>2]=0,h[n+120>>2]=0,h[n+112>>2]=1065353216,h[n+144>>2]=0,h[n+148>>2]=0,i=h[t+28>>2],O=g[i+52>>2],A=g[i+12>>2],P=g[i+4>>2],I=g[i+8>>2],N=g[i+56>>2],f=g[i+28>>2],d=g[i+20>>2],v=g[i+24>>2],_=g[i+60>>2],R=g[t+308>>2],p=g[i+44>>2],D=g[t+300>>2],c=g[i+36>>2],M=g[t+304>>2],l=g[i+40>>2],h[n+172>>2]=0,g[n+168>>2]=_+x(x(x(D*c)+x(M*l))+x(R*p)),g[n+164>>2]=N+x(x(x(D*d)+x(M*v))+x(R*f)),g[n+160>>2]=O+x(x(x(D*P)+x(M*I))+x(R*A)),i=0|r[h[h[e>>2]+20>>2]](e),r[h[h[i>>2]+64>>2]](i,n+112|0,B),i=h[t+32>>2],O=g[i+52>>2],A=g[i+12>>2],P=g[i+4>>2],I=g[i+8>>2],N=g[i+56>>2],f=g[i+28>>2],d=g[i+20>>2],v=g[i+24>>2],_=g[i+60>>2],R=g[t+324>>2],p=g[i+44>>2],D=g[t+316>>2],c=g[i+36>>2],M=g[t+320>>2],l=g[i+40>>2],h[n+172>>2]=0,g[n+168>>2]=_+x(x(x(D*c)+x(M*l))+x(R*p)),g[n+164>>2]=N+x(x(x(D*d)+x(M*v))+x(R*f)),g[n+160>>2]=O+x(x(x(D*P)+x(M*I))+x(R*A)),!a)break e;e=0|r[h[h[e>>2]+20>>2]](e),r[h[h[e>>2]+64>>2]](e,n+112|0,B);break e;case 0:if(i=h[t+28>>2],p=g[i+52>>2],b=g[i+12>>2],C=g[i+4>>2],y=g[i+8>>2],R=g[t+584>>2],D=g[t+552>>2],M=g[t+568>>2],c=g[i+56>>2],l=g[i+60>>2],O=g[t+608>>2],A=g[t+600>>2],P=g[t+604>>2],S=g[i+28>>2],E=g[i+20>>2],w=g[i+24>>2],I=g[t+588>>2],N=g[t+556>>2],f=g[t+572>>2],d=g[t+592>>2],T=g[i+44>>2],v=g[t+560>>2],L=g[i+36>>2],_=g[t+576>>2],F=g[i+40>>2],h[n+172>>2]=0,h[n+156>>2]=0,h[n+140>>2]=0,g[n+152>>2]=x(x(v*L)+x(_*F))+x(d*T),g[n+148>>2]=x(x(N*L)+x(f*F))+x(I*T),g[n+136>>2]=x(x(v*E)+x(_*w))+x(d*S),g[n+132>>2]=x(x(N*E)+x(f*w))+x(I*S),g[n+168>>2]=l+x(x(x(L*A)+x(F*P))+x(T*O)),g[n+164>>2]=c+x(x(x(E*A)+x(w*P))+x(S*O)),h[n+124>>2]=0,g[n+144>>2]=x(x(D*L)+x(M*F))+x(R*T),g[n+128>>2]=x(x(D*E)+x(M*w))+x(R*S),g[n+120>>2]=x(x(C*v)+x(y*_))+x(b*d),g[n+116>>2]=x(x(C*N)+x(y*f))+x(b*I),g[n+112>>2]=x(x(D*C)+x(M*y))+x(R*b),g[n+160>>2]=p+x(x(x(C*A)+x(y*P))+x(b*O)),a?(i=0|r[h[h[e>>2]+20>>2]](e),r[h[h[i>>2]+64>>2]](i,n+112|0,B),i=h[t+32>>2],p=g[i+52>>2],c=g[i+56>>2],l=g[i+60>>2],R=g[t+672>>2],D=g[t+664>>2],M=g[t+668>>2],b=g[i+12>>2],C=g[i+4>>2],y=g[i+8>>2],S=g[i+28>>2],E=g[i+20>>2],w=g[i+24>>2],O=g[t+648>>2],A=g[t+616>>2],P=g[t+632>>2],I=g[t+652>>2],N=g[t+620>>2],f=g[t+636>>2],d=g[t+656>>2],T=g[i+44>>2],v=g[t+624>>2],L=g[i+36>>2],_=g[t+640>>2],F=g[i+40>>2],h[n+172>>2]=0,h[n+156>>2]=0,h[n+140>>2]=0,h[n+124>>2]=0,g[n+152>>2]=x(x(v*L)+x(_*F))+x(d*T),g[n+148>>2]=x(x(N*L)+x(f*F))+x(I*T),g[n+144>>2]=x(x(A*L)+x(P*F))+x(O*T),g[n+136>>2]=x(x(v*E)+x(_*w))+x(d*S),g[n+132>>2]=x(x(N*E)+x(f*w))+x(I*S),g[n+128>>2]=x(x(A*E)+x(P*w))+x(O*S),g[n+120>>2]=x(x(C*v)+x(y*_))+x(b*d),g[n+116>>2]=x(x(C*N)+x(y*f))+x(b*I),g[n+112>>2]=x(x(A*C)+x(P*y))+x(O*b),g[n+168>>2]=l+x(x(x(L*D)+x(F*M))+x(T*R)),g[n+164>>2]=c+x(x(x(E*D)+x(w*M))+x(S*R)),g[n+160>>2]=p+x(x(x(C*D)+x(y*M))+x(b*R)),i=0|r[h[h[e>>2]+20>>2]](e),r[h[h[i>>2]+64>>2]](i,n+112|0,B)):(i=h[t+32>>2],p=g[i+52>>2],c=g[i+56>>2],l=g[i+60>>2],R=g[t+672>>2],D=g[t+664>>2],M=g[t+668>>2],b=g[i+12>>2],C=g[i+4>>2],y=g[i+8>>2],S=g[i+28>>2],E=g[i+20>>2],w=g[i+24>>2],O=g[t+648>>2],A=g[t+616>>2],P=g[t+632>>2],I=g[t+652>>2],N=g[t+620>>2],f=g[t+636>>2],d=g[t+656>>2],T=g[i+44>>2],v=g[t+624>>2],L=g[i+36>>2],_=g[t+640>>2],F=g[i+40>>2],h[n+172>>2]=0,h[n+156>>2]=0,h[n+140>>2]=0,h[n+124>>2]=0,g[n+152>>2]=x(x(v*L)+x(_*F))+x(d*T),g[n+148>>2]=x(x(N*L)+x(f*F))+x(I*T),g[n+144>>2]=x(x(A*L)+x(P*F))+x(O*T),g[n+136>>2]=x(x(v*E)+x(_*w))+x(d*S),g[n+132>>2]=x(x(N*E)+x(f*w))+x(I*S),g[n+128>>2]=x(x(A*E)+x(P*w))+x(O*S),g[n+120>>2]=x(x(C*v)+x(y*_))+x(b*d),g[n+116>>2]=x(x(C*N)+x(y*f))+x(b*I),g[n+112>>2]=x(x(A*C)+x(P*y))+x(O*b),g[n+168>>2]=l+x(x(x(L*D)+x(F*M))+x(T*R)),g[n+164>>2]=c+x(x(x(E*D)+x(w*M))+x(S*R)),g[n+160>>2]=p+x(x(x(C*D)+x(y*M))+x(b*R))),!j|(p=ja(i=t+688|0))==(c=ka(i)))break e;l=g[t+692>>2],h[n+96>>2]=h[n+120>>2],h[n+100>>2]=h[n+136>>2],h[n+108>>2]=0,h[n+104>>2]=h[n+152>>2],h[n+80>>2]=h[n+112>>2],h[n+84>>2]=h[n+128>>2],h[n+92>>2]=0,h[n+88>>2]=h[n+144>>2],t=0|r[h[h[e>>2]+20>>2]](e),h[n+72>>2]=0,h[n+76>>2]=0,h[n+64>>2]=0,h[n+68>>2]=0,e=l>x(0),r[h[h[t>>2]+68>>2]](t,n+160|0,n+96|0,n+80|0,B,B,e?p:x(0),e?c:x(6.2831854820251465),n- -64|0,e,x(10));break e;case 1:if(i=h[t+28>>2],p=g[i+52>>2],b=g[i+12>>2],C=g[i+4>>2],y=g[i+8>>2],R=g[t+332>>2],D=g[t+300>>2],M=g[t+316>>2],c=g[i+56>>2],l=g[i+60>>2],O=g[t+356>>2],A=g[t+348>>2],P=g[t+352>>2],S=g[i+28>>2],E=g[i+20>>2],w=g[i+24>>2],I=g[t+336>>2],N=g[t+304>>2],f=g[t+320>>2],d=g[t+340>>2],T=g[i+44>>2],v=g[t+308>>2],L=g[i+36>>2],_=g[t+324>>2],F=g[i+40>>2],h[n+172>>2]=0,h[n+156>>2]=0,h[n+140>>2]=0,g[n+152>>2]=x(x(v*L)+x(_*F))+x(d*T),g[n+148>>2]=x(x(N*L)+x(f*F))+x(I*T),g[n+136>>2]=x(x(v*E)+x(_*w))+x(d*S),g[n+132>>2]=x(x(N*E)+x(f*w))+x(I*S),g[n+168>>2]=l+x(x(x(L*A)+x(F*P))+x(T*O)),g[n+164>>2]=c+x(x(x(E*A)+x(w*P))+x(S*O)),h[n+124>>2]=0,g[n+144>>2]=x(x(D*L)+x(M*F))+x(R*T),g[n+128>>2]=x(x(D*E)+x(M*w))+x(R*S),g[n+120>>2]=x(x(C*v)+x(y*_))+x(b*d),g[n+116>>2]=x(x(C*N)+x(y*f))+x(b*I),g[n+112>>2]=x(x(D*C)+x(M*y))+x(R*b),g[n+160>>2]=p+x(x(x(C*A)+x(y*P))+x(b*O)),a?(i=0|r[h[h[e>>2]+20>>2]](e),r[h[h[i>>2]+64>>2]](i,n+112|0,B),i=h[t+32>>2],p=g[i+52>>2],c=g[i+56>>2],l=g[i+60>>2],R=g[t+420>>2],D=g[t+412>>2],M=g[t+416>>2],b=g[i+12>>2],C=g[i+4>>2],y=g[i+8>>2],S=g[i+28>>2],E=g[i+20>>2],w=g[i+24>>2],O=g[t+396>>2],A=g[t+364>>2],P=g[t+380>>2],I=g[t+400>>2],N=g[t+368>>2],f=g[t+384>>2],d=g[t+404>>2],T=g[i+44>>2],v=g[t+372>>2],L=g[i+36>>2],_=g[t+388>>2],F=g[i+40>>2],h[n+172>>2]=0,h[n+156>>2]=0,h[n+140>>2]=0,h[n+124>>2]=0,g[n+152>>2]=x(x(v*L)+x(_*F))+x(d*T),g[n+148>>2]=x(x(N*L)+x(f*F))+x(I*T),g[n+144>>2]=x(x(A*L)+x(P*F))+x(O*T),g[n+136>>2]=x(x(v*E)+x(_*w))+x(d*S),g[n+132>>2]=x(x(N*E)+x(f*w))+x(I*S),g[n+128>>2]=x(x(A*E)+x(P*w))+x(O*S),g[n+120>>2]=x(x(C*v)+x(y*_))+x(b*d),g[n+116>>2]=x(x(C*N)+x(y*f))+x(b*I),g[n+112>>2]=x(x(A*C)+x(P*y))+x(O*b),g[n+168>>2]=l+x(x(x(L*D)+x(F*M))+x(T*R)),g[n+164>>2]=c+x(x(x(E*D)+x(w*M))+x(S*R)),g[n+160>>2]=p+x(x(x(C*D)+x(y*M))+x(b*R)),i=0|r[h[h[e>>2]+20>>2]](e),r[h[h[i>>2]+64>>2]](i,n+112|0,B)):(i=h[t+32>>2],p=g[i+52>>2],c=g[i+56>>2],l=g[i+60>>2],R=g[t+420>>2],D=g[t+412>>2],M=g[t+416>>2],b=g[i+12>>2],C=g[i+4>>2],y=g[i+8>>2],S=g[i+28>>2],E=g[i+20>>2],w=g[i+24>>2],O=g[t+396>>2],A=g[t+364>>2],P=g[t+380>>2],I=g[t+400>>2],N=g[t+368>>2],f=g[t+384>>2],d=g[t+404>>2],T=g[i+44>>2],v=g[t+372>>2],L=g[i+36>>2],_=g[t+388>>2],F=g[i+40>>2],h[n+172>>2]=0,h[n+156>>2]=0,h[n+140>>2]=0,h[n+124>>2]=0,g[n+152>>2]=x(x(v*L)+x(_*F))+x(d*T),g[n+148>>2]=x(x(N*L)+x(f*F))+x(I*T),g[n+144>>2]=x(x(A*L)+x(P*F))+x(O*T),g[n+136>>2]=x(x(v*E)+x(_*w))+x(d*S),g[n+132>>2]=x(x(N*E)+x(f*w))+x(I*S),g[n+128>>2]=x(x(A*E)+x(P*w))+x(O*S),g[n+120>>2]=x(x(C*v)+x(y*_))+x(b*d),g[n+116>>2]=x(x(C*N)+x(y*f))+x(b*I),g[n+112>>2]=x(x(A*C)+x(P*y))+x(O*b),g[n+168>>2]=l+x(x(x(L*D)+x(F*M))+x(T*R)),g[n+164>>2]=c+x(x(x(E*D)+x(w*M))+x(S*R)),g[n+160>>2]=p+x(x(x(C*D)+x(y*M))+x(b*R))),!j)break e;for(Fe(n+96|0,t,x(6.0868353843688965),B),h[n+108>>2]=0,p=g[n+96>>2],c=g[n+100>>2],l=g[n+104>>2],g[n+104>>2]=x(x(x(p*g[n+144>>2])+x(c*g[n+148>>2]))+x(l*g[n+152>>2]))+g[n+168>>2],g[n+100>>2]=x(x(x(p*g[n+128>>2])+x(c*g[n+132>>2]))+x(l*g[n+136>>2]))+g[n+164>>2],g[n+96>>2]=x(x(x(p*g[n+112>>2])+x(c*g[n+116>>2]))+x(l*g[n+120>>2]))+g[n+160>>2],i=n+160|0,u=0;Fe(n+80|0,t,x(x(x(0|u)*x(6.283185005187988))*x(.03125)),B),h[n+92>>2]=0,p=g[n+80>>2],c=g[n+84>>2],l=g[n+88>>2],g[n+88>>2]=x(x(x(p*g[n+144>>2])+x(c*g[n+148>>2]))+x(l*g[n+152>>2]))+g[n+168>>2],g[n+84>>2]=x(x(x(p*g[n+128>>2])+x(c*g[n+132>>2]))+x(l*g[n+136>>2]))+g[n+164>>2],g[n+80>>2]=x(x(x(p*g[n+112>>2])+x(c*g[n+116>>2]))+x(l*g[n+120>>2]))+g[n+160>>2],s=0|r[h[h[e>>2]+20>>2]](e),h[n+72>>2]=0,h[n+76>>2]=0,h[n+64>>2]=0,h[n+68>>2]=0,r[h[h[s>>2]+16>>2]](s,n+96|0,n+80|0,n- -64|0),3&u||(s=0|r[h[h[e>>2]+20>>2]](e),h[n+72>>2]=0,h[n+76>>2]=0,h[n+64>>2]=0,h[n+68>>2]=0,r[h[h[s>>2]+16>>2]](s,i,n+80|0,n- -64|0)),s=h[n+92>>2],h[n+104>>2]=h[n+88>>2],h[n+108>>2]=s,s=h[n+84>>2],h[n+96>>2]=h[n+80>>2],h[n+100>>2]=s,32!=(0|(u=u+1|0)););L=g[t+512>>2],F=g[t+452>>2],u=h[t+32>>2],g[u+404>>2]>x(0)?(k=g[u+36>>2],c=g[t+412>>2],A=g[u+40>>2],l=g[t+416>>2],R=x(x(k*c)+x(A*l)),b=g[u+20>>2],C=g[u+24>>2],y=g[u+28>>2],P=g[t+420>>2],D=x(x(x(b*c)+x(C*l))+x(y*P)),S=g[u+4>>2],E=g[u+8>>2],w=g[u+12>>2],M=x(x(x(S*c)+x(E*l))+x(w*P)),I=g[t+372>>2],N=g[t+388>>2],f=g[t+404>>2],T=g[u+44>>2],O=x(x(x(I*k)+x(N*A))+x(f*T)),d=g[t+368>>2],v=g[t+384>>2],_=g[t+400>>2],G=x(x(x(d*k)+x(v*A))+x(_*T)),p=g[t+364>>2],c=g[t+380>>2],l=g[t+396>>2],H=x(x(x(p*k)+x(c*A))+x(l*T)),A=x(x(x(I*b)+x(N*C))+x(f*y)),k=x(x(x(d*b)+x(v*C))+x(_*y)),y=x(x(x(p*b)+x(c*C))+x(l*y)),f=x(x(x(S*I)+x(E*N))+x(w*f)),d=x(x(x(S*d)+x(E*v))+x(w*_)),v=x(x(x(p*S)+x(c*E))+x(l*w)),_=x(T*P)):(u=h[t+28>>2],k=g[u+36>>2],c=g[t+348>>2],A=g[u+40>>2],l=g[t+352>>2],R=x(x(k*c)+x(A*l)),b=g[u+20>>2],C=g[u+24>>2],y=g[u+28>>2],P=g[t+356>>2],D=x(x(x(b*c)+x(C*l))+x(y*P)),S=g[u+4>>2],E=g[u+8>>2],w=g[u+12>>2],M=x(x(x(S*c)+x(E*l))+x(w*P)),I=g[t+308>>2],N=g[t+324>>2],f=g[t+340>>2],T=g[u+44>>2],O=x(x(x(I*k)+x(N*A))+x(f*T)),d=g[t+304>>2],v=g[t+320>>2],_=g[t+336>>2],G=x(x(x(d*k)+x(v*A))+x(_*T)),p=g[t+300>>2],c=g[t+316>>2],l=g[t+332>>2],H=x(x(x(p*k)+x(c*A))+x(l*T)),A=x(x(x(I*b)+x(N*C))+x(f*y)),k=x(x(x(d*b)+x(v*C))+x(_*y)),y=x(x(x(p*b)+x(c*C))+x(l*y)),f=x(x(x(S*I)+x(E*N))+x(w*f)),d=x(x(x(S*d)+x(E*v))+x(w*_)),v=x(x(x(p*S)+x(c*E))+x(l*w)),_=x(T*P)),p=g[u+52>>2],c=g[u+56>>2],l=g[u+60>>2],h[n+172>>2]=0,h[n+156>>2]=0,g[n+152>>2]=O,g[n+148>>2]=G,g[n+144>>2]=H,h[n+140>>2]=0,g[n+136>>2]=A,g[n+132>>2]=k,g[n+128>>2]=y,h[n+124>>2]=0,g[n+120>>2]=f,g[n+116>>2]=d,g[n+112>>2]=v,g[n+168>>2]=l+x(R+_),g[n+164>>2]=D+c,g[n+160>>2]=p+M,t=h[i+12>>2],h[n+88>>2]=h[i+8>>2],h[n+92>>2]=t,t=h[i+4>>2],h[n+80>>2]=h[i>>2],h[n+84>>2]=t,h[n+76>>2]=0,g[n+72>>2]=H,g[n+68>>2]=y,g[n+64>>2]=v,h[n+60>>2]=0,g[n+56>>2]=G,g[n+52>>2]=k,g[n+48>>2]=d,e=0|r[h[h[e>>2]+20>>2]](e),h[n+40>>2]=0,h[n+44>>2]=0,h[n+32>>2]=0,h[n+36>>2]=0,r[h[h[e>>2]+68>>2]](e,n+80|0,n- -64|0,n+48|0,B,B,x(x(-L)-F),x(F-L),n+32|0,1,x(10));break e;case 2:case 5:if(i=h[4+(s=t+1072|0)>>2],h[n+120>>2]=h[s>>2],h[n+124>>2]=i,i=h[4+(s=U=t+1064|0)>>2],h[n+112>>2]=h[s>>2],h[n+116>>2]=i,i=h[4+(s=t+1088|0)>>2],h[n+136>>2]=h[s>>2],h[n+140>>2]=i,i=h[4+(s=u=t+1080|0)>>2],h[n+128>>2]=h[s>>2],h[n+132>>2]=i,i=h[4+(s=t+1104|0)>>2],h[n+152>>2]=h[s>>2],h[n+156>>2]=i,i=h[4+(o=s=t+1096|0)>>2],h[n+144>>2]=h[o>>2],h[n+148>>2]=i,i=h[4+(o=t+1120|0)>>2],h[n+168>>2]=h[o>>2],h[n+172>>2]=i,o=h[4+(i=t+1112|0)>>2],h[n+160>>2]=h[i>>2],h[n+164>>2]=o,a?(o=0|r[h[h[e>>2]+20>>2]](e),r[h[h[o>>2]+64>>2]](o,n+112|0,B),o=h[4+(a=t+1136|0)>>2],h[n+120>>2]=h[a>>2],h[n+124>>2]=o,o=h[4+(a=t+1128|0)>>2],h[n+112>>2]=h[a>>2],h[n+116>>2]=o,o=h[4+(a=t+1152|0)>>2],h[n+136>>2]=h[a>>2],h[n+140>>2]=o,o=h[4+(a=t+1144|0)>>2],h[n+128>>2]=h[a>>2],h[n+132>>2]=o,o=h[4+(a=t+1168|0)>>2],h[n+152>>2]=h[a>>2],h[n+156>>2]=o,o=h[4+(a=t+1160|0)>>2],h[n+144>>2]=h[a>>2],h[n+148>>2]=o,o=h[4+(a=t+1184|0)>>2],h[n+168>>2]=h[a>>2],h[n+172>>2]=o,o=h[4+(a=t+1176|0)>>2],h[n+160>>2]=h[a>>2],h[n+164>>2]=o,o=0|r[h[h[e>>2]+20>>2]](e),r[h[h[o>>2]+64>>2]](o,n+112|0,B)):(o=h[4+(a=t+1136|0)>>2],h[n+120>>2]=h[a>>2],h[n+124>>2]=o,o=h[4+(a=t+1128|0)>>2],h[n+112>>2]=h[a>>2],h[n+116>>2]=o,o=h[4+(a=t+1152|0)>>2],h[n+136>>2]=h[a>>2],h[n+140>>2]=o,o=h[4+(a=t+1144|0)>>2],h[n+128>>2]=h[a>>2],h[n+132>>2]=o,o=h[4+(a=t+1168|0)>>2],h[n+152>>2]=h[a>>2],h[n+156>>2]=o,o=h[4+(a=t+1160|0)>>2],h[n+144>>2]=h[a>>2],h[n+148>>2]=o,o=h[4+(a=t+1184|0)>>2],h[n+168>>2]=h[a>>2],h[n+172>>2]=o,o=h[4+(a=t+1176|0)>>2],h[n+160>>2]=h[a>>2],h[n+164>>2]=o),!j)break e;a=h[(o=U)+12>>2],h[n+120>>2]=h[o+8>>2],h[n+124>>2]=a,a=h[o+4>>2],h[n+112>>2]=h[o>>2],h[n+116>>2]=a,a=h[(o=u)+12>>2],h[n+136>>2]=h[o+8>>2],h[n+140>>2]=a,a=h[o+4>>2],h[n+128>>2]=h[o>>2],h[n+132>>2]=a,a=h[(o=s)+12>>2],h[n+152>>2]=h[o+8>>2],h[n+156>>2]=a,a=h[o+4>>2],h[n+144>>2]=h[o>>2],h[n+148>>2]=a,a=h[i+12>>2],h[n+168>>2]=h[i+8>>2],h[n+172>>2]=a,a=h[i+4>>2],h[n+160>>2]=h[i>>2],h[n+164>>2]=a,h[n+96>>2]=h[n+120>>2],h[n+100>>2]=h[n+136>>2],h[n+108>>2]=0,h[n+104>>2]=h[n+152>>2],h[n+80>>2]=h[n+112>>2],h[n+84>>2]=h[n+128>>2],h[n+92>>2]=0,h[n+88>>2]=h[n+144>>2],_=g[t+1e3>>2],p=g[t+996>>2],c=g[t+936>>2],l=g[t+932>>2],o=0|r[h[h[e>>2]+20>>2]](e),h[n+72>>2]=0,h[n+76>>2]=0,h[n+64>>2]=0,h[n+68>>2]=0,j=t+1176|0,r[h[h[o>>2]+72>>2]](o,j,n+96|0,n+80|0,x(B*x(.8999999761581421)),l,c,p,_,n- -64|0,x(10),1),h[n+92>>2]=0,h[n+88>>2]=h[n+148>>2],h[n+84>>2]=h[n+132>>2],h[n+80>>2]=h[n+116>>2],c=g[t+1196>>2],f=No(l=g[t+1200>>2]),d=g[n+80>>2],v=Ro(l),_=g[n+84>>2],g[n+68>>2]=x(v*_)-x(f*d),p=No(c),c=Ro(c),l=g[n+88>>2],g[n+72>>2]=x(x(d*x(v*p))+x(_*x(p*f)))+x(c*l),g[n+64>>2]=x(x(d*x(c*v))+x(_*x(c*f)))-x(p*l),o=h[4+(a=t+1136|0)>>2],h[n+120>>2]=h[a>>2],h[n+124>>2]=o,o=h[4+(a=t+1128|0)>>2],h[n+112>>2]=h[a>>2],h[n+116>>2]=o,o=h[4+(a=t+1152|0)>>2],h[n+136>>2]=h[a>>2],h[n+140>>2]=o,o=h[4+(a=t+1144|0)>>2],h[n+128>>2]=h[a>>2],h[n+132>>2]=o,o=h[4+(a=t+1168|0)>>2],h[n+152>>2]=h[a>>2],h[n+156>>2]=o,o=h[4+(a=t+1160|0)>>2],h[n+144>>2]=h[a>>2],h[n+148>>2]=o,o=h[j+4>>2],h[n+160>>2]=h[j>>2],h[n+164>>2]=o,o=h[4+(a=t+1184|0)>>2],h[n+168>>2]=h[a>>2],h[n+172>>2]=o,h[n+60>>2]=0,g[n+56>>2]=-g[n+144>>2],g[n+52>>2]=-g[n+128>>2],g[n+48>>2]=-g[n+112>>2],(c=g[t+868>>2])>(l=g[t+872>>2])?(o=0|r[h[h[e>>2]+20>>2]](e),h[n+40>>2]=0,h[n+44>>2]=0,h[n+32>>2]=0,h[n+36>>2]=0,r[h[h[o>>2]+68>>2]](o,j,n+48|0,n- -64|0,B,B,x(-3.1415927410125732),x(3.1415927410125732),n+32|0,0,x(10))):c<l&&(o=0|r[h[h[e>>2]+20>>2]](e),h[n+40>>2]=0,h[n+44>>2]=0,h[n+32>>2]=0,h[n+36>>2]=0,r[h[h[o>>2]+68>>2]](o,j,n+48|0,n- -64|0,B,B,c,l,n+32|0,1,x(10))),o=h[U+12>>2],h[n+120>>2]=h[U+8>>2],h[n+124>>2]=o,o=h[U+4>>2],h[n+112>>2]=h[U>>2],h[n+116>>2]=o,U=h[u+12>>2],h[n+136>>2]=h[u+8>>2],h[n+140>>2]=U,U=h[u+4>>2],h[n+128>>2]=h[u>>2],h[n+132>>2]=U,u=h[s+12>>2],h[n+152>>2]=h[s+8>>2],h[n+156>>2]=u,u=h[s+4>>2],h[n+144>>2]=h[s>>2],h[n+148>>2]=u,s=h[i+12>>2],h[n+168>>2]=h[i+8>>2],h[n+172>>2]=s,s=h[i+4>>2],h[n+160>>2]=h[i>>2],h[n+164>>2]=s,i=h[t+692>>2],h[n+40>>2]=h[t+688>>2],h[n+44>>2]=i,i=h[t+684>>2],h[n+32>>2]=h[t+680>>2],h[n+36>>2]=i,i=h[t+708>>2],h[n+24>>2]=h[t+704>>2],h[n+28>>2]=i,i=h[t+700>>2],h[n+16>>2]=h[t+696>>2],h[n+20>>2]=i,e=0|r[h[h[e>>2]+20>>2]](e),h[n+8>>2]=0,h[n+12>>2]=0,h[n>>2]=0,h[n+4>>2]=0,r[h[h[e>>2]+80>>2]](e,n+32|0,n+16|0,n+112|0,n);break e;case 8:if(i=h[4+(s=t+1244|0)>>2],h[n+120>>2]=h[s>>2],h[n+124>>2]=i,i=h[4+(s=U=t+1236|0)>>2],h[n+112>>2]=h[s>>2],h[n+116>>2]=i,i=h[4+(s=t+1260|0)>>2],h[n+136>>2]=h[s>>2],h[n+140>>2]=i,i=h[4+(s=u=t+1252|0)>>2],h[n+128>>2]=h[s>>2],h[n+132>>2]=i,i=h[4+(s=t+1276|0)>>2],h[n+152>>2]=h[s>>2],h[n+156>>2]=i,i=h[4+(o=s=t+1268|0)>>2],h[n+144>>2]=h[o>>2],h[n+148>>2]=i,i=h[4+(o=t+1292|0)>>2],h[n+168>>2]=h[o>>2],h[n+172>>2]=i,o=h[4+(i=t+1284|0)>>2],h[n+160>>2]=h[i>>2],h[n+164>>2]=o,a?(o=0|r[h[h[e>>2]+20>>2]](e),r[h[h[o>>2]+64>>2]](o,n+112|0,B),o=h[4+(a=t+1308|0)>>2],h[n+120>>2]=h[a>>2],h[n+124>>2]=o,o=h[4+(a=t+1300|0)>>2],h[n+112>>2]=h[a>>2],h[n+116>>2]=o,o=h[4+(a=t+1324|0)>>2],h[n+136>>2]=h[a>>2],h[n+140>>2]=o,o=h[4+(a=t+1316|0)>>2],h[n+128>>2]=h[a>>2],h[n+132>>2]=o,o=h[4+(a=t+1340|0)>>2],h[n+152>>2]=h[a>>2],h[n+156>>2]=o,o=h[4+(a=t+1332|0)>>2],h[n+144>>2]=h[a>>2],h[n+148>>2]=o,o=h[4+(a=t+1356|0)>>2],h[n+168>>2]=h[a>>2],h[n+172>>2]=o,o=h[4+(a=t+1348|0)>>2],h[n+160>>2]=h[a>>2],h[n+164>>2]=o,o=0|r[h[h[e>>2]+20>>2]](e),r[h[h[o>>2]+64>>2]](o,n+112|0,B)):(o=h[4+(a=t+1308|0)>>2],h[n+120>>2]=h[a>>2],h[n+124>>2]=o,o=h[4+(a=t+1300|0)>>2],h[n+112>>2]=h[a>>2],h[n+116>>2]=o,o=h[4+(a=t+1324|0)>>2],h[n+136>>2]=h[a>>2],h[n+140>>2]=o,o=h[4+(a=t+1316|0)>>2],h[n+128>>2]=h[a>>2],h[n+132>>2]=o,o=h[4+(a=t+1340|0)>>2],h[n+152>>2]=h[a>>2],h[n+156>>2]=o,o=h[4+(a=t+1332|0)>>2],h[n+144>>2]=h[a>>2],h[n+148>>2]=o,o=h[4+(a=t+1356|0)>>2],h[n+168>>2]=h[a>>2],h[n+172>>2]=o,o=h[4+(a=t+1348|0)>>2],h[n+160>>2]=h[a>>2],h[n+164>>2]=o),!j)break e;a=h[(o=U)+12>>2],h[n+120>>2]=h[o+8>>2],h[n+124>>2]=a,a=h[o+4>>2],h[n+112>>2]=h[o>>2],h[n+116>>2]=a,a=h[(o=u)+12>>2],h[n+136>>2]=h[o+8>>2],h[n+140>>2]=a,a=h[o+4>>2],h[n+128>>2]=h[o>>2],h[n+132>>2]=a,a=h[(o=s)+12>>2],h[n+152>>2]=h[o+8>>2],h[n+156>>2]=a,a=h[o+4>>2],h[n+144>>2]=h[o>>2],h[n+148>>2]=a,a=h[i+12>>2],h[n+168>>2]=h[i+8>>2],h[n+172>>2]=a,a=h[i+4>>2],h[n+160>>2]=h[i>>2],h[n+164>>2]=a,h[n+96>>2]=h[n+120>>2],h[n+100>>2]=h[n+136>>2],h[n+108>>2]=0,h[n+104>>2]=h[n+152>>2],h[n+80>>2]=h[n+112>>2],h[n+84>>2]=h[n+128>>2],h[n+92>>2]=0,h[n+88>>2]=h[n+144>>2],_=g[t+1148>>2],p=g[t+1144>>2],c=g[t+1060>>2],l=g[t+1056>>2],o=0|r[h[h[e>>2]+20>>2]](e),h[n+72>>2]=0,h[n+76>>2]=0,h[n+64>>2]=0,h[n+68>>2]=0,j=t+1348|0,r[h[h[o>>2]+72>>2]](o,j,n+96|0,n+80|0,x(B*x(.8999999761581421)),l,c,p,_,n- -64|0,x(10),1),h[n+92>>2]=0,v=g[n+148>>2],h[n+88>>2]=h[n+148>>2],c=g[n+132>>2],h[n+84>>2]=h[n+132>>2],l=g[n+116>>2],h[n+80>>2]=h[n+116>>2],f=No(p=g[t+1372>>2]),d=Ro(p),p=g[t+1368>>2],g[n+68>>2]=x(d*c)-x(f*l),_=No(p),p=Ro(p),g[n+72>>2]=x(x(x(d*_)*l)+x(x(_*f)*c))+x(p*v),g[n+64>>2]=x(x(x(p*d)*l)+x(x(p*f)*c))-x(_*v),o=h[4+(a=t+1308|0)>>2],h[n+120>>2]=h[a>>2],h[n+124>>2]=o,o=h[4+(a=t+1300|0)>>2],h[n+112>>2]=h[a>>2],h[n+116>>2]=o,o=h[4+(a=t+1324|0)>>2],h[n+136>>2]=h[a>>2],h[n+140>>2]=o,o=h[4+(a=t+1316|0)>>2],h[n+128>>2]=h[a>>2],h[n+132>>2]=o,o=h[4+(a=t+1340|0)>>2],h[n+152>>2]=h[a>>2],h[n+156>>2]=o,o=h[4+(a=t+1332|0)>>2],h[n+144>>2]=h[a>>2],h[n+148>>2]=o,o=h[4+(a=t+1356|0)>>2],h[n+168>>2]=h[a>>2],h[n+172>>2]=o,o=h[j+4>>2],h[n+160>>2]=h[j>>2],h[n+164>>2]=o,h[n+60>>2]=0,g[n+56>>2]=-g[n+144>>2],g[n+52>>2]=-g[n+128>>2],g[n+48>>2]=-g[n+112>>2],(c=g[t+968>>2])>(l=g[t+972>>2])?(o=0|r[h[h[e>>2]+20>>2]](e),h[n+40>>2]=0,h[n+44>>2]=0,h[n+32>>2]=0,h[n+36>>2]=0,r[h[h[o>>2]+68>>2]](o,j,n+48|0,n- -64|0,B,B,x(-3.1415927410125732),x(3.1415927410125732),n+32|0,0,x(10))):c<l&&(o=0|r[h[h[e>>2]+20>>2]](e),h[n+40>>2]=0,h[n+44>>2]=0,h[n+32>>2]=0,h[n+36>>2]=0,r[h[h[o>>2]+68>>2]](o,j,n+48|0,n- -64|0,B,B,c,l,n+32|0,1,x(10))),o=h[U+12>>2],h[n+120>>2]=h[U+8>>2],h[n+124>>2]=o,o=h[U+4>>2],h[n+112>>2]=h[U>>2],h[n+116>>2]=o,U=h[u+12>>2],h[n+136>>2]=h[u+8>>2],h[n+140>>2]=U,U=h[u+4>>2],h[n+128>>2]=h[u>>2],h[n+132>>2]=U,u=h[s+12>>2],h[n+152>>2]=h[s+8>>2],h[n+156>>2]=u,u=h[s+4>>2],h[n+144>>2]=h[s>>2],h[n+148>>2]=u,s=h[i+12>>2],h[n+168>>2]=h[i+8>>2],h[n+172>>2]=s,s=h[i+4>>2],h[n+160>>2]=h[i>>2],h[n+164>>2]=s,i=h[t+692>>2],h[n+40>>2]=h[t+688>>2],h[n+44>>2]=i,i=h[t+684>>2],h[n+32>>2]=h[t+680>>2],h[n+36>>2]=i,i=h[t+708>>2],h[n+24>>2]=h[t+704>>2],h[n+28>>2]=i,i=h[t+700>>2],h[n+16>>2]=h[t+696>>2],h[n+20>>2]=i,e=0|r[h[h[e>>2]+20>>2]](e),h[n+8>>2]=0,h[n+12>>2]=0,h[n>>2]=0,h[n+4>>2]=0,r[h[h[e>>2]+80>>2]](e,n+32|0,n+16|0,n+112|0,n);break e;case 4:case 6:case 7:break e;case 3:}i=h[t+836>>2],h[n+120>>2]=h[t+832>>2],h[n+124>>2]=i,i=h[4+(s=u=t+824|0)>>2],h[n+112>>2]=h[s>>2],h[n+116>>2]=i,i=h[t+852>>2],h[n+136>>2]=h[t+848>>2],h[n+140>>2]=i,i=h[t+844>>2],h[n+128>>2]=h[t+840>>2],h[n+132>>2]=i,i=h[t+868>>2],h[n+152>>2]=h[t+864>>2],h[n+156>>2]=i,i=h[t+860>>2],h[n+144>>2]=h[t+856>>2],h[n+148>>2]=i,i=h[t+884>>2],h[n+168>>2]=h[t+880>>2],h[n+172>>2]=i,i=h[t+876>>2],h[n+160>>2]=h[t+872>>2],h[n+164>>2]=i,a?(i=0|r[h[h[e>>2]+20>>2]](e),r[h[h[i>>2]+64>>2]](i,n+112|0,B),i=h[t+900>>2],h[n+120>>2]=h[t+896>>2],h[n+124>>2]=i,i=h[t+892>>2],h[n+112>>2]=h[t+888>>2],h[n+116>>2]=i,i=h[t+916>>2],h[n+136>>2]=h[t+912>>2],h[n+140>>2]=i,i=h[t+908>>2],h[n+128>>2]=h[t+904>>2],h[n+132>>2]=i,i=h[t+932>>2],h[n+152>>2]=h[t+928>>2],h[n+156>>2]=i,i=h[t+924>>2],h[n+144>>2]=h[t+920>>2],h[n+148>>2]=i,i=h[t+948>>2],h[n+168>>2]=h[t+944>>2],h[n+172>>2]=i,i=h[t+940>>2],h[n+160>>2]=h[t+936>>2],h[n+164>>2]=i,i=0|r[h[h[e>>2]+20>>2]](e),r[h[h[i>>2]+64>>2]](i,n+112|0,B)):(i=h[t+900>>2],h[n+120>>2]=h[t+896>>2],h[n+124>>2]=i,i=h[t+892>>2],h[n+112>>2]=h[t+888>>2],h[n+116>>2]=i,i=h[t+916>>2],h[n+136>>2]=h[t+912>>2],h[n+140>>2]=i,i=h[t+908>>2],h[n+128>>2]=h[t+904>>2],h[n+132>>2]=i,i=h[t+932>>2],h[n+152>>2]=h[t+928>>2],h[n+156>>2]=i,i=h[t+924>>2],h[n+144>>2]=h[t+920>>2],h[n+148>>2]=i,i=h[t+948>>2],h[n+168>>2]=h[t+944>>2],h[n+172>>2]=i,i=h[t+940>>2],h[n+160>>2]=h[t+936>>2],h[n+164>>2]=i),j&&(i=m[t+180|0],D=g[(s=i?u:t+888|0)+48>>2],N=g[s+8>>2],f=g[s+4>>2],a=h[s+4>>2],M=g[s+52>>2],_=g[s+24>>2],O=g[s+16>>2],o=h[s+16>>2],p=g[s+20>>2],U=h[s+20>>2],A=g[s+56>>2],c=g[s+40>>2],P=g[s+32>>2],u=h[s+32>>2],l=g[s+36>>2],s=h[s+36>>2],I=g[(i=(i?824:888)+t|0)>>2],i=h[i>>2],R=g[t+184>>2],h[n+108>>2]=0,d=x(c*x(0)),v=x(l*x(0)),g[n+104>>2]=A+x(d+x(v+x(R*P))),_=x(_*x(0)),p=x(p*x(0)),g[n+100>>2]=M+x(_+x(p+x(R*O))),c=x(N*x(0)),l=x(f*x(0)),g[n+96>>2]=D+x(c+x(l+x(R*I))),f=g[t+188>>2],h[n+92>>2]=0,g[n+88>>2]=A+x(d+x(v+x(f*P))),g[n+84>>2]=M+x(_+x(p+x(f*O))),g[n+80>>2]=D+x(c+x(l+x(f*I))),j=0|r[h[h[e>>2]+20>>2]](e),h[n+72>>2]=0,h[n+76>>2]=0,h[n+64>>2]=0,h[n+68>>2]=0,r[h[h[j>>2]+16>>2]](j,n+96|0,n+80|0,n- -64|0),h[n+76>>2]=0,h[n+72>>2]=u,h[n+68>>2]=o,h[n+64>>2]=i,h[n+60>>2]=0,h[n+56>>2]=s,h[n+52>>2]=U,h[n+48>>2]=a,c=g[t+196>>2],l=g[t+192>>2],e=0|r[h[h[e>>2]+20>>2]](e),h[n+40>>2]=0,h[n+44>>2]=0,h[n+32>>2]=0,h[n+36>>2]=0,r[h[h[e>>2]+68>>2]](e,t+936|0,n- -64|0,n+48|0,B,B,l,c,n+32|0,1,x(10)))}z=n+176|0},r[103]=function(e){var t=0,n=0,i=0,o=0;if((0|(t=h[248+(e|=0)>>2]))>=1)for(;;){e:{t:if(i=h[h[e+256>>2]+(n<<2)>>2],!((o=h[i+220>>2]+-2|0)>>>0>3))switch(o-1|0){case 0:case 1:break t;default:break e}ct(i),t=h[e+248>>2]}if(!((0|(n=n+1|0))<(0|t)))break}},r[104]=_r,r[105]=function(e,t){e|=0,t=x(t);var n,i=0,o=0;if(z=n=z-16|0,r[h[5253]](2328),h[e+296>>2]>=1)for(;o=h[h[e+304>>2]+(i<<2)>>2],r[h[h[o>>2]+8>>2]](o,e,t),(0|(i=i+1|0))<h[e+296>>2];);r[h[5254]](),z=n+16|0},r[106]=Je,r[107]=function(e){Eo(Je(e|=0))},r[108]=function(e,t,n,i,o,s){e|=0,t|=0,n|=0,i|=0,o|=0;var c=0,l=0,p=0,u=0,_=0,f=0,d=0,v=0;if(!((0|(s|=0))>=0))return s=h[e+8>>2],void x(r[h[h[s>>2]+12>>2]](s,t,n,i,o,h[e+12>>2],h[e+16>>2],h[e+4>>2],h[e+20>>2],h[e+24>>2]));e:{if((0|(l=h[e+16>>2]))>=1)for(f=h[e+12>>2];;){if(_=h[(d=f+(c<<2)|0)>>2],(0|(p=h[h[_+28>>2]+208>>2]))<=-1&&(p=h[h[_+32>>2]+208>>2]),(0|s)==(0|p))break e;if(!((0|(c=c+1|0))<(0|l)))break}d=0}if(_=0,(0|c)<(0|l))for(v=h[e+12>>2];f=h[v+(c<<2)>>2],(0|(p=h[h[f+28>>2]+208>>2]))<=-1&&(p=h[h[f+32>>2]+208>>2]),_=((0|s)==(0|p))+_|0,(0|l)!=(0|(c=c+1|0)););if(c=h[e+4>>2],h[c+80>>2]<2)s=h[e+8>>2],x(r[h[h[s>>2]+12>>2]](s,t,n,i,o,d,_,c,h[e+20>>2],h[e+24>>2]));else{if(!((0|n)<1))for(s=h[e+36>>2],c=h[e+32>>2];;){if(v=(u<<2)+t|0,(0|s)==(0|c))if((0|s)>=(0|(p=s?s<<1:1)))c=s;else{if(c=0,l=0,p&&(h[6657]=h[6657]+1,l=0|r[h[5255]](p<<2,16),s=h[e+32>>2]),(0|s)>=1)for(;h[(f=c<<2)+l>>2]=h[h[e+40>>2]+f>>2],(0|(c=c+1|0))!=(0|s););(c=h[e+40>>2])&&(m[e+44|0]&&(c&&(h[6658]=h[6658]+1,r[h[5256]](c)),s=h[e+32>>2]),h[e+40>>2]=0),c=s,h[e+40>>2]=l,a[e+44|0]=1,h[e+36>>2]=p,s=p}if(h[h[e+40>>2]+(c<<2)>>2]=h[v>>2],c=c+1|0,h[e+32>>2]=c,(0|(u=u+1|0))==(0|n))break}if((0|o)>=1)for(s=h[e+56>>2],c=h[e+52>>2],u=0;;){if(p=(u<<2)+i|0,(0|s)==(0|c))if((0|s)>=(0|(t=s?s<<1:1)))c=s;else{if(c=0,l=0,t&&(h[6657]=h[6657]+1,l=0|r[h[5255]](t<<2,16),s=h[e+52>>2]),(0|s)>=1)for(;h[(n=c<<2)+l>>2]=h[n+h[e+60>>2]>>2],(0|(c=c+1|0))!=(0|s););(n=h[e+60>>2])&&(m[e+64|0]&&(n&&(h[6658]=h[6658]+1,r[h[5256]](n)),s=h[e+52>>2]),h[e+60>>2]=0),c=s,h[e+60>>2]=l,a[e+64|0]=1,h[e+56>>2]=t,s=t}if(h[h[e+60>>2]+(c<<2)>>2]=h[p>>2],c=c+1|0,h[e+52>>2]=c,(0|(u=u+1|0))==(0|o))break}if(_)for(s=h[e+76>>2],c=h[e+72>>2],u=0;;){if(i=(u<<2)+d|0,(0|s)==(0|c))if((0|s)>=(0|(t=s?s<<1:1)))c=s;else{if(c=0,l=0,t&&(h[6657]=h[6657]+1,l=0|r[h[5255]](t<<2,16),s=h[e+72>>2]),(0|s)>=1)for(;h[(n=c<<2)+l>>2]=h[n+h[e+80>>2]>>2],(0|(c=c+1|0))!=(0|s););(n=h[e+80>>2])&&(m[e+84|0]&&(n&&(h[6658]=h[6658]+1,r[h[5256]](n)),s=h[e+72>>2]),h[e+80>>2]=0),c=s,h[e+80>>2]=l,a[e+84|0]=1,h[e+76>>2]=t,s=t}if(h[h[e+80>>2]+(c<<2)>>2]=h[i>>2],c=c+1|0,h[e+72>>2]=c,(0|_)==(0|(u=u+1|0)))break}else c=h[e+72>>2];(h[e+52>>2]+c|0)>h[h[e+4>>2]+80>>2]&&et(e)}},r[109]=yo,r[110]=function(e,t){e|=0;var n,i,o=0;return n=h[(t|=0)>>2],i=h[e+84>>2],!(h[t+8>>2]&h[e+8>>2])|!(h[e+12>>2]&h[t+4>>2])|(0|n)==(0|i)||(e=h[e+96>>2],o=0|r[h[h[e>>2]+28>>2]](e,i,n)),0|o},r[111]=function(e,t,n){e|=0,t|=0,n|=0;var i=0,o=x(0),r=x(0),a=x(0),s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0);return o=x(1),(0|(i=h[t>>2]))==h[e+84>>2]|4&m[i+204|0]|x(x(x(x(g[e+32>>2]-g[e+16>>2])*g[t+8>>2])+x(x(g[e+36>>2]-g[e+20>>2])*g[t+12>>2]))+x(x(g[e+40>>2]-g[e+24>>2])*g[t+16>>2]))>=x(-g[e+88>>2])||(s=h[t+40>>2],h[e+80>>2]=i,h[e+4>>2]=s,n?(i=h[4+(n=t+8|0)>>2],h[e+48>>2]=h[n>>2],h[e+52>>2]=i,i=h[n+12>>2],h[e+56>>2]=h[n+8>>2],h[e+60>>2]=i):(c=g[i+12>>2],l=g[i+8>>2],p=g[i+28>>2],u=g[i+20>>2],_=g[i+24>>2],f=g[i+44>>2],d=g[i+36>>2],v=g[i+40>>2],A=g[i+4>>2],o=g[t+16>>2],r=g[t+8>>2],a=g[t+12>>2],h[e+60>>2]=0,g[e+56>>2]=x(x(r*d)+x(a*v))+x(o*f),g[e+52>>2]=x(x(r*u)+x(a*_))+x(o*p),g[e+48>>2]=x(x(A*r)+x(l*a))+x(c*o)),i=h[t+28>>2],h[(n=e- -64|0)>>2]=h[t+24>>2],h[n+4>>2]=i,n=h[t+36>>2],h[e+72>>2]=h[t+32>>2],h[e+76>>2]=n,o=g[t+40>>2]),x(o)},r[112]=Ze,r[113]=Ar,r[114]=Hr,r[115]=function(e,t,n,i,o){o=x(o)},r[116]=function(e,t){t|=0;var n=0,i=0,o=0;ke(e|=0,h[e+28>>2]+4|0,h[e+32>>2]+4|0),h[t>>2]=0,h[t+4>>2]=0;e:{t:{n:if(!((n=h[e+956>>2])>>>0>4))switch(i=2,n-1|0){case 3:break t;case 0:case 1:case 2:break n;default:break e}i=1}h[t>>2]=i,n=i}m[e+792|0]&&(n=n+1|0,h[t>>2]=n),m[e+798|0]&&(n=n+1|0,h[t>>2]=n),o=t;e:{t:{n:if(!((i=h[e+960>>2])>>>0>4)){i:switch(i-1|0){case 0:case 1:case 2:break n;case 3:break i;default:break e}n=n+2|0;break t}n=n+1|0}h[o>>2]=n}m[e+793|0]&&(n=n+1|0,h[t>>2]=n),m[e+799|0]&&(n=n+1|0,h[t>>2]=n),o=t;e:{t:{n:if(!((i=h[e+964>>2])>>>0>4)){i:switch(i-1|0){case 0:case 1:case 2:break n;case 3:break i;default:break e}n=n+2|0;break t}n=n+1|0}h[o>>2]=n}m[e+794|0]&&(n=n+1|0,h[t>>2]=n),m[e+800|0]&&(h[t>>2]=n+1),Ks(e,0);e:{t:{n:if(!((i=h[e+1052>>2])>>>0>4))switch(n=2,i-1|0){case 3:break t;case 0:case 1:case 2:break n;default:break e}n=1}h[t>>2]=h[t>>2]+n}m[e+996|0]&&(h[t>>2]=h[t>>2]+1),m[e+1016|0]&&(h[t>>2]=h[t>>2]+1),Ks(e,1);e:{t:{n:if(!((i=h[e+1140>>2])>>>0>4))switch(n=2,i-1|0){case 3:break t;case 0:case 1:case 2:break n;default:break e}n=1}h[t>>2]=h[t>>2]+n}m[e+1084|0]&&(h[t>>2]=h[t>>2]+1),m[e+1104|0]&&(h[t>>2]=h[t>>2]+1),n=2,Ks(e,2);e:{t:{n:if(!((i=h[e+1228>>2])>>>0>4))switch(i-1|0){case 3:break t;case 0:case 1:case 2:break n;default:break e}n=1}h[t>>2]=h[t>>2]+n}m[e+1172|0]&&(h[t>>2]=h[t>>2]+1),m[e+1192|0]&&(h[t>>2]=h[t>>2]+1)},r[117]=function(e,t){var n,i,o,r,a,s;U(n=e|=0,i=t|=0,function(e,t,n,i,o,r,a,s){var c,l=0,p=0,u=0,_=0,f=0,d=0,v=0;if(z=c=z-32|0,h[c+24>>2]=h[835],l=h[834],h[c+16>>2]=h[833],h[c+20>>2]=l,(l=h[e+1232>>2])>>>0<=5){e:{t:{switch(l-1|0){default:h[c+16>>2]=0,u=2,p=0;break t;case 0:h[c+16>>2]=0,u=1,l=2;break e;case 1:p=1,h[c+16>>2]=1,u=2,l=0;break e;case 2:p=1,h[c+16>>2]=1,l=2;break e;case 3:p=2,h[c+16>>2]=2,u=1,l=0;break e;case 4:}h[c+16>>2]=2,p=2}l=1}h[c+24>>2]=u,h[c+20>>2]=l}for(u=0;l=y(p,88)+e|0,(m[l+1016|0]||h[l+1052>>2]|m[l+996|0])&&(v=h[4+(f=1388+(_=(p<<4)+e|0)|0)>>2],h[c+8>>2]=h[f>>2],h[c+12>>2]=v,f=h[4+(_=_+1380|0)>>2],h[c>>2]=h[_>>2],h[c+4>>2]=f,1&(p=h[e+1456>>2]>>12+(p<<2))||(h[l+984>>2]=h[h[t+32>>2]>>2]),2&p||(h[l+980>>2]=h[t+4>>2]),4&p||(h[l+992>>2]=h[h[t+32>>2]>>2]),8&p||(h[l+988>>2]=h[t+4>>2]),d=je(e,l+968|0,n,i,o,r,a,s,t,d,c,1,0)+d|0),3!=(0|(u=u+1|0));)p=h[(c+16|0)+(u<<2)>>2];return z=c+32|0,d}(n,i,o=(t=h[e+28>>2])+4|0,r=(e=h[e+32>>2])+4|0,a=t+372|0,s=e+372|0,t=t+388|0,e=e+388|0),o,r,a,s,t,e)},r[118]=Xe,r[119]=function(e,t,n,i){e|=0,t|=0,n=x(n);var o=0;e:{if((i|=0)>>>0<=2){if((t=t+-1|0)>>>0>3)break e;switch(t-1|0){case 0:return g[728+((t=i<<2)+e|0)>>2]=n,void(h[e+1456>>2]=h[e+1456>>2]|2<<t);case 2:return g[744+((t=i<<2)+e|0)>>2]=n,void(h[e+1456>>2]=h[e+1456>>2]|1<<t);default:return g[760+((t=i<<2)+e|0)>>2]=n,void(h[e+1456>>2]=h[e+1456>>2]|8<<t);case 1:}return g[776+((t=i<<2)+e|0)>>2]=n,void(h[e+1456>>2]=h[e+1456>>2]|4<<t)}if(!((o=i+-3|0)>>>0>2||(t=t+-1|0)>>>0>3)){switch(t-1|0){case 0:return g[980+(y(o,88)+e|0)>>2]=n,void(h[e+1456>>2]=h[e+1456>>2]|2<<(i<<2));case 2:return g[984+(y(o,88)+e|0)>>2]=n,void(h[e+1456>>2]=h[e+1456>>2]|1<<(i<<2));default:return g[988+(y(o,88)+e|0)>>2]=n,void(h[e+1456>>2]=h[e+1456>>2]|8<<(i<<2));case 1:}g[992+(y(o,88)+e|0)>>2]=n,h[e+1456>>2]=h[e+1456>>2]|4<<(i<<2)}}},r[120]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0);if(n>>>0<=2){if((t=t+-1|0)>>>0>3)return x(x(0));switch(t-1|0){case 0:return x(g[728+((n<<2)+e|0)>>2]);case 2:return x(g[744+((n<<2)+e|0)>>2]);default:return x(g[760+((n<<2)+e|0)>>2]);case 1:}return x(g[776+((n<<2)+e|0)>>2])}if(!((n=n+-3|0)>>>0>2||(t=t+-1|0)>>>0>3)){switch(t-1|0){case 0:return x(g[980+(y(n,88)+e|0)>>2]);case 2:return x(g[984+(y(n,88)+e|0)>>2]);default:return x(g[988+(y(n,88)+e|0)>>2]);case 1:}i=g[992+(y(n,88)+e|0)>>2]}return x(i)},r[121]=function(){return 644},r[122]=function(e,t,n){return gr(e|=0,t|=0,n|=0),h[t+52>>2]=h[e+48>>2],h[t+56>>2]=h[e+52>>2],h[t+60>>2]=h[e+56>>2],h[t+64>>2]=h[e+60>>2],h[t+68>>2]=h[e- -64>>2],h[t+72>>2]=h[e+68>>2],h[t+76>>2]=h[e+72>>2],h[t+80>>2]=h[e+76>>2],h[t+84>>2]=h[e+80>>2],h[t+88>>2]=h[e+84>>2],h[t+92>>2]=h[e+88>>2],h[t+96>>2]=h[e+92>>2],h[t+100>>2]=h[e+96>>2],h[t+104>>2]=h[e+100>>2],h[t+108>>2]=h[e+104>>2],h[t+112>>2]=h[e+108>>2],h[t+116>>2]=h[e+112>>2],h[t+120>>2]=h[e+116>>2],h[t+124>>2]=h[e+120>>2],h[t+128>>2]=h[e+124>>2],h[t+132>>2]=h[e+128>>2],h[t+136>>2]=h[e+132>>2],h[t+140>>2]=h[e+136>>2],h[t+144>>2]=h[e+140>>2],h[t+148>>2]=h[e+144>>2],h[t+152>>2]=h[e+148>>2],h[t+156>>2]=h[e+152>>2],h[t+160>>2]=h[e+156>>2],h[t+164>>2]=h[e+160>>2],h[t+168>>2]=h[e+164>>2],h[t+172>>2]=h[e+168>>2],h[t+176>>2]=h[e+172>>2],h[t+428>>2]=h[e+968>>2],h[t+412>>2]=h[e+972>>2],h[t+444>>2]=h[e+976>>2],h[t+460>>2]=h[e+980>>2],h[t+476>>2]=h[e+984>>2],h[t+492>>2]=h[e+988>>2],h[t+508>>2]=h[e+992>>2],h[t+524>>2]=h[e+1e3>>2],h[t+540>>2]=h[e+1004>>2],h[t+556>>2]=h[e+1012>>2],h[t+572>>2]=h[e+1020>>2],h[t+588>>2]=h[e+1028>>2],h[t+604>>2]=h[e+1036>>2],h[t+432>>2]=h[e+1056>>2],h[t+416>>2]=h[e+1060>>2],h[t+448>>2]=h[e+1064>>2],h[t+464>>2]=h[e+1068>>2],h[t+480>>2]=h[e+1072>>2],h[t+496>>2]=h[e+1076>>2],h[t+512>>2]=h[e+1080>>2],h[t+528>>2]=h[e+1088>>2],h[t+544>>2]=h[e+1092>>2],h[t+560>>2]=h[e+1100>>2],h[t+576>>2]=h[e+1108>>2],h[t+592>>2]=h[e+1116>>2],h[t+608>>2]=h[e+1124>>2],h[t+436>>2]=h[e+1144>>2],h[t+420>>2]=h[e+1148>>2],h[t+452>>2]=h[e+1152>>2],h[t+468>>2]=h[e+1156>>2],h[t+484>>2]=h[e+1160>>2],h[t+500>>2]=h[e+1164>>2],h[t+516>>2]=h[e+1168>>2],h[t+532>>2]=h[e+1176>>2],h[t+548>>2]=h[e+1180>>2],h[t+564>>2]=h[e+1188>>2],h[t+580>>2]=h[e+1196>>2],h[t+596>>2]=h[e+1204>>2],n=h[e+1212>>2],h[t+440>>2]=0,h[t+612>>2]=n,h[t+616>>2]=0,h[t+600>>2]=0,h[t+584>>2]=0,h[t+568>>2]=0,h[t+552>>2]=0,h[t+536>>2]=0,h[t+520>>2]=0,h[t+504>>2]=0,h[t+488>>2]=0,h[t+472>>2]=0,h[t+456>>2]=0,h[t+424>>2]=0,a[t+620|0]=m[e+996|0],a[t+624|0]=m[e+1008|0],a[t+628|0]=m[e+1016|0],a[t+632|0]=m[e+1024|0],a[t+636|0]=m[e+1032|0],a[t+621|0]=m[e+1084|0],a[t+625|0]=m[e+1096|0],a[t+629|0]=m[e+1104|0],a[t+633|0]=m[e+1112|0],a[t+637|0]=m[e+1120|0],a[t+622|0]=m[e+1172|0],a[t+626|0]=m[e+1184|0],a[t+630|0]=m[e+1192|0],a[t+634|0]=m[e+1200|0],n=m[e+1208|0],a[t+639|0]=0,a[t+635|0]=0,a[t+631|0]=0,a[t+627|0]=0,a[t+623|0]=0,a[t+638|0]=n,h[t+196>>2]=h[e+680>>2],h[t+200>>2]=h[e+684>>2],h[t+204>>2]=h[e+688>>2],h[t+208>>2]=h[e+692>>2],h[t+180>>2]=h[e+696>>2],h[t+184>>2]=h[e+700>>2],h[t+188>>2]=h[e+704>>2],h[t+192>>2]=h[e+708>>2],h[t+212>>2]=h[e+712>>2],h[t+216>>2]=h[e+716>>2],h[t+220>>2]=h[e+720>>2],h[t+224>>2]=h[e+724>>2],h[t+228>>2]=h[e+728>>2],h[t+232>>2]=h[e+732>>2],h[t+236>>2]=h[e+736>>2],h[t+240>>2]=h[e+740>>2],h[t+244>>2]=h[e+744>>2],h[t+248>>2]=h[e+748>>2],h[t+252>>2]=h[e+752>>2],h[t+256>>2]=h[e+756>>2],h[t+260>>2]=h[e+760>>2],h[t+264>>2]=h[e+764>>2],h[t+268>>2]=h[e+768>>2],h[t+272>>2]=h[e+772>>2],h[t+276>>2]=h[e+776>>2],h[t+280>>2]=h[e+780>>2],h[t+284>>2]=h[e+784>>2],h[t+288>>2]=h[e+788>>2],h[t+292>>2]=h[e+876>>2],h[t+296>>2]=h[e+880>>2],h[t+300>>2]=h[e+884>>2],h[t+304>>2]=h[e+888>>2],h[t+308>>2]=h[e+892>>2],h[t+312>>2]=h[e+896>>2],h[t+316>>2]=h[e+900>>2],h[t+320>>2]=h[e+904>>2],h[t+324>>2]=h[e+804>>2],h[t+328>>2]=h[e+808>>2],h[t+332>>2]=h[e+812>>2],h[t+336>>2]=h[e+816>>2],h[t+340>>2]=h[e+820>>2],h[t+344>>2]=h[e+824>>2],h[t+348>>2]=h[e+828>>2],h[t+352>>2]=h[e+832>>2],h[t+356>>2]=h[e+840>>2],h[t+360>>2]=h[e+844>>2],h[t+364>>2]=h[e+848>>2],h[t+368>>2]=h[e+852>>2],h[t+372>>2]=h[e+860>>2],h[t+376>>2]=h[e+864>>2],h[t+380>>2]=h[e+868>>2],h[t+384>>2]=h[e+872>>2],a[t+388|0]=m[e+792|0],a[t+392|0]=m[e+795|0],a[t+396|0]=m[e+798|0],a[t+400|0]=m[e+836|0],a[t+404|0]=m[e+856|0],a[t+389|0]=m[e+793|0],a[t+393|0]=m[e+796|0],a[t+397|0]=m[e+799|0],a[t+401|0]=m[e+837|0],a[t+405|0]=m[e+857|0],a[t+390|0]=m[e+794|0],a[t+394|0]=m[e+797|0],a[t+398|0]=m[e+800|0],a[t+402|0]=m[e+838|0],n=m[e+858|0],a[t+407|0]=0,a[t+403|0]=0,a[t+399|0]=0,a[t+395|0]=0,a[t+391|0]=0,a[t+406|0]=n,e=h[e+1232>>2],h[t+408>>2]=0,h[t+640>>2]=e,2972},r[123]=Ze,r[124]=Ar,r[125]=function(e){var t,n=0,i=0,o=0;z=t=z-48|0,m[1308+(e|=0)|0]&&(h[e+1056>>2]=0,h[e+992>>2]=0,h[e+928>>2]=0,h[e+712>>2]=0,h[e+716>>2]=0,h[e+720>>2]=0,h[e+724>>2]=0,ua(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0),r[h[h[e>>2]+44>>2]](e),o=h[4+(n=e+1292|0)>>2],h[t+40>>2]=h[n>>2],h[t+44>>2]=o,i=h[e+1288>>2],h[t+32>>2]=h[e+1284>>2],h[t+36>>2]=i,i=h[n+4>>2],h[t+24>>2]=h[n>>2],h[t+28>>2]=i,n=h[e+1288>>2],h[t+16>>2]=h[e+1284>>2],h[t+20>>2]=n,g[e+696>>2]>=g[e+680>>2]&&(n=m[e+1300|0],i=h[(n?e+1064|0:e+1128|0)>>2],o=h[(n?e+1080|0:e+1144|0)>>2],n=h[(n?e+1096|0:e+1160|0)>>2],h[t+12>>2]=0,h[t+8>>2]=n,h[t+4>>2]=o,h[t>>2]=i,tc(e,e+176|0,t,t+32|0,t+16|0)),g[e+700>>2]>=g[e+684>>2]&&(n=m[e+1300|0],i=h[(n?e+1068|0:e+1132|0)>>2],o=h[(n?e+1084|0:e+1148|0)>>2],n=h[(n?e+1100|0:e+1164|0)>>2],h[t+12>>2]=0,h[t+8>>2]=n,h[t+4>>2]=o,h[t>>2]=i,tc(e,e+260|0,t,t+32|0,t+16|0)),g[e+704>>2]>=g[e+688>>2]&&(n=m[e+1300|0],i=h[(n?e+1072|0:e+1136|0)>>2],o=h[(n?e+1088|0:e+1152|0)>>2],n=h[(n?e+1104|0:e+1168|0)>>2],h[t+12>>2]=0,h[t+8>>2]=n,h[t+4>>2]=o,h[t>>2]=i,tc(e,e+344|0,t,t+32|0,t+16|0)),Gr(e,0)&&(i=h[4+(n=e+1216|0)>>2],h[t+8>>2]=h[n>>2],h[t+12>>2]=i,n=h[e+1212>>2],h[t>>2]=h[e+1208>>2],h[t+4>>2]=n,ec(e,e+428|0,t)),Gr(e,1)&&(i=h[4+(n=e+1232|0)>>2],h[t+8>>2]=h[n>>2],h[t+12>>2]=i,i=h[4+(n=e+1224|0)>>2],h[t>>2]=h[n>>2],h[t+4>>2]=i,ec(e,e+512|0,t)),Gr(e,2)&&(i=h[4+(n=e+1248|0)>>2],h[t+8>>2]=h[n>>2],h[t+12>>2]=i,i=h[4+(n=e+1240|0)>>2],h[t>>2]=h[n>>2],h[t+4>>2]=i,ec(e,e+596|0,t))),z=t+48|0},r[126]=function(e,t){t|=0;var n=0,i=0;m[1308+(e|=0)|0]?(h[t>>2]=0,h[t+4>>2]=0):(ua(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0),h[t>>2]=0,h[t+4>>2]=6,h[e+856>>2]|m[e+788|0]?(h[t>>2]=1,h[t+4>>2]=5,n=5,i=1):(n=6,i=0),(m[e+789|0]||h[e+860>>2])&&(n=n+-1|0,h[t+4>>2]=n,i=i+1|0,h[t>>2]=i),(m[e+790|0]||h[e+864>>2])&&(h[t+4>>2]=n+-1,h[t>>2]=i+1),Gr(e,0)&&(h[t>>2]=h[t>>2]+1,h[t+4>>2]=h[t+4>>2]+-1),Gr(e,1)&&(h[t>>2]=h[t>>2]+1,h[t+4>>2]=h[t+4>>2]+-1),Gr(e,2)&&(h[t>>2]=h[t>>2]+1,h[t+4>>2]=h[t+4>>2]+-1))},r[127]=He,r[128]=function(e,t,n,i){e|=0,t|=0,n=x(n);var o=0;e:{t:{n:{if((i|=0)>>>0<=2){if((t=t+-2|0)>>>0>2)break n;switch(t-1|0){default:g[756+((i<<2)+e|0)>>2]=n;break t;case 1:g[772+((i<<2)+e|0)>>2]=n;break e;case 0:}return g[740+((i<<2)+e|0)>>2]=n,void(h[e+1304>>2]=h[e+1304>>2]|1<<y(i,3))}if(!((o=i+-3|0)>>>0>2||(t=t+-2|0)>>>0>2)){switch(t-1|0){default:g[900+((o<<6)+e|0)>>2]=n;break t;case 1:g[904+((o<<6)+e|0)>>2]=n;break e;case 0:}g[896+((o<<6)+e|0)>>2]=n,h[e+1304>>2]=h[e+1304>>2]|1<<y(i,3)}}return}return void(h[e+1304>>2]=h[e+1304>>2]|4<<y(i,3))}h[e+1304>>2]=h[e+1304>>2]|2<<y(i,3)},r[129]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0);if(n>>>0<=2){if((t=t+-2|0)>>>0>2)return x(x(0));switch(t-1|0){default:return x(g[756+((n<<2)+e|0)>>2]);case 1:return x(g[772+((n<<2)+e|0)>>2]);case 0:}return x(g[740+((n<<2)+e|0)>>2])}if(!((n=n+-3|0)>>>0>2||(t=t+-2|0)>>>0>2)){switch(t-1|0){default:return x(g[900+((n<<6)+e|0)>>2]);case 1:return x(g[904+((n<<6)+e|0)>>2]);case 0:}i=g[896+((n<<6)+e|0)>>2]}return x(i)},r[130]=function(){return 252},r[131]=function(e,t,n){return gr(e|=0,t|=0,n|=0),h[t+52>>2]=h[e+48>>2],h[t+56>>2]=h[e+52>>2],h[t+60>>2]=h[e+56>>2],h[t+64>>2]=h[e+60>>2],h[t+68>>2]=h[e- -64>>2],h[t+72>>2]=h[e+68>>2],h[t+76>>2]=h[e+72>>2],h[t+80>>2]=h[e+76>>2],h[t+84>>2]=h[e+80>>2],h[t+88>>2]=h[e+84>>2],h[t+92>>2]=h[e+88>>2],h[t+96>>2]=h[e+92>>2],h[t+100>>2]=h[e+96>>2],h[t+104>>2]=h[e+100>>2],h[t+108>>2]=h[e+104>>2],h[t+112>>2]=h[e+108>>2],h[t+116>>2]=h[e+112>>2],h[t+120>>2]=h[e+116>>2],h[t+124>>2]=h[e+120>>2],h[t+128>>2]=h[e+124>>2],h[t+132>>2]=h[e+128>>2],h[t+136>>2]=h[e+132>>2],h[t+140>>2]=h[e+136>>2],h[t+144>>2]=h[e+140>>2],h[t+148>>2]=h[e+144>>2],h[t+152>>2]=h[e+148>>2],h[t+156>>2]=h[e+152>>2],h[t+160>>2]=h[e+156>>2],h[t+164>>2]=h[e+160>>2],h[t+168>>2]=h[e+164>>2],h[t+172>>2]=h[e+168>>2],h[t+176>>2]=h[e+172>>2],h[t+228>>2]=h[e+868>>2],h[t+212>>2]=h[e+872>>2],h[t+196>>2]=h[e+680>>2],h[t+180>>2]=h[e+696>>2],h[t+232>>2]=h[e+932>>2],h[t+216>>2]=h[e+936>>2],h[t+200>>2]=h[e+684>>2],h[t+184>>2]=h[e+700>>2],h[t+236>>2]=h[e+996>>2],h[t+220>>2]=h[e+1e3>>2],h[t+204>>2]=h[e+688>>2],h[t+188>>2]=h[e+704>>2],h[t+244>>2]=m[e+1300|0],h[t+248>>2]=m[e+1301|0],3108},r[132]=function(e){e|=0;var t=x(0),n=x(0);t=x(1),(n=g[h[e+32>>2]+404>>2])!=x(0)&&(t=g[h[e+28>>2]+404>>2],t=x(t/x(t+n))),h[e+1296>>2]=0,n=x(x(1)-t),g[e+1292>>2]=x(t*g[e+1120>>2])+x(n*g[e+1184>>2]),g[e+1288>>2]=x(t*g[e+1116>>2])+x(n*g[e+1180>>2]),g[e+1284>>2]=x(t*g[e+1112>>2])+x(n*g[e+1176>>2])},r[133]=function(e){return h[1304+(e|=0)>>2]},r[134]=Ar,r[135]=function(e,t){k(e|=0,t|=0),He(e,t)},r[136]=function(){return 348},r[137]=function(e,t,n){return gr(e|=0,t|=0,n|=0),h[t+52>>2]=h[e+48>>2],h[t+56>>2]=h[e+52>>2],h[t+60>>2]=h[e+56>>2],h[t+64>>2]=h[e+60>>2],h[t+68>>2]=h[e- -64>>2],h[t+72>>2]=h[e+68>>2],h[t+76>>2]=h[e+72>>2],h[t+80>>2]=h[e+76>>2],h[t+84>>2]=h[e+80>>2],h[t+88>>2]=h[e+84>>2],h[t+92>>2]=h[e+88>>2],h[t+96>>2]=h[e+92>>2],h[t+100>>2]=h[e+96>>2],h[t+104>>2]=h[e+100>>2],h[t+108>>2]=h[e+104>>2],h[t+112>>2]=h[e+108>>2],h[t+116>>2]=h[e+112>>2],h[t+120>>2]=h[e+116>>2],h[t+124>>2]=h[e+120>>2],h[t+128>>2]=h[e+124>>2],h[t+132>>2]=h[e+128>>2],h[t+136>>2]=h[e+132>>2],h[t+140>>2]=h[e+136>>2],h[t+144>>2]=h[e+140>>2],h[t+148>>2]=h[e+144>>2],h[t+152>>2]=h[e+148>>2],h[t+156>>2]=h[e+152>>2],h[t+160>>2]=h[e+156>>2],h[t+164>>2]=h[e+160>>2],h[t+168>>2]=h[e+164>>2],h[t+172>>2]=h[e+168>>2],h[t+176>>2]=h[e+172>>2],h[t+228>>2]=h[e+868>>2],h[t+212>>2]=h[e+872>>2],h[t+196>>2]=h[e+680>>2],h[t+180>>2]=h[e+696>>2],h[t+232>>2]=h[e+932>>2],h[t+216>>2]=h[e+936>>2],h[t+200>>2]=h[e+684>>2],h[t+184>>2]=h[e+700>>2],h[t+236>>2]=h[e+996>>2],h[t+220>>2]=h[e+1e3>>2],h[t+204>>2]=h[e+688>>2],h[t+188>>2]=h[e+704>>2],h[t+244>>2]=m[e+1300|0],h[t+248>>2]=m[e+1301|0],h[t+276>>2]=h[e+1316>>2],h[t+324>>2]=h[e+1364>>2],h[t+252>>2]=m[e+1309|0],h[t+300>>2]=h[e+1340>>2],h[t+280>>2]=h[e+1320>>2],h[t+328>>2]=h[e+1368>>2],h[t+256>>2]=m[e+1310|0],h[t+304>>2]=h[e+1344>>2],h[t+284>>2]=h[e+1324>>2],h[t+332>>2]=h[e+1372>>2],h[t+260>>2]=m[e+1311|0],h[t+308>>2]=h[e+1348>>2],h[t+288>>2]=h[e+1328>>2],h[t+336>>2]=h[e+1376>>2],h[t+264>>2]=m[e+1312|0],h[t+312>>2]=h[e+1352>>2],h[t+292>>2]=h[e+1332>>2],h[t+340>>2]=h[e+1380>>2],h[t+268>>2]=m[e+1313|0],h[t+316>>2]=h[e+1356>>2],h[t+296>>2]=h[e+1336>>2],h[t+344>>2]=h[e+1384>>2],h[t+272>>2]=m[e+1314|0],h[t+320>>2]=h[e+1360>>2],3244},r[138]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0);i=h[e+28>>2],d=g[i+36>>2],v=g[i+20>>2],A=g[i+4>>2],y=g[i+40>>2],b=g[i+24>>2],C=g[i+8>>2],r=g[i+60>>2],s=g[i+44>>2],c=g[i+28>>2],a=g[i+56>>2],l=g[i+52>>2],p=g[i+12>>2],u=g[n+8>>2],_=g[n>>2],f=g[n+4>>2],m=g[t+8>>2],o=g[t>>2],S=g[t+4>>2],h[e+108>>2]=0,h[e+92>>2]=0,h[e+76>>2]=0,h[e+60>>2]=0,a=x(-a),g[e+104>>2]=x(x(x(p*x(0))+x(c*x(0)))+x(s*x(0)))+x(x(x(c*a)-x(p*l))-x(s*r)),g[e+100>>2]=x(x(x(C*x(0))+x(b*x(0)))+x(y*x(0)))+x(x(x(b*a)-x(C*l))-x(y*r)),g[e+96>>2]=x(x(x(A*x(0))+x(v*x(0)))+x(d*x(0)))+x(x(x(v*a)-x(A*l))-x(d*r)),a=o,o=x(x(1)/x(T(x(x(x(o*o)+x(S*S))+x(m*m))))),r=x(a*o),l=x(S*o),m=x(m*o),g[e+88>>2]=x(x(p*r)+x(c*l))+x(s*m),o=x(x(1)/x(T(x(x(x(_*_)+x(f*f))+x(u*u))))),_=x(_*o),f=x(f*o),u=x(u*o),g[e+84>>2]=x(x(p*_)+x(c*f))+x(s*u),g[e+72>>2]=x(x(r*C)+x(l*b))+x(m*y),g[e+68>>2]=x(x(_*C)+x(f*b))+x(u*y),g[e+56>>2]=x(x(A*r)+x(l*v))+x(m*d),g[e+52>>2]=x(d*u)+x(x(A*_)+x(v*f)),o=p,p=x(x(m*f)-x(l*u)),a=c,c=x(x(r*u)-x(m*_)),S=s,s=x(x(l*_)-x(r*f)),g[e+80>>2]=x(x(o*p)+x(a*c))+x(S*s),g[e- -64>>2]=x(s*y)+x(x(C*p)+x(b*c)),g[e+48>>2]=x(d*s)+x(x(A*p)+x(v*c)),t=h[e+32>>2],E=g[t+60>>2],P=g[t+56>>2],w=g[t+52>>2],d=g[t+36>>2],v=g[t+4>>2],A=g[t+20>>2],y=g[t+40>>2],b=g[t+8>>2],C=g[t+24>>2],o=g[t+44>>2],S=g[t+12>>2],a=g[t+28>>2],h[e+172>>2]=0,h[e+156>>2]=0,h[e+140>>2]=0,h[e+124>>2]=0,g[e+152>>2]=x(x(r*S)+x(l*a))+x(m*o),g[e+148>>2]=x(x(_*S)+x(f*a))+x(u*o),g[e+144>>2]=x(x(p*S)+x(c*a))+x(s*o),g[e+136>>2]=x(x(r*b)+x(l*C))+x(m*y),g[e+132>>2]=x(x(_*b)+x(f*C))+x(u*y),g[e+128>>2]=x(x(p*b)+x(c*C))+x(s*y),g[e+120>>2]=x(x(r*v)+x(l*A))+x(m*d),g[e+116>>2]=x(x(_*v)+x(f*A))+x(u*d),g[e+112>>2]=x(x(p*v)+x(c*A))+x(s*d),r=x(-P),g[e+168>>2]=x(x(x(S*x(0))+x(a*x(0)))+x(o*x(0)))+x(x(x(a*r)-x(S*w))-x(o*E)),g[e+164>>2]=x(x(x(b*x(0))+x(C*x(0)))+x(y*x(0)))+x(x(x(C*r)-x(b*w))-x(y*E)),g[e+160>>2]=x(x(x(v*x(0))+x(A*x(0)))+x(d*x(0)))+x(x(x(A*r)-x(v*w))-x(d*E)),nc(e)},r[139]=Ar,r[140]=Ar,r[141]=function(e){e|=0;var t,n=0,i=0,o=x(0),r=x(0),a=x(0),s=0,c=x(0),l=x(0),p=x(0),u=0,_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=0;for(z=t=z-144|0,h[e+36>>2]=0,h[t+136>>2]=0,h[t+140>>2]=0,h[t+128>>2]=0,h[t+132>>2]=0;h[(E=(t+128|0)+(u<<2)|0)>>2]=1065353216,i=h[e+28>>2],h[t+80>>2]=h[i+4>>2],h[t+84>>2]=h[i+20>>2],n=h[i+36>>2],h[t+92>>2]=0,h[t+88>>2]=n,h[t+96>>2]=h[i+8>>2],h[t+100>>2]=h[i+24>>2],n=h[i+40>>2],h[t+108>>2]=0,h[t+104>>2]=n,h[t+112>>2]=h[i+12>>2],h[t+116>>2]=h[i+28>>2],n=h[i+44>>2],h[t+124>>2]=0,h[t+120>>2]=n,n=h[e+32>>2],h[t+32>>2]=h[n+4>>2],h[t+36>>2]=h[n+20>>2],s=h[n+36>>2],h[t+44>>2]=0,h[t+40>>2]=s,h[t+48>>2]=h[n+8>>2],h[t+52>>2]=h[n+24>>2],s=h[n+40>>2],h[t+60>>2]=0,h[t+56>>2]=s,h[t+64>>2]=h[n+12>>2],h[t+68>>2]=h[n+28>>2],s=h[n+44>>2],h[t+76>>2]=0,h[t+72>>2]=s,c=g[i+52>>2],_=g[i+12>>2],f=g[i+4>>2],m=g[i+8>>2],l=g[i+56>>2],d=g[i+28>>2],v=g[i+20>>2],A=g[i+24>>2],p=g[i+60>>2],b=g[i+44>>2],C=g[i+36>>2],S=g[i+40>>2],o=g[e+308>>2],r=g[e+300>>2],a=g[e+304>>2],h[t+28>>2]=0,g[t+24>>2]=x(p+x(x(x(r*C)+x(a*S))+x(o*b)))-p,g[t+20>>2]=x(l+x(x(x(r*v)+x(a*A))+x(o*d)))-l,g[t+16>>2]=x(c+x(x(x(r*f)+x(a*m))+x(o*_)))-c,c=g[n+52>>2],_=g[n+12>>2],f=g[n+4>>2],m=g[n+8>>2],l=g[n+56>>2],d=g[n+28>>2],v=g[n+20>>2],A=g[n+24>>2],p=g[n+60>>2],b=g[n+44>>2],C=g[n+36>>2],S=g[n+40>>2],o=g[e+324>>2],r=g[e+316>>2],a=g[e+320>>2],h[t+12>>2]=0,g[t+8>>2]=x(p+x(x(x(r*C)+x(a*S))+x(o*b)))-p,g[t+4>>2]=x(l+x(x(x(r*v)+x(a*A))+x(o*d)))-l,g[t>>2]=x(c+x(x(x(r*f)+x(a*m))+x(o*_)))-c,Ga(48+(y(u,84)+e|0)|0,t+80|0,t+32|0,t+16|0,t,t+128|0,i+456|0,g[i+404>>2],n+456|0,g[n+404>>2]),h[E>>2]=0,3!=(0|(u=u+1|0)););z=t+144|0},r[142]=function(e,t){t|=0,e=m[344+(e|=0)|0]?0:3,h[t+4>>2]=e,h[t>>2]=e},r[143]=function(e,t){B(e|=0,t|=0,h[e+28>>2]+4|0,h[e+32>>2]+4|0)},r[144]=function(e,t,n,i){if(e|=0,t|=0,n=x(n),-1==(0|(i|=0))&&!((t=t+-1|0)>>>0>3)){switch(t-2|0){default:return g[e+336>>2]=n,void(h[e+332>>2]=1|h[e+332>>2]);case 0:case 1:}g[e+340>>2]=n,h[e+332>>2]=2|h[e+332>>2]}},r[145]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0);if(i=x(34028234663852886e22),-1==(0|n)&&!((t=t+-1|0)>>>0>3)){switch(t-2|0){default:return x(g[e+336>>2]);case 0:case 1:}i=g[e+340>>2]}return x(i)},r[146]=Ue,r[147]=function(e,t,n){return gr(e|=0,t|=0,n|=0),h[t+52>>2]=h[e+300>>2],h[t+56>>2]=h[e+304>>2],h[t+60>>2]=h[e+308>>2],h[t+64>>2]=h[e+312>>2],h[t+68>>2]=h[e+316>>2],h[t+72>>2]=h[e+320>>2],h[t+76>>2]=h[e+324>>2],h[t+80>>2]=h[e+328>>2],3488},r[148]=function(e){return h[332+(e|=0)>>2]},r[149]=function(e){e|=0,h[5608]=2012,(e=h[5747])&&(m[22992]&&e&&(h[6658]=h[6658]+1,r[h[5256]](e)),h[5747]=0),a[22992]=1,h[5745]=0,h[5746]=0,h[5747]=0,Dr(22432)},r[150]=or,r[151]=Hr,r[152]=Qs,r[153]=gr,r[154]=Ar,r[155]=function(e,t){e|=0,t|=0;var n=x(0),i=x(0),o=x(0);if(m[e+48|0])return h[t>>2]=0,void(h[t+4>>2]=0);h[t>>2]=4,h[t+4>>2]=2,Xs(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0),function(e){var t=x(0),n=x(0),i=x(0),o=x(0),r=x(0);if(a[e+297|0]=0,h[e+1088>>2]=0,(i=g[e+192>>2])<=(o=g[e+196>>2])){if(t=g[e+892>>2],n=g[e+908>>2],r=g[e+924>>2],n=So(x(x(x(g[e+832>>2]*t)+x(g[e+848>>2]*n))+x(g[e+864>>2]*r)),x(x(x(g[e+828>>2]*t)+x(g[e+844>>2]*n))+x(g[e+860>>2]*r))),i>=o||(n<i?((t=Io(x(i-n),x(6.2831854820251465)))<x(-3.1415927410125732)?t=x(t+x(6.2831854820251465)):t>x(3.1415927410125732)&&(t=x(t+x(-6.2831854820251465))),r=x(b(t)),(t=Io(x(o-n),x(6.2831854820251465)))<x(-3.1415927410125732)?t=x(t+x(6.2831854820251465)):t>x(3.1415927410125732)&&(t=x(t+x(-6.2831854820251465))),n=r<x(b(t))?n:x(n+x(6.2831854820251465))):n>o&&((t=Io(x(n-o),x(6.2831854820251465)))<x(-3.1415927410125732)?t=x(t+x(6.2831854820251465)):t>x(3.1415927410125732)&&(t=x(t+x(-6.2831854820251465))),r=x(b(t)),(t=Io(x(n-i),x(6.2831854820251465)))<x(-3.1415927410125732)?t=x(t+x(6.2831854820251465)):t>x(3.1415927410125732)&&(t=x(t+x(-6.2831854820251465))),n=x(b(t))<r?x(n+x(-6.2831854820251465)):n)),g[e+1084>>2]=n,n<i)return a[e+297|0]=1,void(g[e+1088>>2]=n-i);n>o&&(a[e+297|0]=1,g[e+1088>>2]=n-o)}}(e),a[e+296|0]=0,i=g[e+1032>>2],h[e+1080>>2]=h[e+1032>>2];e:{t:{n:{if((o=g[e+184>>2])<=(n=g[e+188>>2])){if(n<i)break n;if((n=o)>i)break n}if(h[e+1032>>2]=0,m[e+1096|0])break t;break e}a[e+296|0]=1,g[e+1032>>2]=i-n}h[t>>2]=h[t>>2]+1,h[t+4>>2]=h[t+4>>2]+-1}(m[e+1112|0]||m[e+297|0])&&(h[t>>2]=h[t>>2]+1,h[t+4>>2]=h[t+4>>2]+-1)},r[156]=function(e,t){!function(e,t,n,i,o,r,l,p){var f,d,v,A=x(0),C=0,S=x(0),E=x(0),w=0,P=0,I=x(0),R=0,N=x(0),D=x(0),M=x(0),O=x(0),L=0,F=x(0),B=x(0),U=x(0),j=x(0),k=0,G=x(0),H=x(0),V=0,W=0,q=0,Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=0,$=0,ee=0,te=0,ne=0,ie=x(0),oe=x(0),re=x(0),ae=x(0),se=x(0),ce=x(0),le=x(0),pe=x(0),ue=x(0);z=f=z-48|0,v=m[e+180|0],ae=g[e+880>>2],se=g[e+944>>2],ce=g[e+876>>2],le=g[e+940>>2],pe=g[e+872>>2],ue=g[e+936>>2],N=(A=x(l+p))>x(0)?x(p/A):x(.5),O=x(x(1)-N),P=h[t+24>>2],G=g[e+920>>2],B=g[e+904>>2],U=g[e+856>>2],K=h[e+856>>2],Y=g[e+840>>2],$=h[e+840>>2],Q=g[e+888>>2],X=g[e+824>>2],ee=h[e+824>>2],(L=m[e+49|0])?(E=x(x(N*X)+x(O*Q)),S=x(x(N*Y)+x(O*B)),M=x(x(N*U)+x(O*G)),A=x(x(1)/x(T(x(x(x(E*E)+x(S*S))+x(M*M))))),S=x(S*A),I=x(E*A),F=x(M*A),x(b(F))>x(.7071067690849304)?(A=x(x(F*F)+x(S*S)),j=x(x(1)/x(T(A))),A=x(A*j),E=x(j*x(-F)),M=x(I*E),H=x(S*j),j=x(H*x(-I))):(E=x(x(I*I)+x(S*S)),A=x(x(1)/x(T(E))),M=x(E*A),D=x(A*x(-S)),j=x(F*D),E=x(I*A),A=x(E*x(-F))),u(S),$=s(0),u(I),ee=s(0),g[f+40>>2]=H,g[f+36>>2]=E,g[f+24>>2]=M,g[f+20>>2]=j,g[f+16>>2]=A,g[f+32>>2]=D,u(D),C=s(0),u(F),K=s(0)):(C=h[e+828>>2],w=h[e+844>>2],R=h[e+860>>2],h[f+44>>2]=0,h[f+40>>2]=R,h[f+36>>2]=w,h[f+32>>2]=C,w=h[e+832>>2],R=h[e+848>>2],W=h[e+864>>2],h[f+28>>2]=0,h[f+24>>2]=W,h[f+20>>2]=R,h[f+16>>2]=w),w=h[t+12>>2],h[w>>2]=C,h[w+4>>2]=h[f+36>>2],h[w+8>>2]=h[f+40>>2],h[(R=P<<2)+w>>2]=h[f+16>>2],h[(W=R+4|0)+w>>2]=h[f+20>>2],h[(k=R+8|0)+w>>2]=h[f+24>>2],C=h[t+20>>2],E=g[f+32>>2],J=x(-E),g[C>>2]=J,S=g[f+36>>2],g[C+4>>2]=-S,M=g[f+40>>2],g[C+8>>2]=-M,j=g[f+16>>2],g[C+R>>2]=-j,H=g[f+20>>2],g[C+W>>2]=-H,I=g[f+24>>2],g[C+k>>2]=-I,A=g[e+280>>2],k=W=h[t+28>>2],128&(q=h[e+300>>2])||(A=x(A*g[t+4>>2])),A=x(A*g[t>>2]),D=x(x(Y*G)-x(U*B)),F=x(x(U*Q)-x(X*G)),G=x(x(X*B)-x(Y*Q)),g[k>>2]=A*x(x(x(D*E)+x(F*S))+x(G*M)),g[R+W>>2]=A*x(x(x(D*j)+x(F*H))+x(G*I)),64&q&&(R=h[t+32>>2],h[R>>2]=h[e+292>>2],h[R+(P<<2)>>2]=h[e+292>>2]),d=l<x(1.1920928955078125e-7)|p<x(1.1920928955078125e-7),l=g[i+56>>2],p=g[i+52>>2],A=g[n+56>>2],F=g[n+52>>2],D=g[i+48>>2],G=g[n+48>>2],h[f+8>>2]=0,h[f+12>>2]=0,h[f>>2]=0,h[f+4>>2]=0,W=y(P,3),n=P<<1,L?(j=g[e+1032>>2],H=g[e+1080>>2],E=g[e+944>>2],S=g[e+936>>2],M=g[e+940>>2],I=g[e+880>>2],Y=g[e+872>>2],Q=g[e+876>>2],h[f+44>>2]=0,X=x(S-D),c(0,ee),D=_(),J=x(M-p),c(0,$),B=_(),p=x(E-l),c(0,K),U=_(),l=x(x(x(X*D)+x(J*B))+x(p*U)),S=x(l*U),G=x(Y-G),E=x(Q-F),I=x(I-A),A=x(x(x(G*D)+x(E*B))+x(I*U)),M=x(A*U),F=x(p-S),Y=x(I-M),p=x(x(N*F)+x(O*Y)),g[f+40>>2]=p,Q=x(l*B),J=x(J-Q),ie=x(A*B),oe=x(E-ie),E=x(x(N*J)+x(O*oe)),g[f+36>>2]=E,Z=X,X=x(l*D),re=x(Z-X),A=x(A*D),Z=x(G-A),I=x(x(N*re)+x(O*Z)),g[f+32>>2]=I,l=x(H-j),S=x(x(M+x(l*U))-S),j=x(F-x(O*S)),M=x(x(ie+x(l*B))-Q),F=x(J-x(O*M)),A=x(x(A+x(l*D))-X),l=x(re-x(O*A)),G=x(Y+x(N*S)),M=x(oe+x(N*M)),H=x(Z+x(N*A)),(A=x(x(p*p)+x(x(I*I)+x(E*E))))>x(1.1920928955078125e-7)?(Z=p,p=x(x(1)/x(T(A))),A=x(Z*p),g[f+40>>2]=A,S=x(E*p),g[f+36>>2]=S,E=x(I*p),g[f+32>>2]=E,u(A),L=s(0),u(S),P=s(0)):(E=g[e+828>>2],i=h[e+828>>2],S=g[e+844>>2],P=h[e+844>>2],A=g[e+860>>2],L=h[e+860>>2],h[f+44>>2]=0,h[f+40>>2]=L,h[f+36>>2]=P,h[f+32>>2]=i),g[f+8>>2]=x(H*S)-x(M*E),h[f+28>>2]=0,g[f+4>>2]=x(G*E)-x(H*A),g[f>>2]=x(M*A)-x(G*S),p=x(x(S*D)-x(E*B)),g[f+24>>2]=p,I=x(x(E*U)-x(A*D)),g[f+20>>2]=I,g[f+16>>2]=x(A*B)-x(S*U),h[8+(i=(R=n<<2)+w|0)>>2]=h[f+8>>2],w=h[f+4>>2],h[i>>2]=h[f>>2],h[i+4>>2]=w,g[C+R>>2]=-x(x(F*A)-x(j*S)),g[(k=(1|n)<<2)+C>>2]=-x(x(j*E)-x(l*A)),g[(q=n+2<<2)+C>>2]=-x(x(l*S)-x(F*E)),h[f+12>>2]=0,E=x(x(M*p)-x(G*I)),g[f>>2]=E,A=g[f+16>>2],B=x(x(H*I)-x(M*A)),g[f+8>>2]=B,U=x(x(G*A)-x(H*p)),g[f+4>>2]=U,S=x(x(F*p)-x(j*I)),D=x(x(l*I)-x(F*A)),A=x(x(j*A)-x(l*p)),!d|!m[e+297|0]||(g[f+8>>2]=N*B,g[f+4>>2]=N*U,g[f>>2]=N*E,D=x(O*D),S=x(O*S),A=x(O*A)),C=h[f+4>>2],i=(w=W<<2)+h[t+12>>2]|0,h[i>>2]=h[f>>2],h[i+4>>2]=C,h[i+8>>2]=h[f+8>>2],i=h[t+20>>2],g[i+(V=w+4|0)>>2]=-A,g[i+w>>2]=-S,g[(te=w+8|0)+i>>2]=-D,C=h[t+8>>2],h[R+C>>2]=h[f+32>>2],h[C+k>>2]=P,h[C+q>>2]=L,i=h[f+16>>2],g[C+te>>2]=p,g[C+V>>2]=I,h[C+w>>2]=i,i=h[t+16>>2],g[R+i>>2]=-g[f+32>>2],c(0,P),S=_(),g[i+k>>2]=-S,c(0,L),Y=_(),g[i+q>>2]=-Y,E=g[f+16>>2],g[i+V>>2]=-I,g[i+w>>2]=-E,R=i+te|0,D=x(0),B=x(0),U=x(0),A=x(-p)):(P=n<<2,B=x(p-F),U=x(l-A),l=x(x(B*M)-x(U*S)),g[P+w>>2]=N*l,L=4|P,D=x(D-G),p=x(x(U*E)-x(D*M)),g[L+w>>2]=N*p,k=P+8|0,A=x(x(D*S)-x(B*E)),g[k+w>>2]=N*A,g[C+P>>2]=O*l,g[C+L>>2]=O*p,g[C+k>>2]=O*A,q=8+(R=W<<2)|0,l=x(x(D*H)-x(B*j)),g[q+w>>2]=N*l,V=R+4|0,p=x(x(U*j)-x(D*I)),g[V+w>>2]=N*p,A=x(x(B*I)-x(U*H)),g[w+R>>2]=N*A,g[C+q>>2]=O*l,g[C+V>>2]=O*p,g[C+R>>2]=O*A,C=h[t+8>>2],g[P+C>>2]=E,g[C+L>>2]=S,g[C+k>>2]=M,g[C+q>>2]=I,g[C+V>>2]=H,g[C+R>>2]=j,i=h[t+16>>2],g[P+i>>2]=J,S=g[f+36>>2],g[i+L>>2]=-S,Y=g[f+40>>2],g[i+k>>2]=-Y,E=g[f+16>>2],g[i+R>>2]=-E,I=g[f+20>>2],g[i+V>>2]=-I,R=i+q|0,l=x(0),F=x(0),j=x(0),H=x(0),M=x(0),G=x(0),p=g[f+24>>2],A=x(-p)),g[R>>2]=A,A=g[e+264>>2],w=(R=h[t+28>>2])+(n<<=2)|0,32&(k=h[e+300>>2])||(A=x(A*g[t+4>>2])),A=x(A*g[t>>2]),Q=x(ue-pe),X=x(le-ce),Z=x(x(Q*g[f+32>>2])+x(X*S)),S=x(se-ae),g[w>>2]=A*x(Z+x(S*Y)),g[(w=W<<2)+R>>2]=A*x(x(x(Q*E)+x(X*I))+x(S*p)),16&k&&(ne=n,n=h[t+32>>2],h[ne+n>>2]=h[e+276>>2],h[n+w>>2]=h[e+276>>2]),I=x(v?1:-1);e:{t:{if(m[e+296|0])W=(A=x(I*g[e+1032>>2]))>x(0)?2:1,q=0!=m[e+1096|0],n=1;else{if(!m[e+1096|0])break t;A=x(0),q=1,W=0,n=0}w=h[t+24>>2],h[(V=w<<4)+C>>2]=ee,h[(P=(te=1|(w<<=2))<<2)+C>>2]=$,h[(ne=C)+(C=(L=2|w)<<2)>>2]=K,c(0,ee),p=_(),g[i+V>>2]=-p,c(0,$),E=_(),g[i+P>>2]=-E,c(0,K),S=_(),g[i+C>>2]=-S;n:{if(m[e+49|0]){if(d)break n;h[f+12>>2]=0,N=x(x(H*E)-x(M*p)),g[f+8>>2]=N,O=x(x(G*p)-x(H*S)),g[f+4>>2]=O,D=x(x(M*S)-x(G*E)),g[f>>2]=D,i=h[t+12>>2],g[i+(P=w<<2)>>2]=D,g[(V=te<<2)+i>>2]=O,g[i+(L<<2)>>2]=N,C=h[t+20>>2],g[P+C>>2]=-x(x(F*S)-x(j*E)),g[C+V>>2]=-x(x(j*p)-x(l*S)),l=x(-x(x(l*E)-x(F*p)))}else i=h[t+12>>2],V=w<<2,l=x(x(B*S)-x(U*E)),g[i+V>>2]=N*l,M=x(x(U*p)-x(D*S)),g[i+P>>2]=N*M,Z=N,N=x(x(D*E)-x(B*p)),g[i+C>>2]=Z*N,C=h[t+20>>2],g[V+C>>2]=O*l,g[C+P>>2]=O*M,l=x(O*N);g[(L<<2)+C>>2]=l}if(N=g[e+188>>2],O=g[e+184>>2],h[(i=w<<2)+R>>2]=0,L=h[t+36>>2],h[i+L>>2]=0,P=h[t+40>>2],h[i+P>>2]=0,l=g[(512&k?e+232|0:t+4|0)>>2],1==(((C=O!=N)|1^n)&q)&&(1&k&&(h[h[t+32>>2]+(w<<2)>>2]=h[e+212>>2]),N=Or(g[e+1080>>2],g[e+184>>2],g[e+188>>2],g[e+1100>>2],x(l*g[t>>2])),R=h[t+28>>2],g[(P=R+(i=w<<2)|0)>>2]=g[P>>2]-x(x(I*N)*g[e+1100>>2]),L=h[t+36>>2],g[(P=i+L|0)>>2]=g[P>>2]-x(g[e+1104>>2]/g[t>>2]),P=h[t+40>>2],g[(i=i+P|0)>>2]=x(g[e+1104>>2]/g[t>>2])+g[i>>2]),i=5,!n)break e;g[(n=(k=w<<2)+R|0)>>2]=g[n>>2]+x(A*x(l*g[t>>2])),1&a[e+301|0]&&(h[k+h[t+32>>2]>>2]=h[e+244>>2]),ne=(w<<2)+P|0;n:{if(C){if(C=(w<<2)+L|0,1==(0|W)){h[C>>2]=-8388609,l=x(0);break n}h[C>>2]=0}else h[(w<<2)+L>>2]=-8388609;l=x(34028234663852886e22)}g[ne>>2]=l;n:if(!((l=x(x(1)-g[e+240>>2]))==x(0)|l!=l))if(A=x(b(l)),l=x(I*x(x(x(x(g[o>>2]*p)+x(g[o+4>>2]*E))+x(g[o+8>>2]*S))-x(x(x(g[r>>2]*p)+x(g[r+4>>2]*E))+x(g[r+8>>2]*S)))),1!=(0|W))l>x(0)&&(l=x(l*x(-A)))<g[n>>2]&&(g[n>>2]=l);else{if(!(l<x(0)))break n;if(!((l=x(l*x(-A)))>g[n>>2]))break n;g[n>>2]=l}g[n>>2]=g[e+232>>2]*g[n>>2];break e}i=4}e:{if(m[e+297|0])o=(D=g[e+1088>>2])>x(0)?1:2,P=0!=m[e+1112|0],n=1;else{if(!m[e+1112|0])break e;D=x(0),P=1,o=0,n=0}if(C=h[t+12>>2],i=y(h[t+24>>2],i),h[C+(r=i<<2)>>2]=ee,h[(w=r+8|0)+C>>2]=K,h[(L=r+4|0)+C>>2]=$,C=h[t+20>>2],c(0,K),S=_(),g[C+w>>2]=-S,c(0,$),N=_(),g[C+L>>2]=-N,c(0,ee),O=_(),g[r+C>>2]=-O,r=h[e+300>>2],M=g[(2048&r?e+248|0:t+4|0)>>2],!P|n&(p=g[e+192>>2])==(l=g[e+196>>2])||(A=l,E=p,4&r&&(h[h[t+32>>2]+(i<<2)>>2]=h[e+228>>2],E=g[e+192>>2],A=g[e+196>>2]),A=Or(g[e+1084>>2],E,A,g[e+1116>>2],x(M*g[t>>2])),R=h[t+28>>2],g[R+(r=i<<2)>>2]=A*g[e+1116>>2],g[r+h[t+36>>2]>>2]=x(-g[e+1120>>2])/g[t>>2],g[r+h[t+40>>2]>>2]=g[e+1120>>2]/g[t>>2]),n){g[(n=(r=i<<2)+R|0)>>2]=g[n>>2]+x(D*x(M*g[t>>2])),4&m[e+301|0]&&(h[r+h[t+32>>2]>>2]=h[e+260>>2]),p!=l?(r=h[t+36>>2]+(i<<2)|0,1!=(0|o)?(h[r>>2]=-8388609,l=x(0)):(h[r>>2]=0,l=x(34028234663852886e22))):(h[h[t+36>>2]+(i<<2)>>2]=-8388609,l=x(34028234663852886e22)),g[h[t+40>>2]+(i<<2)>>2]=l;t:if(!((l=x(x(1)-g[e+256>>2]))==x(0)|l!=l))if(p=x(b(l)),t=h[e+28>>2],l=x(x(x(g[t+388>>2]*O)+x(g[t+392>>2]*N))+x(g[t+396>>2]*S)),t=h[e+32>>2],l=x(l-x(x(x(g[t+388>>2]*O)+x(g[t+392>>2]*N))+x(g[t+396>>2]*S))),1!=(0|o))l>x(0)&&(l=x(l*x(-p)))<g[n>>2]&&(g[n>>2]=l);else{if(!(l<x(0)))break t;if(!((l=x(l*x(-p)))>g[n>>2]))break t;g[n>>2]=l}g[n>>2]=g[e+248>>2]*g[n>>2]}}z=f+48|0}(e|=0,t|=0,(t=h[e+28>>2])+4|0,(e=h[e+32>>2])+4|0,t+372|0,e+372|0,g[t+404>>2],g[e+404>>2])},r[157]=function(e,t,n,i){e|=0,t|=0,n=x(n),i|=0;e:if(!((t=t+-2|0)>>>0>2)){switch(t-1|0){default:if((0|i)<=0)return g[e+232>>2]=n,void(h[e+300>>2]=512|h[e+300>>2]);if((0|i)<=2)return g[e+264>>2]=n,void(h[e+300>>2]=32|h[e+300>>2]);if(3==(0|i))return g[e+248>>2]=n,void(h[e+300>>2]=2048|h[e+300>>2]);if((0|i)>5)break e;return g[e+280>>2]=n,void(h[e+300>>2]=128|h[e+300>>2]);case 0:if((0|i)<=0)return g[e+212>>2]=n,void(h[e+300>>2]=1|h[e+300>>2]);if(3!=(0|i))break e;return g[e+228>>2]=n,void(h[e+300>>2]=4|h[e+300>>2]);case 1:}if((0|i)<=0)return g[e+244>>2]=n,void(h[e+300>>2]=256|h[e+300>>2]);if((0|i)<=2)return g[e+276>>2]=n,void(h[e+300>>2]=16|h[e+300>>2]);if(3==(0|i))return g[e+260>>2]=n,void(h[e+300>>2]=1024|h[e+300>>2]);(0|i)>5||(g[e+292>>2]=n,h[e+300>>2]=64|h[e+300>>2])}},r[158]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0);i=x(34028234663852886e22);e:if(!((t=t+-2|0)>>>0>2)){switch(t-1|0){default:if((0|n)<=0)return x(g[e+232>>2]);if((0|n)<=2)return x(g[e+264>>2]);if(3==(0|n))return x(g[e+248>>2]);if((0|n)>5)break e;return x(g[e+280>>2]);case 0:if((0|n)<=0)return x(g[e+212>>2]);if(3!=(0|n))break e;return x(g[e+228>>2]);case 1:}if((0|n)<=0)return x(g[e+244>>2]);if((0|n)<=2)return x(g[e+276>>2]);if(3==(0|n))return x(g[e+260>>2]);(0|n)>5||(i=g[e+292>>2])}return x(i)},r[159]=function(){return 204},r[160]=function(e,t,n){return gr(e|=0,t|=0,n|=0),h[t+52>>2]=h[e+52>>2],h[t+56>>2]=h[e+56>>2],h[t+60>>2]=h[e+60>>2],h[t+64>>2]=h[e- -64>>2],h[t+68>>2]=h[e+68>>2],h[t+72>>2]=h[e+72>>2],h[t+76>>2]=h[e+76>>2],h[t+80>>2]=h[e+80>>2],h[t+84>>2]=h[e+84>>2],h[t+88>>2]=h[e+88>>2],h[t+92>>2]=h[e+92>>2],h[t+96>>2]=h[e+96>>2],h[t+100>>2]=h[e+100>>2],h[t+104>>2]=h[e+104>>2],h[t+108>>2]=h[e+108>>2],h[t+112>>2]=h[e+112>>2],h[t+116>>2]=h[e+116>>2],h[t+120>>2]=h[e+120>>2],h[t+124>>2]=h[e+124>>2],h[t+128>>2]=h[e+128>>2],h[t+132>>2]=h[e+132>>2],h[t+136>>2]=h[e+136>>2],h[t+140>>2]=h[e+140>>2],h[t+144>>2]=h[e+144>>2],h[t+148>>2]=h[e+148>>2],h[t+152>>2]=h[e+152>>2],h[t+156>>2]=h[e+156>>2],h[t+160>>2]=h[e+160>>2],h[t+164>>2]=h[e+164>>2],h[t+168>>2]=h[e+168>>2],h[t+172>>2]=h[e+172>>2],h[t+176>>2]=h[e+176>>2],h[t+180>>2]=h[e+188>>2],h[t+184>>2]=h[e+184>>2],h[t+188>>2]=h[e+196>>2],h[t+192>>2]=h[e+192>>2],h[t+196>>2]=m[e+180|0],h[t+200>>2]=m[e+49|0],3764},r[161]=function(e){return h[300+(e|=0)>>2]},r[162]=Ar,r[163]=function(e){e|=0;var t,n=0,i=0,o=x(0),r=x(0),a=x(0),s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=0,A=x(0),C=x(0),S=x(0),E=x(0);if(z=t=z-176|0,m[e+527|0]){h[e+576>>2]=0,h[e+580>>2]=0,h[e+516>>2]=0,h[e+520>>2]=0,h[e+36>>2]=0,h[e+584>>2]=0,h[e+588>>2]=0;e:if(!m[e+524|0])for(c=g[e+412>>2],n=h[e+32>>2],u=g[e+416>>2],_=g[e+420>>2],A=x(x(x(x(c*g[n+4>>2])+x(u*g[n+8>>2]))+x(_*g[n+12>>2]))+g[n+52>>2]),f=g[e+348>>2],i=h[e+28>>2],a=g[e+352>>2],o=g[e+356>>2],C=x(x(x(x(f*g[i+4>>2])+x(a*g[i+8>>2]))+x(o*g[i+12>>2]))+g[i+52>>2]),d=x(A-C),S=x(x(x(x(c*g[n+20>>2])+x(u*g[n+24>>2]))+x(_*g[n+28>>2]))+g[n+56>>2]),E=x(x(x(x(f*g[i+20>>2])+x(a*g[i+24>>2]))+x(o*g[i+28>>2]))+g[i+56>>2]),r=x(S-E),_=x(x(x(x(c*g[n+36>>2])+x(u*g[n+40>>2]))+x(_*g[n+44>>2]))+g[n+60>>2]),f=x(x(x(x(f*g[i+36>>2])+x(a*g[i+40>>2]))+x(o*g[i+44>>2]))+g[i+60>>2]),a=x(_-f),(o=x(x(x(d*d)+x(r*r))+x(a*a)))>x(1.1920928955078125e-7)?(h[t+140>>2]=0,o=x(x(1)/x(T(o))),l=x(a*o),g[t+136>>2]=l,p=x(r*o),g[t+132>>2]=p,c=x(d*o),g[t+128>>2]=c):(h[t+136>>2]=0,h[t+140>>2]=0,h[t+128>>2]=1065353216,h[t+132>>2]=0,c=x(1)),x(b(l))>x(.7071067690849304)?(o=x(x(l*l)+x(p*p)),u=x(x(1)/x(T(o))),d=x(o*u),r=x(u*x(-l)),a=x(c*r),l=x(p*u),p=x(l*x(-c)),o=x(0)):(o=x(x(c*c)+x(p*p)),r=x(x(1)/x(T(o))),a=x(o*r),o=x(r*x(-p)),p=x(l*o),r=x(c*r),d=x(r*x(-l)),l=x(0)),g[t+168>>2]=a,g[t+164>>2]=p,g[t+152>>2]=l,g[t+148>>2]=r,g[t+160>>2]=d,g[t+144>>2]=o;;){if(s=h[e+28>>2],h[t+80>>2]=h[s+4>>2],h[t+84>>2]=h[s+20>>2],i=h[s+36>>2],h[t+92>>2]=0,h[t+88>>2]=i,h[t+96>>2]=h[s+8>>2],h[t+100>>2]=h[s+24>>2],i=h[s+40>>2],h[t+108>>2]=0,h[t+104>>2]=i,h[t+112>>2]=h[s+12>>2],h[t+116>>2]=h[s+28>>2],i=h[s+44>>2],h[t+124>>2]=0,h[t+120>>2]=i,h[t+32>>2]=h[n+4>>2],h[t+36>>2]=h[n+20>>2],i=h[n+36>>2],h[t+44>>2]=0,h[t+40>>2]=i,h[t+48>>2]=h[n+8>>2],h[t+52>>2]=h[n+24>>2],i=h[n+40>>2],h[t+60>>2]=0,h[t+56>>2]=i,h[t+64>>2]=h[n+12>>2],h[t+68>>2]=h[n+28>>2],i=h[n+44>>2],h[t+76>>2]=0,h[t+72>>2]=i,r=g[s+52>>2],a=g[s+56>>2],o=g[s+60>>2],h[t+28>>2]=0,g[t+24>>2]=f-o,g[t+20>>2]=E-a,g[t+16>>2]=C-r,r=g[n+52>>2],a=g[n+56>>2],o=g[n+60>>2],h[t+12>>2]=0,g[t+8>>2]=_-o,g[t+4>>2]=S-a,g[t>>2]=A-r,Ga(48+(y(v,84)+e|0)|0,t+80|0,t+32|0,t+16|0,t,(t+128|0)+(v<<4)|0,s+456|0,g[s+404>>2],n+456|0,g[n+404>>2]),3==(0|(v=v+1|0)))break e;n=h[e+32>>2]}Ys(n=e,(i=h[e+28>>2])+4|0,(e=h[e+32>>2])+4|0,i+324|0,e+324|0)}z=t+176|0},r[164]=function(e,t){e|=0,t|=0;var n=0,i=0,o=x(0);if(m[e+527|0])return h[t>>2]=0,void(h[t+4>>2]=0);h[t>>2]=3,h[t+4>>2]=3,Ys(e,(n=h[e+28>>2])+4|0,(i=h[e+32>>2])+4|0,n+324|0,i+324|0),m[e+526|0]&&(n=h[t>>2],h[t>>2]=n+1,i=h[t+4>>2],h[t+4>>2]=i+-1,o=g[e+456>>2],g[e+444>>2]<o^1|g[e+448>>2]<o^1||(h[t+4>>2]=i+-2,h[t>>2]=n+2)),m[e+525|0]&&(h[t>>2]=h[t>>2]+1,h[t+4>>2]=h[t+4>>2]+-1)},r[165]=function(e,t){!function(e,t,n,i,o,r){var a,s,c,l,p=x(0),u=x(0),_=x(0),f=x(0),d=0,v=x(0),A=0,b=x(0),C=0,S=x(0),E=0,w=x(0),T=x(0),P=x(0),I=0,R=0,N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0);if(z=c=z-16|0,Ys(e,n,i,o,r),o=h[t+8>>2],h[o>>2]=1065353216,l=h[t+24>>2],h[(r=4+(A=l<<2)|0)+o>>2]=1065353216,h[(E=o)+(o=8+(C=l<<3)|0)>>2]=1065353216,D=g[n+20>>2],N=g[n+24>>2],w=g[e+348>>2],S=g[n+36>>2],T=g[e+352>>2],f=g[n+40>>2],P=g[e+356>>2],_=g[n+8>>2],v=g[n>>2],b=g[n+4>>2],u=g[n+16>>2],p=g[n+32>>2],h[c+12>>2]=0,f=x(x(x(w*p)+x(T*S))+x(P*f)),g[c+8>>2]=f,u=x(x(x(w*u)+x(T*D))+x(P*N)),g[c+4>>2]=u,p=x(x(x(v*w)+x(b*T))+x(_*P)),g[c>>2]=p,a=h[t+12>>2],h[a+12>>2]=0,g[a+8>>2]=-u,g[a+4>>2]=f,h[a>>2]=0,h[12+(d=a+A|0)>>2]=0,g[d+8>>2]=p,h[d+4>>2]=0,g[d>>2]=-f,h[8+(d=a+C|0)>>2]=0,h[d+12>>2]=0,g[d+4>>2]=-p,g[d>>2]=u,d=h[t+16>>2],h[d>>2]=-1082130432,h[r+d>>2]=-1082130432,h[o+d>>2]=-1082130432,D=g[i+36>>2],N=g[i+40>>2],w=g[e+412>>2],S=g[i+20>>2],T=g[e+416>>2],f=g[i+24>>2],P=g[e+420>>2],_=g[i+8>>2],v=g[i>>2],b=g[i+4>>2],u=g[i+32>>2],p=g[i+16>>2],s=h[t+20>>2],h[s+12>>2]=0,h[s>>2]=0,S=x(x(x(w*p)+x(T*S))+x(P*f)),g[s+8>>2]=S,f=x(x(x(w*u)+x(T*D))+x(P*N)),g[s+4>>2]=-f,h[12+(o=s+A|0)>>2]=0,u=x(x(x(v*w)+x(b*T))+x(_*P)),g[o+8>>2]=-u,h[o+4>>2]=0,g[o>>2]=f,h[8+(o=s+C|0)>>2]=0,h[o+12>>2]=0,g[o+4>>2]=u,g[o>>2]=-S,R=h[t+40>>2],I=h[t+36>>2],E=h[t+28>>2],d=h[e+592>>2],p=x(g[(2&d?e+600|0:t+4|0)>>2]*g[t>>2]),g[E>>2]=p*x(x(x(u+g[i+48>>2])-g[c>>2])-g[n+48>>2]),h[I>>2]=-8388609,h[R>>2]=2139095039,(r=1&d)&&(h[h[t+32>>2]>>2]=h[e+596>>2]),g[A+E>>2]=p*x(x(x(S+g[i+52>>2])-g[c+4>>2])-g[n+52>>2]),h[A+I>>2]=-8388609,h[A+R>>2]=2139095039,r&&(h[h[t+32>>2]+(l<<2)>>2]=h[e+596>>2]),g[(o=l<<3)+E>>2]=p*x(x(x(f+g[i+56>>2])-g[c+8>>2])-g[n+56>>2]),h[o+I>>2]=-8388609,h[o+R>>2]=2139095039,r&&(h[h[t+32>>2]+(l<<3)>>2]=h[e+596>>2]),i=o=y(l,3),m[e+526|0]&&(p=g[e+456>>2],g[e+444>>2]<p^1|g[e+448>>2]<p^1?(v=g[e+464>>2],p=g[e+468>>2],r=o<<2,_=g[e+436>>2],b=x(_*x(_*g[e+460>>2])),g[r+a>>2]=b,i=r+8|0,u=x(_*x(_*p)),g[i+a>>2]=u,n=r+4|0,p=x(_*x(_*v)),g[n+a>>2]=p,g[i+s>>2]=-u,g[n+s>>2]=-p,g[r+s>>2]=-b,g[r+E>>2]=x(g[t>>2]*g[e+432>>2])*g[e+504>>2],4&d&&(h[r+h[t+32>>2]>>2]=h[e+604>>2]),h[r+I>>2]=0,u=x(34028234663852886e22),m[e+552|0]&&(p=g[e+572>>2])>=x(0)&&(u=p),g[(o<<2)+R>>2]=u,i=l<<2):(M=g[e+340>>2],O=g[e+308>>2],L=g[e+324>>2],F=g[n+8>>2],B=g[n>>2],w=g[n+4>>2],T=g[n+24>>2],P=g[n+16>>2],D=g[n+20>>2],r=8+(A=o<<2)|0,f=g[e+304>>2],b=g[n+32>>2],_=g[e+320>>2],u=g[n+36>>2],v=g[e+336>>2],p=g[n+40>>2],N=x(x(x(f*b)+x(_*u))+x(v*p)),g[r+a>>2]=N,o=A+4|0,S=x(x(x(f*P)+x(_*D))+x(v*T)),g[o+a>>2]=S,f=x(x(x(B*f)+x(w*_))+x(F*v)),g[a+A>>2]=f,C=l<<4,_=x(x(x(B*O)+x(w*L))+x(F*M)),g[C+a>>2]=_,i=4|C,v=x(x(x(O*P)+x(L*D))+x(M*T)),g[i+a>>2]=v,n=8|C,u=x(x(x(O*b)+x(L*u))+x(M*p)),g[n+a>>2]=u,g[r+s>>2]=-N,g[o+s>>2]=-S,g[s+A>>2]=-f,g[s+C>>2]=-_,g[i+s>>2]=-v,g[n+s>>2]=-u,E=h[t+28>>2],p=x(g[t>>2]*g[e+436>>2]),g[A+E>>2]=p*x(x(x(f*g[e+460>>2])+x(S*g[e+464>>2]))+x(N*g[e+468>>2])),g[C+E>>2]=p*x(x(x(_*g[e+460>>2])+x(v*g[e+464>>2]))+x(u*g[e+468>>2])),I=h[t+36>>2],h[A+I>>2]=-8388609,R=h[t+40>>2],h[A+R>>2]=2139095039,h[C+I>>2]=-8388609,h[C+R>>2]=2139095039,i=y(l,5))),m[e+525|0]){v=g[e+480>>2],p=g[e+484>>2],r=i<<2,_=g[e+436>>2],b=x(_*x(_*g[e+476>>2])),g[r+a>>2]=b,o=r+8|0,u=x(_*x(_*p)),g[o+a>>2]=u,n=r+4|0,p=x(_*x(_*v)),g[n+a>>2]=p,g[o+s>>2]=-u,g[n+s>>2]=-p,g[r+s>>2]=-b,g[r+E>>2]=x(g[t>>2]*g[e+432>>2])*g[e+508>>2],4&d&&(h[r+h[t+32>>2]>>2]=h[e+604>>2]),t=(i<<2)+R|0;e:{t:{if(g[e+452>>2]>x(0)){if(n=(i<<2)+I|0,g[e+508>>2]>x(0)){h[n>>2]=0;break t}h[n>>2]=-8388609,u=x(0);break e}h[(i<<2)+I>>2]=-8388609}u=x(34028234663852886e22)}g[t>>2]=u}z=c+16|0}(e|=0,t|=0,(t=h[e+28>>2])+4|0,(e=h[e+32>>2])+4|0,t+324|0,e+324|0)},r[166]=function(e,t,n,i){e|=0,t|=0,n|=0,i=x(i);var o,r=x(0),a=x(0),s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),b=x(0),C=0,S=x(0),E=x(0),w=x(0),P=x(0),I=0,R=x(0),N=x(0),D=x(0),M=0,O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=0,k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=0,K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),re=x(0),ae=x(0),se=x(0),ce=x(0),le=x(0),pe=x(0),ue=x(0),_e=x(0),fe=x(0),he=x(0),me=x(0),de=0,ve=0;if(z=o=z-464|0,m[e+527|0]){if(M=C=h[e+32>>2],s=I=h[e+28>>2],!m[e+524|0])for(A=g[e+348>>2],l=g[e+352>>2],c=g[e+356>>2],r=g[I+56>>2],R=x(x(x(x(A*g[I+20>>2])+x(l*g[I+24>>2]))+x(c*g[I+28>>2]))+r),G=x(R-r),a=x(g[t+192>>2]+g[t+80>>2]),r=g[I+52>>2],N=x(x(x(x(A*g[s+4>>2])+x(l*g[I+8>>2]))+x(c*g[I+12>>2]))+r),H=x(N-r),f=x(g[t+196>>2]+g[t+84>>2]),b=g[e+412>>2],u=g[e+416>>2],_=g[e+420>>2],r=g[C+56>>2],S=x(x(x(x(b*g[C+20>>2])+x(u*g[C+24>>2]))+x(_*g[C+28>>2]))+r),D=x(S-r),d=x(g[n+192>>2]+g[n+80>>2]),r=g[C+52>>2],P=x(x(x(x(b*g[M+4>>2])+x(u*g[C+8>>2]))+x(_*g[C+12>>2]))+r),V=x(P-r),w=x(g[n+196>>2]+g[n+84>>2]),p=x(x(x(g[t+184>>2]+g[t+72>>2])+x(x(G*a)-x(H*f)))-x(x(g[n+184>>2]+g[n+72>>2])+x(x(D*d)-x(V*w)))),E=x(g[t+200>>2]+g[t+88>>2]),r=g[I+60>>2],l=x(x(x(x(A*g[I+36>>2])+x(l*g[I+40>>2]))+x(c*g[I+44>>2]))+r),F=x(l-r),v=x(x(g[t+180>>2]+g[t+68>>2])+x(x(H*E)-x(F*a))),c=x(g[n+200>>2]+g[n+88>>2]),a=g[C+60>>2],r=x(x(x(x(b*g[C+36>>2])+x(u*g[C+40>>2]))+x(_*g[C+44>>2]))+a),O=x(r-a),A=x(v-x(x(g[n+180>>2]+g[n+68>>2])+x(x(V*c)-x(O*d)))),b=x(x(x(g[t+176>>2]+g[t+64>>2])+x(x(F*f)-x(G*E)))-x(x(g[n+176>>2]+g[n+64>>2])+x(x(O*w)-x(D*c)))),u=x(l-r),_=x(R-S),R=x(N-P),ve=h[n+240>>2],J=h[t+240>>2];j=y(de,84)+e|0,l=x(x(1)/g[j+128>>2]),c=g[j+48>>2],a=g[j+52>>2],r=g[j+56>>2],L=x(x(l*x(x(x(x(x(R*c)+x(_*a))+x(u*r))*x(-.30000001192092896))/i))-x(l*x(x(x(b*c)+x(A*a))+x(p*r)))),g[e+36>>2]=g[e+36>>2]+L,k=g[j+48>>2],B=g[j+52>>2],U=g[j+56>>2],J&&(S=g[I+364>>2],d=g[I+356>>2],P=g[I+360>>2],w=g[I+348>>2],E=g[I+340>>2],l=g[I+344>>2],c=g[I+332>>2],a=g[I+324>>2],r=g[I+328>>2],f=g[I+404>>2],g[t+64>>2]=x(x(L*x(k*f))*g[t+112>>2])+g[t+64>>2],g[t+68>>2]=x(x(L*x(B*f))*g[t+116>>2])+g[t+68>>2],g[t+72>>2]=x(x(L*x(U*f))*g[t+120>>2])+g[t+72>>2],N=x(x(G*U)-x(F*B)),f=x(x(F*k)-x(H*U)),v=x(x(a*N)+x(r*f)),a=x(x(H*B)-x(G*k)),g[t+80>>2]=x(x(v+x(c*a))*x(L*g[t+96>>2]))+g[t+80>>2],r=g[t+104>>2],g[t+84>>2]=x(x(x(x(N*E)+x(f*l))+x(a*w))*x(L*g[t+100>>2]))+g[t+84>>2],g[t+88>>2]=x(x(x(x(N*d)+x(f*P))+x(a*S))*x(L*r))+g[t+88>>2]),ve&&(N=g[C+364>>2],f=g[C+356>>2],S=g[C+360>>2],d=g[C+348>>2],P=g[C+340>>2],w=g[C+344>>2],E=g[C+332>>2],l=g[C+324>>2],c=g[C+328>>2],a=g[j+56>>2],r=g[j+52>>2],v=g[C+404>>2],L=x(-L),g[n+64>>2]=x(g[n+112>>2]*x(x(v*g[j+48>>2])*L))+g[n+64>>2],g[n+68>>2]=x(x(x(v*r)*L)*g[n+116>>2])+g[n+68>>2],g[n+72>>2]=x(x(x(v*a)*L)*g[n+120>>2])+g[n+72>>2],v=l,l=x(x(D*U)-x(O*B)),r=c,c=x(x(O*k)-x(V*U)),a=x(x(V*B)-x(D*k)),g[n+80>>2]=x(x(x(x(v*l)+x(r*c))+x(E*a))*x(g[n+96>>2]*L))+g[n+80>>2],r=g[n+104>>2],g[n+84>>2]=x(x(x(x(l*P)+x(c*w))+x(a*d))*x(g[n+100>>2]*L))+g[n+84>>2],g[n+88>>2]=x(x(x(x(l*f)+x(c*S))+x(a*N))*x(r*L))+g[n+88>>2]),3!=(0|(de=de+1|0)););e:if(m[e+552|0]){if(J=h[s+16>>2],h[o+384>>2]=h[s+12>>2],h[o+388>>2]=J,J=h[s+8>>2],h[o+376>>2]=h[s+4>>2],h[o+380>>2]=J,s=h[I+32>>2],h[o+400>>2]=h[I+28>>2],h[o+404>>2]=s,s=h[I+24>>2],h[o+392>>2]=h[I+20>>2],h[o+396>>2]=s,s=h[I+48>>2],h[o+416>>2]=h[I+44>>2],h[o+420>>2]=s,s=h[I+40>>2],h[o+408>>2]=h[I+36>>2],h[o+412>>2]=s,s=h[I+64>>2],h[o+432>>2]=h[I+60>>2],h[o+436>>2]=s,s=h[I+56>>2],h[o+424>>2]=h[I+52>>2],h[o+428>>2]=s,s=h[M+16>>2],h[o+320>>2]=h[M+12>>2],h[o+324>>2]=s,s=h[M+8>>2],h[o+312>>2]=h[M+4>>2],h[o+316>>2]=s,s=h[C+32>>2],h[o+336>>2]=h[C+28>>2],h[o+340>>2]=s,s=h[C+24>>2],h[o+328>>2]=h[C+20>>2],h[o+332>>2]=s,s=h[C+48>>2],h[o+352>>2]=h[C+44>>2],h[o+356>>2]=s,s=h[C+40>>2],h[o+344>>2]=h[C+36>>2],h[o+348>>2]=s,s=h[C+64>>2],h[o+368>>2]=h[C+60>>2],h[o+372>>2]=s,s=h[C+56>>2],h[o+360>>2]=h[C+52>>2],h[o+364>>2]=s,w=g[t+84>>2],E=g[t+196>>2],l=g[t+88>>2],c=g[t+200>>2],a=g[t+80>>2],r=g[t+192>>2],h[o+308>>2]=0,g[o+304>>2]=c+l,g[o+300>>2]=E+w,g[o+296>>2]=r+a,w=g[n+84>>2],E=g[n+196>>2],l=g[n+88>>2],c=g[n+200>>2],a=g[n+80>>2],r=g[n+192>>2],h[o+292>>2]=0,g[o+288>>2]=c+l,g[o+284>>2]=E+w,g[o+280>>2]=r+a,h[o+228>>2]=0,h[o+232>>2]=0,h[o+240>>2]=0,h[o+244>>2]=0,h[o+236>>2]=1065353216,h[o+260>>2]=0,h[o+264>>2]=0,h[o+256>>2]=1065353216,h[o+268>>2]=0,h[o+272>>2]=0,h[o+276>>2]=0,h[o+220>>2]=0,h[o+224>>2]=0,h[o+216>>2]=1065353216,h[o+248>>2]=0,h[o+252>>2]=0,h[o+208>>2]=0,h[o+212>>2]=0,h[o+200>>2]=0,h[o+204>>2]=0,yr(o+376|0,o+200|0,o+296|0,i,o+216|0),h[o+148>>2]=0,h[o+152>>2]=0,h[o+160>>2]=0,h[o+164>>2]=0,h[o+156>>2]=1065353216,h[o+180>>2]=0,h[o+184>>2]=0,h[o+176>>2]=1065353216,h[o+188>>2]=0,h[o+192>>2]=0,h[o+196>>2]=0,h[o+140>>2]=0,h[o+144>>2]=0,h[o+136>>2]=1065353216,h[o+168>>2]=0,h[o+172>>2]=0,yr(o+312|0,o+200|0,o+280|0,i,o+136|0),K=g[e+308>>2],$=g[e+304>>2],ee=g[e+324>>2],te=g[e+316>>2],ne=g[e+320>>2],ie=g[e+404>>2],oe=g[e+400>>2],re=g[e+396>>2],ae=g[e+372>>2],se=g[e+368>>2],ce=g[e+340>>2],le=g[e+332>>2],pe=g[e+336>>2],ue=g[e+388>>2],_e=g[e+384>>2],fe=g[e+380>>2],v=g[e+568>>2],l=g[e+564>>2],O=g[e+556>>2],u=g[e+560>>2],_=g[e+420>>2],R=g[e+412>>2],N=g[e+416>>2],he=g[e+300>>2],B=g[e+356>>2],f=g[e+352>>2],U=g[e+348>>2],me=g[e+364>>2],h[o+132>>2]=0,h[o+116>>2]=0,h[o+100>>2]=0,a=x(x(2)/x(x(x(x(O*O)+x(u*u))+x(l*l))+x(v*v))),c=x(l*a),S=x(O*c),r=x(u*a),d=x(v*r),p=x(S-d),P=x(O*r),w=x(v*c),A=x(P+w),E=x(u*r),l=x(l*c),b=x(x(1)-x(E+l)),L=x(x(ae*p)+x(x(se*A)+x(me*b))),c=x(u*c),r=x(O*a),a=x(v*r),u=x(c+a),P=x(P-w),r=x(O*r),w=x(x(1)-x(r+l)),G=x(x(ae*u)+x(x(me*P)+x(se*w))),l=x(S+d),a=x(c-a),r=x(x(1)-x(r+E)),H=x(x(x(me*l)+x(se*a))+x(ae*r)),W=x(x(x(le*L)+x(pe*G))+x(ce*H)),D=g[o+168>>2],V=x(x(p*ue)+x(x(_e*A)+x(fe*b))),F=x(x(u*ue)+x(x(fe*P)+x(_e*w))),O=x(x(x(fe*l)+x(_e*a))+x(ue*r)),q=x(x(x(le*V)+x(pe*F))+x(ce*O)),v=g[o+172>>2],p=x(x(x(b*re)+x(A*oe))+x(p*ie)),A=x(x(x(P*re)+x(w*oe))+x(u*ie)),b=x(x(x(l*re)+x(a*oe))+x(r*ie)),Y=x(x(x(le*p)+x(pe*A))+x(ce*b)),u=g[o+176>>2],g[o+112>>2]=x(x(W*D)+x(q*v))+x(Y*u),X=x(x(x(L*te)+x(G*ne))+x(H*ee)),Q=x(x(x(V*te)+x(F*ne))+x(O*ee)),Z=x(x(x(p*te)+x(A*ne))+x(b*ee)),g[o+108>>2]=x(x(D*X)+x(v*Q))+x(u*Z),S=g[o+152>>2],d=g[o+156>>2],l=g[o+160>>2],g[o+96>>2]=x(x(W*S)+x(q*d))+x(Y*l),g[o+92>>2]=x(x(X*S)+x(Q*d))+x(Z*l),k=x(0),r=x(-f),c=x(x(x(ee*r)-x(K*U))-x(ce*B)),a=x(x(x(te*r)-x(he*U))-x(le*B)),r=x(x(x(ne*r)-x($*U))-x(pe*B)),B=x(x(R+x(x(x(me*x(0))+x(se*x(0)))+x(ae*x(0))))+x(x(H*c)+x(x(L*a)+x(G*r)))),P=x(x(N+x(x(x(fe*x(0))+x(_e*x(0)))+x(ue*x(0))))+x(x(O*c)+x(x(V*a)+x(F*r)))),U=x(x(_+x(x(x(re*x(0))+x(oe*x(0)))+x(ie*x(0))))+x(x(b*c)+x(x(p*a)+x(A*r)))),w=x(x(x(x(D*B)+x(v*P))+x(u*U))+g[o+192>>2]),g[o+128>>2]=w,E=x(x(x(x(S*B)+x(P*d))+x(U*l))+g[o+188>>2]),g[o+124>>2]=E,h[o+84>>2]=0,c=D,D=x(x(x(L*he)+x(G*$))+x(H*K)),a=v,v=x(x(x(V*he)+x(F*$))+x(O*K)),b=x(x(x(p*he)+x(A*$))+x(b*K)),g[o+104>>2]=x(x(c*D)+x(a*v))+x(u*b),g[o+88>>2]=x(x(D*S)+x(v*d))+x(b*l),c=g[o+136>>2],a=g[o+140>>2],r=g[o+144>>2],g[o+80>>2]=x(x(W*c)+x(q*a))+x(Y*r),g[o+76>>2]=x(x(X*c)+x(Q*a))+x(Z*r),g[o+72>>2]=x(x(D*c)+x(v*a))+x(b*r),l=x(x(x(r*U)+x(x(c*B)+x(a*P)))+g[o+184>>2]),g[o+120>>2]=l,h[o+68>>2]=0,h[o+52>>2]=0,h[o+36>>2]=0,u=g[o+248>>2],_=g[o+252>>2],R=g[o+256>>2],g[o+48>>2]=x(x(b*u)+x(Z*_))+x(Y*R),g[o+44>>2]=x(x(v*u)+x(Q*_))+x(q*R),N=g[o+232>>2],f=g[o+236>>2],S=g[o+240>>2],g[o+32>>2]=x(x(b*N)+x(Z*f))+x(Y*S),g[o+28>>2]=x(x(v*N)+x(Q*f))+x(q*S),r=x(-P),d=x(x(x(v*r)-x(D*B))-x(b*U)),P=x(x(x(Q*r)-x(X*B))-x(Z*U)),r=x(x(x(q*r)-x(W*B))-x(Y*U)),c=x(x(x(x(u*d)+x(_*P))+x(R*r))+g[o+272>>2]),g[o- -64>>2]=c,a=x(x(x(x(d*N)+x(P*f))+x(r*S))+g[o+268>>2]),g[o+60>>2]=a,h[o+20>>2]=0,g[o+40>>2]=x(x(D*u)+x(X*_))+x(W*R),g[o+24>>2]=x(x(D*N)+x(X*f))+x(W*S),f=g[o+216>>2],_=g[o+220>>2],S=g[o+224>>2],g[o+16>>2]=x(x(b*f)+x(Z*_))+x(Y*S),g[o+12>>2]=x(x(v*f)+x(Q*_))+x(q*S),g[o+8>>2]=x(x(D*f)+x(X*_))+x(W*S),r=x(x(x(x(d*f)+x(P*_))+x(r*S))+g[o+264>>2]),g[o+56>>2]=r,h[o+212>>2]=0,d=x(x(1)/i),g[o+208>>2]=d*x(w-g[o+432>>2]),g[o+200>>2]=d*x(l-g[o+424>>2]),g[o+204>>2]=d*x(E-g[o+428>>2]),Lr(o+376|0,o+72|0,o+448|0,o+444|0),h[o+212>>2]=0,g[o+208>>2]=d*x(c-g[o+368>>2]),g[o+204>>2]=d*x(a-g[o+364>>2]),g[o+200>>2]=d*x(r-g[o+360>>2]),R=g[o+452>>2],A=g[o+444>>2],a=g[o+456>>2],r=g[o+448>>2],Lr(o+312|0,o+8|0,o+448|0,o+444|0),c=g[o+444>>2],N=x(x(d*x(c*g[o+456>>2]))-g[o+288>>2]),f=x(x(d*x(c*g[o+452>>2]))-g[o+284>>2]),S=x(x(d*x(g[o+448>>2]*c))-g[o+280>>2]),b=x(0),P=x(x(d*x(r*A))-g[o+296>>2]),w=x(x(d*x(A*R))-g[o+300>>2]),E=x(x(d*x(A*a))-g[o+304>>2]),(p=x(x(x(P*P)+x(w*w))+x(E*E)))>x(1.1920928955078125e-7)&&(p=x(x(1)/x(T(p))),D=x(P*p),s=h[e+28>>2],v=x(w*p),_=x(E*p),b=x(x(x(D*x(x(x(D*g[s+324>>2])+x(v*g[s+340>>2]))+x(_*g[s+356>>2])))+x(v*x(x(x(D*g[s+328>>2])+x(v*g[s+344>>2]))+x(_*g[s+360>>2]))))+x(_*x(x(x(D*g[s+332>>2])+x(v*g[s+348>>2]))+x(_*g[s+364>>2]))))),(r=x(x(x(S*S)+x(f*f))+x(N*N)))>x(1.1920928955078125e-7)&&(r=x(x(1)/x(T(r))),p=x(S*r),s=h[e+32>>2],A=x(f*r),R=x(N*r),k=x(x(x(p*x(x(x(p*g[s+324>>2])+x(A*g[s+340>>2]))+x(R*g[s+356>>2])))+x(A*x(x(x(p*g[s+328>>2])+x(A*g[s+344>>2]))+x(R*g[s+360>>2]))))+x(R*x(x(x(p*g[s+332>>2])+x(A*g[s+348>>2]))+x(R*g[s+364>>2]))))),l=x(x(b*D)+x(k*p)),c=x(x(b*v)+x(k*A)),a=x(x(b*_)+x(k*R)),!((r=x(x(x(l*l)+x(c*c))+x(a*a)))>x(1.1920928955078125e-7)))break e;if(r=x(x(1)/x(T(r))),l=x(l*r),M=h[e+28>>2],c=x(c*r),r=x(a*r),d=x(x(x(l*x(x(x(l*g[M+324>>2])+x(c*g[M+340>>2]))+x(r*g[M+356>>2])))+x(c*x(x(x(l*g[M+328>>2])+x(c*g[M+344>>2]))+x(r*g[M+360>>2]))))+x(r*x(x(x(l*g[M+332>>2])+x(c*g[M+348>>2]))+x(r*g[M+364>>2])))),s=h[e+32>>2],a=x(x(x(l*x(x(x(l*g[s+324>>2])+x(c*g[s+340>>2]))+x(r*g[s+356>>2])))+x(c*x(x(x(l*g[s+328>>2])+x(c*g[s+344>>2]))+x(r*g[s+360>>2]))))+x(r*x(x(x(l*g[s+332>>2])+x(c*g[s+348>>2]))+x(r*g[s+364>>2])))),r=x(d+a),r=x(x(1)/x(r*r)),p=x(x(x(E*d)-x(N*a))*r),b=x(x(x(w*d)-x(f*a))*r),A=x(x(x(P*d)-x(S*a))*r),(E=g[e+572>>2])>=x(0)&&(l=g[e+576>>2],_=x(A+l),c=g[e+580>>2],R=x(b+c),a=g[e+584>>2],v=x(p+a),(r=x(T(x(x(x(_*_)+x(R*R))+x(v*v)))))>(E=m[e+553|0]?x(E/d):E)&&(r=x(x(1)/r),p=x(x(E*x(v*r))-a),v=x(a+p),A=x(x(E*x(_*r))-l),_=x(l+A),b=x(x(E*x(R*r))-c),R=x(c+b)),g[e+584>>2]=v,g[e+580>>2]=R,g[e+576>>2]=_),u=x(T(x(x(x(A*A)+x(b*b))+x(p*p)))),r=x(x(1)/u),_=x(p*r),R=x(b*r),N=x(A*r),h[t+240>>2]&&(S=g[M+364>>2],d=g[M+356>>2],P=g[M+360>>2],w=g[M+348>>2],E=g[M+340>>2],l=g[M+344>>2],c=g[M+332>>2],a=g[M+324>>2],r=g[M+328>>2],f=x(u*x(0)),g[t+64>>2]=x(f*g[t+112>>2])+g[t+64>>2],g[t+68>>2]=x(f*g[t+116>>2])+g[t+68>>2],g[t+72>>2]=x(f*g[t+120>>2])+g[t+72>>2],g[t+80>>2]=x(x(x(x(N*a)+x(R*r))+x(_*c))*x(u*g[t+96>>2]))+g[t+80>>2],r=g[t+104>>2],g[t+84>>2]=x(x(x(x(N*E)+x(R*l))+x(_*w))*x(u*g[t+100>>2]))+g[t+84>>2],g[t+88>>2]=x(x(x(x(N*d)+x(R*P))+x(_*S))*x(u*r))+g[t+88>>2]),!h[n+240>>2])break e;S=g[s+364>>2],d=g[s+356>>2],P=g[s+360>>2],w=g[s+348>>2],E=g[s+340>>2],l=g[s+344>>2],c=g[s+332>>2],a=g[s+324>>2],r=g[s+328>>2],f=x(u*x(-0)),g[n+64>>2]=x(f*g[n+112>>2])+g[n+64>>2],g[n+68>>2]=x(f*g[n+116>>2])+g[n+68>>2],g[n+72>>2]=x(f*g[n+120>>2])+g[n+72>>2],c=x(x(x(N*a)+x(R*r))+x(_*c)),a=x(-u),g[n+80>>2]=x(c*x(g[n+96>>2]*a))+g[n+80>>2],r=g[n+104>>2],g[n+84>>2]=x(x(x(x(N*E)+x(R*l))+x(_*w))*x(g[n+100>>2]*a))+g[n+84>>2],g[n+88>>2]=x(x(x(x(N*d)+x(R*P))+x(_*S))*x(r*a))+g[n+88>>2]}else(a=g[e+440>>2])>x(1.1920928955078125e-7)&&(R=g[t+80>>2],b=x(x(g[n+192>>2]+g[n+80>>2])-x(g[t+192>>2]+R)),N=g[t+84>>2],A=x(x(g[n+196>>2]+g[n+84>>2])-x(g[t+196>>2]+N)),f=g[t+88>>2],c=x(x(g[n+200>>2]+g[n+88>>2])-x(g[t+200>>2]+f)),(r=x(x(x(b*b)+x(A*A))+x(c*c)))>x(1.1920928955078125e-7)&&(v=c,D=a,r=x(x(1)/x(T(r))),p=x(b*r),S=g[I+324>>2],u=x(A*r),d=g[I+340>>2],_=x(c*r),P=g[I+356>>2],w=g[I+328>>2],E=g[I+344>>2],l=g[I+360>>2],c=g[I+332>>2],a=g[I+348>>2],r=g[I+364>>2],u=x(D*x(x(1)/x(x(x(x(p*x(x(x(p*S)+x(u*d))+x(_*P)))+x(u*x(x(x(p*w)+x(u*E))+x(_*l))))+x(_*x(x(x(p*c)+x(u*a))+x(_*r))))+x(x(x(p*x(x(x(p*g[C+324>>2])+x(u*g[C+340>>2]))+x(_*g[C+356>>2])))+x(u*x(x(x(p*g[C+328>>2])+x(u*g[C+344>>2]))+x(_*g[C+360>>2]))))+x(_*x(x(x(p*g[C+332>>2])+x(u*g[C+348>>2]))+x(_*g[C+364>>2]))))))),D=_=x(v*u),b=x(b*u),u=x(A*u),v=x(T(x(x(_*_)+x(x(b*b)+x(u*u))))),_=x(x(1)/v),p=x(D*_),A=x(u*_),u=x(b*_),h[t+240>>2]&&(_=x(v*x(0)),g[t+64>>2]=x(_*g[t+112>>2])+g[t+64>>2],g[t+68>>2]=x(_*g[t+116>>2])+g[t+68>>2],g[t+72>>2]=x(_*g[t+120>>2])+g[t+72>>2],g[t+88>>2]=f+x(x(x(x(u*P)+x(A*l))+x(p*r))*x(v*g[t+104>>2])),g[t+84>>2]=N+x(x(x(x(u*d)+x(A*E))+x(p*a))*x(v*g[t+100>>2])),g[t+80>>2]=R+x(x(x(x(u*S)+x(A*w))+x(p*c))*x(v*g[t+96>>2]))),h[n+240>>2]&&(S=g[C+364>>2],d=g[C+356>>2],P=g[C+360>>2],w=g[C+348>>2],E=g[C+340>>2],l=g[C+344>>2],c=g[C+332>>2],a=g[C+324>>2],r=g[C+328>>2],f=x(v*x(-0)),g[n+64>>2]=x(f*g[n+112>>2])+g[n+64>>2],g[n+68>>2]=x(f*g[n+116>>2])+g[n+68>>2],g[n+72>>2]=x(f*g[n+120>>2])+g[n+72>>2],c=x(x(x(u*a)+x(A*r))+x(p*c)),a=x(-v),g[n+80>>2]=x(c*x(g[n+96>>2]*a))+g[n+80>>2],r=g[n+104>>2],g[n+84>>2]=x(x(x(x(u*E)+x(A*l))+x(p*w))*x(g[n+100>>2]*a))+g[n+84>>2],g[n+88>>2]=x(x(x(x(u*d)+x(A*P))+x(p*S))*x(r*a))+g[n+88>>2])));A=x(g[n+200>>2]+g[n+88>>2]),b=x(g[n+196>>2]+g[n+84>>2]),u=x(g[t+200>>2]+g[t+88>>2]),_=x(g[t+196>>2]+g[t+84>>2]),R=x(g[n+192>>2]+g[n+80>>2]),N=x(g[t+192>>2]+g[t+80>>2]),m[e+526|0]&&(a=g[e+528>>2],p=x(x(x(a*g[e+504>>2])*g[e+432>>2])/i),l=g[e+460>>2],w=g[e+464>>2],c=g[e+468>>2],(r=x(x(x(x(R-N)*l)+x(x(b-_)*w))+x(x(A-u)*c)))>x(0)&&(p=x(p+x(x(a*r)*g[e+436>>2]))),a=g[e+516>>2],r=x(a+x(p*g[e+492>>2])),g[o+376>>2]=r,h[o+312>>2]=0,s=r>x(0)?o+376|0:o+312|0,r=g[s>>2],h[e+516>>2]=h[s>>2],r=x(r-a),P=x(c*r),E=x(l*r),l=g[e+536>>2],c=x(w*r),a=g[e+540>>2],r=g[e+544>>2],d=x(x(x(E*l)+x(c*a))+x(P*r)),w=x(P-x(r*d)),l=x(E-x(l*d)),r=x(c-x(a*d)),F=x(T(x(x(w*w)+x(x(l*l)+x(r*r))))),a=x(x(1)/F),O=x(w*a),v=x(r*a),p=x(l*a),h[t+240>>2]&&(s=h[e+28>>2],S=g[s+364>>2],d=g[s+356>>2],P=g[s+360>>2],w=g[s+348>>2],E=g[s+340>>2],l=g[s+344>>2],c=g[s+332>>2],a=g[s+328>>2],r=g[s+324>>2],f=x(F*x(0)),g[t+64>>2]=x(f*g[t+112>>2])+g[t+64>>2],g[t+68>>2]=x(f*g[t+116>>2])+g[t+68>>2],g[t+72>>2]=x(f*g[t+120>>2])+g[t+72>>2],g[t+80>>2]=x(x(x(x(p*r)+x(v*a))+x(O*c))*x(F*g[t+96>>2]))+g[t+80>>2],r=g[t+104>>2],g[t+84>>2]=x(x(x(x(p*E)+x(v*l))+x(O*w))*x(F*g[t+100>>2]))+g[t+84>>2],g[t+88>>2]=x(x(x(x(p*d)+x(v*P))+x(O*S))*x(F*r))+g[t+88>>2]),h[n+240>>2]&&(s=h[e+32>>2],S=g[s+364>>2],d=g[s+356>>2],P=g[s+360>>2],w=g[s+348>>2],E=g[s+340>>2],l=g[s+344>>2],c=g[s+332>>2],a=g[s+328>>2],r=g[s+324>>2],f=x(F*x(-0)),g[n+64>>2]=x(f*g[n+112>>2])+g[n+64>>2],g[n+68>>2]=x(f*g[n+116>>2])+g[n+68>>2],g[n+72>>2]=x(f*g[n+120>>2])+g[n+72>>2],c=x(x(x(p*r)+x(v*a))+x(O*c)),a=x(-F),g[n+80>>2]=x(c*x(g[n+96>>2]*a))+g[n+80>>2],r=g[n+104>>2],g[n+84>>2]=x(x(x(x(p*E)+x(v*l))+x(O*w))*x(g[n+100>>2]*a))+g[n+84>>2],g[n+88>>2]=x(x(x(x(p*d)+x(v*P))+x(O*S))*x(r*a))+g[n+88>>2])),m[e+525|0]&&(a=g[e+532>>2],i=x(x(x(a*g[e+508>>2])*g[e+432>>2])/i),p=g[e+476>>2],c=x(b-_),b=g[e+480>>2],l=x(A-u),A=g[e+484>>2],(r=x(x(x(x(R-N)*p)+x(c*b))+x(l*A)))>x(0)&&(i=x(i+x(x(a*r)*g[e+436>>2]))),r=g[e+520>>2],i=x(r+x(i*g[e+496>>2])),g[o+376>>2]=i,h[o+312>>2]=0,s=i>x(0)?o+376|0:o+312|0,i=g[s>>2],h[e+520>>2]=h[s>>2],f=x(i-r),h[t+240>>2]&&(s=h[e+28>>2],d=g[s+364>>2],P=g[s+356>>2],w=g[s+360>>2],E=g[s+348>>2],l=g[s+340>>2],c=g[s+344>>2],a=g[s+332>>2],r=g[s+328>>2],i=g[s+324>>2],S=x(f*x(0)),g[t+64>>2]=x(S*g[t+112>>2])+g[t+64>>2],g[t+68>>2]=x(S*g[t+116>>2])+g[t+68>>2],g[t+72>>2]=x(S*g[t+120>>2])+g[t+72>>2],g[t+80>>2]=x(x(x(x(p*i)+x(b*r))+x(A*a))*x(f*g[t+96>>2]))+g[t+80>>2],i=g[t+104>>2],g[t+84>>2]=x(x(x(x(p*l)+x(b*c))+x(A*E))*x(f*g[t+100>>2]))+g[t+84>>2],g[t+88>>2]=x(x(x(x(p*P)+x(b*w))+x(A*d))*x(f*i))+g[t+88>>2],A=g[e+484>>2],p=g[e+476>>2],b=g[e+480>>2]),h[n+240>>2]&&(e=h[e+32>>2],d=g[e+364>>2],P=g[e+356>>2],w=g[e+360>>2],E=g[e+348>>2],l=g[e+340>>2],c=g[e+344>>2],a=g[e+332>>2],r=g[e+328>>2],i=g[e+324>>2],S=x(f*x(-0)),g[n+64>>2]=x(S*g[n+112>>2])+g[n+64>>2],g[n+68>>2]=x(S*g[n+116>>2])+g[n+68>>2],g[n+72>>2]=x(S*g[n+120>>2])+g[n+72>>2],i=x(x(x(p*i)+x(b*r))+x(A*a)),r=x(-f),g[n+80>>2]=x(i*x(g[n+96>>2]*r))+g[n+80>>2],i=g[n+104>>2],g[n+84>>2]=x(x(x(x(p*l)+x(b*c))+x(A*E))*x(g[n+100>>2]*r))+g[n+84>>2],g[n+88>>2]=x(x(x(x(p*P)+x(b*w))+x(A*d))*x(i*r))+g[n+88>>2]))}z=o+464|0},r[167]=function(e,t,n,i){if(e|=0,t|=0,n=x(n),i|=0,(t=t+-1|0)>>>0<=3){switch(t-2|0){default:return i>>>0<=2?(g[e+600>>2]=n,void(h[e+592>>2]=2|h[e+592>>2])):void(g[e+432>>2]=n);case 0:case 1:}if(i>>>0<=2)return g[e+596>>2]=n,void(h[e+592>>2]=1|h[e+592>>2]);g[e+604>>2]=n,h[e+592>>2]=4|h[e+592>>2]}},r[168]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0);e:if(!((t=t+-1|0)>>>0>3)){switch(t-2|0){default:if(n>>>0<=2)return x(g[e+600>>2]);if(n+-3>>>0>2)break e;return x(g[e+432>>2]);case 0:case 1:}if(n>>>0<=2)return x(g[e+596>>2]);n+-3>>>0>2||(i=g[e+604>>2])}return x(i)},r[169]=function(){return 212},r[170]=function(e,t,n){return gr(e|=0,t|=0,n|=0),h[t+52>>2]=h[e+300>>2],h[t+56>>2]=h[e+304>>2],h[t+60>>2]=h[e+308>>2],h[t+64>>2]=h[e+312>>2],h[t+68>>2]=h[e+316>>2],h[t+72>>2]=h[e+320>>2],h[t+76>>2]=h[e+324>>2],h[t+80>>2]=h[e+328>>2],h[t+84>>2]=h[e+332>>2],h[t+88>>2]=h[e+336>>2],h[t+92>>2]=h[e+340>>2],h[t+96>>2]=h[e+344>>2],h[t+100>>2]=h[e+348>>2],h[t+104>>2]=h[e+352>>2],h[t+108>>2]=h[e+356>>2],h[t+112>>2]=h[e+360>>2],h[t+116>>2]=h[e+364>>2],h[t+120>>2]=h[e+368>>2],h[t+124>>2]=h[e+372>>2],h[t+128>>2]=h[e+376>>2],h[t+132>>2]=h[e+380>>2],h[t+136>>2]=h[e+384>>2],h[t+140>>2]=h[e+388>>2],h[t+144>>2]=h[e+392>>2],h[t+148>>2]=h[e+396>>2],h[t+152>>2]=h[e+400>>2],h[t+156>>2]=h[e+404>>2],h[t+160>>2]=h[e+408>>2],h[t+164>>2]=h[e+412>>2],h[t+168>>2]=h[e+416>>2],h[t+172>>2]=h[e+420>>2],h[t+176>>2]=h[e+424>>2],h[t+180>>2]=h[e+444>>2],h[t+184>>2]=h[e+448>>2],h[t+188>>2]=h[e+452>>2],h[t+192>>2]=h[e+428>>2],h[t+196>>2]=h[e+432>>2],h[t+200>>2]=h[e+436>>2],h[t+204>>2]=h[e+440>>2],3880},r[171]=function(e,t,n){e|=0,n|=0;var i=0;i=h[4+(t|=0)>>2],h[e+300>>2]=h[t>>2],h[e+304>>2]=i,i=h[t+12>>2],h[e+308>>2]=h[t+8>>2],h[e+312>>2]=i,i=h[t+28>>2],h[e+324>>2]=h[t+24>>2],h[e+328>>2]=i,i=h[t+20>>2],h[e+316>>2]=h[t+16>>2],h[e+320>>2]=i,i=h[t+44>>2],h[e+340>>2]=h[t+40>>2],h[e+344>>2]=i,i=h[t+36>>2],h[e+332>>2]=h[t+32>>2],h[e+336>>2]=i,i=h[t+60>>2],h[e+356>>2]=h[t+56>>2],h[e+360>>2]=i,i=h[t+52>>2],h[e+348>>2]=h[t+48>>2],h[e+352>>2]=i,t=h[n+12>>2],h[e+372>>2]=h[n+8>>2],h[e+376>>2]=t,t=h[n+4>>2],h[e+364>>2]=h[n>>2],h[e+368>>2]=t,t=h[n+20>>2],h[e+380>>2]=h[n+16>>2],h[e+384>>2]=t,t=h[n+28>>2],h[e+388>>2]=h[n+24>>2],h[e+392>>2]=t,t=h[n+36>>2],h[e+396>>2]=h[n+32>>2],h[e+400>>2]=t,t=h[n+44>>2],h[e+404>>2]=h[n+40>>2],h[e+408>>2]=t,t=h[n+60>>2],h[e+420>>2]=h[n+56>>2],h[e+424>>2]=t,t=h[n+52>>2],h[e+412>>2]=h[n+48>>2],h[e+416>>2]=t,r[h[h[e>>2]+8>>2]](e)},r[172]=Ar,r[173]=function(e){e|=0;var t,n=0,i=x(0),o=x(0),r=0,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=0,A=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=0,R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0);if(z=t=z-176|0,m[e+738|0]){h[e+744>>2]=0,h[e+36>>2]=0;e:if(!m[e+736|0])for(a=g[e+664>>2],n=h[e+32>>2],s=g[e+668>>2],i=g[e+672>>2],p=x(x(x(x(a*g[n+4>>2])+x(s*g[n+8>>2]))+x(i*g[n+12>>2]))+g[n+52>>2]),l=g[e+600>>2],r=h[e+28>>2],o=g[e+604>>2],u=g[e+608>>2],_=x(x(x(x(l*g[r+4>>2])+x(o*g[r+8>>2]))+x(u*g[r+12>>2]))+g[r+52>>2]),f=x(p-_),E=x(x(x(x(a*g[n+20>>2])+x(s*g[n+24>>2]))+x(i*g[n+28>>2]))+g[n+56>>2]),w=x(x(x(x(l*g[r+20>>2])+x(o*g[r+24>>2]))+x(u*g[r+28>>2]))+g[r+56>>2]),c=x(E-w),M=x(x(x(x(a*g[n+36>>2])+x(s*g[n+40>>2]))+x(i*g[n+44>>2]))+g[n+60>>2]),O=x(x(x(x(l*g[r+36>>2])+x(o*g[r+40>>2]))+x(u*g[r+44>>2]))+g[r+60>>2]),a=x(M-O),(s=x(x(x(f*f)+x(c*c))+x(a*a)))>x(1.1920928955078125e-7)?(h[t+140>>2]=0,s=x(x(1)/x(T(s))),i=x(a*s),g[t+136>>2]=i,a=x(c*s),g[t+132>>2]=a,s=x(f*s),g[t+128>>2]=s):(h[t+136>>2]=0,h[t+140>>2]=0,h[t+128>>2]=1065353216,h[t+132>>2]=0,s=x(1),a=x(0),i=x(0)),x(b(i))>x(.7071067690849304)?(o=x(x(i*i)+x(a*a)),l=x(x(1)/x(T(o))),o=x(o*l),u=x(l*x(-i)),f=x(s*u),i=x(a*l),a=x(i*x(-s)),c=x(0)):(o=x(x(s*s)+x(a*a)),l=x(x(1)/x(T(o))),f=x(o*l),c=x(l*x(-a)),a=x(i*c),u=x(s*l),o=x(u*x(-i)),i=x(0)),g[t+168>>2]=f,g[t+164>>2]=a,g[t+152>>2]=i,g[t+148>>2]=u,g[t+160>>2]=o,g[t+144>>2]=c;;){if(r=h[e+28>>2],h[t+80>>2]=h[r+4>>2],h[t+84>>2]=h[r+20>>2],v=h[r+36>>2],h[t+92>>2]=0,h[t+88>>2]=v,h[t+96>>2]=h[r+8>>2],h[t+100>>2]=h[r+24>>2],v=h[r+40>>2],h[t+108>>2]=0,h[t+104>>2]=v,h[t+112>>2]=h[r+12>>2],h[t+116>>2]=h[r+28>>2],v=h[r+44>>2],h[t+124>>2]=0,h[t+120>>2]=v,h[t+32>>2]=h[n+4>>2],h[t+36>>2]=h[n+20>>2],v=h[n+36>>2],h[t+44>>2]=0,h[t+40>>2]=v,h[t+48>>2]=h[n+8>>2],h[t+52>>2]=h[n+24>>2],v=h[n+40>>2],h[t+60>>2]=0,h[t+56>>2]=v,h[t+64>>2]=h[n+12>>2],h[t+68>>2]=h[n+28>>2],v=h[n+44>>2],h[t+76>>2]=0,h[t+72>>2]=v,a=g[r+52>>2],s=g[r+56>>2],i=g[r+60>>2],h[t+28>>2]=0,g[t+24>>2]=O-i,g[t+20>>2]=w-s,g[t+16>>2]=_-a,a=g[n+52>>2],s=g[n+56>>2],i=g[n+60>>2],h[t+12>>2]=0,g[t+8>>2]=M-i,g[t+4>>2]=E-s,g[t>>2]=p-a,Ga(48+(y(I,84)+e|0)|0,t+80|0,t+32|0,t+16|0,t,(t+128|0)+(I<<4)|0,r+456|0,g[r+404>>2],n+456|0,g[n+404>>2]),3==(0|(I=I+1|0)))break e;n=h[e+32>>2]}a=g[e+576>>2],s=g[e+560>>2],l=g[e+592>>2],x(b(l))>x(.7071067690849304)?(o=x(x(l*l)+x(a*a)),i=x(x(1)/x(T(o))),u=x(o*i),o=x(i*x(-l)),f=x(o*s),p=x(0),_=x(i*a),i=x(_*x(-s))):(o=x(x(s*s)+x(a*a)),i=x(x(1)/x(T(o))),f=x(o*i),o=x(i*s),u=x(o*x(-l)),_=x(0),p=x(i*x(-a)),i=x(l*p)),n=h[e+32>>2],A=g[n+36>>2],R=g[n+20>>2],N=g[(I=n+4|0)>>2],C=g[n+40>>2],D=g[n+24>>2],L=g[n+8>>2],S=g[n+44>>2],F=g[n+28>>2],B=g[n+12>>2],r=h[e+28>>2],E=g[r+44>>2],w=g[r+36>>2],M=g[r+40>>2],O=g[r+12>>2],U=g[(v=r+4|0)>>2],j=g[r+8>>2],k=g[r+28>>2],G=g[r+20>>2],H=g[r+24>>2],h[e+344>>2]=0,h[e+328>>2]=0,h[e+308>>2]=0,h[e+312>>2]=0,h[e+300>>2]=0,h[e+304>>2]=0,c=x(x(x(p*U)+x(o*j))+x(_*O)),d=x(x(x(p*G)+x(o*H))+x(_*k)),o=x(x(x(p*w)+x(o*M))+x(_*E)),p=x(x(x(O*c)+x(k*d))+x(E*o)),g[e+324>>2]=p,_=x(x(x(c*j)+x(d*H))+x(o*M)),g[e+320>>2]=_,P=x(x(x(c*U)+x(d*G))+x(o*w)),g[e+316>>2]=P,d=x(-d),S=x(x(x(F*d)-x(c*B))-x(o*S)),g[e+340>>2]=S,C=x(x(x(D*d)-x(c*L))-x(o*C)),g[e+336>>2]=C,o=x(x(x(R*d)-x(c*N))-x(o*A)),g[e+332>>2]=o,c=g[r+456>>2],d=g[r+460>>2],A=g[r+464>>2],h[e+360>>2]=0,A=x(p*A),g[e+356>>2]=A,d=x(_*d),g[e+352>>2]=d,c=x(P*c),g[e+348>>2]=c,R=g[n+456>>2],N=g[n+460>>2],D=g[n+464>>2],h[e+376>>2]=0,D=x(S*D),g[e+372>>2]=D,N=x(C*N),g[e+368>>2]=N,R=x(o*R),g[e+364>>2]=R,g[e+380>>2]=x(x(x(P*c)+x(_*d))+x(p*A))+x(x(x(o*R)+x(C*N))+x(S*D)),P=g[r+36>>2],S=g[v>>2],C=g[r+20>>2],d=g[r+40>>2],A=g[r+8>>2],R=g[r+24>>2],_=g[r+44>>2],N=g[r+12>>2],D=g[r+28>>2],L=g[n+36>>2],F=g[n+20>>2],B=g[I>>2],V=g[n+40>>2],W=g[n+24>>2],Y=g[n+8>>2],X=g[n+44>>2],o=g[n+28>>2],Q=g[n+12>>2],h[e+428>>2]=0,h[e+412>>2]=0,h[e+392>>2]=0,h[e+396>>2]=0,h[e+384>>2]=0,h[e+388>>2]=0,c=x(x(x(u*G)+x(i*H))+x(f*k)),p=x(-c),q=x(o*p),o=x(x(x(u*U)+x(i*j))+x(f*O)),i=x(x(x(u*w)+x(i*M))+x(f*E)),u=x(x(q-x(Q*o))-x(X*i)),g[e+424>>2]=u,f=x(x(x(W*p)-x(o*Y))-x(i*V)),g[e+420>>2]=f,p=x(x(x(F*p)-x(o*B))-x(i*L)),g[e+416>>2]=p,_=x(x(x(o*N)+x(c*D))+x(i*_)),g[e+408>>2]=_,d=x(x(x(o*A)+x(c*R))+x(i*d)),g[e+404>>2]=d,i=x(x(x(o*S)+x(c*C))+x(i*P)),g[e+400>>2]=i,o=g[r+456>>2],c=g[r+460>>2],P=g[r+464>>2],h[e+444>>2]=0,P=x(_*P),g[e+440>>2]=P,c=x(d*c),g[e+436>>2]=c,o=x(i*o),g[e+432>>2]=o,S=g[n+456>>2],C=g[n+460>>2],A=g[n+464>>2],h[e+460>>2]=0,A=x(u*A),g[e+456>>2]=A,C=x(f*C),g[e+452>>2]=C,S=x(p*S),g[e+448>>2]=S,g[e+464>>2]=x(x(x(i*o)+x(d*c))+x(_*P))+x(x(x(p*S)+x(f*C))+x(u*A)),p=g[r+36>>2],_=g[v>>2],d=g[r+20>>2],c=g[r+40>>2],P=g[r+8>>2],S=g[r+24>>2],f=g[r+44>>2],C=g[r+12>>2],A=g[r+28>>2],R=g[n+36>>2],N=g[n+20>>2],D=g[I>>2],L=g[n+40>>2],F=g[n+24>>2],B=g[n+8>>2],V=g[n+44>>2],i=g[n+28>>2],W=g[n+12>>2],h[e+512>>2]=0,h[e+496>>2]=0,h[e+476>>2]=0,h[e+480>>2]=0,h[e+468>>2]=0,h[e+472>>2]=0,o=x(x(x(G*s)+x(H*a))+x(l*k)),u=x(-o),q=x(i*u),i=x(x(x(U*s)+x(j*a))+x(l*O)),a=x(x(x(w*s)+x(M*a))+x(l*E)),s=x(x(q-x(W*i))-x(V*a)),g[e+508>>2]=s,l=x(x(x(F*u)-x(i*B))-x(a*L)),g[e+504>>2]=l,u=x(x(x(N*u)-x(i*D))-x(a*R)),g[e+500>>2]=u,f=x(x(x(i*C)+x(o*A))+x(a*f)),g[e+492>>2]=f,c=x(x(x(i*P)+x(o*S))+x(a*c)),g[e+488>>2]=c,a=x(x(x(i*_)+x(o*d))+x(a*p)),g[e+484>>2]=a,i=g[r+456>>2],o=g[r+460>>2],p=g[r+464>>2],h[e+528>>2]=0,p=x(f*p),g[e+524>>2]=p,o=x(c*o),g[e+520>>2]=o,i=x(a*i),g[e+516>>2]=i,_=g[n+456>>2],E=g[n+460>>2],w=g[n+464>>2],h[e+724>>2]=0,h[e+544>>2]=0,w=x(s*w),g[e+540>>2]=w,E=x(l*E),g[e+536>>2]=E,_=x(u*_),g[e+532>>2]=_,g[e+548>>2]=x(x(x(a*i)+x(c*o))+x(f*p))+x(x(x(u*_)+x(l*E))+x(s*w)),a=qs(e,v,I),g[e+728>>2]=a,Be(e+688|0,a),I=e,i=g[e+560>>2],n=h[e+28>>2],l=g[e+576>>2],o=g[e+592>>2],a=x(x(x(i*g[n+4>>2])+x(l*g[n+8>>2]))+x(o*g[n+12>>2])),s=x(x(x(i*g[n+20>>2])+x(l*g[n+24>>2]))+x(o*g[n+28>>2])),i=x(x(x(i*g[n+36>>2])+x(l*g[n+40>>2]))+x(o*g[n+44>>2])),e=h[e+32>>2],g[I+720>>2]=x(1)/x(x(x(x(a*x(x(x(a*g[n+324>>2])+x(s*g[n+340>>2]))+x(i*g[n+356>>2])))+x(s*x(x(x(a*g[n+328>>2])+x(s*g[n+344>>2]))+x(i*g[n+360>>2]))))+x(i*x(x(x(a*g[n+332>>2])+x(s*g[n+348>>2]))+x(i*g[n+364>>2]))))+x(x(x(a*x(x(x(a*g[e+324>>2])+x(s*g[e+340>>2]))+x(i*g[e+356>>2])))+x(s*x(x(x(a*g[e+328>>2])+x(s*g[e+344>>2]))+x(i*g[e+360>>2]))))+x(i*x(x(x(a*g[e+332>>2])+x(s*g[e+348>>2]))+x(i*g[e+364>>2])))))}z=t+176|0},r[174]=function(e,t){e|=0,t|=0;var n=x(0);if(m[e+738|0])return h[t>>2]=0,void(h[t+4>>2]=0);h[t>>2]=5,h[t+4>>2]=1,n=qs(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0),g[e+728>>2]=n,Be(e+688|0,n),(m[e+737|0]||m[e+716|0])&&(h[t>>2]=h[t>>2]+1,h[t+4>>2]=h[t+4>>2]+-1)},r[175]=function(e,t){t|=0;var n,i,o=0,r=0;n=(o=h[32+(e|=0)>>2])+388|0,i=(r=h[e+28>>2])+388|0,o=o+4|0,r=r+4|0,m[e+739|0]?function(e,t,n,i,o,r){var s,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),b=0,C=x(0),S=x(0),E=x(0),w=x(0),P=0,I=x(0),R=x(0),N=0,D=0,M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=0,j=0,k=x(0),G=0,H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),re=x(0),ae=x(0),se=x(0),ce=x(0),le=x(0),pe=x(0),ue=x(0),_e=x(0),fe=x(0),he=x(0),me=x(0),de=x(0),ve=x(0),ge=x(0);z=s=z+-64|0,c=g[e+588>>2],M=g[e+572>>2],O=g[e+556>>2],Y=g[i+56>>2],X=g[i+52>>2],C=g[e+664>>2],S=g[e+668>>2],E=g[e+672>>2],Q=g[n+56>>2],Z=g[n+52>>2],w=g[e+600>>2],R=g[e+604>>2],_=g[e+608>>2],J=g[i+36>>2],K=g[i+40>>2],L=g[n+36>>2],H=g[n+40>>2],l=g[e+624>>2],k=g[i+20>>2],d=g[e+640>>2],$=g[i+24>>2],I=g[e+656>>2],f=g[e+560>>2],V=g[n+20>>2],v=g[e+576>>2],W=g[n+24>>2],A=g[e+592>>2],B=g[h[e+32>>2]+404>>2],de=g[h[e+28>>2]+404>>2],N=h[t+24>>2],ee=g[i+48>>2],te=g[n+48>>2],ne=g[i+32>>2],q=g[n+32>>2],ie=g[i+8>>2],F=g[i>>2],ve=g[i+4>>2],oe=g[n+8>>2],re=g[n>>2],ae=g[n+4>>2],ge=g[i+16>>2],se=g[n+16>>2],h[s+60>>2]=0,u=(u=x(de+B))>x(0)?x(B/u):x(.5),p=x(x(1)-u),ce=x(x(x(f*q)+x(v*L))+x(A*H)),le=x(x(x(l*ne)+x(d*J))+x(I*K)),pe=x(x(ce*u)+x(le*p)),ue=x(x(x(re*f)+x(ae*v))+x(oe*A)),_e=x(x(x(F*l)+x(ve*d))+x(ie*I)),fe=x(x(ue*u)+x(_e*p)),he=x(x(x(f*se)+x(v*V))+x(A*W)),me=x(x(x(l*ge)+x(d*k))+x(I*$)),d=x(x(he*u)+x(me*p)),I=x(x(1)/x(T(x(x(pe*pe)+x(x(fe*fe)+x(d*d)))))),l=x(pe*I),g[s+56>>2]=l,d=x(d*I),g[s+52>>2]=d,I=x(fe*I),g[s+48>>2]=I,h[s+28>>2]=0,J=x(Y+x(x(x(ne*C)+x(J*S))+x(K*E))),v=x(J-Y),Y=x(ee+x(x(x(F*C)+x(ve*S))+x(ie*E))),A=x(Y-ee),K=x(X+x(x(x(ge*C)+x(k*S))+x($*E))),S=x(K-X),E=x(x(v*l)+x(x(A*I)+x(S*d))),f=x(l*E),X=x(Q+x(x(x(q*w)+x(L*R))+x(H*_))),C=x(X-Q),Q=x(te+x(x(x(re*w)+x(ae*R))+x(oe*_))),k=x(Q-te),$=x(Z+x(x(x(se*w)+x(V*R))+x(W*_))),_=x($-Z),w=x(x(C*l)+x(x(k*I)+x(_*d))),R=x(l*w),v=x(v-f),Z=x(C-R),C=x(x(u*v)+x(p*Z)),g[s+24>>2]=C,ee=x(d*E),te=x(S-ee),F=_,_=x(d*w),ne=x(F-_),S=x(x(u*te)+x(p*ne)),g[s+20>>2]=S,F=A,A=x(I*E),ie=x(F-A),F=k,k=x(I*w),F=x(F-k),E=x(x(u*ie)+x(p*F)),g[s+16>>2]=E,f=x(R-f),w=x(v-x(p*f)),v=x(_-ee),R=x(te-x(p*v)),A=x(k-A),_=x(ie-x(p*A)),f=x(Z+x(u*f)),v=x(ne+x(u*v)),A=x(F+x(u*A)),i=de<x(1.1920928955078125e-7)|B<x(1.1920928955078125e-7),n=s,(B=x(x(C*C)+x(x(E*E)+x(S*S))))>x(1.1920928955078125e-7)?(c=x(x(1)/x(T(B))),C=x(C*c),g[s+24>>2]=C,S=x(S*c),g[s+20>>2]=S,c=x(E*c)):(h[s+28>>2]=0,C=x(x(x(O*q)+x(M*L))+x(c*H)),g[s+24>>2]=C,S=x(x(x(O*se)+x(M*V))+x(c*W)),g[s+20>>2]=S,c=x(x(x(re*O)+x(ae*M))+x(oe*c))),g[n+16>>2]=c,h[s+12>>2]=0,M=x(x(I*S)-x(d*c)),g[s+8>>2]=M,O=x(x(l*c)-x(I*C)),g[s+4>>2]=O,E=x(x(d*C)-x(l*S)),g[s>>2]=E,g[s+40>>2]=x(A*S)-x(v*c),g[s+36>>2]=x(f*c)-x(A*C),g[s+32>>2]=x(v*C)-x(f*S),P=h[s+36>>2],n=h[t+12>>2],h[n>>2]=h[s+32>>2],h[n+4>>2]=P,h[n+8>>2]=h[s+40>>2],n=h[t+20>>2],g[n+8>>2]=-x(x(_*S)-x(R*c)),g[n+4>>2]=-x(x(w*c)-x(_*C)),g[n>>2]=-x(x(R*C)-x(w*S)),h[s+44>>2]=0,W=x(x(A*O)-x(v*E)),g[s+40>>2]=W,B=x(x(f*E)-x(A*M)),g[s+36>>2]=B,q=x(x(v*M)-x(f*O)),g[s+32>>2]=q,L=x(x(_*O)-x(R*E)),H=x(x(w*E)-x(_*M)),V=x(x(R*M)-x(w*O)),!i|!m[e+716|0]||(g[s+40>>2]=u*W,g[s+36>>2]=u*B,g[s+32>>2]=u*q,H=x(p*H),V=x(p*V),L=x(p*L)),b=h[s+36>>2],n=(P=N<<2)+h[t+12>>2]|0,h[n>>2]=h[s+32>>2],h[n+4>>2]=b,h[n+8>>2]=h[s+40>>2],n=h[t+20>>2],g[n+P>>2]=-V,g[n+((P=N+1|0)<<2)>>2]=-H,g[n+((U=N+2|0)<<2)>>2]=-L,L=x(x(A*d)-x(v*I)),g[s+40>>2]=L,h[s+44>>2]=0,A=x(x(f*I)-x(A*l)),g[s+36>>2]=A,v=x(x(v*l)-x(f*d)),g[s+32>>2]=v,f=x(x(_*d)-x(R*I)),_=x(x(w*I)-x(_*l)),w=x(x(R*l)-x(w*d)),i&&(g[s+40>>2]=u*L,g[s+36>>2]=u*A,g[s+32>>2]=u*v,f=x(p*f),_=x(p*_),w=x(p*w)),D=h[s+36>>2],n=(b=(i=N<<1)<<2)+h[t+12>>2]|0,h[n>>2]=h[s+32>>2],h[n+4>>2]=D,h[n+8>>2]=h[s+40>>2],n=h[t+20>>2],g[b+n>>2]=-w,g[((D=1|i)<<2)+n>>2]=-_,g[((G=i+2|0)<<2)+n>>2]=-f,R=g[(8&m[e+748|0]?e+756|0:t+4|0)>>2],m[e+736|0]?(f=x(-M),w=x(-O),u=x(-E),_=x(-c),P=h[t+28>>2]):(p=g[t>>2],b=h[s+20>>2],n=h[t+8>>2],h[n>>2]=h[s+16>>2],h[n+4>>2]=b,h[n+8>>2]=h[s+24>>2],j=h[s+4>>2],n=(b=N<<2)+h[t+8>>2]|0,h[n>>2]=h[s>>2],h[n+4>>2]=j,h[n+8>>2]=h[s+8>>2],j=h[s+52>>2],n=(i<<=2)+h[t+8>>2]|0,h[n>>2]=h[s+48>>2],h[n+4>>2]=j,h[n+8>>2]=h[s+56>>2],n=h[t+16>>2],_=x(-c),g[n>>2]=_,g[n+4>>2]=-S,g[n+8>>2]=-C,u=x(-E),g[n+b>>2]=u,w=x(-O),g[n+(P<<2)>>2]=w,f=x(-M),g[n+(U<<2)>>2]=f,g[n+i>>2]=-I,g[n+(D<<2)>>2]=-d,g[n+(G<<2)>>2]=-l,P=h[t+28>>2],p=x(R*p),v=x(Y-Q),A=x(K-$),L=x(J-X),g[P>>2]=p*x(x(x(v*c)+x(A*S))+x(L*C)),g[b+P>>2]=p*x(x(x(v*E)+x(A*O))+x(L*M)),g[i+P>>2]=p*x(x(x(v*I)+x(A*d))+x(L*l)),n=h[t+20>>2]),i=h[t+12>>2],b=y(N,12),g[i+b>>2]=c,g[(U=b+8|0)+i>>2]=C,g[(D=b+4|0)+i>>2]=S,g[(N<<=4)+i>>2]=E,g[(G=4|N)+i>>2]=O,g[(j=8|N)+i>>2]=M,g[n+b>>2]=_,p=g[s+20>>2],g[n+D>>2]=-p,l=g[s+24>>2],g[n+U>>2]=-l,g[n+N>>2]=u,g[n+G>>2]=w,g[n+j>>2]=f,u=x(R*g[t>>2]),d=x(x(he*le)-x(ce*me)),_=x(d*c),c=x(x(ce*_e)-x(ue*le)),_=x(_+x(p*c)),p=x(x(ue*me)-x(he*_e)),g[b+P>>2]=u*x(_+x(l*p)),g[P+N>>2]=u*x(x(x(d*E)+x(c*O))+x(p*M));e:{if(m[e+716|0])U=(f=x(g[e+708>>2]*g[e+732>>2]))>x(0)?1:2,D=0!=m[e+737|0],N=1;else{if(!m[e+737|0])break e;f=x(0),D=1,U=0,N=0}if(u=g[s+48>>2],P=y(h[t+24>>2],5),h[(b=P<<2)+i>>2]=h[s+48>>2],c=g[s+52>>2],h[(G=b+4|0)+i>>2]=h[s+52>>2],p=g[s+56>>2],h[i+(j=b+8|0)>>2]=h[s+56>>2],g[n+G>>2]=-c,g[n+b>>2]=-u,g[n+j>>2]=-p,l=ja(n=e+688|0),d=ka(n),i=h[t+28>>2],h[b+i>>2]=0,n=((b=l!=d)|1^N)&D,2&(D=h[e+748>>2])&&(R=g[e+764>>2]),n&&(4&D&&(h[h[t+32>>2]+(P<<2)>>2]=h[e+752>>2]),l=Or(g[e+728>>2],l,d,g[e+680>>2],x(R*g[t>>2])),i=h[t+28>>2],g[(D=i+(n=P<<2)|0)>>2]=x(x(l*g[e+680>>2])*g[e+732>>2])+g[D>>2],g[n+h[t+36>>2]>>2]=-g[e+684>>2],h[n+h[t+40>>2]>>2]=h[e+684>>2]),N){g[(n=(n=i)+(i=P<<2)|0)>>2]=g[n>>2]+x(f*x(R*g[t>>2])),1&a[e+748|0]&&(h[i+h[t+32>>2]>>2]=h[e+760>>2]),b?(i=h[t+36>>2]+(P<<2)|0,1!=(0|U)?(h[i>>2]=-8388609,l=x(0)):(h[i>>2]=0,l=x(34028234663852886e22))):(h[h[t+36>>2]+(P<<2)>>2]=-8388609,l=x(34028234663852886e22)),g[h[t+40>>2]+(P<<2)>>2]=l;t:if((l=g[e+704>>2])>x(0))if(c=x(x(x(x(g[o>>2]*u)+x(g[o+4>>2]*c))+x(g[o+8>>2]*p))-x(x(x(g[r>>2]*u)+x(g[r+4>>2]*c))+x(g[r+8>>2]*p))),1!=(0|U))c>x(0)&&(c=x(c*x(-l)))<g[n>>2]&&(g[n>>2]=c);else{if(!(c<x(0)))break t;if(!((c=x(c*x(-l)))>g[n>>2]))break t;g[n>>2]=c}g[n>>2]=g[e+700>>2]*g[n>>2]}}z=s- -64|0}(e,t,r,o,i,n):function(e,t,n,i,o,r){var s,c,l=x(0),p=0,u=x(0),_=0,f=x(0),d=0,v=0,A=x(0),b=x(0),C=0,S=0,E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),z=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),re=x(0),ae=x(0),se=x(0),ce=x(0),le=x(0);P=g[e+656>>2],b=g[i+40>>2],te=x(P*b),z=g[e+624>>2],E=g[i+32>>2],F=g[e+640>>2],w=g[i+36>>2],ne=x(x(z*E)+x(F*w)),f=g[i+24>>2],ie=x(P*f),u=g[i+16>>2],l=g[i+20>>2],oe=x(x(z*u)+x(F*l)),H=g[e+592>>2],L=g[n+40>>2],re=x(H*L),N=g[e+560>>2],T=g[n+32>>2],D=g[e+576>>2],A=g[n+36>>2],ae=x(x(N*T)+x(D*A)),V=g[e+588>>2],se=x(V*L),W=g[e+556>>2],q=g[e+572>>2],M=x(x(W*T)+x(q*A)),Y=g[e+584>>2],B=x(Y*L),X=g[e+552>>2],Q=g[e+568>>2],U=x(x(X*T)+x(Q*A)),j=g[n+24>>2],ce=x(H*j),k=g[n+16>>2],G=g[n+20>>2],le=x(x(N*k)+x(D*G)),Z=g[e+664>>2],J=g[e+668>>2],I=g[e+672>>2],$=x(x(x(x(E*Z)+x(w*J))+x(b*I))+g[i+56>>2]),ee=x(x(x(x(u*Z)+x(l*J))+x(f*I))+g[i+52>>2]),K=g[e+600>>2],R=g[e+604>>2],l=x(x(T*K)+x(A*R)),A=g[e+608>>2],O=g[n+56>>2],L=x(x(l+x(L*A))+O),w=g[n+52>>2],T=x(x(x(x(k*K)+x(G*R))+x(j*A))+w),f=g[i>>2],u=g[i+4>>2],z=x(x(f*z)+x(u*F)),l=g[i+8>>2],F=x(l*P),P=g[n>>2],b=x(P*N),N=g[n+4>>2],b=x(b+x(N*D)),D=g[n+8>>2],E=x(D*H),I=x(g[i+48>>2]+x(x(x(f*Z)+x(u*J))+x(l*I))),A=x(g[n+48>>2]+x(x(x(P*K)+x(N*R))+x(D*A))),_=(c=h[t+24>>2])<<1,(d=m[e+736|0])||(p=h[t+8>>2],h[p>>2]=1065353216,h[(_=4+(c<<2)|0)+p>>2]=1065353216,h[(v=p)+(p=8+(c<<3)|0)>>2]=1065353216,C=h[t+16>>2],h[C>>2]=-1082130432,h[_+C>>2]=-1082130432,h[p+C>>2]=-1082130432,O=g[n+56>>2],w=g[n+52>>2],_=c<<1),l=g[n+48>>2],v=h[t+12>>2],h[v+12>>2]=0,f=x(L-O),g[v+4>>2]=f,h[v>>2]=0,u=x(T-w),g[v+8>>2]=-u,h[12+(n=(p=c<<2)+v|0)>>2]=0,l=x(A-l),g[n+8>>2]=l,h[n+4>>2]=0,g[n>>2]=-f,h[8+(_=(n=_<<2)+v|0)>>2]=0,h[_+12>>2]=0,g[_+4>>2]=-l,g[_>>2]=u,w=g[i+48>>2],u=g[i+56>>2],l=g[i+52>>2],s=h[t+20>>2],h[s+12>>2]=0,h[s>>2]=0,f=x(ee-l),g[s+8>>2]=f,u=x($-u),g[s+4>>2]=-u,h[12+(i=p+s|0)>>2]=0,l=x(I-w),g[i+8>>2]=-l,h[i+4>>2]=0,g[i>>2]=u,h[8+(n=n+s|0)>>2]=0,h[n+12>>2]=0,g[n+4>>2]=l,g[n>>2]=-f,O=g[(8&m[e+748|0]?e+756|0:t+4|0)>>2],R=x(O*g[t>>2]),S=h[t+28>>2],d||(g[S>>2]=R*x(I-A),g[p+S>>2]=R*x(ee-T),g[S+(c<<3)>>2]=R*x($-L)),C=y(c,12),T=x(x(x(X*P)+x(Q*N))+x(Y*D)),g[C+v>>2]=T,_=C+8|0,l=x(U+B),g[_+v>>2]=l,p=C+4|0,I=x(x(x(X*k)+x(Q*G))+x(Y*j)),g[p+v>>2]=I,d=c<<4,A=x(x(x(P*W)+x(N*q))+x(D*V)),g[d+v>>2]=A,i=4|d,B=x(x(x(W*k)+x(q*G))+x(V*j)),g[i+v>>2]=B,n=8|d,U=x(M+se),g[n+v>>2]=U,g[s+C>>2]=-T,g[_+s>>2]=-l,g[p+s>>2]=-I,g[s+d>>2]=-A,g[i+s>>2]=-B,g[n+s>>2]=-U,M=x(b+E),u=x(oe+ie),b=x(le+ce),w=x(z+F),f=x(x(M*u)-x(b*w)),P=x(l*f),l=x(ne+te),E=x(ae+re),u=x(x(b*l)-x(E*u)),l=x(x(E*w)-x(M*l)),g[S+C>>2]=x(P+x(x(T*u)+x(I*l)))*R,g[d+S>>2]=x(x(U*f)+x(x(A*u)+x(B*l)))*R;e:{if(m[e+716|0])C=1,_=0!=m[e+737|0],i=(f=x(g[e+708>>2]*g[e+732>>2]))>x(0)?1:2;else{if(!m[e+737|0])break e;C=0,f=x(0),_=1,i=0}if(S=y(c,5),g[(d=S<<2)+v>>2]=M,g[(p=d+8|0)+v>>2]=E,g[(n=d+4|0)+v>>2]=b,g[p+s>>2]=-E,g[n+s>>2]=-b,g[s+d>>2]=-M,u=ja(n=e+688|0),l=ka(n),n=h[t+28>>2],h[d+n>>2]=0,_&=(d=u!=l)|1^C,2&(p=h[e+748>>2])&&(O=g[e+764>>2]),_&&(4&p&&(h[h[t+32>>2]+(S<<2)>>2]=h[e+752>>2]),l=Or(g[e+728>>2],u,l,g[e+680>>2],x(O*g[t>>2])),n=h[t+28>>2],g[(p=n+(_=S<<2)|0)>>2]=x(x(l*g[e+680>>2])*g[e+732>>2])+g[p>>2],g[_+h[t+36>>2]>>2]=-g[e+684>>2],h[_+h[t+40>>2]>>2]=h[e+684>>2]),C){g[(p=(p=n)+(n=S<<2)|0)>>2]=g[p>>2]+x(f*x(O*g[t>>2])),1&a[e+748|0]&&(h[n+h[t+32>>2]>>2]=h[e+760>>2]),d?(n=h[t+36>>2]+(S<<2)|0,1!=(0|i)?(h[n>>2]=-8388609,l=x(0)):(h[n>>2]=0,l=x(34028234663852886e22))):(h[h[t+36>>2]+(S<<2)>>2]=-8388609,l=x(34028234663852886e22)),g[h[t+40>>2]+(S<<2)>>2]=l;t:if((l=g[e+704>>2])>x(0))if(u=x(x(x(x(M*g[o>>2])+x(b*g[o+4>>2]))+x(E*g[o+8>>2]))-x(x(x(M*g[r>>2])+x(b*g[r+4>>2]))+x(E*g[r+8>>2]))),1!=(0|i))u>x(0)&&(l=x(u*x(-l)))<g[p>>2]&&(g[p>>2]=l);else{if(!(u<x(0)))break t;if(!((l=x(u*x(-l)))>g[p>>2]))break t;g[p>>2]=l}g[p>>2]=g[e+700>>2]*g[p>>2]}}}(e,t,r,o,i,n)},r[176]=function(e,t,n,i){e|=0,t|=0,n=x(n);e:if(!((i=1+(i|=0)|0)>>>0>6)){switch(i-1|0){case 0:case 1:case 2:case 3:case 4:break e}if(!((t=t+-1|0)>>>0>3)){switch(t-1|0){case 0:return g[e+764>>2]=n,void(h[e+748>>2]=2|h[e+748>>2]);case 2:return g[e+760>>2]=n,void(h[e+748>>2]=1|h[e+748>>2]);case 1:return g[e+752>>2]=n,void(h[e+748>>2]=4|h[e+748>>2])}g[e+756>>2]=n,h[e+748>>2]=8|h[e+748>>2]}}},r[177]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0);e:if(!((n=n+1|0)>>>0>6)){switch(n-1|0){case 0:case 1:case 2:case 3:case 4:break e}if(!((t=t+-1|0)>>>0>3)){switch(t-1|0){case 0:return x(g[e+764>>2]);case 2:return x(g[e+760>>2]);case 1:return x(g[e+752>>2])}i=g[e+756>>2]}}return x(i)},r[178]=function(){return 220},r[179]=function(e,t,n){return gr(e|=0,t|=0,n|=0),h[t+52>>2]=h[e+552>>2],h[t+56>>2]=h[e+556>>2],h[t+60>>2]=h[e+560>>2],h[t+64>>2]=h[e+564>>2],h[t+68>>2]=h[e+568>>2],h[t+72>>2]=h[e+572>>2],h[t+76>>2]=h[e+576>>2],h[t+80>>2]=h[e+580>>2],h[t+84>>2]=h[e+584>>2],h[t+88>>2]=h[e+588>>2],h[t+92>>2]=h[e+592>>2],h[t+96>>2]=h[e+596>>2],h[t+100>>2]=h[e+600>>2],h[t+104>>2]=h[e+604>>2],h[t+108>>2]=h[e+608>>2],h[t+112>>2]=h[e+612>>2],h[t+116>>2]=h[e+616>>2],h[t+120>>2]=h[e+620>>2],h[t+124>>2]=h[e+624>>2],h[t+128>>2]=h[e+628>>2],h[t+132>>2]=h[e+632>>2],h[t+136>>2]=h[e+636>>2],h[t+140>>2]=h[e+640>>2],h[t+144>>2]=h[e+644>>2],h[t+148>>2]=h[e+648>>2],h[t+152>>2]=h[e+652>>2],h[t+156>>2]=h[e+656>>2],h[t+160>>2]=h[e+660>>2],h[t+164>>2]=h[e+664>>2],h[t+168>>2]=h[e+668>>2],h[t+172>>2]=h[e+672>>2],h[t+176>>2]=h[e+676>>2],h[t+184>>2]=m[e+736|0],h[t+188>>2]=m[e+737|0],h[t+196>>2]=h[e+684>>2],h[t+192>>2]=h[e+680>>2],h[t+180>>2]=m[e+740|0],n=e+688|0,g[t+200>>2]=ja(n),g[t+204>>2]=ka(n),h[t+208>>2]=h[e+696>>2],h[t+212>>2]=h[e+700>>2],h[t+216>>2]=h[e+704>>2],3996},r[180]=function(e){return h[748+(e|=0)>>2]},r[181]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0);return a=g[n+100>>2],s=g[n+16>>2],c=g[n+20>>2],l=g[n+24>>2],o=g[n+108>>2],i=x(x(x(g[n+112>>2]-x(a*g[n+116>>2]))-x(x(x(x(x(s*g[e+64>>2])+x(c*g[e+68>>2]))+x(l*g[e+72>>2]))+x(x(x(g[n>>2]*g[e+80>>2])+x(g[n+4>>2]*g[e+84>>2]))+x(g[n+8>>2]*g[e+88>>2])))*o))-x(o*x(x(x(x(g[n+48>>2]*g[t+64>>2])+x(g[n+52>>2]*g[t+68>>2]))+x(g[n+56>>2]*g[t+72>>2]))+x(x(x(g[n+32>>2]*g[t+80>>2])+x(g[n+36>>2]*g[t+84>>2]))+x(g[n+40>>2]*g[t+88>>2]))))),((o=x(a+i))<(r=g[n+120>>2])||o>(r=g[n+124>>2]))&&(i=x(r-a),o=r),g[n+100>>2]=o,h[e+240>>2]&&(g[e+64>>2]=x(g[e+112>>2]*x(i*x(s*g[e+128>>2])))+g[e+64>>2],g[e+68>>2]=x(x(i*x(c*g[e+132>>2]))*g[e+116>>2])+g[e+68>>2],g[e+72>>2]=x(x(i*x(l*g[e+136>>2]))*g[e+120>>2])+g[e+72>>2],o=g[n+72>>2],r=g[n+68>>2],g[e+80>>2]=x(x(i*g[e+96>>2])*g[n+64>>2])+g[e+80>>2],a=g[e+104>>2],g[e+84>>2]=x(r*x(i*g[e+100>>2]))+g[e+84>>2],g[e+88>>2]=x(o*x(i*a))+g[e+88>>2]),h[t+240>>2]&&(o=g[n+56>>2],r=g[n+52>>2],g[t+64>>2]=x(g[t+112>>2]*x(i*x(g[n+48>>2]*g[t+128>>2])))+g[t+64>>2],g[t+68>>2]=x(x(i*x(r*g[t+132>>2]))*g[t+116>>2])+g[t+68>>2],g[t+72>>2]=x(x(i*x(o*g[t+136>>2]))*g[t+120>>2])+g[t+72>>2],o=g[n+88>>2],r=g[n+84>>2],g[t+80>>2]=x(x(i*g[t+96>>2])*g[n+80>>2])+g[t+80>>2],a=g[t+104>>2],g[t+84>>2]=x(r*x(i*g[t+100>>2]))+g[t+84>>2],g[t+88>>2]=x(o*x(i*a))+g[t+88>>2]),x(i)},r[182]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0);return o=g[n+100>>2],s=g[n+16>>2],c=g[n+20>>2],l=g[n+24>>2],r=g[n+108>>2],r=x(x(x(g[n+112>>2]-x(o*g[n+116>>2]))-x(x(x(x(x(s*g[e+64>>2])+x(c*g[e+68>>2]))+x(l*g[e+72>>2]))+x(x(x(g[n>>2]*g[e+80>>2])+x(g[n+4>>2]*g[e+84>>2]))+x(g[n+8>>2]*g[e+88>>2])))*r))-x(r*x(x(x(x(g[n+48>>2]*g[t+64>>2])+x(g[n+52>>2]*g[t+68>>2]))+x(g[n+56>>2]*g[t+72>>2]))+x(x(x(g[n+32>>2]*g[t+80>>2])+x(g[n+36>>2]*g[t+84>>2]))+x(g[n+40>>2]*g[t+88>>2]))))),i=(p=x(o+r))<(a=g[n+120>>2]),g[n+100>>2]=i?a:p,o=i?x(a-o):r,h[e+240>>2]&&(g[e+64>>2]=x(g[e+112>>2]*x(o*x(s*g[e+128>>2])))+g[e+64>>2],g[e+68>>2]=x(x(o*x(c*g[e+132>>2]))*g[e+116>>2])+g[e+68>>2],g[e+72>>2]=x(x(o*x(l*g[e+136>>2]))*g[e+120>>2])+g[e+72>>2],r=g[n+72>>2],a=g[n+68>>2],g[e+80>>2]=x(x(o*g[e+96>>2])*g[n+64>>2])+g[e+80>>2],s=g[e+104>>2],g[e+84>>2]=x(a*x(o*g[e+100>>2]))+g[e+84>>2],g[e+88>>2]=x(r*x(o*s))+g[e+88>>2]),h[t+240>>2]&&(r=g[n+56>>2],a=g[n+52>>2],g[t+64>>2]=x(g[t+112>>2]*x(o*x(g[n+48>>2]*g[t+128>>2])))+g[t+64>>2],g[t+68>>2]=x(x(o*x(a*g[t+132>>2]))*g[t+116>>2])+g[t+68>>2],g[t+72>>2]=x(x(o*x(r*g[t+136>>2]))*g[t+120>>2])+g[t+72>>2],r=g[n+88>>2],a=g[n+84>>2],g[t+80>>2]=x(x(o*g[t+96>>2])*g[n+80>>2])+g[t+80>>2],s=g[t+104>>2],g[t+84>>2]=x(a*x(o*g[t+100>>2]))+g[t+84>>2],g[t+88>>2]=x(r*x(o*s))+g[t+88>>2]),x(o)},r[183]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=0;return(o=g[n+128>>2])!=x(0)&&(h[5778]=h[5778]+1,i=g[n+96>>2],r=x(o-x(i*g[n+116>>2])),a=g[n+16>>2],s=g[n+20>>2],c=g[n+24>>2],o=g[n+108>>2],o=x(x(r-x(x(x(x(x(a*g[e+144>>2])+x(s*g[e+148>>2]))+x(c*g[e+152>>2]))+x(x(x(g[n>>2]*g[e+160>>2])+x(g[n+4>>2]*g[e+164>>2]))+x(g[n+8>>2]*g[e+168>>2])))*o))-x(o*x(x(x(x(g[n+48>>2]*g[t+144>>2])+x(g[n+52>>2]*g[t+148>>2]))+x(g[n+56>>2]*g[t+152>>2]))+x(x(x(g[n+32>>2]*g[t+160>>2])+x(g[n+36>>2]*g[t+164>>2]))+x(g[n+40>>2]*g[t+168>>2]))))),p=(l=x(i+o))<(r=g[n+120>>2]),g[n+96>>2]=p?r:l,i=p?x(r-i):o,h[e+240>>2]&&(g[e+144>>2]=x(g[e+112>>2]*x(i*x(a*g[e+128>>2])))+g[e+144>>2],g[e+148>>2]=x(x(i*x(s*g[e+132>>2]))*g[e+116>>2])+g[e+148>>2],g[e+152>>2]=x(x(i*x(c*g[e+136>>2]))*g[e+120>>2])+g[e+152>>2],o=g[n+72>>2],r=g[n+68>>2],g[e+160>>2]=x(x(i*g[e+96>>2])*g[n+64>>2])+g[e+160>>2],a=g[e+104>>2],g[e+164>>2]=x(r*x(i*g[e+100>>2]))+g[e+164>>2],g[e+168>>2]=x(o*x(i*a))+g[e+168>>2]),h[t+240>>2]&&(o=g[n+56>>2],r=g[n+52>>2],g[t+144>>2]=x(g[t+112>>2]*x(i*x(g[n+48>>2]*g[t+128>>2])))+g[t+144>>2],g[t+148>>2]=x(x(i*x(r*g[t+132>>2]))*g[t+116>>2])+g[t+148>>2],g[t+152>>2]=x(x(i*x(o*g[t+136>>2]))*g[t+120>>2])+g[t+152>>2],o=g[n+88>>2],r=g[n+84>>2],g[t+160>>2]=x(x(i*g[t+96>>2])*g[n+80>>2])+g[t+160>>2],a=g[t+104>>2],g[t+164>>2]=x(r*x(i*g[t+100>>2]))+g[t+164>>2],g[t+168>>2]=x(o*x(i*a))+g[t+168>>2])),x(i)},r[184]=Ne,r[185]=function(e){(e=Ne(e|=0))&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[186]=Wo,r[187]=function(e,t,n,i,o,a,s,c,l,p){return e|=0,t|=0,n|=0,i|=0,o|=0,a|=0,s|=0,c|=0,l|=0,p|=0,z=p=z-16|0,r[h[5253]](4147),x(r[h[h[e>>2]+44>>2]](e,t,n,i,o,a,s,c,l)),x(r[h[h[e>>2]+48>>2]](e,t,n,i,o,a,s,c,l)),x(r[h[h[e>>2]+36>>2]](e,t,n,c)),r[h[5254]](),z=p+16|0,x(x(0))},r[188]=Wo,r[189]=function(e){h[232+(e|=0)>>2]=0},r[190]=Ie,r[191]=function(e,t,n,i){e|=0,t|=0,i|=0;var o=0;if((0|(n|=0))>=1)for(;wl(e,h[(o<<2)+t>>2],i),(0|(o=o+1|0))!=(0|n););},r[192]=function(e,t,n,i,o,a,s,c){e|=0,t|=0,n|=0,i|=0,o|=0,a|=0,c|=0;var l=x(0),p=x(0);e:if(!(!h[c+52>>2]|h[c+20>>2]<1))for(t=0;;){if(l=x(0),n=0,(0|(o=h[e+28>>2]))>=1)for(;p=l,a=h[e+16>>2],i=h[e+36>>2]+y(h[h[e+116>>2]+(n<<2)>>2],152)|0,l=x(r[h[e+220>>2]](a+y(h[i+144>>2],244)|0,y(h[i+148>>2],244)+a|0,i)),l=x(p+x(l*l)),(0|o)!=(0|(n=n+1|0)););if(l<=g[c+92>>2])break e;if((0|t)>=((n=h[c+20>>2])+-1|0))break e;if(!((0|(t=t+1|0))<(0|n)))break}},r[193]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=x(0),c=x(0),l=0,p=0,u=0,_=x(0),f=x(0),d=x(0),v=x(0),A=0,C=0;if(4&(t=h[i+72>>2])&&!((0|(l=h[e+28>>2]))<1))for(p=16&t,u=h[e+76>>2],A=h[e+36>>2],t=0;n=A+y(t,152)|0,o=h[n+132>>2],h[o+132>>2]=h[n+100>>2],n=u+y(h[n+140>>2],152)|0,h[o+136>>2]=h[n+100>>2],p&&(h[o+140>>2]=h[n+252>>2]),(0|l)!=(0|(t=t+1|0)););if((0|(A=h[e+48>>2]))>=1)for(C=h[e+56>>2],o=0;n=y(o,152)+C|0,l=h[n+132>>2],(t=h[l+44>>2])&&(p=h[l+28>>2],_=g[p+416>>2],f=g[n+24>>2],d=g[p+412>>2],v=g[n+20>>2],s=g[n+100>>2],c=x(x(1)/g[i+12>>2]),g[t>>2]=g[t>>2]+x(x(x(g[n+16>>2]*s)*g[p+408>>2])*c),g[t+4>>2]=x(x(d*x(s*v))*c)+g[t+4>>2],g[t+8>>2]=x(x(_*x(s*f))*c)+g[t+8>>2],u=h[l+32>>2],_=g[u+416>>2],f=g[n+56>>2],d=g[u+412>>2],v=g[n+52>>2],s=g[n+100>>2],c=x(x(1)/g[i+12>>2]),g[t+32>>2]=g[t+32>>2]+x(x(x(g[n+48>>2]*s)*g[u+408>>2])*c),g[t+36>>2]=x(x(d*x(s*v))*c)+g[t+36>>2],g[t+40>>2]=x(x(_*x(s*f))*c)+g[t+40>>2],_=g[p+612>>2],f=g[n+8>>2],d=g[p+608>>2],v=g[n+4>>2],s=g[n+100>>2],c=x(x(1)/g[i+12>>2]),g[t+16>>2]=g[t+16>>2]+x(x(x(g[n>>2]*g[p+604>>2])*s)*c),g[t+20>>2]=x(x(s*x(v*d))*c)+g[t+20>>2],g[t+24>>2]=x(x(s*x(f*_))*c)+g[t+24>>2],_=g[u+612>>2],f=g[n+40>>2],d=g[u+608>>2],v=g[n+36>>2],s=g[n+100>>2],c=x(x(1)/g[i+12>>2]),g[t+48>>2]=g[t+48>>2]+x(x(x(g[n+32>>2]*g[u+604>>2])*s)*c),g[t+52>>2]=x(x(s*x(v*d))*c)+g[t+52>>2],g[t+56>>2]=x(x(s*x(f*_))*c)+g[t+56>>2]),s=g[n+100>>2],g[l+36>>2]=s,x(b(s))>=g[l+16>>2]&&(a[l+20|0]=0),(0|A)!=(0|(o=o+1|0)););if((0|(o=h[e+8>>2]))>=1)for(p=h[e+16>>2],u=0;l=y(u,244),(n=h[240+(t=l+p|0)>>2])&&(h[i+52>>2]?(El(t,g[i+12>>2],g[i+60>>2]),p=h[e+16>>2],s=g[176+(t=l+p|0)>>2],n=h[t+240>>2],c=g[t+184>>2],_=g[t+180>>2]):(s=x(g[t+64>>2]+g[t+176>>2]),g[t+176>>2]=s,g[t+192>>2]=g[t+80>>2]+g[t+192>>2],_=x(g[t+68>>2]+g[t+180>>2]),g[t+180>>2]=_,c=x(g[t+72>>2]+g[t+184>>2]),g[t+184>>2]=c,g[t+196>>2]=g[t+84>>2]+g[t+196>>2],g[t+200>>2]=g[t+88>>2]+g[t+200>>2]),f=g[212+(t=l+p|0)>>2],d=g[t+216>>2],v=g[t+208>>2],h[n+384>>2]=0,g[n+372>>2]=s+v,h[n+304>>2]=h[n+304>>2]+1,g[n+380>>2]=c+d,g[n+376>>2]=_+f,t=l+h[e+16>>2]|0,s=g[t+228>>2],c=g[t+196>>2],_=g[t+232>>2],f=g[t+200>>2],d=g[t+224>>2],v=g[t+192>>2],t=h[t+240>>2],h[t+400>>2]=0,g[t+388>>2]=v+d,g[t+396>>2]=f+_,g[t+392>>2]=c+s,h[t+304>>2]=h[t+304>>2]+1,h[i+52>>2]&&(n=l+h[e+16>>2]|0,t=h[n+240>>2],h[t+304>>2]=h[t+304>>2]+1,o=h[n+12>>2],h[t+12>>2]=h[n+8>>2],h[t+16>>2]=o,o=h[n+4>>2],h[t+4>>2]=h[n>>2],h[t+8>>2]=o,o=h[n+28>>2],h[t+28>>2]=h[n+24>>2],h[t+32>>2]=o,o=h[n+20>>2],h[t+20>>2]=h[n+16>>2],h[t+24>>2]=o,o=h[n+36>>2],h[t+36>>2]=h[n+32>>2],h[t+40>>2]=o,o=h[n+44>>2],h[t+44>>2]=h[n+40>>2],h[t+48>>2]=o,o=h[n+60>>2],h[t+60>>2]=h[n+56>>2],h[t+64>>2]=o,o=h[n+52>>2],h[t+52>>2]=h[n+48>>2],h[t+56>>2]=o),p=h[e+16>>2],h[h[240+(l+p|0)>>2]+212>>2]=-1,o=h[e+8>>2]),(0|(u=u+1|0))<(0|o););return h[e+28>>2]>-1|h[e+32>>2]>-1||((t=h[e+36>>2])&&(m[e+40|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+36>>2]=0),h[e+32>>2]=0,h[e+36>>2]=0,a[e+40|0]=1),h[e+28>>2]=0,h[e+48>>2]>-1|h[e+52>>2]>-1||((t=h[e+56>>2])&&(m[e+60|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+56>>2]=0),h[e+52>>2]=0,h[e+56>>2]=0,a[e+60|0]=1),h[e+48>>2]=0,h[e+68>>2]>-1|h[e+72>>2]>-1||((t=h[e+76>>2])&&(m[e+80|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+76>>2]=0),h[e+72>>2]=0,h[e+76>>2]=0,a[e+80|0]=1),h[e+68>>2]=0,h[e+88>>2]>-1|h[e+92>>2]>-1||((t=h[e+96>>2])&&(m[e+100|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+96>>2]=0),h[e+92>>2]=0,h[e+96>>2]=0,a[e+100|0]=1),h[e+88>>2]=0,h[e+8>>2]>-1|h[e+12>>2]>-1||((t=h[e+16>>2])&&(m[e+20|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+16>>2]=0),h[e+12>>2]=0,h[e+16>>2]=0,a[e+20|0]=1),h[e+8>>2]=0,x(x(0))},r[194]=function(e,t,n,i,o,s,c,l,p,u){e|=0,t|=0,n|=0,i|=0,o|=0,s|=0,c|=0,l|=0,p|=0,u|=0;var _=x(0),f=x(0),d=0,v=0,A=x(0),b=0,C=0,S=0;if(1&a[p+72|0]){if(b=h[e+68>>2],v=h[e+28>>2],(0|(d=h[e+48>>2]))>=1){if(o=y(h[e+232>>2],1664525)+1013904223|0,1!=(0|d)&&(n=2,i=h[e+136>>2],s=h[i+4>>2],u=(o=y(o,1664525)+1013904223|0)^o>>>16,u^=u>>>8,u^=u>>>4,u=i+((1&((u^=u>>>2)>>>1^u))<<2)|0,h[i+4>>2]=h[u>>2],h[u>>2]=s,2!=(0|d)))for(;S=h[(s=i+(n<<2)|0)>>2],C=s,s=o=y(o,1664525)+1013904223|0,(n=n+1|0)>>>0>65536||(s=u=o>>>16^o,n>>>0>256||(s=u^=u>>>8,n>>>0>16||(s=u^=u>>>4,n>>>0>4||(s=u^u>>>2)))),s=((s>>>0)%(n>>>0)<<2)+i|0,h[C>>2]=h[s>>2],h[s>>2]=S,(0|n)!=(0|d););h[e+232>>2]=o}if(!(h[p+20>>2]<=(0|t))){if((0|v)>=1){if(o=y(h[e+232>>2],1664525)+1013904223|0,1!=(0|v)&&(n=2,i=h[e+116>>2],s=h[i+4>>2],u=(o=y(o,1664525)+1013904223|0)^o>>>16,u^=u>>>8,u^=u>>>4,u=i+((1&((u^=u>>>2)>>>1^u))<<2)|0,h[i+4>>2]=h[u>>2],h[u>>2]=s,2!=(0|v)))for(;u=h[(s=i+(n<<2)|0)>>2],C=s,s=o=y(o,1664525)+1013904223|0,(n=n+1|0)>>>0>65536||(s=d=o>>>16^o,n>>>0>256||(s=d^=d>>>8,n>>>0>16||(s=d^=d>>>4,n>>>0>4||(s=d^d>>>2)))),s=((s>>>0)%(n>>>0)<<2)+i|0,h[C>>2]=h[s>>2],h[s>>2]=u,(0|n)!=(0|v););h[e+232>>2]=o}if(!((0|b)<1)){if(o=y(h[e+232>>2],1664525)+1013904223|0,1!=(0|b)&&(n=2,i=h[e+156>>2],s=h[i+4>>2],u=(o=y(o,1664525)+1013904223|0)^o>>>16,u^=u>>>8,u^=u>>>4,u=i+((1&((u^=u>>>2)>>>1^u))<<2)|0,h[i+4>>2]=h[u>>2],h[u>>2]=s,2!=(0|b)))for(;d=h[(s=i+(n<<2)|0)>>2],u=s,s=o=y(o,1664525)+1013904223|0,(n=n+1|0)>>>0>65536||(s=v=o>>>16^o,n>>>0>256||(s=v^=v>>>8,n>>>0>16||(s=v^=v>>>4,n>>>0>4||(s=v^v>>>2)))),s=((s>>>0)%(n>>>0)<<2)+i|0,h[u>>2]=h[s>>2],h[s>>2]=d,(0|n)!=(0|b););h[e+232>>2]=o}}}if((0|(o=h[e+48>>2]))>=1)for(n=0;i=h[e+56>>2]+y(h[h[e+136>>2]+(n<<2)>>2],152)|0,h[i+136>>2]>(0|t)&&(f=_,o=h[e+16>>2],_=x(r[h[e+212>>2]](o+y(h[i+144>>2],244)|0,o+y(h[i+148>>2],244)|0,i)),_=x(f+x(_*_)),o=h[e+48>>2]),(0|(n=n+1|0))<(0|o););if(!(h[p+20>>2]<=(0|t))){if((0|l)>=1)for(n=0;i=h[(t=(n<<2)+c|0)>>2],m[i+20|0]&&(i=Mr(e,h[i+28>>2],g[p+12>>2]),o=Mr(e,h[h[t>>2]+32>>2],g[p+12>>2]),t=h[t>>2],s=y(i,244),i=h[e+16>>2],r[h[h[t>>2]+24>>2]](t,s+i|0,i+y(o,244)|0,g[p+12>>2])),(0|l)!=(0|(n=n+1|0)););i=h[e+28>>2];e:if(512&(t=h[p+72>>2])){if(!((0|i)<1))for(s=16&t?2:1,n=0;f=_,o=h[e+16>>2],t=h[e+36>>2]+y(h[h[e+116>>2]+(n<<2)>>2],152)|0,_=x(r[h[e+216>>2]](o+y(h[t+144>>2],244)|0,o+y(h[t+148>>2],244)|0,t)),_=x(f+x(_*_)),o=y(n,s)<<2,(c=(f=g[t+100>>2])>x(0)^1)||(t=h[e+76>>2]+y(h[o+h[e+156>>2]>>2],152)|0,A=g[t+104>>2],g[t+124>>2]=f*A,g[t+120>>2]=f*x(-A),A=_,l=h[e+16>>2],_=x(r[h[e+212>>2]](l+y(h[t+144>>2],244)|0,l+y(h[t+148>>2],244)|0,t)),_=x(A+x(_*_))),c|!(16&m[p+72|0])||(t=h[e+76>>2]+y(h[4+(o+h[e+156>>2]|0)>>2],152)|0,A=g[t+104>>2],g[t+124>>2]=f*A,g[t+120>>2]=f*x(-A),f=_,o=h[e+16>>2],_=x(r[h[e+212>>2]](o+y(h[t+144>>2],244)|0,o+y(h[t+148>>2],244)|0,t)),_=x(f+x(_*_))),(0|i)!=(0|(n=n+1|0)););}else{if((0|i)>=1)for(n=0;f=_,o=h[e+16>>2],t=h[e+36>>2]+y(h[h[e+116>>2]+(n<<2)>>2],152)|0,_=x(r[h[e+216>>2]](o+y(h[t+144>>2],244)|0,o+y(h[t+148>>2],244)|0,t)),_=x(f+x(_*_)),(0|i)!=(0|(n=n+1|0)););if((0|(n=h[e+68>>2]))<1)break e;for(i=0;t=h[e+76>>2]+y(h[h[e+156>>2]+(i<<2)>>2],152)|0,(f=g[100+(h[e+36>>2]+y(h[t+140>>2],152)|0)>>2])>x(0)&&(A=g[t+104>>2],g[t+124>>2]=f*A,g[t+120>>2]=f*x(-A),f=_,o=h[e+16>>2],_=x(r[h[e+212>>2]](o+y(h[t+144>>2],244)|0,o+y(h[t+148>>2],244)|0,t)),_=x(f+x(_*_))),(0|n)!=(0|(i=i+1|0)););}if(!((0|(n=h[e+88>>2]))<1))for(i=0;t=h[e+96>>2]+y(i,152)|0,(f=g[100+(h[e+36>>2]+y(h[t+140>>2],152)|0)>>2])>x(0)&&(A=f,f=g[t+104>>2],f=(A=x(A*f))>f?f:A,g[t+124>>2]=f,g[t+120>>2]=-f,f=_,o=h[e+16>>2],_=x(r[h[e+212>>2]](o+y(h[t+144>>2],244)|0,o+y(h[t+148>>2],244)|0,t)),_=x(f+x(_*_))),(0|n)!=(0|(i=i+1|0)););}return x(_)},r[195]=function(e,t,n,i,o,s,c,l,p){e|=0,t|=0,n|=0,i|=0,o|=0,s|=0,c|=0,l|=0,p|=0;var u=0,_=0,f=0,d=0,v=x(0),A=0,C=0,S=x(0),E=x(0),w=0,T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=0,B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=0,Y=x(0),X=0,Q=0,Z=0,J=0,K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),re=x(0),ae=x(0),se=x(0),ce=x(0),le=x(0),pe=x(0),ue=x(0),_e=x(0),fe=x(0),he=x(0),me=x(0),de=x(0),ve=x(0);if(z=C=z-256|0,h[e+188>>2]=-1,r[h[5253]](4084),(0|(p=h[l+72>>2]))!=h[e+224>>2]&&(h[e+224>>2]=p,h[e+220>>2]=183,h[e+216>>2]=182,h[e+212>>2]=181),p=0,h[e+184>>2]=0,(0|n)>0)for(;h[h[(p<<2)+t>>2]+212>>2]=-1,(0|(p=p+1|0))!=(0|n););if((0|(f=h[e+12>>2]))<=(0|n)){if(p=0,(f=n+1|0)&&(h[6657]=h[6657]+1,p=0|r[h[5255]](y(f,244),16)),(0|(w=h[e+8>>2]))>=1)for(;_=(u=y(d,244))+p|0,u=u+h[e+16>>2]|0,F=h[u+4>>2],h[_>>2]=h[u>>2],h[_+4>>2]=F,A=h[u+12>>2],h[_+8>>2]=h[u+8>>2],h[_+12>>2]=A,A=h[u+28>>2],h[_+24>>2]=h[u+24>>2],h[_+28>>2]=A,A=h[u+20>>2],h[_+16>>2]=h[u+16>>2],h[_+20>>2]=A,A=h[u+44>>2],h[_+40>>2]=h[u+40>>2],h[_+44>>2]=A,A=h[u+36>>2],h[_+32>>2]=h[u+32>>2],h[_+36>>2]=A,A=h[u+52>>2],h[_+48>>2]=h[u+48>>2],h[_+52>>2]=A,A=h[u+60>>2],h[_+56>>2]=h[u+56>>2],h[_+60>>2]=A,qo(_- -64|0,u- -64|0,180),(0|w)!=(0|(d=d+1|0)););(u=h[e+16>>2])&&(m[e+20|0]&&u&&(h[6658]=h[6658]+1,r[h[5256]](u)),h[e+16>>2]=0),h[e+16>>2]=p,h[e+12>>2]=f,a[e+20|0]=1}if(_=Co(C,0,244),(0|(p=h[e+8>>2]))<=-1)for((0|f)<=-1&&((u=h[e+16>>2])&&(m[e+20|0]&&u&&(h[6658]=h[6658]+1,r[h[5256]](u)),h[e+16>>2]=0),h[e+12>>2]=0,h[e+16>>2]=0,a[e+20|0]=1),d=_- -64|0;f=h[_+4>>2],u=h[e+16>>2]+y(p,244)|0,h[u>>2]=h[_>>2],h[u+4>>2]=f,f=h[_+12>>2],h[u+8>>2]=h[_+8>>2],h[u+12>>2]=f,f=h[_+28>>2],h[u+24>>2]=h[_+24>>2],h[u+28>>2]=f,f=h[_+20>>2],h[u+16>>2]=h[_+16>>2],h[u+20>>2]=f,f=h[_+44>>2],h[u+40>>2]=h[_+40>>2],h[u+44>>2]=f,f=h[_+36>>2],h[u+32>>2]=h[_+32>>2],h[u+36>>2]=f,f=h[_+52>>2],h[u+48>>2]=h[_+48>>2],h[u+52>>2]=f,f=h[_+60>>2],h[u+56>>2]=h[_+56>>2],h[u+60>>2]=f,qo(u- -64|0,d,180),f=(u=p+1|0)>>>0>=p>>>0,p=u,f;);if(h[e+8>>2]=0,(0|n)>=1)for(p=0;f=Mr(e,h[(u=(p<<2)+t|0)>>2],g[l+12>>2]),!(d=h[u>>2])|!(2&h[d+252>>2])|g[d+404>>2]==x(0)||(C=h[e+16>>2],2&(u=h[d+564>>2])&&(q(_,d,g[l+84>>2]),T=g[d+364>>2],P=g[d+332>>2],O=g[d+348>>2],D=g[d+360>>2],N=g[d+328>>2],M=g[d+344>>2],u=C+y(f,244)|0,v=g[_>>2],S=g[_+4>>2],I=g[_+8>>2],E=g[l+12>>2],g[u+224>>2]=g[u+224>>2]-x(x(x(x(v*g[d+324>>2])+x(S*g[d+340>>2]))+x(I*g[d+356>>2]))*E),g[u+228>>2]=g[u+228>>2]-x(E*x(x(x(v*N)+x(S*M))+x(I*D))),g[u+232>>2]=g[u+232>>2]-x(E*x(x(x(v*P)+x(S*O))+x(I*T))),u=h[d+564>>2]),4&u&&(V(_,d,g[l+12>>2]),v=g[_+8>>2],S=g[_+4>>2],u=C+y(f,244)|0,g[u+224>>2]=g[_>>2]+g[u+224>>2],g[u+228>>2]=S+g[u+228>>2],g[u+232>>2]=v+g[u+232>>2],u=h[d+564>>2]),8&u&&(W(_,d,g[l+12>>2]),v=g[_+8>>2],S=g[_+4>>2],u=C+y(f,244)|0,g[u+224>>2]=g[_>>2]+g[u+224>>2],g[u+228>>2]=S+g[u+228>>2],g[u+232>>2]=v+g[u+232>>2])),(0|(p=p+1|0))!=(0|n););if(p=0,(0|c)>0)for(;t=h[(p<<2)+s>>2],r[h[h[t>>2]+8>>2]](t),h[t+36>>2]=0,(0|(p=p+1|0))!=(0|c););if(!((0|(n=h[e+168>>2]))>=(0|c)|h[e+172>>2]>=(0|c))){if(c?(h[6657]=h[6657]+1,t=0|r[h[5255]](c<<3,16),n=h[e+168>>2]):t=0,(0|n)>=1)for(p=0;d=(u=p<<3)+t|0,u=u+h[e+176>>2]|0,f=h[u+4>>2],h[d>>2]=h[u>>2],h[d+4>>2]=f,(0|(p=p+1|0))!=(0|n););(n=h[e+176>>2])&&(m[e+180|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+176>>2]=0),h[e+176>>2]=t,h[e+172>>2]=c,a[e+180|0]=1}if(h[e+168>>2]=c,t=0,(0|c)>=1)for(p=0;d=h[e+176>>2],n=h[(f=(p<<2)+s|0)>>2],(u=h[n+44>>2])&&(h[u>>2]=0,h[u+4>>2]=0,h[u+56>>2]=0,h[u+60>>2]=0,h[u+48>>2]=0,h[u+52>>2]=0,h[u+40>>2]=0,h[u+44>>2]=0,h[u+32>>2]=0,h[u+36>>2]=0,h[u+24>>2]=0,h[u+28>>2]=0,h[u+16>>2]=0,h[u+20>>2]=0,h[u+8>>2]=0,h[u+12>>2]=0,n=h[f>>2]),u=d+(p<<3)|0,m[n+20|0]?(r[h[h[n>>2]+16>>2]](n,u),n=h[u>>2]):(h[u>>2]=0,h[u+4>>2]=0,n=0),t=n+t|0,(0|(p=p+1|0))!=(0|c););if(!((0|(n=h[e+48>>2]))>=(0|t)|h[e+52>>2]>=(0|t))){if(t?(h[6657]=h[6657]+1,d=0|r[h[5255]](y(t,152),16),n=h[e+48>>2]):d=0,(0|n)>=1)for(p=0;qo((u=y(p,152))+d|0,u+h[e+56>>2]|0,152),(0|(p=p+1|0))!=(0|n););(n=h[e+56>>2])&&(m[e+60|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+56>>2]=0),h[e+56>>2]=d,h[e+52>>2]=t,a[e+60|0]=1}if(h[e+48>>2]=t,(0|c)>=1)for(p=h[e+176>>2];;){if(h[(F=(Q=H<<3)+p|0)>>2]){if(A=h[(X=(H<<2)+s|0)>>2],n=h[A+32>>2],t=h[e+56>>2],f=Mr(e,p=h[A+28>>2],g[l+12>>2]),w=Mr(e,n,g[l+12>>2]),Z=h[e+16>>2],(0|(C=(0|(u=h[A+24>>2]))>0?u:h[l+20>>2]))>h[e+184>>2]&&(h[e+184>>2]=C),d=t+y(J,152)|0,t=0,h[F>>2]>=1)for(;u=Co(d+y(t,152)|0,0,152),h[u+120>>2]=-8388609,h[u+124>>2]=2139095039,h[u+148>>2]=w,h[u+144>>2]=f,h[u+96>>2]=0,h[u+100>>2]=0,h[u+136>>2]=C,(0|(t=t+1|0))<h[F>>2];);if(C=Z+y(f,244)|0,h[(t=C)+64>>2]=0,h[t+68>>2]=0,h[t+144>>2]=0,h[t+148>>2]=0,h[t+88>>2]=0,h[t+92>>2]=0,h[t+80>>2]=0,h[t+84>>2]=0,h[t+72>>2]=0,h[t+76>>2]=0,h[t+152>>2]=0,h[t+156>>2]=0,h[t+160>>2]=0,h[t+164>>2]=0,h[t+168>>2]=0,h[t+172>>2]=0,w=Z+y(w,244)|0,h[(t=w)+88>>2]=0,h[t+92>>2]=0,h[t+80>>2]=0,h[t+84>>2]=0,h[t+72>>2]=0,h[t+76>>2]=0,h[t+64>>2]=0,h[t+68>>2]=0,h[t+144>>2]=0,h[t+148>>2]=0,h[t+152>>2]=0,h[t+156>>2]=0,h[t+160>>2]=0,h[t+164>>2]=0,h[t+168>>2]=0,h[t+172>>2]=0,g[_>>2]=x(1)/g[l+12>>2],t=h[l+32>>2],h[_+28>>2]=d+112,h[_+24>>2]=38,h[_+20>>2]=d+32,h[_+16>>2]=d+48,h[_+12>>2]=d,h[_+8>>2]=d+16,h[_+4>>2]=t,h[d+116>>2]=h[l+40>>2],t=h[l+4>>2],h[_+40>>2]=d+124,h[_+36>>2]=d+120,h[_+32>>2]=d+116,h[_+48>>2]=t,h[_+44>>2]=h[l+20>>2],t=h[X>>2],r[h[h[t>>2]+20>>2]](t,_),h[F>>2]>=1)for(u=0;t=d+y(u,152)|0,v=g[h[X>>2]+16>>2],g[t+124>>2]>=v&&(g[t+124>>2]=v),v=x(-v),g[t+120>>2]<=v&&(g[t+120>>2]=v),h[t+132>>2]=A,f=h[A+28>>2],E=g[f+328>>2],T=g[f+332>>2],P=g[f+608>>2],O=g[f+348>>2],D=g[f+340>>2],N=g[f+344>>2],v=g[f+612>>2],I=g[f+364>>2],S=g[f+356>>2],M=g[f+360>>2],B=g[f+604>>2],R=g[f+324>>2],h[t+76>>2]=0,L=v,v=g[t>>2],U=x(S*v),S=g[t+4>>2],j=I,I=g[t+8>>2],g[t+72>>2]=L*x(x(U+x(M*S))+x(j*I)),g[t+68>>2]=P*x(x(x(v*D)+x(S*N))+x(I*O)),g[t+64>>2]=B*x(x(x(R*v)+x(E*S))+x(T*I)),f=h[A+32>>2],O=g[f+328>>2],D=g[f+332>>2],N=g[f+608>>2],M=g[f+348>>2],B=g[f+340>>2],R=g[f+344>>2],E=g[f+612>>2],P=g[f+364>>2],T=g[f+356>>2],k=g[f+360>>2],G=g[f+604>>2],U=g[f+324>>2],h[t+92>>2]=0,L=E,E=g[t+32>>2],Y=x(T*E),T=g[t+36>>2],j=P,P=g[t+40>>2],g[t+88>>2]=L*x(x(Y+x(k*T))+x(j*P)),g[t+84>>2]=N*x(x(x(E*B)+x(T*R))+x(P*M)),g[t+80>>2]=G*x(x(x(U*E)+x(O*T))+x(D*P)),O=x(0),D=g[t+16>>2],N=g[p+404>>2],M=g[t+20>>2],B=g[t+24>>2],L=x(x(x(x(D*x(D*N))+x(M*x(N*M)))+x(B*x(N*B)))+x(x(x(v*x(x(x(v*g[p+324>>2])+x(S*g[p+328>>2]))+x(I*g[p+332>>2])))+x(S*x(x(x(v*g[p+340>>2])+x(S*g[p+344>>2]))+x(I*g[p+348>>2]))))+x(I*x(x(x(v*g[p+356>>2])+x(S*g[p+360>>2]))+x(I*g[p+364>>2]))))),N=g[t+48>>2],R=g[n+404>>2],k=g[t+52>>2],G=g[t+56>>2],R=x(x(L+x(x(x(N*x(N*R))+x(k*x(R*k)))+x(G*x(R*G))))+x(x(x(E*x(x(x(E*g[n+324>>2])+x(T*g[n+328>>2]))+x(P*g[n+332>>2])))+x(T*x(x(x(E*g[n+340>>2])+x(T*g[n+344>>2]))+x(P*g[n+348>>2]))))+x(P*x(x(x(E*g[n+356>>2])+x(T*g[n+360>>2]))+x(P*g[n+364>>2]))))),R=x(b(R))>x(1.1920928955078125e-7)?x(x(1)/R):x(0),g[t+108>>2]=R,U=x(0),L=x(0),j=x(0),Y=x(0),K=x(0),$=x(0),h[C+240>>2]&&($=g[C+232>>2],K=g[C+228>>2],Y=g[C+224>>2],L=g[C+212>>2],j=g[C+208>>2],U=g[C+216>>2]),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),h[w+240>>2]&&(oe=g[w+232>>2],ie=g[w+228>>2],ne=g[w+224>>2],ee=g[w+212>>2],te=g[w+208>>2],O=g[w+216>>2]),re=g[p+380>>2],ae=g[p+372>>2],se=g[p+376>>2],ce=g[p+396>>2],le=g[p+388>>2],pe=g[p+392>>2],ue=g[n+380>>2],_e=g[n+372>>2],fe=g[n+376>>2],he=g[n+396>>2],me=g[n+388>>2],de=g[n+392>>2],ve=g[_+48>>2],h[t+100>>2]=0,g[t+112>>2]=x(R*g[t+112>>2])+x(R*x(x(0)-x(ve*x(x(x(x(x(D*x(j+ae))+x(M*x(L+se)))+x(B*x(U+re)))+x(x(x(v*x(Y+le))+x(S*x(K+pe)))+x(I*x($+ce))))+x(x(x(x(N*x(te+_e))+x(k*x(ee+fe)))+x(G*x(O+ue)))+x(x(x(E*x(ne+me))+x(T*x(ie+de)))+x(P*x(oe+he)))))))),(0|(u=u+1|0))<h[F>>2];);p=h[e+176>>2]}if(J=h[p+Q>>2]+J|0,(0|(H=H+1|0))==(0|c))break}if(r[h[h[e>>2]+28>>2]](e,i,o,l),i=h[e+68>>2],n=h[e+28>>2],!((0|(u=h[e+128>>2]))>=(0|(o=h[e+48>>2]))|h[e+132>>2]>=(0|o))){p=0,t=0,o&&(h[6657]=h[6657]+1,t=0|r[h[5255]](o<<2,16),u=h[e+128>>2]),s=h[e+136>>2];e:{t:{if((0|u)>=1)for(;;)if(h[(c=p<<2)+t>>2]=h[s+c>>2],(0|u)==(0|(p=p+1|0)))break t;if(!s)break e}m[e+140|0]&&s&&(h[6658]=h[6658]+1,r[h[5256]](s)),h[e+136>>2]=0}h[e+136>>2]=t,h[e+132>>2]=o,a[e+140|0]=1}if(h[e+128>>2]=o,16&m[l+72|0]){if(!((0|(u=h[e+108>>2]))>=(0|(c=n<<1))|h[e+112>>2]>=(0|c))){p=0,t=0,n&&(h[6657]=h[6657]+1,t=0|r[h[5255]](n<<3,16),u=h[e+108>>2]),s=h[e+116>>2];e:{t:{if((0|u)>=1)for(;;)if(h[(l=p<<2)+t>>2]=h[s+l>>2],(0|u)==(0|(p=p+1|0)))break t;if(!s)break e}m[e+120|0]&&s&&(h[6658]=h[6658]+1,r[h[5256]](s)),h[e+116>>2]=0}h[e+116>>2]=t,h[e+112>>2]=c,a[e+120|0]=1}h[e+108>>2]=c}else{if(!((0|(u=h[e+108>>2]))>=(0|n)|h[e+112>>2]>=(0|n))){p=0,t=0,n&&(h[6657]=h[6657]+1,t=0|r[h[5255]](n<<2,16),u=h[e+108>>2]),s=h[e+116>>2];e:{t:{if((0|u)>=1)for(;;)if(h[(c=p<<2)+t>>2]=h[s+c>>2],(0|u)==(0|(p=p+1|0)))break t;if(!s)break e}m[e+120|0]&&s&&(h[6658]=h[6658]+1,r[h[5256]](s)),h[e+116>>2]=0}h[e+116>>2]=t,h[e+112>>2]=n,a[e+120|0]=1}h[e+108>>2]=n}if(!((0|(u=h[e+148>>2]))>=(0|i)|h[e+152>>2]>=(0|i))){p=0,t=0,i&&(h[6657]=h[6657]+1,t=0|r[h[5255]](i<<2,16),u=h[e+148>>2]),s=h[e+156>>2];e:{t:{if((0|u)>=1)for(;;)if(h[(c=p<<2)+t>>2]=h[s+c>>2],(0|u)==(0|(p=p+1|0)))break t;if(!s)break e}m[e+160|0]&&s&&(h[6658]=h[6658]+1,r[h[5256]](s)),h[e+156>>2]=0}h[e+156>>2]=t,h[e+152>>2]=i,a[e+160|0]=1}if(h[e+148>>2]=i,(0|o)>=1)for(t=h[e+136>>2],p=0;h[t+(p<<2)>>2]=p,(0|o)!=(0|(p=p+1|0)););if((0|n)>=1)for(t=h[e+116>>2],p=0;h[t+(p<<2)>>2]=p,(0|n)!=(0|(p=p+1|0)););if((0|i)>=1)for(e=h[e+156>>2],p=0;h[e+(p<<2)>>2]=p,(0|i)!=(0|(p=p+1|0)););return r[h[5254]](),z=_+256|0,x(x(0))},r[196]=function(e,t,n,i,o,a,s,c,l){e|=0,t|=0,n|=0,i|=0,o|=0,a|=0,s|=0,c|=0,l|=0;var p,u=0,_=0,f=x(0),m=0;z=p=z-16|0,r[h[5253]](4113),r[h[h[e>>2]+32>>2]](e,t,n,i,o,a,s,c,l);e:if(!((0|(_=(0|(u=h[e+184>>2]))>(0|(_=h[c+20>>2]))?u:_))<1))for(m=_+-1|0,u=0;;){if(f=x(r[h[h[e>>2]+40>>2]](e,u,t,n,i,o,a,s,c,l)),g[e+228>>2]=f,(0|u)>=(0|m)|f<=g[c+92>>2])break e;if(!((0|(u=u+1|0))<(0|_)))break}return r[h[5254]](),z=p+16|0,x(x(0))},r[197]=function(e){var t;return h[(e|=0)>>2]=4248,(t=h[e+212>>2])&&(m[e+216|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+212>>2]=0),h[e+212>>2]=0,h[e+204>>2]=0,h[e+208>>2]=0,a[e+216|0]=1,0|e},r[198]=function(e){var t;h[(e|=0)>>2]=4248,(t=h[e+212>>2])&&(m[e+216|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+212>>2]=0),h[e+212>>2]=0,h[e+204>>2]=0,h[e+208>>2]=0,a[e+216|0]=1,e&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[199]=function(e,t,n){e|=0,t|=0,n=x(n),r[h[h[e>>2]+32>>2]](e,t),r[h[h[e>>2]+36>>2]](e,t,n)},r[200]=_r,r[201]=function(e,t){e|=0,t|=0;var n=x(0),i=x(0),o=x(0),r=x(0),s=0;a[e+251|0]=1,s=h[t+4>>2],h[e+68>>2]=h[t>>2],h[e+72>>2]=s,s=h[t+12>>2],h[e+76>>2]=h[t+8>>2],h[e+80>>2]=s,n=g[e+68>>2],i=g[e+72>>2],o=g[e+76>>2],(r=x(T(x(x(x(n*n)+x(i*i))+x(o*o)))))>x(1.1920928955078125e-7)?(r=x(x(1)/r),o=x(o*r),i=x(i*r),n=x(n*r),t=h[e+80>>2]):(n=x(0),i=x(0),o=x(0),t=0),g[e+84>>2]=n,h[e+96>>2]=t,g[e+92>>2]=o,g[e+88>>2]=i},r[202]=function(e,t,n){e|=0,t|=0,n=x(n);var i=x(0),o=0,r=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=0,_=x(0);a[e+251|0]=0,o=h[t+4>>2],h[e+68>>2]=h[t>>2],h[e+72>>2]=o,o=h[t+12>>2],h[e+76>>2]=h[t+8>>2],h[e+80>>2]=o,r=g[e+68>>2],s=g[e+72>>2],i=g[e+76>>2],(l=x(T(x(x(x(r*r)+x(s*s))+x(i*i)))))>x(1.1920928955078125e-7)&&(c=i,i=x(x(1)/l),p=x(c*i),c=x(r*i),u=h[e+80>>2],_=x(s*i)),g[e+84>>2]=c,h[e+96>>2]=u,g[e+92>>2]=p,g[e+88>>2]=_,g[e+252>>2]=g[e+252>>2]+n},r[203]=function(e,t){t|=0;var n=0,i=0,o=0,a=0,s=0;if(h[252+(e|=0)>>2]=0,f[e+248>>1]=0,h[e+20>>2]=0,h[e+24>>2]=0,h[e+68>>2]=0,h[e+72>>2]=0,h[e+76>>2]=0,h[e+80>>2]=0,e=h[h[e+8>>2]+344>>2],h[4+(0|r[h[h[e>>2]+28>>2]](e))>>2]>=1)for(;i=e,o=h[h[12+(0|r[h[h[e>>2]+28>>2]](e))>>2]>>2],a=h[h[12+(0|r[h[h[e>>2]+28>>2]](e))>>2]+4>>2],s=h[t+24>>2],n=h[h[e>>2]+12>>2],r[n](0|i,0|o,0|a,0|s),h[4+(0|r[h[h[e>>2]+28>>2]](e))>>2]>0;);},r[204]=function(e,t){e|=0,t|=0;var n,i=0;h[12+(n=z-32|0)>>2]=0,i=h[t+12>>2],h[n+24>>2]=h[t+8>>2],h[n+28>>2]=i,i=h[t+4>>2],h[n+16>>2]=h[t>>2],h[n+20>>2]=i,e=h[e+8>>2],h[e+4>>2]=1065353216,h[e+44>>2]=1065353216,h[e+48>>2]=0,h[e+36>>2]=0,h[e+40>>2]=0,h[e+28>>2]=0,h[e+32>>2]=0,h[e+24>>2]=1065353216,h[e+16>>2]=0,h[e+20>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,h[e+304>>2]=h[e+304>>2]+1,t=h[n+20>>2],h[e+52>>2]=h[n+16>>2],h[e+56>>2]=t,t=h[n+28>>2],h[e+60>>2]=h[n+24>>2],h[e+64>>2]=t},r[205]=function(e,t){t|=0;var n,i=0,o=0,r=0;z=t=z-16|0,i=h[8+(e|=0)>>2],o=h[4+(r=i+52|0)>>2],h[e+132>>2]=h[r>>2],h[e+136>>2]=o,o=h[i+64>>2],h[e+140>>2]=h[i+60>>2],h[e+144>>2]=o,n=h[i+52>>2],r=h[i+56>>2],o=h[i+64>>2],h[e+160>>2]=h[i+60>>2],h[e+164>>2]=o,h[e+152>>2]=n,h[e+156>>2]=r,Oo(i+4|0,t),i=h[t+12>>2],h[e+176>>2]=h[t+8>>2],h[e+180>>2]=i,i=h[t+4>>2],h[e+168>>2]=h[t>>2],h[e+172>>2]=i,i=h[e+180>>2],h[e+192>>2]=h[e+176>>2],h[e+196>>2]=i,i=h[e+172>>2],h[e+184>>2]=h[e+168>>2],h[e+188>>2]=i,z=t+16|0},r[206]=function(e,t,n){e|=0,t|=0,n=x(n);var i,o=0,s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=0,f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0),E=0;z=i=z-80|0,c=g[e+100>>2],l=g[e+104>>2],p=g[e+108>>2],(u=x(x(x(c*c)+x(l*l))+x(p*p)))>x(0)&&(u=ps(x(x(1)-g[e+244>>2]),n),p=x(p*u),g[e+108>>2]=p,l=x(l*u),g[e+104>>2]=l,c=x(c*u),g[e+100>>2]=c,u=x(x(x(c*c)+x(l*l))+x(p*p))),u>x(0)&&(o=h[e+8>>2],s=h[o+16>>2],h[i+24>>2]=h[o+12>>2],h[i+28>>2]=s,s=h[o+8>>2],h[i+16>>2]=h[o+4>>2],h[i+20>>2]=s,s=h[o+32>>2],h[i+40>>2]=h[o+28>>2],h[i+44>>2]=s,s=h[o+24>>2],h[i+32>>2]=h[o+20>>2],h[i+36>>2]=s,s=h[o+48>>2],h[i+56>>2]=h[o+44>>2],h[i+60>>2]=s,s=h[o+40>>2],h[i+48>>2]=h[o+36>>2],h[i+52>>2]=s,s=h[o+64>>2],h[i+72>>2]=h[o+60>>2],h[i+76>>2]=s,s=h[o+56>>2],h[i+64>>2]=h[o+52>>2],h[i+68>>2]=s,Oo(i+16|0,i),h[i+60>>2]=0,h[i+44>>2]=0,y=p,d=x(T(u)),p=x(x(1)/d),u=x(y*p),f=x(x(d*n)*x(.5)),c=x(c*p),p=x(l*p),C=x(No(f)/x(T(x(x(u*u)+x(x(c*c)+x(p*p)))))),l=x(u*C),u=g[i>>2],d=x(p*C),v=g[i+12>>2],f=Ro(f),A=g[i+4>>2],C=x(c*C),y=g[i+8>>2],c=x(x(x(l*u)+x(x(d*v)+x(f*A)))-x(C*y)),p=x(x(x(x(f*v)-x(C*u))-x(d*A))-x(l*y)),S=x(x(x(x(l*v)+x(f*y))+x(C*A))-x(d*u)),l=x(x(x(x(f*u)+x(C*v))+x(d*y))-x(l*A)),u=x(x(2)/x(x(p*p)+x(x(S*S)+x(x(l*l)+x(c*c))))),d=x(S*u),v=x(c*d),f=x(l*u),A=x(p*f),g[i+52>>2]=v+A,g[i+40>>2]=v-A,v=x(l*d),u=x(c*u),A=x(p*u),g[i+24>>2]=v+A,f=x(l*f),c=x(c*u),g[i+56>>2]=x(1)-x(f+c),y=f,f=x(S*d),g[i+36>>2]=x(1)-x(y+f),h[i+28>>2]=0,g[i+48>>2]=v-A,l=x(l*u),p=x(p*d),g[i+32>>2]=l+p,g[i+20>>2]=l-p,g[i+16>>2]=x(1)-x(c+f),o=h[e+8>>2],h[o+304>>2]=h[o+304>>2]+1,s=h[i+28>>2],h[o+12>>2]=h[i+24>>2],h[o+16>>2]=s,s=h[i+20>>2],h[o+4>>2]=h[i+16>>2],h[o+8>>2]=s,s=h[i+44>>2],h[o+28>>2]=h[i+40>>2],h[o+32>>2]=s,s=h[i+36>>2],h[o+20>>2]=h[i+32>>2],h[o+24>>2]=s,s=h[i+60>>2],h[o+44>>2]=h[i+56>>2],h[o+48>>2]=s,s=h[i+52>>2],h[o+36>>2]=h[i+48>>2],h[o+40>>2]=s,s=h[i+68>>2],h[o+52>>2]=h[i+64>>2],h[o+56>>2]=s,s=h[i+76>>2],h[o+60>>2]=h[i+72>>2],h[o+64>>2]=s,o=h[e+8>>2],_=h[4+(s=o+60|0)>>2],h[e+140>>2]=h[s>>2],h[e+144>>2]=_,s=h[o+56>>2],h[e+132>>2]=h[o+52>>2],h[e+136>>2]=s,s=h[o+60>>2],_=h[o+64>>2],E=h[o+56>>2],h[e+152>>2]=h[o+52>>2],h[e+156>>2]=E,h[e+160>>2]=s,h[e+164>>2]=_,Oo(o+4|0,i),o=h[i+12>>2],h[e+176>>2]=h[i+8>>2],h[e+180>>2]=o,o=h[i+4>>2],h[e+168>>2]=h[i>>2],h[e+172>>2]=o,o=h[e+180>>2],h[e+192>>2]=h[e+176>>2],h[e+196>>2]=o,o=h[e+172>>2],h[e+184>>2]=h[e+168>>2],h[e+188>>2]=o),g[e+252>>2]<=x(0)&&!m[e+251|0]||(a[e+248|0]=r[h[h[e>>2]+48>>2]](e),l=g[e+72>>2],p=g[e+68>>2],u=g[e+76>>2],c=ps(x(x(1)-g[e+240>>2]),n),x(x(x(p*p)+x(l*l))+x(u*u))>x(0)&&(g[e+76>>2]=u*c,g[e+72>>2]=l*c,g[e+68>>2]=p*c),c=x(x(g[e+20>>2]*c)-x(g[e+52>>2]*n)),g[e+20>>2]=c,c>x(0)&&c>(l=g[e+32>>2])&&(g[e+20>>2]=l,c=l),c<x(0)&&(l=x(b(g[e+28>>2])),x(b(c))>l&&(c=x(-l),g[e+20>>2]=c)),g[e+24>>2]=c*n,o=h[e+8>>2],s=h[o+16>>2],h[i+24>>2]=h[o+12>>2],h[i+28>>2]=s,s=h[o+8>>2],h[i+16>>2]=h[o+4>>2],h[i+20>>2]=s,s=h[o+32>>2],h[i+40>>2]=h[o+28>>2],h[i+44>>2]=s,s=h[o+24>>2],h[i+32>>2]=h[o+20>>2],h[i+36>>2]=s,s=h[o+48>>2],h[i+56>>2]=h[o+44>>2],h[i+60>>2]=s,s=h[o+40>>2],h[i+48>>2]=h[o+36>>2],h[i+52>>2]=s,s=h[o+64>>2],h[i+72>>2]=h[o+60>>2],h[i+76>>2]=s,s=h[o+56>>2],h[i+64>>2]=h[o+52>>2],h[i+68>>2]=s,function(e,t){var n=0,i=0,o=x(0),s=0,c=x(0),l=x(0),p=x(0),u=0,_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=0,w=0,T=0;z=u=z-240|0,g[e+20>>2]<x(0)&&(T=h[e+60>>2],y=g[e+60>>2]),h[(n=u)+152>>2]=1065353216,h[n+156>>2]=0,h[n+136>>2]=0,h[n+140>>2]=0,h[n+200>>2]=0,h[n+204>>2]=0,h[n+196>>2]=1065353216,h[n+216>>2]=1065353216,h[n+220>>2]=0,h[n+132>>2]=1065353216,h[n+180>>2]=0,h[n+184>>2]=0,h[n+176>>2]=1065353216,h[n+188>>2]=0,h[n+192>>2]=0,h[n+208>>2]=0,h[n+212>>2]=0,h[n+144>>2]=0,h[n+148>>2]=0,h[n+116>>2]=0,h[n+120>>2]=0,h[n+112>>2]=1065353216,h[n+124>>2]=0,h[n+128>>2]=0,i=h[e+144>>2],h[n+232>>2]=h[e+140>>2],h[n+236>>2]=i,i=h[e+136>>2],h[n+224>>2]=h[e+132>>2],h[n+228>>2]=i,b=g[e+260>>2],o=(o=g[e+24>>2])>x(0)?o:x(0),g[e+156>>2]=x(x(y*b)+g[e+136>>2])+x(o*g[e+276>>2]),C=g[e+256>>2],g[e+152>>2]=x(x(y*C)+g[e+132>>2])+x(g[e+272>>2]*o),h[e+164>>2]=0,S=g[e+264>>2],g[e+160>>2]=x(x(y*S)+g[e+140>>2])+x(o*g[e+280>>2]),i=h[e+156>>2],E=h[e+152>>2],h[e+132>>2]=E,h[e+136>>2]=i,s=h[e+164>>2],w=h[e+160>>2],h[e+140>>2]=w,h[e+144>>2]=s,h[n+168>>2]=w,h[n+172>>2]=s,h[n+160>>2]=E,h[n+164>>2]=i,c=g[e+180>>2],_=g[e+176>>2],o=g[e+168>>2],l=g[e+172>>2],h[n+220>>2]=0,h[n+204>>2]=0,d=x(x(2)/x(x(x(x(o*o)+x(l*l))+x(_*_))+x(c*c))),v=x(_*d),p=x(l*v),f=x(o*d),A=x(c*f),g[n+212>>2]=p+A,g[n+200>>2]=p-A,p=x(o*f),f=l,l=x(l*d),d=x(f*l),g[n+216>>2]=x(1)-x(p+d),_=x(_*v),g[n+196>>2]=x(1)-x(p+_),h[n+188>>2]=0,p=x(o*v),f=x(c*l),g[n+208>>2]=p-f,o=x(o*l),c=x(c*v),g[n+192>>2]=o+c,g[n+184>>2]=p+f,g[n+180>>2]=o-c,g[n+176>>2]=x(1)-x(d+_),c=g[e+196>>2],_=g[e+192>>2],o=g[e+184>>2],l=g[e+188>>2],h[n+156>>2]=0,h[n+140>>2]=0,d=x(x(2)/x(x(x(x(o*o)+x(l*l))+x(_*_))+x(c*c))),v=x(_*d),p=x(l*v),f=x(o*d),A=x(c*f),g[n+148>>2]=p+A,g[n+136>>2]=p-A,p=x(o*f),f=l,l=x(l*d),d=x(f*l),g[n+152>>2]=x(1)-x(p+d),_=x(_*v),g[n+132>>2]=x(1)-x(p+_),h[n+124>>2]=0,p=x(o*v),f=x(c*l),g[n+144>>2]=p-f,o=x(o*l),c=x(c*v),g[n+128>>2]=o+c,g[n+120>>2]=p+f,g[n+116>>2]=o-c,g[n+112>>2]=x(1)-x(d+_),i=h[e+8>>2],s=h[e+48>>2],h[n+24>>2]=0,h[n+28>>2]=0,h[n+32>>2]=0,h[n+36>>2]=0,h[n+40>>2]=0,h[n+44>>2]=0,h[n+100>>2]=0,g[n+96>>2]=-S,g[n+92>>2]=-b,h[n+80>>2]=0,h[n+4>>2]=1065353216,h[n+16>>2]=0,h[n+20>>2]=0,h[n+104>>2]=s,g[n+88>>2]=-C,h[n+84>>2]=i,h[n>>2]=4380,s=h[i+188>>2],h[n+8>>2]=h[s+4>>2],h[n+12>>2]=h[s+8>>2],m[e+250|0]?dr(i,h[e+12>>2],u+176|0,u+112|0,u,g[t+56>>2]):cr(t,h[e+12>>2],u+176|0,u+112|0,u,g[t+56>>2]);e:{t:{n:{if(g[u+4>>2]<x(1)&&(n=h[e+8>>2],!(4&m[n+204|0])&&r[h[h[e>>2]+56>>2]](e,n,h[u+80>>2]))){if(x(x(x(g[u+48>>2]*g[e+256>>2])+x(g[u+52>>2]*g[e+260>>2]))+x(g[u+56>>2]*g[e+264>>2]))>x(0)&&(o=g[u+4>>2],g[e+148>>2]=y*o,m[e+288|0]?(c=x(x(1)-o),g[e+132>>2]=x(c*g[e+132>>2])+x(o*g[e+152>>2]),g[e+136>>2]=x(c*g[e+136>>2])+x(o*g[e+156>>2]),g[e+140>>2]=x(c*g[e+140>>2])+x(o*g[e+160>>2])):(n=h[e+156>>2],h[e+132>>2]=h[e+152>>2],h[e+136>>2]=n,n=h[e+164>>2],h[e+140>>2]=h[e+160>>2],h[e+144>>2]=n)),s=h[e+144>>2],n=h[e+8>>2],h[(i=n+60|0)>>2]=h[e+140>>2],h[i+4>>2]=s,i=h[e+136>>2],h[n+52>>2]=h[e+132>>2],h[n+56>>2]=i,i=h[e+8>>2],h[i+304>>2]=h[i+304>>2]+1,s=h[n+16>>2],h[i+12>>2]=h[n+12>>2],h[i+16>>2]=s,s=h[n+8>>2],h[i+4>>2]=h[n+4>>2],h[i+8>>2]=s,s=h[n+32>>2],h[i+28>>2]=h[n+28>>2],h[i+32>>2]=s,s=h[n+24>>2],h[i+20>>2]=h[n+20>>2],h[i+24>>2]=s,s=h[n+48>>2],h[i+44>>2]=h[n+44>>2],h[i+48>>2]=s,s=h[n+40>>2],h[i+36>>2]=h[n+36>>2],h[i+40>>2]=s,s=h[n+64>>2],h[i+60>>2]=h[n+60>>2],h[i+64>>2]=s,s=h[n+56>>2],h[i+52>>2]=h[n+52>>2],h[i+56>>2]=s,a[e+220|0]=0,!ir(e,t))break t;if(a[e+220|0]=1,ir(e,t))break n;break t}h[e+148>>2]=T,t=h[e+164>>2],h[e+140>>2]=h[e+160>>2],h[e+144>>2]=t,t=h[e+156>>2],h[e+132>>2]=h[e+152>>2],h[e+136>>2]=t;break e}a[e+220|0]=1,ir(e,t)&&(a[e+220|0]=1,ir(e,t)&&(a[e+220|0]=1,ir(e,t)&&(a[e+220|0]=1)))}t=h[e+8>>2],i=h[4+(n=t+60|0)>>2],h[e+160>>2]=h[n>>2],h[e+164>>2]=i,n=h[t+56>>2],h[e+152>>2]=h[t+52>>2],h[e+156>>2]=n,n=h[t+52>>2],i=h[t+56>>2],s=h[t+64>>2],h[e+140>>2]=h[t+60>>2],h[e+144>>2]=s,h[e+132>>2]=n,h[e+136>>2]=i,g[e+24>>2]>x(0)&&(h[e+20>>2]=0,h[e+24>>2]=0,h[e+148>>2]=h[e+60>>2])}z=u+240|0}(e,t),s=i- -64|0,m[e+251|0]?Ee(e,t,e+68|0):(c=g[e+252>>2],g[e+252>>2]=c-n,l=g[e+68>>2],p=g[e+72>>2],u=g[e+76>>2],h[i+12>>2]=0,c=c>n?n:c,g[i+8>>2]=u*c,g[i+4>>2]=c*p,g[i>>2]=c*l,Ee(e,t,i)),function(e,t,n){var i=0,o=x(0),s=x(0),c=0,l=0,p=x(0),u=x(0),_=0,f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=0;z=i=z-432|0,l=h[e+164>>2],h[i+232>>2]=h[e+160>>2],h[i+236>>2]=l,l=h[e+156>>2],h[i+224>>2]=h[e+152>>2],h[i+228>>2]=l;e:if(!((o=g[e+20>>2])>x(0))){for((o=x((o<x(0)?x(-o):x(0))*n))>x(0)&&(o>(s=g[e+28>>2])^1|(m[e+249|0]?!m[e+248|0]:0)||(o=s)),o=x(o+g[e+148>>2]),A=x(g[e+256>>2]*o),g[e+152>>2]=g[e+152>>2]-A,y=x(o*g[e+260>>2]),g[e+156>>2]=g[e+156>>2]-y,b=x(o*g[e+264>>2]),g[e+160>>2]=g[e+160>>2]-b,c=h[e+48>>2],l=h[e+8>>2],h[i+136>>2]=0,h[i+140>>2]=0,h[i+144>>2]=0,h[i+148>>2]=0,h[i+152>>2]=0,h[i+156>>2]=0,h[i+192>>2]=0,h[i+116>>2]=1065353216,h[i+128>>2]=0,h[i+132>>2]=0,h[i+196>>2]=l,h[i+112>>2]=4380,_=h[e+268>>2],h[i+208>>2]=h[e+264>>2],h[i+212>>2]=_,_=h[e+260>>2],h[i+200>>2]=h[e+256>>2],h[i+204>>2]=_,h[i+216>>2]=c,_=h[l+188>>2],h[i+120>>2]=h[_+4>>2],h[i+124>>2]=h[_+8>>2],h[i+24>>2]=0,h[i+28>>2]=0,h[i+32>>2]=0,h[i+36>>2]=0,h[i+40>>2]=0,h[i+44>>2]=0,h[i+80>>2]=0,h[i+4>>2]=1065353216,h[i+16>>2]=0,h[i+20>>2]=0,h[i+84>>2]=l,h[i>>2]=4380,_=h[e+268>>2],h[i+96>>2]=h[e+264>>2],h[i+100>>2]=_,_=h[e+260>>2],h[i+88>>2]=h[e+256>>2],h[i+92>>2]=_,h[i+104>>2]=c,l=h[l+188>>2],h[i+8>>2]=h[l+4>>2],h[i+12>>2]=h[l+8>>2],_=i+240|4,l=0;;){h[i+324>>2]=1065353216,h[i+316>>2]=0,h[i+320>>2]=0,h[i+336>>2]=0,h[i+340>>2]=0,h[i+328>>2]=0,h[i+332>>2]=0,h[i+344>>2]=1065353216,h[i+348>>2]=0,h[i+240>>2]=1065353216,h[(c=_)+8>>2]=0,h[c+12>>2]=0,h[c>>2]=0,h[c+4>>2]=0,h[i+260>>2]=1065353216,h[i+272>>2]=0,h[i+276>>2]=0,h[i+264>>2]=0,h[i+268>>2]=0,h[i+280>>2]=1065353216,h[i+300>>2]=0,h[i+292>>2]=0,h[i+296>>2]=0,h[i+284>>2]=0,h[i+288>>2]=0,c=h[e+144>>2],h[i+424>>2]=h[e+140>>2],h[i+428>>2]=c,c=h[e+136>>2],h[i+416>>2]=h[e+132>>2],h[i+420>>2]=c,c=h[e+164>>2],h[i+360>>2]=h[e+160>>2],h[i+364>>2]=c,c=h[e+156>>2],h[i+352>>2]=h[e+152>>2],h[i+356>>2]=c,s=g[e+180>>2],d=g[e+176>>2],o=g[e+168>>2],p=g[e+172>>2],h[i+412>>2]=0,h[i+396>>2]=0,h[i+380>>2]=0,u=x(x(2)/x(x(x(x(o*o)+x(p*p))+x(d*d))+x(s*s))),v=x(d*u),f=x(p*v),C=x(o*u),S=x(s*C),g[i+404>>2]=f+S,E=x(o*v),u=x(p*u),w=x(s*u),g[i+400>>2]=E-w,g[i+392>>2]=f-S,f=x(o*u),s=x(s*v),g[i+384>>2]=f+s,g[i+376>>2]=E+w,g[i+372>>2]=f-s,o=x(o*C),s=x(p*u),g[i+408>>2]=x(1)-x(o+s),p=o,o=x(d*v),g[i+388>>2]=x(1)-x(p+o),g[i+368>>2]=x(1)-x(s+o),s=g[e+196>>2],d=g[e+192>>2],o=g[e+184>>2],p=g[e+188>>2],h[i+348>>2]=0,h[i+332>>2]=0,h[i+316>>2]=0,u=x(x(2)/x(x(x(x(o*o)+x(p*p))+x(d*d))+x(s*s))),v=x(d*u),f=x(p*v),C=x(o*u),S=x(s*C),g[i+340>>2]=f+S,E=x(o*v),u=x(p*u),w=x(s*u),g[i+336>>2]=E-w,g[i+328>>2]=f-S,f=x(o*u),s=x(s*v),g[i+320>>2]=f+s,g[i+312>>2]=E+w,g[i+308>>2]=f-s,o=x(o*C),s=x(p*u),g[i+344>>2]=x(1)-x(o+s),p=o,o=x(d*v),g[i+324>>2]=x(1)-x(p+o),g[i+304>>2]=x(1)-x(s+o),o=g[e+152>>2],s=g[e+156>>2],p=g[e+160>>2],h[i+300>>2]=0,g[i+296>>2]=p-b,g[i+292>>2]=s-y,g[i+288>>2]=o-A;t:if(m[e+250|0]){if(dr(h[e+8>>2],h[e+12>>2],i+368|0,i+304|0,i+112|0,g[t+56>>2]),g[i+116>>2]<x(1))break t;if(c=h[e+8>>2],4&m[c+204|0])break t;dr(c,h[e+12>>2],i+368|0,i+240|0,i,g[t+56>>2])}else cr(t,h[e+12>>2],i+368|0,i+304|0,i+112|0,g[t+56>>2]),4&m[h[e+8>>2]+204|0]|g[i+116>>2]<x(1)||cr(t,h[e+12>>2],i+368|0,i+240|0,i,g[t+56>>2]);s=(o=g[e+20>>2])<x(0)?x(-o):x(0);t:if(m[e+290|0]){if(T=0,g[i+4>>2]<x(1)^1&&!(g[i+116>>2]<x(1)))break t;if(c=h[e+8>>2],4&m[c+204|0])break t;T=0|r[h[h[e>>2]+56>>2]](e,c,h[i+192>>2])}else T=0,g[i+4>>2]<x(1)&&(c=h[e+8>>2],4&m[c+204|0]||(T=0|r[h[h[e>>2]+56>>2]](e,c,h[i+80>>2])));o=x(0);t:{n:{if(s=x(s*n),o=g[e+20>>2]<x(0)^1?o:g[e+60>>2],!(1&(s>x(0)^-1|s<o^-1|-1^T|l))){if(m[e+248|0]|!m[e+249|0])break n;l=0}t=h[e+8>>2];i:{if(!(4&m[t+204|0]|g[i+116>>2]<x(1)^1)){if(1&(r[h[h[e>>2]+56>>2]](e,t,h[i+192>>2])|l))break i;break t}if(!l)break t}o=g[e+136>>2],n=m[e+290|0]?m[e+289|0]?g[i+116>>2]:x(x(o-g[i+180>>2])*x(.5)):g[i+116>>2],a[e+289|0]=0,a[e+249|0]=0,h[e+20>>2]=0,h[e+24>>2]=0,s=x(x(1)-n),g[e+132>>2]=x(s*g[e+132>>2])+x(n*g[e+152>>2]),g[e+136>>2]=x(o*s)+x(n*g[e+156>>2]),g[e+140>>2]=x(s*g[e+140>>2])+x(n*g[e+160>>2]);break e}l=h[i+228>>2],h[e+152>>2]=h[i+224>>2],h[e+156>>2]=l,l=h[i+236>>2],h[e+160>>2]=h[i+232>>2],h[e+164>>2]=l,o=x(o+g[e+148>>2]),A=x(g[e+256>>2]*o),g[e+152>>2]=g[e+152>>2]-A,y=x(o*g[e+260>>2]),g[e+156>>2]=g[e+156>>2]-y,b=x(o*g[e+264>>2]),g[e+160>>2]=g[e+160>>2]-b,l=1;continue}break}a[e+289|0]=1,m[e+290|0]&&(o=g[e+20>>2],(o=x((o<x(0)?x(-o):x(0))*n))>(n=g[e+28>>2])^1|(m[e+249|0]?!m[e+248|0]:0)||(n=x(n+g[e+148>>2]),g[e+160>>2]=x(b+g[e+160>>2])-x(n*g[e+264>>2]),g[e+156>>2]=x(y+g[e+156>>2])-x(n*g[e+260>>2]),g[e+152>>2]=x(A+g[e+152>>2])-x(g[e+256>>2]*n))),t=h[e+156>>2],h[e+132>>2]=h[e+152>>2],h[e+136>>2]=t,t=h[e+164>>2],h[e+140>>2]=h[e+160>>2],h[e+144>>2]=t}z=i+432|0}(e,t,n),o=h[e+144>>2],h[s+8>>2]=h[e+140>>2],h[s+12>>2]=o,o=h[e+136>>2],h[s>>2]=h[e+132>>2],h[s+4>>2]=o,o=h[e+8>>2],h[o+304>>2]=h[o+304>>2]+1,_=h[i+28>>2],h[o+12>>2]=h[i+24>>2],h[o+16>>2]=_,_=h[i+20>>2],h[o+4>>2]=h[i+16>>2],h[o+8>>2]=_,_=h[i+44>>2],h[o+28>>2]=h[i+40>>2],h[o+32>>2]=_,_=h[i+36>>2],h[o+20>>2]=h[i+32>>2],h[o+24>>2]=_,_=h[i+60>>2],h[o+44>>2]=h[i+56>>2],h[o+48>>2]=_,_=h[i+52>>2],h[o+36>>2]=h[i+48>>2],h[o+40>>2]=_,_=h[s+4>>2],h[o+52>>2]=h[s>>2],h[o+56>>2]=_,_=h[s+12>>2],h[o+60>>2]=h[s+8>>2],h[o+64>>2]=_,a[e+220|0]=0,ir(e,t)&&(a[e+220|0]=1,ir(e,t)&&(a[e+220|0]=1,ir(e,t)&&(a[e+220|0]=1,ir(e,t)&&(a[e+220|0]=1,ir(e,t)&&(a[e+220|0]=1)))))),z=i+80|0},r[207]=function(e){return 0|r[h[h[(e|=0)>>2]+48>>2]](e)},r[208]=function(e,t){e|=0,t|=0;var n=x(0),i=x(0),o=x(0),r=x(0),s=0;n=g[t>>2],i=x(n*n),n=g[t+4>>2],i=x(i+x(n*n)),n=g[t+8>>2],n=x(i+x(n*n)),i=g[e+36>>2],n!=x(0)&&(i=x(T(n))),n=i,a[e+249|0]=1,g[e+20>>2]=n,g[e+32>>2]=n,s=e,n=g[t>>2],i=g[t+4>>2],o=g[t+8>>2],(r=x(x(x(n*n)+x(i*i))+x(o*o)))!=x(0)?(r=x(x(1)/x(T(r))),o=x(o*r),i=x(i*r),n=x(n*r),t=t+12|0):(o=g[e+264>>2],i=g[e+260>>2],n=g[e+256>>2],t=e+268|0),h[s+284>>2]=h[t>>2],g[e+280>>2]=o,g[e+276>>2]=i,g[e+272>>2]=n,t=h[e+8>>2],s=h[t+56>>2],h[e+116>>2]=h[t+52>>2],h[e+120>>2]=s,s=h[t+64>>2],h[e+124>>2]=h[t+60>>2],h[e+128>>2]=s},r[209]=function(e){return 0|(x(b(g[20+(e|=0)>>2]))<x(1.1920928955078125e-7)^1?0:x(b(g[e+24>>2]))<x(1.1920928955078125e-7))},r[210]=function(e,t){t|=0,a[288+(e|=0)|0]=t},r[211]=function(e,t,n){var i,o;if(e|=0,t|=0,e=0,i=h[188+(n|=0)>>2],o=h[t+188>>2],!(!(h[i+8>>2]&h[o+4>>2])|!(h[o+8>>2]&h[i+4>>2]))&&(!h[t+280>>2]||r[h[h[t>>2]+12>>2]](t,n))){if(!h[n+280>>2])return 1;e=0|r[h[h[n>>2]+12>>2]](n,t)}return 0|e},r[212]=function(e,t){e|=0;var n=0;n=h[4+(t|=0)>>2],h[e+100>>2]=h[t>>2],h[e+104>>2]=n,n=h[t+12>>2],h[e+108>>2]=h[t+8>>2],h[e+112>>2]=n},r[213]=function(e){return 100+(e|=0)|0},r[214]=function(e,t){e|=0,t|=0;var n=x(0),i=x(0),o=x(0),r=0,s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0);r=h[t+4>>2],h[e+68>>2]=h[t>>2],h[e+72>>2]=r,r=h[t+12>>2],h[e+76>>2]=h[t+8>>2],h[e+80>>2]=r,n=g[e+68>>2],s=g[e+72>>2],c=g[e+76>>2];e:{if((u=x(x(x(n*n)+x(s*s))+x(c*c)))>x(0)){if(l=g[t>>2],i=g[t+4>>2],p=g[t+8>>2],o=x(x(1)/x(T(x(x(x(l*l)+x(i*i))+x(p*p))))),_=g[e+264>>2],m=x(_*x(p*o)),p=g[e+256>>2],f=g[e+260>>2],(o=x(m+x(x(p*x(l*o))+x(f*x(i*o)))))==x(0))break e;if(i=c,c=x(x(T(u))*No(x(x(1.5707963705062866)-mr(x(S(x(E(o,x(-1))),x(1))))))),l=x(_*c),g[e+76>>2]=i-l,i=s,s=x(f*c),g[e+72>>2]=i-s,i=n,n=x(p*c),g[e+68>>2]=i-n,n=x(T(x(x(l*l)+x(x(n*n)+x(s*s))))),g[e+20>>2]=o<x(0)?x(-n):n,!(o>x(0)))break e;return a[e+249|0]=1,t=h[e+8>>2],r=h[t+56>>2],h[e+116>>2]=h[t+52>>2],h[e+120>>2]=r,r=h[t+64>>2],h[e+124>>2]=h[t+60>>2],void(h[e+128>>2]=r)}h[e+20>>2]=0}},r[215]=function(e,t){e|=0,t|=0;var n=x(0),i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0);i=g[t+72>>2],o=g[t+260>>2],r=g[t+76>>2],a=g[t+264>>2],s=g[t+68>>2],n=g[t+20>>2],c=g[t+256>>2],h[e+12>>2]=0,g[e>>2]=s+x(c*n),g[e+8>>2]=r+x(n*a),g[e+4>>2]=i+x(n*o)},r[216]=yo,r[217]=function(e,t,n){e|=0,t|=0,n|=0;var i=0,o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=0,u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0);return r=x(1),(0|(i=h[t>>2]))==h[e+84>>2]|4&m[i+204|0]||(n?(a=g[t+16>>2],s=g[t+12>>2],o=g[t+8>>2]):(o=g[t+8>>2],c=g[t+12>>2],l=g[t+16>>2],a=x(x(x(o*g[i+36>>2])+x(c*g[i+40>>2]))+x(l*g[i+44>>2])),s=x(x(x(o*g[i+20>>2])+x(c*g[i+24>>2]))+x(l*g[i+28>>2])),o=x(x(x(g[i+4>>2]*o)+x(g[i+8>>2]*c))+x(g[i+12>>2]*l))),x(x(x(o*g[e+88>>2])+x(s*g[e+92>>2]))+x(a*g[e+96>>2]))<g[e+104>>2]||(p=h[t+40>>2],h[e+80>>2]=i,h[e+4>>2]=p,n?(n=h[t+12>>2],h[e+48>>2]=h[t+8>>2],h[e+52>>2]=n,n=h[t+20>>2],h[e+56>>2]=h[t+16>>2],h[e+60>>2]=n):(o=g[i+8>>2],c=g[i+12>>2],l=g[i+20>>2],u=g[i+24>>2],_=g[i+28>>2],f=g[i+36>>2],d=g[i+40>>2],r=g[t+12>>2],v=g[i+44>>2],a=g[t+16>>2],A=g[i+4>>2],s=g[t+8>>2],h[e+60>>2]=0,g[e+56>>2]=x(x(s*f)+x(r*d))+x(a*v),g[e+52>>2]=x(x(s*l)+x(r*u))+x(a*_),g[e+48>>2]=x(x(A*s)+x(o*r))+x(c*a)),i=h[t+28>>2],h[(n=e- -64|0)>>2]=h[t+24>>2],h[n+4>>2]=i,n=h[t+36>>2],h[e+72>>2]=h[t+32>>2],h[e+76>>2]=n,r=g[t+40>>2])),x(r)},r[218]=Dr,r[219]=function(e){var t;h[(e|=0)>>2]=4464,(t=h[e+296>>2])&&(m[e+300|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+296>>2]=0),h[e+296>>2]=0,h[e+288>>2]=0,h[e+292>>2]=0,a[e+300|0]=1,e&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[220]=function(){return 264},r[221]=Ce,r[222]=function(e,t){var n,i,o=0,a=0,s=0,c=0;a=t|=0,s=0|r[h[h[(e|=0)>>2]+16>>2]](e),c=1,o=h[h[t>>2]+16>>2],n=0|r[o](0|a,0|s,0|c),c=t,s=n,a=0|r[h[h[e>>2]+20>>2]](e,h[n+8>>2],t),i=e,o=h[h[t>>2]+20>>2],r[o](0|c,0|s,0|a,1245859651,0|i)},r[223]=function(e){var t;return h[(e|=0)>>2]=4556,(t=h[e+336>>2])&&(m[e+340|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+336>>2]=0),h[e+336>>2]=0,h[e+328>>2]=0,h[e+332>>2]=0,a[e+340|0]=1,Dr(e),0|e},r[224]=function(e){var t;h[(e|=0)>>2]=4556,(t=h[e+336>>2])&&(m[e+340|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+336>>2]=0),h[e+336>>2]=0,h[e+328>>2]=0,h[e+332>>2]=0,a[e+340|0]=1,Dr(e),e&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[225]=function(e,t,n){e|=0,n|=0;var i,o=0,s=0,c=0;i=h[(t|=0)>>2];e:{t:if(!((0|(n=h[e+328>>2]))<1)){for(o=h[e+336>>2],t=0;;){if(h[o+(t<<2)>>2]!=(0|i)){if((0|n)!=(0|(t=t+1|0)))continue;break t}break}if((0|t)!=(0|n))break e}if(h[e+332>>2]==(0|n)&&!((0|n)>=(0|(o=n?n<<1:1)))){if(o&&(h[6657]=h[6657]+1,s=0|r[h[5255]](o<<2,16),n=h[e+328>>2]),(0|n)>=1)for(t=0;h[(c=t<<2)+s>>2]=h[h[e+336>>2]+c>>2],(0|n)!=(0|(t=t+1|0)););(t=h[e+336>>2])&&(m[e+340|0]&&(t&&(h[6658]=h[6658]+1,r[h[5256]](t)),n=h[e+328>>2]),h[e+336>>2]=0),h[e+336>>2]=s,h[e+332>>2]=o,a[e+340|0]=1}h[h[e+336>>2]+(n<<2)>>2]=i,h[e+328>>2]=n+1}},r[226]=function(e,t,n,i){t|=0,n|=0,i|=0;var o=0,r=0;e:if(!((0|(n=h[328+(e|=0)>>2]))<1)){for(i=h[e+336>>2],r=h[t>>2],t=0;;){if(h[(o=(t<<2)+i|0)>>2]!=(0|r)){if((0|n)!=(0|(t=t+1|0)))continue;break e}break}(0|t)>=(0|n)||(t=n+-1|0,h[o>>2]=h[(t<<2)+i>>2],h[e+328>>2]=t)}},r[227]=be,r[228]=function(e){(e=be(e|=0))&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[229]=function(e,t,n){e|=0,t|=0;var i,o=0,s=0,c=0,l=0,p=0;n=(n|=0)||h[e+188>>2],i=h[t>>2];e:{t:if(!((0|(o=h[e+328>>2]))<1)){for(c=h[e+336>>2];;){if(h[c+(s<<2)>>2]!=(0|i)){if((0|(s=s+1|0))!=(0|o))continue;break t}break}if((0|o)!=(0|s))break e}if(h[e+332>>2]==(0|o)&&!((0|o)>=(0|(c=o?o<<1:1)))){if(c&&(h[6657]=h[6657]+1,l=0|r[h[5255]](c<<2,16),o=h[e+328>>2]),(0|o)>=1)for(s=0;h[(p=s<<2)+l>>2]=h[h[e+336>>2]+p>>2],(0|(s=s+1|0))!=(0|o););(s=h[e+336>>2])&&(m[e+340|0]&&(s&&(h[6658]=h[6658]+1,r[h[5256]](s)),o=h[e+328>>2]),h[e+336>>2]=0),h[e+336>>2]=l,a[e+340|0]=1,h[e+332>>2]=c}h[h[e+336>>2]+(o<<2)>>2]=i,h[e+328>>2]=o+1,e=h[e+344>>2],r[h[h[e>>2]+8>>2]](e,n,t)}},r[230]=function(e,t,n,i){e|=0,n|=0,i|=0;var o,a=0,s=0,c=0,l=0;o=h[(t|=0)>>2],i=i||h[e+188>>2];e:if(!((0|(a=h[e+328>>2]))<1)){for(c=h[e+336>>2];;){if(h[(l=(s<<2)+c|0)>>2]!=(0|o)){if((0|a)!=(0|(s=s+1|0)))continue;break e}break}(0|s)>=(0|a)||(a=a+-1|0,h[l>>2]=h[(a<<2)+c>>2],h[e+328>>2]=a,e=h[e+344>>2],r[h[h[e>>2]+12>>2]](e,i,t,n))}},r[231]=function(e,t,n){e|=0,t|=0,n|=0;var i,o,a,s=0,c=x(0);z=i=z-96|0,o=h[h[e>>2]>>2],a=h[h[e+4>>2]>>2],r[h[h[t>>2]+24>>2]](t,o,a)&&(s=h[o+192>>2],h[i+88>>2]=-1,h[i+92>>2]=-1,h[i+84>>2]=o+4,h[i+80>>2]=o,h[i+76>>2]=s,h[i+72>>2]=0,s=h[a+192>>2],h[i+64>>2]=-1,h[i+68>>2]=-1,h[i+60>>2]=a+4,h[i+56>>2]=a,h[i+52>>2]=s,h[i+48>>2]=0,(h[e+8>>2]||(t=0|r[h[h[t>>2]+8>>2]](t,i+72|0,i+48|0,0,1),h[e+8>>2]=t,t))&&(h[32+(t=i+8|0)>>2]=0,h[t+12>>2]=i+48,h[t+8>>2]=i+72,h[t+4>>2]=0,h[t>>2]=7820,e=h[e+8>>2],1!=h[n+8>>2]?(c=x(r[h[h[e>>2]+12>>2]](e,o,a,n,t)),g[n+12>>2]>c&&(g[n+12>>2]=c)):r[h[h[e>>2]+8>>2]](e,i+72|0,i+48|0,n,t))),z=i+96|0},r[232]=function(e){var t;return h[(e|=0)>>2]=4712,(t=h[e+20>>2])&&(m[e+24|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+20>>2]=0),h[e+20>>2]=0,h[e+12>>2]=0,h[e+16>>2]=0,a[e+24|0]=1,0|e},r[233]=function(e){var t;h[(e|=0)>>2]=4712,(t=h[e+20>>2])&&(m[e+24|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+20>>2]=0),h[e+20>>2]=0,h[e+12>>2]=0,h[e+16>>2]=0,a[e+24|0]=1,Eo(e)},r[234]=function(e,t,n,i,o){var a,s;return e|=0,t|=0,n|=0,i|=0,o|=0,z=a=z-16|0,h[a+12>>2]=i,h[a+8>>2]=e,i=h[h[n+4>>2]+4>>2],s=h[h[t+4>>2]+4>>2],1!=(0|o)?(e=h[5260+((y(s,144)+e|0)+(i<<2)|0)>>2],e=0|r[h[h[e>>2]+8>>2]](e,a+8|0,t,n)):(e=h[76+((y(s,144)+e|0)+(i<<2)|0)>>2],e=0|r[h[h[e>>2]+8>>2]](e,a+8|0,t,n)),z=a+16|0,0|e},r[235]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=0,s=0,c=x(0),l=x(0),p=0,u=0;z=i=z-16|0,h[5783]=h[5783]+1,2&h[e+4>>2]?(s=h[t+192>>2],c=x(r[h[h[s>>2]+20>>2]](s,g[5249])),g[i+12>>2]=c,s=h[n+192>>2],l=x(r[h[h[s>>2]+20>>2]](s,g[5249])),g[i+8>>2]=l,s=c<l?i+12|0:i+8|0):s=20996,p=h[s>>2],c=g[n+184>>2],l=g[t+184>>2],o=h[e+72>>2];e:{if(s=h[o+12>>2])h[o+12>>2]=h[s>>2],h[o+8>>2]=h[o+8>>2]+-1;else{if(s=0,4&m[e+4|0])break e;h[6657]=h[6657]+1,s=0|r[h[5255]](868,16)}if(h[s>>2]=1025,h[s+168>>2]=0,h[(o=s)+160>>2]=0,h[o+164>>2]=0,h[o+152>>2]=0,h[o+156>>2]=0,h[o+144>>2]=0,h[o+148>>2]=0,h[o+136>>2]=0,h[o+140>>2]=0,h[o+128>>2]=0,h[o+132>>2]=0,h[o+120>>2]=0,h[o+124>>2]=0,h[o+328>>2]=0,h[o+332>>2]=0,h[o+336>>2]=0,h[o+340>>2]=0,h[o+344>>2]=0,h[o+348>>2]=0,h[o+352>>2]=0,h[o+356>>2]=0,h[o+360>>2]=0,h[o+364>>2]=0,h[o+368>>2]=0,h[o+372>>2]=0,h[o+376>>2]=0,h[o+536>>2]=0,h[o+540>>2]=0,h[o+544>>2]=0,h[o+548>>2]=0,h[o+552>>2]=0,h[o+556>>2]=0,h[o+560>>2]=0,h[o+564>>2]=0,h[o+568>>2]=0,h[o+572>>2]=0,h[o+576>>2]=0,h[o+580>>2]=0,h[o+584>>2]=0,h[o+792>>2]=0,h[o+784>>2]=0,h[o+788>>2]=0,h[o+776>>2]=0,h[o+780>>2]=0,h[o+768>>2]=0,h[o+772>>2]=0,h[o+760>>2]=0,h[o+764>>2]=0,h[o+752>>2]=0,h[o+756>>2]=0,h[o+744>>2]=0,h[o+748>>2]=0,h[o+836>>2]=t,h[o+840>>2]=n,h[o+844>>2]=0,h[o+848>>2]=p,g[o+852>>2]=l<c?l:c,n=h[e+12>>2],h[o+864>>2]=n,h[e+16>>2]==(0|n)&&!((0|n)>=(0|(u=n?n<<1:1)))){if(u?(h[6657]=h[6657]+1,p=0|r[h[5255]](u<<2,16),n=h[e+12>>2]):p=0,(0|n)>=1)for(t=0;h[(o=t<<2)+p>>2]=h[h[e+20>>2]+o>>2],(0|n)!=(0|(t=t+1|0)););(t=h[e+20>>2])&&(m[e+24|0]&&(t&&(h[6658]=h[6658]+1,r[h[5256]](t)),n=h[e+12>>2]),h[e+20>>2]=0),h[e+20>>2]=p,h[e+16>>2]=u,a[e+24|0]=1}h[h[e+20>>2]+(n<<2)>>2]=s,h[e+12>>2]=n+1}return z=i+16|0,0|s},r[236]=function(e,t){e|=0,t|=0;var n,i,o,a,s,c=0,l=0;if(h[5783]=h[5783]+-1,r[h[h[e>>2]+20>>2]](e,t),n=(c=h[t+864>>2])<<2,i=h[e+20>>2],a=h[(l=n+i|0)>>2],s=l,o=(l=h[e+12>>2]+-1|0)<<2,h[s>>2]=h[i+o>>2],h[h[e+20>>2]+o>>2]=a,h[h[h[e+20>>2]+n>>2]+864>>2]=c,h[e+12>>2]=l,t&&(e=h[e+72>>2],!((c=h[e+16>>2])>>>0>t>>>0|c+y(h[e>>2],h[e+4>>2])>>>0<=t>>>0)))return h[t>>2]=h[e+12>>2],h[e+12>>2]=t,void(h[e+8>>2]=h[e+8>>2]+1);t&&(h[6658]=h[6658]+1,r[h[5256]](t))},r[237]=function(e,t){e|=0;var n=0,i=0,o=0,a=0;if(z=e=z-16|0,(0|(n=h[844+(t|=0)>>2]))>=1)for(;n=y(i,208)+t|0,(o=h[n+120>>2])&&(a=h[5779])&&(r[a](o),h[n+120>>2]=0),(0|(i=i+1|0))<(0|(n=h[t+844>>2])););n&&(n=h[5782])&&(h[e+12>>2]=t,r[n](e+12|0)),h[t+844>>2]=0,z=e+16|0},r[238]=function(e,t,n){e|=0,n|=0;var i=0;e:{t:if(!((e=h[220+(t|=0)>>2]+-2|0)>>>0>3)){switch(e-1|0){case 0:case 1:break t}if(!((i=h[n+220>>2]+-2|0)>>>0>3))switch(e=0,i-1|0){case 0:case 1:break t;default:break e}}if(!h[t+280>>2]||r[h[h[t>>2]+12>>2]](t,n)){if(e=1,!h[n+280>>2])break e;if(r[h[h[n>>2]+12>>2]](n,t))break e}e=0}return 0|e},r[239]=function(e,t,n){if(e|=0,n|=0,e=0,!(4&(t=h[204+(t|=0)>>2])||4&(n=h[n+204>>2]))){if(!(3&t))return 1;e=!(3&n)}return 0|e},r[240]=function(e,t,n,i){var o;e|=0,t|=0,n|=0,i|=0,z=o=z-16|0,h[o+8>>2]=e,h[o+4>>2]=n,h[o>>2]=4820,r[h[h[t>>2]+48>>2]](t,o,i),z=o+16|0},r[241]=function(e){return h[12+(e|=0)>>2]},r[242]=function(e,t){return t|=0,h[h[20+(e|=0)>>2]+(t<<2)>>2]},r[243]=function(e){return h[12+(e|=0)>>2]?h[e+20>>2]:0},r[244]=ic,r[245]=ic,r[246]=function(e,t){var n;return t|=0,e=h[68+(e|=0)>>2],(n=h[e+12>>2])?(h[e+12>>2]=h[n>>2],h[e+8>>2]=h[e+8>>2]+-1,0|n):(h[6657]=h[6657]+1,0|r[h[5255]](t,16))},r[247]=function(e,t){e|=0;var n=0;if((t|=0)&&(e=h[e+68>>2],!((n=h[e+16>>2])>>>0>t>>>0|y(h[e>>2],h[e+4>>2])+n>>>0<=t>>>0)))return h[t>>2]=h[e+12>>2],h[e+12>>2]=t,void(h[e+8>>2]=h[e+8>>2]+1);t&&(h[6658]=h[6658]+1,r[h[5256]](t))},r[248]=Po,r[249]=yo,r[250]=function(e,t){var n;return n=t|=0,t=h[8+(e|=0)>>2],r[h[t+64>>2]](n,t,h[e+4>>2]),0},r[251]=Ir,r[252]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=x(0),a=x(0),s=x(0),c=0,l=x(0),p=x(0),u=x(0),_=x(0);z=i=z-32|0,c=h[n+12>>2],h[i+24>>2]=h[n+8>>2],h[i+28>>2]=c,c=h[n+4>>2],h[i+16>>2]=h[n>>2],h[i+20>>2]=c,o=g[i+16>>2],s=g[i+20>>2],a=g[i+24>>2],x(x(x(o*o)+x(s*s))+x(a*a))<x(14210854715202004e-30)&&(h[i+24>>2]=-1082130432,h[i+28>>2]=0,h[i+16>>2]=-1082130432,h[i+20>>2]=-1082130432,a=x(-1),s=x(-1),o=x(-1)),l=a,a=x(x(1)/x(T(x(x(x(o*o)+x(s*s))+x(a*a))))),g[i+24>>2]=l*a,g[i+20>>2]=s*a,g[i+16>>2]=o*a,Ir(i,t,i+16|0);e:{t:if(!((n=h[t+4>>2])>>>0>13)){switch(n-1|0){case 7:o=x(g[t+32>>2]*g[t+16>>2]);break e;default:case 0:case 12:case 10:case 9:o=g[t+48>>2];break e;case 1:case 2:case 5:case 6:case 8:case 11:break t;case 3:case 4:}o=g[t+48>>2];break e}o=x(r[h[h[t>>2]+48>>2]](t))}s=g[i>>2],a=g[i+16>>2],l=g[i+4>>2],p=g[i+20>>2],u=g[i+8>>2],_=g[i+24>>2],h[e+12>>2]=0,g[e+8>>2]=u+x(o*_),g[e+4>>2]=l+x(o*p),g[e>>2]=s+x(o*a),z=i+32|0},r[253]=Po,r[254]=yo,r[255]=function(e,t,n,i,o,a,s,c,l,p){e|=0,t|=0,n|=0,i|=0,o|=0,a|=0,s|=0,c|=0,l|=0,p|=0;var u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),A=x(0);return z=p=z-80|0,u=g[o+52>>2],_=g[a+52>>2],f=g[o+56>>2],m=g[a+56>>2],d=g[o+48>>2],A=g[a+48>>2],e=0,h[p+76>>2]=0,g[p+64>>2]=A-d,g[p+72>>2]=m-f,g[p+68>>2]=_-u,t=1,(function(e,t,n,i,o,a){var s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=0,M=x(0),O=0,L=x(0),F=x(0),B=x(0),U=x(0),j=0,k=0;z=s=z-19040|0,h[a>>2]=0,h[a+4>>2]=0,h[a+32>>2]=0,h[a+24>>2]=0,h[a+28>>2]=0,h[a+16>>2]=0,h[a+20>>2]=0,h[a+8>>2]=0,h[a+12>>2]=0,h[s+18916>>2]=n,h[s+18912>>2]=e,c=g[i+20>>2],l=g[i+36>>2],p=g[t+20>>2],u=g[t+36>>2],_=g[i+24>>2],m=g[t+24>>2],f=g[i+40>>2],d=g[t+40>>2],A=g[i+32>>2],b=g[i>>2],C=g[i+16>>2],S=g[i+4>>2],E=g[t+32>>2],w=g[t>>2],T=g[t+16>>2],I=g[t+4>>2],P=g[i+8>>2],R=g[t+8>>2],h[s+18964>>2]=0,h[s+18948>>2]=0,h[s+18932>>2]=0,N=x(x(x(R*P)+x(m*_))+x(d*f)),g[s+18960>>2]=N,M=x(x(x(I*P)+x(p*_))+x(u*f)),g[s+18956>>2]=M,_=x(x(x(w*P)+x(T*_))+x(E*f)),g[s+18952>>2]=_,f=x(x(x(R*S)+x(m*c))+x(d*l)),g[s+18944>>2]=f,P=x(x(x(I*S)+x(p*c))+x(u*l)),g[s+18940>>2]=P,c=x(x(x(w*S)+x(T*c))+x(E*l)),g[s+18936>>2]=c,l=x(x(x(b*R)+x(C*m))+x(A*d)),g[s+18928>>2]=l,p=x(x(x(b*I)+x(C*p))+x(A*u)),g[s+18924>>2]=p,u=x(x(x(b*w)+x(C*T))+x(A*E)),g[s+18920>>2]=u,m=g[t+20>>2],d=g[t+36>>2],A=g[t+24>>2],b=g[t+52>>2],C=g[i+52>>2],S=g[t+40>>2],E=g[t+56>>2],w=g[i+56>>2],T=g[t>>2],I=g[t+16>>2],R=g[t+32>>2],L=g[t+4>>2],F=g[t+8>>2],B=g[t+48>>2],U=g[i+48>>2],h[s+19036>>2]=0,h[s+19028>>2]=0,h[s+19012>>2]=0,g[s+19008>>2]=N,g[s+19004>>2]=f,g[s+19e3>>2]=l,h[s+18996>>2]=0,g[s+18992>>2]=M,g[s+18988>>2]=P,g[s+18984>>2]=p,h[s+18980>>2]=0,g[s+18976>>2]=_,g[s+18972>>2]=c,c=x(U-B),l=x(C-b),p=x(w-E),g[s+19024>>2]=x(x(F*c)+x(A*l))+x(S*p),g[s+19020>>2]=x(x(c*L)+x(l*m))+x(p*d),g[s+19016>>2]=x(x(c*T)+x(l*I))+x(p*R),h[s+19032>>2]=252,g[s+18968>>2]=u,h[(e=s+18664|0)>>2]=0,h[e+4>>2]=0,h[s+18656>>2]=0,h[s+18660>>2]=0,h[s+18892>>2]=0,h[s+18896>>2]=0,h[s+18904>>2]=2,h[s+18672>>2]=0,c=g[o>>2],l=g[o+4>>2],p=g[o+8>>2],h[s+28>>2]=0,g[s+24>>2]=-p,g[s+20>>2]=-l,g[s+16>>2]=-c;e:if(!((e=xe(s+18528|0,s+18912|0,s+16|0)+-1|0)>>>0>1)){t:{if(e-1){for(h[(e=s+18520|0)>>2]=0,h[e+4>>2]=0,h[(e=s- -64|0)>>2]=0,h[e+4>>2]=0,h[s+72>>2]=0,h[s+18512>>2]=0,h[s+18516>>2]=0,h[s+18508>>2]=0,h[s+16>>2]=9,h[s+56>>2]=0,h[s+60>>2]=0,i=0;e=14296+(y(0-i|0,56)+s|0)|0,h[e+4200>>2]=0,n=h[s+18520>>2],h[e+4204>>2]=n,e=e+4156|0,n&&(h[n+44>>2]=e),h[s+18520>>2]=e,256!=(0|(i=i+1|0)););if(h[s+18524>>2]=256,c=g[o>>2],l=g[o+4>>2],p=g[o+8>>2],h[s+12>>2]=0,g[s+8>>2]=-p,g[s+4>>2]=-l,g[s>>2]=-c,9!=(0|xl(s+16|0,s+18528|0,s))){if(!h[s+52>>2]){c=x(0),l=x(0),p=x(0);break t}for(p=x(0),i=0,l=x(0),c=x(0);e=h[s+19032>>2],n=s,o=h[s+19036>>2],j=D=h[s+18912>>2]+(o>>1)|0,k=h[4+(O=(s+16|0)+(i<<2)|0)>>2],1&o&&(e=h[e+h[D>>2]>>2]),r[e](n,j,k),u=g[O+20>>2],p=x(p+x(u*g[s+8>>2])),l=x(l+x(u*g[s+4>>2])),c=x(c+x(g[s>>2]*u)),(i=i+1|0)>>>0<v[s+52>>2];);break t}h[a>>2]=3;break e}h[a>>2]=2;break e}D=1,h[a>>2]=1,u=g[t+48>>2],_=g[t+8>>2],m=g[t>>2],f=g[t+4>>2],d=g[t+52>>2],A=g[t+24>>2],b=g[t+16>>2],C=g[t+20>>2],S=g[t+56>>2],E=g[t+40>>2],w=g[t+32>>2],T=g[t+36>>2],h[a+16>>2]=0,g[a+12>>2]=S+x(x(x(c*w)+x(l*T))+x(p*E)),g[a+8>>2]=d+x(x(x(c*b)+x(l*C))+x(p*A)),g[a+4>>2]=u+x(x(x(c*m)+x(l*f))+x(p*_)),d=g[t+48>>2],A=g[t+8>>2],b=g[t>>2],C=g[t+4>>2],S=g[t+52>>2],E=g[t+24>>2],w=g[t+16>>2],T=g[t+20>>2],I=g[t+56>>2],P=g[t+40>>2],R=g[t+32>>2],N=g[t+36>>2],_=g[s+60>>2],m=g[s- -64>>2],f=g[s+56>>2],u=g[s+72>>2],h[a+48>>2]=0,h[a+32>>2]=0,g[a+52>>2]=-u,g[a+44>>2]=-m,g[a+40>>2]=-_,g[a+36>>2]=-f,c=x(c-x(f*u)),l=x(l-x(u*_)),p=x(p-x(u*m)),g[a+28>>2]=I+x(x(x(R*c)+x(N*l))+x(P*p)),g[a+24>>2]=S+x(x(x(c*w)+x(l*T))+x(p*E)),g[a+20>>2]=d+x(x(x(c*b)+x(l*C))+x(p*A))}return z=s+19040|0,D}(n,o,i,a,p- -64|0,p+8|0)||(t=0,function(e,t,n,i,o,a){var s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),A=x(0),y=x(0),b=0,C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=0,L=0,F=x(0),B=x(0),U=x(0),j=x(0),k=0;if(z=s=z-544|0,h[a>>2]=0,h[a+4>>2]=0,h[a+32>>2]=0,h[a+24>>2]=0,h[a+28>>2]=0,h[a+16>>2]=0,h[a+20>>2]=0,h[a+8>>2]=0,h[a+12>>2]=0,h[s+388>>2]=n,h[s+384>>2]=e,p=g[i+20>>2],u=g[i+36>>2],_=g[t+20>>2],f=g[t+36>>2],m=g[i+24>>2],c=g[t+24>>2],l=g[i+40>>2],d=g[t+40>>2],A=g[i+32>>2],y=g[i>>2],C=g[i+16>>2],S=g[i+4>>2],E=g[t+32>>2],P=g[t>>2],I=g[t+16>>2],R=g[t+4>>2],w=g[i+8>>2],N=g[t+8>>2],h[s+436>>2]=0,h[s+420>>2]=0,h[s+404>>2]=0,D=x(x(x(N*w)+x(c*m))+x(d*l)),g[s+432>>2]=D,M=x(x(x(R*w)+x(_*m))+x(f*l)),g[s+428>>2]=M,m=x(x(x(P*w)+x(I*m))+x(E*l)),g[s+424>>2]=m,l=x(x(x(N*S)+x(c*p))+x(d*u)),g[s+416>>2]=l,w=x(x(x(R*S)+x(_*p))+x(f*u)),g[s+412>>2]=w,p=x(x(x(P*S)+x(I*p))+x(E*u)),g[s+408>>2]=p,u=x(x(x(y*N)+x(C*c))+x(A*d)),g[s+400>>2]=u,_=x(x(x(y*R)+x(C*_))+x(A*f)),g[s+396>>2]=_,f=x(x(x(y*P)+x(C*I))+x(A*E)),g[s+392>>2]=f,c=g[t+20>>2],d=g[t+36>>2],A=g[t+24>>2],y=g[t+52>>2],C=g[i+52>>2],S=g[t+40>>2],E=g[t+56>>2],P=g[i+56>>2],I=g[t>>2],R=g[t+16>>2],N=g[t+32>>2],F=g[t+4>>2],B=g[t+8>>2],U=g[t+48>>2],j=g[i+48>>2],h[s+508>>2]=0,h[s+500>>2]=0,h[s+484>>2]=0,g[s+480>>2]=D,g[s+476>>2]=l,g[s+472>>2]=u,h[s+468>>2]=0,g[s+464>>2]=M,g[s+460>>2]=w,g[s+456>>2]=_,h[s+452>>2]=0,g[s+448>>2]=m,g[s+444>>2]=p,p=x(j-U),u=x(C-y),_=x(P-E),g[s+496>>2]=x(x(B*p)+x(A*u))+x(S*_),g[s+492>>2]=x(x(p*F)+x(u*c))+x(_*d),g[s+488>>2]=x(x(p*I)+x(u*R))+x(_*N),h[s+504>>2]=251,g[s+440>>2]=f,h[s+136>>2]=0,h[s+140>>2]=0,h[s+128>>2]=0,h[s+132>>2]=0,h[s+364>>2]=0,h[s+368>>2]=0,h[s+376>>2]=2,h[s+144>>2]=0,e=xe(s,s+384|0,o))h[a>>2]=1==(0|e)?1:2;else{if(b=h[s+372>>2],h[b+32>>2])for(c=x(0),i=0,m=x(0),f=x(0),_=x(0),u=x(0),p=x(0);l=g[16+(o=(n=i<<2)+b|0)>>2],e=h[s+504>>2],b=s+528|0,O=h[s+508>>2],k=L=h[s+384>>2]+(O>>1)|0,o=h[o>>2],1&O&&(e=h[e+h[L>>2]>>2]),r[e](b,k,o),o=h[s+508>>2],e=h[s+388>>2]+(o>>1)|0,C=x(l*g[s+536>>2]),S=x(l*g[s+532>>2]),E=x(l*g[s+528>>2]),n=h[n+h[s+372>>2]>>2],d=g[n+8>>2],A=g[n>>2],y=x(-g[n+4>>2]),b=h[s+504>>2],b=1&o?h[h[e>>2]+b>>2]:b,c=x(c+C),m=x(m+S),f=x(f+E),h[s+524>>2]=0,g[s+520>>2]=x(x(g[s+428>>2]*y)-x(A*g[s+424>>2]))-x(d*g[s+432>>2]),g[s+516>>2]=x(x(g[s+412>>2]*y)-x(A*g[s+408>>2]))-x(d*g[s+416>>2]),g[s+512>>2]=x(x(g[s+396>>2]*y)-x(A*g[s+392>>2]))-x(d*g[s+400>>2]),r[b](s+528|0,e,s+512|0),d=g[s+528>>2],A=g[s+532>>2],y=g[s+536>>2],_=x(_+x(l*x(x(x(x(d*g[s+472>>2])+x(A*g[s+476>>2]))+x(y*g[s+480>>2]))+g[s+496>>2]))),u=x(u+x(l*x(x(x(x(d*g[s+456>>2])+x(A*g[s+460>>2]))+x(y*g[s+464>>2]))+g[s+492>>2]))),p=x(p+x(l*x(x(x(x(d*g[s+440>>2])+x(A*g[s+444>>2]))+x(y*g[s+448>>2]))+g[s+488>>2]))),i=i+1|0,b=h[s+372>>2],i>>>0<v[b+32>>2];);else p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),c=x(0);l=g[t+48>>2],d=g[t+8>>2],A=g[t>>2],y=g[t+4>>2],C=g[t+52>>2],S=g[t+24>>2],E=g[t+16>>2],P=g[t+20>>2],I=g[t+56>>2],R=g[t+40>>2],w=g[t+32>>2],N=g[t+36>>2],h[a+16>>2]=0,g[a+12>>2]=I+x(x(x(f*w)+x(m*N))+x(c*R)),g[a+8>>2]=C+x(x(x(f*E)+x(m*P))+x(c*S)),g[a+4>>2]=l+x(x(x(f*A)+x(m*y))+x(c*d)),d=g[t+48>>2],A=g[t+8>>2],y=g[t>>2],C=g[t+4>>2],S=g[t+52>>2],E=g[t+24>>2],P=g[t+16>>2],I=g[t+20>>2],R=g[t+56>>2],w=g[t+40>>2],N=g[t+32>>2],D=g[t+36>>2],f=x(f-p),m=x(m-u),c=x(c-_),l=x(T(x(x(x(f*f)+x(m*m))+x(c*c)))),g[a+52>>2]=l,h[a+48>>2]=0,h[a+32>>2]=0,M=c,c=l>x(9999999747378752e-20)?x(x(1)/l):x(1),g[a+44>>2]=M*c,g[a+40>>2]=m*c,g[a+36>>2]=f*c,g[a+28>>2]=R+x(x(x(p*N)+x(u*D))+x(_*w)),g[a+24>>2]=S+x(x(x(p*P)+x(u*I))+x(_*E)),g[a+20>>2]=d+x(x(x(p*y)+x(u*C))+x(_*A)),b=1}return z=s+544|0,b}(n,o,i,a,p- -64|0,p+8|0)))&&(e=h[p+16>>2],h[c>>2]=h[p+12>>2],h[c+4>>2]=e,e=h[p+24>>2],h[c+8>>2]=h[p+20>>2],h[c+12>>2]=e,e=h[p+40>>2],h[l+8>>2]=h[p+36>>2],h[l+12>>2]=e,e=h[p+32>>2],h[l>>2]=h[p+28>>2],h[l+4>>2]=e,e=h[p+56>>2],h[s+8>>2]=h[p+52>>2],h[s+12>>2]=e,e=h[p+48>>2],h[s>>2]=h[p+44>>2],h[s+4>>2]=e,e=t),z=p+80|0,0|e},r[256]=Po,r[257]=yo,r[258]=lr,r[259]=yo,r[260]=function(e,t,n,i,o,s,c,l,p,u){e|=0,t|=0,n|=0,i|=0,o|=0,s|=0,c|=0,l|=0,p|=0,u|=0;var _=x(0),f=x(0),d=0,v=x(0),A=0,y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=0,T=x(0),P=x(0),I=x(0),R=0,N=x(0),D=x(0),M=0,O=0,L=0,F=x(0),B=x(0),U=x(0),j=x(0);for(z=e=z-4240|0,L=h[n+4>>2]+-17>>>0<=1?h[i+4>>2]+-17>>>0<2:L;Ra(),C=g[o+32>>2],S=g[o+16>>2],E=g[o>>2],y=g[o+36>>2],T=g[o+20>>2],P=g[o+4>>2],f=g[o+40>>2],_=g[o+24>>2],I=g[o+8>>2],h[12+(d=(w=R<<4)+(e+1264|0)|0)>>2]=0,v=g[w+23156>>2],b=x(-v),D=x(_*b),_=g[w+23152>>2],N=f,f=g[w+23160>>2],g[d+8>>2]=x(D-x(I*_))-x(N*f),g[d+4>>2]=x(x(T*b)-x(_*P))-x(f*y),g[d>>2]=x(x(S*b)-x(_*E))-x(f*C),b=g[s+40>>2],C=g[s+8>>2],S=g[s+24>>2],E=g[s+36>>2],y=g[s+4>>2],T=g[s+20>>2],P=g[s+32>>2],I=g[s>>2],N=g[s+16>>2],h[12+(w=w+(e+272|0)|0)>>2]=0,g[w>>2]=x(x(_*I)+x(v*N))+x(f*P),g[w+4>>2]=x(x(_*y)+x(v*T))+x(f*E),g[w+8>>2]=x(x(_*C)+x(v*S))+x(f*b),42!=(0|(R=R+1|0)););if(w=42,(0|(O=0|r[h[h[n>>2]+84>>2]](n)))>=1)for(R=0;r[h[h[n>>2]+88>>2]](n,R,e+3248|0),b=g[o+8>>2],C=g[o>>2],S=g[o+4>>2],E=g[o+24>>2],y=g[o+16>>2],T=g[o+20>>2],v=g[o+40>>2],_=g[o+32>>2],f=g[o+36>>2],h[e+3260>>2]=0,P=_,_=g[e+3248>>2],I=f,f=g[e+3252>>2],N=v,v=g[e+3256>>2],g[e+3256>>2]=x(x(P*_)+x(I*f))+x(N*v),g[e+3252>>2]=x(x(_*y)+x(f*T))+x(v*E),g[e+3248>>2]=x(x(C*_)+x(S*f))+x(b*v),Ra(),M=h[e+3260>>2],h[(A=23160+(d=w<<4)|0)>>2]=h[e+3256>>2],h[A+4>>2]=M,M=h[e+3252>>2],h[(A=d+23152|0)>>2]=h[e+3248>>2],h[A+4>>2]=M,C=g[o+40>>2],S=g[o+24>>2],E=g[o+8>>2],y=g[o+36>>2],T=g[o+20>>2],P=g[o+4>>2],f=g[o+32>>2],_=g[o+16>>2],I=g[o>>2],h[12+(A=d+(e+1264|0)|0)>>2]=0,v=g[e+3252>>2],b=x(-v),D=x(_*b),_=g[e+3248>>2],N=f,f=g[e+3256>>2],g[A>>2]=x(D-x(I*_))-x(N*f),g[A+4>>2]=x(x(T*b)-x(_*P))-x(f*y),g[A+8>>2]=x(x(S*b)-x(_*E))-x(f*C),b=g[s+32>>2],C=g[s>>2],S=g[s+16>>2],E=g[s+36>>2],y=g[s+4>>2],T=g[s+20>>2],P=g[s+40>>2],I=g[s+8>>2],N=g[s+24>>2],h[12+(d=d+(e+272|0)|0)>>2]=0,g[d+8>>2]=x(x(_*I)+x(v*N))+x(f*P),g[d+4>>2]=x(x(_*y)+x(v*T))+x(f*E),g[d>>2]=x(x(_*C)+x(v*S))+x(f*b),w=w+1|0,(0|O)!=(0|(R=R+1|0)););if((0|(O=0|r[h[h[i>>2]+84>>2]](i)))>=1)for(R=0;r[h[h[i>>2]+88>>2]](i,R,e+3248|0),b=g[s+8>>2],C=g[s>>2],S=g[s+4>>2],E=g[s+24>>2],y=g[s+16>>2],T=g[s+20>>2],v=g[s+40>>2],_=g[s+32>>2],f=g[s+36>>2],h[e+3260>>2]=0,P=_,_=g[e+3248>>2],I=f,f=g[e+3252>>2],N=v,v=g[e+3256>>2],g[e+3256>>2]=x(x(P*_)+x(I*f))+x(N*v),g[e+3252>>2]=x(x(_*y)+x(f*T))+x(v*E),g[e+3248>>2]=x(x(C*_)+x(S*f))+x(b*v),Ra(),M=h[e+3260>>2],h[(A=23160+(d=w<<4)|0)>>2]=h[e+3256>>2],h[A+4>>2]=M,M=h[e+3252>>2],h[(A=d+23152|0)>>2]=h[e+3248>>2],h[A+4>>2]=M,C=g[o+40>>2],S=g[o+24>>2],E=g[o+8>>2],y=g[o+36>>2],T=g[o+20>>2],P=g[o+4>>2],f=g[o+32>>2],_=g[o+16>>2],I=g[o>>2],h[12+(A=d+(e+1264|0)|0)>>2]=0,v=g[e+3252>>2],b=x(-v),D=x(_*b),_=g[e+3248>>2],N=f,f=g[e+3256>>2],g[A>>2]=x(D-x(I*_))-x(N*f),g[A+4>>2]=x(x(T*b)-x(_*P))-x(f*y),g[A+8>>2]=x(x(S*b)-x(_*E))-x(f*C),b=g[s+32>>2],C=g[s>>2],S=g[s+16>>2],E=g[s+36>>2],y=g[s+4>>2],T=g[s+20>>2],P=g[s+40>>2],I=g[s+8>>2],N=g[s+24>>2],h[12+(d=d+(e+272|0)|0)>>2]=0,g[d+8>>2]=x(x(_*I)+x(v*N))+x(f*P),g[d+4>>2]=x(x(_*y)+x(v*T))+x(f*E),g[d>>2]=x(x(_*C)+x(v*S))+x(f*b),w=w+1|0,(0|O)!=(0|(R=R+1|0)););if(r[h[h[n>>2]+76>>2]](n,e+1264|0,e+3248|0,w),r[h[h[i>>2]+76>>2]](i,e+272|0,e+2256|0,w),(0|w)<1)_=x(0xde0b6b000000000),f=x(0),T=x(0),v=x(0),P=x(0),b=x(0),I=x(0),N=x(0);else for(R=0,_=x(0xde0b6b000000000),N=x(0),I=x(0),b=x(0),P=x(0),v=x(0),T=x(0),f=x(0);Ra(),C=g[23152+(d=R<<4)>>2],S=g[d+23156>>2],E=L?x(0):g[d+23160>>2],+x(x(x(C*C)+x(S*S))+x(E*E))>.01&&(y=g[(A=d+(e+2256|0)|0)>>2],D=g[A+4>>2],F=g[A+8>>2],B=g[(A=d+(e+3248|0)|0)>>2],U=g[A+4>>2],j=g[A+8>>2],(y=x(x(x(C*x(x(x(x(x(y*g[s>>2])+x(D*g[s+4>>2]))+x(F*g[s+8>>2]))+g[s+48>>2])-x(x(x(x(B*g[o>>2])+x(U*g[o+4>>2]))+x(j*g[o+8>>2]))+g[o+48>>2])))+x(S*x(x(x(x(x(y*g[s+16>>2])+x(D*g[s+20>>2]))+x(F*g[s+24>>2]))+g[s+52>>2])-x(x(x(x(B*g[o+16>>2])+x(U*g[o+20>>2]))+x(j*g[o+24>>2]))+g[o+52>>2]))))+x(E*x(L?0:x(x(x(x(y*g[s+32>>2])+x(D*g[s+36>>2]))+x(F*g[s+40>>2]))+g[s+56>>2])-x(x(x(x(B*g[o+32>>2])+x(U*g[o+36>>2]))+x(j*g[o+40>>2]))+g[o+56>>2])))))<_&&(N=g[d+23164>>2],T=f=C,P=v=S,I=b=E,_=y)),(0|(R=R+1|0))!=(0|w););return xs(n),xs(i),w=0,_<x(0)||(C=xs(n),S=xs(i),t=js(e+192|0,n,i,t,0),E=g[o+52>>2],y=g[o+56>>2],D=g[o+48>>2],i=h[o+12>>2],h[(n=e- -64|0)>>2]=h[o+8>>2],h[n+4>>2]=i,n=h[o+4>>2],h[e+56>>2]=h[o>>2],h[e+60>>2]=n,n=h[o+28>>2],h[e+80>>2]=h[o+24>>2],h[e+84>>2]=n,n=h[o+20>>2],h[e+72>>2]=h[o+16>>2],h[e+76>>2]=n,n=h[o+40>>2],i=h[o+44>>2],R=h[o+32>>2],o=h[o+36>>2],h[e+116>>2]=0,_=x(_+x(x(C+S)+x(.5))),g[e+112>>2]=y+x(I*_),g[e+108>>2]=E+x(P*_),h[e+96>>2]=n,h[e+100>>2]=i,g[e+104>>2]=D+x(T*_),h[e+88>>2]=R,h[e+92>>2]=o,n=h[s+12>>2],h[e+128>>2]=h[s+8>>2],h[e+132>>2]=n,n=h[s+4>>2],h[e+120>>2]=h[s>>2],h[e+124>>2]=n,n=h[s+28>>2],h[e+144>>2]=h[s+24>>2],h[e+148>>2]=n,n=h[s+20>>2],h[e+136>>2]=h[s+16>>2],h[e+140>>2]=n,n=h[s+44>>2],h[e+160>>2]=h[s+40>>2],h[e+164>>2]=n,n=h[s+36>>2],h[e+152>>2]=h[s+32>>2],h[e+156>>2]=n,n=h[s+60>>2],h[e+176>>2]=h[s+56>>2],h[e+180>>2]=n,n=h[s+52>>2],h[e+168>>2]=h[s+48>>2],h[e+172>>2]=n,h[e+184>>2]=1566444395,a[e+48|0]=0,h[e+8>>2]=5232,h[t+16>>2]=0,g[t+12>>2]=-I,g[t+8>>2]=-P,g[t+4>>2]=-T,lr(t,e+56|0,e+8|0,u),(t=m[e+48|0])&&(C=g[e+44>>2],S=g[e+32>>2],E=g[e+36>>2],y=g[e+28>>2],h[l+12>>2]=0,_=x(_-C),g[l>>2]=y-x(T*_),g[l+8>>2]=E-x(I*_),g[l+4>>2]=S-x(P*_),n=h[e+40>>2],h[p+8>>2]=h[e+36>>2],h[p+12>>2]=n,n=h[e+32>>2],h[p>>2]=h[e+28>>2],h[p+4>>2]=n,g[c+12>>2]=N,g[c+8>>2]=b,g[c+4>>2]=v,g[c>>2]=f),w=0!=(0|t)),z=e+4240|0,0|w},r[261]=Po,r[262]=yo,r[263]=Wo,r[264]=Wo,r[265]=function(e,t,n,i){e|=0,t|=0,n|=0,i=x(i);var o=0;o=h[t+4>>2],h[e+4>>2]=h[t>>2],h[e+8>>2]=o,o=h[t+12>>2],h[e+12>>2]=h[t+8>>2],h[e+16>>2]=o,t=h[n+4>>2],h[e+20>>2]=h[n>>2],h[e+24>>2]=t,t=h[n+12>>2],h[e+28>>2]=h[n+8>>2],h[e+32>>2]=t,a[e+40|0]=1,g[e+36>>2]=i},r[266]=Po,r[267]=yo,r[268]=function(){},r[269]=aa,r[270]=_r,r[271]=Po,r[272]=or,r[273]=function(e){var t=0,n=0;return h[(e|=0)>>2]=5668,m[e+8|0]&&(t=h[e+12>>2])&&(n=h[e+4>>2],r[h[h[n>>2]+16>>2]](n,t)),0|e},r[274]=function(e){var t=0,n=0;h[(e|=0)>>2]=5668,m[e+8|0]&&(t=h[e+12>>2])&&(n=h[e+4>>2],r[h[h[n>>2]+16>>2]](n,t)),Eo(e)},r[275]=function(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var a=0,s=x(0),c=x(0),l=x(0),p=x(0),u=0,_=x(0),f=x(0),m=x(0),d=x(0),v=0;if(z=i=z-32|0,e=h[e+12>>2]){if(h[o+4>>2]=e,a=h[t+12>>2],u=h[n+12>>2],f=x(g[a+48>>2]-g[u+48>>2]),l=x(g[a+52>>2]-g[u+52>>2]),p=x(g[a+56>>2]-g[u+56>>2]),s=x(x(x(f*f)+x(l*l))+x(p*p)),a=h[n+4>>2],_=g[a+16>>2],c=g[a+32>>2],t=h[t+4>>2],m=g[t+16>>2],d=g[t+32>>2],(0|(a=h[e+844>>2]))>=1)for(t=0;a=e+y(t,208)|0,(u=h[a+120>>2])&&(v=h[5779])&&(r[v](u),h[a+120>>2]=0),(0|(t=t+1|0))<(0|(a=h[e+844>>2])););s=x(T(s)),_=x(c*_),c=x(d*m),a&&(t=h[5782])&&(h[i+16>>2]=e,r[t](i+16|0)),h[e+844>>2]=0,c=x(c+_),s>x(c+g[o+32>>2])||(h[i+24>>2]=0,h[i+28>>2]=0,h[i+16>>2]=1065353216,h[i+20>>2]=0,c=x(s-c),s>x(1.1920928955078125e-7)?(h[i+28>>2]=0,s=x(x(1)/s),p=x(p*s),g[i+24>>2]=p,l=x(l*s),g[i+20>>2]=l,s=x(f*s),g[i+16>>2]=s):(s=x(1),p=x(0),l=x(0)),e=h[n+12>>2],f=g[e+52>>2],m=g[e+56>>2],d=g[e+48>>2],h[i+12>>2]=0,g[i>>2]=d+x(_*s),g[i+8>>2]=m+x(_*p),g[i+4>>2]=f+x(_*l),r[h[h[o>>2]+16>>2]](o,i+16|0,i,c))}z=i+32|0},r[276]=aa,r[277]=Pa,r[278]=fe,r[279]=function(e){Eo(fe(e|=0))},r[280]=we,r[281]=Ta,r[282]=function(e,t,n){var i;if(e|=0,!((i=8!=(0|(t|=0)))|8!=(0|(n|=0))))return h[e+56>>2];if(!(1!=(0|n)|i))return h[e+72>>2];if(!(1!=(0|t)|8!=(0|n)))return h[e+76>>2];if(!(t|n))return h[e+68>>2];if(!(28!=(0|n)|(0|t)>19))return h[e+84>>2];if(!(28!=(0|t)|(0|n)>19))return h[e+80>>2];e:{if((0|t)<=19){if((0|n)<=19)return h[e+28>>2];if(n+-21>>>0>8)break e;return h[e+32>>2]}if(!((0|n)>19|t+-21>>>0>8))return h[e+36>>2];if(31==(0|t))return 31==(0|n)?h[e+44>>2]:h[e+40>>2]}return 31==(0|n)?h[e+48>>2]:h[e+52>>2]},r[283]=function(e,t,n){var i;if(e|=0,!((i=8!=(0|(t|=0)))|8!=(0|(n|=0))))return h[e+56>>2];if(!(1!=(0|n)|i))return h[e+72>>2];if(!(1!=(0|t)|8!=(0|n)))return h[e+76>>2];if(!(28!=(0|n)|(0|t)>19))return h[e+84>>2];if(!(28!=(0|t)|(0|n)>19))return h[e+80>>2];e:{if((0|t)<=19){if((0|n)<=19)return h[e+28>>2];if(n+-21>>>0>8)break e;return h[e+32>>2]}if(!((0|n)>19|t+-21>>>0>8))return h[e+36>>2];if(31==(0|t))return 31==(0|n)?h[e+44>>2]:h[e+40>>2]}return 31==(0|n)?h[e+48>>2]:h[e+52>>2]},r[284]=Po,r[285]=yo,r[286]=function(e,t,n,i){return e|=0,n|=0,i|=0,e=h[(t|=0)>>2],Al(e=0|r[h[h[e>>2]+56>>2]](e,80),t,n,i,0),0|e},r[287]=yo,r[288]=function(e,t,n,i){return e|=0,n|=0,i|=0,e=h[(t|=0)>>2],Al(e=0|r[h[h[e>>2]+56>>2]](e,80),t,n,i,1),0|e},r[289]=yo,r[290]=function(e,t,n,i){return e|=0,n|=0,i|=0,e=h[(t|=0)>>2],ll(e=0|r[h[h[e>>2]+56>>2]](e,84),t,n,i,0),0|e},r[291]=yo,r[292]=function(e,t,n,i){return e|=0,n|=0,i|=0,e=h[(t|=0)>>2],function(e,t,n,i){ll(e,t,n,i,0),a[e+104|0]=1,h[e>>2]=11264,h[e+100>>2]=0,h[e+92>>2]=0,h[e+96>>2]=0,h[6657]=h[6657]+1,Rl(t=0|r[h[5255]](64,16)),h[e+84>>2]=t,h[e+108>>2]=h[h[n+4>>2]+72>>2],h[e+112>>2]=h[h[i+4>>2]+72>>2]}(e=0|r[h[h[e>>2]+56>>2]](e,116),t,n,i),0|e},r[293]=yo,r[294]=function(e,t,n,i){return e|=0,n|=0,i|=0,e=h[(t|=0)>>2],ll(e=0|r[h[h[e>>2]+56>>2]](e,84),t,n,i,1),0|e},r[295]=yo,r[296]=function(e,t){return e|=0,e=h[(t|=0)>>2],e=0|r[h[h[e>>2]+56>>2]](e,8),h[e>>2]=17096,h[e+4>>2]=h[t>>2],h[e>>2]=5500,0|e},r[297]=yo,r[298]=function(e,t,n,i){return e|=0,n|=0,i|=0,e=h[(t|=0)>>2],function(e,t,n,i){h[e>>2]=17096,h[e+4>>2]=h[t>>2],h[e>>2]=5592,h[e+12>>2]=0,a[e+8|0]=0,h[e>>2]=5668,t=h[e+4>>2],t=0|r[h[h[t>>2]+12>>2]](t,h[n+8>>2],h[i+8>>2]),a[e+8|0]=1,h[e+12>>2]=t}(e=0|r[h[h[e>>2]+56>>2]](e,16),t,n,i),0|e},r[299]=yo,r[300]=function(e,t,n,i){e|=0,n|=0,i|=0;var o=0;return o=h[(t|=0)>>2],function(e,t,n,i,o,s){h[e>>2]=17096,h[e+4>>2]=h[n>>2],h[e>>2]=5592,a[e+16|0]=s,h[e+12>>2]=t,a[e+8|0]=0,h[e>>2]=10404,t||(t=h[e+4>>2],t=0|r[h[h[t>>2]+12>>2]](t,h[i+8>>2],h[o+8>>2]),a[e+8|0]=1,h[e+12>>2]=t)}(o=0|r[h[h[o>>2]+56>>2]](o,20),h[t+4>>2],t,n,i,m[e+4|0]),0|o},r[301]=yo,r[302]=function(e,t,n,i){return e|=0,n|=0,i|=0,e=h[(t|=0)>>2],function(e,t,n,i){h[e>>2]=17096,h[e+4>>2]=h[t>>2],h[e>>2]=5592,h[e+12>>2]=0,a[e+8|0]=0,h[e>>2]=7748,t=h[e+4>>2],r[h[h[t>>2]+24>>2]](t,h[n+8>>2],h[i+8>>2])&&(t=h[e+4>>2],t=0|r[h[h[t>>2]+12>>2]](t,h[n+8>>2],h[i+8>>2]),a[e+8|0]=1,h[e+12>>2]=t)}(e=0|r[h[h[e>>2]+56>>2]](e,16),t,n,i),0|e},r[303]=yo,r[304]=function(e,t,n,i){e|=0,n|=0,i|=0;var o=0;return o=h[(t|=0)>>2],function(e,t,n,i,o,s,c){h[e>>2]=17096,h[e+4>>2]=h[t>>2],h[e+24>>2]=c,h[e+20>>2]=s,a[e+16|0]=o,h[e+12>>2]=0,a[e+8|0]=0,h[e>>2]=6824,t=h[e+4>>2],s=o?i:n,n=o?n:i,r[h[h[t>>2]+24>>2]](t,h[s+8>>2],h[n+8>>2])&&(t=h[e+4>>2],t=0|r[h[h[t>>2]+12>>2]](t,h[s+8>>2],h[n+8>>2]),a[e+8|0]=1,h[e+12>>2]=t)}(o=0|r[h[h[o>>2]+56>>2]](o,28),t,n,i,m[e+4|0],h[e+8>>2],h[e+12>>2]),0|o},r[305]=_e,r[306]=function(e){Eo(_e(e|=0))},r[307]=function(e,t,n){e|=0,n|=0;var i,o=0,s=0,c=0;if((0|(i=h[8+(t|=0)>>2]))<1)n=0;else for(c=h[t+16>>2],n=0;o=h[(s<<2)+c>>2],3&m[o+204|0]||(h[o+208>>2]=n,n=n+1|0),h[o+268>>2]=1065353216,h[o+212>>2]=-1,(0|(s=s+1|0))<(0|i););(function(e,t){var n=0,i=0,o=0,s=0,c=0,l=0,p=0;if((0|(i=h[e+4>>2]))<(0|t)){if(h[e+8>>2]<(0|t)){if(t?(h[6657]=h[6657]+1,c=0|r[h[5255]](t<<3,16),n=h[e+4>>2]):n=i,(0|n)>=1)for(;l=(o=s<<3)+c|0,o=h[e+12>>2]+o|0,p=h[o+4>>2],h[l>>2]=h[o>>2],h[l+4>>2]=p,(0|n)!=(0|(s=s+1|0)););(n=h[e+12>>2])&&(m[e+16|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+12>>2]=0),h[e+12>>2]=c,a[e+16|0]=1,h[e+8>>2]=t}for(;n=h[e+12>>2]+(i<<3)|0,h[n>>2]=0,h[n+4>>2]=0,(0|(i=i+1|0))!=(0|t););}if(h[e+4>>2]=t,(0|t)>=1)for(e=h[e+12>>2],i=0;h[4+(n=e+(i<<3)|0)>>2]=1,h[n>>2]=i,(0|(i=i+1|0))!=(0|t););})(e+4|0,n),function(e,t){var n=0,i=0,o=0,a=0,s=0,c=0,l=0;if(t=h[t+68>>2],t=0|r[h[h[t>>2]+36>>2]](t),(s=0|r[h[h[t>>2]+36>>2]](t))&&(l=0|r[h[h[t>>2]+20>>2]](t),!((0|s)<1)))for(;;){if((n=h[h[(t=(c<<4)+l|0)>>2]>>2])&&!(!(t=h[h[t+4>>2]>>2])|7&h[n+204>>2]|7&m[t+204|0])){if(t=h[t+208>>2],o=h[e+16>>2],a=h[n+208>>2],(0|(n=h[(i=o+(a<<3)|0)>>2]))!=(0|a))for(;n=(n<<3)+o|0,h[i>>2]=h[n>>2],a=h[n>>2],(0|(n=h[(i=(a<<3)+o|0)>>2]))!=(0|a););if((0|(n=h[(i=(t<<3)+o|0)>>2]))!=(0|t))for(;t=(n<<3)+o|0,h[i>>2]=h[t>>2],(0|(t=h[t>>2]))!=(0|(n=h[(i=(t<<3)+o|0)>>2])););(0|t)!=(0|a)&&(h[(n=(a<<3)+o|0)>>2]=t,h[4+(t=(t<<3)+o|0)>>2]=h[t+4>>2]+h[n+4>>2])}if((0|(c=c+1|0))==(0|s))break}}(e,t)},r[308]=function(e,t){e|=0;var n,i=0,o=0,r=0,a=0,s=0,c=0,l=0,p=0;if((0|(n=h[8+(t|=0)>>2]))>=1)for(p=h[t+16>>2],t=0;;){if(o=h[(r<<2)+p>>2],3&m[o+204|0])h[o+208>>2]=-1,h[o+212>>2]=-2;else{if(i=t,a=h[e+16>>2],(0|(c=h[(s=a+(l=t<<3)|0)>>2]))!=(0|t))for(;i=(c<<3)+a|0,h[s>>2]=h[i>>2],(0|(i=h[i>>2]))!=(0|(c=h[(s=(i<<3)+a|0)>>2])););h[o+208>>2]=i,h[4+(a+l|0)>>2]=r,h[o+212>>2]=-1,t=t+1|0}if(!((0|(r=r+1|0))<(0|n)))break}},r[309]=function(e){var t=0,n=0;return h[(e|=0)>>2]=6824,m[e+8|0]&&(t=h[e+12>>2])&&(n=h[e+4>>2],r[h[h[n>>2]+16>>2]](n,t)),0|e},r[310]=function(e){var t=0,n=0;h[(e|=0)>>2]=6824,m[e+8|0]&&(t=h[e+12>>2])&&(n=h[e+4>>2],r[h[h[n>>2]+16>>2]](n,t)),Eo(e)},r[311]=function(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var a=0,s=x(0),c=x(0),l=x(0),p=x(0),u=0,_=x(0),f=x(0),d=0,v=x(0),A=x(0),y=x(0),C=x(0),E=x(0),w=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=0,V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),re=x(0),ae=x(0),se=x(0),ce=x(0),le=x(0);if(z=i=z-48|0,h[e+12>>2]){if(a=m[e+16|0],u=h[(H=a?t:n)+12>>2],C=g[u+56>>2],Q=g[u+52>>2],E=g[u+48>>2],a=h[(d=a?n:t)+12>>2],w=g[a+56>>2],k=g[a+52>>2],G=g[a+48>>2],d=h[d+4>>2],P=g[a+32>>2],D=g[a+16>>2],M=g[a>>2],R=g[a+36>>2],L=g[a+20>>2],F=g[a+4>>2],s=g[u+40>>2],c=g[u+24>>2],l=g[u+8>>2],p=g[u+36>>2],v=g[u+20>>2],f=g[u+4>>2],A=g[u+32>>2],I=g[a+40>>2],y=g[u+16>>2],B=g[a+24>>2],_=g[u>>2],U=g[a+8>>2],u=h[H+4>>2],N=g[u+60>>2],O=g[u+56>>2],j=g[u+52>>2],h[i+28>>2]=0,W=x(x(x(U*f)+x(B*v))+x(I*p)),O=x(-O),q=x(x(x(U*_)+x(B*y))+x(I*A)),I=x(x(x(U*l)+x(B*c))+x(I*s)),g[i+24>>2]=x(x(W*O)-x(j*q))-x(N*I),B=x(x(x(F*f)+x(L*v))+x(R*p)),U=x(x(x(F*_)+x(L*y))+x(R*A)),Y=x(x(x(F*l)+x(L*c))+x(R*s)),g[i+20>>2]=x(x(B*O)-x(j*U))-x(N*Y),X=x(x(x(M*f)+x(D*v))+x(P*p)),V=j,j=x(x(x(M*_)+x(D*y))+x(P*A)),R=N,N=x(x(x(M*l)+x(D*c))+x(P*s)),g[i+16>>2]=x(x(X*O)-x(V*j))-x(R*N),r[h[h[d>>2]+64>>2]](i+32|0,d,i+16|0),a=h[H+12>>2],O=g[a+48>>2],Z=g[a+32>>2],J=g[a+16>>2],K=g[a+8>>2],$=g[a+4>>2],ee=g[a>>2],te=g[a+56>>2],ne=g[a+52>>2],ie=g[a+40>>2],oe=g[a+36>>2],re=g[a+24>>2],ae=g[a+20>>2],se=g[u+68>>2],R=g[u+60>>2],L=g[u+52>>2],F=g[u+56>>2],P=g[i+40>>2],D=g[i+32>>2],M=g[i+36>>2],ce=g[h[e+12>>2]+848>>2],h[o+4>>2]=h[e+12>>2],le=x(x(x(G*l)+x(k*c))+x(w*s)),V=c,c=x(-Q),I=x(x(le+x(x(x(V*c)-x(E*l))-x(C*s)))+x(x(x(N*D)+x(Y*M))+x(I*P))),A=x(x(x(x(x(G*_)+x(k*y))+x(w*A))+x(x(x(y*c)-x(E*_))-x(C*A)))+x(x(x(j*D)+x(U*M))+x(q*P))),v=x(x(x(x(x(G*f)+x(k*v))+x(w*p))+x(x(x(v*c)-x(E*f))-x(C*p)))+x(x(x(X*D)+x(B*M))+x(W*P))),(s=x(x(x(R*I)+x(x(L*A)+x(F*v)))-se))<ce&&(a=h[H+12>>2],f=g[a+24>>2],y=g[a+20>>2],_=g[a+40>>2],C=g[a+36>>2],E=g[a+16>>2],w=g[a+32>>2],c=g[u+60>>2],k=g[a+8>>2],l=g[u+52>>2],G=g[a>>2],p=g[u+56>>2],P=g[a+4>>2],h[i+28>>2]=0,g[i+16>>2]=x(x(G*l)+x(P*p))+x(k*c),g[i+24>>2]=x(x(l*w)+x(p*C))+x(c*_),g[i+20>>2]=x(x(l*E)+x(p*y))+x(c*f),h[i+12>>2]=0,c=x(A-x(L*s)),l=x(v-x(F*s)),p=x(I-x(R*s)),g[i+8>>2]=x(x(x(c*Z)+x(l*oe))+x(p*ie))+te,g[i+4>>2]=x(x(x(c*J)+x(l*ae))+x(p*re))+ne,g[i>>2]=x(x(K*p)+x(x(ee*c)+x($*l)))+O,r[h[h[o>>2]+16>>2]](o,i+16|0,i,s)),!(h[d+4>>2]>6|h[h[o+4>>2]+844>>2]>=h[e+24>>2]||(c=g[u+60>>2],x(b(c))>x(.7071067690849304)?(s=g[u+56>>2],l=x(x(1)/x(T(x(x(c*c)+x(s*s))))),s=x(s*l),c=x(l*x(-c)),l=x(0)):(s=g[u+52>>2],l=g[u+56>>2],p=x(x(1)/x(T(x(x(s*s)+x(l*l))))),c=x(s*p),s=x(0),l=x(p*x(-l))),p=x(r[h[h[d>>2]+16>>2]](d)),a=0,f=No(p=x(x(S(x(g[5249]/p),x(.39269909262657166)))*x(.5))),d=h[e+20>>2],v=Ro(p),(0|d)<1)))for(N=s,s=x(f/x(T(x(x(x(l*l)+x(c*c))+x(s*s))))),f=x(N*s),A=x(c*s),y=x(l*s);c=g[u+56>>2],p=g[u+52>>2],s=g[u+60>>2],l=x(x(x(x(6.2831854820251465)/x(0|d))*x(0|a))*x(.5)),_=x(No(l)/x(T(x(x(x(p*p)+x(c*c))+x(s*s))))),s=x(s*_),c=x(c*_),l=Ro(l),p=x(p*_),_=x(x(f*s)+x(x(A*c)+x(x(v*l)+x(y*p)))),C=x(x(A*s)+x(x(x(y*l)-x(v*p))-x(f*c))),E=x(x(f*p)+x(x(x(A*l)-x(v*c))-x(y*s))),w=x(x(y*c)+x(x(x(f*l)-x(v*s))-x(A*p))),g[i+28>>2]=x(x(x(l*_)-x(p*C))-x(c*E))-x(s*w),g[i+24>>2]=x(x(c*C)+x(x(s*_)+x(l*w)))-x(p*E),g[i+20>>2]=x(x(p*w)+x(x(l*E)+x(c*_)))-x(s*C),g[i+16>>2]=x(x(s*E)+x(x(p*_)+x(l*C)))-x(c*w),no(e,i+16|0,t,n,o),(0|(a=a+1|0))<(0|(d=h[e+20>>2])););!m[e+8|0]|!h[h[e+12>>2]+844>>2]||(e=h[o+4>>2],h[e+844>>2]&&((0|(t=h[e+836>>2]))==(0|(n=h[h[o+8>>2]+8>>2]))?wo(e,t+4|0,h[h[o+12>>2]+8>>2]+4|0):wo(e,h[h[o+12>>2]+8>>2]+4|0,n+4|0)))}z=i+48|0},r[312]=aa,r[313]=Pa,r[314]=Po,r[315]=yo,r[316]=pe,r[317]=gl,r[318]=function(e){(e=gl(e|=0))&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[319]=function(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var a,s,c,l,p=x(0);z=c=z-16|0,r[h[5253]](7066),l=m[e+76|0],a=h[(s=l?t:n)+4>>2],h[a+4>>2]+-21>>>0>8||h[h[(t=l?n:t)+4>>2]+4>>2]>19||(p=x(r[h[h[a>>2]+48>>2]](a)),h[o+4>>2]=h[e+72>>2],function(e,t,n,i,o,a){var s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0);z=s=z+-64|0,g[e+56>>2]=t,h[e+52>>2]=n,h[e+40>>2]=o,h[e+36>>2]=i,h[e+44>>2]=a,n=h[o+12>>2],c=g[n+52>>2],y=g[n+56>>2],o=h[i+12>>2],b=g[o+52>>2],C=g[o+56>>2],l=g[n+20>>2],p=g[n+36>>2],S=g[o+20>>2],E=g[o+36>>2],w=g[o+24>>2],u=g[n+24>>2],T=g[o+40>>2],_=g[n+40>>2],P=g[o+32>>2],f=g[n+32>>2],I=g[o>>2],m=g[n>>2],R=g[o+16>>2],d=g[n+16>>2],N=g[n+48>>2],D=g[o+48>>2],v=g[n+4>>2],M=g[o+4>>2],O=g[o+8>>2],A=g[n+8>>2],h[s+60>>2]=0,h[s+44>>2]=0,h[s+28>>2]=0,g[s+40>>2]=x(x(A*O)+x(u*w))+x(_*T),g[s+36>>2]=x(x(A*M)+x(u*S))+x(_*E),g[s+24>>2]=x(x(v*O)+x(l*w))+x(p*T),g[s+20>>2]=x(x(v*M)+x(l*S))+x(p*E),c=x(-c),g[s+56>>2]=x(x(x(u*c)-x(A*N))-x(_*y))+x(x(x(A*D)+x(u*b))+x(_*C)),g[s+52>>2]=x(x(x(l*c)-x(v*N))-x(p*y))+x(x(x(v*D)+x(l*b))+x(p*C)),h[s+12>>2]=0,g[s>>2]=x(x(m*I)+x(d*R))+x(f*P),g[s+32>>2]=x(x(A*I)+x(u*R))+x(_*P),g[s+16>>2]=x(x(v*I)+x(l*R))+x(p*P),g[s+8>>2]=x(x(m*O)+x(d*w))+x(f*T),g[s+4>>2]=x(x(m*M)+x(d*S))+x(f*E),g[s+48>>2]=x(x(x(d*c)-x(m*N))-x(f*y))+x(x(x(m*D)+x(d*b))+x(f*C)),n=h[i+4>>2],r[h[h[n>>2]+8>>2]](n,s,e+4|0,e+20|0),t=x(g[a+32>>2]+t),g[e+20>>2]=t+g[e+20>>2],g[e+24>>2]=t+g[e+24>>2],g[e+28>>2]=t+g[e+28>>2],g[e+4>>2]=g[e+4>>2]-t,g[e+8>>2]=g[e+8>>2]-t,g[e+12>>2]=g[e+12>>2]-t,z=s- -64|0}(n=e+8|0,p,i,t,s,o),t=h[t+8>>2],i=h[e+72>>2],h[i+840>>2]=h[s+8>>2],h[i+836>>2]=t,r[h[h[a>>2]+64>>2]](a,n,e+12|0,e+28|0),t=h[o+4>>2],h[t+844>>2]&&((0|(n=h[t+836>>2]))==(0|(i=h[h[o+8>>2]+8>>2]))?wo(t,n+4|0,h[h[o+12>>2]+8>>2]+4|0):wo(t,h[h[o+12>>2]+8>>2]+4|0,i+4|0)),h[e+44>>2]=0,h[e+48>>2]=0),r[h[5254]](),z=c+16|0},r[320]=function(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=x(0);return z=i=z-240|0,J=x(1),o=m[e+76|0],a=x(g[(e=o?n:t)+116>>2]-g[e+52>>2]),s=x(a*a),a=x(g[e+120>>2]-g[e+56>>2]),s=x(s+x(a*a)),a=x(g[e+124>>2]-g[e+60>>2]),s=x(s+x(a*a)),a=g[e+276>>2],s<x(a*a)||(n=h[(t=o?t:n)+192>>2],h[n+4>>2]+-21>>>0>8||(N=g[e+92>>2],D=g[e+76>>2],M=g[e+108>>2],O=g[e+88>>2],L=g[e+72>>2],F=g[e+104>>2],B=g[e+100>>2],U=g[e+84>>2],j=g[e+68>>2],_=g[t+36>>2],f=g[t+20>>2],d=g[t+4>>2],k=g[e+28>>2],G=g[e+12>>2],H=g[e+44>>2],V=g[e+24>>2],W=g[e+8>>2],q=g[e+40>>2],Y=g[e+36>>2],X=g[e+20>>2],Q=g[e+4>>2],v=g[t+12>>2],w=g[e+116>>2],A=g[t+28>>2],s=g[e+120>>2],y=g[t+44>>2],T=g[e+124>>2],Z=x(x(x(v*w)+x(A*s))+x(y*T)),b=g[t+24>>2],P=x(-g[t+56>>2]),C=g[t+8>>2],S=g[t+52>>2],E=g[t+40>>2],I=g[t+60>>2],u=x(x(x(b*P)-x(C*S))-x(E*I)),a=x(u+x(x(x(C*w)+x(b*s))+x(E*T))),c=g[e+56>>2],l=g[e+52>>2],p=g[e+60>>2],h[i+236>>2]=0,K=x(x(x(A*P)-x(v*S))-x(y*I)),R=x(K+x(x(x(v*l)+x(A*c))+x(y*p))),g[i+232>>2]=R,u=x(u+x(x(x(C*l)+x(b*c))+x(E*p))),g[i+228>>2]=u,S=x(x(x(f*P)-x(d*S))-x(_*I)),c=x(S+x(x(x(d*l)+x(f*c))+x(_*p))),g[i+224>>2]=c,P=c,(l=x(S+x(x(x(d*w)+x(f*s))+x(_*T))))<c&&(g[i+224>>2]=l,P=l),w=u,a<u&&(g[i+228>>2]=a,w=a),(p=x(K+Z))<(s=R)&&(g[i+232>>2]=p,s=p),h[i+220>>2]=0,g[i+216>>2]=R,g[i+212>>2]=u,g[i+208>>2]=c,T=c,c<l&&(g[i+208>>2]=l,T=l),S=u,u<a&&(g[i+212>>2]=a,S=a),I=R,R<p&&(g[i+216>>2]=p,I=p),Z=s,s=g[e+272>>2],g[i+232>>2]=Z-s,g[i+228>>2]=w-s,g[i+224>>2]=P-s,g[i+216>>2]=s+I,g[i+212>>2]=s+S,g[i+208>>2]=s+T,h[i+128>>2]=0,g[i+124>>2]=p,g[i+120>>2]=a,g[i+116>>2]=l,h[i+112>>2]=0,g[i+108>>2]=x(x(v*D)+x(A*N))+x(y*M),g[i+104>>2]=x(x(v*L)+x(A*O))+x(y*F),g[i+100>>2]=x(x(v*j)+x(A*U))+x(y*B),h[i+96>>2]=0,g[i+92>>2]=x(x(C*D)+x(b*N))+x(E*M),g[i+88>>2]=x(x(C*L)+x(b*O))+x(E*F),g[i+84>>2]=x(x(C*j)+x(b*U))+x(E*B),h[i+80>>2]=0,g[i+76>>2]=x(x(d*D)+x(f*N))+x(_*M),g[i+72>>2]=x(x(d*L)+x(f*O))+x(_*F),h[i- -64>>2]=0,g[i+60>>2]=R,g[i+56>>2]=u,g[i+52>>2]=c,h[i+48>>2]=0,g[i+44>>2]=x(x(v*G)+x(A*k))+x(y*H),g[i+40>>2]=x(x(v*W)+x(A*V))+x(y*q),g[i+36>>2]=x(x(v*Q)+x(A*X))+x(y*Y),h[i+32>>2]=0,g[i+28>>2]=x(x(C*G)+x(b*k))+x(E*H),g[i+24>>2]=x(x(C*W)+x(b*V))+x(E*q),g[i+20>>2]=x(x(C*Q)+x(b*X))+x(E*Y),h[i+16>>2]=0,g[i+12>>2]=x(x(d*G)+x(f*k))+x(_*H),g[i+8>>2]=x(x(d*W)+x(f*V))+x(_*q),g[i+196>>2]=s,g[i+68>>2]=x(x(d*j)+x(f*U))+x(_*B),g[i+4>>2]=x(x(d*Q)+x(f*X))+x(_*Y),h[i>>2]=7420,h[i+200>>2]=h[e+268>>2],n&&(r[h[h[n>>2]+64>>2]](n,i,i+224|0,i+208|0),(a=g[i+200>>2])<g[e+268>>2]&&(g[e+268>>2]=a,J=a)))),z=i+240|0,x(J)},r[321]=function(e,t){t|=0;var n=0,i=0,o=0,s=0,c=0;if(n=h[72+(e|=0)>>2]){if((0|(i=h[t+4>>2]))==h[t+8>>2]&&!((0|i)>=(0|(o=i?i<<1:1)))){if(o&&(h[6657]=h[6657]+1,s=0|r[h[5255]](o<<2,16),i=h[t+4>>2]),(0|i)>=1)for(n=0;h[(c=n<<2)+s>>2]=h[h[t+12>>2]+c>>2],(0|(n=n+1|0))!=(0|i););(n=h[t+12>>2])&&(m[t+16|0]&&(n&&(h[6658]=h[6658]+1,r[h[5256]](n)),i=h[t+4>>2]),h[t+12>>2]=0),h[t+12>>2]=s,a[t+16|0]=1,h[t+8>>2]=o,n=h[e+72>>2]}h[h[t+12>>2]+(i<<2)>>2]=n,h[t+4>>2]=i+1}},r[322]=function(e){var t=0;return h[(e|=0)>>2]=7012,t=h[e+48>>2],r[h[h[t>>2]+20>>2]](t,h[e+64>>2]),t=h[e+48>>2],r[h[h[t>>2]+16>>2]](t,h[e+64>>2]),0|e},r[323]=function(e){var t=0;h[(e|=0)>>2]=7012,t=h[e+48>>2],r[h[h[t>>2]+20>>2]](t,h[e+64>>2]),t=h[e+48>>2],r[h[h[t>>2]+16>>2]](t,h[e+64>>2]),e&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[324]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,a=0,s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=0,f=0;z=o=z-144|0,r[h[5253]](7024),((u=(c=g[t>>2])<(l=g[t+16>>2])?c:l)<(p=g[t+32>>2])?u:p)>g[e+20>>2]||g[(g[t+(a=(c>l^1)<<4)>>2]>p?a:32)+t>>2]<g[e+4>>2]||((u=(c=g[t+8>>2])<(l=g[(a=t+24|0)>>2])?c:l)<(p=g[(s=t+40|0)>>2])?u:p)>g[e+28>>2]||g[(g[(a=c>l?t+8|0:a)>>2]>p?a:s)>>2]<g[e+12>>2]||((u=(c=g[t+4>>2])<(l=g[(a=t+20|0)>>2])?c:l)<(p=g[(s=t+36|0)>>2])?u:p)>g[e+24>>2]||(a=c>l?t+4|0:a,h[h[h[e+36>>2]+4>>2]+4>>2]>19|g[(g[a>>2]>p?a:s)>>2]<g[e+8>>2]||(s=h[e+48>>2],f=Cs(o+24|0),h[o+24>>2]=7216,h[o+28>>2]=1,a=h[t+12>>2],h[o+92>>2]=h[t+8>>2],h[o+96>>2]=a,a=h[t+4>>2],h[o+84>>2]=h[t>>2],h[o+88>>2]=a,a=h[t+28>>2],h[o+108>>2]=h[t+24>>2],h[o+112>>2]=a,a=h[t+20>>2],h[o+100>>2]=h[t+16>>2],h[o+104>>2]=a,a=h[t+44>>2],h[o+124>>2]=h[t+40>>2],h[o+128>>2]=a,a=h[t+36>>2],h[o+116>>2]=h[t+32>>2],h[o+120>>2]=a,h[o+72>>2]=h[e+56>>2],t=h[e+40>>2],a=h[t+12>>2],_=h[t+8>>2],h[o+20>>2]=i,h[o+16>>2]=n,h[o+8>>2]=_,h[o+12>>2]=a,h[o>>2]=t,h[o+4>>2]=o+24,t=h[e+36>>2],t=g[h[e+44>>2]+32>>2]>x(0)?0|r[h[h[s>>2]+8>>2]](s,t,o,0,2):0|r[h[h[s>>2]+8>>2]](s,t,o,h[e+64>>2],1),a=h[e+44>>2],_=h[a+8>>2],h[_+8>>2]!=h[h[e+40>>2]+8>>2]?(_=h[a+12>>2],h[a+12>>2]=o,r[h[h[a>>2]+12>>2]](a,n,i)):(h[a+8>>2]=o,r[h[h[a>>2]+8>>2]](a,n,i)),r[h[h[t>>2]+8>>2]](t,h[e+36>>2],o,h[e+52>>2],h[e+44>>2]),n=h[e+44>>2],h[(h[h[n+8>>2]+8>>2]==h[h[e+40>>2]+8>>2]?8:12)+n>>2]=_,r[h[h[t>>2]>>2]](t),r[h[h[s>>2]+60>>2]](s,t),ga(f))),r[h[5254]](),z=o+144|0},r[325]=ga,r[326]=Ca,r[327]=vl,r[328]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0);z=i=z-96|0,h[i+44>>2]=0,h[i+48>>2]=0,h[i+56>>2]=0,h[i+60>>2]=0,h[i+52>>2]=1065353216,h[i+76>>2]=0,h[i+80>>2]=0,h[i+72>>2]=1065353216,h[i+84>>2]=0,h[i+88>>2]=0,h[i+92>>2]=0,h[i+36>>2]=0,h[i+40>>2]=0,h[i+32>>2]=1065353216,h[i+64>>2]=0,h[i+68>>2]=0,r[h[h[e>>2]+8>>2]](e,i+32|0,i+16|0,i),c=g[i>>2],l=g[i+16>>2],o=x(c-l),s=x(o*o),o=g[i+4>>2],p=g[i+20>>2],a=x(o-p),_=x(s+x(a*a)),a=g[i+8>>2],s=g[i+24>>2],u=x(a-s),g[n>>2]=x(T(x(_+x(u*u))))*x(.5),h[t+12>>2]=0,g[t+8>>2]=x(a+s)*x(.5),g[t+4>>2]=x(o+p)*x(.5),g[t>>2]=x(c+l)*x(.5),z=i+96|0},r[329]=function(e){e|=0;var t,n=x(0),i=x(0);return z=t=z-32|0,r[h[h[e>>2]+12>>2]](e,t+16|0,t+12|0),z=t+32|0,n=g[t+16>>2],i=x(n*n),n=g[t+20>>2],i=x(i+x(n*n)),n=g[t+24>>2],x(x(g[t+12>>2]+x(T(x(i+x(n*n))))))},r[330]=function(e,t){return e|=0,t=x(t),x(x(x(r[h[h[e>>2]+16>>2]](e))*t))},r[331]=va,r[332]=function(e){return 16+(e|=0)|0},r[333]=Bs,r[334]=function(){return 7376},r[335]=function(e){h[8+(e|=0)>>2]=1065353216,h[e+12>>2]=0,h[e>>2]=1065353216,h[e+4>>2]=1065353216},r[336]=function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+48>>2]=g[n+8>>2]},r[337]=function(e){return x(g[48+(e|=0)>>2])},r[338]=Qs,r[339]=function(e,t,n){return Rr(e|=0,t|=0,n|=0),h[t+28>>2]=h[e+32>>2],h[t+32>>2]=h[e+36>>2],h[t+36>>2]=h[e+40>>2],h[t+40>>2]=h[e+44>>2],h[t+12>>2]=h[e+16>>2],h[t+16>>2]=h[e+20>>2],h[t+20>>2]=h[e+24>>2],h[t+24>>2]=h[e+28>>2],e=h[e+48>>2],h[t+48>>2]=0,h[t+44>>2]=e,7385},r[340]=function(e,t){var n,i,o=0,a=0,s=0,c=0;a=t|=0,s=0|r[h[h[(e|=0)>>2]+52>>2]](e),c=1,o=h[h[t>>2]+16>>2],n=0|r[o](0|a,0|s,0|c),c=t,s=n,a=0|r[h[h[e>>2]+56>>2]](e,h[n+8>>2],t),i=e,o=h[h[t>>2]+20>>2],r[o](0|c,0|s,0|a,1346455635,0|i)},r[341]=fi,r[342]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0);i=g[n>>2],o=g[n+4>>2],r=g[n+8>>2],a=x(x(x(i*g[t+76>>2])+x(o*g[t+80>>2]))+x(r*g[t+84>>2])),s=x(x(x(i*g[t+92>>2])+x(o*g[t+96>>2]))+x(r*g[t+100>>2])),i=x(x(x(i*g[t+60>>2])+x(o*g[t- -64>>2]))+x(r*g[t+68>>2])),n=h[4+(t=(t+60|0)+((i<a?a<s?2:1:(i<s)<<1)<<4)|0)>>2],h[e>>2]=h[t>>2],h[e+4>>2]=n,n=h[t+12>>2],h[e+8>>2]=h[t+8>>2],h[e+12>>2]=n},r[343]=function(e,t,n,i,o,a,s){e|=0,t|=0,n|=0,i|=0,o|=0,a|=0,s|=0;var c,l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0);z=c=z-48|0,_=g[t+36>>2],f=g[t+20>>2],m=g[t+40>>2],d=g[t+24>>2],v=g[t+4>>2],A=g[t+8>>2],l=g[n+8>>2],y=g[t+32>>2],p=g[n>>2],b=g[t>>2],u=g[n+4>>2],C=g[t+16>>2],h[c+44>>2]=0,g[c+32>>2]=x(x(b*p)+x(C*u))+x(y*l),g[c+40>>2]=x(x(p*A)+x(u*d))+x(l*m),g[c+36>>2]=x(x(p*v)+x(u*f))+x(l*_),r[h[h[e>>2]+64>>2]](c+16|0,e,c+32|0),A=g[t+56>>2],y=g[t+40>>2],b=g[t+36>>2],v=g[t+52>>2],C=g[t+24>>2],S=g[t+20>>2],E=g[t+32>>2],d=g[t+48>>2],w=g[t+8>>2],T=g[t>>2],P=g[t+4>>2],I=g[t+16>>2],l=g[c+24>>2],p=g[c+16>>2],u=g[c+20>>2],h[c+12>>2]=0,g[c+8>>2]=-g[c+40>>2],g[c+4>>2]=-g[c+36>>2],g[c>>2]=-g[c+32>>2],r[h[h[e>>2]+64>>2]](c+16|0,e,c),R=g[t+56>>2],N=g[t+40>>2],D=g[t+36>>2],M=g[t+52>>2],O=g[t+24>>2],L=g[t+20>>2],F=g[t+32>>2],B=g[t+48>>2],U=g[t+8>>2],j=g[t>>2],k=g[t+4>>2],G=g[t+16>>2],_=g[c+24>>2],f=g[c+16>>2],m=g[c+20>>2],d=x(d+x(x(x(p*T)+x(u*P))+x(l*w))),v=x(v+x(x(x(p*I)+x(u*S))+x(l*C))),l=x(A+x(x(x(p*E)+x(u*b))+x(l*y))),g[i>>2]=x(x(d*g[n>>2])+x(v*g[n+4>>2]))+x(l*g[n+8>>2]),p=x(B+x(x(x(f*j)+x(m*k))+x(_*U))),u=x(M+x(x(x(f*G)+x(m*L))+x(_*O))),_=x(R+x(x(x(f*F)+x(m*D))+x(_*N))),g[o>>2]=x(x(p*g[n>>2])+x(u*g[n+4>>2]))+x(_*g[n+8>>2]),h[s+12>>2]=0,g[s+8>>2]=_,g[s+4>>2]=u,g[s>>2]=p,h[a+12>>2]=0,g[a+8>>2]=l,g[a+4>>2]=v,g[a>>2]=d,(f=g[i>>2])>(m=g[o>>2])&&(g[i>>2]=m,g[o>>2]=f,h[s+12>>2]=0,g[s+8>>2]=l,g[s+4>>2]=v,g[s>>2]=d,h[a+12>>2]=0,g[a+8>>2]=_,g[a+4>>2]=u,g[a>>2]=p),z=c+48|0},r[344]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,r=x(0),a=0,s=0,c=x(0),l=x(0),p=0,u=x(0),_=x(0),f=0;if((0|i)>=1)for(f=e+60|0;a=(o=s<<4)+n|0,r=g[(o=t+o|0)>>2],c=g[o+4>>2],l=g[o+8>>2],u=x(x(x(r*g[e+76>>2])+x(c*g[e+80>>2]))+x(l*g[e+84>>2])),_=x(x(x(r*g[e+92>>2])+x(c*g[e+96>>2]))+x(l*g[e+100>>2])),r=x(x(x(r*g[e+60>>2])+x(c*g[e+64>>2]))+x(l*g[e+68>>2])),p=h[4+(o=((r<u?u<_?2:1:(r<_)<<1)<<4)+f|0)>>2],h[a>>2]=h[o>>2],h[a+4>>2]=p,p=h[o+12>>2],h[a+8>>2]=h[o+8>>2],h[a+12>>2]=p,(0|(s=s+1|0))!=(0|i););},r[345]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=0,b=0,C=x(0),S=x(0),E=x(0),w=x(0),T=0,P=0;for(z=o=z-80|0,w=x(r[h[h[e>>2]+48>>2]](e));h[o+72>>2]=0,h[o+76>>2]=0,h[o+64>>2]=0,h[o+68>>2]=0,h[(T=(y=b<<2)+(o- -64|0)|0)>>2]=1065353216,l=g[t+32>>2],p=g[t>>2],u=g[t+16>>2],_=g[t+36>>2],f=g[t+4>>2],m=g[t+20>>2],a=g[t+40>>2],s=g[t+8>>2],c=g[t+24>>2],h[o+44>>2]=0,d=s,s=g[o+64>>2],v=c,c=g[o+68>>2],A=a,a=g[o+72>>2],g[o+40>>2]=x(x(d*s)+x(v*c))+x(A*a),g[o+36>>2]=x(x(s*f)+x(c*m))+x(a*_),g[o+32>>2]=x(x(p*s)+x(u*c))+x(l*a),r[h[h[e>>2]+64>>2]](o+48|0,e,o+32|0),l=g[t+48>>2],p=g[t+8>>2],u=g[t>>2],_=g[t+4>>2],f=g[t+52>>2],m=g[t+24>>2],A=g[t+16>>2],C=g[t+20>>2],s=g[t+56>>2],a=g[t+40>>2],c=g[t+32>>2],S=g[t+36>>2],h[o+44>>2]=0,d=s,s=g[o+48>>2],E=x(c*s),c=g[o+52>>2],v=a,a=g[o+56>>2],g[o+40>>2]=d+x(x(E+x(S*c))+x(v*a)),g[o+36>>2]=f+x(x(x(s*A)+x(c*C))+x(a*m)),g[o+32>>2]=l+x(x(x(s*u)+x(c*_))+x(a*p)),P=(o+32|0)+y|0,g[i+y>>2]=w+g[P>>2],h[T>>2]=-1082130432,l=g[t+32>>2],p=g[t>>2],u=g[t+16>>2],_=g[t+36>>2],f=g[t+4>>2],m=g[t+20>>2],a=g[t+40>>2],s=g[t+8>>2],c=g[t+24>>2],h[o+12>>2]=0,d=s,s=g[o+64>>2],v=c,c=g[o+68>>2],A=a,a=g[o+72>>2],g[o+8>>2]=x(x(d*s)+x(v*c))+x(A*a),g[o+4>>2]=x(x(s*f)+x(c*m))+x(a*_),g[o>>2]=x(x(p*s)+x(u*c))+x(l*a),r[h[h[e>>2]+64>>2]](o+16|0,e,o),l=g[t+48>>2],p=g[t+8>>2],u=g[t>>2],_=g[t+4>>2],f=g[t+52>>2],m=g[t+24>>2],A=g[t+16>>2],C=g[t+20>>2],s=g[t+56>>2],a=g[t+40>>2],c=g[t+32>>2],S=g[t+36>>2],h[o+44>>2]=0,d=s,s=g[o+16>>2],E=x(c*s),c=g[o+20>>2],v=a,a=g[o+24>>2],g[o+40>>2]=d+x(x(E+x(S*c))+x(v*a)),g[o+36>>2]=f+x(x(x(s*A)+x(c*C))+x(a*m)),g[o+32>>2]=l+x(x(x(s*u)+x(c*_))+x(a*p)),g[n+y>>2]=g[P>>2]-w,3!=(0|(b=b+1|0)););z=o+80|0},r[346]=Ke,r[347]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0);a=g[e+92>>2],s=g[e+76>>2],c=g[e+80>>2],p=g[e+100>>2],o=g[e+68>>2],u=g[e+84>>2],l=g[e+96>>2],i=g[e- -64>>2],r=g[e+60>>2],h[n+12>>2]=0,s=x(s-r),l=x(l-i),c=x(c-i),r=x(a-r),_=i=x(x(s*l)-x(c*r)),f=x(i*i),i=x(p-o),a=x(u-o),o=x(x(c*i)-x(a*l)),i=x(x(a*r)-x(s*i)),r=x(x(1)/x(T(x(f+x(x(o*o)+x(i*i)))))),a=x(_*r),g[n+8>>2]=a,i=x(i*r),g[n+4>>2]=i,o=x(o*r),g[n>>2]=o,t&&(g[n+8>>2]=-a,g[n+4>>2]=-i,g[n>>2]=-o)},r[348]=function(e,t){e|=0,t|=0;var n,i=0,o=0,c=0,l=0,p=0,_=0,A=0,C=0,S=x(0),E=0,w=0,P=x(0),I=x(0),R=0,N=0,D=0,M=0,O=x(0),L=x(0),F=0,B=0,U=0,j=0,k=0,G=x(0),H=x(0);for(z=n=z-240|0,(i=h[e+56>>2])&&(r[h[h[i>>2]>>2]](i),(i=h[e+56>>2])&&(h[6658]=h[6658]+1,r[h[5256]](i))),h[6657]=h[6657]+1,function(e){h[e>>2]=11988,a[e+20|0]=1,h[e+16>>2]=0,a[e+40|0]=1,h[e+8>>2]=0,h[e+12>>2]=0,h[e+36>>2]=0,a[e+60|0]=1,h[e+28>>2]=0,h[e+32>>2]=0,h[e+56>>2]=0,h[e+48>>2]=0,h[e+52>>2]=0}(i=0|r[h[5255]](132,16)),h[e+56>>2]=i,h[n+228>>2]=0,a[n+232|0]=1,h[n+220>>2]=0,h[n+224>>2]=0;(0|E)<(0|r[h[h[e>>2]+96>>2]](e));){if((0|(i=o=h[n+220>>2]))==h[n+224>>2]&&!((0|(i=o))>=(0|(C=i?i<<1:1)))){c=0,_=0,C&&(h[6657]=h[6657]+1,_=0|r[h[5255]](C<<4,16),i=h[n+220>>2]),l=h[n+228>>2];e:{t:{if((0|i)>=1)for(;;)if(w=(A=c<<4)+_|0,B=h[4+(A=l+A|0)>>2],h[w>>2]=h[A>>2],h[w+4>>2]=B,D=h[A+12>>2],h[w+8>>2]=h[A+8>>2],h[w+12>>2]=D,(0|(c=c+1|0))==(0|i))break t;if(!l)break e}m[n+232|0]&&(l&&(h[6658]=h[6658]+1,r[h[5256]](l)),i=h[n+220>>2]),h[n+228>>2]=0}h[n+228>>2]=_,a[n+232|0]=1,h[n+224>>2]=C}h[n+220>>2]=i+1,l=h[n+156>>2],i=(o<<=4)+h[n+228>>2]|0,h[i>>2]=h[n+152>>2],h[i+4>>2]=l,C=h[n+164>>2],h[i+8>>2]=h[n+160>>2],h[i+12>>2]=C,r[h[h[e>>2]+108>>2]](e,E,o+h[n+228>>2]|0),E=E+1|0}a[n+188|0]=1,h[n+184>>2]=0,a[n+208|0]=1,h[n+176>>2]=0,h[n+180>>2]=0,h[n+204>>2]=0,h[n+196>>2]=0,h[n+200>>2]=0,h[n+164>>2]=0,a[n+168|0]=1,h[n+156>>2]=0,h[n+160>>2]=0;e:if(t){if(h[n+60>>2]=0,a[n+64|0]=1,h[n+52>>2]=0,h[n+56>>2]=0,function(e,t){var n,i=0,o=x(0),s=0,c=0,l=x(0),p=x(0),u=0,_=0,f=0,d=x(0),v=x(0),A=0,y=0,b=0,C=x(0),S=x(0),E=0,w=0,P=0,I=0,R=0,N=0,D=x(0);if((0|(n=h[e+4>>2]))>=1)for(;;){t:if(!((0|(y=(f=y)+1|0))>=(0|n)))for(R=A=(s=h[e+12>>2])+(f<<4)|0,i=y;;){n:if(!((0|(f=i+1|0))>=(0|n)))for(N=w=(i<<4)+s|0,b=f;;){for(d=g[A>>2],l=x(g[w>>2]-d),i=(b<<4)+s|0,o=g[A+4>>2],v=x(g[i+4>>2]-o),p=x(g[w+4>>2]-o),C=x(g[i>>2]-d),D=x(x(l*v)-x(p*C)),o=g[R+8>>2],d=x(g[N+8>>2]-o),o=x(g[i+8>>2]-o),C=x(x(d*C)-x(l*o)),d=x(x(p*o)-x(d*v)),o=x(1),P=0;;){l=x(D*o),v=x(d*o),p=x(C*o);i:if((o=x(x(l*l)+x(x(v*v)+x(p*p))))>x(9999999747378752e-20)){if(o=x(x(1)/x(T(o))),S=x(l*o),l=x(p*o),p=x(v*o),(0|(u=h[t+4>>2]))>=1)for(s=h[t+12>>2],i=0;;){if(x(x(x(p*g[(c=s+(i<<4)|0)>>2])+x(l*g[c+4>>2]))+x(S*g[c+8>>2]))>x(.9990000128746033))break i;if((0|u)==(0|(i=i+1|0)))break}if(o=x(x(x(p*g[A>>2])+x(l*g[A+4>>2]))+x(S*g[R+8>>2])),(0|(c=h[e+4>>2]))>=1)for(s=h[e+12>>2],i=0;;){if(x(x(x(x(x(p*g[(_=s+(i<<4)|0)>>2])+x(l*g[_+4>>2]))+x(S*g[_+8>>2]))-o)+x(-.009999999776482582))>x(0))break i;if((0|c)==(0|(i=i+1|0)))break}if(o=x(-o),h[t+8>>2]==(0|u)&&!((0|u)>=(0|(E=u?u<<1:1)))){if(s=0,I=0,E&&(h[6657]=h[6657]+1,I=0|r[h[5255]](E<<4,16),u=h[t+4>>2]),(0|u)>=1)for(;c=(i=s<<4)+I|0,_=i+h[t+12>>2]|0,i=h[_+4>>2],h[c>>2]=h[_>>2],h[c+4>>2]=i,i=h[_+12>>2],h[c+8>>2]=h[_+8>>2],h[c+12>>2]=i,(0|(s=s+1|0))!=(0|u););(i=h[t+12>>2])&&(m[t+16|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[t+12>>2]=0),h[t+12>>2]=I,a[t+16|0]=1,h[t+8>>2]=E,u=h[t+4>>2]}i=h[t+12>>2]+(u<<4)|0,g[i+12>>2]=o,g[i+8>>2]=S,g[i+4>>2]=l,g[i>>2]=p,h[t+4>>2]=h[t+4>>2]+1}if(o=x(-1),2==(0|(P=P+1|0)))break}if((0|(b=b+1|0))==(0|n))break n;s=h[e+12>>2]}if((0|n)==(0|f))break t;s=h[e+12>>2],i=f}if((0|n)==(0|y))break}}(n+216|0,n+48|0),h[n+140>>2]=0,a[n+144|0]=1,h[n+132>>2]=0,h[n+136>>2]=0,h[n+52>>2]>=1)for(l=0;;){if(t=h[n+60>>2]+(l<<4)|0,h[n+112>>2]=h[t+8>>2],i=h[t+4>>2],h[n+104>>2]=h[t>>2],h[n+108>>2]=i,S=x(g[t+12>>2]-x(r[h[h[e>>2]+48>>2]](e))),(0|(i=h[n+132>>2]))==h[n+136>>2]&&!((0|i)>=(0|(t=i?i<<1:1)))){if(c=0,_=0,t&&(h[6657]=h[6657]+1,_=0|r[h[5255]](t<<4,16),i=h[n+132>>2]),(0|i)>=1)for(;A=C=(o=c<<4)+_|0,o=o+h[n+140>>2]|0,w=h[o+4>>2],h[A>>2]=h[o>>2],h[A+4>>2]=w,A=h[o+12>>2],h[C+8>>2]=h[o+8>>2],h[C+12>>2]=A,(0|(c=c+1|0))!=(0|i););(i=h[n+140>>2])&&(m[n+144|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[n+140>>2]=0),h[n+140>>2]=_,a[n+144|0]=1,h[n+136>>2]=t,i=h[n+132>>2]}if(t=h[n+140>>2]+(i<<4)|0,i=h[n+108>>2],h[t>>2]=h[n+104>>2],h[t+4>>2]=i,i=h[n+112>>2],g[t+12>>2]=S,h[t+8>>2]=i,h[n+132>>2]=h[n+132>>2]+1,!((0|(l=l+1|0))<h[n+52>>2]))break}if(h[n+116>>2]=0,a[n+120|0]=1,h[n+108>>2]=0,h[n+112>>2]=0,function(e,t){var n,i=0,o=0,s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=0,f=x(0),d=x(0),v=x(0),A=0,y=0,C=0,S=0,E=0,w=0,T=0,P=0,I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=0,z=0,F=0;if((0|(n=h[e+4>>2]))>=1)for(;;){t:if(!((0|(S=(i=S)+1|0))>=(0|n)))for(z=E=(o=h[e+12>>2])+(i<<4)|0,i=S;;){n:if(!((0|(w=i+1|0))>=(0|n)))for(F=T=(i<<4)+o|0,P=w;;){c=g[4+(i=(P<<4)+o|0)>>2],l=g[T>>2],f=g[T+4>>2],d=g[i>>2],v=x(x(c*l)-x(f*d)),p=g[i+8>>2],I=g[T+8>>2],R=x(x(f*p)-x(I*c)),N=x(x(I*d)-x(p*l));i:if(x(x(v*v)+x(x(R*R)+x(N*N)))>x(9999999747378752e-20)&&(s=g[E+4>>2],u=g[E>>2],D=x(x(d*s)-x(c*u)),M=c,c=g[E+8>>2],O=x(x(M*c)-x(p*s)),d=x(x(p*u)-x(d*c)),x(x(D*D)+x(x(O*O)+x(d*d)))>x(9999999747378752e-20)&&(p=x(x(f*u)-x(l*s)),f=x(x(I*s)-x(f*c)),l=x(x(l*c)-x(I*u)),x(x(p*p)+x(x(f*f)+x(l*l)))>x(9999999747378752e-20)&&(s=x(x(c*v)+x(x(s*N)+x(R*u))),x(b(s))>x(9.999999974752427e-7))))){if(s=x(x(-1)/s),u=g[i+12>>2],c=g[z+12>>2],M=x(v*c),v=g[F+12>>2],p=x(s*x(x(p*u)+x(M+x(D*v)))),l=x(s*x(x(l*u)+x(x(N*c)+x(d*v)))),s=x(s*x(x(f*u)+x(x(R*c)+x(O*v)))),i=0,(0|(y=h[e+4>>2]))>0)for(;;){if(x(x(g[12+(_=(i<<4)+o|0)>>2]+x(x(x(s*g[_>>2])+x(l*g[_+4>>2]))+x(p*g[_+8>>2])))+x(-.009999999776482582))>x(0))break i;if((0|y)==(0|(i=i+1|0)))break}if((0|(o=h[t+4>>2]))==h[t+8>>2]&&!((0|o)>=(0|(_=o?o<<1:1)))){if(i=0,y=0,_&&(h[6657]=h[6657]+1,y=0|r[h[5255]](_<<4,16),o=h[t+4>>2]),(0|o)>=1)for(;C=(A=i<<4)+y|0,A=A+h[t+12>>2]|0,L=h[A+4>>2],h[C>>2]=h[A>>2],h[C+4>>2]=L,L=h[A+12>>2],h[C+8>>2]=h[A+8>>2],h[C+12>>2]=L,(0|o)!=(0|(i=i+1|0)););(i=h[t+12>>2])&&(m[t+16|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[t+12>>2]=0),h[t+12>>2]=y,a[t+16|0]=1,h[t+8>>2]=_,o=h[t+4>>2]}i=h[t+12>>2]+(o<<4)|0,h[i+12>>2]=0,g[i+8>>2]=p,g[i+4>>2]=l,g[i>>2]=s,h[t+4>>2]=h[t+4>>2]+1}if((0|(P=P+1|0))==(0|n))break n;o=h[e+12>>2]}if((0|n)==(0|w))break t;o=h[e+12>>2],i=w}if((0|n)==(0|S))break}}(n+128|0,n+104|0),Ln(n+152|0,h[n+116>>2],h[n+108>>2]),(t=h[n+116>>2])&&(m[n+120|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[n+116>>2]=0),(t=h[n+140>>2])&&(m[n+144|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[n+140>>2]=0),!(t=h[n+60>>2]))break e;m[n+64|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[n+60>>2]=0}else Ln(n+152|0,h[n+228>>2],h[n+220>>2]);if(o=0,t=0,!((0|(C=h[n+196>>2]))<1)){for(h[6657]=h[6657]+1,k=0|r[h[5255]](C<<4,16),c=0;i=h[n+52>>2],h[(t=(c<<4)+k|0)>>2]=h[n+48>>2],h[t+4>>2]=i,i=h[n+60>>2],h[t+8>>2]=h[n+56>>2],h[t+12>>2]=i,(0|C)!=(0|(c=c+1|0)););t=k}B=t,h[n+140>>2]=0,a[n+144|0]=1,h[n+132>>2]=0,h[n+136>>2]=0,a[n+63|0]=0,a[n+64|0]=0,a[n+65|0]=0,a[n+66|0]=0,h[n+56>>2]=0,h[n+60>>2]=0,h[n+48>>2]=0,h[n+52>>2]=0;e:{if((0|C)<=-1)for(p=C;;){if(t=y(p,36)+o|0,(o=h[(i=t)+12>>2])&&(m[t+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[i+12>>2]=0),a[t+16|0]=1,h[i+12>>2]=0,h[t+4>>2]=0,h[t+8>>2]=0,(t=p+1|0)>>>0<p>>>0)break e;o=h[n+140>>2],p=t}if(C)for(gi(n+128|0,C),o=i=n+48|3;t=h[n+140>>2]+y(p,36)|0,h[t+4>>2]=0,h[t+8>>2]=0,a[t+16|0]=1,h[t+12>>2]=0,l=m[i+4|0]|m[i+5|0]<<8|m[i+6|0]<<16|m[i+7|0]<<24,A=m[0|i]|m[i+1|0]<<8|m[i+2|0]<<16|m[i+3|0]<<24,a[t+20|0]=A,a[t+21|0]=A>>>8,a[t+22|0]=A>>>16,a[t+23|0]=A>>>24,a[t+24|0]=l,a[t+25|0]=l>>>8,a[t+26|0]=l>>>16,a[t+27|0]=l>>>24,l=m[o+12|0]|m[o+13|0]<<8|m[o+14|0]<<16|m[o+15|0]<<24,A=m[o+8|0]|m[o+9|0]<<8|m[o+10|0]<<16|m[o+11|0]<<24,a[t+28|0]=A,a[t+29|0]=A>>>8,a[t+30|0]=A>>>16,a[t+31|0]=A>>>24,a[t+32|0]=l,a[t+33|0]=l>>>8,a[t+34|0]=l>>>16,a[t+35|0]=l>>>24,(0|C)!=(0|(p=p+1|0)););}if(h[n+132>>2]=C,l=h[e+56>>2],(0|(c=h[l+8>>2]))<(0|(A=h[n+156>>2]))){if(h[l+12>>2]<(0|A)){if(A?(h[6657]=h[6657]+1,i=0|r[h[5255]](A<<4,16),t=h[l+8>>2]):(i=0,t=c),(0|t)>=1)for(o=0;w=(p=o<<4)+i|0,p=p+h[l+16>>2]|0,_=h[p+4>>2],h[w>>2]=h[p>>2],h[w+4>>2]=_,D=h[p+12>>2],h[w+8>>2]=h[p+8>>2],h[w+12>>2]=D,(0|t)!=(0|(o=o+1|0)););(t=h[l+16>>2])&&(m[l+20|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[l+16>>2]=0),h[l+16>>2]=i,h[l+12>>2]=A,a[l+20|0]=1}for(;i=h[n+52>>2],t=h[l+16>>2]+(c<<4)|0,h[t>>2]=h[n+48>>2],h[t+4>>2]=i,i=h[n+60>>2],h[t+8>>2]=h[n+56>>2],h[t+12>>2]=i,(0|A)!=(0|(c=c+1|0)););}if(h[l+8>>2]=A,c=0,(0|A)>0)for(;t=(i=c<<4)+h[h[e+56>>2]+16>>2]|0,i=i+h[n+164>>2]|0,o=h[i+4>>2],h[t>>2]=h[i>>2],h[t+4>>2]=o,o=h[i+12>>2],h[t+8>>2]=h[i+8>>2],h[t+12>>2]=o,(0|A)!=(0|(c=c+1|0)););if((0|C)>=1)for(A=0;;){for(l=0,_=M=h[n+184>>2]+y(h[h[n+204>>2]+(A<<2)>>2],12)|0;;){if(N=h[8+(y(h[_+4>>2],12)+_|0)>>2],p=t=(E=y(A,36))+h[n+140>>2]|0,(0|(o=h[t+4>>2]))==h[t+8>>2]&&!((0|o)>=(0|(D=o?o<<1:1)))){c=0,i=0,D&&(h[6657]=h[6657]+1,i=0|r[h[5255]](D<<2,16),o=h[p+4>>2]),w=h[t+12>>2];e:{t:{if((0|o)>=1)for(;;)if(h[(R=c<<2)+i>>2]=h[w+R>>2],(0|(c=c+1|0))==(0|o))break t;if(!w)break e}m[t+16|0]&&w&&(h[6658]=h[6658]+1,r[h[5256]](w)),h[t+12>>2]=0,o=h[p+4>>2]}a[t+16|0]=1,h[t+12>>2]=i,h[t+8>>2]=D}if(h[h[t+12>>2]+(o<<2)>>2]=N,h[p+4>>2]=h[p+4>>2]+1,(0|l)<=1&&(i=h[n+164>>2],S=g[4+(t=i+(N<<4)|0)>>2],i=i+(h[_+8>>2]<<4)|0,P=g[i+4>>2],I=g[t>>2],O=g[i>>2],L=g[t+8>>2],G=g[i+8>>2],h[12+(t=(n+48|0)+(l<<4)|0)>>2]=0,I=x(O-I),P=x(P-S),O=x(G-L),S=x(x(1)/x(T(x(x(x(I*I)+x(P*P))+x(O*O))))),g[t+8>>2]=O*S,g[t+4>>2]=P*S,g[t>>2]=I*S,l=l+1|0),t=y(h[_+4>>2],12)+_|0,(0|M)==(0|(_=y(h[t>>2],12)+t|0)))break}if(2!=(0|l)?(h[(t=(A<<4)+B|0)>>2]=0,h[t+4>>2]=0,h[t+8>>2]=0,h[t+12>>2]=0,p=h[n+140>>2]):(S=g[n+52>>2],I=g[n+68>>2],P=g[n+64>>2],O=g[n+56>>2],L=g[n+48>>2],G=g[n+72>>2],h[12+(t=(A<<4)+B|0)>>2]=0,H=x(x(I*L)-x(S*P)),I=x(x(S*G)-x(O*I)),P=x(x(O*P)-x(G*L)),S=x(x(1)/x(T(x(x(H*H)+x(x(I*I)+x(P*P)))))),g[t+8>>2]=H*S,g[t+4>>2]=P*S,S=x(I*S),g[t>>2]=S,p=h[n+140>>2],g[20+(i=E+p|0)>>2]=S,h[i+24>>2]=h[t+4>>2],t=h[t+8>>2],h[i+32>>2]=1900671690,h[i+28>>2]=t),(0|(o=h[4+(t=p+E|0)>>2]))<1)S=x(1.0000000150474662e30);else for(l=h[t+12>>2],I=g[8+(i=(A<<4)+B|0)>>2],P=g[i+4>>2],O=g[i>>2],p=h[h[e+56>>2]+16>>2],S=x(1.0000000150474662e30),c=0;i=p+(h[l+(c<<2)>>2]<<4)|0,S=S>(L=x(x(x(g[i>>2]*O)+x(g[i+4>>2]*P))+x(g[i+8>>2]*I)))?L:S,(0|(c=c+1|0))<(0|o););if(g[t+32>>2]=-S,(0|C)==(0|(A=A+1|0)))break}if(C=0,h[n+132>>2]<=0)D=0;else{for(w=0,D=0,i=0;;){if((0|i)==(0|C))if((0|C)>=(0|(i=C?C<<1:1)))i=C;else{c=0,o=0,i&&(h[6657]=h[6657]+1,o=0|r[h[5255]](i<<2,16));e:{t:{if(C)for(;;)if(h[(t=c<<2)+o>>2]=h[t+w>>2],(0|C)==(0|(c=c+1|0)))break t;if(!w){i=1;break e}}D&&(h[6658]=h[6658]+1,r[h[5256]](D))}D=o,w=o}if(h[(C<<2)+w>>2]=C,!((0|(C=C+1|0))<h[n+132>>2]))break}for(;;){i=h[((t=C+-1|0)<<2)+w>>2],h[6657]=h[6657]+1,A=0|r[h[5255]](4,16),h[A>>2]=i;e:{if((0|t)<1)C=t,t=A,N=1;else{for(i=(c=h[n+140>>2])+y(i,36)|0,S=g[i+20>>2],I=g[i+28>>2],P=g[i+24>>2],_=C+-2|0,o=1,C=t,i=A,N=1;;){p=h[(_<<2)+w>>2],t=y(p,36)+c|0;t:if(x(x(x(S*g[t+20>>2])+x(P*g[t+24>>2]))+x(I*g[t+28>>2]))>x(.9990000128746033)){if((0|o)!=(0|N)||(0|o)>=(0|(l=o?o<<1:1)))l=o,t=i;else{c=0,t=0,l&&(h[6657]=h[6657]+1,t=0|r[h[5255]](l<<2,16));n:{i:{if((0|o)>=1)for(;;)if(h[(E=c<<2)+t>>2]=h[A+E>>2],(0|(c=c+1|0))==(0|o))break i;if(!A)break n}i&&(h[6658]=h[6658]+1,r[h[5256]](i))}A=t}if(h[(N<<2)+A>>2]=p,N=N+1|0,c=0,!((0|C)<1)){for(;;){if((0|p)!=h[(i=(c<<2)+w|0)>>2]){if((0|C)!=(0|(c=c+1|0)))continue;break t}break}(0|C)<=(0|c)||(o=i,i=((C=C+-1|0)<<2)+w|0,h[o>>2]=h[i>>2],h[i>>2]=p)}}else l=o,t=i;if(!((0|_)>=1))break;_=_+-1|0,c=h[n+140>>2],i=t,o=l}if((0|N)>1){for(p=0,h[n+116>>2]=0,a[n+120|0]=1,h[n+108>>2]=0,h[n+112>>2]=0,h[n+40>>2]=0,h[n+44>>2]=0,h[n+32>>2]=0,h[n+36>>2]=0,S=x(0),I=x(0),P=x(0),i=0;;){if(o=h[n+140>>2]+y(h[(i<<2)+A>>2],36)|0,O=g[o+24>>2],L=g[o+28>>2],g[n+32>>2]=g[o+20>>2]+P,g[n+40>>2]=L+S,g[n+36>>2]=O+I,(0|(_=h[o+4>>2]))>=1)for(E=0;;){U=h[h[o+12>>2]+(E<<2)>>2],l=h[h[e+56>>2]+16>>2]+(U<<4)|0,c=h[l+12>>2],h[n+16>>2]=h[l+8>>2],h[n+20>>2]=c,c=h[l+4>>2],h[n+8>>2]=h[l>>2],h[n+12>>2]=c;t:{if((0|p)>=1)for(c=0,l=h[n+116>>2];;){if((0|U)==h[20+(l+y(c,24)|0)>>2])break t;if(!((0|(c=c+1|0))<(0|p)))break}if(l=h[n+20>>2],h[n+56>>2]=h[n+16>>2],h[n+60>>2]=l,l=h[n+12>>2],h[n+48>>2]=h[n+8>>2],h[n+52>>2]=l,h[n+112>>2]==(0|p)&&!((0|p)>=(0|(F=p?p<<1:1)))){c=0,l=0,F&&(h[6657]=h[6657]+1,l=0|r[h[5255]](y(F,24),16),p=h[n+108>>2]),M=h[n+116>>2];n:{i:{if((0|p)>=1)for(;;)if(R=(_=y(c,24))+l|0,j=h[4+(_=_+M|0)>>2],h[R>>2]=h[_>>2],h[R+4>>2]=j,j=h[_+20>>2],h[R+16>>2]=h[_+16>>2],h[R+20>>2]=j,j=h[_+12>>2],h[R+8>>2]=h[_+8>>2],h[R+12>>2]=j,(0|p)==(0|(c=c+1|0)))break i;if(!M)break n}m[n+120|0]&&(M&&(h[6658]=h[6658]+1,r[h[5256]](M)),p=h[n+108>>2]),h[n+116>>2]=0}h[n+116>>2]=l,a[n+120|0]=1,h[n+112>>2]=F}l=h[n+116>>2]+y(p,24)|0,p=h[n+52>>2],h[l>>2]=h[n+48>>2],h[l+4>>2]=p,p=h[n+60>>2],c=h[n+56>>2],_=h[n- -64>>2],h[l+20>>2]=U,h[l+16>>2]=_,h[l+8>>2]=c,h[l+12>>2]=p,p=h[n+108>>2]+1|0,h[n+108>>2]=p,_=h[o+4>>2]}if(!((0|(E=E+1|0))<(0|_)))break}if(S=g[n+40>>2],I=g[n+36>>2],P=g[n+32>>2],(0|N)==(0|(i=i+1|0)))break}if(h[n+60>>2]=0,a[n+64|0]=1,h[n+52>>2]=0,h[n+56>>2]=0,i=h[n+140>>2]+y(h[A>>2],36)|0,h[n+68>>2]=h[i+20>>2],h[n+72>>2]=h[i+24>>2],h[n+76>>2]=h[i+28>>2],h[n+80>>2]=h[i+32>>2],O=P,P=x(x(1)/x(T(x(x(x(P*P)+x(I*I))+x(S*S))))),g[n+32>>2]=O*P,g[n+36>>2]=I*P,g[n+40>>2]=S*P,h[n+20>>2]=0,a[n+24|0]=1,h[n+12>>2]=0,h[n+16>>2]=0,fo(n+104|0,n+8|0,n+32|0),h[n+12>>2]<=0)p=h[n+108>>2];else for(i=0,l=h[n+52>>2];;){if(M=(E=y(i,24))+h[n+20>>2]|0,h[n+56>>2]==(0|l)&&!((0|l)>=(0|(_=l?l<<1:1)))){c=0,o=0,_&&(h[6657]=h[6657]+1,o=0|r[h[5255]](_<<2,16),l=h[n+52>>2]),p=h[n+60>>2];t:{n:{if((0|l)>=1)for(;;)if(h[(R=c<<2)+o>>2]=h[p+R>>2],(0|l)==(0|(c=c+1|0)))break n;if(!p)break t}m[n+64|0]&&p&&(h[6658]=h[6658]+1,r[h[5256]](p)),h[n+60>>2]=0,l=h[n+52>>2]}h[n+60>>2]=o,a[n+64|0]=1,h[n+56>>2]=_}h[h[n+60>>2]+(l<<2)>>2]=h[M+20>>2],l=h[n+52>>2]+1|0,h[n+52>>2]=l;t:if(!((0|(p=h[n+108>>2]))<1)){for(o=h[20+(E+h[n+20>>2]|0)>>2],c=0,_=h[n+116>>2];;){if(E=_+y(c,24)|0,(0|o)!=h[E+20>>2]){if((0|(c=c+1|0))<(0|p))continue;break t}break}h[E+20>>2]=-1}if(!((0|(i=i+1|0))<h[n+12>>2]))break}t:{if((0|p)>=1)for(l=0,E=h[n+140>>2],_=h[n+132>>2],M=h[n+116>>2];;){if(-1!=(0|(R=h[20+(M+y(l,24)|0)>>2]))&&(o=0,!((0|_)<1)))for(;;){c=0;n:{if((0|N)>0)for(;;){if(h[(c<<2)+A>>2]==(0|o))break n;if((0|N)==(0|(c=c+1|0)))break}if(i=E+y(o,36)|0,!((0|(F=h[i+4>>2]))<1))for(U=h[i+12>>2],c=0;;){if(i=1,(0|R)==h[U+(c<<2)>>2])break t;if(!((0|(c=c+1|0))<(0|F)))break}}if((0|_)==(0|(o=o+1|0)))break}if(!((0|(l=l+1|0))<(0|p)))break}vi(h[e+56>>2]+24|0,n+48|0),i=0}if((o=h[n+20>>2])&&(m[n+24|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[n+20>>2]=0),(o=h[n+60>>2])&&(m[n+64|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[n+60>>2]=0),(o=h[n+116>>2])&&(m[n+120|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[n+116>>2]=0),!(i&(0|N)>0))break e}else if(i=1!=(0|N),N=1,i)break e}for(E=0;;){if(i=h[(E<<2)+A>>2],h[n+60>>2]=0,h[n+52>>2]=0,h[n+56>>2]=0,o=h[n+140>>2],a[n+64|0]=1,i=o+y(i,36)|0,(0|(o=h[i+4>>2]))>=1){h[6657]=h[6657]+1,_=o<<2,p=0|r[h[5255]](_,16),c=0,l=h[n+60>>2];t:{n:{if((0|(M=h[n+52>>2]))>=1)for(;;)if(h[(R=c<<2)+p>>2]=h[l+R>>2],(0|M)==(0|(c=c+1|0)))break n;if(!l)break t}m[n+64|0]&&l&&(h[6658]=h[6658]+1,r[h[5256]](l))}for(h[n+60>>2]=p,a[n+64|0]=1,h[n+56>>2]=o,c=0,Co(p,0,_),h[n+52>>2]=o,l=h[i+12>>2],p=h[n+60>>2];h[(_=c<<2)+p>>2]=h[l+_>>2],(0|o)!=(0|(c=c+1|0)););}else h[n+52>>2]=o;if(o=h[i+24>>2],h[n+68>>2]=h[i+20>>2],h[n+72>>2]=o,o=h[i+32>>2],h[n+76>>2]=h[i+28>>2],h[n+80>>2]=o,vi(h[e+56>>2]+24|0,n+48|0),(i=h[n+60>>2])&&(m[n+64|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[n+60>>2]=0),!((0|(E=E+1|0))<(0|N)))break}}if(A&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),!C)break}C=w}if(function(e){var t=0,n=0,i=0,o=x(0),c=0,l=x(0),p=0,_=x(0),A=0,C=x(0),S=x(0),E=x(0),w=0,P=x(0),I=x(0),R=0,N=x(0),D=0,M=0,O=0,L=0,F=x(0),B=x(0),U=0,j=0,k=0,G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0);if(z=c=z-96|0,a[c+52|0]=1,h[c+48>>2]=0,a[c+72|0]=1,h[c+40>>2]=0,h[c+44>>2]=0,h[c+68>>2]=0,a[c+92|0]=1,h[c+60>>2]=0,h[c+64>>2]=0,h[c+88>>2]=0,h[c+80>>2]=0,h[c+84>>2]=0,h[c+28>>2]=0,a[c+32|0]=1,h[c+20>>2]=0,h[c+24>>2]=0,h[e+72>>2]=0,h[e+76>>2]=0,h[e+64>>2]=0,h[e+68>>2]=0,!((0|(t=h[e+28>>2]))<1)){for(;;){if(n=h[e+36>>2],U=y(A,36),(0|(j=h[4+(n+U|0)>>2]))>=1){for(D=0;;){t=h[12+(n+U|0)>>2],n=h[t+(D<<2)>>2],p=h[t+(((L=(0|j)==(0|(D=D+1|0)))?0:D)<<2)>>2],f[c+10>>1]=p,f[c+8>>1]=n,M=0,(0|(i=p<<16>>16))>(0|(t=n<<16>>16))&&(f[c+10>>1]=n,f[c+8>>1]=p,i=n,t=p);e:if(!((n=(p=i<<16)+(w=t<<16>>16)&h[c+64>>2]+-1)>>>0>=v[c+20>>2])&&-1!=(0|(n=h[h[c+28>>2]+(n<<2)>>2]))){for(R=h[c+48>>2],O=h[c+88>>2];;){if(d[2+(k=(n<<=2)+O|0)>>1]!=(65535&i)||d[k>>1]!=(65535&t)){if(-1!=(0|(n=h[n+R>>2])))continue;break e}break}M=n+h[c+68>>2]|0}t=(i=h[e+16>>2])+(p>>16<<4)|0,i=i+(w<<4)|0,o=x(g[t+8>>2]-g[i+8>>2]),l=x(g[t>>2]-g[i>>2]),_=x(g[t+4>>2]-g[i+4>>2]),S=x(x(1)/x(T(x(x(x(l*l)+x(_*_))+x(o*o))))),o=x(o*S),_=x(_*S),l=x(l*S);e:{if((0|(t=h[e+48>>2]))>=1)for(p=h[e+56>>2],n=0;;){if(S=g[8+(i=p+(n<<4)|0)>>2],P=g[i>>2],E=g[i+4>>2],(+x(b(x(S-o)))>1e-6^1?!(+x(b(x(P-l)))>1e-6|+x(b(x(E-_)))>1e-6):0)|(+x(b(x(o+S)))>1e-6^1?!(+x(b(x(l+P)))>1e-6|+x(b(x(_+E)))>1e-6):0))break e;if(!((0|(n=n+1|0))<(0|t)))break}if(h[e+52>>2]==(0|t)&&!((0|t)>=(0|(i=t?t<<1:1)))){if(n=0,p=0,i&&(h[6657]=h[6657]+1,p=0|r[h[5255]](i<<4,16),t=h[e+48>>2]),(0|t)>=1)for(;R=(w=n<<4)+p|0,w=w+h[e+56>>2]|0,k=h[w+4>>2],h[R>>2]=h[w>>2],h[R+4>>2]=k,O=h[w+12>>2],h[R+8>>2]=h[w+8>>2],h[R+12>>2]=O,(0|(n=n+1|0))!=(0|t););(t=h[e+56>>2])&&(m[e+60|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+56>>2]=0),h[e+56>>2]=p,a[e+60|0]=1,h[e+52>>2]=i,t=h[e+48>>2]}t=h[e+56>>2]+(t<<4)|0,h[t+12>>2]=0,g[t+8>>2]=o,g[t+4>>2]=_,g[t>>2]=l,h[e+48>>2]=h[e+48>>2]+1}if(M?f[M+2>>1]=A:(f[c>>1]=A,f[c+2>>1]=65535,go(c+16|0,c+8|0,c)),L)break;n=h[e+36>>2]}t=h[e+28>>2]}if(!((0|(A=A+1|0))<(0|t)))break}if(p=0,!((0|t)<1))for(p=(0|t)>0,i=h[e+16>>2],U=h[e+36>>2],A=0;;){if(n=U+y(A,36)|0,(0|(D=h[n+4>>2]))>=3)for(j=D+-1|0,M=h[n+12>>2],O=w=i+(h[M>>2]<<4)|0,l=g[e+72>>2],S=g[e+68>>2],E=g[e+64>>2],n=1;L=i+(h[M+(n<<2)>>2]<<4)|0,o=g[L+8>>2],R=i+(h[M+((0|(n=n+1|0))%(0|D)<<2)>>2]<<4)|0,_=g[R+8>>2],P=g[w>>2],G=g[L>>2],H=x(P-G),C=g[w+4>>2],V=g[R+4>>2],B=x(C-V),W=g[L+4>>2],N=x(C-W),q=g[R>>2],Y=x(P-q),F=x(x(H*B)-x(N*Y)),Z=N,N=g[O+8>>2],X=x(N-_),Q=x(N-o),B=x(x(Z*X)-x(Q*B)),_=x(x(x(N+o)+_)*x(.3333333432674408)),o=x(x(Q*Y)-x(H*X)),o=x(x(T(x(x(F*F)+x(x(B*B)+x(o*o)))))*x(.5)),l=x(l+x(_*o)),g[e+72>>2]=l,S=x(S+x(x(x(V+x(C+W))*x(.3333333432674408))*o)),g[e+68>>2]=S,E=x(E+x(x(x(q+x(P+G))*x(.3333333432674408))*o)),g[e+64>>2]=E,I=x(I+o),(0|n)!=(0|j););if((0|(A=A+1|0))==(0|t))break}}if(h[e+96>>2]=2139095039,o=x(x(1)/I),S=x(o*g[e+64>>2]),g[e+64>>2]=S,E=x(o*g[e+68>>2]),g[e+68>>2]=E,I=x(o*g[e+72>>2]),g[e+72>>2]=I,o=x(34028234663852886e22),_=x(34028234663852886e22),p)for(p=h[e+36>>2],i=0;n=p+y(i,36)|0,(l=x(b(x(g[n+32>>2]+x(x(x(S*g[n+20>>2])+x(E*g[n+24>>2]))+x(I*g[n+28>>2]))))))<_&&(g[e+96>>2]=l,_=l),(0|(i=i+1|0))!=(0|t););if((0|(i=h[e+8>>2]))<1)P=x(-34028234663852886e22),l=x(34028234663852886e22),S=x(34028234663852886e22),E=x(-34028234663852886e22),I=x(-34028234663852886e22);else for(p=h[e+16>>2],S=x(34028234663852886e22),I=x(-34028234663852886e22),n=0,E=x(-34028234663852886e22),P=x(-34028234663852886e22),l=x(34028234663852886e22);I=(C=g[8+(t=p+(n<<4)|0)>>2])>I?C:I,S=C<S?C:S,E=(C=g[t+4>>2])>E?C:E,l=C<l?C:l,P=(C=g[t>>2])>P?C:P,o=C<o?C:o,(0|(n=n+1|0))<(0|i););n=0,h[e+128>>2]=0,C=x(I-S),g[e+124>>2]=C,F=x(E-l),g[e+120>>2]=F,t=e+116|0,N=x(P-o),g[t>>2]=N,h[e+112>>2]=0,g[e+108>>2]=S+I,g[e+104>>2]=l+E,g[e+100>>2]=o+P,l=g[(p=(O=t)+(i=(t=N<F?F<C?2:1:(N<C)<<1)<<2)|0)>>2],o=x(_/x(1.7320507764816284)),g[e+84>>2]=o,g[e+88>>2]=o,g[e+80>>2]=o,i=i+(e+80|0)|0,_=x(g[p>>2]*x(.5)),g[i>>2]=_,l=x(x(x(l*x(.5))-o)*x(.0009765625));e:{t:{for(;;){if(ol(e))break t;if(_=x(_-l),g[i>>2]=_,1024==(0|(n=n+1|0)))break}g[e+84>>2]=o,g[e+88>>2]=o,g[e+80>>2]=o;break e}if(n=1,p=h[(t=(A=e+80|0)+((1<<(i=1<<t&3)&3)<<2)|0)>>2],i=h[(A=A+(i<<2)|0)>>2],l=x(x(g[e+96>>2]-o)*x(.0009765625)),g[A>>2]=l+g[A>>2],o=x(l+g[t>>2]),g[t>>2]=o,ol(e)){for(;;){if(_=o,1024==(0|n))break e;if(i=h[A>>2],g[A>>2]=l+g[A>>2],o=x(l+g[t>>2]),g[t>>2]=o,n=n+1|0,!ol(e))break}u(_),p=s(0)}h[A>>2]=i,h[t>>2]=p}Hi(c+16|0),z=c+96|0}(h[e+56>>2]),C&&D&&(h[6658]=h[6658]+1,r[h[5256]](D)),(0|(o=h[n+132>>2]))>=1)for(p=0;e=h[n+140>>2]+y(p,36)|0,(i=h[(t=e)+12>>2])&&(m[e+16|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[t+12>>2]=0),a[e+16|0]=1,h[t+12>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,(0|o)!=(0|(p=p+1|0)););return(e=h[n+140>>2])&&(m[n+144|0]&&e&&(h[6658]=h[6658]+1,r[h[5256]](e)),h[n+140>>2]=0),B&&k&&(h[6658]=h[6658]+1,r[h[5256]](k)),function(e){var t=0;(t=h[e+52>>2])&&(m[e+56|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+52>>2]=0),h[e+52>>2]=0,h[e+44>>2]=0,h[e+48>>2]=0,a[e+56|0]=1,(t=h[e+32>>2])&&(m[e+36|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+32>>2]=0),h[e+32>>2]=0,h[e+24>>2]=0,h[e+28>>2]=0,a[e+36|0]=1,(t=h[e+12>>2])&&(m[e+16|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+12>>2]=0),h[e+12>>2]=0,a[e+16|0]=1,h[e+4>>2]=0,h[e+8>>2]=0}(n+152|0),(e=h[n+228>>2])&&(m[n+232|0]&&e&&(h[6658]=h[6658]+1,r[h[5256]](e)),h[n+228>>2]=0),z=n+240|0,1},r[349]=to,r[350]=to,r[351]=function(e,t,n,i){t|=0,n|=0,i|=0,r[h[h[(e|=0)>>2]+108>>2]](e,t,n),r[h[h[e>>2]+108>>2]](e,(t+1|0)%3|0,i)},r[352]=function(e,t,n){n|=0,t=h[72+(e=((t|=0)<<4)+(e|=0)|0)>>2],h[n+8>>2]=h[e+68>>2],h[n+12>>2]=t,t=h[e+64>>2],h[n>>2]=h[e+60>>2],h[n+4>>2]=t},r[353]=Ie,r[354]=function(e,t,n,i){t|=0,n|=0,i|=0,r[h[h[(e|=0)>>2]+124>>2]](e,i,t,n)},r[355]=function(e,t,n){e|=0,t|=0,n=x(n);var i,o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=0,A=0;z=i=z-32|0,o=g[e+60>>2],s=x(g[e+76>>2]-o),a=g[e- -64>>2],c=x(g[e+96>>2]-a),p=x(g[e+80>>2]-a),u=x(g[e+92>>2]-o),_=l=x(x(s*c)-x(p*u)),d=x(l*l),m=p,p=g[e+68>>2],l=x(g[e+100>>2]-p),f=x(g[e+84>>2]-p),c=x(x(m*l)-x(f*c)),s=x(x(f*u)-x(s*l)),u=x(x(1)/x(T(x(d+x(x(c*c)+x(s*s)))))),l=x(_*u),c=x(c*u),s=x(s*u);e:if(!((o=x(x(x(g[t+8>>2]*l)+x(x(g[t>>2]*c)+x(g[t+4>>2]*s)))-x(x(p*l)+x(x(o*c)+x(a*s)))))>=(p=x(-n))^1|o<=n^1)){for(;;){if(r[h[h[e>>2]+104>>2]](e,v,i+16|0,i),u=g[i+16>>2],o=x(g[i>>2]-u),f=g[i+20>>2],a=x(g[i+4>>2]-f),_=n=x(x(s*o)-x(c*a)),d=x(n*n),n=x(l*a),m=g[i+24>>2],a=x(g[i+8>>2]-m),n=x(n-x(s*a)),o=x(x(c*a)-x(l*o)),a=x(x(1)/x(T(x(d+x(x(n*n)+x(o*o)))))),_=x(_*a),n=x(n*a),o=x(o*a),x(x(x(g[t+8>>2]*_)+x(x(g[t>>2]*n)+x(g[t+4>>2]*o)))-x(x(m*_)+x(x(u*n)+x(f*o))))<p)break e;if(3==(0|(v=v+1|0)))break}A=1}return z=i+32|0,0|A},r[356]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0);s=g[e+92>>2],c=g[e+76>>2],l=g[e+80>>2],u=g[e+100>>2],a=g[e+68>>2],_=g[e+84>>2],p=g[e+96>>2],o=g[e- -64>>2],r=g[e+60>>2],h[n+12>>2]=0,c=x(c-r),p=x(p-o),l=x(l-o),r=x(s-r),f=o=x(x(c*p)-x(l*r)),m=x(o*o),o=x(u-a),s=x(_-a),a=x(x(l*o)-x(s*p)),o=x(x(s*r)-x(c*o)),r=x(x(1)/x(T(x(m+x(x(a*a)+x(o*o)))))),g[n+8>>2]=f*r,g[n+4>>2]=o*r,g[n>>2]=a*r,t=h[e+72>>2],h[i+8>>2]=h[e+68>>2],h[i+12>>2]=t,t=h[e+64>>2],h[i>>2]=h[e+60>>2],h[i+4>>2]=t},r[357]=Po,r[358]=yo,r[359]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=x(0);z=n=z-800|0,r[h[5253]](7604),h[n+740>>2]=0,h[n+744>>2]=0,h[n+752>>2]=0,h[n+756>>2]=0,h[n+748>>2]=1065353216,h[n+772>>2]=0,h[n+776>>2]=0,h[n+768>>2]=1065353216,h[n+780>>2]=0,h[n+784>>2]=0,h[n+788>>2]=0,h[n+732>>2]=0,h[n+736>>2]=0,h[n+728>>2]=1065353216,h[n+760>>2]=0,h[n+764>>2]=0,h[n+720>>2]=0,h[n+724>>2]=0,h[n+552>>2]=7628,h[n+716>>2]=h[e+200>>2],i=h[e+196>>2],Jo(n+496|0),h[n+524>>2]=0,h[n+528>>2]=0,h[n+520>>2]=1065353216,h[n+532>>2]=0,h[n+536>>2]=0,h[n+540>>2]=0,h[n+512>>2]=1065353216,h[n+516>>2]=1065353216,h[n+496>>2]=12036,h[n+548>>2]=0,h[n+544>>2]=i,h[n+528>>2]=i,h[n+500>>2]=8,i=Cs(n+384|0),h[n+388>>2]=1,h[n+384>>2]=7216,o=h[t+12>>2],h[n+452>>2]=h[t+8>>2],h[n+456>>2]=o,o=h[t+4>>2],h[n+444>>2]=h[t>>2],h[n+448>>2]=o,o=h[t+20>>2],h[n+460>>2]=h[t+16>>2],h[n+464>>2]=o,o=h[t+28>>2],h[n+468>>2]=h[t+24>>2],h[n+472>>2]=o,o=h[t+36>>2],h[n+476>>2]=h[t+32>>2],h[n+480>>2]=o,o=h[t+44>>2],h[n+484>>2]=h[t+40>>2],h[n+488>>2]=o,a[n+356|0]=0,h[n+332>>2]=953267991,h[12+(t=n+8|0)>>2]=n+384,h[t+8>>2]=n+496,h[t+4>>2]=n+24,h[t>>2]=6924,pe(t,e+4|0,e+68|0,n+728|0,n+728|0,n+552|0)&&(s=g[n+716>>2],g[e+200>>2]>s&&(g[e+200>>2]=s)),ga(i),r[h[5254]](),z=n+800|0},r[360]=eo,r[361]=_r,r[362]=Wo,r[363]=Po,r[364]=yo,r[365]=yo,r[366]=$i,r[367]=function(e){var t=0,n=0;return h[(e|=0)>>2]=7748,m[e+8|0]&&(t=h[e+12>>2])&&(n=h[e+4>>2],r[h[h[n>>2]+16>>2]](n,t)),0|e},r[368]=function(e){var t=0,n=0;h[(e|=0)>>2]=7748,m[e+8|0]&&(t=h[e+12>>2])&&(n=h[e+4>>2],r[h[h[n>>2]+16>>2]](n,t)),Eo(e)},r[369]=function(e,t,n,i,o){t|=0,n|=0,i|=0,o|=0;var r,a=0,s=0,c=0,l=0;z=r=z-160|0,(a=h[12+(e|=0)>>2])&&(s=h[n+4>>2],c=h[t+4>>2],h[o+4>>2]=a,h[r+152>>2]=1566444395,t=h[t+12>>2],a=h[t+12>>2],h[r+32>>2]=h[t+8>>2],h[r+36>>2]=a,a=h[t+4>>2],h[r+24>>2]=h[t>>2],h[r+28>>2]=a,a=h[t+28>>2],h[r+48>>2]=h[t+24>>2],h[r+52>>2]=a,a=h[t+20>>2],h[r+40>>2]=h[t+16>>2],h[r+44>>2]=a,l=h[t+44>>2],h[(a=r- -64|0)>>2]=h[t+40>>2],h[a+4>>2]=l,a=h[t+36>>2],h[r+56>>2]=h[t+32>>2],h[r+60>>2]=a,a=h[t+60>>2],h[r+80>>2]=h[t+56>>2],h[r+84>>2]=a,a=h[t+52>>2],h[r+72>>2]=h[t+48>>2],h[r+76>>2]=a,t=h[n+12>>2],n=h[t+12>>2],h[r+96>>2]=h[t+8>>2],h[r+100>>2]=n,n=h[t+4>>2],h[r+88>>2]=h[t>>2],h[r+92>>2]=n,n=h[t+20>>2],h[r+104>>2]=h[t+16>>2],h[r+108>>2]=n,n=h[t+28>>2],h[r+112>>2]=h[t+24>>2],h[r+116>>2]=n,n=h[t+36>>2],h[r+120>>2]=h[t+32>>2],h[r+124>>2]=n,n=h[t+44>>2],h[r+128>>2]=h[t+40>>2],h[r+132>>2]=n,n=h[t+52>>2],h[r+136>>2]=h[t+48>>2],h[r+140>>2]=n,n=h[t+60>>2],h[r+144>>2]=h[t+56>>2],h[r+148>>2]=n,h[8+(t=r+8|0)>>2]=s,h[t+4>>2]=c,h[t>>2]=7696,$i(t,r+24|0,o,h[i+20>>2],0),m[e+8|0]&&(e=h[o+4>>2],h[e+844>>2]&&((0|(t=h[e+836>>2]))==(0|(n=h[h[o+8>>2]+8>>2]))?wo(e,t+4|0,h[h[o+12>>2]+8>>2]+4|0):wo(e,h[h[o+12>>2]+8>>2]+4|0,n+4|0)))),z=r+160|0},r[370]=aa,r[371]=Pa,r[372]=yo,r[373]=function(e,t,n){t|=0,n|=0,h[24+(e|=0)>>2]=n,h[e+16>>2]=t},r[374]=function(e,t,n){t|=0,n|=0,h[28+(e|=0)>>2]=n,h[e+20>>2]=t},r[375]=function(e,t,n,i){e|=0,t|=0,n|=0,i=x(i);var o,a=0,s=x(0),c=0,l=x(0),p=x(0),u=x(0),_=x(0),f=0,d=x(0),v=0,A=x(0),C=0,w=0,P=x(0),I=0,R=0,N=0,D=x(0),M=x(0),O=x(0),L=0,F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0);if(z=o=z-208|0,!(g[h[e+4>>2]+848>>2]<i)){P=g[n+8>>2],p=x(x(g[t+8>>2]*i)+P),D=g[n+4>>2],d=x(x(g[t+4>>2]*i)+D),M=g[n>>2],A=x(x(g[t>>2]*i)+M),c=h[e+4>>2],L=h[c+844>>2],(f=(0|(C=h[c+836>>2]))==(0|(N=h[h[e+8>>2]+8>>2])))?(s=x(A-g[C+52>>2]),l=x(d-g[C+56>>2]),u=x(p-g[C+60>>2]),_=x(x(x(s*g[C+12>>2])+x(l*g[C+28>>2]))+x(u*g[C+44>>2])),O=x(x(x(s*g[C+8>>2])+x(l*g[C+24>>2]))+x(u*g[C+40>>2])),s=x(x(x(s*g[C+4>>2])+x(l*g[C+20>>2]))+x(u*g[C+36>>2])),a=h[h[e+12>>2]+8>>2]):(a=h[h[e+12>>2]+8>>2],s=x(A-g[a+52>>2]),l=x(d-g[a+56>>2]),u=x(p-g[a+60>>2]),_=x(x(x(s*g[a+12>>2])+x(l*g[a+28>>2]))+x(u*g[a+44>>2])),O=x(x(x(s*g[a+8>>2])+x(l*g[a+24>>2]))+x(u*g[a+40>>2])),s=x(x(x(s*g[a+4>>2])+x(l*g[a+20>>2]))+x(u*g[a+36>>2])),a=N),F=g[a+20>>2],B=g[a+36>>2],U=g[a+40>>2],j=g[a+8>>2],k=g[a+24>>2],G=g[a+44>>2],H=g[a+60>>2],l=g[a+12>>2],u=g[a+52>>2],V=g[a+28>>2],W=g[a+56>>2],q=g[a+4>>2],h[o+28>>2]=0,Y=l,l=x(M-u),u=x(D-W),P=x(P-H),g[o+24>>2]=x(x(Y*l)+x(V*u))+x(G*P),g[o+20>>2]=x(x(l*j)+x(u*k))+x(P*U),h[o+12>>2]=0,g[o+8>>2]=_,g[o+4>>2]=O,g[o>>2]=s,g[o+16>>2]=x(x(l*q)+x(u*F))+x(P*B),a=h[t+12>>2],h[o+72>>2]=h[t+8>>2],h[o+76>>2]=a,a=h[t>>2],t=h[t+4>>2],h[o+92>>2]=0,h[o+96>>2]=0,h[o+124>>2]=0,h[o+128>>2]=0,h[o+132>>2]=0,h[o+136>>2]=0,h[o+140>>2]=0,h[o+144>>2]=0,h[o+148>>2]=0,h[o+152>>2]=0,h[o+156>>2]=0,h[o+160>>2]=0,h[o+164>>2]=0,g[o+52>>2]=d,g[o+56>>2]=p,h[o+60>>2]=0,h[o+64>>2]=a,h[o+68>>2]=t,h[o+84>>2]=0,h[o+88>>2]=0,g[o+80>>2]=i,h[o+116>>2]=0,h[o+120>>2]=0,g[o+48>>2]=A,t=h[n+12>>2],h[o+40>>2]=h[n+8>>2],h[o+44>>2]=t,t=h[n+4>>2],h[o+32>>2]=h[n>>2],h[o+36>>2]=t,n=function(e,t){var n,i=x(0),o=x(0),r=0,a=0,s=x(0),c=x(0),l=x(0),p=x(0);if((0|(n=h[e+844>>2]))<1)a=-1;else for(c=g[t+8>>2],l=g[t+4>>2],p=g[t>>2],o=g[e+848>>2],o=x(o*o),t=0,a=-1;r=y(t,208)+e|0,i=x(g[r+4>>2]-p),s=x(i*i),i=x(g[r+8>>2]-l),s=x(s+x(i*i)),i=x(g[r+12>>2]-c),o=(r=(i=x(s+x(i*i)))<o)?i:o,a=r?t:a,(0|n)!=(0|(t=t+1|0)););return a}(c,o),t=h[e+12>>2],a=h[t+8>>2],v=h[e+8>>2],c=h[v+8>>2],f?(h[o+100>>2]=h[e+16>>2],h[o+104>>2]=h[e+20>>2],I=h[e+24>>2],h[o+108>>2]=I,R=h[e+28>>2],h[o+112>>2]=R,f=h[t>>2],w=h[(f||t)+4>>2],h[o+204>>2]=w,t=h[v>>2],f=v=h[(t||v)+4>>2],t=a,a=c,c=o+200|0):(h[o+100>>2]=h[e+20>>2],h[o+104>>2]=h[e+16>>2],I=h[e+28>>2],h[o+108>>2]=I,R=h[e+24>>2],h[o+112>>2]=R,f=h[t>>2],f=h[(f||t)+4>>2],h[o+200>>2]=f,t=h[v>>2],w=v=h[(t||v)+4>>2],t=c,c=o+204|0),h[c>>2]=v,v=h[a+260>>2],i=g[a+240>>2],p=g[a+236>>2],d=g[a+232>>2],A=g[a+228>>2];e:if(!((c=h[f+4>>2]+-21|0)>>>0>10)){switch(c-1|0){case 9:if(!m[f+180|0])break e;v=h[(a=I<<2)+h[f+172>>2]>>2],i=g[a+h[f+152>>2]>>2],d=g[a+h[f+132>>2]>>2],A=g[a+h[f+92>>2]>>2],p=g[a+h[f+112>>2]>>2];break e;case 0:case 1:case 3:case 5:case 6:case 7:case 8:break e}a=h[a+192>>2],31!=h[a+4>>2]|!m[a+180|0]||(c=h[f+12>>2]<<2,v=h[c+h[a+172>>2]>>2],i=g[c+h[a+152>>2]>>2],d=g[c+h[a+132>>2]>>2],A=g[c+h[a+92>>2]>>2],p=g[c+h[a+112>>2]>>2])}a=h[t+260>>2],s=g[t+240>>2],l=g[t+236>>2],u=g[t+232>>2],_=g[t+228>>2];e:if(!((c=h[w+4>>2]+-21|0)>>>0>10)){switch(c-1|0){case 9:if(!m[w+180|0])break e;a=h[(t=R<<2)+h[w+172>>2]>>2],s=g[t+h[w+152>>2]>>2],u=g[t+h[w+132>>2]>>2],_=g[t+h[w+92>>2]>>2],l=g[t+h[w+112>>2]>>2];break e;case 0:case 1:case 3:case 5:case 6:case 7:case 8:break e}t=h[t+192>>2],31!=h[t+4>>2]|!m[t+180|0]||(c=h[w+12>>2]<<2,a=h[c+h[t+172>>2]>>2],s=g[c+h[t+152>>2]>>2],u=g[c+h[t+132>>2]>>2],_=g[c+h[t+92>>2]>>2],l=g[c+h[t+112>>2]>>2])}c=e+4|0,t=o;e:if((a=(0|v)>(0|a)?v:a)>>>0<=2){switch(a-1|0){default:g[o+96>>2]=x(d+u)*x(.5),g[o+84>>2]=x(A+_)*x(.5),g[o+88>>2]=S(x(E(x(x(p+l)*x(.5)),x(-10))),x(10)),i=x(x(i+s)*x(.5));break e;case 0:g[o+96>>2]=d<u?d:u,g[o+84>>2]=A<_?A:_,g[o+88>>2]=S(x(E(p<l?p:l,x(-10))),x(10)),i=i<s?i:s;break e;case 1:}g[o+96>>2]=d*u,g[o+84>>2]=A*_,g[o+88>>2]=S(x(E(x(p*l),x(-10))),x(10)),i=x(i*s)}else g[o+96>>2]=d>u?d:u,g[o+84>>2]=A>_?A:_,g[o+88>>2]=S(x(E(p>l?p:l,x(-10))),x(10)),i=i>s?i:s;g[t+92>>2]=S(x(E(i,x(-10))),x(10)),i=g[o+72>>2],x(b(i))>x(.7071067690849304)?(_=g[o+68>>2],p=x(x(i*i)+x(_*_)),s=x(x(1)/x(T(p))),p=x(p*s),l=g[o+64>>2],d=x(s*x(-i)),A=x(l*d),i=x(_*s),s=x(i*x(-l)),l=x(0)):(p=g[o+64>>2],s=g[o+68>>2],d=x(x(p*p)+x(s*s)),_=x(x(1)/x(T(d))),A=x(d*_),l=x(_*x(-s)),s=x(i*l),d=x(p*_),p=x(d*x(-i)),i=x(0)),g[o+192>>2]=A,g[o+188>>2]=s,g[o+176>>2]=i,g[o+172>>2]=d,g[o+184>>2]=p,g[o+168>>2]=l,t=h[c>>2],(0|n)>=0?(a=t=t+y(n,208)|0,i=g[t+144>>2],s=g[t+140>>2],_=g[t+136>>2],f=h[t+168>>2],16&m[o+128|0]&&(p=x(x(_*g[t+88>>2])+x(0)),!(x(x(s*s)+x(i*i))>x(p*p)))||(w=h[t+120>>2],qo(t+4|0,o,208),h[t+120>>2]=w,g[t+136>>2]=_,g[t+140>>2]=s,g[a+144>>2]=i),h[t+168>>2]=f):n=Se(t,o),(a=h[6037])&&(t=e+12|0,e=e+8|0,(8&m[h[h[t>>2]+8>>2]+204|0]||8&m[h[h[e>>2]+8>>2]+204|0])&&(v=4+(h[c>>2]+y(n,208)|0)|0,n=(0|C)!=(0|N),r[a](v,h[(n?t:e)>>2],h[o+100>>2],h[o+108>>2],h[(n?e:t)>>2],h[o+104>>2],h[o+112>>2]))),L||(e=h[5781])&&r[e](c)}z=o+208|0},r[376]=yo,r[377]=dl,r[378]=yo,r[379]=Wo,r[380]=Wo,r[381]=function(e,t,n,i){e|=0,t|=0,n|=0,i=x(i);var o=0;g[e+36>>2]>i&&(a[e+40|0]=1,o=h[t+4>>2],h[e+4>>2]=h[t>>2],h[e+8>>2]=o,o=h[t+12>>2],h[e+12>>2]=h[t+8>>2],h[e+16>>2]=o,t=h[n+4>>2],h[e+20>>2]=h[n>>2],h[e+24>>2]=t,t=h[n+12>>2],h[e+28>>2]=h[n+8>>2],h[e+32>>2]=t,g[e+36>>2]=i)},r[382]=yo,r[383]=Ji,r[384]=or,r[385]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0),R=x(0);z=o=z-32|0,A=g[t+24>>2],I=g[t+40>>2],y=g[t+36>>2],l=g[t+20>>2],_=g[t+8>>2],b=g[t+16>>2],m=g[t+4>>2],C=g[t+32>>2],d=g[t>>2],h[o+28>>2]=0,s=x(b-d),p=x(y-m),c=x(l-m),f=x(C-d),a=x(x(s*p)-x(c*f)),g[o+24>>2]=a,u=x(A-_),w=x(u*f),f=x(I-_),s=x(w-x(s*f)),g[o+20>>2]=s,p=x(x(c*f)-x(u*p)),g[o+16>>2]=p,v=g[e+4>>2],u=g[e+8>>2],S=g[e+12>>2],c=x(x(_*a)+x(x(d*p)+x(m*s))),f=x(x(x(x(p*v)+x(s*u))+x(a*S))-c),P=g[e+20>>2],E=g[e+24>>2],R=g[e+28>>2],c=x(x(x(x(p*P)+x(s*E))+x(a*R))-c),x(f*c)>=x(0)||1&(t=h[e+36>>2])&&f<=x(0)||(c=x(f/x(f-c)))<g[e+40>>2]&&(w=u,u=x(x(1)-c),E=x(x(E*c)+x(w*u)),l=x(l-E),v=x(x(P*c)+x(v*u)),d=x(d-v),m=x(m-E),b=x(b-v),u=x(x(R*c)+x(S*u)),A=x(A-u),_=x(_-u),P=x(x(a*a)+x(x(p*p)+x(s*s))),S=x(P*x(-9999999747378752e-20)),x(x(a*x(x(l*d)-x(m*b)))+x(x(p*x(x(m*A)-x(_*l)))+x(s*x(x(_*b)-x(A*d)))))>=S&&(y=x(y-E),C=x(C-v),v=x(a*x(x(y*b)-x(l*C))),w=l,l=x(I-u),x(v+x(x(p*x(x(w*l)-x(A*y)))+x(s*x(x(A*C)-x(l*b)))))>=S^1|x(x(a*x(x(m*C)-x(y*d)))+x(x(p*x(x(y*_)-x(l*m)))+x(s*x(x(l*d)-x(_*C)))))>=S^1||(l=a,a=x(x(1)/x(T(P))),_=x(l*a),g[o+24>>2]=_,s=x(s*a),g[o+20>>2]=s,a=x(p*a),g[o+16>>2]=a,2&t|f<=x(0)^1?g[e+40>>2]=r[h[h[e>>2]+12>>2]](e,o+16|0,c,n,i):(h[o+12>>2]=0,g[o+8>>2]=-_,g[o+4>>2]=-s,g[o>>2]=-a,g[e+40>>2]=r[h[h[e>>2]+12>>2]](e,o,c,n,i))))),z=o+32|0},r[386]=or,r[387]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,s,c=0,l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0);z=o=z-688|0,s=Cs(o+576|0),h[o+580>>2]=1,h[o+576>>2]=7216,c=h[t+12>>2],h[o+644>>2]=h[t+8>>2],h[o+648>>2]=c,c=h[t+4>>2],h[o+636>>2]=h[t>>2],h[o+640>>2]=c,c=h[t+28>>2],h[o+660>>2]=h[t+24>>2],h[o+664>>2]=c,c=h[t+20>>2],h[o+652>>2]=h[t+16>>2],h[o+656>>2]=c,c=h[t+44>>2],h[o+676>>2]=h[t+40>>2],h[o+680>>2]=c,c=h[t+36>>2],h[o+668>>2]=h[t+32>>2],h[o+672>>2]=c,h[o+624>>2]=h[e+204>>2],a[o+548|0]=0,h[o+524>>2]=953267991,h[o+208>>2]=4956,c=h[e+4>>2],h[20+(t=o+184|0)>>2]=0,h[t+16>>2]=o+576,h[t+12>>2]=c,h[t+8>>2]=o+208,h[t+4>>2]=o+216,h[t>>2]=7992,h[o+8>>2]=7628,h[o+172>>2]=1065353216,h[o+176>>2]=0,h[o+180>>2]=h[e+208>>2],Ji(c=t,e+8|0,e+72|0,t=e+136|0,t,o+8|0)&&(p=g[o+140>>2],u=g[o+144>>2],l=g[o+148>>2],(_=x(x(x(p*p)+x(u*u))+x(l*l)))>x(9999999747378752e-20)&&(f=g[o+172>>2])<g[e+200>>2]&&(m=l,l=x(x(1)/x(T(_))),g[o+148>>2]=m*l,g[o+144>>2]=u*l,g[o+140>>2]=p*l,x(r[h[h[e>>2]+12>>2]](e,o+140|0,o+156|0,f,n,i)))),ga(s),z=o+688|0},r[388]=ml,r[389]=function(e){Eo(ml(e|=0))},r[390]=Wi,r[391]=Xi,r[392]=hl,r[393]=function(e,t){e|=0,r[h[h[(t|=0)>>2]+32>>2]](t),Vi(e,t),r[h[h[t>>2]+36>>2]](t)},r[394]=yo,r[395]=function(e,t,n,i,o){e|=0,t|=0,n=x(n),i|=0,o|=0;var a,s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0);return z=a=z-48|0,h[a+44>>2]=o,h[a+40>>2]=i,p=g[e- -64>>2],u=g[e+60>>2],_=g[e+80>>2],f=g[e+72>>2],m=g[e+76>>2],d=g[e+96>>2],v=g[e+88>>2],A=g[e+92>>2],y=g[e+56>>2],s=g[t+8>>2],c=g[t>>2],l=g[t+4>>2],t=h[e+48>>2],h[a+28>>2]=0,g[a+24>>2]=x(x(c*v)+x(l*A))+x(s*d),g[a+20>>2]=x(x(c*f)+x(l*m))+x(s*_),g[a+32>>2]=n,h[a+8>>2]=t,g[a+16>>2]=x(x(y*c)+x(u*l))+x(p*s),h[a+12>>2]=a+40,e=h[e+44>>2],n=x(r[h[h[e>>2]+12>>2]](e,a+8|0,1)),z=a+48|0,x(n)},r[396]=Po,r[397]=yo,r[398]=Wo,r[399]=function(e,t){Yi(e|=0,h[36+(t|=0)>>2])},r[400]=function(e,t,n){e|=0,t|=0,n=x(n),r[h[h[e>>2]+12>>2]](e,t)},r[401]=Gi,r[402]=Gi,r[403]=yo,r[404]=function(e,t){return t|=0,e=h[24+(e|=0)>>2],0|r[h[h[e>>2]+8>>2]](e,t)},r[405]=function(e,t,n){e|=0,t|=0,n|=0;var i,o,a=0,s=x(0);return z=i=z-16|0,a=h[e+28>>2],h[i+12>>2]=a,h[i+8>>2]=a,(o=h[t+4>>2])?(h[o+4>>2]=a,h[o>>2]=a):h[t+4>>2]=i+8,a=h[e+24>>2],s=x(r[h[h[a>>2]+12>>2]](a,t,n)),h[e+4>>2]=h[h[e+24>>2]+4>>2],z=i+16|0,x(s)},r[406]=yo,r[407]=ki,r[408]=yo,r[409]=ki,r[410]=yo,r[411]=function(e,t){e|=0;var n,i,o=0;z=n=z+-64|0,i=h[36+(t|=0)>>2],t=h[h[e+24>>2]+28>>2]+y(i,80)|0,o=h[t+12>>2],h[n+8>>2]=h[t+8>>2],h[n+12>>2]=o,o=h[t+4>>2],h[n>>2]=h[t>>2],h[n+4>>2]=o,o=h[t+28>>2],h[n+24>>2]=h[t+24>>2],h[n+28>>2]=o,o=h[t+20>>2],h[n+16>>2]=h[t+16>>2],h[n+20>>2]=o,o=h[t+44>>2],h[n+40>>2]=h[t+40>>2],h[n+44>>2]=o,o=h[t+36>>2],h[n+32>>2]=h[t+32>>2],h[n+36>>2]=o,o=h[t+60>>2],h[n+56>>2]=h[t+56>>2],h[n+60>>2]=o,o=h[t+52>>2],h[n+48>>2]=h[t+48>>2],h[n+52>>2]=o,qi(e,i,n,h[t+64>>2]),z=n- -64|0},r[412]=yo,r[413]=function(e,t){return t|=0,e=h[16+(e|=0)>>2],0|r[h[h[e>>2]+8>>2]](e,t)},r[414]=function(e,t,n){e|=0,t|=0,n|=0;var i,o,a=x(0);return z=i=z-16|0,h[i+8>>2]=-1,h[i+12>>2]=h[e+20>>2],h[t+4>>2]||(h[t+4>>2]=i+8),o=h[e+16>>2],a=x(r[h[h[o>>2]+12>>2]](o,t,n)),h[e+4>>2]=h[h[e+16>>2]+4>>2],z=i+16|0,x(a)},r[415]=Po,r[416]=yo,r[417]=function(e,t){t|=0;var n,i=0,o=0,a=0;return z=n=z-32|0,i=h[216+(e|=0)>>2],g[i+4>>2]!=x(0)&&(o=1,t=h[t>>2],r[h[h[i>>2]+8>>2]](i,h[t+188>>2])&&(i=h[e+216>>2],a=h[t+192>>2],h[n+24>>2]=-1,h[n+28>>2]=-1,h[n+20>>2]=t+4,h[n+16>>2]=t,h[n+12>>2]=a,h[n+8>>2]=0,fl(e+68|0,e+132|0,n+8|0,i))),z=n+32|0,0|o},r[418]=yo,r[419]=function(e,t){e|=0,t|=0;var n,i=0,o=0,a=x(0),s=0,c=0;return z=n=z-32|0,i=h[e+184>>2],g[i+4>>2]!=x(0)&&(o=1,t=h[t>>2],r[h[h[i>>2]+8>>2]](i,h[t+188>>2])&&(a=g[e+188>>2],i=h[e+184>>2],s=h[e+192>>2],c=h[t+192>>2],h[n+24>>2]=-1,h[n+28>>2]=-1,h[n+20>>2]=t+4,h[n+16>>2]=t,h[n+12>>2]=c,h[n+8>>2]=0,_l(s,e+36|0,e+100|0,n+8|0,i,a))),z=n+32|0,0|o},r[420]=Po,r[421]=yo,r[422]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),P=x(0),I=x(0);z=n=z-96|0,o=g[e+76>>2],a=g[e+36>>2],p=g[e+32>>2],u=g[e+80>>2],m=g[e+52>>2],d=g[e+44>>2],v=g[e+48>>2],_=g[e+84>>2],f=g[e+68>>2],S=g[e+60>>2],E=g[e- -64>>2],w=g[e+28>>2],s=g[t+8>>2],c=g[t>>2],l=g[t+4>>2],h[n+92>>2]=0,y=x(_+x(x(x(c*S)+x(l*E))+x(s*f))),g[n+88>>2]=y,b=x(u+x(x(x(c*d)+x(l*v))+x(s*m))),g[n+84>>2]=b,C=x(o+x(x(x(c*w)+x(l*p))+x(s*a))),g[n+80>>2]=C,s=g[t+20>>2],c=g[t+24>>2],l=g[t+16>>2],h[n+76>>2]=0,P=x(_+x(x(x(S*l)+x(E*s))+x(f*c))),g[n+72>>2]=P,I=x(u+x(x(x(d*l)+x(v*s))+x(m*c))),g[n+68>>2]=I,A=x(o+x(x(x(w*l)+x(p*s))+x(a*c))),g[n+64>>2]=A,s=g[t+36>>2],c=g[t+40>>2],l=g[t+32>>2],h[n+60>>2]=0,_=x(_+x(x(x(S*l)+x(E*s))+x(f*c))),g[n+56>>2]=_,u=x(u+x(x(x(d*l)+x(v*s))+x(m*c))),g[n+52>>2]=u,o=x(o+x(x(x(w*l)+x(p*s))+x(a*c))),g[n+48>>2]=o,h[n+44>>2]=0,m=x(x(x(y+P)+_)*x(.3333333432674408)),g[n+40>>2]=m,d=x(x(x(b+I)+u)*x(.3333333432674408)),g[n+36>>2]=d,v=x(x(x(C+A)+o)*x(.3333333432674408)),g[n+32>>2]=v,t=h[e+8>>2],16384&r[h[h[t>>2]+56>>2]](t)&&(a=g[n+80>>2],h[n+24>>2]=0,h[n+28>>2]=0,h[n+16>>2]=1065353216,h[n+20>>2]=1065353216,t=h[e+8>>2],h[n+12>>2]=0,p=x(A-a),u=x(u-b),f=x(I-b),a=x(o-a),C=o=x(x(p*u)-x(f*a)),A=x(o*o),_=x(_-y),o=x(f*_),f=x(P-y),o=x(o-x(f*u)),a=x(x(f*a)-x(p*_)),p=x(x(1)/x(T(x(A+x(x(o*o)+x(a*a)))))),g[n+8>>2]=x(C*p)+m,g[n+4>>2]=d+x(a*p),g[n>>2]=v+x(o*p),r[h[h[t>>2]+16>>2]](t,n+32|0,n,n+16|0)),i=h[e+8>>2],t=e+12|0,r[h[h[i>>2]+16>>2]](i,n+80|0,n- -64|0,t),i=h[e+8>>2],r[h[h[i>>2]+16>>2]](i,n- -64|0,n+48|0,t),e=h[e+8>>2],r[h[h[e>>2]+16>>2]](e,n+48|0,n+80|0,t),z=n+96|0},r[423]=function(e,t,n,i){t|=0,n|=0,i|=0,r[h[h[(e|=0)>>2]+8>>2]](e,t,n,i)},r[424]=function(e){return(e|=0)-4|0},r[425]=function(e){Eo((e|=0)-4|0)},r[426]=function(e,t,n,i){t|=0,n|=0,i|=0,r[h[h[(e=(e|=0)-4|0)>>2]+8>>2]](e,t,n,i)},r[427]=yo,r[428]=ji,r[429]=function(e){var t=0,n=0;return h[(e|=0)>>2]=10404,m[e+8|0]&&(t=h[e+12>>2])&&(n=h[e+4>>2],r[h[h[n>>2]+16>>2]](n,t)),0|e},r[430]=function(e){var t=0,n=0;h[(e|=0)>>2]=10404,m[e+8|0]&&(t=h[e+12>>2])&&(n=h[e+4>>2],r[h[h[n>>2]+16>>2]](n,t)),Eo(e)},r[431]=function(e,t,n,i,o){t|=0,n|=0,i|=0,o|=0;var r,a=0,s=0,c=0,l=0;z=r=z-160|0,(a=h[12+(e|=0)>>2])&&(s=m[e+16|0],l=h[(c=s?t:n)+4>>2],s=h[(t=s?n:t)+4>>2],h[o+4>>2]=a,g[12+(n=r+144|0)>>2]=g[a+848>>2]+g[o+32>>2],h[n+8>>2]=l,h[n+4>>2]=s,h[n>>2]=10344,h[r+136>>2]=1566444395,t=h[t+12>>2],a=h[t+12>>2],h[r+16>>2]=h[t+8>>2],h[r+20>>2]=a,a=h[t+4>>2],h[r+8>>2]=h[t>>2],h[r+12>>2]=a,a=h[t+28>>2],h[r+32>>2]=h[t+24>>2],h[r+36>>2]=a,a=h[t+20>>2],h[r+24>>2]=h[t+16>>2],h[r+28>>2]=a,a=h[t+44>>2],h[r+48>>2]=h[t+40>>2],h[r+52>>2]=a,a=h[t+36>>2],h[r+40>>2]=h[t+32>>2],h[r+44>>2]=a,s=h[t+60>>2],h[(a=r- -64|0)>>2]=h[t+56>>2],h[a+4>>2]=s,a=h[t+52>>2],h[r+56>>2]=h[t+48>>2],h[r+60>>2]=a,t=h[c+12>>2],a=h[t+12>>2],h[r+80>>2]=h[t+8>>2],h[r+84>>2]=a,a=h[t+4>>2],h[r+72>>2]=h[t>>2],h[r+76>>2]=a,a=h[t+20>>2],h[r+88>>2]=h[t+16>>2],h[r+92>>2]=a,a=h[t+28>>2],h[r+96>>2]=h[t+24>>2],h[r+100>>2]=a,a=h[t+36>>2],h[r+104>>2]=h[t+32>>2],h[r+108>>2]=a,a=h[t+44>>2],h[r+112>>2]=h[t+40>>2],h[r+116>>2]=a,a=h[t+52>>2],h[r+120>>2]=h[t+48>>2],h[r+124>>2]=a,a=h[t+60>>2],h[r+128>>2]=h[t+56>>2],h[r+132>>2]=a,ji(n,r+8|0,o,h[i+20>>2],m[e+16|0]),m[e+8|0]&&(e=h[o+4>>2],h[e+844>>2]&&((0|(t=h[e+836>>2]))==(0|(n=h[h[o+8>>2]+8>>2]))?wo(e,t+4|0,h[h[o+12>>2]+8>>2]+4|0):wo(e,h[h[o+12>>2]+8>>2]+4|0,n+4|0)))),z=r+160|0},r[432]=aa,r[433]=Pa,r[434]=Po,r[435]=yo,r[436]=function(e,t,n,i){var o,s;return e|=0,n|=0,i|=0,n=h[(t|=0)>>2],n=0|r[h[h[n>>2]+56>>2]](n,72),i=h[t+4>>2],o=h[e+12>>2],s=h[e+16>>2],e=h[e+8>>2],h[n>>2]=17096,h[n+4>>2]=h[t>>2],h[n>>2]=5592,a[n+28|0]=1,h[n+8>>2]=e,h[n>>2]=10504,h[n+24>>2]=0,a[n+48|0]=1,h[n+16>>2]=0,h[n+20>>2]=0,h[n+44>>2]=0,h[n+64>>2]=o,h[n+68>>2]=s,a[n+60|0]=0,h[n+56>>2]=i,a[n+52|0]=0,h[n+36>>2]=0,h[n+40>>2]=0,0|n},r[437]=Bi,r[438]=function(e){Eo(Bi(e|=0))},r[439]=function(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s,c=0,l=0,p=x(0),u=x(0),_=0,f=0,d=x(0),v=x(0),A=0,C=0,E=0,w=0,P=x(0),I=0,R=x(0),N=x(0),D=x(0),M=0,O=0,L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=0,G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0),re=0,ae=x(0),se=x(0);z=s=z-928|0,(c=h[e+56>>2])||(c=h[e+4>>2],c=0|r[h[h[c>>2]+12>>2]](c,h[t+8>>2],h[n+8>>2]),a[e+52|0]=1,h[e+56>>2]=c),h[o+4>>2]=c,l=h[n+4>>2];e:{t:if(E=h[t+4>>2],!((_=h[E+4>>2]+-8|0)>>>0>2)){switch(_-1|0){case 1:if((_=h[l+4>>2]+-8|0)>>>0>2)break t;switch(_-1|0){case 1:if(i=E+32|0,e=h[E+56>>2],p=g[i+(e<<2)>>2],v=g[i+((e+2|0)%3<<2)>>2],i=h[l+56>>2],l=l+32|0,u=g[c+848>>2],(p=pl(s+432|0,s+8|0,p,v,g[(i<<2)+l>>2],g[l+((i+2|0)%3<<2)>>2],e,i,h[t+12>>2],h[n+12>>2],u))<u&&r[h[h[o>>2]+16>>2]](o,s+432|0,s+8|0,p),e=h[o+4>>2],!h[e+844>>2])break e;if((0|(t=h[e+836>>2]))!=(0|(n=h[h[o+8>>2]+8>>2]))){wo(e,h[h[o+12>>2]+8>>2]+4|0,n+4|0);break e}wo(e,t+4|0,h[h[o+12>>2]+8>>2]+4|0);break e;case 0:break t}if(i=E+32|0,e=h[E+56>>2],u=g[c+848>>2],(p=pl(s+432|0,s+8|0,g[i+(e<<2)>>2],g[i+((e+2|0)%3<<2)>>2],x(0),x(g[l+32>>2]*g[l+16>>2]),e,1,h[t+12>>2],h[n+12>>2],u))<u&&r[h[h[o>>2]+16>>2]](o,s+432|0,s+8|0,p),e=h[o+4>>2],!h[e+844>>2])break e;if((0|(t=h[e+836>>2]))!=(0|(n=h[h[o+8>>2]+8>>2]))){wo(e,h[h[o+12>>2]+8>>2]+4|0,n+4|0);break e}wo(e,t+4|0,h[h[o+12>>2]+8>>2]+4|0);break e;case 0:break t}if(10==h[l+4>>2]){if(i=l+32|0,e=h[l+56>>2],u=g[c+848>>2],(p=pl(s+432|0,s+8|0,x(0),x(g[E+32>>2]*g[E+16>>2]),g[i+(e<<2)>>2],g[i+((e+2|0)%3<<2)>>2],1,e,h[t+12>>2],h[n+12>>2],u))<u&&r[h[h[o>>2]+16>>2]](o,s+432|0,s+8|0,p),e=h[o+4>>2],!h[e+844>>2])break e;if((0|(t=h[e+836>>2]))!=(0|(n=h[h[o+8>>2]+8>>2]))){wo(e,h[h[o+12>>2]+8>>2]+4|0,n+4|0);break e}wo(e,t+4|0,h[h[o+12>>2]+8>>2]+4|0);break e}}if(h[s+920>>2]=1566444395,a[s+764|0]=0,h[s+740>>2]=953267991,M=js(s+352|0,E,l,s+432|0,h[e+8>>2]),h[M+32>>2]=l,h[M+28>>2]=E,u=x(x(x(x(r[h[h[E>>2]+48>>2]](E))+x(r[h[h[l>>2]+48>>2]](l)))+g[h[e+56>>2]+848>>2])+g[o+32>>2]),g[s+920>>2]=u*u,c=h[t+12>>2],_=h[c+12>>2],h[s+800>>2]=h[c+8>>2],h[s+804>>2]=_,_=h[c+4>>2],h[s+792>>2]=h[c>>2],h[s+796>>2]=_,_=h[c+28>>2],h[s+816>>2]=h[c+24>>2],h[s+820>>2]=_,_=h[c+20>>2],h[s+808>>2]=h[c+16>>2],h[s+812>>2]=_,_=h[c+44>>2],h[s+832>>2]=h[c+40>>2],h[s+836>>2]=_,_=h[c+36>>2],h[s+824>>2]=h[c+32>>2],h[s+828>>2]=_,_=h[c+60>>2],h[s+848>>2]=h[c+56>>2],h[s+852>>2]=_,_=h[c+52>>2],h[s+840>>2]=h[c+48>>2],h[s+844>>2]=_,c=h[n+12>>2],_=h[c+12>>2],h[s+864>>2]=h[c+8>>2],h[s+868>>2]=_,_=h[c+4>>2],h[s+856>>2]=h[c>>2],h[s+860>>2]=_,A=h[c+20>>2],h[(_=s+872|0)>>2]=h[c+16>>2],h[_+4>>2]=A,w=h[c+28>>2],h[s+880>>2]=h[c+24>>2],h[s+884>>2]=w,C=h[c+36>>2],h[(A=w=s+888|0)>>2]=h[c+32>>2],h[A+4>>2]=C,A=h[c+44>>2],h[s+896>>2]=h[c+40>>2],h[s+900>>2]=A,I=h[c+52>>2],h[(A=s+904|0)>>2]=h[c+48>>2],h[A+4>>2]=I,C=h[c+60>>2],h[s+912>>2]=h[c+56>>2],h[s+916>>2]=C,!((0|(C=h[E+4>>2]))>6)&&!((0|(c=h[l+4>>2]))>6)&&(h[s+344>>2]=10624,u=x(0),C&&(u=x(r[h[h[E>>2]+48>>2]](E)),c=h[l+4>>2]),c&&(p=x(r[h[h[l>>2]+48>>2]](l))),a[s+44|0]=0,g[s+36>>2]=p,g[s+32>>2]=u,h[s+12>>2]=o,h[s+8>>2]=10800,h[E+56>>2])){if(h[l+56>>2]){p=g[h[e+56>>2]+848>>2];t:{n:{if(m[i+24|0]){if(u=x(-1.0000000150474662e30),function(e,t,n,i,o,a){var s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=0,C=x(0),S=0,E=x(0),w=x(0),P=0,I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=0,B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=0,K=x(0),$=x(0),ee=x(0),te=x(0),ne=x(0),ie=x(0),oe=x(0);z=s=z-112|0,h[6041]=h[6041]+1,U=g[n+52>>2],p=g[n+20>>2],v=g[n+24>>2],j=g[i+52>>2],C=g[i+20>>2],E=g[i+24>>2],k=g[n+56>>2],l=g[n+36>>2],c=g[e+68>>2],f=g[n+40>>2],w=g[e+72>>2],D=g[i+56>>2],u=g[i+36>>2],M=g[t+68>>2],d=g[i+40>>2],O=g[t+72>>2],G=g[n+48>>2],L=g[n+8>>2],H=g[n>>2],V=g[n+4>>2],Q=g[i+48>>2],Z=g[i+8>>2],W=g[i>>2],q=g[i+4>>2],I=g[n+16>>2],Y=g[i+16>>2],R=g[n+32>>2],N=g[e+64>>2],X=g[i+32>>2],_=g[t+64>>2],h[s+28>>2]=0,k=x(x(k+x(x(x(N*R)+x(c*l))+x(w*f)))-x(D+x(x(x(_*X)+x(M*u))+x(O*d)))),g[s+24>>2]=k,U=x(x(U+x(x(x(N*I)+x(c*p))+x(w*v)))-x(j+x(x(x(_*Y)+x(M*C))+x(O*E)))),g[s+20>>2]=U,j=x(x(G+x(x(x(N*H)+x(c*V))+x(w*L)))-x(Q+x(x(x(_*W)+x(M*q))+x(O*Z)))),g[s+16>>2]=j,c=x(34028234663852886e22);i:{o:{r:{a:{s:{c:if(!((0|(F=h[e+28>>2]))<1))for(;;){if(S=h[e+36>>2]+y(A,36)|0,w=g[S+28>>2],M=g[S+24>>2],O=g[S+20>>2],N=g[n>>2],_=g[n+4>>2],h[s+12>>2]=0,l=x(x(x(O*R)+x(M*l))+x(w*f)),g[s+8>>2]=l,p=x(x(x(O*I)+x(M*p))+x(w*v)),g[s+4>>2]=p,v=x(x(x(O*N)+x(M*_))+x(w*L)),g[s>>2]=v,x(x(x(v*j)+x(p*U))+x(l*k))<x(0)&&(g[s+8>>2]=-l,g[s+4>>2]=-p,g[s>>2]=-v),h[6039]=h[6039]+1,!m[21008]||ul(n,i,s+16|0,s,e,t,c)){if(P=0,h[6040]=h[6040]+1,ia(e,n,s,s+108|0,s+104|0,s+80|0,s- -64|0),ia(t,i,s,s+100|0,s+96|0,s+48|0,s+32|0),(p=g[s+104>>2])<(v=g[s+100>>2])||(l=g[s+96>>2])<(f=g[s+108>>2])||(C=(C=x(p-v))<(p=x(l-f))?C:p,P=1),!P)break s;C<c&&(S=h[s+4>>2],h[o>>2]=h[s>>2],h[o+4>>2]=S,S=h[s+12>>2],h[o+8>>2]=h[s+8>>2],h[o+12>>2]=S,c=C)}if((0|F)==(0|(A=A+1|0)))break c;f=g[n+40>>2],l=g[n+36>>2],R=g[n+32>>2],v=g[n+24>>2],p=g[n+20>>2],I=g[n+16>>2],L=g[n+8>>2]}if((0|(F=h[t+28>>2]))>=1)for(A=0;;){if(S=h[t+36>>2]+y(A,36)|0,p=g[S+28>>2],v=g[S+20>>2],l=g[S+24>>2],M=g[i+8>>2],O=g[i>>2],L=g[i+4>>2],w=g[i+24>>2],I=g[i+16>>2],R=g[i+20>>2],f=g[i+40>>2],N=g[i+32>>2],_=g[i+36>>2],h[s+12>>2]=0,f=x(x(x(v*N)+x(l*_))+x(p*f)),g[s+8>>2]=f,w=x(x(x(v*I)+x(l*R))+x(p*w)),g[s+4>>2]=w,p=x(x(x(v*O)+x(l*L))+x(p*M)),g[s>>2]=p,x(x(x(p*j)+x(w*U))+x(f*k))<x(0)&&(g[s+8>>2]=-f,g[s+4>>2]=-w,g[s>>2]=-p),h[6039]=h[6039]+1,!m[21008]||ul(n,i,s+16|0,s,e,t,c)){if(P=0,h[6040]=h[6040]+1,ia(e,n,s,s+108|0,s+104|0,s+80|0,s- -64|0),ia(t,i,s,s+100|0,s+96|0,s+48|0,s+32|0),(p=g[s+104>>2])<(v=g[s+100>>2])||(l=g[s+96>>2])<(f=g[s+108>>2])||(C=(C=x(p-v))<(p=x(l-f))?C:p,P=1),!P)break s;C<c&&(S=h[s+4>>2],h[o>>2]=h[s>>2],h[o+4>>2]=S,S=h[s+12>>2],h[o+8>>2]=h[s+8>>2],h[o+12>>2]=S,c=C)}if((0|F)==(0|(A=A+1|0)))break}if((0|(A=h[e+48>>2]))>=1)break a;F=-1,C=x(0),p=x(0),v=x(0),l=x(0),f=x(0),w=x(0),J=-1;break r}i=0;break i}for(P=h[t+48>>2],J=-1,S=0,F=-1,w=x(0),f=x(0),l=x(0),v=x(0),p=x(0),C=x(0);;){if((0|P)>=1){for(A=h[e+56>>2]+(S<<4)|0,L=g[A>>2],I=g[A+4>>2],R=g[A+8>>2],M=x(x(x(L*g[n+32>>2])+x(I*g[n+36>>2]))+x(R*g[n+40>>2])),O=x(x(x(L*g[n+16>>2])+x(I*g[n+20>>2]))+x(R*g[n+24>>2])),L=x(x(x(L*g[n>>2])+x(I*g[n+4>>2]))+x(R*g[n+8>>2])),A=0;;){if(P=h[t+56>>2]+(A<<4)|0,N=g[P+8>>2],E=g[P>>2],D=g[P+4>>2],B=g[i+40>>2],ee=g[i+32>>2],te=g[i+36>>2],I=g[i+24>>2],R=g[i+16>>2],_=g[i+20>>2],ne=g[i+8>>2],ie=g[i>>2],oe=g[i+4>>2],h[s+12>>2]=0,I=x(x(x(E*R)+x(D*_))+x(N*I)),R=x(x(x(E*ie)+x(D*oe))+x(N*ne)),_=x(x(L*I)-x(O*R)),g[s+8>>2]=_,N=x(x(x(E*ee)+x(D*te))+x(N*B)),E=x(x(M*R)-x(L*N)),g[s+4>>2]=E,D=x(x(O*N)-x(M*I)),g[s>>2]=D,(!(+x(b(_))>1e-6^1)||+x(b(D))>1e-6|+x(b(E))>1e-6)&&(B=_,_=x(x(1)/x(T(x(x(_*_)+x(x(D*D)+x(E*E)))))),B=x(B*_),g[s+8>>2]=B,E=x(E*_),g[s+4>>2]=E,_=x(D*_),g[s>>2]=_,x(x(x(_*j)+x(E*U))+x(k*B))<x(0)&&(g[s+8>>2]=-B,g[s+4>>2]=-E,g[s>>2]=-_),h[6039]=h[6039]+1,!m[21008]||ul(n,i,s+16|0,s,e,t,c))){if(P=0,h[6040]=h[6040]+1,ia(e,n,s,s+108|0,s+104|0,s+80|0,s- -64|0),ia(t,i,s,s+100|0,s+96|0,s+48|0,s+32|0),(_=g[s+104>>2])<(E=g[s+100>>2])||(D=g[s+96>>2])<(B=g[s+108>>2])||((u=x(_-E))<(_=x(D-B))?(P=1,V=g[s+56>>2],Q=g[s+52>>2],Z=g[s+48>>2],d=g[s+72>>2],G=g[s+68>>2],H=g[s+64>>2]):(P=1,V=g[s+40>>2],Q=g[s+36>>2],Z=g[s+32>>2],d=g[s+88>>2],G=g[s+84>>2],H=g[s+80>>2],u=_)),!P)break o;u<c&&(F=h[s+4>>2],h[o>>2]=h[s>>2],h[o+4>>2]=F,F=h[s+12>>2],h[o+8>>2]=h[s+8>>2],h[o+12>>2]=F,C=Z,p=Q,v=V,l=H,f=G,w=d,W=R,q=I,Y=N,X=L,K=O,$=M,F=S,J=A,c=u)}if(!((0|(A=A+1|0))<(0|(P=h[t+48>>2]))))break}A=h[e+48>>2]}if(!((0|(S=S+1|0))<(0|A)))break}}if(!((F|J)<0)){G=x(C-l),H=x(p-f),V=x(v-w),d=x(x(x(G*W)+x(H*q))+x(V*Y)),f=x(x(x(G*X)+x(H*K))+x(V*$)),c=x(0),l=x(x(x(W*X)+x(q*K))+x(Y*$)),(u=x(x(1)-x(l*l)))!=x(0)&&(c=x(-1.0000000150474662e30),(u=x(x(f-x(d*l))/u))<x(-1.0000000150474662e30)||(c=u)>x(1.0000000150474662e30)&&(c=x(1.0000000150474662e30)));r:if((d=x(x(l*c)-d))<x(-1.0000000150474662e30)){if((u=x(f+x(l*x(-1.0000000150474662e30))))<x(-1.0000000150474662e30)){d=x(-1.0000000150474662e30),c=x(-1.0000000150474662e30);break r}if(c=x(1.0000000150474662e30),!(u>x(1.0000000150474662e30))){d=x(-1.0000000150474662e30),c=u;break r}d=x(-1.0000000150474662e30)}else d>x(1.0000000150474662e30)&&(c=x(-1.0000000150474662e30),d=x(1.0000000150474662e30),(u=x(f+x(l*x(1.0000000150474662e30))))<x(-1.0000000150474662e30)||(c=u)>x(1.0000000150474662e30)&&(c=x(1.0000000150474662e30)));h[s+92>>2]=0,f=x(Y*d),u=x(f+x(V-x($*c))),g[s+88>>2]=u,q=x(q*d),l=x(q+x(H-x(K*c))),g[s+84>>2]=l,W=x(W*d),c=x(W+x(G-x(X*c))),g[s+80>>2]=c,(d=x(x(u*u)+x(x(c*c)+x(l*l))))>x(1.1920928955078125e-7)&&(_=u,Y=x(T(d)),u=x(x(1)/Y),d=x(_*u),g[s+88>>2]=d,l=x(l*u),g[s+84>>2]=l,c=x(c*u),g[s+80>>2]=c,x(x(x(c*j)+x(l*U))+x(d*k))<x(0)&&(g[s+88>>2]=-d,g[s+84>>2]=-l,g[s+80>>2]=-c),h[s+76>>2]=0,g[s+72>>2]=v+f,g[s+68>>2]=p+q,g[s+64>>2]=C+W,r[h[h[a>>2]+16>>2]](a,s+80|0,s- -64|0,x(-Y)))}if(i=1,c=g[o>>2],C=g[o+4>>2],u=g[o+8>>2],!(x(x(x(j*c)+x(U*C))+x(k*u))<x(0)))break i;h[o+12>>2]=0,g[o+8>>2]=-u,g[o+4>>2]=-C,g[o>>2]=-c;break i}i=0}return z=s+112|0,i}(h[E+56>>2],h[l+56>>2],h[t+12>>2],h[n+12>>2],s+248|0,o))break n;break t}if(lr(M,s+792|0,s+8|0,h[i+20>>2]),i=h[s+28>>2],h[s+256>>2]=h[s+24>>2],h[s+260>>2]=i,i=h[s+20>>2],h[s+248>>2]=h[s+16>>2],h[s+252>>2]=i,u=g[s+40>>2],!m[s+44|0]|u<x(0)^1)break t}if((0|(c=h[e+16>>2]))<=-1)for(h[e+20>>2]<=-1&&((i=h[e+24>>2])&&(m[e+28|0]&&i&&(h[6658]=h[6658]+1,r[h[5256]](i)),h[e+24>>2]=0),h[e+20>>2]=0,h[e+24>>2]=0,a[e+28|0]=1);M=h[s+332>>2],i=h[e+24>>2]+(c<<4)|0,h[(_=i)>>2]=h[s+328>>2],h[_+4>>2]=M,_=h[s+340>>2],h[i+8>>2]=h[s+336>>2],h[i+12>>2]=_,_=(i=c+1|0)>>>0>=c>>>0,c=i,_;);h[e+16>>2]=0,function(e,t,n,i,o,s,c,l,p,u){var _=0,f=x(0),d=x(0),v=0,A=0,b=x(0),C=x(0),S=0,E=0,w=0,P=x(0),I=0,R=0,N=0,D=x(0),M=x(0),O=0,L=0,F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0);if(z=A=z-32|0,f=g[e+8>>2],d=g[e>>2],b=g[e+4>>2],h[A+28>>2]=h[e+12>>2],C=f,f=x(x(1)/x(T(x(x(x(d*d)+x(b*b))+x(f*f))))),P=x(C*f),g[A+24>>2]=P,D=x(b*f),g[A+20>>2]=D,M=x(d*f),g[A+16>>2]=M,I=-1,(0|(v=h[n+28>>2]))>=1)for(F=g[o+40>>2],B=g[o+36>>2],U=g[o+24>>2],j=g[o+20>>2],E=h[n+36>>2],k=g[o+32>>2],G=g[o+16>>2],H=g[o+8>>2],V=g[o+4>>2],W=g[o>>2],e=0,f=x(-34028234663852886e22);_=E+y(e,36)|0,d=g[_+20>>2],b=g[_+24>>2],C=g[_+28>>2],f=(_=(d=x(x(x(M*x(x(x(d*W)+x(b*V))+x(C*H)))+x(D*x(x(x(d*G)+x(b*j))+x(C*U))))+x(P*x(x(x(d*k)+x(b*B))+x(C*F)))))>f)?d:f,I=_?e:I,(0|(e=e+1|0))<(0|v););if((0|(e=h[l+4>>2]))<=-1)for(h[l+8>>2]<=-1&&((_=h[l+12>>2])&&(m[l+16|0]&&_&&(h[6658]=h[6658]+1,r[h[5256]](_)),h[l+12>>2]=0),a[l+16|0]=1,h[l+8>>2]=0,h[l+12>>2]=0);v=h[A+4>>2],_=h[l+12>>2]+(e<<4)|0,h[_>>2]=h[A>>2],h[_+4>>2]=v,v=h[A+12>>2],h[_+8>>2]=h[A+8>>2],h[_+12>>2]=v,v=(_=e+1|0)>>>0>=e>>>0,e=_,v;);if(h[l+4>>2]=0,O=h[n+36>>2]+y(I,36)|0,(0|(L=h[O+4>>2]))>=1)for(_=0,v=0;;){if(e=h[n+16>>2]+(h[h[O+12>>2]+(v<<2)>>2]<<4)|0,f=g[e>>2],d=g[e+4>>2],b=g[e+8>>2],C=x(x(x(x(f*g[o+32>>2])+x(d*g[o+36>>2]))+x(b*g[o+40>>2]))+g[o+56>>2]),P=x(x(x(x(f*g[o+16>>2])+x(d*g[o+20>>2]))+x(b*g[o+24>>2]))+g[o+52>>2]),f=x(x(x(x(f*g[o>>2])+x(d*g[o+4>>2]))+x(b*g[o+8>>2]))+g[o+48>>2]),h[l+8>>2]==(0|_)&&!((0|_)>=(0|(E=_?_<<1:1)))){if(e=0,R=0,E&&(h[6657]=h[6657]+1,R=0|r[h[5255]](E<<4,16),_=h[l+4>>2]),(0|_)>=1)for(;w=(S=e<<4)+R|0,S=S+h[l+12>>2]|0,N=h[S+4>>2],h[w>>2]=h[S>>2],h[w+4>>2]=N,N=h[S+12>>2],h[w+8>>2]=h[S+8>>2],h[w+12>>2]=N,(0|_)!=(0|(e=e+1|0)););(e=h[l+12>>2])&&(m[l+16|0]&&e&&(h[6658]=h[6658]+1,r[h[5256]](e)),h[l+12>>2]=0),h[l+12>>2]=R,a[l+16|0]=1,h[l+8>>2]=E,_=h[l+4>>2]}if(e=h[l+12>>2]+(_<<4)|0,h[e+12>>2]=0,g[e+8>>2]=C,g[e+4>>2]=P,g[e>>2]=f,_=h[l+4>>2]+1|0,h[l+4>>2]=_,(0|L)==(0|(v=v+1|0)))break}(0|I)>-1&&Ui(A+16|0,t,i,l,p,s,c,u),z=A+32|0}(s+248|0,h[E+56>>2],h[l+56>>2],h[t+12>>2],h[n+12>>2],x(u-p),p,e+12|0,e+32|0,o)}if(!m[e+52|0])break e;if(e=h[o+4>>2],!h[e+844>>2])break e;if((0|(t=h[e+836>>2]))!=(0|(n=h[h[o+8>>2]+8>>2]))){wo(e,h[h[o+12>>2]+8>>2]+4|0,n+4|0);break e}wo(e,t+4|0,h[h[o+12>>2]+8>>2]+4|0);break e}if(1==h[l+4>>2]){if(c=0,h[s+260>>2]=0,h[s+252>>2]=0,h[s+256>>2]=0,a[s+264|0]=1,u=g[l+60>>2],_=h[n+12>>2],p=g[l- -64>>2],d=g[l+68>>2],v=x(x(x(u*g[_+32>>2])+x(p*g[_+36>>2]))+x(d*g[_+40>>2])),R=g[_+56>>2],U=x(x(x(u*g[_+16>>2])+x(p*g[_+20>>2]))+x(d*g[_+24>>2])),j=g[_+52>>2],u=x(x(x(u*g[_>>2])+x(p*g[_+4>>2]))+x(d*g[_+8>>2])),p=g[_+48>>2],h[6657]=h[6657]+1,_=0|r[h[5255]](16,16),(0|(C=h[s+252>>2]))>=1)for(;A=(w=c<<4)+_|0,w=w+h[s+260>>2]|0,O=h[w+4>>2],h[A>>2]=h[w>>2],h[A+4>>2]=O,I=h[w+12>>2],h[A+8>>2]=h[w+8>>2],h[A+12>>2]=I,(0|C)!=(0|(c=c+1|0)););if((c=h[s+260>>2])&&(m[s+264|0]&&c&&(h[6658]=h[6658]+1,r[h[5256]](c)),h[s+260>>2]=0),a[s+264|0]=1,h[s+256>>2]=1,c=h[s+252>>2],h[s+260>>2]=_,h[12+(c=_+(c<<4)|0)>>2]=0,g[c+8>>2]=v+R,g[c+4>>2]=U+j,g[c>>2]=u+p,_=h[s+252>>2]+1|0,h[s+252>>2]=_,u=g[l+76>>2],c=h[n+12>>2],p=g[l+80>>2],d=g[l+84>>2],v=x(x(x(x(u*g[c>>2])+x(p*g[c+4>>2]))+x(d*g[c+8>>2]))+g[c+48>>2]),R=x(x(x(x(u*g[c+32>>2])+x(p*g[c+36>>2]))+x(d*g[c+40>>2]))+g[c+56>>2]),u=x(x(x(x(u*g[c+16>>2])+x(p*g[c+20>>2]))+x(d*g[c+24>>2]))+g[c+52>>2]),h[s+256>>2]==(0|_)&&!((0|_)>=(0|(A=_?_<<1:1)))){if(c=0,w=0,A&&(h[6657]=h[6657]+1,w=0|r[h[5255]](A<<4,16),_=h[s+252>>2]),(0|_)>=1)for(;I=(C=c<<4)+w|0,C=C+h[s+260>>2]|0,k=h[C+4>>2],h[I>>2]=h[C>>2],h[I+4>>2]=k,O=h[C+12>>2],h[I+8>>2]=h[C+8>>2],h[I+12>>2]=O,(0|_)!=(0|(c=c+1|0)););(c=h[s+260>>2])&&(m[s+264|0]&&c&&(h[6658]=h[6658]+1,r[h[5256]](c)),h[s+260>>2]=0),h[s+260>>2]=w,a[s+264|0]=1,h[s+256>>2]=A,_=h[s+252>>2]}if(c=h[s+260>>2]+(_<<4)|0,h[c+12>>2]=0,g[c+8>>2]=R,g[c+4>>2]=u,g[c>>2]=v,_=h[s+252>>2]+1|0,h[s+252>>2]=_,u=g[l+92>>2],n=h[n+12>>2],p=g[l+96>>2],d=g[l+100>>2],v=x(x(x(x(u*g[n>>2])+x(p*g[n+4>>2]))+x(d*g[n+8>>2]))+g[n+48>>2]),R=x(x(x(x(u*g[n+32>>2])+x(p*g[n+36>>2]))+x(d*g[n+40>>2]))+g[n+56>>2]),u=x(x(x(x(u*g[n+16>>2])+x(p*g[n+20>>2]))+x(d*g[n+24>>2]))+g[n+52>>2]),h[s+256>>2]==(0|_)&&!((0|_)>=(0|(n=_?_<<1:1)))){if(c=0,w=0,n&&(h[6657]=h[6657]+1,w=0|r[h[5255]](n<<4,16),_=h[s+252>>2]),(0|_)>=1)for(;C=(A=c<<4)+w|0,A=A+h[s+260>>2]|0,O=h[A+4>>2],h[C>>2]=h[A>>2],h[C+4>>2]=O,I=h[A+12>>2],h[C+8>>2]=h[A+8>>2],h[C+12>>2]=I,(0|_)!=(0|(c=c+1|0)););(c=h[s+260>>2])&&(m[s+264|0]&&c&&(h[6658]=h[6658]+1,r[h[5256]](c)),h[s+260>>2]=0),h[s+260>>2]=w,a[s+264|0]=1,h[s+256>>2]=n,_=h[s+252>>2]}if(n=h[s+260>>2]+(_<<4)|0,h[n+12>>2]=0,g[n+8>>2]=R,g[n+4>>2]=u,g[n>>2]=v,h[s+252>>2]=h[s+252>>2]+1,u=g[h[e+56>>2]+848>>2],lr(M,s+792|0,s+344|0,h[i+20>>2]),p=g[M+4>>2],d=g[M+8>>2],v=g[M+12>>2],(R=x(x(x(p*p)+x(d*d))+x(v*v)))>x(1.1920928955078125e-7)){if(h[s+340>>2]=0,P=v,v=x(x(1)/R),g[s+336>>2]=P*v,g[s+332>>2]=d*v,g[s+328>>2]=p*v,p=x(x(g[M+56>>2]-x(r[h[h[E>>2]+48>>2]](E)))-x(r[h[h[l>>2]+48>>2]](l))),(0|(c=h[e+36>>2]))<=-1)for(h[e+40>>2]<=-1&&((n=h[e+44>>2])&&(m[e+48|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+44>>2]=0),h[e+40>>2]=0,h[e+44>>2]=0,a[e+48|0]=1);l=h[s+316>>2],n=h[e+44>>2]+(c<<4)|0,h[n>>2]=h[s+312>>2],h[n+4>>2]=l,i=h[s+324>>2],h[n+8>>2]=h[s+320>>2],h[n+12>>2]=i,i=(n=c+1|0)>>>0>=c>>>0,c=n,i;);h[e+36>>2]=0,Ui(s+328|0,h[E+56>>2],h[t+12>>2],s+248|0,e+32|0,x(p-u),u,o)}if(m[e+52|0]&&(e=h[o+4>>2],h[e+844>>2]&&((0|(t=h[e+836>>2]))==(0|(n=h[h[o+8>>2]+8>>2]))?wo(e,t+4|0,h[h[o+12>>2]+8>>2]+4|0):wo(e,h[h[o+12>>2]+8>>2]+4|0,n+4|0))),!(e=h[s+260>>2]))break e;m[s+264|0]&&e&&(h[6658]=h[6658]+1,r[h[5256]](e)),h[s+260>>2]=0;break e}}if(lr(M,s+792|0,o,h[i+20>>2]),!(!h[e+64>>2]|h[h[o+4>>2]+844>>2]>=h[e+68>>2])&&(u=g[M+4>>2],p=g[M+8>>2],d=g[M+12>>2],(v=x(x(x(u*u)+x(p*p))+x(d*d)))>x(1.1920928955078125e-7)&&(C=s+856|0,I=s+840|0,O=s+824|0,k=s+808|0,P=p,p=x(x(1)/v),R=x(P*p),ne=x(u*p),q=x(d*p),x(b(q))>x(.7071067690849304)?(u=x(x(1)/x(T(x(x(q*q)+x(R*R))))),p=x(R*u),u=x(u*x(-q)),d=x(0)):(p=x(x(1)/x(T(x(x(ne*ne)+x(R*R))))),u=x(ne*p),d=x(p*x(-R)),p=x(0)),v=x(r[h[h[E>>2]+16>>2]](E)),U=x(r[h[h[l>>2]+16>>2]](l)),j=g[5249],l=h[(c=(E=v<U)?s+792|0:C)+12>>2],h[s+256>>2]=h[c+8>>2],h[s+260>>2]=l,l=h[c+4>>2],h[s+248>>2]=h[c>>2],h[s+252>>2]=l,l=h[(c=E?k:_)+12>>2],h[s+272>>2]=h[c+8>>2],h[s+276>>2]=l,l=h[c+4>>2],h[s+264>>2]=h[c>>2],h[s+268>>2]=l,l=h[(c=E?O:w)+12>>2],h[s+288>>2]=h[c+8>>2],h[s+292>>2]=l,l=h[c+4>>2],h[s+280>>2]=h[c>>2],h[s+284>>2]=l,l=h[(c=E?I:A)+12>>2],h[s+304>>2]=h[c+8>>2],h[s+308>>2]=l,l=h[c+4>>2],h[s+296>>2]=h[c>>2],h[s+300>>2]=l,!((0|(l=h[e+64>>2]))<1))))for(P=p,v=x(x(S(x(j/(E?v:U)),x(.39269909262657166)))*x(.5)),ae=x(x(x(d*d)+x(u*u))+x(p*p)),p=x(No(v)/x(T(ae))),U=x(P*p),j=x(u*p),V=x(d*p),W=Ro(v),se=x(T(x(x(q*q)+x(x(ne*ne)+x(R*R))))),re=s- -64|0,c=0;ae>x(1.1920928955078125e-7)&&(v=x(x(x(x(6.2831854820251465)/x(0|l))*x(0|c))*x(.5)),d=x(No(v)/se),u=x(q*d),p=x(R*d),d=x(ne*d),v=Ro(v),E?(l=h[t+12>>2],Y=g[l+36>>2],X=g[l+20>>2],Q=g[l+40>>2],Z=g[l+24>>2],J=g[l+32>>2],K=g[l>>2],$=g[l+16>>2],ee=g[l+4>>2],te=g[l+8>>2],h[s+836>>2]=0,h[s+820>>2]=0,h[s+804>>2]=0,N=x(x(U*d)+x(x(x(j*v)-x(W*p))-x(V*u))),L=x(x(U*u)+x(x(j*p)+x(x(W*v)+x(V*d)))),F=x(x(j*u)+x(x(x(V*v)-x(W*d))-x(U*p))),B=x(x(V*p)+x(x(x(U*v)-x(W*u))-x(j*d))),P=x(x(x(u*N)+x(x(d*L)+x(v*F)))-x(p*B)),D=x(x(x(x(v*L)-x(d*F))-x(p*N))-x(u*B)),H=x(x(x(p*F)+x(x(u*L)+x(v*B)))-x(d*N)),u=x(x(x(d*B)+x(x(v*N)+x(p*L)))-x(u*F)),p=x(x(2)/x(x(D*D)+x(x(H*H)+x(x(P*P)+x(u*u))))),d=x(H*p),L=x(P*d),v=x(u*p),F=x(D*v),N=x(L-F),B=x(u*d),G=x(P*p),ie=x(D*G),p=x(B+ie),G=x(P*G),oe=x(u*v),u=x(x(1)-x(G+oe)),g[s+832>>2]=x(x(te*N)+x(Z*p))+x(Q*u),g[s+828>>2]=x(x(N*ee)+x(p*X))+x(u*Y),g[s+824>>2]=x(x(N*K)+x(p*$))+x(u*J),v=x(P*v),P=x(D*d),u=x(v+P),D=x(H*d),p=x(x(1)-x(G+D)),d=x(B-ie),g[s+816>>2]=x(x(te*u)+x(Z*p))+x(Q*d),g[s+812>>2]=x(x(u*ee)+x(p*X))+x(d*Y),g[s+808>>2]=x(x(u*K)+x(p*$))+x(d*J),u=x(x(1)-x(oe+D)),p=x(v-P),d=x(L+F),g[s+800>>2]=x(x(te*u)+x(Z*p))+x(Q*d),g[s+796>>2]=x(x(u*ee)+x(p*X))+x(d*Y),g[s+792>>2]=x(x(u*K)+x(p*$))+x(d*J),l=h[n+12>>2],f=h[l+4>>2],h[C>>2]=h[l>>2],h[C+4>>2]=f,f=h[l+12>>2],h[C+8>>2]=h[l+8>>2],h[C+12>>2]=f,f=h[l+28>>2],h[_+8>>2]=h[l+24>>2],h[_+12>>2]=f,f=h[l+20>>2],h[_>>2]=h[l+16>>2],h[_+4>>2]=f,f=h[l+44>>2],h[w+8>>2]=h[l+40>>2],h[w+12>>2]=f,f=h[l+36>>2],h[w>>2]=h[l+32>>2],h[w+4>>2]=f,f=h[l+60>>2],h[A+8>>2]=h[l+56>>2],h[A+12>>2]=f,f=h[l+52>>2],h[A>>2]=h[l+48>>2],h[A+4>>2]=f):(l=h[t+12>>2],f=h[l+12>>2],h[s+800>>2]=h[l+8>>2],h[s+804>>2]=f,f=h[l+4>>2],h[s+792>>2]=h[l>>2],h[s+796>>2]=f,f=h[l+28>>2],h[k+8>>2]=h[l+24>>2],h[k+12>>2]=f,f=h[l+20>>2],h[k>>2]=h[l+16>>2],h[k+4>>2]=f,f=h[l+44>>2],h[O+8>>2]=h[l+40>>2],h[O+12>>2]=f,f=h[l+36>>2],h[O>>2]=h[l+32>>2],h[O+4>>2]=f,f=h[l+60>>2],h[I+8>>2]=h[l+56>>2],h[I+12>>2]=f,f=h[l+52>>2],h[I>>2]=h[l+48>>2],h[I+4>>2]=f,l=h[n+12>>2],Y=g[l+36>>2],X=g[l+20>>2],Q=g[l+40>>2],Z=g[l+24>>2],J=g[l+32>>2],K=g[l>>2],$=g[l+16>>2],ee=g[l+4>>2],te=g[l+8>>2],h[s+900>>2]=0,h[s+884>>2]=0,h[s+868>>2]=0,N=x(x(U*d)+x(x(x(j*v)-x(W*p))-x(V*u))),L=x(x(U*u)+x(x(j*p)+x(x(W*v)+x(V*d)))),F=x(x(j*u)+x(x(x(V*v)-x(W*d))-x(U*p))),B=x(x(V*p)+x(x(x(U*v)-x(W*u))-x(j*d))),P=x(x(x(u*N)+x(x(d*L)+x(v*F)))-x(p*B)),D=x(x(x(x(v*L)-x(d*F))-x(p*N))-x(u*B)),H=x(x(x(p*F)+x(x(u*L)+x(v*B)))-x(d*N)),u=x(x(x(d*B)+x(x(v*N)+x(p*L)))-x(u*F)),p=x(x(2)/x(x(D*D)+x(x(H*H)+x(x(P*P)+x(u*u))))),d=x(H*p),L=x(P*d),v=x(u*p),F=x(D*v),N=x(L-F),B=x(u*d),G=x(P*p),ie=x(D*G),p=x(B+ie),G=x(P*G),oe=x(u*v),u=x(x(1)-x(G+oe)),g[s+896>>2]=x(x(te*N)+x(Z*p))+x(Q*u),g[s+892>>2]=x(x(N*ee)+x(p*X))+x(u*Y),g[s+888>>2]=x(x(N*K)+x(p*$))+x(u*J),v=x(P*v),P=x(D*d),u=x(v+P),D=x(H*d),p=x(x(1)-x(G+D)),d=x(B-ie),g[s+880>>2]=x(x(te*u)+x(Z*p))+x(Q*d),g[s+876>>2]=x(x(u*ee)+x(p*X))+x(d*Y),g[s+872>>2]=x(x(u*K)+x(p*$))+x(d*J),u=x(x(1)-x(oe+D)),p=x(v-P),d=x(L+F),g[s+864>>2]=x(x(te*u)+x(Z*p))+x(Q*d),g[s+860>>2]=x(x(u*ee)+x(p*X))+x(d*Y),g[s+856>>2]=x(x(u*K)+x(p*$))+x(d*J)),l=h[i+20>>2],h[s+44>>2]=o,h[s+8>>2]=10984,h[s+40>>2]=0,f=h[s+804>>2],h[s+56>>2]=h[s+800>>2],h[s+60>>2]=f,f=h[s+796>>2],h[s+48>>2]=h[s+792>>2],h[s+52>>2]=f,f=h[k+12>>2],h[re+8>>2]=h[k+8>>2],h[re+12>>2]=f,f=h[k+4>>2],h[re>>2]=h[k>>2],h[re+4>>2]=f,f=h[O+12>>2],h[s+88>>2]=h[O+8>>2],h[s+92>>2]=f,f=h[O+4>>2],h[s+80>>2]=h[O>>2],h[s+84>>2]=f,f=h[I+12>>2],h[s+104>>2]=h[I+8>>2],h[s+108>>2]=f,f=h[I+4>>2],h[s+96>>2]=h[I>>2],h[s+100>>2]=f,f=h[C+12>>2],h[s+120>>2]=h[C+8>>2],h[s+124>>2]=f,f=h[C+4>>2],h[s+112>>2]=h[C>>2],h[s+116>>2]=f,f=h[_+12>>2],h[s+136>>2]=h[_+8>>2],h[s+140>>2]=f,f=h[_+4>>2],h[s+128>>2]=h[_>>2],h[s+132>>2]=f,f=h[w+12>>2],h[s+152>>2]=h[w+8>>2],h[s+156>>2]=f,f=h[w+4>>2],h[s+144>>2]=h[w>>2],h[s+148>>2]=f,f=h[A+12>>2],h[s+168>>2]=h[A+8>>2],h[s+172>>2]=f,f=h[A+4>>2],h[s+160>>2]=h[A>>2],h[s+164>>2]=f,f=h[s+260>>2],h[s+184>>2]=h[s+256>>2],h[s+188>>2]=f,f=h[s+252>>2],h[s+176>>2]=h[s+248>>2],h[s+180>>2]=f,f=h[s+276>>2],h[s+200>>2]=h[s+272>>2],h[s+204>>2]=f,f=h[s+268>>2],h[s+192>>2]=h[s+264>>2],h[s+196>>2]=f,f=h[s+292>>2],h[s+216>>2]=h[s+288>>2],h[s+220>>2]=f,f=h[s+284>>2],h[s+208>>2]=h[s+280>>2],h[s+212>>2]=f,f=h[s+300>>2],h[s+224>>2]=h[s+296>>2],h[s+228>>2]=f,f=h[s+308>>2],h[s+232>>2]=h[s+304>>2],h[s+236>>2]=f,h[s+244>>2]=l,a[s+240|0]=E,lr(M,s+792|0,s+8|0,l),l=h[e+64>>2]),(0|(c=c+1|0))<(0|l););m[e+52|0]&&(e=h[o+4>>2],h[e+844>>2]&&((0|(t=h[e+836>>2]))==(0|(n=h[h[o+8>>2]+8>>2]))?wo(e,t+4|0,h[h[o+12>>2]+8>>2]+4|0):wo(e,h[h[o+12>>2]+8>>2]+4|0,n+4|0)))}z=s+928|0},r[440]=function(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var r=x(0),s=x(0),c=x(0),l=0,p=0,u=0,_=0;return z=e=z-608|0,s=x(g[t+116>>2]-g[t+52>>2]),r=x(s*s),s=x(g[t+120>>2]-g[t+56>>2]),r=x(r+x(s*s)),s=x(g[t+124>>2]-g[t+60>>2]),r=x(r+x(s*s)),s=g[t+276>>2],r<x(s*s)&&(s=x(1),r=x(g[n+116>>2]-g[n+52>>2]),c=x(r*r),r=x(g[n+120>>2]-g[n+56>>2]),c=x(c+x(r*r)),r=x(g[n+124>>2]-g[n+60>>2]),c=x(c+x(r*r)),r=g[n+276>>2],c<x(r*r))||(s=x(1),m[24168]||(i=h[t+192>>2],o=h[n+272>>2],Jo(e+552|0),h[e+580>>2]=0,h[e+584>>2]=0,h[e+576>>2]=1065353216,h[e+588>>2]=0,h[e+592>>2]=0,h[e+596>>2]=0,h[e+568>>2]=1065353216,h[e+572>>2]=1065353216,h[e+556>>2]=8,h[e+552>>2]=12036,h[e+604>>2]=0,h[e+600>>2]=o,h[e+584>>2]=o,h[e+548>>2]=0,h[e+540>>2]=1566444395,h[e+544>>2]=0,h[e+376>>2]=7628,a[e+348|0]=0,h[e+324>>2]=953267991,h[e+12>>2]=e+552,h[e+8>>2]=i,h[e+4>>2]=e+16,h[e>>2]=7880,l=t+4|0,p=t+68|0,u=n+4|0,o=n+68|0,s=x(1),dl(e,l,p,u,o,e+376|0)&&(r=g[e+540>>2],g[t+268>>2]>r&&(g[t+268>>2]=r),g[n+268>>2]>r&&(g[n+268>>2]=r),s=x(1),r<x(1)&&(s=r)),i=h[n+192>>2],_=h[t+272>>2],Jo(e+552|0),h[e+580>>2]=0,h[e+584>>2]=0,h[e+576>>2]=1065353216,h[e+588>>2]=0,h[e+592>>2]=0,h[e+596>>2]=0,h[e+568>>2]=1065353216,h[e+572>>2]=1065353216,h[e+556>>2]=8,h[e+552>>2]=12036,h[e+604>>2]=0,h[e+600>>2]=_,h[e+584>>2]=_,h[e+548>>2]=0,h[e+540>>2]=1566444395,h[e+544>>2]=0,h[e+376>>2]=7628,a[e+348|0]=0,h[e+324>>2]=953267991,h[e+12>>2]=i,h[e+8>>2]=e+552,h[e+4>>2]=e+16,h[e>>2]=7880,dl(e,l,p,u,o,e+376|0)&&(r=g[e+540>>2],g[t+268>>2]>r&&(g[t+268>>2]=r),g[n+268>>2]>r&&(g[n+268>>2]=r),s>r&&(s=r)))),z=e+608|0,x(s)},r[441]=function(e,t){t|=0;var n=0,i=0,o=0,s=0,c=0;if(!(!(n=h[56+(e|=0)>>2])|!m[e+52|0])){if((0|(i=h[t+4>>2]))==h[t+8>>2]&&!((0|i)>=(0|(o=i?i<<1:1)))){if(o&&(h[6657]=h[6657]+1,s=0|r[h[5255]](o<<2,16),i=h[t+4>>2]),(0|i)>=1)for(n=0;h[(c=n<<2)+s>>2]=h[h[t+12>>2]+c>>2],(0|(n=n+1|0))!=(0|i););(n=h[t+12>>2])&&(m[t+16|0]&&(n&&(h[6658]=h[6658]+1,r[h[5256]](n)),i=h[t+4>>2]),h[t+12>>2]=0),h[t+12>>2]=s,a[t+16|0]=1,h[t+8>>2]=o,n=h[e+56>>2]}h[h[t+12>>2]+(i<<2)>>2]=n,h[t+4>>2]=i+1}},r[442]=yo,r[443]=Wo,r[444]=Wo,r[445]=Xe,r[446]=yo,r[447]=Wo,r[448]=Wo,r[449]=function(e,t,n,i){e|=0,t|=0,n|=0,i=x(i);var o,s=x(0),c=0,l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0);z=o=z-16|0,g[e+32>>2]=i,c=h[t+4>>2],h[e+8>>2]=h[t>>2],h[e+12>>2]=c,c=h[t+12>>2],h[e+16>>2]=h[t+8>>2],h[e+20>>2]=c,l=g[t+8>>2],p=g[n>>2],u=g[t>>2],_=g[n+4>>2],f=g[t+4>>2],m=g[n+8>>2],s=g[e+28>>2],h[o+12>>2]=0,g[o+8>>2]=m-x(s*l),g[o+4>>2]=_-x(s*f),g[o>>2]=p-x(u*s),i=x(x(s+g[e+24>>2])+i),g[e+32>>2]=i,i<x(0)&&(a[e+36|0]=1),e=h[e+4>>2],r[h[h[e>>2]+16>>2]](e,t,o,i),z=o+16|0},r[450]=yo,r[451]=function(e,t,n,i){e|=0,t|=0,n|=0,i=x(i);var o,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0);z=o=z-16|0,D=g[t+8>>2],R=g[n+8>>2],_=x(x(D*i)+R),M=g[t+4>>2],N=g[n+4>>2],O=x(x(M*i)+N),L=g[t>>2],a=x(L*i),i=g[n>>2],F=x(a+i),m[e+232|0]?(A=g[e+56>>2],f=x(-g[e+92>>2]),y=g[e+40>>2],u=g[e+88>>2],p=g[e+72>>2],a=g[e+96>>2],E=x(x(x(A*f)-x(y*u))-x(p*a)),s=g[e+200>>2],b=g[e+60>>2],C=g[e+44>>2],d=g[e+76>>2],P=x(x(x(b*f)-x(C*u))-x(d*a)),c=g[e+204>>2],S=g[e- -64>>2],l=x(S*f),f=g[e+48>>2],l=x(l-x(f*u)),u=g[e+80>>2],w=x(l-x(u*a)),a=g[e+208>>2],l=x(x(x(x(x(E*s)+x(P*c))+x(w*a))+g[e+224>>2])+x(x(_*x(x(x(p*s)+x(d*c))+x(u*a)))+x(x(F*x(x(x(y*s)+x(C*c))+x(f*a)))+x(O*x(x(x(A*s)+x(b*c))+x(S*a)))))),s=g[e+168>>2],c=g[e+172>>2],a=g[e+176>>2],s=x(x(x(_*x(x(x(p*s)+x(d*c))+x(u*a)))+x(x(F*x(x(x(y*s)+x(C*c))+x(f*a)))+x(O*x(x(x(A*s)+x(b*c))+x(S*a)))))+x(x(x(x(s*E)+x(P*c))+x(w*a))+g[e+216>>2])),c=x(L*x(s-i)),a=_,i=g[e+184>>2],_=g[e+188>>2],d=x(x(p*i)+x(d*_)),p=g[e+192>>2],_=x(x(x(a*x(d+x(u*p)))+x(x(F*x(x(x(y*i)+x(C*_))+x(f*p)))+x(O*x(x(x(A*i)+x(b*_))+x(S*p)))))+x(x(x(x(E*i)+x(P*_))+x(w*p))+g[e+220>>2])),i=x(x(c+x(M*x(_-N)))+x(D*x(l-R))),g[o+8>>2]=l+x(D*i),g[o+4>>2]=_+x(M*i),g[o>>2]=s+x(L*i)):(j=g[e+224>>2],A=g[e+208>>2],y=g[e+200>>2],p=g[e+204>>2],k=g[e+216>>2],s=g[e+172>>2],b=g[e+176>>2],C=g[e+168>>2],d=g[e+120>>2],l=x(-g[e+156>>2]),c=g[e+104>>2],T=g[e+152>>2],S=g[e+136>>2],I=g[e+160>>2],f=x(x(x(d*l)-x(c*T))-x(S*I)),u=g[e+124>>2],a=g[e+108>>2],E=g[e+140>>2],P=x(x(x(u*l)-x(a*T))-x(E*I)),w=g[e+128>>2],v=x(w*l),l=g[e+112>>2],v=x(v-x(l*T)),T=g[e+144>>2],I=x(v-x(T*I)),v=g[e+184>>2],B=g[e+188>>2],U=g[e+192>>2],v=x(x(x(R*x(x(x(S*v)+x(E*B))+x(T*U)))+x(x(i*x(x(x(c*v)+x(a*B))+x(l*U)))+x(N*x(x(x(d*v)+x(u*B))+x(w*U)))))+x(x(x(x(f*v)+x(P*B))+x(I*U))+g[e+220>>2])),g[o+4>>2]=v,s=x(x(x(R*x(x(x(S*C)+x(E*s))+x(T*b)))+x(x(i*x(x(x(c*C)+x(a*s))+x(l*b)))+x(N*x(x(x(d*C)+x(u*s))+x(w*b)))))+x(k+x(x(x(C*f)+x(P*s))+x(I*b)))),g[o>>2]=s,i=x(x(j+x(x(x(f*y)+x(P*p))+x(I*A)))+x(x(R*x(x(x(S*y)+x(E*p))+x(T*A)))+x(x(i*x(x(x(c*y)+x(a*p))+x(l*A)))+x(N*x(x(x(d*y)+x(u*p))+x(w*A)))))),g[o+8>>2]=i,i=x(x(x(L*x(F-s))+x(M*x(O-v)))+x(D*x(_-i)))),h[o+12>>2]=0,e=h[e+36>>2],r[h[h[e>>2]+16>>2]](e,t,o,i),z=o+16|0},r[452]=cl,r[453]=function(e){Eo(cl(e|=0))},r[454]=Li,r[455]=function(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var a,s,c,l,p,u,_,f=0,d=x(0),v=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=0,N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),z=x(0),F=x(0),B=x(0),U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0);if((0|(a=h[e+52>>2]))<1)return x(x(1));for(s=(f=m[e+68|0])?t:n,c=h[(t=f?n:t)- -64>>2],G=g[t+60>>2],H=g[t+56>>2],V=g[t+52>>2],l=h[t+48>>2],v=g[t+44>>2],A=g[t+40>>2],b=g[t+36>>2],p=h[t+32>>2],C=g[t+28>>2],S=g[t+24>>2],E=g[t+20>>2],u=h[t+16>>2],w=g[t+12>>2],T=g[t+8>>2],R=h[t+304>>2],P=g[t+4>>2],_=h[t+192>>2],I=x(1),f=0;n=h[_+28>>2]+y(f,80)|0,d=g[n+56>>2],N=g[n+52>>2],D=g[n+48>>2],M=g[n+36>>2],O=g[n+20>>2],L=g[n+4>>2],z=g[n+40>>2],F=g[n+24>>2],B=g[n+8>>2],U=g[n+32>>2],j=g[n>>2],k=g[n+16>>2],h[t+64>>2]=0,h[t+48>>2]=0,h[t+32>>2]=0,h[t+16>>2]=0,h[t+304>>2]=R+1,g[t+36>>2]=x(x(b*j)+x(A*k))+x(v*U),g[t+20>>2]=x(x(E*j)+x(S*k))+x(C*U),g[t+4>>2]=x(x(P*j)+x(T*k))+x(w*U),g[t+44>>2]=x(x(b*B)+x(A*F))+x(v*z),g[t+40>>2]=x(x(b*L)+x(A*O))+x(v*M),g[t+28>>2]=x(x(E*B)+x(S*F))+x(C*z),g[t+24>>2]=x(x(E*L)+x(S*O))+x(C*M),g[t+12>>2]=x(x(P*B)+x(T*F))+x(w*z),g[t+8>>2]=x(x(P*L)+x(T*O))+x(w*M),g[t+60>>2]=G+x(x(x(b*D)+x(A*N))+x(v*d)),g[t+56>>2]=H+x(x(x(E*D)+x(S*N))+x(C*d)),g[t+52>>2]=V+x(x(x(P*D)+x(T*N))+x(w*d)),n=h[h[e+60>>2]+(f<<2)>>2],d=x(r[h[h[n>>2]+12>>2]](n,t,s,i,o)),h[t+64>>2]=c,g[t+60>>2]=G,g[t+56>>2]=H,g[t+52>>2]=V,h[t+48>>2]=l,g[t+44>>2]=v,g[t+40>>2]=A,g[t+36>>2]=b,h[t+32>>2]=p,g[t+28>>2]=C,g[t+24>>2]=S,g[t+20>>2]=E,h[t+16>>2]=u,g[t+12>>2]=w,g[t+8>>2]=T,g[t+4>>2]=P,R=h[t+304>>2]+1|0,h[t+304>>2]=R,I=d<I?d:I,(0|a)!=(0|(f=f+1|0)););return x(I)},r[456]=function(e,t){t|=0;var n=0,i=0,o=0;if((0|(n=h[52+(e|=0)>>2]))>=1)for(;(o=h[h[e+60>>2]+(i<<2)>>2])&&(r[h[h[o>>2]+16>>2]](o,t),n=h[e+52>>2]),(0|(i=i+1|0))<(0|n););},r[457]=yo,r[458]=function(e,t){var n,i;t|=0,n=e|=0,i=h[h[h[e+4>>2]+4>>2]+28>>2],e=h[t+36>>2],Oi(n,h[64+(i+y(e,80)|0)>>2],e)},r[459]=Mi,r[460]=function(e){Eo(Mi(e|=0))},r[461]=function(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,r=0,a=0,s=0,c=0,l=0,p=0;h[6044]=h[6044]+1,s=h[e+36>>2],i=y((i=((i=n<<16|t)<<15^-1)+i|0)>>>10^i,9),i=((i^=i>>>6)<<11^-1)+i|0,r=s+((h[e+12>>2]+-1&(i>>>16^i))<<2)|0;e:if(-1!=(0|(i=h[r>>2]))){for(a=h[e+16>>2],o=i;;){if(c=a+y(o,12)|0,h[c+4>>2]!=(0|n)||h[c>>2]!=(0|t)){if(-1!=(0|(o=h[h[e+56>>2]+(o<<2)>>2])))continue;break e}break}p=h[8+(a+y(o,12)|0)>>2],n=h[e+56>>2];t:{n:{if((0|i)!=(0|o)){for(;(0|o)!=(0|(i=h[n+((t=i)<<2)>>2])););if(i=l=h[n+(o<<2)>>2],-1==(0|t))break n;h[n+(t<<2)>>2]=l;break t}i=h[n+(o<<2)>>2]}h[r>>2]=i}if((0|(r=h[e+8>>2]+-1|0))==(0|o))return h[e+8>>2]=o,0|p;t:{if(a=a+y(r,12)|0,t=h[a+4>>2]<<16|h[a>>2],t=y((t=(t<<15^-1)+t|0)>>>10^t,9),t=((t^=t>>>6)<<11^-1)+t|0,l=h[e+12>>2]+-1&(t>>>16^t),(0|r)!=(0|(i=h[(s=s+(l<<2)|0)>>2]))){for(;(0|r)!=(0|(i=h[n+((t=i)<<2)>>2])););if(i=h[n+(r<<2)>>2],-1!=(0|t)){h[n+(t<<2)>>2]=i;break t}}else i=h[n+(r<<2)>>2];h[s>>2]=i}t=h[a+4>>2],h[c>>2]=h[a>>2],h[c+4>>2]=t,h[c+8>>2]=h[a+8>>2],t=h[e+36>>2]+(l<<2)|0,h[h[e+56>>2]+(o<<2)>>2]=h[t>>2],h[t>>2]=o,h[e+8>>2]=h[e+8>>2]+-1}return 0|p},r[462]=function(e,t,n){return e|=0,t|=0,n|=0,h[6045]=h[6045]+1,0|Il(e,t,n)},r[463]=Ta,r[464]=Ni,r[465]=function(e){Eo(Ni(e|=0))},r[466]=function(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s,c,l=0,p=0,u=0,_=0,f=0,d=0,v=x(0),A=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=0,D=x(0),M=x(0),O=0,L=x(0),F=0,B=0,U=x(0),j=x(0),k=x(0),G=x(0),H=x(0),V=x(0),W=x(0),q=x(0),Y=x(0),X=x(0),Q=x(0),Z=x(0),J=x(0),K=0,$=0,ee=x(0),te=0,ne=0,ie=x(0),oe=x(0),re=x(0),ae=x(0),se=x(0);if(z=s=z-3584|0,c=h[t+4>>2],(B=h[c+68>>2])&&(te=h[n+4>>2],N=h[te+68>>2])){if(h[te+72>>2]!=h[e+112>>2]||h[c+72>>2]!=h[e+108>>2]){if(u=h[e+84>>2],(0|(_=h[u+8>>2]))>=1){for(;(f=h[8+(h[u+16>>2]+y(p,12)|0)>>2])&&(r[h[h[f>>2]>>2]](f),l=h[e+4>>2],r[h[h[l>>2]+60>>2]](l,f)),(0|_)!=(0|(p=p+1|0)););u=h[e+84>>2]}Di(u),h[e+108>>2]=h[c+72>>2],h[e+112>>2]=h[te+72>>2]}h[s+84>>2]=0,a[s+88|0]=1,h[s+76>>2]=0,h[s+80>>2]=0,pa(s+112|0),pa(s+980|0),pa(s+1848|0),pa(s+2716|0),(u=h[s+84>>2])&&(m[s+88|0]&&u&&(h[6658]=h[6658]+1,r[h[5256]](u)),h[s+84>>2]=0),h[s+76>>2]=0,h[s+80>>2]=4,h[s+84>>2]=s+112,a[s+88|0]=0,_=h[e+84>>2];e:{if((0|(d=h[_+8>>2]))<=0)p=s+112|0;else{for(f=0;;){if(u=h[8+(h[_+16>>2]+y(f,12)|0)>>2]){if(r[h[h[u>>2]+16>>2]](u,s+72|0),d=0,(0|(p=h[s+76>>2]))>0)for(;l=h[h[s+84>>2]+(d<<2)>>2],h[l+844>>2]&&(h[o+4>>2]=l,(0|(p=h[l+836>>2]))==(0|(u=h[h[o+8>>2]+8>>2]))?wo(l,p+4|0,h[h[o+12>>2]+8>>2]+4|0):wo(l,h[h[o+12>>2]+8>>2]+4|0,u+4|0),h[o+4>>2]=0,p=h[s+76>>2]),(0|(d=d+1|0))<(0|p););if((0|p)<=-1)for(h[s+80>>2]<=-1&&((u=h[s+84>>2])&&(m[s+88|0]&&u&&(h[6658]=h[6658]+1,r[h[5256]](u)),h[s+84>>2]=0),a[s+88|0]=1,h[s+80>>2]=0,h[s+84>>2]=0);h[h[s+84>>2]+(p<<2)>>2]=0,l=(u=p+1|0)>>>0<p>>>0,p=u,!l;);h[s+76>>2]=0,d=h[_+8>>2]}if(!((0|(f=f+1|0))<(0|d)))break}if(!(p=h[s+84>>2]))break e}m[s+88|0]&&p&&(h[6658]=h[6658]+1,r[h[5256]](p)),h[s+84>>2]=0}if(p=h[e+4>>2],u=h[e+84>>2],h[s+104>>2]=h[e+72>>2],h[s+100>>2]=u,h[s+92>>2]=i,h[s+88>>2]=p,h[s+76>>2]=0,h[s+72>>2]=11344,h[s+96>>2]=o,h[s+80>>2]=t,h[s+84>>2]=n,(u=h[B>>2])&&(i=h[N>>2])){for(l=h[t+12>>2],I=g[l+24>>2],v=x(-g[l+52>>2]),P=g[l+8>>2],C=g[l+48>>2],R=g[l+40>>2],E=g[l+56>>2],p=h[n+12>>2],w=g[p+48>>2],S=g[p+52>>2],A=g[p+56>>2],re=x(x(x(x(I*v)-x(P*C))-x(R*E))+x(x(x(P*w)+x(I*S))+x(R*A))),D=g[l+20>>2],L=g[l+4>>2],M=g[l+36>>2],ae=x(x(x(x(D*v)-x(L*C))-x(M*E))+x(x(x(L*w)+x(D*S))+x(M*A))),G=g[p+40>>2],U=g[p+24>>2],H=g[p+8>>2],j=g[p+36>>2],V=g[p+20>>2],k=g[p+4>>2],J=g[l+16>>2],T=x(J*v),v=g[l>>2],T=x(T-x(v*C)),C=g[l+32>>2],se=x(x(T-x(C*E))+x(x(x(v*w)+x(J*S))+x(C*A))),w=g[p+16>>2],S=g[p>>2],A=g[p+32>>2],ee=g[o+32>>2],h[s+116>>2]=i,h[s+112>>2]=u,T=x(x(x(P*H)+x(I*U))+x(R*G)),X=x(b(T)),W=x(x(x(P*k)+x(I*V))+x(R*j)),Q=x(b(W)),q=x(x(x(P*S)+x(I*w))+x(R*A)),Z=x(b(q)),Y=x(x(x(L*H)+x(D*U))+x(M*G)),I=x(b(Y)),P=x(x(x(L*k)+x(D*V))+x(M*j)),R=x(b(P)),D=x(x(x(L*S)+x(D*w))+x(M*A)),L=x(b(D)),M=x(x(x(v*H)+x(J*U))+x(C*G)),G=x(b(M)),U=x(x(x(v*k)+x(J*V))+x(C*j)),H=x(b(U)),j=x(x(x(v*S)+x(J*w))+x(C*A)),V=x(b(j)),i=124,l=0,N=128,f=s+112|0,B=128,d=1;;){e:{t:{n:{if(F=h[(u=(ne=(K=d+-1|0)<<3)+f|0)>>2],O=h[u+4>>2],k=g[O+16>>2],v=g[O>>2],ie=x(x(x(k-v)*x(.5))+x(0)),C=g[O+20>>2],E=g[O+4>>2],oe=x(x(x(C-E)*x(.5))+x(0)),w=g[O+24>>2],A=g[O+8>>2],J=x(x(x(w-A)*x(.5))+x(0)),S=x(x(x(V*ie)+x(H*oe))+x(G*J)),v=x(x(k+v)*x(.5)),E=x(x(C+E)*x(.5)),w=x(x(w+A)*x(.5)),A=x(se+x(x(x(j*v)+x(U*E))+x(M*w))),!(g[F>>2]<=x(ee+x(S+A))^1|g[F+16>>2]>=x(x(A-S)-ee)^1||(S=x(x(x(L*ie)+x(R*oe))+x(I*J)),A=x(ae+x(x(x(D*v)+x(P*E))+x(Y*w))),g[F+4>>2]<=x(ee+x(S+A))^1|g[F+20>>2]>=x(x(A-S)-ee)^1||(S=x(x(x(Z*ie)+x(Q*oe))+x(X*J)),A=x(re+x(x(x(q*v)+x(W*E))+x(T*w))),g[F+8>>2]<=x(ee+x(S+A))^1|g[F+24>>2]>=x(x(A-S)-ee)^1)))){if((0|K)<=(0|i))u=N,_=f,p=l;else{i:if((0|N)>=(0|(u=N<<1))|(0|B)>=(0|u))_=f,p=l;else{o:{r:{if(N){if(h[6657]=h[6657]+1,_=0|r[h[5255]](N<<4,16),!((0|N)<1)){for(i=0;$=(p=i<<3)+_|0,p=h[4+(B=p+f|0)>>2],h[$>>2]=h[B>>2],h[$+4>>2]=p,(0|N)!=(0|(i=i+1|0)););if(!(255&l))break o;break r}}else _=0;if(p=1,!f)break o;if(B=u,!(255&l))break i}f&&(h[6658]=h[6658]+1,r[h[5256]](f))}p=1,B=u}i=u+-4|0}if(l=h[O+40>>2],h[F+40>>2]){if(f=h[F+36>>2],l){h[4+(l=_+ne|0)>>2]=h[O+36>>2],h[l>>2]=f,l=h[F+40>>2],h[4+(f=(d<<3)+_|0)>>2]=h[O+36>>2],h[f>>2]=l,l=h[F+36>>2],h[f+12>>2]=h[O+40>>2],h[f+8>>2]=l,l=h[F+40>>2],h[f+20>>2]=h[O+40>>2],h[f+16>>2]=l,d=d+3|0;break t}h[4+(l=_+ne|0)>>2]=O,h[l>>2]=f,f=h[F+40>>2],h[4+(l=(d<<3)+_|0)>>2]=O,h[l>>2]=f;break n}if(l){h[4+(l=_+ne|0)>>2]=h[O+36>>2],h[l>>2]=F,h[4+(l=(d<<3)+_|0)>>2]=h[O+40>>2],h[l>>2]=F;break n}r[h[h[s+72>>2]+8>>2]](s+72|0,F,O),N=u,f=_,l=p}d=K;break e}d=d+1|0}N=u,f=_,l=p}if(!d)break}!f|!(255&l)||f&&(h[6658]=h[6658]+1,r[h[5256]](f))}if($=h[e+84>>2],h[$+8>>2]>=1)for(B=0;;){if(i=(u=y(B,12))+h[$+16>>2]|0,(p=h[i+8>>2])&&(_=h[c+28>>2]+y(h[i>>2],80)|0,i=h[_+64>>2],l=h[t+12>>2],w=g[l+52>>2],S=g[l+56>>2],D=g[_+48>>2],L=g[_+52>>2],M=g[_+56>>2],G=g[_+4>>2],U=g[_+20>>2],H=g[_+36>>2],j=g[_+8>>2],V=g[_+24>>2],k=g[_+40>>2],X=g[l+20>>2],W=g[l+24>>2],v=g[_>>2],Q=g[l+36>>2],C=g[_+16>>2],q=g[l+40>>2],E=g[_+32>>2],A=g[l+48>>2],Z=g[l+8>>2],Y=g[l>>2],I=g[l+4>>2],P=g[l+16>>2],R=g[l+32>>2],h[s+172>>2]=0,h[s+156>>2]=0,h[s+140>>2]=0,h[s+124>>2]=0,g[s+144>>2]=x(x(R*v)+x(Q*C))+x(q*E),g[s+128>>2]=x(x(P*v)+x(X*C))+x(W*E),g[s+112>>2]=x(x(Y*v)+x(I*C))+x(Z*E),g[s+152>>2]=x(x(R*j)+x(Q*V))+x(q*k),g[s+148>>2]=x(x(R*G)+x(Q*U))+x(q*H),g[s+136>>2]=x(x(P*j)+x(X*V))+x(W*k),g[s+132>>2]=x(x(P*G)+x(X*U))+x(W*H),g[s+120>>2]=x(x(Y*j)+x(I*V))+x(Z*k),g[s+116>>2]=x(x(Y*G)+x(I*U))+x(Z*H),g[s+168>>2]=S+x(x(x(R*D)+x(Q*L))+x(q*M)),g[s+164>>2]=w+x(x(x(P*D)+x(X*L))+x(W*M)),g[s+160>>2]=A+x(x(x(Y*D)+x(I*L))+x(Z*M)),r[h[h[i>>2]+8>>2]](i,s+112|0,s+56|0,s+40|0),T=g[o+32>>2],g[s+56>>2]=g[s+56>>2]-T,g[s+60>>2]=g[s+60>>2]-T,g[s+64>>2]=g[s+64>>2]-T,g[s+40>>2]=T+g[s+40>>2],g[s+44>>2]=T+g[s+44>>2],g[s+48>>2]=T+g[s+48>>2],_=h[te+28>>2]+y(h[4+(u+h[$+16>>2]|0)>>2],80)|0,i=h[_+64>>2],l=h[n+12>>2],w=g[l+52>>2],S=g[l+56>>2],D=g[_+48>>2],L=g[_+52>>2],M=g[_+56>>2],G=g[_+4>>2],U=g[_+20>>2],H=g[_+36>>2],j=g[_+8>>2],V=g[_+24>>2],k=g[_+40>>2],X=g[l+20>>2],W=g[l+24>>2],v=g[_>>2],Q=g[l+36>>2],C=g[_+16>>2],q=g[l+40>>2],E=g[_+32>>2],A=g[l+48>>2],Z=g[l+8>>2],Y=g[l>>2],I=g[l+4>>2],P=g[l+16>>2],R=g[l+32>>2],h[s+172>>2]=0,h[s+156>>2]=0,h[s+140>>2]=0,h[s+124>>2]=0,g[s+144>>2]=x(x(R*v)+x(Q*C))+x(q*E),g[s+128>>2]=x(x(P*v)+x(X*C))+x(W*E),g[s+112>>2]=x(x(Y*v)+x(I*C))+x(Z*E),g[s+152>>2]=x(x(R*j)+x(Q*V))+x(q*k),g[s+148>>2]=x(x(R*G)+x(Q*U))+x(q*H),g[s+136>>2]=x(x(P*j)+x(X*V))+x(W*k),g[s+132>>2]=x(x(P*G)+x(X*U))+x(W*H),g[s+120>>2]=x(x(Y*j)+x(I*V))+x(Z*k),g[s+116>>2]=x(x(Y*G)+x(I*U))+x(Z*H),g[s+168>>2]=S+x(x(x(R*D)+x(Q*L))+x(q*M)),g[s+164>>2]=w+x(x(x(P*D)+x(X*L))+x(W*M)),g[s+160>>2]=A+x(x(x(Y*D)+x(I*L))+x(Z*M)),r[h[h[i>>2]+8>>2]](i,s+112|0,s+24|0,s+8|0),v=x(g[s+24>>2]-T),g[s+24>>2]=v,C=x(g[s+28>>2]-T),g[s+28>>2]=C,E=x(g[s+32>>2]-T),g[s+32>>2]=E,w=x(T+g[s+8>>2]),g[s+8>>2]=w,S=x(T+g[s+16>>2]),g[s+16>>2]=S,A=x(T+g[s+12>>2]),g[s+12>>2]=A,g[s+44>>2]<C|g[s+60>>2]>A|g[s+40>>2]<v|g[s+56>>2]>w||g[s+64>>2]>S||g[s+48>>2]<E)){if(r[h[h[p>>2]>>2]](p),i=h[e+4>>2],r[h[h[i>>2]+60>>2]](i,p),i=u+h[$+16>>2]|0,_=h[i+4>>2],l=h[i>>2],(0|(d=h[e+92>>2]))==h[e+96>>2]&&!((0|d)>=(0|(K=d?d<<1:1)))){if(p=0,i=0,K&&(h[6657]=h[6657]+1,i=0|r[h[5255]](y(K,12),16),d=h[e+92>>2]),(0|d)>=1)for(;N=(u=y(p,12))+i|0,f=u+h[e+100>>2]|0,u=h[f+4>>2],h[N>>2]=h[f>>2],h[N+4>>2]=u,h[N+8>>2]=h[f+8>>2],(0|d)!=(0|(p=p+1|0)););(u=h[e+100>>2])&&(m[e+104|0]&&u&&(h[6658]=h[6658]+1,r[h[5256]](u)),h[e+100>>2]=0),h[e+100>>2]=i,a[e+104|0]=1,h[e+96>>2]=K,d=h[e+92>>2]}i=h[e+100>>2]+y(d,12)|0,h[i+8>>2]=0,h[i+4>>2]=_,h[i>>2]=l,h[e+92>>2]=h[e+92>>2]+1}if(!((0|(B=B+1|0))<h[$+8>>2]))break}if(h[e+92>>2]>=1)for(p=0;n=h[e+84>>2],t=h[e+100>>2]+y(p,12)|0,r[h[h[n>>2]+8>>2]](n,h[t>>2],h[t+4>>2]),(0|(p=p+1|0))<h[e+92>>2];);(t=h[e+100>>2])&&(m[e+104|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+100>>2]=0),h[e+100>>2]=0,h[e+92>>2]=0,h[e+96>>2]=0,a[e+104|0]=1}else Li(e,t,n,i,o);z=s+3584|0},r[467]=function(){return x(x(0))},r[468]=function(e,t){t|=0;var n,i=0,o=0;if(n=h[84+(e|=0)>>2],(0|(i=h[n+8>>2]))>=1)for(e=0;(o=h[8+(h[n+16>>2]+y(e,12)|0)>>2])&&(r[h[h[o>>2]+16>>2]](o,t),i=h[n+8>>2]),(0|(e=e+1|0))<(0|i););},r[469]=yo,r[470]=function(e,t,n){e|=0,t|=0,n|=0;var i,o,a,s,c,l,p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=0,F=0,B=x(0),U=x(0),j=x(0);z=i=z-256|0,r[h[5253]](11420),h[e+4>>2]=h[e+4>>2]+1,o=h[n+36>>2],s=y(o,80),c=h[e+12>>2],l=h[c+4>>2],L=h[64+(s+h[l+28>>2]|0)>>2],n=h[e+8>>2],a=h[t+36>>2],t=h[h[n+4>>2]+28>>2]+y(a,80)|0,F=h[t+64>>2],n=h[n+12>>2],B=g[n+52>>2],U=g[n+56>>2],u=g[n+24>>2],p=g[n+20>>2],_=g[n+40>>2],f=g[n+36>>2],j=g[n+48>>2],m=g[n+8>>2],d=g[n>>2],v=g[n+4>>2],A=g[n+16>>2],b=g[n+32>>2],C=g[t+32>>2],S=g[t>>2],E=g[t+16>>2],w=g[t+56>>2],T=g[t+48>>2],P=g[t+52>>2],I=g[t+36>>2],R=g[t+4>>2],N=g[t+20>>2],D=g[t+40>>2],M=g[t+8>>2],O=g[t+24>>2],n=0,h[i+244>>2]=0,h[i+228>>2]=0,h[i+212>>2]=0,g[i+224>>2]=x(x(b*M)+x(f*O))+x(_*D),g[i+220>>2]=x(x(b*R)+x(f*N))+x(_*I),g[i+208>>2]=x(x(A*M)+x(p*O))+x(u*D),g[i+204>>2]=x(x(A*R)+x(p*N))+x(u*I),g[i+240>>2]=U+x(x(x(b*T)+x(f*P))+x(_*w)),g[i+236>>2]=B+x(x(x(A*T)+x(p*P))+x(u*w)),h[i+196>>2]=0,g[i+216>>2]=x(x(b*S)+x(f*E))+x(_*C),g[i+200>>2]=x(x(A*S)+x(p*E))+x(u*C),g[i+192>>2]=x(x(d*M)+x(v*O))+x(m*D),g[i+188>>2]=x(x(d*R)+x(v*N))+x(m*I),g[i+184>>2]=x(x(d*S)+x(v*E))+x(m*C),g[i+232>>2]=j+x(x(x(d*T)+x(v*P))+x(m*w)),t=h[c+12>>2],B=g[t+52>>2],U=g[t+56>>2],u=g[t+24>>2],p=g[t+20>>2],_=g[t+40>>2],f=g[t+36>>2],j=g[t+48>>2],m=g[t+8>>2],d=g[t>>2],v=g[t+4>>2],A=g[t+16>>2],b=g[t+32>>2],t=h[l+28>>2]+s|0,C=g[t+32>>2],S=g[t>>2],E=g[t+16>>2],w=g[t+56>>2],T=g[t+48>>2],P=g[t+52>>2],I=g[t+36>>2],R=g[t+4>>2],N=g[t+20>>2],D=g[t+40>>2],M=g[t+8>>2],O=g[t+24>>2],h[i+180>>2]=0,h[i+164>>2]=0,h[i+148>>2]=0,g[i+160>>2]=x(x(b*M)+x(f*O))+x(_*D),g[i+156>>2]=x(x(b*R)+x(f*N))+x(_*I),g[i+144>>2]=x(x(A*M)+x(p*O))+x(u*D),g[i+140>>2]=x(x(A*R)+x(p*N))+x(u*I),g[i+176>>2]=U+x(x(x(b*T)+x(f*P))+x(_*w)),g[i+172>>2]=B+x(x(x(A*T)+x(p*P))+x(u*w)),h[i+132>>2]=0,g[i+152>>2]=x(x(b*S)+x(f*E))+x(_*C),g[i+136>>2]=x(x(A*S)+x(p*E))+x(u*C),g[i+128>>2]=x(x(d*M)+x(v*O))+x(m*D),g[i+124>>2]=x(x(d*R)+x(v*N))+x(m*I),g[i+120>>2]=x(x(d*S)+x(v*E))+x(m*C),g[i+168>>2]=j+x(x(x(d*T)+x(v*P))+x(m*w)),r[h[h[F>>2]+8>>2]](F,i+184|0,i+104|0,i+88|0),r[h[h[L>>2]+8>>2]](L,i+120|0,i+72|0,i+56|0),p=g[h[e+24>>2]+32>>2],u=x(g[i+104>>2]-p),g[i+104>>2]=u,g[i+108>>2]=g[i+108>>2]-p,g[i+112>>2]=g[i+112>>2]-p,g[i+88>>2]=p+g[i+88>>2],g[i+92>>2]=p+g[i+92>>2],g[i+96>>2]=p+g[i+96>>2];e:{if(t=h[6047]){if(!r[t](F,L))break e;u=g[i+104>>2]}g[i+88>>2]<g[i+72>>2]|u>g[i+56>>2]||(n=1),t=0,t=g[i+96>>2]<g[i+80>>2]|g[i+112>>2]>g[i+64>>2]?t:n,g[i+92>>2]<g[i+76>>2]|g[i+108>>2]>g[i+60>>2]|1^t||(t=h[e+8>>2],n=h[t+8>>2],h[i+48>>2]=-1,h[i+40>>2]=n,h[i+36>>2]=F,h[i+32>>2]=t,h[i+44>>2]=i+184,h[i+52>>2]=a,t=h[e+12>>2],n=h[t+8>>2],h[i+24>>2]=-1,h[i+16>>2]=n,h[i+12>>2]=L,h[i+8>>2]=t,h[i+20>>2]=i+120,h[i+28>>2]=o,t=function(e,t,n){var i=0,o=0,r=0;h[6046]=h[6046]+1,i=y((i=((i=n<<16|t)<<15^-1)+i|0)>>>10^i,9),i=((i^=i>>>6)<<11^-1)+i|0;t:{if(!((0|(i=h[e+12>>2]+-1&(i>>>16^i)))>=h[e+28>>2])&&-1!=(0|(i=h[h[e+36>>2]+(i<<2)>>2])))for(r=h[e+16>>2];;){if(o=y(i,12)+r|0,h[o+4>>2]==(0|n)&&h[o>>2]==(0|t))break t;if(-1==(0|(i=h[h[e+56>>2]+(i<<2)>>2])))break}o=0}return o}(h[e+28>>2],a,o),g[h[e+24>>2]+32>>2]>x(0)?(t=h[e+16>>2],n=0|r[h[h[t>>2]+8>>2]](t,i+32|0,i+8|0,0,2)):t?n=h[t+8>>2]:(t=h[e+16>>2],n=0|r[h[h[t>>2]+8>>2]](t,i+32|0,i+8|0,h[e+32>>2],1),t=h[e+28>>2],h[8+(0|r[h[h[t>>2]+12>>2]](t,a,o))>>2]=n),t=h[e+24>>2],L=h[t+12>>2],F=h[t+8>>2],h[t+12>>2]=i+8,h[t+8>>2]=i+32,r[h[h[t>>2]+8>>2]](t,-1,a),t=h[e+24>>2],r[h[h[t>>2]+12>>2]](t,-1,o),r[h[h[n>>2]+8>>2]](n,i+32|0,i+8|0,h[e+20>>2],h[e+24>>2]),e=h[e+24>>2],h[e+8>>2]=F,h[e+12>>2]=L)}r[h[5254]](),z=i+256|0},r[471]=_r,r[472]=Ca,r[473]=function(e,t,n,i){mi(e|=0,t|=0,n|=0,i|=0)},r[474]=function(e,t){va(e|=0,t|=0),bs(e)},r[475]=function(e,t,n){e|=0,t=x(t),n|=0;var i,o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0);z=i=z-96|0,o=x(r[h[h[e>>2]+48>>2]](e)),h[i+44>>2]=0,h[i+48>>2]=0,h[i+56>>2]=0,h[i+60>>2]=0,h[i+52>>2]=1065353216,h[i+76>>2]=0,h[i+80>>2]=0,h[i+72>>2]=1065353216,h[i+84>>2]=0,h[i+88>>2]=0,h[i+92>>2]=0,h[i+36>>2]=0,h[i+40>>2]=0,h[i+32>>2]=1065353216,h[i+64>>2]=0,h[i+68>>2]=0,r[h[h[e>>2]+8>>2]](e,i+32|0,i+16|0,i),c=g[i+24>>2],l=g[i+8>>2],a=g[i+16>>2],s=g[i>>2],p=g[i+20>>2],u=g[i+4>>2],h[n+12>>2]=0,t=x(t*x(.0833333283662796)),a=x(o+x(x(s-a)*x(.5))),a=x(a+a),a=x(a*a),s=x(o+x(x(u-p)*x(.5))),s=x(s+s),s=x(s*s),g[n+8>>2]=t*x(a+s),o=x(o+x(x(l-c)*x(.5))),o=x(o+o),o=x(o*o),g[n+4>>2]=t*x(a+o),g[n>>2]=t*x(s+o),z=i+96|0},r[476]=function(){return 11628},r[477]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=0,a=x(0),s=x(0),c=x(0),l=x(0),p=0,u=0,_=0,f=x(0),m=x(0),d=x(0);if(z=i=z-2048|0,h[e>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,c=g[n>>2],a=g[n+4>>2],l=g[n+8>>2],s=x(x(x(c*c)+x(a*a))+x(l*l)),f=x(1),s<x(9999999747378752e-20)||(s=x(x(1)/x(T(s))),m=x(l*s),d=x(a*s),f=x(c*s)),s=f,(0|r[h[h[t>>2]+96>>2]](t))>=1)for(l=x(-0xde0b6b000000000);;){if(p=128,((0|r[h[h[t>>2]+96>>2]](t))-u|0)>127||(0|(p=(0|r[h[h[t>>2]+96>>2]](t))-u|0))>=1){for(n=0,o=0;r[h[h[t>>2]+108>>2]](t,o,(o<<4)+i|0),(0|p)!=(0|(o=o+1|0)););for(_=-1,a=x(-34028234663852886e22);a=(o=(c=x(x(x(s*g[(o=(n<<4)+i|0)>>2])+x(d*g[o+4>>2]))+x(m*g[o+8>>2])))>a)?c:a,_=o?n:_,(0|p)!=(0|(n=n+1|0)););}else a=x(-34028234663852886e22),_=-1;if(a>l&&(n=h[12+(o=(_<<4)+i|0)>>2],h[e+8>>2]=h[o+8>>2],h[e+12>>2]=n,n=h[o+4>>2],h[e>>2]=h[o>>2],h[e+4>>2]=n,l=a),!((0|(u=u+128|0))<(0|r[h[h[t>>2]+96>>2]](t))))break}z=i+2048|0},r[478]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,a=0,s=0,c=x(0),l=0,p=0,u=0,_=0,f=0,m=0,d=0,v=x(0),A=0,y=x(0),b=x(0),C=x(0);if(z=o=z-2048|0,!((0|i)<=0)){for(;h[12+((a<<4)+n|0)>>2]=-581039253,(0|(a=a+1|0))!=(0|i););if(!((0|i)<1))for(;;){if((0|r[h[h[e>>2]+96>>2]](e))>=1)for(d=p=(a=f<<4)+n|0,A=m=t+a|0,u=0;;){if(_=128,((0|r[h[h[e>>2]+96>>2]](e))-u|0)>127||(0|(_=(0|r[h[h[e>>2]+96>>2]](e))-u|0))>=1){for(a=0;r[h[h[e>>2]+108>>2]](e,a,(a<<4)+o|0),(0|_)!=(0|(a=a+1|0)););for(y=g[A+8>>2],b=g[m+4>>2],C=g[m>>2],a=0,s=-1,c=x(-34028234663852886e22);c=(l=(v=x(x(x(C*g[(l=(a<<4)+o|0)>>2])+x(b*g[l+4>>2]))+x(y*g[l+8>>2])))>c)?v:c,s=l?a:s,(0|_)!=(0|(a=a+1|0)););}else c=x(-34028234663852886e22),s=-1;if(c>g[d+12>>2]&&(s=h[12+(a=(s<<4)+o|0)>>2],h[p+8>>2]=h[a+8>>2],h[p+12>>2]=s,s=h[a+4>>2],h[p>>2]=h[a>>2],h[p+4>>2]=s,g[d+12>>2]=c),!((0|(u=u+128|0))<(0|r[h[h[e>>2]+96>>2]](e))))break}if((0|(f=f+1|0))==(0|i))break}}z=o+2048|0},r[479]=Aa,r[480]=Wo,r[481]=al,r[482]=function(e){return(e=h[96+(e|=0)>>2]+-2|0)>>>0<=2?h[11648+(e<<2)>>2]:0},r[483]=function(e,t,n,i){t|=0,n|=0,i|=0;var o=0;e:{t:{n:{i:{o:if(!((o=h[96+(e|=0)>>2]+-2|0)>>>0>2)){r:switch(o-1|0){case 0:if(t>>>0>2)break o;a:switch(t-1|0){case 0:break n;case 1:break a;default:break i}break t;case 1:break r;default:break i}if(!(t>>>0>5)){r:switch(t-1|0){case 2:t=h[e+104>>2],h[n>>2]=h[e+100>>2],h[n+4>>2]=t,t=h[e+112>>2],h[n+8>>2]=h[e+108>>2],h[n+12>>2]=t;break e;case 3:t=h[e+128>>2],h[n+8>>2]=h[e+124>>2],h[n+12>>2]=t,t=h[e+120>>2],h[n>>2]=h[e+116>>2],h[n+4>>2]=t;break e;case 1:break t;case 0:break n;case 4:break r;default:break i}t=h[e+144>>2],h[n+8>>2]=h[e+140>>2],h[n+12>>2]=t,t=h[e+136>>2],h[n>>2]=h[e+132>>2],h[n+4>>2]=t,t=h[e+160>>2],h[i+8>>2]=h[e+156>>2],h[i+12>>2]=t,t=h[e+152>>2],h[i>>2]=h[e+148>>2],h[i+4>>2]=t}}return}return t=h[e+104>>2],h[n>>2]=h[e+100>>2],h[n+4>>2]=t,t=h[e+112>>2],h[n+8>>2]=h[e+108>>2],h[n+12>>2]=t,t=h[e+128>>2],h[i+8>>2]=h[e+124>>2],h[i+12>>2]=t,t=h[e+120>>2],h[i>>2]=h[e+116>>2],void(h[i+4>>2]=t)}return t=h[e+128>>2],h[n+8>>2]=h[e+124>>2],h[n+12>>2]=t,t=h[e+120>>2],h[n>>2]=h[e+116>>2],h[n+4>>2]=t,t=h[e+144>>2],h[i+8>>2]=h[e+140>>2],h[i+12>>2]=t,t=h[e+136>>2],h[i>>2]=h[e+132>>2],void(h[i+4>>2]=t)}return t=h[e+144>>2],h[n+8>>2]=h[e+140>>2],h[n+12>>2]=t,t=h[e+136>>2],h[n>>2]=h[e+132>>2],h[n+4>>2]=t,t=h[e+112>>2],h[i+8>>2]=h[e+108>>2],h[i+12>>2]=t,t=h[e+104>>2],h[i>>2]=h[e+100>>2],void(h[i+4>>2]=t)}t=h[e+160>>2],h[i+8>>2]=h[e+156>>2],h[i+12>>2]=t,t=h[e+152>>2],h[i>>2]=h[e+148>>2],h[i+4>>2]=t},r[484]=function(e,t,n){n|=0,t=h[112+(e=((t|=0)<<4)+(e|=0)|0)>>2],h[n+8>>2]=h[e+108>>2],h[n+12>>2]=t,t=h[e+104>>2],h[n>>2]=h[e+100>>2],h[n+4>>2]=t},r[485]=function(e){return 0|(4==(0|(e=h[96+(e|=0)>>2]))?4:(3==(0|e))<<1)},r[486]=Ns,r[487]=Ri,r[488]=function(){return 0},r[489]=Pi,r[490]=function(e){(e=Pi(e|=0))&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[491]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0);a=g[e+44>>2],l=g[e+60>>2],o=h[e+20>>2],s=g[e+40>>2],p=g[e+56>>2],c=g[e+36>>2],u=g[e+52>>2],I=x(r[h[h[e>>2]+48>>2]](e)),R=x(r[h[h[e>>2]+48>>2]](e)),N=x(r[h[h[e>>2]+48>>2]](e)),D=g[t+52>>2],_=g[t+24>>2],A=g[t+20>>2],f=g[t+56>>2],y=g[t+40>>2],C=g[t+36>>2],M=g[t+48>>2],S=g[t+8>>2],E=g[t>>2],w=g[t+4>>2],T=g[t+16>>2],P=g[t+32>>2],h[n+12>>2]=0,m=f,f=x(o?x(u+c)*x(.5):0),d=x(o?x(p+s)*x(.5):0),v=x(o?x(l+a)*x(.5):0),m=x(m+x(x(x(P*f)+x(C*d))+x(y*v))),c=x(I+x(o?x(u-c)*x(.5):0)),s=x(R+x(o?x(p-s)*x(.5):0)),a=x(N+x(o?x(l-a)*x(.5):0)),l=x(x(x(c*x(b(P)))+x(s*x(b(C))))+x(a*x(b(y)))),g[n+8>>2]=m-l,p=x(D+x(x(x(f*T)+x(d*A))+x(v*_))),u=x(x(x(c*x(b(T)))+x(s*x(b(A))))+x(a*x(b(_)))),g[n+4>>2]=p-u,_=x(M+x(x(x(f*E)+x(d*w))+x(v*S))),a=x(x(x(c*x(b(E)))+x(s*x(b(w))))+x(a*x(b(S)))),g[n>>2]=_-a,h[i+12>>2]=0,g[i+8>>2]=l+m,g[i+4>>2]=u+p,g[i>>2]=a+_},r[492]=function(e,t){e|=0,t|=0;var n,i=0,o=0,a=0,s=0,c=0,l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0);if(z=n=z-144|0,h[e+20>>2]>=1)for(a=n- -64|0;i=(s=y(c,80))+h[e+28>>2]|0,o=h[i+12>>2],h[n+24>>2]=h[i+8>>2],h[n+28>>2]=o,o=h[i+4>>2],h[n+16>>2]=h[i>>2],h[n+20>>2]=o,o=h[i+28>>2],h[n+40>>2]=h[i+24>>2],h[n+44>>2]=o,o=h[i+20>>2],h[n+32>>2]=h[i+16>>2],h[n+36>>2]=o,o=h[i+44>>2],h[n+56>>2]=h[i+40>>2],h[n+60>>2]=o,o=h[i+36>>2],h[n+48>>2]=h[i+32>>2],h[n+52>>2]=o,o=h[i+60>>2],h[a+8>>2]=h[i+56>>2],h[a+12>>2]=o,o=h[i+52>>2],h[a>>2]=h[i+48>>2],h[a+4>>2]=o,i=h[i+64>>2],i=0|r[h[h[i>>2]+28>>2]](i),h[n+8>>2]=h[i+8>>2],o=h[i+4>>2],h[n>>2]=h[i>>2],h[n+4>>2]=o,l=g[e+188>>2],p=g[t+4>>2],u=g[e+184>>2],_=g[t>>2],g[n+8>>2]=x(g[n+8>>2]*g[t+8>>2])/g[e+192>>2],h[n+12>>2]=0,g[n>>2]=x(_*g[n>>2])/u,g[n+4>>2]=x(p*g[n+4>>2])/l,i=h[64+(h[e+28>>2]+s|0)>>2],r[h[h[i>>2]+24>>2]](i,n),l=g[e+184>>2],p=g[t>>2],u=g[e+188>>2],_=g[t+4>>2],f=g[e+192>>2],m=g[t+8>>2],h[n+76>>2]=0,g[n+72>>2]=x(m*g[n+72>>2])/f,g[n+68>>2]=x(_*g[n+68>>2])/u,g[n+64>>2]=x(p*g[n+64>>2])/l,o=h[n+20>>2],i=h[e+28>>2]+s|0,h[i>>2]=h[n+16>>2],h[i+4>>2]=o,o=h[n+28>>2],h[i+8>>2]=h[n+24>>2],h[i+12>>2]=o,o=h[n+44>>2],h[i+24>>2]=h[n+40>>2],h[i+28>>2]=o,o=h[n+36>>2],h[i+16>>2]=h[n+32>>2],h[i+20>>2]=o,o=h[n+60>>2],h[i+40>>2]=h[n+56>>2],h[i+44>>2]=o,o=h[n+52>>2],h[i+32>>2]=h[n+48>>2],h[i+36>>2]=o,o=h[a+12>>2],h[i+56>>2]=h[a+8>>2],h[i+60>>2]=o,o=h[a+4>>2],h[i+48>>2]=h[a>>2],h[i+52>>2]=o,h[e+68>>2]&&(i=h[64+(h[e+28>>2]+s|0)>>2],r[h[h[i>>2]+8>>2]](i,n+16|0,n+128|0,n+112|0),i=h[n+140>>2],h[n+88>>2]=h[n+136>>2],h[n+92>>2]=i,i=h[n+132>>2],h[n+80>>2]=h[n+128>>2],h[n+84>>2]=i,i=h[n+124>>2],h[n+104>>2]=h[n+120>>2],h[n+108>>2]=i,i=h[n+116>>2],h[n+96>>2]=h[n+112>>2],h[n+100>>2]=i,Vc(h[e+68>>2],h[76+(h[e+28>>2]+s|0)>>2],n+80|0)),(0|(c=c+1|0))<h[e+20>>2];);i=h[t+4>>2],h[e+184>>2]=h[t>>2],h[e+188>>2]=i,i=h[t+12>>2],h[e+192>>2]=h[t+8>>2],h[e+196>>2]=i,r[h[h[e>>2]+68>>2]](e),z=n+144|0},r[493]=function(e){return 184+(e|=0)|0},r[494]=function(e,t,n){e|=0,t=x(t),n|=0;var i,o=x(0),a=x(0),s=x(0),c=x(0);z=i=z-96|0,h[i+44>>2]=0,h[i+48>>2]=0,h[i+56>>2]=0,h[i+60>>2]=0,h[i+52>>2]=1065353216,h[i+76>>2]=0,h[i+80>>2]=0,h[i+72>>2]=1065353216,h[i+84>>2]=0,h[i+88>>2]=0,h[i+92>>2]=0,h[i+36>>2]=0,h[i+40>>2]=0,h[i+32>>2]=1065353216,h[i+64>>2]=0,h[i+68>>2]=0,r[h[h[e>>2]+8>>2]](e,i+32|0,i+16|0,i),o=g[i+24>>2],c=g[i+8>>2],t=x(t/x(12)),a=x(x(g[i>>2]-g[i+16>>2])*x(.5)),a=x(a+a),a=x(a*a),s=x(x(g[i+4>>2]-g[i+20>>2])*x(.5)),s=x(s+s),s=x(s*s),g[n+8>>2]=t*x(a+s),o=x(x(c-o)*x(.5)),o=x(o+o),o=x(o*o),g[n+4>>2]=t*x(a+o),g[n>>2]=t*x(s+o),z=i+96|0},r[495]=function(){return 11816},r[496]=function(e,t){e|=0,t=x(t),g[e+76>>2]=t},r[497]=function(e){return x(g[76+(e|=0)>>2])},r[498]=function(){return 24},r[499]=function(e,t,n){var i=0,o=0,a=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,m=0,d=0;if(Rr(e|=0,t|=0,n|=0),h[t+20>>2]=h[e+76>>2],i=h[e+20>>2],h[t+12>>2]=0,h[t+16>>2]=i,i){if(s=0|r[h[h[n>>2]+16>>2]](n,76,i),i=h[s+8>>2],h[t+12>>2]=r[h[h[n>>2]+28>>2]](n,i),h[t+16>>2]>0)for(;a=(o=y(c,80))+h[e+28>>2]|0,h[i+72>>2]=h[a+72>>2],h[i+64>>2]=r[h[h[n>>2]+28>>2]](n,h[a+64>>2]),r[h[h[n>>2]+24>>2]](n,h[64+(o+h[e+28>>2]|0)>>2])||(a=h[64+(o+h[e+28>>2]|0)>>2],u=n,_=0|r[h[h[a>>2]+52>>2]](a),f=1,p=h[h[n>>2]+16>>2],a=0|r[p](0|u,0|_,0|f),l=h[64+(o+h[e+28>>2]|0)>>2],f=n,_=a,u=0|r[h[h[l>>2]+56>>2]](l,h[a+8>>2],n),m=1346455635,d=h[64+(o+h[e+28>>2]|0)>>2],p=h[h[n>>2]+20>>2],r[p](0|f,0|_,0|u,0|m,0|d)),o=o+h[e+28>>2]|0,h[i+68>>2]=h[o+68>>2],h[i>>2]=h[o>>2],h[i+4>>2]=h[o+4>>2],h[i+8>>2]=h[o+8>>2],h[i+12>>2]=h[o+12>>2],h[i+16>>2]=h[o+16>>2],h[i+20>>2]=h[o+20>>2],h[i+24>>2]=h[o+24>>2],h[i+28>>2]=h[o+28>>2],h[i+32>>2]=h[o+32>>2],h[i+36>>2]=h[o+36>>2],h[i+40>>2]=h[o+40>>2],h[i+44>>2]=h[o+44>>2],h[i+48>>2]=h[o+48>>2],h[i+52>>2]=h[o+52>>2],h[i+56>>2]=h[o+56>>2],h[i+60>>2]=h[o+60>>2],i=i+76|0,(0|(c=c+1|0))<h[t+16>>2];);r[h[h[n>>2]+20>>2]](n,s,11740,1497453121,h[s+8>>2])}return 11765},r[500]=function(e,t){t|=0;var n=0;if(h[72+(e|=0)>>2]=h[e+72>>2]+1,(0|(n=h[e+20>>2]))>=1)for(;n=n+-1|0,h[64+(h[e+28>>2]+y(n,80)|0)>>2]==(0|t)&&wi(e,n),(0|n)>0;);r[h[h[e>>2]+68>>2]](e)},r[501]=function(e){e|=0;var t,n=x(0),i=0,o=0,a=0;if(z=t=z-32|0,h[e+52>>2]=-581039253,h[e+56>>2]=-581039253,h[e+36>>2]=1566444395,h[e+40>>2]=1566444395,h[e+60>>2]=-581039253,h[e+64>>2]=0,h[e+44>>2]=1566444395,h[e+48>>2]=0,h[e+20>>2]>=1)for(;o=h[e+28>>2]+y(i,80)|0,a=h[o+64>>2],r[h[h[a>>2]+8>>2]](a,o,t+16|0,t),n=g[t+16>>2],g[e+36>>2]>n&&(g[e+36>>2]=n),n=g[t>>2],g[e+52>>2]<n&&(g[e+52>>2]=n),n=g[t+20>>2],g[e+40>>2]>n&&(g[e+40>>2]=n),n=g[t+4>>2],g[e+56>>2]<n&&(g[e+56>>2]=n),n=g[t+24>>2],g[e+44>>2]>n&&(g[e+44>>2]=n),n=g[t+8>>2],g[e+60>>2]<n&&(g[e+60>>2]=n),(0|(i=i+1|0))<h[e+20>>2];);z=t+32|0},r[502]=Po,r[503]=Ur,r[504]=vl,r[505]=function(e,t){e|=0,t|=0;var n=x(0),i=0,o=0,r=x(0);o=h[e+72>>2]<<2,n=g[o+t>>2],i=o,o=e+16|0,r=x(g[e+64>>2]*x(n/g[i+o>>2])),g[e+64>>2]=r,i=h[e+68>>2]<<2,n=x(g[i+t>>2]/g[o+i>>2]),i=h[e+76>>2]<<2,n=x(g[e+60>>2]*x(x(n+x(g[i+t>>2]/g[o+i>>2]))*x(.5))),g[e+60>>2]=n,g[e+56>>2]=n/x(T(x(x(r*r)+x(n*n)))),va(e,t)},r[506]=function(e,t,n){e|=0,t=x(t),n|=0;var i,o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0);z=i=z-96|0,h[i+44>>2]=0,h[i+48>>2]=0,h[i+56>>2]=0,h[i+60>>2]=0,h[i+52>>2]=1065353216,h[i+76>>2]=0,h[i+80>>2]=0,h[i+72>>2]=1065353216,h[i+84>>2]=0,h[i+88>>2]=0,h[i+92>>2]=0,h[i+36>>2]=0,h[i+40>>2]=0,h[i+32>>2]=1065353216,h[i+64>>2]=0,h[i+68>>2]=0,r[h[h[e>>2]+8>>2]](e,i+32|0,i+16|0,i),c=g[i+24>>2],l=g[i+8>>2],a=g[i+16>>2],s=g[i>>2],p=g[i+20>>2],u=g[i+4>>2],o=x(r[h[h[e>>2]+48>>2]](e)),h[n+12>>2]=0,t=x(t*x(.0833333283662796)),a=x(o+x(x(s-a)*x(.5))),a=x(a+a),a=x(a*a),s=x(o+x(x(u-p)*x(.5))),s=x(s+s),s=x(s*s),g[n+8>>2]=t*x(a+s),o=x(o+x(x(l-c)*x(.5))),o=x(o+o),o=x(o*o),g[n+4>>2]=t*x(a+o),g[n>>2]=t*x(s+o),z=i+96|0},r[507]=function(){return 11956},r[508]=function(e){h[8+(e|=0)>>2]=0,h[e+12>>2]=0,h[e>>2]=0,h[e+4>>2]=1065353216},r[509]=ws,r[510]=function(e,t,n){return Rr(e|=0,t|=0,n|=0),h[t+28>>2]=h[e+32>>2],h[t+32>>2]=h[e+36>>2],h[t+36>>2]=h[e+40>>2],h[t+40>>2]=h[e+44>>2],h[t+12>>2]=h[e+16>>2],h[t+16>>2]=h[e+20>>2],h[t+20>>2]=h[e+24>>2],h[t+24>>2]=h[e+28>>2],n=h[e+48>>2],h[t+48>>2]=0,h[t+44>>2]=n,e=h[e+72>>2],h[t+56>>2]=0,h[t+52>>2]=e,11961},r[511]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),a=x(0),s=x(0),c=x(0);rl(e,t,n),x(r[h[h[t>>2]+48>>2]](t))!=x(0)&&(o=g[n+4>>2],i=g[n>>2],a=g[n+8>>2],s=x(r[h[h[t>>2]+48>>2]](t)),c=i=(t=x(x(x(i*i)+x(o*o))+x(a*a))<x(14210854715202004e-30))?x(-1):i,a=t?x(-1):a,o=t?x(-1):o,i=x(x(1)/x(T(x(x(a*a)+x(x(i*i)+x(o*o)))))),g[e>>2]=g[e>>2]+x(s*x(c*i)),g[e+4>>2]=g[e+4>>2]+x(s*x(o*i)),g[e+8>>2]=g[e+8>>2]+x(s*x(a*i)))},r[512]=function(e,t,n){rl(e|=0,t|=0,n|=0)},r[513]=function(e,t,n,i){e|=0,t|=0,n|=0;var o,r=0,a=0,s=0;if(z=o=z-16|0,(0|(i|=0))>=1)for(;rl(o,e,(r=a<<4)+t|0),s=h[o+12>>2],h[8+(r=n+r|0)>>2]=h[o+8>>2],h[r+12>>2]=s,s=h[o+4>>2],h[r>>2]=h[o>>2],h[r+4>>2]=s,(0|(a=a+1|0))!=(0|i););z=o+16|0},r[514]=Ei,r[515]=function(e){(e=Ei(e|=0))&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[516]=Ur,r[517]=Si,r[518]=function(e,t,n){e|=0,t=x(t),n|=0;var i=x(0),o=x(0);i=x(r[h[h[e>>2]+48>>2]](e)),o=x(r[h[h[e>>2]+48>>2]](e)),h[n+12>>2]=0,t=x(o*x(i*x(t*x(.4000000059604645)))),g[n+8>>2]=t,g[n+4>>2]=t,g[n>>2]=t},r[519]=function(){return 12156},r[520]=function(e,t){e|=0,t=x(t),g[e+48>>2]=t},r[521]=function(e){return x(x(g[32+(e|=0)>>2]*g[e+16>>2]))},r[522]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=x(0),a=x(0),s=x(0),c=0,l=x(0),p=x(0);z=i=z-16|0,r[h[h[t>>2]+68>>2]](i,t,n),c=h[i+12>>2],h[e+8>>2]=h[i+8>>2],h[e+12>>2]=c,c=h[i+4>>2],h[e>>2]=h[i>>2],h[e+4>>2]=c,a=g[n+4>>2],o=g[n>>2],s=g[n+8>>2],l=x(r[h[h[t>>2]+48>>2]](t)),p=o=(t=x(x(x(o*o)+x(a*a))+x(s*s))<x(14210854715202004e-30))?x(-1):o,s=t?x(-1):s,a=t?x(-1):a,o=x(x(1)/x(T(x(x(s*s)+x(x(o*o)+x(a*a)))))),g[e>>2]=g[e>>2]+x(l*x(p*o)),g[e+4>>2]=g[e+4>>2]+x(l*x(a*o)),g[e+8>>2]=g[e+8>>2]+x(l*x(s*o)),z=i+16|0},r[523]=function(e){h[(e|=0)>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0},r[524]=function(e,t,n,i){(0|(i|=0))>=1&&Co(n|=0,0,i<<4)},r[525]=function(e){var t=0;return h[(e|=0)>>2]=12172,m[e+65|0]&&(t=h[e+56>>2],r[h[h[t>>2]>>2]](t),(t=h[e+56>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t))),0|e},r[526]=function(e){var t=0;h[(e|=0)>>2]=12172,m[e+65|0]&&(t=h[e+56>>2],r[h[h[t>>2]>>2]](t),(t=h[e+56>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t))),e&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[527]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),z=x(0);d=g[e+28>>2],E=g[e+44>>2],w=g[e+24>>2],T=g[e+40>>2],s=g[e+20>>2],P=g[e+36>>2],I=x(r[h[h[e>>2]+48>>2]](e)),R=x(r[h[h[e>>2]+48>>2]](e)),N=x(r[h[h[e>>2]+48>>2]](e)),D=g[t+52>>2],c=g[t+24>>2],l=g[t+20>>2],p=g[t+56>>2],u=g[e+24>>2],_=g[e+40>>2],v=g[e+28>>2],M=g[e+44>>2],f=g[t+40>>2],o=g[t+36>>2],O=g[t+48>>2],A=g[t+8>>2],y=g[t>>2],C=g[t+4>>2],S=g[t+16>>2],L=g[e+20>>2],z=g[e+36>>2],a=g[t+32>>2],h[n+12>>2]=0,m=p,p=x(x(z+L)*x(.5)),u=x(x(_+u)*x(.5)),_=x(x(M+v)*x(.5)),v=x(m+x(x(x(a*p)+x(o*u))+x(f*_))),s=x(I+x(x(P-s)*x(.5))),m=x(s*x(b(a))),a=x(R+x(x(T-w)*x(.5))),m=x(m+x(a*x(b(o)))),o=x(N+x(x(E-d)*x(.5))),f=x(m+x(o*x(b(f)))),g[n+8>>2]=v-f,d=x(D+x(x(x(p*S)+x(u*l))+x(_*c))),c=x(x(x(s*x(b(S)))+x(a*x(b(l))))+x(o*x(b(c)))),g[n+4>>2]=d-c,l=x(O+x(x(x(p*y)+x(u*C))+x(_*A))),o=x(x(x(s*x(b(y)))+x(a*x(b(C))))+x(o*x(b(A)))),g[n>>2]=l-o,h[i+12>>2]=0,g[i+8>>2]=f+v,g[i+4>>2]=c+d,g[i>>2]=o+l},r[528]=function(e,t){e|=0,t|=0;var n=x(0),i=0,o=x(0);i=0|r[h[h[e>>2]+28>>2]](e),n=x(g[i>>2]-g[t>>2]),o=x(n*n),n=x(g[i+4>>2]-g[t+4>>2]),o=x(o+x(n*n)),n=x(g[i+8>>2]-g[t+8>>2]),x(o+x(n*n))>x(1.1920928955078125e-7)&&(yi(e,t),m[e+65|0]&&(t=h[e+56>>2],r[h[h[t>>2]>>2]](t),(t=h[e+56>>2])&&(h[6658]=h[6658]+1,r[h[5256]](t))),h[6657]=h[6657]+1,i=ri(t=0|r[h[5255]](172,16)),h[e+56>>2]=t,oi(i,h[e+52>>2],m[e+64|0],e+20|0,e+36|0),a[e+65|0]=1)},r[529]=function(e){return h[52+(e|=0)>>2]+4|0},r[530]=Bs,r[531]=function(){return 12780},r[532]=function(e,t){e|=0,t=x(t),g[e+16>>2]=t},r[533]=function(e){return x(g[16+(e|=0)>>2])},r[534]=ws,r[535]=function(e,t,n){var i=0,o=0,a=0,s=0,c=0,l=0,p=0,u=0;Rr(e|=0,t|=0,n|=0),i=h[e+52>>2],r[h[h[i>>2]+56>>2]](i,t+12|0,n),h[t+52>>2]=h[e+16>>2];e:if(!h[e+56>>2]||1&r[h[h[n>>2]+52>>2]](n))h[t+40>>2]=0,h[t+44>>2]=0;else{if(i=0|r[h[h[n>>2]+24>>2]](n,h[e+56>>2])){h[t+44>>2]=0,h[t+40>>2]=i;break e}i=0|r[h[h[n>>2]+28>>2]](n,h[e+56>>2]),h[t+44>>2]=0,h[t+40>>2]=i,i=h[e+56>>2],s=n,c=0|r[h[h[i>>2]+12>>2]](i),l=1,a=h[h[n>>2]+16>>2],i=0|r[a](0|s,0|c,0|l),o=h[e+56>>2],l=n,c=i,s=0|r[h[h[o>>2]+16>>2]](o,h[i+8>>2],n),p=1213612625,u=h[e+56>>2],a=h[h[n>>2]+20>>2],r[a](0|l,0|c,0|s,0|p,0|u)}e:if(!h[e+60>>2]||2&r[h[h[n>>2]+52>>2]](n))h[t+48>>2]=0;else{if(i=0|r[h[h[n>>2]+24>>2]](n,h[e+60>>2])){h[t+48>>2]=i;break e}h[t+48>>2]=r[h[h[n>>2]+28>>2]](n,h[e+60>>2]),i=h[e+60>>2],u=n,p=0|r[h[h[i>>2]+8>>2]](i),s=1,a=h[h[n>>2]+16>>2],i=0|r[a](0|u,0|p,0|s),o=h[e+60>>2],s=n,p=i,u=0|r[h[h[o>>2]+12>>2]](o,h[i+8>>2],n),c=1346456916,l=h[e+60>>2],a=h[h[n>>2]+20>>2],r[a](0|s,0|p,0|u,0|c,0|l)}return h[t+56>>2]=0,12256},r[536]=function(e,t,n,i){var o,r;t|=0,n|=0,i|=0,z=o=z+-64|0,r=h[52+(e|=0)>>2],h[o+60>>2]=0,h[o+8>>2]=t,h[o+4>>2]=r,h[o>>2]=12644,lo(h[e+56>>2],o,n,i),z=o- -64|0},r[537]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=0,a=x(0),s=x(0),c=x(0),l=x(0);z=i=z-160|0,h[i+152>>2]=0,h[i+144>>2]=0,h[i+148>>2]=0,h[i+136>>2]=0,h[i+140>>2]=0,h[i+44>>2]=0,h[i+48>>2]=0,h[i+56>>2]=0,h[i+60>>2]=0,h[(o=i- -64|0)>>2]=0,h[o+4>>2]=0,h[i+76>>2]=0,h[i+80>>2]=0,h[i+72>>2]=1065353216,h[i+84>>2]=0,h[i+88>>2]=0,h[i+92>>2]=1065353216,h[i+96>>2]=0,o=h[i+144>>2],h[i+100>>2]=h[i+140>>2],h[i+104>>2]=o,o=h[i+152>>2],h[i+108>>2]=h[i+148>>2],h[i+112>>2]=o,h[i+36>>2]=0,h[i+40>>2]=0,h[i+32>>2]=13060,h[i+52>>2]=1065353216,h[i+116>>2]=-581039253,a=g[n+4>>2],s=g[n>>2],c=g[n+8>>2],h[i+132>>2]=0,l=x(c*x(0)),g[i+124>>2]=x(a+x(s*g[i+56>>2]))+l,a=x(a*x(0)),g[i+128>>2]=c+x(x(s*g[i+60>>2])+a),g[i+120>>2]=x(s+a)+l,h[i+24>>2]=1566444395,h[i+28>>2]=0,h[i+16>>2]=1566444395,h[i+20>>2]=1566444395,h[i+8>>2]=-581039253,h[i+12>>2]=0,h[i>>2]=-581039253,h[i+4>>2]=-581039253,r[h[h[t>>2]+64>>2]](t,i+32|0,i,i+16|0),t=h[i+48>>2],h[e+8>>2]=h[i+44>>2],h[e+12>>2]=t,t=h[i+40>>2],h[e>>2]=h[i+36>>2],h[e+4>>2]=t,z=i+160|0},r[538]=function(e,t,n){e|=0,n|=0,r[h[h[(t|=0)>>2]+68>>2]](e,t,n)},r[539]=function(e,t){t|=0;var n=0,i=0,o=0,a=0,s=0,c=0,l=0,p=0;(n=h[56+(e|=0)>>2])&&(a=t,s=0|r[h[h[n>>2]+12>>2]](n),c=1,o=h[h[t>>2]+16>>2],n=0|r[o](0|a,0|s,0|c),i=h[e+56>>2],c=t,s=n,a=0|r[h[h[i>>2]+16>>2]](i,h[n+8>>2],t),l=1213612625,p=h[e+56>>2],o=h[h[t>>2]+20>>2],r[o](0|c,0|s,0|a,0|l,0|p))},r[540]=function(e,t){t|=0;var n=0,i=0,o=0,a=0,s=0,c=0,l=0,p=0;(n=h[60+(e|=0)>>2])&&(a=t,s=0|r[h[h[n>>2]+8>>2]](n),c=1,o=h[h[t>>2]+16>>2],n=0|r[o](0|a,0|s,0|c),i=h[e+60>>2],c=t,s=n,a=0|r[h[h[i>>2]+12>>2]](i,h[n+8>>2],t),l=1346456916,p=h[e+60>>2],o=h[h[t>>2]+20>>2],r[o](0|c,0|s,0|a,0|l,0|p))},r[541]=Po,r[542]=yo,r[543]=bi,r[544]=yo,r[545]=bi,r[546]=yo,r[547]=function(e,t,n){e|=0,t|=0,n|=0;var i,o,a,s,c,l=0,p=0,u=0,_=0,f=x(0),v=x(0),b=x(0),C=x(0),S=0,E=0;z=i=z-32|0,h[e+60>>2]=h[e+60>>2]+1,_=h[e+4>>2],r[h[h[_>>2]+16>>2]](_,i+28|0,i+24|0,i+20|0,i+16|0,i+12|0,i+8|0,i+4|0,i,t),a=h[i+12>>2]+y(h[i+8>>2],n)|0,s=h[i+20>>2],_=(o=h[e+4>>2])+12|0,p=u=h[i+28>>2];e:if((l=(E=h[i>>2])+-2|0)>>>0<=1){if(S=d[a+4>>1],!(l-1))break e;S=h[a+8>>2]}else S=m[a+2|0];c=h[i+16>>2],l=p+y(S,c)|0,s?(f=x(g[o+8>>2]*x(A[l+8>>3])),v=x(g[o+4>>2]*x(A[l>>3])),b=x(A[l+16>>3]),p=_):(f=x(g[l+4>>2]*g[o+8>>2]),v=x(g[l>>2]*g[o+4>>2]),b=g[o+12>>2],p=l+8|0),C=g[p>>2],h[e+56>>2]=0,g[e+48>>2]=f,g[e+44>>2]=v,g[e+52>>2]=C*b;e:if((l=E+-2|0)>>>0<=1){if(p=h[a+4>>2],l-1)break e;p=d[a+2>>1]}else p=m[a+1|0];l=y(p,c)+u|0,s?(f=x(g[o+8>>2]*x(A[l+8>>3])),v=x(g[o+4>>2]*x(A[l>>3])),b=x(A[l+16>>3]),p=_):(f=x(g[l+4>>2]*g[o+8>>2]),v=x(g[l>>2]*g[o+4>>2]),b=g[o+12>>2],p=l+8|0),C=g[p>>2],h[e+40>>2]=0,g[e+32>>2]=f,g[e+28>>2]=v,g[e+36>>2]=C*b;e:if((l=E+-2|0)>>>0<=1){if(p=h[a>>2],l-1)break e;p=d[a>>1]}else p=m[0|a];u=y(p,c)+u|0,s?(b=x(A[u+16>>3]),f=x(g[o+8>>2]*x(A[u+8>>3])),v=x(g[o+4>>2]*x(A[u>>3]))):(_=u+8|0,b=g[o+12>>2],f=x(g[u+4>>2]*g[o+8>>2]),v=x(g[u>>2]*g[o+4>>2])),C=g[_>>2],h[e+24>>2]=0,g[e+16>>2]=f,g[(_=e+12|0)>>2]=v,g[e+20>>2]=C*b,u=h[e+8>>2],r[h[h[u>>2]+8>>2]](u,_,t,n),e=h[e+4>>2],r[h[h[e>>2]+24>>2]](e,t),z=i+32|0},r[548]=Po,r[549]=Ur,r[550]=yi,r[551]=function(){return 13108},r[552]=Ai,r[553]=Rr,r[554]=function(e,t,n,i){var o;e|=0,t|=0,n|=0,i|=0,z=o=z-48|0,h[o+12>>2]=t,h[o+8>>2]=12924,t=h[n+12>>2],h[o+24>>2]=h[n+8>>2],h[o+28>>2]=t,t=h[n+4>>2],h[o+16>>2]=h[n>>2],h[o+20>>2]=t,t=h[i+12>>2],h[o+40>>2]=h[i+8>>2],h[o+44>>2]=t,t=h[i+4>>2],h[o+32>>2]=h[i>>2],h[o+36>>2]=t,e=h[e+52>>2],r[h[h[e>>2]+8>>2]](e,o+8|0,n,i),z=o+48|0},r[555]=Po,r[556]=yo,r[557]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,a=x(0),s=x(0),c=x(0),l=x(0),p=0;((l=(a=g[t>>2])<(s=g[t+16>>2])?a:s)<(c=g[t+32>>2])?l:c)>g[e+24>>2]||g[(g[t+(o=(a>s^1)<<4)>>2]>c?o:32)+t>>2]<g[e+8>>2]||((l=(a=g[t+8>>2])<(s=g[(o=t+24|0)>>2])?a:s)<(c=g[(p=t+40|0)>>2])?l:c)>g[e+32>>2]||g[(g[(o=a>s?t+8|0:o)>>2]>c?o:p)>>2]<g[e+16>>2]||((l=(a=g[t+4>>2])<(s=g[(o=t+20|0)>>2])?a:s)<(c=g[(p=t+36|0)>>2])?l:c)>g[e+28>>2]||g[(g[(o=a>s?t+4|0:o)>>2]>c?o:p)>>2]<g[e+12>>2]||(e=h[e+4>>2],r[h[h[e>>2]+8>>2]](e,t,n,i))},r[558]=yo,r[559]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0);r=g[e+88>>2],a=g[e+92>>2],s=g[e+96>>2],(i=x(x(x(r*g[t>>2])+x(a*g[t+4>>2]))+x(s*g[t+8>>2])))>(o=g[e+84>>2])&&(g[e+84>>2]=i,n=h[t+12>>2],h[e+12>>2]=h[t+8>>2],h[e+16>>2]=n,n=h[t+4>>2],h[e+4>>2]=h[t>>2],h[e+8>>2]=n,o=i),(i=x(x(x(r*g[t+16>>2])+x(a*g[t+20>>2]))+x(s*g[t+24>>2])))>o&&(g[e+84>>2]=i,n=h[t+28>>2],h[e+12>>2]=h[t+24>>2],h[e+16>>2]=n,n=h[t+20>>2],h[e+4>>2]=h[t+16>>2],h[e+8>>2]=n,o=i),(i=x(x(x(r*g[t+32>>2])+x(a*g[t+36>>2]))+x(s*g[t+40>>2])))>o&&(g[e+84>>2]=i,n=h[t+44>>2],h[e+12>>2]=h[t+40>>2],h[e+16>>2]=n,n=h[t+36>>2],h[e+4>>2]=h[t+32>>2],h[e+8>>2]=n)},r[560]=Po,r[561]=Ur,r[562]=function(e,t,n,i){i|=0,h[8+(n|=0)>>2]=-581039253,h[n+12>>2]=0,h[n>>2]=-581039253,h[n+4>>2]=-581039253,h[i+8>>2]=1566444395,h[i+12>>2]=0,h[i>>2]=1566444395,h[i+4>>2]=1566444395},r[563]=function(e,t){e|=0;var n=0;n=h[4+(t|=0)>>2],h[e+72>>2]=h[t>>2],h[e+76>>2]=n,n=h[t+12>>2],h[e+80>>2]=h[t+8>>2],h[e+84>>2]=n},r[564]=function(e){return 72+(e|=0)|0},r[565]=Bs,r[566]=function(){return 13236},r[567]=Qs,r[568]=function(e,t,n){return Rr(e|=0,t|=0,n|=0),h[t+12>>2]=h[e+72>>2],h[t+16>>2]=h[e+76>>2],h[t+20>>2]=h[e+80>>2],h[t+24>>2]=h[e+84>>2],h[t+28>>2]=h[e+52>>2],h[t+32>>2]=h[e+56>>2],h[t+36>>2]=h[e+60>>2],h[t+40>>2]=h[e- -64>>2],e=h[e+68>>2],h[t+48>>2]=0,h[t+44>>2]=e,13248},r[569]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0),E=x(0);z=o=z-48|0,u=g[i>>2],l=g[n>>2],c=x(x(u-l)*x(.5)),p=x(c*c),s=g[i+4>>2],a=g[n+4>>2],c=x(x(s-a)*x(.5)),m=x(p+x(c*c)),p=g[i+8>>2],_=g[n+8>>2],c=x(x(p-_)*x(.5)),c=x(T(x(m+x(c*c)))),p=x(x(p+_)*x(.5)),_=x(x(s+a)*x(.5)),d=x(x(u+l)*x(.5)),u=g[e+60>>2],x(b(u))>x(.7071067690849304)?(l=g[e+56>>2],s=x(x(u*u)+x(l*l)),a=x(x(1)/x(T(s))),v=x(s*a),f=x(l*a),s=g[e+52>>2],A=x(f*x(-s)),a=x(a*x(-u)),y=x(s*a)):(s=g[e+52>>2],l=g[e+56>>2],v=x(x(s*s)+x(l*l)),a=x(x(1)/x(T(v))),y=x(v*a),S=x(a*x(-l)),A=x(u*S),a=x(s*a),v=x(a*x(-u))),C=g[e+68>>2],h[o+44>>2]=0,h[o+28>>2]=0,m=p,p=x(x(x(u*p)+x(x(d*s)+x(_*l)))-C),C=x(m-x(u*p)),f=x(c*f),m=x(C-f),u=x(c*y),y=x(m-u),g[o+40>>2]=y,_=x(_-x(l*p)),a=x(c*a),E=x(_-a),l=x(c*A),A=x(E-l),g[o+36>>2]=A,f=x(f+C),g[o+24>>2]=f-u,a=x(a+_),g[o+20>>2]=a-l,h[o+12>>2]=0,s=x(d-x(s*p)),p=x(c*S),_=x(s-p),c=x(c*v),d=x(_-c),g[o+32>>2]=d,s=x(p+s),g[o+16>>2]=s-c,p=x(u+f),g[o+8>>2]=p,a=x(l+a),g[o+4>>2]=a,s=x(c+s),g[o>>2]=s,r[h[h[t>>2]+8>>2]](t,o,0,0),h[o+44>>2]=0,g[o+40>>2]=p,g[o+36>>2]=a,h[o+28>>2]=0,g[o+24>>2]=u+m,g[o+20>>2]=l+E,g[o+32>>2]=s,g[o+16>>2]=c+_,h[o+12>>2]=0,g[o+8>>2]=y,g[o+4>>2]=A,g[o>>2]=d,r[h[h[t>>2]+8>>2]](t,o,0,1),z=o+48|0},r[570]=or,r[571]=or,r[572]=mi,r[573]=Po,r[574]=Ur,r[575]=Si,r[576]=function(e,t){e|=0;var n=0;n=h[4+(t|=0)>>2],h[e+20>>2]=h[t>>2],h[e+24>>2]=n,n=h[t+12>>2],h[e+28>>2]=h[t+8>>2],h[e+32>>2]=n},r[577]=function(e){return 20+(e|=0)|0},r[578]=function(e,t){t=x(t)},r[579]=function(){return 13732},r[580]=Ns,r[581]=or,r[582]=or,r[583]=Ur,r[584]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,r=x(0),a=0,s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0);o=e+32|0,a=h[e+56>>2],r=g[o+((a+2|0)%3<<2)>>2],h[12+(e=z-16|0)>>2]=0,g[e+8>>2]=r,g[e+4>>2]=r,g[e>>2]=r,g[(a<<=2)+e>>2]=r+g[a+o>>2],u=g[t+52>>2],s=g[t+24>>2],m=g[t+20>>2],_=g[t+56>>2],c=g[t+40>>2],d=g[t+36>>2],f=g[t+48>>2],v=g[t+8>>2],A=g[t>>2],y=g[t+4>>2],C=g[t+16>>2],S=g[t+32>>2],r=g[e+8>>2],l=g[e>>2],p=g[e+4>>2],h[n+12>>2]=0,c=x(x(x(l*x(b(S)))+x(p*x(b(d))))+x(r*x(b(c)))),g[n+8>>2]=_-c,s=x(x(x(l*x(b(C)))+x(p*x(b(m))))+x(r*x(b(s)))),g[n+4>>2]=u-s,r=x(x(x(l*x(b(A)))+x(p*x(b(y))))+x(r*x(b(v)))),g[n>>2]=f-r,h[i+12>>2]=0,g[i+8>>2]=_+c,g[i+4>>2]=u+s,g[i>>2]=f+r},r[585]=function(e,t){e|=0,t|=0;var n,i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0);i=g[e+16>>2],o=g[(n=e+32|0)>>2],r=g[e+20>>2],a=g[e+36>>2],s=g[e+24>>2],c=g[e+40>>2],va(e,t),l=g[t>>2],p=g[t+4>>2],u=g[t+8>>2],h[e+44>>2]=0,g[e+40>>2]=u*x(c/s),g[e+36>>2]=p*x(a/r),g[n>>2]=l*x(o/i),h[e+48>>2]=h[((h[e+56>>2]+2|0)%3<<2)+n>>2]},r[586]=function(e,t,n){e|=0,t=x(t),n|=0;var i,o=x(0),r=x(0),a=x(0),s=0,c=0;i=e+32|0,c=h[e+56>>2],s=h[i+((c+2|0)%3<<2)>>2],h[12+(e=z-16|0)>>2]=0,h[e+8>>2]=s,h[e+4>>2]=s,h[e>>2]=s,g[(c=(s=c<<2)+e|0)>>2]=g[s+i>>2]+g[c>>2],o=g[e+8>>2],t=x(t*x(.0833333283662796)),r=g[e>>2],r=x(r+r),r=x(r*r),a=g[e+4>>2],a=x(a+a),a=x(a*a),g[n+8>>2]=t*x(r+a),o=x(o+o),o=x(o*o),g[n+4>>2]=t*x(r+o),g[n>>2]=t*x(a+o)},r[587]=function(){return 14260},r[588]=_i,r[589]=eo,r[590]=ws,r[591]=function(e,t,n){return Rr(e|=0,t|=0,n|=0),h[t+28>>2]=h[e+32>>2],h[t+32>>2]=h[e+36>>2],h[t+36>>2]=h[e+40>>2],h[t+40>>2]=h[e+44>>2],h[t+12>>2]=h[e+16>>2],h[t+16>>2]=h[e+20>>2],h[t+20>>2]=h[e+24>>2],h[t+24>>2]=h[e+28>>2],n=h[e+48>>2],h[t+48>>2]=0,h[t+44>>2]=n,e=h[e+56>>2],h[t+56>>2]=0,h[t+52>>2]=e,14273},r[592]=function(e,t,n){e|=0,t|=0,n|=0;var i,o,r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0);i=z-16|0,h[e>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,a=g[n>>2],l=g[n+4>>2],r=g[n+8>>2],(s=x(x(x(a*a)+x(l*l))+x(r*r)))<x(9999999747378752e-20)?(s=x(0),a=x(1)):(c=r,r=x(x(1)/x(T(s))),p=x(c*r),s=x(l*r),a=x(a*r)),h[i+8>>2]=0,h[i+12>>2]=0,h[i>>2]=0,h[i+4>>2]=0,o=(n=h[t+56>>2]<<2)+i|0,u=g[32+(t+n|0)>>2],g[o>>2]=u,l=x(-0xde0b6b000000000),_=g[i>>2],f=g[i+4>>2],c=g[i+8>>2],(r=x(x(x(a*_)+x(s*f))+x(p*c)))>x(-0xde0b6b000000000)&&(h[e+12>>2]=h[i+12>>2],g[e+8>>2]=c,g[e+4>>2]=f,g[e>>2]=_,l=r),h[i+8>>2]=0,h[i+12>>2]=0,h[i>>2]=0,h[i+4>>2]=0,g[o>>2]=-u,c=a,a=g[i>>2],r=g[i+4>>2],c=x(x(c*a)+x(s*r)),s=g[i+8>>2],x(c+x(p*s))>l&&(h[e+12>>2]=h[i+12>>2],g[e+8>>2]=s,g[e+4>>2]=r,g[e>>2]=a)},r[593]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,r=0,a=0,s=x(0),c=0,l=x(0),p=x(0),u=x(0),_=x(0),f=0,m=x(0),d=x(0),v=x(0),A=x(0);if(o=z-16|0,(0|i)>=1)for(;h[o+8>>2]=0,h[o+12>>2]=0,h[o>>2]=0,h[o+4>>2]=0,c=(r=(a=h[e+56>>2])<<2)+o|0,l=g[32+(r=e+r|0)>>2],h[c>>2]=h[r+32>>2],_=g[o>>2],s=g[(r=(c=f<<4)+t|0)>>2],v=g[o+4>>2],m=g[r+4>>2],A=g[o+8>>2],d=g[r+8>>2],p=x(x(x(_*s)+x(v*m))+x(A*d)),u=x(-0xde0b6b000000000),p>x(-0xde0b6b000000000)&&(h[12+(a=n+c|0)>>2]=h[o+12>>2],g[a+8>>2]=A,g[a+4>>2]=v,g[a>>2]=_,d=g[r+8>>2],m=g[r+4>>2],s=g[r>>2],a=h[e+56>>2],l=g[32+((a<<2)+e|0)>>2],u=p),_=u,h[o+8>>2]=0,h[o+12>>2]=0,h[o>>2]=0,h[o+4>>2]=0,g[(a<<2)+o>>2]=-l,l=g[o>>2],p=g[o+4>>2],u=x(x(l*s)+x(p*m)),s=g[o+8>>2],x(u+x(s*d))>_&&(h[12+(r=n+c|0)>>2]=h[o+12>>2],g[r+8>>2]=s,g[r+4>>2]=p,g[r>>2]=l),(0|(f=f+1|0))!=(0|i););},r[594]=Ca,r[595]=function(e,t){e|=0;var n,i=0;i=h[4+(t|=0)>>2],n=h[e+96>>2],h[n+4>>2]=h[t>>2],h[n+8>>2]=i,i=h[t+12>>2],h[n+12>>2]=h[t+8>>2],h[n+16>>2]=i,bs(e)},r[596]=function(e){return h[96+(e|=0)>>2]+4|0},r[597]=function(){return 14528},r[598]=fi,r[599]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=x(0),a=x(0),c=x(0),l=x(0),p=0,_=0,f=0;z=i=z-80|0,h[e>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,h[e+12>>2]=0,a=g[n>>2],c=g[n+4>>2],l=g[n+8>>2],(o=x(x(x(a*a)+x(c*c))+x(l*l)))<x(9999999747378752e-20)?(p=1065353216,o=x(0)):(o=x(x(1)/x(T(o))),u(x(l*o)),_=s(0),u(x(c*o)),f=s(0),u(x(a*o)),p=s(0),o=g[n+12>>2]),h[i+52>>2]=0,h[i+56>>2]=0,g[i+76>>2]=o,h[i+72>>2]=_,h[i+68>>2]=f,h[i+44>>2]=0,h[i+48>>2]=0,h[i+40>>2]=14472,h[i+64>>2]=p,h[i+60>>2]=-581039253,h[i+32>>2]=1566444395,h[i+36>>2]=0,h[i+24>>2]=1566444395,h[i+28>>2]=1566444395,t=h[t+96>>2],h[i+16>>2]=-581039253,h[i+20>>2]=0,h[i+8>>2]=-581039253,h[i+12>>2]=-581039253,r[h[h[t>>2]+8>>2]](t,i+40|0,i+8|0,i+24|0),t=h[i+56>>2],h[e+8>>2]=h[i+52>>2],h[e+12>>2]=t,t=h[i+48>>2],h[e>>2]=h[i+44>>2],h[e+4>>2]=t,z=i+80|0},r[600]=function(e,t,n,i){e|=0,t|=0,n|=0;var o,a=0,s=0,c=0,l=0,p=0,u=0,_=0;if(z=o=z-80|0,!((0|(i|=0))<=0)){for(;h[12+((a<<4)+n|0)>>2]=-581039253,(0|(a=a+1|0))!=(0|i););if(!((0|i)<1))for(l=o- -64|0,_=o+40|4;h[o+40>>2]=14472,h[(s=_)+8>>2]=0,h[s+12>>2]=0,h[s>>2]=0,h[s+4>>2]=0,h[o+60>>2]=-581039253,c=h[12+(a=(p=u<<4)+t|0)>>2],h[l+8>>2]=h[a+8>>2],h[l+12>>2]=c,c=h[a+4>>2],h[l>>2]=h[a>>2],h[l+4>>2]=c,h[(a=o)+32>>2]=1566444395,h[a+36>>2]=0,h[a+24>>2]=1566444395,h[a+28>>2]=1566444395,c=h[e+96>>2],h[a+16>>2]=-581039253,h[a+20>>2]=0,h[a+8>>2]=-581039253,h[a+12>>2]=-581039253,r[h[h[c>>2]+8>>2]](c,a+40|0,a+8|0,a+24|0),a=n+p|0,p=h[s+12>>2],h[a+8>>2]=h[s+8>>2],h[a+12>>2]=p,c=h[s+4>>2],h[a>>2]=h[s>>2],h[a+4>>2]=c,(0|(u=u+1|0))!=(0|i););}z=o+80|0},r[601]=Aa,r[602]=Aa,r[603]=Ns,r[604]=Wo,r[605]=Aa,r[606]=Ns,r[607]=Ri,r[608]=yo,r[609]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0);r=g[e+24>>2],a=g[e+28>>2],s=g[e+32>>2],(i=x(x(x(r*g[t>>2])+x(a*g[t+4>>2]))+x(s*g[t+8>>2])))>(o=g[e+20>>2])&&(g[e+20>>2]=i,n=h[t+12>>2],h[e+12>>2]=h[t+8>>2],h[e+16>>2]=n,n=h[t+4>>2],h[e+4>>2]=h[t>>2],h[e+8>>2]=n,o=i),(i=x(x(x(r*g[t+16>>2])+x(a*g[t+20>>2]))+x(s*g[t+24>>2])))>o&&(g[e+20>>2]=i,n=h[t+28>>2],h[e+12>>2]=h[t+24>>2],h[e+16>>2]=n,n=h[t+20>>2],h[e+4>>2]=h[t+16>>2],h[e+8>>2]=n,o=i),(i=x(x(x(r*g[t+32>>2])+x(a*g[t+36>>2]))+x(s*g[t+40>>2])))>o&&(g[e+20>>2]=i,n=h[t+44>>2],h[e+12>>2]=h[t+40>>2],h[e+16>>2]=n,n=h[t+36>>2],h[e+4>>2]=h[t+32>>2],h[e+8>>2]=n)},r[610]=Po,r[611]=or,r[612]=Ca,r[613]=li,r[614]=ci,r[615]=function(e,t,n){e|=0,t=x(t),n|=0;var i=x(0),o=x(0),a=x(0),s=x(0),c=x(0),l=x(0);i=g[e+40>>2],o=g[e+36>>2],a=g[e+32>>2],s=x(r[h[h[e>>2]+48>>2]](e)),c=x(r[h[h[e>>2]+48>>2]](e)),l=x(r[h[h[e>>2]+48>>2]](e)),h[n+12>>2]=0,t=x(t/x(12)),a=x(a+s),a=x(a+a),a=x(a*a),o=x(o+c),o=x(o+o),o=x(o*o),g[n+8>>2]=t*x(a+o),i=x(i+l),i=x(i+i),i=x(i*i),g[n+4>>2]=t*x(a+i),g[n>>2]=t*x(o+i)},r[616]=function(){return 14816},r[617]=ys,r[618]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0);i=g[t+36>>2],o=g[t+40>>2],a=g[t+32>>2],s=x(r[h[h[t>>2]+48>>2]](t)),c=x(r[h[h[t>>2]+48>>2]](t)),l=x(r[h[h[t>>2]+48>>2]](t)),p=g[n>>2],u=g[n+4>>2],_=g[n+8>>2],h[e+12>>2]=0,o=x(o+l),g[e+8>>2]=_>=x(0)?o:x(-o),i=x(i+c),g[e+4>>2]=u>=x(0)?i:x(-i),i=x(a+s),g[e>>2]=p>=x(0)?i:x(-i)},r[619]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0);i=g[t+32>>2],o=g[t+36>>2],r=g[t+40>>2],a=g[n>>2],s=g[n+4>>2],c=g[n+8>>2],h[e+12>>2]=0,g[e+8>>2]=c>=x(0)?r:x(-r),g[e+4>>2]=s>=x(0)?o:x(-o),g[e>>2]=a>=x(0)?i:x(-i)},r[620]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,r=0,a=x(0),s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0);if((0|i)>=1)for(;a=g[e+32>>2],p=g[(o=(s=r<<4)+t|0)>>2],c=g[e+36>>2],u=g[o+4>>2],l=g[e+40>>2],_=g[o+8>>2],h[12+(o=n+s|0)>>2]=0,g[o+8>>2]=_>=x(0)?l:x(-l),g[o+4>>2]=u>=x(0)?c:x(-c),g[o>>2]=p>=x(0)?a:x(-a),(0|(r=r+1|0))!=(0|i););},r[621]=ai,r[622]=function(e,t,n){e|=0,n|=0,(t|=0)>>>0<=5&&(h[n+12>>2]=0,e=t<<2,h[n+8>>2]=h[e+14868>>2],h[n+4>>2]=h[e+14844>>2],h[n>>2]=h[e+14820>>2])},r[623]=function(){return 8},r[624]=Ai,r[625]=function(e,t,n,i){n|=0,i|=0;var o,a=0;o=e|=0,(t|=0)>>>0<=11?(a=h[14940+(t<<=2)>>2],t=h[t+14892>>2]):t=0,r[h[h[e>>2]+108>>2]](o,t,n),r[h[h[e>>2]+108>>2]](e,a,i)},r[626]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),a=x(0),s=x(0),c=x(0),l=x(0);o=g[e+40>>2],i=g[e+36>>2],a=g[e+32>>2],s=x(r[h[h[e>>2]+48>>2]](e)),c=x(r[h[h[e>>2]+48>>2]](e)),l=x(r[h[h[e>>2]+48>>2]](e)),h[n+12>>2]=0,i=x(i+c),e=t>>>1&1,g[n+4>>2]=x(i*x(1^e))-x(i*x(0|e)),i=x(a+s),e=1&t,g[n>>2]=x(i*x(1^e))-x(i*x(0|e)),o=x(o+l),e=t>>>2&1,g[n+8>>2]=x(o*x(1^e))-x(o*x(0|e))},r[627]=ai,r[628]=function(e,t,n,i){var o,a,s;t|=0,n|=0,i|=0,z=o=z-48|0,r[h[h[(e|=0)>>2]+124>>2]](e,o+32|0,i),i=h[o+32>>2],a=h[o+36>>2],s=h[o+40>>2],h[t+12>>2]=0,h[t+8>>2]=s,h[t+4>>2]=a,h[t>>2]=i,h[o+12>>2]=0,h[o+8>>2]=-2147483648^s,h[o+4>>2]=-2147483648^a,h[o>>2]=-2147483648^i,r[h[h[e>>2]+64>>2]](o+16|0,e,o),e=h[o+28>>2],h[n+8>>2]=h[o+24>>2],h[n+12>>2]=e,e=h[o+20>>2],h[n>>2]=h[o+16>>2],h[n+4>>2]=e,z=o+48|0},r[629]=function(e,t,n){e|=0,t|=0,n=x(n);var i=x(0),o=x(0),r=0;return i=g[t>>2],o=g[e+32>>2],i<=x(o+n)^1|i>=x(x(-o)-n)^1||(i=g[t+4>>2],o=g[e+36>>2],i<=x(o+n)^1|i>=x(x(-o)-n)^1||(i=g[t+8>>2],o=g[e+40>>2],i<=x(o+n)&&(r=i>=x(x(-o)-n)))),0|r},r[630]=function(e,t,n){e|=0,t|=0,n|=0;var i=0,o=x(0),r=x(0),a=x(0);if(n>>>0<=5){r=g[e+40>>2],a=g[e+36>>2],o=g[e+32>>2],e=1065353216,i=n;e:{t:{n:{i:switch(n-1|0){case 0:n=0,e=-1082130432,i=0;break e;case 1:n=1065353216;break t;case 2:n=-1082130432;break t;case 3:i=1065353216;break n;case 4:break i;default:break e}i=-1082130432}e=0,o=r,n=0;break e}e=0,o=a,i=0}h[t>>2]=e,g[t+12>>2]=-o,h[t+8>>2]=i,h[t+4>>2]=n}},r[631]=function(e){return vs(e|=0),0|e},r[632]=function(e){vs(e|=0),e&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[633]=Hn,r[634]=Ue,r[635]=function(e,t,n){e|=0,n|=0;var i=0,o=0,a=0,s=0,c=0,l=0;if(h[16+(t|=0)>>2]=h[e+20>>2],h[t+20>>2]=h[e+24>>2],h[t+24>>2]=h[e+28>>2],h[t+28>>2]=h[e+32>>2],h[t>>2]=h[e+4>>2],h[t+4>>2]=h[e+8>>2],h[t+8>>2]=h[e+12>>2],h[t+12>>2]=h[e+16>>2],h[t+32>>2]=h[e+36>>2],h[t+36>>2]=h[e+40>>2],h[t+40>>2]=h[e+44>>2],h[t+44>>2]=h[e+48>>2],h[t+48>>2]=h[e+56>>2],h[t+52>>2]=m[e+60|0],i=h[e+88>>2],h[t+56>>2]=i,i){if(i=0|r[h[h[n>>2]+28>>2]](n,h[e+96>>2]),h[t+64>>2]=i,i){if(s=h[e+88>>2],c=0|r[h[h[n>>2]+16>>2]](n,48,s),o=h[e+96>>2],(0|s)>=1)for(i=h[c+8>>2];o=(a<<6)+o|0,h[i+16>>2]=h[o+16>>2],h[i+20>>2]=h[o+20>>2],h[i+24>>2]=h[o+24>>2],h[i+28>>2]=h[o+28>>2],h[i>>2]=h[o>>2],h[i+4>>2]=h[o+4>>2],h[i+8>>2]=h[o+8>>2],h[i+12>>2]=h[o+12>>2],h[i+32>>2]=h[o+32>>2],h[i+36>>2]=h[o+36>>2],o=h[o+40>>2],h[i+44>>2]=0,h[i+40>>2]=o,i=i+48|0,o=h[e+96>>2],(0|s)!=(0|(a=a+1|0)););r[h[h[n>>2]+20>>2]](n,c,16972,1497453121,o)}}else h[t+64>>2]=0;if(i=h[e+128>>2],h[t+60>>2]=i,i){if(i=0|r[h[h[n>>2]+28>>2]](n,h[e+136>>2]),h[t+68>>2]=i,i){if(s=h[e+128>>2],c=0|r[h[h[n>>2]+16>>2]](n,16,s),l=h[e+136>>2],(0|s)>=1)for(i=h[c+8>>2],a=0;o=(a<<4)+l|0,h[i+12>>2]=h[o+12>>2],f[i+6>>1]=d[o+6>>1],f[i+8>>1]=d[o+8>>1],f[i+10>>1]=d[o+10>>1],f[i>>1]=d[o>>1],f[i+2>>1]=d[o+2>>1],f[i+4>>1]=d[o+4>>1],i=i+16|0,(0|s)!=(0|(a=a+1|0)););r[h[h[n>>2]+20>>2]](n,c,16995,1497453121,l)}}else h[t+68>>2]=0;if(h[t+76>>2]=h[e+144>>2],i=h[e+152>>2],h[t+80>>2]=i,!i)return h[t+72>>2]=0,17039;if(i=t,t=0|r[h[h[n>>2]+28>>2]](n,h[e+160>>2]),h[i+72>>2]=t,t){if(o=h[e+152>>2],a=0|r[h[h[n>>2]+16>>2]](n,20,o),s=h[e+160>>2],(0|o)>=1)for(i=h[a+8>>2],e=0;t=s+(e<<5)|0,f[i+14>>1]=d[t+6>>1],f[i+16>>1]=d[t+8>>1],f[i+18>>1]=d[t+10>>1],f[i+8>>1]=d[t>>1],f[i+10>>1]=d[t+2>>1],f[i+12>>1]=d[t+4>>1],h[i>>2]=h[t+12>>2],h[i+4>>2]=h[t+16>>2],i=i+20|0,(0|o)!=(0|(e=e+1|0)););r[h[h[n>>2]+20>>2]](n,a,17018,1497453121,s)}return 17039},r[636]=function(e,t){t|=0;var n,i=0,o=0,s=0,c=0,l=0,p=0,u=0,_=0;if(z=n=z+-64|0,h[20+(e|=0)>>2]=h[t+16>>2],h[e+24>>2]=h[t+20>>2],h[e+28>>2]=h[t+24>>2],h[e+32>>2]=h[t+28>>2],h[e+4>>2]=h[t>>2],h[e+8>>2]=h[t+4>>2],h[e+12>>2]=h[t+8>>2],h[e+16>>2]=h[t+12>>2],h[e+36>>2]=h[t+32>>2],h[e+40>>2]=h[t+36>>2],h[e+44>>2]=h[t+40>>2],h[e+48>>2]=h[t+44>>2],h[e+56>>2]=h[t+48>>2],a[e+60|0]=0!=h[t+52>>2],u=h[t+56>>2],h[(o=n)+56>>2]=0,h[o+60>>2]=0,h[o+48>>2]=0,h[o+52>>2]=0,h[o+40>>2]=0,h[o+44>>2]=0,h[o+32>>2]=0,h[o+36>>2]=0,h[o+24>>2]=0,h[o+28>>2]=0,h[o+16>>2]=0,h[o+20>>2]=0,h[o+8>>2]=0,h[o+12>>2]=0,h[o>>2]=0,h[o+4>>2]=0,(0|(p=h[e+88>>2]))<(0|u)){if(h[e+92>>2]<(0|u)){if(u?(h[6657]=h[6657]+1,_=0|r[h[5255]](u<<6,16),o=h[e+88>>2]):o=p,(0|o)>=1)for(;l=(i=s<<6)+_|0,c=i+h[e+96>>2]|0,i=h[c+4>>2],h[l>>2]=h[c>>2],h[l+4>>2]=i,i=h[c+60>>2],h[l+56>>2]=h[c+56>>2],h[l+60>>2]=i,i=h[c+52>>2],h[l+48>>2]=h[c+48>>2],h[l+52>>2]=i,i=h[c+44>>2],h[l+40>>2]=h[c+40>>2],h[l+44>>2]=i,i=h[c+36>>2],h[l+32>>2]=h[c+32>>2],h[l+36>>2]=i,i=h[c+28>>2],h[l+24>>2]=h[c+24>>2],h[l+28>>2]=i,i=h[c+20>>2],h[l+16>>2]=h[c+16>>2],h[l+20>>2]=i,i=h[c+12>>2],h[l+8>>2]=h[c+8>>2],h[l+12>>2]=i,(0|o)!=(0|(s=s+1|0)););(o=h[e+96>>2])&&(m[e+100|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+96>>2]=0),h[e+96>>2]=_,h[e+92>>2]=u,a[e+100|0]=1}for(;s=h[(o=n)+4>>2],i=h[e+96>>2]+(p<<6)|0,h[i>>2]=h[o>>2],h[i+4>>2]=s,s=h[o+60>>2],h[i+56>>2]=h[o+56>>2],h[i+60>>2]=s,s=h[o+52>>2],h[i+48>>2]=h[o+48>>2],h[i+52>>2]=s,s=h[o+44>>2],h[i+40>>2]=h[o+40>>2],h[i+44>>2]=s,s=h[o+36>>2],h[i+32>>2]=h[o+32>>2],h[i+36>>2]=s,s=h[o+28>>2],h[i+24>>2]=h[o+24>>2],h[i+28>>2]=s,s=h[o+20>>2],h[i+16>>2]=h[o+16>>2],h[i+20>>2]=s,s=h[o+12>>2],h[i+8>>2]=h[o+8>>2],h[i+12>>2]=s,(0|u)!=(0|(p=p+1|0)););}if(h[e+88>>2]=u,(0|u)>=1)for(o=h[e+96>>2],s=h[t+64>>2],p=0;h[16+(i=o+(p<<6)|0)>>2]=h[s+16>>2],h[i+20>>2]=h[s+20>>2],h[i+24>>2]=h[s+24>>2],h[i+28>>2]=h[s+28>>2],h[i>>2]=h[s>>2],h[i+4>>2]=h[s+4>>2],h[i+8>>2]=h[s+8>>2],h[i+12>>2]=h[s+12>>2],h[i+32>>2]=h[s+32>>2],h[i+36>>2]=h[s+36>>2],h[i+40>>2]=h[s+40>>2],s=s+48|0,(0|u)!=(0|(p=p+1|0)););if(c=h[t+60>>2],h[n+8>>2]=0,h[n+12>>2]=0,h[n>>2]=0,h[n+4>>2]=0,(0|(s=h[e+128>>2]))<(0|c)){if(h[e+132>>2]<(0|c)){if(c?(h[6657]=h[6657]+1,_=0|r[h[5255]](c<<4,16),o=h[e+128>>2]):(_=0,o=s),(0|o)>=1)for(p=0;u=(i=p<<4)+_|0,l=i+h[e+136>>2]|0,i=h[l+4>>2],h[u>>2]=h[l>>2],h[u+4>>2]=i,i=h[l+12>>2],h[u+8>>2]=h[l+8>>2],h[u+12>>2]=i,(0|o)!=(0|(p=p+1|0)););(o=h[e+136>>2])&&(m[e+140|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+136>>2]=0),h[e+136>>2]=_,h[e+132>>2]=c,a[e+140|0]=1}for(;o=h[n+4>>2],i=h[e+136>>2]+(s<<4)|0,h[i>>2]=h[n>>2],h[i+4>>2]=o,o=h[n+12>>2],h[i+8>>2]=h[n+8>>2],h[i+12>>2]=o,(0|c)!=(0|(s=s+1|0)););}if(h[e+128>>2]=c,(0|c)>=1)for(o=h[e+136>>2],s=h[t+68>>2],p=0;h[12+(i=o+(p<<4)|0)>>2]=h[s+12>>2],f[i+6>>1]=d[s+6>>1],f[i+8>>1]=d[s+8>>1],f[i+10>>1]=d[s+10>>1],f[i>>1]=d[s>>1],f[i+2>>1]=d[s+2>>1],f[i+4>>1]=d[s+4>>1],s=s+16|0,(0|c)!=(0|(p=p+1|0)););if(h[e+144>>2]=h[t+76>>2],(0|(p=h[e+152>>2]))<(0|(c=h[t+80>>2]))){if(h[e+156>>2]<(0|c)){if(c?(h[6657]=h[6657]+1,_=0|r[h[5255]](c<<5,16),o=h[e+152>>2]):(_=0,o=p),(0|o)>=1)for(s=0;u=(i=s<<5)+_|0,l=i+h[e+160>>2]|0,i=h[l+4>>2],h[u>>2]=h[l>>2],h[u+4>>2]=i,i=h[l+28>>2],h[u+24>>2]=h[l+24>>2],h[u+28>>2]=i,i=h[l+20>>2],h[u+16>>2]=h[l+16>>2],h[u+20>>2]=i,i=h[l+12>>2],h[u+8>>2]=h[l+8>>2],h[u+12>>2]=i,(0|o)!=(0|(s=s+1|0)););(o=h[e+160>>2])&&(m[e+164|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+160>>2]=0),h[e+160>>2]=_,h[e+156>>2]=c,a[e+164|0]=1}for(;o=h[n+4>>2],i=h[e+160>>2]+(p<<5)|0,h[i>>2]=h[n>>2],h[i+4>>2]=o,o=h[n+28>>2],h[i+24>>2]=h[n+24>>2],h[i+28>>2]=o,o=h[n+20>>2],h[i+16>>2]=h[n+16>>2],h[i+20>>2]=o,o=h[n+12>>2],h[i+8>>2]=h[n+8>>2],h[i+12>>2]=o,(0|c)!=(0|(p=p+1|0)););}if(h[e+152>>2]=c,(0|c)>=1)for(o=h[e+160>>2],s=h[t+72>>2],e=0;f[6+(t=o+(e<<5)|0)>>1]=d[s+14>>1],f[t+8>>1]=d[s+16>>1],f[t+10>>1]=d[s+18>>1],f[t>>1]=d[s+8>>1],f[t+2>>1]=d[s+10>>1],f[t+4>>1]=d[s+12>>1],h[t+12>>2]=h[s>>2],h[t+16>>2]=h[s+4>>2],s=s+20|0,(0|c)!=(0|(e=e+1|0)););z=n- -64|0},r[637]=function(e,t){t|=0;var n,i=0,o=0,s=0,c=0,l=0,p=0,u=0,_=0;if(z=n=z+-64|0,g[20+(e|=0)>>2]=A[t+32>>3],g[e+24>>2]=A[t+40>>3],g[e+28>>2]=A[t+48>>3],g[e+32>>2]=A[t+56>>3],g[e+4>>2]=A[t>>3],g[e+8>>2]=A[t+8>>3],g[e+12>>2]=A[t+16>>3],g[e+16>>2]=A[t+24>>3],g[e+36>>2]=A[t+64>>3],g[e+40>>2]=A[t+72>>3],g[e+44>>2]=A[t+80>>3],g[e+48>>2]=A[t+88>>3],h[e+56>>2]=h[t+96>>2],a[e+60|0]=0!=h[t+100>>2],u=h[t+104>>2],h[(o=n)+56>>2]=0,h[o+60>>2]=0,h[o+48>>2]=0,h[o+52>>2]=0,h[o+40>>2]=0,h[o+44>>2]=0,h[o+32>>2]=0,h[o+36>>2]=0,h[o+24>>2]=0,h[o+28>>2]=0,h[o+16>>2]=0,h[o+20>>2]=0,h[o+8>>2]=0,h[o+12>>2]=0,h[o>>2]=0,h[o+4>>2]=0,(0|(p=h[e+88>>2]))<(0|u)){if(h[e+92>>2]<(0|u)){if(u?(h[6657]=h[6657]+1,_=0|r[h[5255]](u<<6,16),o=h[e+88>>2]):o=p,(0|o)>=1)for(;l=(i=s<<6)+_|0,c=i+h[e+96>>2]|0,i=h[c+4>>2],h[l>>2]=h[c>>2],h[l+4>>2]=i,i=h[c+60>>2],h[l+56>>2]=h[c+56>>2],h[l+60>>2]=i,i=h[c+52>>2],h[l+48>>2]=h[c+48>>2],h[l+52>>2]=i,i=h[c+44>>2],h[l+40>>2]=h[c+40>>2],h[l+44>>2]=i,i=h[c+36>>2],h[l+32>>2]=h[c+32>>2],h[l+36>>2]=i,i=h[c+28>>2],h[l+24>>2]=h[c+24>>2],h[l+28>>2]=i,i=h[c+20>>2],h[l+16>>2]=h[c+16>>2],h[l+20>>2]=i,i=h[c+12>>2],h[l+8>>2]=h[c+8>>2],h[l+12>>2]=i,(0|o)!=(0|(s=s+1|0)););(o=h[e+96>>2])&&(m[e+100|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+96>>2]=0),h[e+96>>2]=_,h[e+92>>2]=u,a[e+100|0]=1}for(;s=h[(o=n)+4>>2],i=h[e+96>>2]+(p<<6)|0,h[i>>2]=h[o>>2],h[i+4>>2]=s,s=h[o+60>>2],h[i+56>>2]=h[o+56>>2],h[i+60>>2]=s,s=h[o+52>>2],h[i+48>>2]=h[o+48>>2],h[i+52>>2]=s,s=h[o+44>>2],h[i+40>>2]=h[o+40>>2],h[i+44>>2]=s,s=h[o+36>>2],h[i+32>>2]=h[o+32>>2],h[i+36>>2]=s,s=h[o+28>>2],h[i+24>>2]=h[o+24>>2],h[i+28>>2]=s,s=h[o+20>>2],h[i+16>>2]=h[o+16>>2],h[i+20>>2]=s,s=h[o+12>>2],h[i+8>>2]=h[o+8>>2],h[i+12>>2]=s,(0|u)!=(0|(p=p+1|0)););}if(h[e+88>>2]=u,(0|u)>=1)for(o=h[e+96>>2],s=h[t+112>>2],p=0;g[16+(i=o+(p<<6)|0)>>2]=A[s+32>>3],g[i+20>>2]=A[s+40>>3],g[i+24>>2]=A[s+48>>3],g[i+28>>2]=A[s+56>>3],g[i>>2]=A[s>>3],g[i+4>>2]=A[s+8>>3],g[i+8>>2]=A[s+16>>3],g[i+12>>2]=A[s+24>>3],h[i+32>>2]=h[s+64>>2],h[i+36>>2]=h[s+68>>2],h[i+40>>2]=h[s+72>>2],s=s+80|0,(0|u)!=(0|(p=p+1|0)););if(c=h[t+108>>2],h[n+8>>2]=0,h[n+12>>2]=0,h[n>>2]=0,h[n+4>>2]=0,(0|(s=h[e+128>>2]))<(0|c)){if(h[e+132>>2]<(0|c)){if(c?(h[6657]=h[6657]+1,_=0|r[h[5255]](c<<4,16),o=h[e+128>>2]):(_=0,o=s),(0|o)>=1)for(p=0;u=(i=p<<4)+_|0,l=i+h[e+136>>2]|0,i=h[l+4>>2],h[u>>2]=h[l>>2],h[u+4>>2]=i,i=h[l+12>>2],h[u+8>>2]=h[l+8>>2],h[u+12>>2]=i,(0|o)!=(0|(p=p+1|0)););(o=h[e+136>>2])&&(m[e+140|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+136>>2]=0),h[e+136>>2]=_,h[e+132>>2]=c,a[e+140|0]=1}for(;o=h[n+4>>2],i=h[e+136>>2]+(s<<4)|0,h[i>>2]=h[n>>2],h[i+4>>2]=o,o=h[n+12>>2],h[i+8>>2]=h[n+8>>2],h[i+12>>2]=o,(0|c)!=(0|(s=s+1|0)););}if(h[e+128>>2]=c,(0|c)>=1)for(o=h[e+136>>2],s=h[t+116>>2],p=0;h[12+(i=o+(p<<4)|0)>>2]=h[s+12>>2],f[i+6>>1]=d[s+6>>1],f[i+8>>1]=d[s+8>>1],f[i+10>>1]=d[s+10>>1],f[i>>1]=d[s>>1],f[i+2>>1]=d[s+2>>1],f[i+4>>1]=d[s+4>>1],s=s+16|0,(0|c)!=(0|(p=p+1|0)););if(h[e+144>>2]=h[t+120>>2],(0|(p=h[e+152>>2]))<(0|(c=h[t+124>>2]))){if(h[e+156>>2]<(0|c)){if(c?(h[6657]=h[6657]+1,_=0|r[h[5255]](c<<5,16),o=h[e+152>>2]):(_=0,o=p),(0|o)>=1)for(s=0;u=(i=s<<5)+_|0,l=i+h[e+160>>2]|0,i=h[l+4>>2],h[u>>2]=h[l>>2],h[u+4>>2]=i,i=h[l+28>>2],h[u+24>>2]=h[l+24>>2],h[u+28>>2]=i,i=h[l+20>>2],h[u+16>>2]=h[l+16>>2],h[u+20>>2]=i,i=h[l+12>>2],h[u+8>>2]=h[l+8>>2],h[u+12>>2]=i,(0|o)!=(0|(s=s+1|0)););(o=h[e+160>>2])&&(m[e+164|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+160>>2]=0),h[e+160>>2]=_,h[e+156>>2]=c,a[e+164|0]=1}for(;o=h[n+4>>2],i=h[e+160>>2]+(p<<5)|0,h[i>>2]=h[n>>2],h[i+4>>2]=o,o=h[n+28>>2],h[i+24>>2]=h[n+24>>2],h[i+28>>2]=o,o=h[n+20>>2],h[i+16>>2]=h[n+16>>2],h[i+20>>2]=o,o=h[n+12>>2],h[i+8>>2]=h[n+8>>2],h[i+12>>2]=o,(0|c)!=(0|(p=p+1|0)););}if(h[e+152>>2]=c,(0|c)>=1)for(o=h[e+160>>2],s=h[t+128>>2],e=0;f[6+(t=o+(e<<5)|0)>>1]=d[s+14>>1],f[t+8>>1]=d[s+16>>1],f[t+10>>1]=d[s+18>>1],f[t>>1]=d[s+8>>1],f[t+2>>1]=d[s+10>>1],f[t+4>>1]=d[s+12>>1],h[t+12>>2]=h[s>>2],h[t+16>>2]=h[s+4>>2],s=s+20|0,(0|c)!=(0|(e=e+1|0)););z=n- -64|0},r[638]=function(e,t,n,i){return 0|Hn(e|=0,t|=0,n|=0,i|=0)},r[639]=yo,r[640]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,s=x(0),l=0,p=0,u=0,d=x(0),v=0,A=x(0),y=0,b=0,C=0,S=x(0),E=x(0),w=x(0),T=x(0),P=0,I=0,R=0,N=x(0),D=x(0),M=x(0);if(p=h[t+40>>2],l=h[t+24>>2],v=h[t+8>>2],y=(S=g[t+8>>2])<x(0xde0b6b000000000)?v:1566444395,y=(A=g[t+24>>2])<(c(0,y),_())?l:y,c(0,(d=g[t+40>>2])<(c(0,y),_())?p:y),s=_(),u=p,p=A>(c(0,p=S>x(-0xde0b6b000000000)?v:-581039253),_())?l:p,c(0,d>(c(0,p),_())?u:p),S=_(),v=x(S-s)<x(.0020000000949949026),p=h[e+8>>2],N=g[p+12>>2],D=g[p+44>>2],y=65534&(l=(s=x(x((v?x(s+x(-.0010000000474974513)):s)-N)*D))<x(4294967296)&s>=x(0)?~~s>>>0:0),l=h[t+36>>2],b=h[t+20>>2],P=h[t+4>>2],u=(A=g[t+4>>2])<x(0xde0b6b000000000)?P:1566444395,u=(d=g[t+20>>2])<(c(0,u),_())?b:u,c(0,(E=g[t+36>>2])<(c(0,u),_())?l:u),s=_(),u=l,l=d>(c(0,l=A>x(-0xde0b6b000000000)?P:-581039253),_())?b:l,c(0,E>(c(0,l),_())?u:l),A=_(),b=x(A-s)<x(.0020000000949949026),E=g[p+8>>2],M=g[p+40>>2],P=65534&(l=(s=x(x((b?x(s+x(-.0010000000474974513)):s)-E)*M))<x(4294967296)&s>=x(0)?~~s>>>0:0),l=h[t+32>>2],u=h[t+16>>2],I=h[t>>2],C=(d=g[t>>2])<x(0xde0b6b000000000)?I:1566444395,C=(w=g[t+16>>2])<(c(0,C),_())?u:C,c(0,(T=g[t+32>>2])<(c(0,C),_())?l:C),s=_(),t=w>(c(0,t=d>x(-0xde0b6b000000000)?I:-581039253),_())?u:t,c(0,T>(c(0,t),_())?l:t),d=_(),l=x(d-s)<x(.0020000000949949026),w=g[p+4>>2],T=g[p+36>>2],u=65534&(t=(s=x(x((l?x(s+x(-.0010000000474974513)):s)-w)*T))<x(4294967296)&s>=x(0)?~~s>>>0:0),I=1|(t=(s=x(x(x((v?x(S+x(.0010000000474974513)):S)-N)*D)+x(1)))<x(4294967296)&s>=x(0)?~~s>>>0:0),b=1|(t=(s=x(x(x((b?x(A+x(.0010000000474974513)):A)-E)*M)+x(1)))<x(4294967296)&s>=x(0)?~~s>>>0:0),C=1|(t=(s=x(x(x((l?x(d+x(.0010000000474974513)):d)-w)*T)+x(1)))<x(4294967296)&s>=x(0)?~~s>>>0:0),o=n<<21|i,e=h[e+4>>2],(0|(n=h[e+4>>2]))==h[e+8>>2]&&!((0|n)>=(0|(i=n?n<<1:1)))){if(i?(h[6657]=h[6657]+1,p=0|r[h[5255]](i<<4,16),n=h[e+4>>2]):p=0,(0|n)>=1)for(t=0;v=(l=t<<4)+p|0,l=l+h[e+12>>2]|0,R=h[l+4>>2],h[v>>2]=h[l>>2],h[v+4>>2]=R,R=h[l+12>>2],h[v+8>>2]=h[l+8>>2],h[v+12>>2]=R,(0|n)!=(0|(t=t+1|0)););(t=h[e+12>>2])&&(m[e+16|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+12>>2]=0),h[e+12>>2]=p,a[e+16|0]=1,h[e+8>>2]=i,n=h[e+4>>2]}t=h[e+12>>2]+(n<<4)|0,h[t+12>>2]=o,f[t+6>>1]=C,f[t+4>>1]=y,f[t+2>>1]=P,f[t>>1]=u,f[t+10>>1]=I,f[t+8>>1]=b,h[e+4>>2]=h[e+4>>2]+1},r[641]=yo,r[642]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,s,l,p,u,f=0,d=0,v=0,A=0,y=x(0),b=x(0),C=x(0),S=x(0),E=0,w=0,T=0,P=0,I=0,R=x(0),N=x(0),D=x(0),M=x(0),O=x(0),L=x(0),F=x(0);if(z=o=z-32|0,b=g[t+44>>2],C=g[t+28>>2],L=(y=(y=(S=g[t+12>>2])>x(0)?S:x(0))<C?C:y)<b?b:y,F=b<(y=C<(y=S<x(0)?S:x(0))?C:y)?b:y,s=h[t+40>>2],f=h[t+24>>2],P=h[t+8>>2],d=(R=g[t+8>>2])>x(-0xde0b6b000000000)?P:-581039253,d=(N=g[t+24>>2])>(c(0,d),_())?f:d,l=(D=g[t+40>>2])>(c(0,d),_())?s:d,v=h[t+36>>2],A=h[t+20>>2],I=h[t+4>>2],d=(M=g[t+4>>2])>x(-0xde0b6b000000000)?I:-581039253,d=(O=g[t+20>>2])>(c(0,d),_())?A:d,p=(b=g[t+36>>2])>(c(0,d),_())?v:d,E=h[t+32>>2],T=h[t+16>>2],w=h[t>>2],d=(C=g[t>>2])>x(-0xde0b6b000000000)?w:-581039253,d=(S=g[t+16>>2])>(c(0,d),_())?T:d,u=(y=g[t+32>>2])>(c(0,d),_())?E:d,t=N<(c(0,t=R<x(0xde0b6b000000000)?P:1566444395),_())?f:t,P=D<(c(0,t),_())?s:t,t=O<(c(0,t=M<x(0xde0b6b000000000)?I:1566444395),_())?A:t,I=b<(c(0,t),_())?v:t,t=S<(c(0,t=C<x(0xde0b6b000000000)?w:1566444395),_())?T:t,d=y<(c(0,t),_())?E:t,A=h[e+4>>2],(0|(t=h[A+4>>2]))==h[A+8>>2]&&!((0|t)>=(0|(E=t?t<<1:1)))){if(E?(h[6657]=h[6657]+1,T=0|r[h[5255]](E<<6,16),t=h[A+4>>2]):T=0,(0|t)>=1)for(w=0;f=(e=w<<6)+T|0,v=e+h[A+12>>2]|0,e=h[v+4>>2],h[f>>2]=h[v>>2],h[f+4>>2]=e,e=h[v+60>>2],h[f+56>>2]=h[v+56>>2],h[f+60>>2]=e,e=h[v+52>>2],h[f+48>>2]=h[v+48>>2],h[f+52>>2]=e,e=h[v+44>>2],h[f+40>>2]=h[v+40>>2],h[f+44>>2]=e,e=h[v+36>>2],h[f+32>>2]=h[v+32>>2],h[f+36>>2]=e,e=h[v+28>>2],h[f+24>>2]=h[v+24>>2],h[f+28>>2]=e,e=h[v+20>>2],h[f+16>>2]=h[v+16>>2],h[f+20>>2]=e,e=h[v+12>>2],h[f+8>>2]=h[v+8>>2],h[f+12>>2]=e,(0|(w=w+1|0))!=(0|t););(e=h[A+12>>2])&&(m[A+16|0]&&e&&(h[6658]=h[6658]+1,r[h[5256]](e)),h[A+12>>2]=0),h[A+12>>2]=T,a[A+16|0]=1,h[A+8>>2]=E,t=h[A+4>>2]}t=h[A+12>>2]+(t<<6)|0,h[t+40>>2]=i,h[t+36>>2]=n,h[t+32>>2]=-1,h[t+16>>2]=u,g[t+12>>2]=F,h[t+8>>2]=P,h[t+4>>2]=I,h[t>>2]=d,g[t+28>>2]=L,h[t+24>>2]=l,h[t+20>>2]=p,e=h[o+16>>2],h[t+44>>2]=h[o+12>>2],h[t+48>>2]=e,e=h[o+24>>2],h[t+52>>2]=h[o+20>>2],h[t+56>>2]=e,h[t+60>>2]=h[o+28>>2],h[A+4>>2]=h[A+4>>2]+1,z=o+32|0},r[643]=function(e){return h[(e|=0)>>2]=15324,0|e},r[644]=function(e){h[(e|=0)>>2]=15324,e&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[645]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0);p=g[t+56>>2],f=g[t+36>>2],m=g[t+40>>2],u=g[t+52>>2],s=g[t+20>>2],c=g[e+116>>2],a=g[e+24>>2],l=g[e+40>>2],d=g[t+24>>2],v=g[e+120>>2],A=g[e+28>>2],y=g[e+44>>2],C=g[t+32>>2],_=g[t+48>>2],S=g[t>>2],E=g[t+4>>2],w=g[t+8>>2],T=g[t+16>>2],o=g[e+112>>2],P=g[e+20>>2],I=g[e+36>>2],R=x(r[h[h[e>>2]+48>>2]](e)),N=x(r[h[h[e>>2]+48>>2]](e)),D=x(r[h[h[e>>2]+48>>2]](e)),h[n+12>>2]=0,o=x(x(o*x(I-P))*x(.5)),c=x(x(c*x(l-a))*x(.5)),a=x(x(o*x(b(T)))+x(c*x(b(s)))),s=x(x(v*x(y-A))*x(.5)),a=x(N+x(a+x(s*x(b(d))))),g[n+4>>2]=u-a,l=x(R+x(x(x(o*x(b(S)))+x(c*x(b(E))))+x(s*x(b(w))))),g[n>>2]=_-l,o=x(D+x(x(x(o*x(b(C)))+x(c*x(b(f))))+x(s*x(b(m))))),g[n+8>>2]=p-o,h[i+12>>2]=0,g[i+8>>2]=p+o,g[i+4>>2]=u+a,g[i>>2]=_+l},r[646]=function(e,t){e|=0;var n=0;n=h[4+(t|=0)>>2],h[e+112>>2]=h[t>>2],h[e+116>>2]=n,n=h[t+12>>2],h[e+120>>2]=h[t+8>>2],h[e+124>>2]=n},r[647]=function(e){return 112+(e|=0)|0},r[648]=Bs,r[649]=function(){return 15436},r[650]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=0,_=x(0),f=0,d=0,v=x(0),A=0,y=0,C=0,S=0,E=0,w=0,T=0;z=o=z-48|0,_=g[e+44>>2],s=g[e+28>>2],l=x(x(1)/g[e+120>>2]),p=g[e+60>>2],d=((a=_<(a=(a=x(x(l*g[i+8>>2])+p))<s?s:a)?_:a)<x(0)?-.5:.5)+ +a,A=b(d)<2147483648?~~d:-2147483648,d=((a=_<(a=(a=x(x(l*g[n+8>>2])+p))<s?s:a)?_:a)<x(0)?-.5:.5)+ +a,w=b(d)<2147483648?~~d:-2147483648,_=g[e+40>>2],s=g[e+24>>2],l=x(x(1)/g[e+116>>2]),p=g[e+56>>2],d=((a=_<(a=(a=x(x(l*g[i+4>>2])+p))<s?s:a)?_:a)<x(0)?-.5:.5)+ +a,u=b(d)<2147483648?~~d:-2147483648,d=((a=_<(a=(a=x(x(l*g[n+4>>2])+p))<s?s:a)?_:a)<x(0)?-.5:.5)+ +a,f=b(d)<2147483648?~~d:-2147483648,_=g[e+36>>2],s=g[e+20>>2],l=x(x(1)/g[e+112>>2]),p=g[e+52>>2],d=((a=_<(a=(a=x(x(l*g[i>>2])+p))<s?s:a)?_:a)<x(0)?-.5:.5)+ +a,i=b(d)<2147483648?~~d:-2147483648,d=((a=_<(a=(a=x(x(l*g[n>>2])+p))<s?s:a)?_:a)<x(0)?-.5:.5)+ +a,n=b(d)<2147483648?~~d:-2147483648,y=h[e+72>>2]+-1|0,C=h[e+68>>2]+-1|0;e:if((E=h[e+108>>2])>>>0>2)A=0,f=0;else{switch(A=A+1|0,w=w+-1|0,u=u+1|0,f=f+-1|0,i=i+1|0,n=n+-1|0,E-1|0){default:y=(0|A)<(0|y)?A:y,C=(0|u)<(0|C)?u:C,A=(0|f)>0?f:0,f=(0|w)>0?w:0;break e;case 0:y=(0|A)<(0|y)?A:y,C=(0|i)<(0|C)?i:C,A=(0|n)>0?n:0,f=(0|w)>0?w:0;break e;case 1:}y=(0|u)<(0|y)?u:y,C=(0|i)<(0|C)?i:C,A=(0|n)>0?n:0,f=(0|f)>0?f:0}if((0|f)<(0|y))for(;;){if(w=y,(0|A)>=(0|C))f=f+1|0;else{for(T=1&f,v=x(0|(E=f+1|0)),_=x(0|f),n=A;;){if(!m[e+106|0]|T&&!(m[e+104|0]|(n+f&1?0:m[e+105|0]))){s=x(r[h[h[e>>2]+68>>2]](e,n,f)),i=o;e:{t:{n:{i:{o:{if((u=h[e+108>>2])>>>0<=2)switch(u-1|0){case 1:break n;case 0:break i;default:break o}c=g[o+8>>2],s=g[o+4>>2],a=g[o>>2];break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+52>>2],h[o+12>>2]=0,a=x(s-a),g[o>>2]=a,c=x(_-x(p*x(.5))),g[o+8>>2]=c,s=x(x(0|n)-x(l*x(.5))),g[o+4>>2]=s;break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+56>>2],h[o+12>>2]=0,s=x(s-a),g[o+4>>2]=s,c=x(_-x(p*x(.5))),g[o+8>>2]=c,a=x(x(0|n)-x(l*x(.5)));break t}l=g[e+84>>2],p=g[e+88>>2],a=g[e+60>>2],h[o+12>>2]=0,c=x(s-a),g[o+8>>2]=c,s=x(_-x(p*x(.5))),g[o+4>>2]=s,a=x(x(0|n)-x(l*x(.5)))}g[i>>2]=a}g[o>>2]=a*g[e+112>>2],g[o+4>>2]=s*g[e+116>>2],g[o+8>>2]=c*g[e+120>>2],s=x(r[h[h[e>>2]+68>>2]](e,n,E)),i=o;e:{t:{n:{i:{o:{if((u=h[e+108>>2])>>>0<=2)switch(u-1|0){case 1:break n;case 0:break i;default:break o}c=g[o+24>>2],s=g[o+20>>2],a=g[o+16>>2];break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+52>>2],h[o+28>>2]=0,a=x(s-a),g[o+16>>2]=a,c=x(v-x(p*x(.5))),g[o+24>>2]=c,s=x(x(0|n)-x(l*x(.5))),g[o+20>>2]=s;break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+56>>2],h[o+28>>2]=0,s=x(s-a),g[o+20>>2]=s,c=x(v-x(p*x(.5))),g[o+24>>2]=c,a=x(x(0|n)-x(l*x(.5)));break t}l=g[e+84>>2],p=g[e+88>>2],a=g[e+60>>2],h[o+28>>2]=0,c=x(s-a),g[o+24>>2]=c,s=x(v-x(p*x(.5))),g[o+20>>2]=s,a=x(x(0|n)-x(l*x(.5)))}g[i+16>>2]=a}g[o+16>>2]=a*g[e+112>>2],g[o+20>>2]=s*g[e+116>>2],g[o+24>>2]=c*g[e+120>>2],i=n+1|0,s=x(r[h[h[e>>2]+68>>2]](e,i,f)),S=o;e:{t:{n:{i:{o:{if((u=h[e+108>>2])>>>0<=2)switch(u-1|0){case 1:break n;case 0:break i;default:break o}c=g[o+40>>2],s=g[o+36>>2],a=g[o+32>>2];break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+52>>2],h[o+44>>2]=0,a=x(s-a),g[o+32>>2]=a,c=x(_-x(p*x(.5))),g[o+40>>2]=c,s=x(x(0|i)-x(l*x(.5))),g[o+36>>2]=s;break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+56>>2],h[o+44>>2]=0,s=x(s-a),g[o+36>>2]=s,c=x(_-x(p*x(.5))),g[o+40>>2]=c,a=x(x(0|i)-x(l*x(.5)));break t}l=g[e+84>>2],p=g[e+88>>2],a=g[e+60>>2],h[o+44>>2]=0,c=x(s-a),g[o+40>>2]=c,s=x(_-x(p*x(.5))),g[o+36>>2]=s,a=x(x(0|i)-x(l*x(.5)))}g[S+32>>2]=a}g[o+32>>2]=a*g[e+112>>2],g[o+36>>2]=s*g[e+116>>2],g[o+40>>2]=c*g[e+120>>2],r[h[h[t>>2]+8>>2]](t,o,n,f),s=x(r[h[h[e>>2]+68>>2]](e,i,f)),S=o;e:{t:{n:{i:{o:{if((u=h[e+108>>2])>>>0<=2)switch(u-1|0){case 1:break n;case 0:break i;default:break o}c=g[o+8>>2],s=g[o+4>>2],a=g[o>>2];break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+52>>2],h[o+12>>2]=0,a=x(s-a),g[o>>2]=a,c=x(_-x(p*x(.5))),g[o+8>>2]=c,s=x(x(0|i)-x(l*x(.5))),g[o+4>>2]=s;break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+56>>2],h[o+12>>2]=0,s=x(s-a),g[o+4>>2]=s,c=x(_-x(p*x(.5))),g[o+8>>2]=c,a=x(x(0|i)-x(l*x(.5)));break t}l=g[e+84>>2],p=g[e+88>>2],a=g[e+60>>2],h[o+12>>2]=0,c=x(s-a),g[o+8>>2]=c,s=x(_-x(p*x(.5))),g[o+4>>2]=s,a=x(x(0|i)-x(l*x(.5)))}g[S>>2]=a}g[o>>2]=a*g[e+112>>2],g[o+4>>2]=s*g[e+116>>2],g[o+8>>2]=c*g[e+120>>2],s=x(r[h[h[e>>2]+68>>2]](e,i,E)),S=o;e:{t:{n:{i:{o:{if((u=h[e+108>>2])>>>0<=2)switch(u-1|0){case 1:break n;case 0:break i;default:break o}c=g[o+40>>2],s=g[o+36>>2],a=g[o+32>>2];break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+52>>2],h[o+44>>2]=0,a=x(s-a),g[o+32>>2]=a,c=x(v-x(p*x(.5))),g[o+40>>2]=c,s=x(x(0|i)-x(l*x(.5))),g[o+36>>2]=s;break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+56>>2],h[o+44>>2]=0,s=x(s-a),g[o+36>>2]=s,c=x(v-x(p*x(.5))),g[o+40>>2]=c,a=x(x(0|i)-x(l*x(.5)));break t}l=g[e+84>>2],p=g[e+88>>2],a=g[e+60>>2],h[o+44>>2]=0,c=x(s-a),g[o+40>>2]=c,s=x(v-x(p*x(.5))),g[o+36>>2]=s,a=x(x(0|i)-x(l*x(.5)))}g[S+32>>2]=a}}else{s=x(r[h[h[e>>2]+68>>2]](e,n,f)),i=o;e:{t:{n:{i:{o:{if((u=h[e+108>>2])>>>0<=2)switch(u-1|0){case 1:break n;case 0:break i;default:break o}c=g[o+8>>2],s=g[o+4>>2],a=g[o>>2];break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+52>>2],h[o+12>>2]=0,a=x(s-a),g[o>>2]=a,c=x(_-x(p*x(.5))),g[o+8>>2]=c,s=x(x(0|n)-x(l*x(.5))),g[o+4>>2]=s;break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+56>>2],h[o+12>>2]=0,s=x(s-a),g[o+4>>2]=s,c=x(_-x(p*x(.5))),g[o+8>>2]=c,a=x(x(0|n)-x(l*x(.5)));break t}l=g[e+84>>2],p=g[e+88>>2],a=g[e+60>>2],h[o+12>>2]=0,c=x(s-a),g[o+8>>2]=c,s=x(_-x(p*x(.5))),g[o+4>>2]=s,a=x(x(0|n)-x(l*x(.5)))}g[i>>2]=a}g[o>>2]=a*g[e+112>>2],g[o+4>>2]=s*g[e+116>>2],g[o+8>>2]=c*g[e+120>>2],s=x(r[h[h[e>>2]+68>>2]](e,n,E)),i=o;e:{t:{n:{i:{o:{if((u=h[e+108>>2])>>>0<=2)switch(u-1|0){case 1:break n;case 0:break i;default:break o}c=g[o+24>>2],s=g[o+20>>2],a=g[o+16>>2];break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+52>>2],h[o+28>>2]=0,a=x(s-a),g[o+16>>2]=a,c=x(v-x(p*x(.5))),g[o+24>>2]=c,s=x(x(0|n)-x(l*x(.5))),g[o+20>>2]=s;break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+56>>2],h[o+28>>2]=0,s=x(s-a),g[o+20>>2]=s,c=x(v-x(p*x(.5))),g[o+24>>2]=c,a=x(x(0|n)-x(l*x(.5)));break t}l=g[e+84>>2],p=g[e+88>>2],a=g[e+60>>2],h[o+28>>2]=0,c=x(s-a),g[o+24>>2]=c,s=x(v-x(p*x(.5))),g[o+20>>2]=s,a=x(x(0|n)-x(l*x(.5)))}g[i+16>>2]=a}g[o+16>>2]=a*g[e+112>>2],g[o+20>>2]=s*g[e+116>>2],g[o+24>>2]=c*g[e+120>>2],i=n+1|0,s=x(r[h[h[e>>2]+68>>2]](e,i,E)),S=o;e:{t:{n:{i:{o:{if((u=h[e+108>>2])>>>0<=2)switch(u-1|0){case 1:break n;case 0:break i;default:break o}c=g[o+40>>2],s=g[o+36>>2],a=g[o+32>>2];break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+52>>2],h[o+44>>2]=0,a=x(s-a),g[o+32>>2]=a,c=x(v-x(p*x(.5))),g[o+40>>2]=c,s=x(x(0|i)-x(l*x(.5))),g[o+36>>2]=s;break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+56>>2],h[o+44>>2]=0,s=x(s-a),g[o+36>>2]=s,c=x(v-x(p*x(.5))),g[o+40>>2]=c,a=x(x(0|i)-x(l*x(.5)));break t}l=g[e+84>>2],p=g[e+88>>2],a=g[e+60>>2],h[o+44>>2]=0,c=x(s-a),g[o+40>>2]=c,s=x(v-x(p*x(.5))),g[o+36>>2]=s,a=x(x(0|i)-x(l*x(.5)))}g[S+32>>2]=a}g[o+32>>2]=a*g[e+112>>2],g[o+36>>2]=s*g[e+116>>2],g[o+40>>2]=c*g[e+120>>2],r[h[h[t>>2]+8>>2]](t,o,n,f),s=x(r[h[h[e>>2]+68>>2]](e,i,E)),S=o;e:{t:{n:{i:{o:{if((u=h[e+108>>2])>>>0<=2)switch(u-1|0){case 1:break n;case 0:break i;default:break o}c=g[o+24>>2],s=g[o+20>>2],a=g[o+16>>2];break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+52>>2],h[o+28>>2]=0,a=x(s-a),g[o+16>>2]=a,c=x(v-x(p*x(.5))),g[o+24>>2]=c,s=x(x(0|i)-x(l*x(.5))),g[o+20>>2]=s;break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+56>>2],h[o+28>>2]=0,s=x(s-a),g[o+20>>2]=s,c=x(v-x(p*x(.5))),g[o+24>>2]=c,a=x(x(0|i)-x(l*x(.5)));break t}l=g[e+84>>2],p=g[e+88>>2],a=g[e+60>>2],h[o+28>>2]=0,c=x(s-a),g[o+24>>2]=c,s=x(v-x(p*x(.5))),g[o+20>>2]=s,a=x(x(0|i)-x(l*x(.5)))}g[S+16>>2]=a}g[o+16>>2]=a*g[e+112>>2],g[o+20>>2]=s*g[e+116>>2],g[o+24>>2]=c*g[e+120>>2],s=x(r[h[h[e>>2]+68>>2]](e,i,f)),S=o;e:{t:{n:{i:{o:{if((u=h[e+108>>2])>>>0<=2)switch(u-1|0){case 1:break n;case 0:break i;default:break o}c=g[o+40>>2],s=g[o+36>>2],a=g[o+32>>2];break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+52>>2],h[o+44>>2]=0,a=x(s-a),g[o+32>>2]=a,c=x(_-x(p*x(.5))),g[o+40>>2]=c,s=x(x(0|i)-x(l*x(.5))),g[o+36>>2]=s;break e}l=g[e+84>>2],p=g[e+88>>2],a=g[e+56>>2],h[o+44>>2]=0,s=x(s-a),g[o+36>>2]=s,c=x(_-x(p*x(.5))),g[o+40>>2]=c,a=x(x(0|i)-x(l*x(.5)));break t}l=g[e+84>>2],p=g[e+88>>2],a=g[e+60>>2],h[o+44>>2]=0,c=x(s-a),g[o+40>>2]=c,s=x(_-x(p*x(.5))),g[o+36>>2]=s,a=x(x(0|i)-x(l*x(.5)))}g[S+32>>2]=a}}if(g[o+32>>2]=a*g[e+112>>2],g[o+36>>2]=s*g[e+116>>2],g[o+40>>2]=c*g[e+120>>2],r[h[h[t>>2]+8>>2]](t,o,n,f),n=i,(0|i)==(0|C))break}f=E}if((0|w)==(0|f))break}z=o+48|0},r[651]=function(e,t,n){e|=0,t|=0,n|=0;var i=0,o=x(0);e:if(!((i=h[e+100>>2])>>>0>5)){switch(i-1|0){default:return x(g[h[e+96>>2]+(y(h[e+68>>2],n)+t<<2)>>2]);case 4:return x(x(g[e+92>>2]*x(m[h[e+96>>2]+(y(h[e+68>>2],n)+t|0)|0])));case 0:case 1:case 3:break e;case 2:}o=x(g[e+92>>2]*x(f[h[e+96>>2]+(y(h[e+68>>2],n)+t<<1)>>1]))}return x(o)},r[652]=Ur,r[653]=li,r[654]=ci,r[655]=function(e,t,n){e|=0,t=x(t),n|=0;var i,o=x(0),a=x(0),s=x(0),c=x(0),l=0;z=i=z-16|0,l=h[e+44>>2],h[i+8>>2]=h[e+40>>2],h[i+12>>2]=l,l=h[e+36>>2],h[i>>2]=h[e+32>>2],h[i+4>>2]=l,o=x(r[h[h[e>>2]+48>>2]](e)),c=x(r[h[h[e>>2]+48>>2]](e)),g[i+8>>2]=x(r[h[h[e>>2]+48>>2]](e))+g[i+8>>2],g[i>>2]=o+g[i>>2],g[i+4>>2]=c+g[i+4>>2],o=x(t*x(.5)),c=x(t*x(.25)),t=x(t/x(12));e:{t:if(!((e=h[e+56>>2])>>>0>2)){switch(e-1|0){default:s=o,o=g[i+4>>2],a=x(o*o),o=x(s*a),s=t,t=g[i>>2],s=a=x(x(c*a)+x(s*x(t*x(t*x(4)))));break e;case 0:break t;case 1:}a=o,o=g[i>>2],o=x(o*o),s=x(a*o),a=t,t=g[i+8>>2],a=o=x(x(c*o)+x(a*x(t*x(t*x(4)))));break e}a=o,o=g[i>>2],o=x(o*o),a=x(a*o),s=t,t=g[i+4>>2],s=o=x(x(c*o)+x(s*x(t*x(t*x(4)))))}h[n+12>>2]=0,g[n+8>>2]=s,g[n+4>>2]=a,g[n>>2]=o,z=i+16|0},r[656]=function(){return 15584},r[657]=_i,r[658]=ys,r[659]=ws,r[660]=function(e,t,n){return Rr(e|=0,t|=0,n|=0),h[t+28>>2]=h[e+32>>2],h[t+32>>2]=h[e+36>>2],h[t+36>>2]=h[e+40>>2],h[t+40>>2]=h[e+44>>2],h[t+12>>2]=h[e+16>>2],h[t+16>>2]=h[e+20>>2],h[t+20>>2]=h[e+24>>2],h[t+24>>2]=h[e+28>>2],n=h[e+48>>2],h[t+48>>2]=0,h[t+44>>2]=n,e=h[e+56>>2],h[t+56>>2]=0,h[t+52>>2]=e,15594},r[661]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=x(0),a=x(0),s=x(0),c=0,l=x(0),p=x(0);z=i=z-16|0,r[h[h[t>>2]+68>>2]](i,t,n),c=h[i+12>>2],h[e+8>>2]=h[i+8>>2],h[e+12>>2]=c,c=h[i+4>>2],h[e>>2]=h[i>>2],h[e+4>>2]=c,x(r[h[h[t>>2]+48>>2]](t))!=x(0)&&(a=g[n+4>>2],o=g[n>>2],s=g[n+8>>2],l=x(r[h[h[t>>2]+48>>2]](t)),p=o=(t=x(x(x(o*o)+x(a*a))+x(s*s))<x(14210854715202004e-30))?x(-1):o,s=t?x(-1):s,a=t?x(-1):a,o=x(x(1)/x(T(x(x(s*s)+x(x(o*o)+x(a*a)))))),g[e>>2]=g[e>>2]+x(l*x(p*o)),g[e+4>>2]=g[e+4>>2]+x(l*x(a*o)),g[e+8>>2]=g[e+8>>2]+x(l*x(s*o))),z=i+16|0},r[662]=function(e,t,n){e|=0,t|=0,n|=0;var i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0);i=g[t+36>>2],o=g[t+32>>2],r=g[n>>2],a=g[n+8>>2],(s=x(T(x(x(r*r)+x(a*a)))))==x(0)||(o=x(o/s),c=x(a*o),o=x(r*o)),i=g[n+4>>2]<x(0)?x(-i):i,g[e+8>>2]=c,g[e+4>>2]=i,g[e>>2]=o},r[663]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,r=x(0),a=x(0),s=x(0),c=0,l=x(0),p=0,u=x(0);if((0|i)>=1)for(;r=g[e+36>>2],a=g[e+32>>2],l=g[(o=(p=c<<4)+t|0)>>2],s=g[o+8>>2],(u=x(T(x(x(l*l)+x(s*s)))))==x(0)?(s=x(0),r=g[o+4>>2]<x(0)?x(-r):r):(a=x(a/u),s=x(s*a),a=x(l*a),r=g[o+4>>2]<x(0)?x(-r):r),g[8+(o=n+p|0)>>2]=s,g[o+4>>2]=r,g[o>>2]=a,(0|(c=c+1|0))!=(0|i););},r[664]=function(e){e|=0;var t=x(0),n=x(0);return t=g[e+32>>2],n=x(r[h[h[e>>2]+48>>2]](e)),x(r[h[h[e>>2]+48>>2]](e)),x(r[h[h[e>>2]+48>>2]](e)),x(x(t+n))},r[665]=ii,r[666]=function(e){var t;h[(e|=0)>>2]=15804,(t=h[e+32>>2])&&(m[e+36|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+32>>2]=0),h[e+32>>2]=0,h[e+24>>2]=0,h[e+28>>2]=0,a[e+36|0]=1,e&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[667]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o,a=0,s=0,c=0,l=0,p=x(0),u=x(0),_=x(0),f=x(0),v=x(0),b=x(0),C=0,S=0,E=0,w=0;if(z=n=z-80|0,(0|(o=0|r[h[h[e>>2]+28>>2]](e)))>=1)for(p=g[e+12>>2],u=g[e+8>>2],_=g[e+4>>2];;){r[h[h[e>>2]+16>>2]](e,n+76|0,n+52|0,n- -64|0,n+56|0,n+72|0,n+68|0,n+48|0,n+60|0,w);e:if(!((i=h[n+64>>2])>>>0>1))if(i-1){if((i=h[n+60>>2]+-2|0)>>>0>3)break e;switch(i-1|0){default:if(i=0,h[n+48>>2]<1)break e;for(;c=h[n+76>>2],l=h[n+56>>2],a=h[n+72>>2]+y(h[n+68>>2],i)|0,s=c+y(l,h[a>>2])|0,f=g[s>>2],v=g[s+4>>2],b=g[s+8>>2],h[n+12>>2]=0,g[n+8>>2]=p*b,g[n+4>>2]=u*v,g[n>>2]=_*f,s=c+y(l,h[a+4>>2])|0,f=g[s>>2],v=g[s+4>>2],b=g[s+8>>2],h[n+28>>2]=0,g[n+24>>2]=p*b,g[n+20>>2]=u*v,g[n+16>>2]=_*f,a=c+y(l,h[a+8>>2])|0,f=g[a>>2],v=g[a+4>>2],b=g[a+8>>2],h[n+44>>2]=0,g[n+40>>2]=p*b,g[n+36>>2]=u*v,g[n+32>>2]=_*f,r[h[h[t>>2]+8>>2]](t,n,w,i),(0|(i=i+1|0))<h[n+48>>2];);break e;case 0:if(i=0,h[n+48>>2]<=0)break e;for(;c=h[n+76>>2],l=h[n+56>>2],a=h[n+72>>2]+y(h[n+68>>2],i)|0,s=c+y(l,d[a>>1])|0,f=g[s>>2],v=g[s+4>>2],b=g[s+8>>2],h[n+12>>2]=0,g[n+8>>2]=p*b,g[n+4>>2]=u*v,g[n>>2]=_*f,s=c+y(l,d[a+2>>1])|0,f=g[s>>2],v=g[s+4>>2],b=g[s+8>>2],h[n+28>>2]=0,g[n+24>>2]=p*b,g[n+20>>2]=u*v,g[n+16>>2]=_*f,a=c+y(l,d[a+4>>1])|0,f=g[a>>2],v=g[a+4>>2],b=g[a+8>>2],h[n+44>>2]=0,g[n+40>>2]=p*b,g[n+36>>2]=u*v,g[n+32>>2]=_*f,r[h[h[t>>2]+8>>2]](t,n,w,i),(0|(i=i+1|0))<h[n+48>>2];);break e;case 1:break e;case 2:}if(i=0,h[n+48>>2]<=0)break e;for(;c=h[n+76>>2],l=h[n+56>>2],a=h[n+72>>2]+y(h[n+68>>2],i)|0,s=c+y(l,m[0|a])|0,f=g[s>>2],v=g[s+4>>2],b=g[s+8>>2],h[n+12>>2]=0,g[n+8>>2]=p*b,g[n+4>>2]=u*v,g[n>>2]=_*f,s=c+y(l,m[a+1|0])|0,f=g[s>>2],v=g[s+4>>2],b=g[s+8>>2],h[n+28>>2]=0,g[n+24>>2]=p*b,g[n+20>>2]=u*v,g[n+16>>2]=_*f,a=c+y(l,m[a+2|0])|0,f=g[a>>2],v=g[a+4>>2],b=g[a+8>>2],h[n+44>>2]=0,g[n+40>>2]=p*b,g[n+36>>2]=u*v,g[n+32>>2]=_*f,r[h[h[t>>2]+8>>2]](t,n,w,i),(0|(i=i+1|0))<h[n+48>>2];);}else if(!((i=h[n+60>>2]+-2|0)>>>0>3)){t:switch(i-1|0){default:if(i=0,h[n+48>>2]<1)break e;for(;c=h[n+76>>2],l=h[n+56>>2],a=h[n+72>>2]+y(h[n+68>>2],i)|0,s=c+y(l,h[a>>2])|0,C=A[s>>3],S=A[s+8>>3],E=A[s+16>>3],h[n+12>>2]=0,g[n+8>>2]=p*x(E),g[n+4>>2]=u*x(S),g[n>>2]=_*x(C),s=c+y(l,h[a+4>>2])|0,C=A[s>>3],S=A[s+8>>3],E=A[s+16>>3],h[n+28>>2]=0,g[n+24>>2]=p*x(E),g[n+20>>2]=u*x(S),g[n+16>>2]=_*x(C),a=c+y(l,h[a+8>>2])|0,C=A[a>>3],S=A[a+8>>3],E=A[a+16>>3],h[n+44>>2]=0,g[n+40>>2]=p*x(E),g[n+36>>2]=u*x(S),g[n+32>>2]=_*x(C),r[h[h[t>>2]+8>>2]](t,n,w,i),(0|(i=i+1|0))<h[n+48>>2];);break e;case 0:if(i=0,h[n+48>>2]<=0)break e;for(;c=h[n+76>>2],l=h[n+56>>2],a=h[n+72>>2]+y(h[n+68>>2],i)|0,s=c+y(l,d[a>>1])|0,C=A[s>>3],S=A[s+8>>3],E=A[s+16>>3],h[n+12>>2]=0,g[n+8>>2]=p*x(E),g[n+4>>2]=u*x(S),g[n>>2]=_*x(C),s=c+y(l,d[a+2>>1])|0,C=A[s>>3],S=A[s+8>>3],E=A[s+16>>3],h[n+28>>2]=0,g[n+24>>2]=p*x(E),g[n+20>>2]=u*x(S),g[n+16>>2]=_*x(C),a=c+y(l,d[a+4>>1])|0,C=A[a>>3],S=A[a+8>>3],E=A[a+16>>3],h[n+44>>2]=0,g[n+40>>2]=p*x(E),g[n+36>>2]=u*x(S),g[n+32>>2]=_*x(C),r[h[h[t>>2]+8>>2]](t,n,w,i),(0|(i=i+1|0))<h[n+48>>2];);break e;case 2:break t;case 1:break e}if(i=0,!(h[n+48>>2]<=0))for(;c=h[n+76>>2],l=h[n+56>>2],a=h[n+72>>2]+y(h[n+68>>2],i)|0,s=c+y(l,m[0|a])|0,C=A[s>>3],S=A[s+8>>3],E=A[s+16>>3],h[n+12>>2]=0,g[n+8>>2]=p*x(E),g[n+4>>2]=u*x(S),g[n>>2]=_*x(C),s=c+y(l,m[a+1|0])|0,C=A[s>>3],S=A[s+8>>3],E=A[s+16>>3],h[n+28>>2]=0,g[n+24>>2]=p*x(E),g[n+20>>2]=u*x(S),g[n+16>>2]=_*x(C),a=c+y(l,m[a+2|0])|0,C=A[a>>3],S=A[a+8>>3],E=A[a+16>>3],h[n+44>>2]=0,g[n+40>>2]=p*x(E),g[n+36>>2]=u*x(S),g[n+32>>2]=_*x(C),r[h[h[t>>2]+8>>2]](t,n,w,i),(0|(i=i+1|0))<h[n+48>>2];);}if(r[h[h[e>>2]+24>>2]](e,w),(0|o)==(0|(w=w+1|0)))break}z=n+80|0},r[668]=ni,r[669]=ni,r[670]=_r,r[671]=_r,r[672]=function(e){return h[24+(e|=0)>>2]},r[673]=_r,r[674]=_r,r[675]=function(e){return 1==h[48+(e|=0)>>2]|0},r[676]=function(e,t,n){e|=0,n|=0;var i=0;i=h[4+(t|=0)>>2],h[e+52>>2]=h[t>>2],h[e+56>>2]=i,i=h[t+12>>2],h[e+60>>2]=h[t+8>>2],h[e+64>>2]=i,t=h[n+4>>2],h[e+68>>2]=h[n>>2],h[e+72>>2]=t,t=h[n+12>>2],h[e+76>>2]=h[n+8>>2],h[e+80>>2]=t,h[e+48>>2]=1},r[677]=function(e,t,n){t|=0,n|=0;var i=0;i=h[56+(e|=0)>>2],h[t>>2]=h[e+52>>2],h[t+4>>2]=i,i=h[e+64>>2],h[t+8>>2]=h[e+60>>2],h[t+12>>2]=i,t=h[e+80>>2],h[n+8>>2]=h[e+76>>2],h[n+12>>2]=t,t=h[e+72>>2],h[n>>2]=h[e+68>>2],h[n+4>>2]=t},r[678]=function(){return 28},r[679]=function(e,t,n){t|=0,n|=0;var i,o=0,s=0,c=0,l=0,p=0,u=0,_=0,v=0,g=0,A=0,x=0,b=0,C=0;if(z=i=z-32|0,o=0|r[h[h[(e|=0)>>2]+28>>2]](e),h[t>>2]=0,h[t+20>>2]=o,o){if(A=0|r[h[h[n>>2]+16>>2]](n,32,o),p=h[A+8>>2],h[t>>2]=r[h[h[n>>2]+28>>2]](n,p),(0|(C=0|r[h[h[e>>2]+28>>2]](e)))>0)for(;;){r[h[h[e>>2]+16>>2]](e,i+28|0,i+4|0,i+16|0,i+8|0,i+24|0,i+20|0,i,i+12|0,g),o=h[i>>2],h[p+24>>2]=o,s=h[i+4>>2],h[p>>2]=0,h[p+4>>2]=0,h[p+28>>2]=s,h[p+8>>2]=0,h[p+12>>2]=0,h[p+16>>2]=0,h[p+20>>2]=0;e:if(!((s=h[i+12>>2]+-2|0)>>>0>3)){switch(s-1|0){default:if(!o)break e;if(s=0|r[h[h[n>>2]+16>>2]](n,4,y(o,3)),u=h[s+8>>2],h[p+8>>2]=r[h[h[n>>2]+28>>2]](n,u),h[i>>2]>=1)for(o=0,_=h[i+24>>2];l=u+y(o,12)|0,c=_+y(h[i+20>>2],o)|0,h[l>>2]=h[c>>2],h[l+4>>2]=h[c+4>>2],h[l+8>>2]=h[c+8>>2],(0|(o=o+1|0))<h[i>>2];);r[h[h[n>>2]+20>>2]](n,s,15614,1497453121,h[s+8>>2]);break e;case 0:if(!o)break e;if(l=0|r[h[h[n>>2]+16>>2]](n,8,o),u=h[l+8>>2],h[p+12>>2]=r[h[h[n>>2]+28>>2]](n,u),o=0,h[i>>2]>=1)for(;s=u+(o<<3)|0,c=h[i+24>>2]+y(h[i+20>>2],o)|0,f[s>>1]=d[c>>1],f[s+2>>1]=d[c+2>>1],c=d[c+4>>1],f[s+6>>1]=0,f[s+4>>1]=c,(0|(o=o+1|0))<h[i>>2];);r[h[h[n>>2]+20>>2]](n,l,15629,1497453121,h[l+8>>2]);break e;case 1:break e;case 2:}if(o){if(l=0|r[h[h[n>>2]+16>>2]](n,4,o),u=h[l+8>>2],h[p+16>>2]=r[h[h[n>>2]+28>>2]](n,u),o=0,h[i>>2]>=1)for(;s=u+(o<<2)|0,c=h[i+24>>2]+y(h[i+20>>2],o)|0,a[0|s]=m[0|c],a[s+1|0]=m[c+1|0],c=m[c+2|0],a[s+3|0]=0,a[s+2|0]=c,(0|(o=o+1|0))<h[i>>2];);r[h[h[n>>2]+20>>2]](n,l,15656,1497453121,h[l+8>>2])}}e:if(!((o=h[i+16>>2])>>>0>1))if(o-1){if(!(o=h[i+4>>2]))break e;if(s=0|r[h[h[n>>2]+16>>2]](n,16,o),u=h[s+8>>2],h[p>>2]=r[h[h[n>>2]+28>>2]](n,u),(0|(_=h[i+4>>2]))>=1)for(o=0,x=h[i+8>>2],b=h[i+28>>2];l=u+(o<<4)|0,c=b+y(o,x)|0,h[l>>2]=h[c>>2],h[l+4>>2]=h[c+4>>2],h[l+8>>2]=h[c+8>>2],(0|(o=o+1|0))<(0|_););r[h[h[n>>2]+20>>2]](n,s,15679,1497453121,h[s+8>>2])}else if(o=h[i+4>>2]){if(c=0|r[h[h[n>>2]+16>>2]](n,32,o),u=h[c+8>>2],h[p+4>>2]=r[h[h[n>>2]+28>>2]](n,u),(0|(_=h[i+4>>2]))>=1)for(o=0,x=h[i+8>>2],b=h[i+28>>2];l=b+y(o,x)|0,v=h[l+4>>2],h[(s=u+(o<<5)|0)>>2]=h[l>>2],h[s+4>>2]=v,v=h[l+12>>2],h[s+8>>2]=h[l+8>>2],h[s+12>>2]=v,v=h[l+20>>2],h[s+16>>2]=h[l+16>>2],h[s+20>>2]=v,(0|(o=o+1|0))<(0|_););r[h[h[n>>2]+20>>2]](n,c,15698,1497453121,h[c+8>>2])}if(r[h[h[e>>2]+24>>2]](e,g),p=p+32|0,(0|C)==(0|(g=g+1|0)))break}r[h[h[n>>2]+20>>2]](n,A,15718,1497453121,h[A+8>>2])}return h[t+24>>2]=0,h[t+4>>2]=h[e+4>>2],h[t+8>>2]=h[e+8>>2],h[t+12>>2]=h[e+12>>2],h[t+16>>2]=h[e+16>>2],z=i+32|0,15733},r[680]=ei,r[681]=function(e){(e=ei(e|=0))&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[682]=function(e,t){t|=0;var n=0,i=0,o=0,s=0,c=0,l=0;e:{if(m[165+(e|=0)|0]){if(h[e+92>>2]>=(0|t))break e;if(t?(h[6657]=h[6657]+1,o=0|r[h[5255]](t<<4,16)):o=0,(0|(c=h[e+88>>2]))>=1)for(;s=(i=n<<4)+o|0,i=i+h[e+96>>2]|0,l=h[i+4>>2],h[s>>2]=h[i>>2],h[s+4>>2]=l,l=h[i+12>>2],h[s+8>>2]=h[i+8>>2],h[s+12>>2]=l,(0|c)!=(0|(n=n+1|0)););return(n=h[e+96>>2])&&(m[e+100|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+96>>2]=0),h[e+96>>2]=o,h[e+92>>2]=t,void(a[e+100|0]=1)}if(!(h[e+112>>2]>=(0|t))){t&&(h[6657]=h[6657]+1,i=0|r[h[5255]](t<<2,16)),o=h[e+116>>2];t:{n:{if((0|(s=h[e+108>>2]))>=1)for(;;)if(h[(c=n<<2)+i>>2]=h[o+c>>2],(0|s)==(0|(n=n+1|0)))break n;if(!o)break t}m[e+120|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+116>>2]=0}h[e+116>>2]=i,h[e+112>>2]=t,a[e+120|0]=1}}},r[683]=function(e,t){t|=0;var n=0,i=0,o=0,s=0,c=0;e:{if(m[164+(e|=0)|0]){if(h[e+132>>2]>=(0|t))break e;t&&(h[6657]=h[6657]+1,o=0|r[h[5255]](t<<2,16)),n=h[e+136>>2];t:{n:{if((0|(s=h[e+128>>2]))>=1)for(;;)if(h[(c=i<<2)+o>>2]=h[n+c>>2],(0|s)==(0|(i=i+1|0)))break n;if(!n)break t}m[e+140|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+136>>2]=0}return h[e+136>>2]=o,h[e+132>>2]=t,void(a[e+140|0]=1)}if(!(h[e+152>>2]>=(0|t))){t&&(h[6657]=h[6657]+1,o=0|r[h[5255]](t<<1,16)),n=h[e+156>>2];t:{n:{if((0|(s=h[e+148>>2]))>=1)for(;;)if(f[(c=i<<1)+o>>1]=d[n+c>>1],(0|s)==(0|(i=i+1|0)))break n;if(!n)break t}m[e+160|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+156>>2]=0}h[e+156>>2]=o,h[e+152>>2]=t,a[e+160|0]=1}}},r[684]=Jn,r[685]=function(e){(e=Jn(e|=0))&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[686]=function(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0;h[6075]=h[6075]+1;e:{t:{if(i=h[e+24>>2]){if(r[h[h[i>>2]+8>>2]](i,t,n))break t;break e}if(!(h[n+8>>2]&h[t+4>>2])|!(h[t+8>>2]&h[n+4>>2]))break e}o=function(e,t,n){var i=0,o=0,s=0,c=0,l=0,p=0,u=0,_=0,f=0,d=0;i=h[t+12>>2]>h[n+12>>2],u=h[(p=i?t:n)+12>>2],s=h[(_=i?n:t)+12>>2],t=y((t=((t=u<<16|s)<<15^-1)+t|0)>>>10^t,9),f=(d=(t=((t^=t>>>6)<<11^-1)+t|0)>>>16^t)&(i=h[e+12>>2])+-1;t:{if(-1!=(0|(t=h[h[e+40>>2]+(f<<2)>>2])))for(o=h[e+16>>2];;){if(n=(c=t<<4)+o|0,(0|u)==h[h[4+(o+c|0)>>2]+12>>2]&&(0|s)==h[h[n>>2]+12>>2])break t;if(-1==(0|(t=h[h[e+60>>2]+(t<<2)>>2])))break}if((0|(t=i))==(0|(n=s=h[e+8>>2]))&&(n=i,!((0|t)>=(0|(o=t?t<<1:1))))){if(o?(h[6657]=h[6657]+1,n=0|r[h[5255]](o<<4,16),t=h[e+8>>2]):(n=0,t=i),(0|(u=t))>=1)for(t=0;c=(l=t<<4)+n|0,l=l+h[e+16>>2]|0,h[c>>2]=h[l>>2],h[c+4>>2]=h[l+4>>2],h[c+8>>2]=h[l+8>>2],h[c+12>>2]=h[l+12>>2],(0|u)!=(0|(t=t+1|0)););(t=h[e+16>>2])&&(m[e+20|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+16>>2]=0),h[e+16>>2]=n,h[e+12>>2]=o,a[e+20|0]=1,n=h[e+8>>2],t=o}h[e+8>>2]=n+1,o=h[e+16>>2],(n=h[e+68>>2])&&(r[h[h[n>>2]+8>>2]](n,_,p),t=h[e+12>>2]),n=o+(s<<4)|0,(0|i)<(0|t)&&(Kn(e),f=h[e+12>>2]+-1&d),i=h[_+12>>2]<h[p+12>>2],h[n>>2]=i?_:p,h[8+(t=o+(s<<4)|0)>>2]=0,h[t+12>>2]=0,h[t+4>>2]=i?p:_,t=h[e+60>>2]+(s<<2)|0,e=h[e+40>>2]+(f<<2)|0,h[t>>2]=h[e>>2],h[e>>2]=s}return n}(e,t,n)}return 0|o},r[687]=function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,a=0,s=0,c=0,l=0,p=0,u=0;h[6074]=h[6074]+1,o=h[t+12>>2]>h[n+12>>2],a=h[(c=o?t:n)+12>>2],s=h[(l=o?n:t)+12>>2],t=y((t=((t=a<<16|s)<<15^-1)+t|0)>>>10^t,9),t=((t^=t>>>6)<<11^-1)+t|0,p=h[e+12>>2]+-1&(t>>>16^t);e:if(-1!=(0|(t=h[h[e+40>>2]+(p<<2)>>2]))){for(o=h[e+16>>2];;){if((0|a)!=h[h[4+(n=o+(t<<4)|0)>>2]+12>>2]||(0|s)!=h[h[n>>2]+12>>2]){if(-1!=(0|(t=h[h[e+60>>2]+(t<<2)>>2])))continue;break e}break}r[h[h[e>>2]+32>>2]](e,n,i),u=h[12+(o+(t<<4)|0)>>2],a=h[e+60>>2];t:{if(s=h[e+40>>2]+(p<<2)|0,(0|(t=h[s>>2]))!=(0|(o=n-h[e+16>>2]>>4))){for(;n=t,(0|o)!=(0|(t=h[a+(t<<2)>>2])););if(t=h[a+(o<<2)>>2],-1!=(0|n)){h[a+(n<<2)>>2]=t;break t}}else t=h[a+(o<<2)>>2];h[s>>2]=t}if(a=h[e+8>>2]+-1|0,(t=h[e+68>>2])&&r[h[h[t>>2]+12>>2]](t,l,c,i),(0|a)==(0|o))return h[e+8>>2]=h[e+8>>2]+-1,0|u;c=h[e+60>>2];t:{if(l=h[e+16>>2],t=h[h[4+(i=l+(a<<4)|0)>>2]+12>>2]<<16|h[h[i>>2]+12>>2],t=y((t=(t<<15^-1)+t|0)>>>10^t,9),t=((t^=t>>>6)<<11^-1)+t|0,s=h[e+12>>2]+-1&(t>>>16^t),p=h[e+40>>2]+(s<<2)|0,(0|a)!=(0|(t=h[p>>2]))){for(;n=t,(0|a)!=(0|(t=h[c+(t<<2)>>2])););if(t=h[c+(a<<2)>>2],-1!=(0|n)){h[c+(n<<2)>>2]=t;break t}}else t=h[c+(a<<2)>>2];h[p>>2]=t}n=h[i+4>>2],h[(t=l+(o<<4)|0)>>2]=h[i>>2],h[t+4>>2]=n,n=h[i+12>>2],h[t+8>>2]=h[i+8>>2],h[t+12>>2]=n,t=h[e+40>>2]+(s<<2)|0,h[h[e+60>>2]+(o<<2)>>2]=h[t>>2],h[t>>2]=o,h[e+8>>2]=h[e+8>>2]+-1}return 0|u},r[688]=function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=t,h[i+8>>2]=16412,r[h[h[e>>2]+48>>2]](e,i+8|0,n),z=i+16|0},r[689]=Ta,r[690]=Ta,r[691]=function(e){return 4+(e|=0)|0},r[692]=function(e,t,n){e|=0,t|=0,(n|=0)&&(e=h[t+8>>2])&&(r[h[h[e>>2]>>2]](e),r[h[h[n>>2]+60>>2]](n,h[t+8>>2]),h[t+8>>2]=0)},r[693]=we,r[694]=function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=n,h[i+8>>2]=e,h[i+4>>2]=t,h[i>>2]=16268,r[h[h[e>>2]+48>>2]](e,i,n),z=i+16|0},r[695]=function(e,t){t|=0,h[24+(e|=0)>>2]=t},r[696]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=0,a=0;if(z=i=z-16|0,r[h[5253]](16084),h[e+8>>2]>=1)for(;a=h[e+16>>2]+(o<<4)|0,r[h[h[t>>2]+8>>2]](t,a)?(r[h[h[e>>2]+12>>2]](e,h[a>>2],h[a+4>>2],n),h[6073]=h[6073]+-1):o=o+1|0,(0|o)<h[e+8>>2];);r[h[5254]](),z=i+16|0},r[697]=function(e,t,n){e|=0,t|=0,n|=0;var i,o,r=0,a=0;h[6076]=h[6076]+1,r=h[t+12>>2]>h[n+12>>2],i=h[(r?t:n)+12>>2],o=h[(r?n:t)+12>>2],t=y((t=((t=o|i<<16)<<15^-1)+t|0)>>>10^t,9),t=((t^=t>>>6)<<11^-1)+t|0;e:{if(!((0|(t=h[e+12>>2]+-1&(t>>>16^t)))>=h[e+32>>2])&&-1!=(0|(t=h[h[e+40>>2]+(t<<2)>>2])))for(n=h[e+16>>2];;){if(r=n+(a=t<<4)|0,h[h[4+(n+a|0)>>2]+12>>2]==(0|i)&&h[h[r>>2]+12>>2]==(0|o))break e;if(-1==(0|(t=h[h[e+60>>2]+(t<<2)>>2])))break}r=0}return 0|r},r[698]=Aa,r[699]=function(e,t){t|=0,h[68+(e|=0)>>2]=t},r[700]=function(e,t){e|=0,t|=0;var n,i=0,o=0,s=0,c=0,l=0,p=0,u=0,_=0;if(z=n=z-32|0,h[n+20>>2]=0,h[n+12>>2]=0,h[n+16>>2]=0,a[n+24|0]=1,!(h[e+8>>2]<1)){for(;;){if(s=h[e+16>>2]+(u<<4)|0,(0|i)==(0|o))if((0|o)>=(0|(i=o?o<<1:1)))i=o;else{if(l=0,_=0,i&&(h[6657]=h[6657]+1,_=0|r[h[5255]](i<<4,16),o=h[n+12>>2]),(0|o)>=1)for(;p=(c=l<<4)+_|0,c=c+h[n+20>>2]|0,h[p>>2]=h[c>>2],h[p+4>>2]=h[c+4>>2],h[p+8>>2]=h[c+8>>2],h[p+12>>2]=h[c+12>>2],(0|(l=l+1|0))!=(0|o););(o=h[n+20>>2])&&(m[n+24|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[n+20>>2]=0),h[n+20>>2]=_,a[n+24|0]=1,h[n+16>>2]=i,i=h[n+12>>2]}if(i=h[n+20>>2]+(i<<4)|0,h[i>>2]=h[s>>2],h[i+4>>2]=h[s+4>>2],h[i+8>>2]=h[s+8>>2],h[i+12>>2]=h[s+12>>2],i=(s=h[n+12>>2])+1|0,h[n+12>>2]=i,!((0|(u=u+1|0))<h[e+8>>2]))break;o=h[n+16>>2]}if(o=0,!((0|s)<0))for(;i=h[n+20>>2]+(o<<4)|0,r[h[h[e>>2]+12>>2]](e,h[i>>2],h[i+4>>2],t),(0|(o=o+1|0))<(0|(i=h[n+12>>2])););}if(h[e+52>>2]>=1){for(t=h[e+60>>2],i=0;h[t+(i<<2)>>2]=-1,(0|(i=i+1|0))<h[e+52>>2];);i=h[n+12>>2]}if((0|i)>=2&&(As(n+8|0,n,0,i+-1|0),i=h[n+12>>2]),o=h[n+20>>2],(0|i)>=1)for(i=0;t=(i<<4)+o|0,r[h[h[e>>2]+8>>2]](e,h[t>>2],h[t+4>>2]),o=h[n+20>>2],(0|(i=i+1|0))<h[n+12>>2];);o&&(m[n+24|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[n+20>>2]=0),z=n+32|0},r[701]=yo,r[702]=function(e,t){t|=0;var n=0;return(0|(n=h[4+(e|=0)>>2]))!=h[t+4>>2]&&(0|n)!=h[t>>2]||(n=h[e+8>>2],r[h[h[n>>2]+32>>2]](n,t,h[e+12>>2])),0},r[703]=yo,r[704]=function(e,t){return t|=0,(0|(e=h[4+(e|=0)>>2]))==h[t>>2]|(0|e)==h[t+4>>2]},r[705]=Qn,r[706]=function(e){Eo(Qn(e|=0))},r[707]=function(e,t,n,i,o,a,s,c){return e|=0,t|=0,n|=0,i|=0,o|=0,a|=0,s|=0,c|=0,z=c=z-48|0,h[6657]=h[6657]+1,i=0|r[h[5255]](64,16),h[i>>2]=o,h[i+8>>2]=s,h[i+4>>2]=a,o=h[t+4>>2],h[i+16>>2]=h[t>>2],h[i+20>>2]=o,o=h[t+12>>2],h[i+24>>2]=h[t+8>>2],h[i+28>>2]=o,o=h[n+4>>2],h[i+32>>2]=h[n>>2],h[i+36>>2]=o,o=h[n+12>>2],h[i+40>>2]=h[n+8>>2],h[i+44>>2]=o,h[i+52>>2]=0,h[i+56>>2]=0,o=h[t+12>>2],h[c+24>>2]=h[t+8>>2],h[c+28>>2]=o,o=h[t+4>>2],h[c+16>>2]=h[t>>2],h[c+20>>2]=o,t=h[n+12>>2],h[c+40>>2]=h[n+8>>2],h[c+44>>2]=t,t=h[n+4>>2],h[c+32>>2]=h[n>>2],h[c+36>>2]=t,h[i+60>>2]=h[e+104>>2],t=h[e+148>>2]+1|0,h[e+148>>2]=t,h[i+12>>2]=t,h[i+48>>2]=fs(e+4|0,c+16|0,i),t=h[e+104>>2],h[i+52>>2]=0,t=(t<<2)+e|0,h[i+56>>2]=h[t+84>>2],(n=h[t+84>>2])&&(h[n+52>>2]=i),h[t+84>>2]=i,m[e+153|0]||(h[c+8>>2]=i,h[c>>2]=16704,h[c+4>>2]=e,ba(h[e+4>>2],c+16|0,c),ba(h[e+44>>2],c+16|0,c)),z=c+48|0,0|i},r[708]=function(e,t,n){e|=0,n|=0;var i,o=0;_s(2==h[60+(t|=0)>>2]?e+44|0:e+4|0,h[t+48>>2]),i=h[t+56>>2],o=(o=h[t+52>>2])?o+56|0:84+((h[t+60>>2]<<2)+e|0)|0,h[o>>2]=i,(o=h[t+56>>2])&&(h[o+52>>2]=h[t+52>>2]),o=h[e+96>>2],r[h[h[o>>2]+16>>2]](o,t,n),t&&(h[6658]=h[6658]+1,r[h[5256]](t)),a[e+154|0]=1},r[709]=function(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var r,s=0,c=0,l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0);z=o=z-48|0,s=h[n+12>>2],h[o+24>>2]=h[n+8>>2],h[o+28>>2]=s,s=h[n+4>>2],h[o+16>>2]=h[n>>2],h[o+20>>2]=s,c=h[(s=i)+12>>2],h[o+40>>2]=h[s+8>>2],h[o+44>>2]=c,c=h[s+4>>2],h[o+32>>2]=h[s>>2],h[o+36>>2]=c;e:if(2!=h[t+60>>2])if(c=1,h[e+128>>2]=h[e+128>>2]+1,s=h[t+48>>2],g[s>>2]<=g[o+32>>2]^1|g[s+16>>2]>=g[o+16>>2]^1|g[s+4>>2]<=g[o+36>>2]^1|g[s+20>>2]>=g[o+20>>2]^1||g[s+8>>2]<=g[o+40>>2]^1|g[s+24>>2]>=g[o+24>>2]^1)Vc(e+4|0,s,o+16|0),h[e+132>>2]=h[e+132>>2]+1;else{if(_=g[t+20>>2],f=g[t+24>>2],v=g[n>>2],A=g[n+4>>2],y=g[n+8>>2],d=g[t+16>>2],p=g[t+36>>2],u=g[t+40>>2],b=g[t+32>>2],l=g[e+100>>2],h[o+12>>2]=0,u=x(l*x(x(u-f)*x(.5))),g[o+8>>2]=u,p=x(l*x(x(p-_)*x(.5))),g[o+4>>2]=p,l=x(l*x(x(b-d)*x(.5))),g[o>>2]=l,x(v-d)<x(0)&&(g[o>>2]=-l),x(A-_)<x(0)&&(g[o+4>>2]=-p),x(y-f)<x(0)&&(g[o+8>>2]=-u),c=0,!function(e,t,n,i){var o=0,r=x(0),a=x(0),s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=0;a=g[n>>2];t:{if(g[t>>2]<=a){if(r=g[n+4>>2],!(g[t+4>>2]<=r^1|g[t+8>>2]<=g[n+8>>2]^1|g[t+16>>2]>=g[n+16>>2]^1|g[t+20>>2]>=g[n+20>>2]^1)&&(o=0,g[t+24>>2]>=g[n+24>>2]))break t}else r=g[n+4>>2];r=x(r-x(.05000000074505806)),g[n+4>>2]=r,a=x(a-x(.05000000074505806)),g[n>>2]=a,c=x(g[n+8>>2]-x(.05000000074505806)),g[n+8>>2]=c,l=x(g[n+16>>2]+x(.05000000074505806)),g[n+16>>2]=l,p=x(g[n+20>>2]+x(.05000000074505806)),g[n+20>>2]=p,u=x(g[n+24>>2]+x(.05000000074505806)),g[n+24>>2]=u,o=(_=g[i>>2])>x(0),g[(o<<4)+n>>2]=(o?l:a)+_,o=(a=g[i+4>>2])>x(0),g[(o?20:4)+n>>2]=(o?p:r)+a,i=(r=g[i+8>>2])>x(0),g[(i?24:8)+n>>2]=(i?u:c)+r;n:if(i=ms(e,t))if((0|(s=h[e+8>>2]))>=0){if(!s)break n;for(;;){if(!(o=h[i+32>>2]))break n;if(i=o,(0|(f=f+1|0))==(0|s))break}}else i=h[e>>2];else i=0;o=h[n+4>>2],h[t>>2]=h[n>>2],h[t+4>>2]=o,o=h[n+28>>2],h[t+24>>2]=h[n+24>>2],h[t+28>>2]=o,o=h[n+20>>2],h[t+16>>2]=h[n+16>>2],h[t+20>>2]=o,o=h[n+12>>2],h[t+8>>2]=h[n+8>>2],h[t+12>>2]=o,hs(e,i,t),o=1}return o}(e+4|0,s,o+16|0,o))break e;c=1,h[e+132>>2]=h[e+132>>2]+1}else _s(e+44|0,h[t+48>>2]),h[t+48>>2]=fs(e+4|0,o+16|0,t),c=1;r=h[t+56>>2],s=(s=h[t+52>>2])?s+56|0:84+((h[t+60>>2]<<2)+e|0)|0,h[s>>2]=r,(s=h[t+56>>2])&&(h[s+52>>2]=h[t+52>>2]),s=h[n+4>>2],h[t+16>>2]=h[n>>2],h[t+20>>2]=s,s=h[n+12>>2],h[t+24>>2]=h[n+8>>2],h[t+28>>2]=s,n=h[i+4>>2],h[t+32>>2]=h[i>>2],h[t+36>>2]=n,n=h[i+12>>2],h[t+40>>2]=h[i+8>>2],h[t+44>>2]=n,n=h[e+104>>2],h[t+60>>2]=n,h[t+52>>2]=0,n=(n<<2)+e|0,h[t+56>>2]=h[n+84>>2],(i=h[n+84>>2])&&(h[i+52>>2]=t),h[n+84>>2]=t,c&&(a[e+154|0]=1,m[e+153|0]||(h[o>>2]=16704,h[o+4>>2]=e,gs(e+44|0,h[e+44>>2],h[t+48>>2],o),gs(e+4|0,h[e+4>>2],h[t+48>>2],o))),z=o+48|0},r[710]=function(e,t,n,i){e|=0,n|=0,i|=0,e=h[20+(t|=0)>>2],h[n>>2]=h[t+16>>2],h[n+4>>2]=e,e=h[t+28>>2],h[n+8>>2]=h[t+24>>2],h[n+12>>2]=e,e=h[t+44>>2],h[i+8>>2]=h[t+40>>2],h[i+12>>2]=e,e=h[t+36>>2],h[i>>2]=h[t+32>>2],h[i+4>>2]=e},r[711]=function(e,t,n,i,o,r){var a,s,c;e|=0,t|=0,n|=0,i|=0,o|=0,r|=0,z=n=z-16|0,h[n+8>>2]=16776,h[n+12>>2]=i,a=i+4|0,s=i+20|0,c=h[e+168>>2],Xn(h[e+4>>2],t,a,s,g[i+32>>2],o,r,c,n+8|0),Xn(h[e+44>>2],t,a,s,g[i+32>>2],o,r,c,n+8|0),z=n+16|0},r[712]=function(e,t,n,i){var o;e|=0,t|=0,n|=0,i|=0,z=o=z-48|0,h[o+44>>2]=i,h[o+40>>2]=16848,i=h[t+12>>2],h[o+16>>2]=h[t+8>>2],h[o+20>>2]=i,i=h[t+4>>2],h[o+8>>2]=h[t>>2],h[o+12>>2]=i,t=h[n+12>>2],h[o+32>>2]=h[n+8>>2],h[o+36>>2]=t,t=h[n+4>>2],h[o+24>>2]=h[n>>2],h[o+28>>2]=t,ba(h[e+4>>2],o+8|0,o+40|0),ba(h[e+44>>2],o+8|0,o+40|0),z=o+48|0},r[713]=function(e,t){_o(e|=0,t|=0),uo(e,t)},r[714]=al,r[715]=al,r[716]=function(e,t,n){e|=0,t|=0,n|=0;var i,o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0);i=h[e+44>>2];e:if(e=h[e+4>>2]){if(a=g[e>>2],i){if(s=(o=g[e+20>>2])>(r=g[i+20>>2])?o:r,c=(o=g[e+8>>2])<(r=g[i+8>>2])?o:r,l=(o=g[e+4>>2])<(r=g[i+4>>2])?o:r,p=(o=g[e+16>>2])>(r=g[i+16>>2])?o:r,a=a<(o=g[i>>2])?a:o,!((o=g[e+24>>2])>(r=g[i+24>>2]))){o=r;break e}break e}r=g[e+28>>2],o=g[e+24>>2],s=g[e+20>>2],p=g[e+16>>2],u=g[e+12>>2],c=g[e+8>>2],l=g[e+4>>2]}else i&&(r=g[i+28>>2],o=g[i+24>>2],s=g[i+20>>2],p=g[i+16>>2],u=g[i+12>>2],c=g[i+8>>2],l=g[i+4>>2],a=g[i>>2]);g[t+12>>2]=u,g[t+8>>2]=c,g[t+4>>2]=l,g[t>>2]=a,g[n+12>>2]=r,g[n+8>>2]=o,g[n+4>>2]=s,g[n>>2]=p},r[717]=function(e){h[16+(e|=0)>>2]==(0-h[e+56>>2]|0)&&(kn(e+4|0),kn(e+44|0),a[e+153|0]=256,a[e+154|0]=1,h[e+124>>2]=0,h[e+104>>2]=0,h[e+116>>2]=10,h[e+120>>2]=1,h[e+108>>2]=1,h[e+112>>2]=0,h[e+84>>2]=0,h[e+88>>2]=0,h[e+92>>2]=0,h[e+128>>2]=0,h[e+132>>2]=0,h[e+136>>2]=0,h[e+140>>2]=0,h[e+144>>2]=0,h[e+148>>2]=0)},r[718]=Hr,r[719]=yo,r[720]=function(e,t,n){e|=0;var i=0;(0|(t|=0))!=(0|(n|=0))&&(i=h[h[e+4>>2]+96>>2],r[h[h[i>>2]+8>>2]](i,h[t+36>>2],h[n+36>>2]),e=h[e+4>>2],h[e+120>>2]=h[e+120>>2]+1)},r[721]=function(e,t){t|=0,r[h[h[(e|=0)>>2]+8>>2]](e,t,h[h[e+8>>2]+48>>2])},r[722]=yo,r[723]=Yn,r[724]=yo,r[725]=Yn,r[726]=vs,r[727]=function(e){(e=vs(e|=0))&&(h[6658]=h[6658]+1,r[h[5256]](e))},r[728]=or,r[729]=function(e){e|=0,(e=h[6078])&&Eo(e)},r[730]=function(e){for(e|=0,e=26624;Hc(e=e+-36|0),24320!=(0|e););},r[731]=Hr,r[732]=function(){},r[733]=function(e,t){e|=0,t|=0;var n=0;return(e=0|r[h[5257]](3+(e+t|0)|0))&&(h[(n=3+(e+t|0)&0-t)-4>>2]=e),0|n},r[734]=function(e){(e|=0)&&r[h[5258]](h[e+-4>>2])},r[735]=function(e){return 0|Mc(e|=0)},r[736]=yo,r[737]=function(e,t,n,i,o,r){e|=0,t=+t,n|=0,i|=0,o|=0,r|=0;var c,l,u=0,_=0,f=0,d=0,v=0,g=0,A=0,x=0,C=0,S=0,E=0,w=0,T=0,P=0,I=0,R=0,N=0,D=0;if(z=c=z-560|0,h[c+44>>2]=0,p(+t),u=0|s(1),1,l=s(0)>>>0>4294967295?0:1,(0|u)<-1||(0|u)<=-1&&l?(p(+(t=-t)),u=0|s(1),I=1,R=17632):2048&o?(I=1,R=17635):R=(I=1&o)?17638:17633,2146435072!=(2146435072&u))if(t=Dn(t,c+44|0),0!=(t+=t)&&(h[c+44>>2]=h[c+44>>2]+-1),w=c+16|0,97!=(0|(N=32|r))){for(u=(0|i)<0,0!=t?(d=h[c+44>>2]+-28|0,h[c+44>>2]=d,t*=268435456):d=h[c+44>>2],A=u?6:i,f=S=(0|d)<0?c+48|0:c+336|0;u=t<4294967296&t>=0?~~t>>>0:0,h[(i=f)>>2]=u,f=f+4|0,0!=(t=1e9*(t-+(u>>>0))););if((0|d)<1)u=f,_=S;else for(_=S;;){if(C=(0|d)<29?d:29,!((u=f+-4|0)>>>0<_>>>0)){for(i=C,x=0;E=u,g=0,D=x,x=h[u>>2],v=31&i,32<=(63&i)>>>0?(d=x<<v,v=0):(d=(1<<v)-1&x>>>32-v,v=x<<v),g=d+g|0,g=(x=D+v|0)>>>0<v>>>0?g+1|0:g,D=E,E=zl(x=Fl(v=x,g,1e9),F,1e9,0),h[D>>2]=v-E,(u=u+-4|0)>>>0>=_>>>0;);(i=x)&&(h[(_=_+-4|0)>>2]=i)}for(;(u=f)>>>0>_>>>0&&!h[(f=u+-4|0)>>2];);if(d=h[c+44>>2]-C|0,h[c+44>>2]=d,f=u,!((0|d)>0))break}if((0|d)<=-1)for(P=1+((A+25|0)/9|0)|0,C=102==(0|N);;){if(x=(0|d)<-9?9:0-d|0,_>>>0>=u>>>0)_=h[_>>2]?_:_+4|0;else{for(E=1e9>>>x,v=-1<<x^-1,d=0,f=_;i=h[f>>2],h[f>>2]=(i>>>x)+d,d=y(E,i&v),(f=f+4|0)>>>0<u>>>0;);_=h[_>>2]?_:_+4|0,d&&(h[u>>2]=d,u=u+4|0)}if(d=x+h[c+44>>2]|0,h[c+44>>2]=d,u=u-(i=C?S:_)>>2>(0|P)?i+(P<<2)|0:u,!((0|d)<0))break}if(f=0,!(_>>>0>=u>>>0||(f=y(S-_>>2,9),d=10,(i=h[_>>2])>>>0<10)))for(;f=f+1|0,i>>>0>=(d=y(d,10))>>>0;);if((0|(i=(A-(102==(0|N)?0:f)|0)-(103==(0|N)&0!=(0|A))|0))<(y(u-S>>2,9)+-9|0)){if(g=(S+((i=(0|(v=i+9216|0))/9|0)<<2)|0)-4092|0,d=10,(0|(i=1+(v-y(i,9)|0)|0))<=8)for(;d=y(d,10),9!=(0|(i=i+1|0)););if(P=g+4|0,((C=(E=h[g>>2])-y(d,v=(E>>>0)/(d>>>0)|0)|0)||(0|P)!=(0|u))&&(T=C>>>0<(i=d>>>1)>>>0?.5:(0|u)==(0|P)&&(0|i)==(0|C)?1:1.5,t=1&v?9007199254740994:9007199254740992,!I|45!=m[0|R]||(T=-T,t=-t),i=E-C|0,h[g>>2]=i,t+T!=t)){if(i=i+d|0,h[g>>2]=i,i>>>0>=1e9)for(;h[g>>2]=0,(g=g+-4|0)>>>0<_>>>0&&(h[(_=_+-4|0)>>2]=0),i=h[g>>2]+1|0,h[g>>2]=i,i>>>0>999999999;);if(f=y(S-_>>2,9),d=10,!((i=h[_>>2])>>>0<10))for(;f=f+1|0,i>>>0>=(d=y(d,10))>>>0;);}u=u>>>0>(i=g+4|0)>>>0?i:u}e:{for(;;){if(C=u,E=0,u>>>0<=_>>>0)break e;if(h[(u=C+-4|0)>>2])break}E=1}if(103==(0|N)){if(A=((i=(0|(u=A||1))>(0|f)&(0|f)>-5)?-1^f:-1)+u|0,r=(i?-1:-2)+r|0,!(v=8&o)){if(u=9,E&&(v=h[C+-4>>2])&&(i=10,u=0,!((v>>>0)%10)))for(;u=u+1|0,!((v>>>0)%((i=y(i,10))>>>0)););i=y(C-S>>2,9)+-9|0,102!=(32|r)?(v=0,A=(0|A)<(0|(i=(0|(i=(i+f|0)-u|0))>0?i:0))?A:i):(v=0,A=(0|A)<(0|(i=(0|(i=i-u|0))>0?i:0))?A:i)}}else v=8&o;if(g=0!=(0|(d=A|v)),i=e,D=n,u=(0|f)>0?f:0,102!=(0|(x=32|r))){if((w-(u=$r((u=f>>31)+f^u,0,w))|0)<=1)for(;a[0|(u=u+-1|0)]=48,(w-u|0)<2;);a[0|(P=u+-2|0)]=r,a[u+-1|0]=(0|f)<0?45:43,u=w-P|0}if(Go(i,32,D,g=1+(u+(g+(A+I|0)|0)|0)|0,o),Do(e,R,I),Go(e,48,n,g,65536^o),102!=(0|x)){e:if(!((0|A)<0))for(r=E?C:_+4|0,i=c+16|8,S=c+16|9,f=_;;){(0|S)==(0|(u=$r(h[f>>2],0,S)))&&(a[c+24|0]=48,u=i);t:if((0|_)==(0|f))Do(e,u,1),u=u+1|0,(0|A)<1&&!v||Do(e,17667,1);else{if(u>>>0<=c+16>>>0)break t;for(;a[0|(u=u+-1|0)]=48,u>>>0>c+16>>>0;);}if(Do(e,x=u,(0|A)>(0|(u=S-u|0))?u:A),A=A-u|0,(f=f+4|0)>>>0>=r>>>0)break e;if(!((0|A)>-1))break}Go(e,48,A+18|0,18,0),Do(e,P,w-P|0)}else{for(i=c+16|8,f=c+16|9,_=r=_>>>0>S>>>0?S:_;;){u=$r(h[_>>2],0,f);e:if((0|r)==(0|_))(0|u)==(0|f)&&(a[c+24|0]=48,u=i);else{if(u>>>0<=c+16>>>0)break e;for(;a[0|(u=u+-1|0)]=48,u>>>0>c+16>>>0;);}if(Do(e,u,f-u|0),!((_=_+4|0)>>>0<=S>>>0))break}d&&Do(e,17667,1);e:if(!((0|A)<1|_>>>0>=C>>>0))for(;;){if((u=$r(h[_>>2],0,f))>>>0>c+16>>>0)for(;a[0|(u=u+-1|0)]=48,u>>>0>c+16>>>0;);if(Do(e,u,(0|A)<9?A:9),A=A+-9|0,(_=_+4|0)>>>0>=C>>>0)break e;if(!((0|A)>0))break}Go(e,48,A+9|0,9,0)}}else{if(E=(v=32&r)?R+9|0:R,!(i>>>0>11)&&(u=12-i|0)){for(T=8;T*=16,u=u+-1|0;);t=45!=m[0|E]?t+T-T:-(T+(-t-T))}for((0|w)==(0|(u=$r((f=(u=h[c+44>>2])>>31)^u+f,0,w)))&&(a[c+15|0]=48,u=c+15|0),S=2|I,f=h[c+44>>2],a[0|(C=u+-2|0)]=r+15,a[u+-1|0]=(0|f)<0?45:43,u=8&o,_=c+16|0;r=_,x=v,f=b(t)<2147483648?~~t:-2147483648,a[0|_]=x|m[f+17616|0],1!=((_=r+1|0)-(c+16|0)|0)|(0==(t=16*(t-+(0|f)))?!((0|i)>0|u):0)||(a[r+1|0]=46,_=r+2|0),0!=t;);Go(r=e,32,u=n,g=(v=!i|((_-c|0)-18|0)>=(0|i)?((w-(c+16|0)|0)-C|0)+_|0:2+((i+w|0)-C|0)|0)+S|0,o),Do(e,E,S),Go(e,48,n,g,65536^o),Do(e,c+16|0,i=_-(c+16|0)|0),Go(e,48,v-((r=i)+(i=w-C|0)|0)|0,0,0),Do(e,C,i)}else Go(e,32,n,g=I+3|0,-65537&o),Do(e,R,I),i=r>>>5&1,Do(e,t!=t?i?17659:17663:i?17651:17655,3);return Go(e,32,n,g,8192^o),z=c+560|0,0|((0|g)<(0|n)?n:g)},r[738]=function(e,t){var n;e|=0,n=t|=0,t=h[t>>2]+15&-16,h[n>>2]=t+16,A[e>>3]=io(h[t>>2],h[t+4>>2],h[t+8>>2],h[t+12>>2])},r[739]=function(e){return 0|M(h[60+(e|=0)>>2])},r[740]=function(e,t,n){t|=0,n|=0;var i,o=0,r=0,a=0,s=0,c=0;for(z=i=z-32|0,o=h[28+(e|=0)>>2],h[i+16>>2]=o,a=h[e+20>>2],h[i+28>>2]=n,h[i+24>>2]=t,t=a-o|0,h[i+20>>2]=t,a=t+n|0,s=2,t=i+16|0;;){e:{if(o=0,(r=0|L(h[e+60>>2],0|t,0|s,i+12|0))&&(h[6659]=r,o=-1),o?(h[i+12>>2]=-1,o=-1):o=h[i+12>>2],(0|o)!=(0|a)){if((0|o)>-1)break e;h[e+28>>2]=0,h[e+16>>2]=0,h[e+20>>2]=0,h[e>>2]=32|h[e>>2],e=0,2!=(0|s)&&(e=n-h[t+4>>2]|0)}else t=h[e+44>>2],h[e+28>>2]=t,h[e+20>>2]=t,h[e+16>>2]=t+h[e+48>>2],e=n;return z=i+32|0,0|e}r=o-((c=o>>>0>(r=h[t+4>>2])>>>0)?r:0)|0,h[(t=c?t+8|0:t)>>2]=r+h[t>>2],h[t+4>>2]=h[t+4>>2]-r,a=a-o|0,s=s-c|0}},r[741]=function(e,t,n,i){var o;return t|=0,n|=0,i|=0,z=o=z-16|0,e=0|R(h[60+(e|=0)>>2],0|t,0|n,255&i,o+8|0),t=0,e&&(h[6659]=e,t=-1),t?(h[o+8>>2]=-1,h[o+12>>2]=-1,t=-1,e=-1):(t=h[o+12>>2],e=h[o+8>>2]),z=o+16|0,F=t,0|e},r[742]=Po,r[743]=yo,r[744]=Hr,r[745]=Hr,r[746]=function(e,t,n){n|=0;var i,o=0;return z=i=z+-64|0,o=1,Yo(e|=0,t|=0,0)||(o=0,t&&(o=0,(t=function(e){var t,n,i=0,o=0;return z=t=z+-64|0,i=h[e>>2],n=h[i+-8>>2],i=h[i+-4>>2],h[t+20>>2]=0,h[t+16>>2]=20708,h[t+12>>2]=e,h[t+8>>2]=20756,Co(t+24|0,0,39),e=e+n|0,Yo(i,20756,0)?(h[t+56>>2]=1,r[h[h[i>>2]+20>>2]](i,t+8|0,e,e,1,0),o=1==h[t+32>>2]?e:0):(r[h[h[i>>2]+24>>2]](i,t+8|0,e,1,0),(e=h[t+44>>2])>>>0>1||(e-1?o=1==h[t+48>>2]&&1==h[t+36>>2]&&1==h[t+40>>2]?h[t+28>>2]:0:1!=h[t+32>>2]&&h[t+48>>2]|1!=h[t+36>>2]|1!=h[t+40>>2]||(o=h[t+24>>2]))),z=t- -64|0,o}(t))&&(h[i+20>>2]=-1,h[i+16>>2]=e,h[i+12>>2]=0,h[i+8>>2]=t,Co(i+24|0,0,39),h[i+56>>2]=1,r[h[h[t>>2]+28>>2]](t,i+8|0,h[n>>2],1),o=0,1==h[i+32>>2]&&(h[n>>2]=h[i+24>>2],o=1)))),z=i- -64|0,0|o},r[747]=function(e,t,n,i,o,r){n|=0,i|=0,o|=0,r|=0,Yo(e|=0,h[8+(t|=0)>>2],r)&&zc(t,n,i,o)},r[748]=function(e,t,n,i,o){if(n|=0,i|=0,o|=0,Yo(e|=0,h[8+(t|=0)>>2],o))1==h[t+28>>2]|h[t+4>>2]!=(0|n)||(h[t+28>>2]=i);else e:if(Yo(e,h[t>>2],o)){if(h[t+20>>2]==(0|n)||h[t+16>>2]==(0|n)){if(1!=(0|i))break e;return void(h[t+32>>2]=1)}h[t+20>>2]=n,h[t+32>>2]=i,h[t+40>>2]=h[t+40>>2]+1,1!=h[t+36>>2]|2!=h[t+24>>2]||(a[t+54|0]=1),h[t+44>>2]=4}},r[749]=function(e,t,n,i){n|=0,i|=0,Yo(e|=0,h[8+(t|=0)>>2],0)&&Fc(t,n,i)},r[750]=yo,r[751]=function(e,t,n,i,o,a){n|=0,i|=0,o|=0,a|=0,Yo(e|=0,h[8+(t|=0)>>2],a)?zc(t,n,i,o):(e=h[e+8>>2],r[h[h[e>>2]+20>>2]](e,t,n,i,o,a))},r[752]=function(e,t,n,i,o){if(n|=0,i|=0,o|=0,Yo(e|=0,h[8+(t|=0)>>2],o))1==h[t+28>>2]|h[t+4>>2]!=(0|n)||(h[t+28>>2]=i);else e:{if(Yo(e,h[t>>2],o)){if(h[t+20>>2]==(0|n)||h[t+16>>2]==(0|n)){if(1!=(0|i))break e;return void(h[t+32>>2]=1)}h[t+32>>2]=i;t:if(4!=h[t+44>>2]){if(f[t+52>>1]=0,e=h[e+8>>2],r[h[h[e>>2]+20>>2]](e,t,n,n,1,o),m[t+53|0]){if(h[t+44>>2]=3,!m[t+52|0])break t;break e}h[t+44>>2]=4}if(h[t+20>>2]=n,h[t+40>>2]=h[t+40>>2]+1,1!=h[t+36>>2]|2!=h[t+24>>2])break e;return void(a[t+54|0]=1)}e=h[e+8>>2],r[h[h[e>>2]+24>>2]](e,t,n,i,o)}},r[753]=function(e,t,n,i){n|=0,i|=0,Yo(e|=0,h[8+(t|=0)>>2],0)?Fc(t,n,i):(e=h[e+8>>2],r[h[h[e>>2]+28>>2]](e,t,n,i))},r[754]=yo,r[755]=function(e,t,n,i,o,r){n|=0,i|=0,o|=0,r|=0;var s=0,c=0,l=0,p=0,u=0,_=0;if(Yo(e|=0,h[8+(t|=0)>>2],r))zc(t,n,i,o);else{c=m[t+53|0],s=h[e+12>>2],a[t+53|0]=0,l=m[t+52|0],a[t+52|0]=0,Lc(p=e+16|0,t,n,i,o,r),c|=u=m[t+53|0],l|=_=m[t+52|0];e:if(!((0|s)<2))for(p=p+(s<<3)|0,s=e+24|0;;){if(m[t+54|0])break e;t:{if(_){if(1==h[t+24>>2])break e;if(2&m[e+8|0])break t;break e}if(u&&!(1&a[e+8|0]))break e}if(f[t+52>>1]=0,Lc(s,t,n,i,o,r),c|=u=m[t+53|0],l|=_=m[t+52|0],!((s=s+8|0)>>>0<p>>>0))break}a[t+53|0]=0!=(255&c),a[t+52|0]=0!=(255&l)}},r[756]=function(e,t,n,i,o){n|=0,i|=0,o|=0;var r=0,s=0,c=0,l=0,p=0;if(Yo(e|=0,h[8+(t|=0)>>2],o))1==h[t+28>>2]|h[t+4>>2]!=(0|n)||(h[t+28>>2]=i);else e:{if(Yo(e,h[t>>2],o)){if(h[t+20>>2]==(0|n)||h[t+16>>2]==(0|n)){if(1!=(0|i))break e;return void(h[t+32>>2]=1)}if(h[t+32>>2]=i,4!=h[t+44>>2]){l=(r=e+16|0)+(h[e+12>>2]<<3)|0,p=t;t:{n:{for(;!(r>>>0>=l>>>0||(f[t+52>>1]=0,Lc(r,t,n,n,1,o),m[t+54|0]));){i:if(m[t+53|0]){if(m[t+52|0]){if(i=1,1==h[t+24>>2])break n;if(c=1,s=1,2&m[e+8|0])break i;break n}if(c=1,i=s,!(1&a[e+8|0]))break n}r=r+8|0}if(i=s,e=4,!c)break t}e=3}if(h[p+44>>2]=e,1&i)break e}if(h[t+20>>2]=n,h[t+40>>2]=h[t+40>>2]+1,1!=h[t+36>>2]|2!=h[t+24>>2])break e;return void(a[t+54|0]=1)}if(s=h[e+12>>2],ls(r=e+16|0,t,n,i,o),!((0|s)<2))if(s=r+(s<<3)|0,r=e+24|0,e=h[e+8>>2],1==h[t+36>>2]||2&e)for(;;){if(m[t+54|0])break e;if(ls(r,t,n,i,o),!((r=r+8|0)>>>0<s>>>0))break}else{if(!(1&e))for(;;){if(m[t+54|0]|1==h[t+36>>2])break e;if(ls(r,t,n,i,o),!((r=r+8|0)>>>0<s>>>0))break e}for(;;){if(m[t+54|0]|(1==h[t+24>>2]?1==h[t+36>>2]:0))break e;if(ls(r,t,n,i,o),!((r=r+8|0)>>>0<s>>>0))break}}}},r[757]=function(e,t,n,i){n|=0,i|=0;var o=0,r=0;if(Yo(e|=0,h[8+(t|=0)>>2],0))Fc(t,n,i);else{o=h[e+12>>2],Sn(r=e+16|0,t,n,i);e:if(!((0|o)<2))for(o=(o<<3)+r|0,e=e+24|0;;){if(Sn(e,t,n,i),m[t+54|0])break e;if(!((e=e+8|0)>>>0<o>>>0))break}}},{h:function(){var e;h[12+(e=z-16|0)>>2]=21424,h[e+8>>2]=2139095040,h[h[e+12>>2]>>2]=h[e+8>>2],function(){var e;e=Xo(8),h[6078]=e,I(0|e,0),h[6081]=0,h[6082]=0,h[6080]=17116,h[6083]=0,h[6084]=0,h[6085]=0,h[6086]=0,h[6087]=0,h[6088]=0,Ao(24320),h[6090]=0,h[6091]=0,h[6089]=17116,h[6092]=0,h[6093]=0,h[6094]=0,h[6095]=0,h[6096]=0,h[6097]=0,Ao(24356),h[6099]=0,h[6100]=0,h[6098]=17116,h[6101]=0,h[6102]=0,h[6103]=0,h[6104]=0,h[6105]=0,h[6106]=0,Ao(24392),h[6108]=0,h[6109]=0,h[6107]=17116,h[6110]=0,h[6111]=0,h[6112]=0,h[6113]=0,h[6114]=0,h[6115]=0,Ao(24428),h[6117]=0,h[6118]=0,h[6116]=17116,h[6119]=0,h[6120]=0,h[6121]=0,h[6122]=0,h[6123]=0,h[6124]=0,Ao(24464),h[6126]=0,h[6127]=0,h[6125]=17116,h[6128]=0,h[6129]=0,h[6130]=0,h[6131]=0,h[6132]=0,h[6133]=0,Ao(24500),h[6135]=0,h[6136]=0,h[6134]=17116,h[6137]=0,h[6138]=0,h[6139]=0,h[6140]=0,h[6141]=0,h[6142]=0,Ao(24536),h[6144]=0,h[6145]=0,h[6143]=17116,h[6146]=0,h[6147]=0,h[6148]=0,h[6149]=0,h[6150]=0,h[6151]=0,Ao(24572),h[6153]=0,h[6154]=0,h[6152]=17116,h[6155]=0,h[6156]=0,h[6157]=0,h[6158]=0,h[6159]=0,h[6160]=0,Ao(24608),h[6162]=0,h[6163]=0,h[6161]=17116,h[6164]=0,h[6165]=0,h[6166]=0,h[6167]=0,h[6168]=0,h[6169]=0,Ao(24644),h[6171]=0,h[6172]=0,h[6170]=17116,h[6173]=0,h[6174]=0,h[6175]=0,h[6176]=0,h[6177]=0,h[6178]=0,Ao(24680),h[6180]=0,h[6181]=0,h[6179]=17116,h[6182]=0,h[6183]=0,h[6184]=0,h[6185]=0,h[6186]=0,h[6187]=0,Ao(24716),h[6189]=0,h[6190]=0,h[6188]=17116,h[6191]=0,h[6192]=0,h[6193]=0,h[6194]=0,h[6195]=0,h[6196]=0,Ao(24752),h[6198]=0,h[6199]=0,h[6197]=17116,h[6200]=0,h[6201]=0,h[6202]=0,h[6203]=0,h[6204]=0,h[6205]=0,Ao(24788),h[6207]=0,h[6208]=0,h[6206]=17116,h[6209]=0,h[6210]=0,h[6211]=0,h[6212]=0,h[6213]=0,h[6214]=0,Ao(24824),h[6216]=0,h[6217]=0,h[6215]=17116,h[6218]=0,h[6219]=0,h[6220]=0,h[6221]=0,h[6222]=0,h[6223]=0,Ao(24860),h[6225]=0,h[6226]=0,h[6224]=17116,h[6227]=0,h[6228]=0,h[6229]=0,h[6230]=0,h[6231]=0,h[6232]=0,Ao(24896),h[6234]=0,h[6235]=0,h[6233]=17116,h[6236]=0,h[6237]=0,h[6238]=0,h[6239]=0,h[6240]=0,h[6241]=0,Ao(24932),h[6243]=0,h[6244]=0,h[6242]=17116,h[6245]=0,h[6246]=0,h[6247]=0,h[6248]=0,h[6249]=0,h[6250]=0,Ao(24968),h[6252]=0,h[6253]=0,h[6251]=17116,h[6254]=0,h[6255]=0,h[6256]=0,h[6257]=0,h[6258]=0,h[6259]=0,Ao(25004),h[6261]=0,h[6262]=0,h[6260]=17116,h[6263]=0,h[6264]=0,h[6265]=0,h[6266]=0,h[6267]=0,h[6268]=0,Ao(25040),h[6270]=0,h[6271]=0,h[6269]=17116,h[6272]=0,h[6273]=0,h[6274]=0,h[6275]=0,h[6276]=0,h[6277]=0,Ao(25076),h[6279]=0,h[6280]=0,h[6278]=17116,h[6281]=0,h[6282]=0,h[6283]=0,h[6284]=0,h[6285]=0,h[6286]=0,Ao(25112),h[6288]=0,h[6289]=0,h[6287]=17116,h[6290]=0,h[6291]=0,h[6292]=0,h[6293]=0,h[6294]=0,h[6295]=0,Ao(25148),h[6297]=0,h[6298]=0,h[6296]=17116,h[6299]=0,h[6300]=0,h[6301]=0,h[6302]=0,h[6303]=0,h[6304]=0,Ao(25184),h[6306]=0,h[6307]=0,h[6305]=17116,h[6308]=0,h[6309]=0,h[6310]=0,h[6311]=0,h[6312]=0,h[6313]=0,Ao(25220),h[6315]=0,h[6316]=0,h[6314]=17116,h[6317]=0,h[6318]=0,h[6319]=0,h[6320]=0,h[6321]=0,h[6322]=0,Ao(25256),h[6324]=0,h[6325]=0,h[6323]=17116,h[6326]=0,h[6327]=0,h[6328]=0,h[6329]=0,h[6330]=0,h[6331]=0,Ao(25292),h[6333]=0,h[6334]=0,h[6332]=17116,h[6335]=0,h[6336]=0,h[6337]=0,h[6338]=0,h[6339]=0,h[6340]=0,Ao(25328),h[6342]=0,h[6343]=0,h[6341]=17116,h[6344]=0,h[6345]=0,h[6346]=0,h[6347]=0,h[6348]=0,h[6349]=0,Ao(25364),h[6351]=0,h[6352]=0,h[6350]=17116,h[6353]=0,h[6354]=0,h[6355]=0,h[6356]=0,h[6357]=0,h[6358]=0,Ao(25400),h[6360]=0,h[6361]=0,h[6359]=17116,h[6362]=0,h[6363]=0,h[6364]=0,h[6365]=0,h[6366]=0,h[6367]=0,Ao(25436),h[6369]=0,h[6370]=0,h[6368]=17116,h[6371]=0,h[6372]=0,h[6373]=0,h[6374]=0,h[6375]=0,h[6376]=0,Ao(25472),h[6378]=0,h[6379]=0,h[6377]=17116,h[6380]=0,h[6381]=0,h[6382]=0,h[6383]=0,h[6384]=0,h[6385]=0,Ao(25508),h[6387]=0,h[6388]=0,h[6386]=17116,h[6389]=0,h[6390]=0,h[6391]=0,h[6392]=0,h[6393]=0,h[6394]=0,Ao(25544),h[6396]=0,h[6397]=0,h[6395]=17116,h[6398]=0,h[6399]=0,h[6400]=0,h[6401]=0,h[6402]=0,h[6403]=0,Ao(25580),h[6405]=0,h[6406]=0,h[6404]=17116,h[6407]=0,h[6408]=0,h[6409]=0,h[6410]=0,h[6411]=0,h[6412]=0,Ao(25616),h[6414]=0,h[6415]=0,h[6413]=17116,h[6416]=0,h[6417]=0,h[6418]=0,h[6419]=0,h[6420]=0,h[6421]=0,Ao(25652),h[6423]=0,h[6424]=0,h[6422]=17116,h[6425]=0,h[6426]=0,h[6427]=0,h[6428]=0,h[6429]=0,h[6430]=0,Ao(25688),h[6432]=0,h[6433]=0,h[6431]=17116,h[6434]=0,h[6435]=0,h[6436]=0,h[6437]=0,h[6438]=0,h[6439]=0,Ao(25724),h[6441]=0,h[6442]=0,h[6440]=17116,h[6443]=0,h[6444]=0,h[6445]=0,h[6446]=0,h[6447]=0,h[6448]=0,Ao(25760),h[6450]=0,h[6451]=0,h[6449]=17116,h[6452]=0,h[6453]=0,h[6454]=0,h[6455]=0,h[6456]=0,h[6457]=0,Ao(25796),h[6459]=0,h[6460]=0,h[6458]=17116,h[6461]=0,h[6462]=0,h[6463]=0,h[6464]=0,h[6465]=0,h[6466]=0,Ao(25832),h[6468]=0,h[6469]=0,h[6467]=17116,h[6470]=0,h[6471]=0,h[6472]=0,h[6473]=0,h[6474]=0,h[6475]=0,Ao(25868),h[6477]=0,h[6478]=0,h[6476]=17116,h[6479]=0,h[6480]=0,h[6481]=0,h[6482]=0,h[6483]=0,h[6484]=0,Ao(25904),h[6486]=0,h[6487]=0,h[6485]=17116,h[6488]=0,h[6489]=0,h[6490]=0,h[6491]=0,h[6492]=0,h[6493]=0,Ao(25940),h[6495]=0,h[6496]=0,h[6494]=17116,h[6497]=0,h[6498]=0,h[6499]=0,h[6500]=0,h[6501]=0,h[6502]=0,Ao(25976),h[6504]=0,h[6505]=0,h[6503]=17116,h[6506]=0,h[6507]=0,h[6508]=0,h[6509]=0,h[6510]=0,h[6511]=0,Ao(26012),h[6513]=0,h[6514]=0,h[6512]=17116,h[6515]=0,h[6516]=0,h[6517]=0,h[6518]=0,h[6519]=0,h[6520]=0,Ao(26048),h[6522]=0,h[6523]=0,h[6521]=17116,h[6524]=0,h[6525]=0,h[6526]=0,h[6527]=0,h[6528]=0,h[6529]=0,Ao(26084),h[6531]=0,h[6532]=0,h[6530]=17116,h[6533]=0,h[6534]=0,h[6535]=0,h[6536]=0,h[6537]=0,h[6538]=0,Ao(26120),h[6540]=0,h[6541]=0,h[6539]=17116,h[6542]=0,h[6543]=0,h[6544]=0,h[6545]=0,h[6546]=0,h[6547]=0,Ao(26156),h[6549]=0,h[6550]=0,h[6548]=17116,h[6551]=0,h[6552]=0,h[6553]=0,h[6554]=0,h[6555]=0,h[6556]=0,Ao(26192),h[6558]=0,h[6559]=0,h[6557]=17116,h[6560]=0,h[6561]=0,h[6562]=0,h[6563]=0,h[6564]=0,h[6565]=0,Ao(26228),h[6567]=0,h[6568]=0,h[6566]=17116,h[6569]=0,h[6570]=0,h[6571]=0,h[6572]=0,h[6573]=0,h[6574]=0,Ao(26264),h[6576]=0,h[6577]=0,h[6575]=17116,h[6578]=0,h[6579]=0,h[6580]=0,h[6581]=0,h[6582]=0,h[6583]=0,Ao(26300),h[6585]=0,h[6586]=0,h[6584]=17116,h[6587]=0,h[6588]=0,h[6589]=0,h[6590]=0,h[6591]=0,h[6592]=0,Ao(26336),h[6594]=0,h[6595]=0,h[6593]=17116,h[6596]=0,h[6597]=0,h[6598]=0,h[6599]=0,h[6600]=0,h[6601]=0,Ao(26372),h[6603]=0,h[6604]=0,h[6602]=17116,h[6605]=0,h[6606]=0,h[6607]=0,h[6608]=0,h[6609]=0,h[6610]=0,Ao(26408),h[6612]=0,h[6613]=0,h[6611]=17116,h[6614]=0,h[6615]=0,h[6616]=0,h[6617]=0,h[6618]=0,h[6619]=0,Ao(26444),h[6621]=0,h[6622]=0,h[6620]=17116,h[6623]=0,h[6624]=0,h[6625]=0,h[6626]=0,h[6627]=0,h[6628]=0,Ao(26480),h[6630]=0,h[6631]=0,h[6629]=17116,h[6632]=0,h[6633]=0,h[6634]=0,h[6635]=0,h[6636]=0,h[6637]=0,Ao(26516),h[6639]=0,h[6640]=0,h[6638]=17116,h[6641]=0,h[6642]=0,h[6643]=0,h[6644]=0,h[6645]=0,h[6646]=0,Ao(26552),h[6648]=0,h[6649]=0,h[6647]=17116,h[6650]=0,h[6651]=0,h[6652]=0,h[6653]=0,h[6654]=0,h[6655]=0,Ao(26588)}()},i:Mo,j:ko,k:jo,l:ar,m:rr,n:Uo,o:Bo,p:Fo,q:zo,r:Lo,s:xo,t:function(){var e,t;return z=e=z-16|0,la(t=bo(324)),z=e+16|0,0|t},u:Ua,v:Fa,w:za,x:La,y:Oa,z:Ma,A:Na,B:Ia,C:wa,D:Ea,E:Sa,F:Us,G:Fs,H:zs,I:Ls,J:xa,K:ya,L:Os,M:Ms,N:oa,O:Ds,P:Rs,Q:Is,R:Ps,S:Ts,T:Es,U:xo,V:Mo,W:ko,X:jo,Y:ar,Z:rr,_:Uo,$:Bo,aa:Fo,ba:zo,ca:Lo,da:xo,ea:Mo,fa:ko,ga:jo,ha:Uo,ia:Bo,ja:Fo,ka:zo,la:Lo,ma:xo,na:nl,oa:el,pa:$c,qa:Kc,ra:pi,sa:si,ta:Jc,ua:Zc,va:Qc,wa:xo,xa:Pr,ya:Tr,za:wr,Aa:Er,Ba:Sr,Ca:xo,Da:function(e,t,n){var i;return e|=0,t|=0,n|=0,z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,a[i+23|0]=n,qe(e=bo(1312),h[i+28>>2],h[i+24>>2],1&a[i+23|0]),z=i+32|0,0|e},Ea:function(e,t,n,i,o){var r;return e|=0,t|=0,n|=0,i|=0,o|=0,z=r=z-32|0,h[r+28>>2]=e,h[r+24>>2]=t,h[r+20>>2]=n,h[r+16>>2]=i,a[r+15|0]=o,Ye(e=bo(1312),h[r+28>>2],h[r+24>>2],h[r+20>>2],h[r+16>>2],1&a[r+15|0]),z=r+32|0,0|e},Fa:Gn,Ga:Bn,Ha:On,Ia:En,Ja:Oc,Ka:Pr,La:Tr,Ma:wr,Na:Er,Oa:Sr,Pa:xo,Qa:Cn,Ra:xo,Sa:ss,Ta:xo,Ua:oa,Va:xn,Wa:xo,Xa:Jr,Ya:Mo,Za:ko,_a:jo,$a:ar,ab:rr,bb:Uo,cb:Bo,db:Fo,eb:zo,fb:Lo,gb:xo,hb:Dc,ib:yn,jb:An,kb:gn,lb:nl,mb:el,nb:$c,ob:Kc,pb:pi,qb:si,rb:Jc,sb:Zc,tb:Qc,ub:xo,vb:ss,wb:vn,xb:xo,yb:Nc,zb:Rc,Ab:Ic,Bb:Pc,Cb:Tc,Db:wc,Eb:Ec,Fb:Sc,Gb:as,Hb:rs,Ib:es,Jb:os,Kb:xo,Lb:Cc,Mb:xo,Nb:Mo,Ob:ko,Pb:jo,Qb:Uo,Rb:Bo,Sb:Fo,Tb:zo,Ub:Lo,Vb:xo,Wb:function(){var e,t,n=0;return z=e=z-16|0,la(t=n=bo(344)),a[t+340|0]=1,h[t>>2]=4556,h[t+336>>2]=0,h[t+328>>2]=0,h[t+332>>2]=0,h[t+252>>2]=4,z=e+16|0,0|n},Xb:dn,Yb:mn,Zb:Ua,_b:Fa,$b:za,ac:La,bc:Oa,cc:Ma,dc:Na,ec:Ia,fc:wa,gc:Ea,hc:Sa,ic:Us,jc:Fs,kc:zs,lc:Ls,mc:xa,nc:ya,oc:Os,pc:Ms,qc:oa,rc:Ds,sc:Rs,tc:Is,uc:Ps,vc:Ts,wc:Es,xc:xo,yc:xo,zc:bc,Ac:xc,Bc:yc,Cc:hn,Dc:Ac,Ec:gc,Fc:vc,Gc:fn,Hc:er,Ic:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Oo(h[n+12>>2],h[n+8>>2]),z=n+16|0},Jc:er,Kc:da,Lc:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,z=n+16|0,x(g[h[h[e+12>>2]+12>>2]+(h[e+8>>2]<<2)>>2])},Mc:Cr,Nc:ma,Oc:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,Ci(e=bo(80),h[n+12>>2],1&a[n+11|0],1),z=n+16|0,0|e},Pc:function(e,t,n){var i;return e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,a[i+11|0]=t,a[i+10|0]=n,Ci(e=bo(80),h[i+12>>2],1&a[i+11|0],1&a[i+10|0]),z=i+16|0,0|e},Qc:Mo,Rc:ko,Sc:jo,Tc:Uo,Uc:Bo,Vc:Fo,Wc:zo,Xc:Lo,Yc:xo,Zc:function(){var e,t;return z=e=z-16|0,function(e){var t=0,n=0,i=0,o=0,s=0,c=0;z=n=z-32|0,h[e>>2]=16576,h[e+20>>2]=0,h[e+12>>2]=-1,h[e+16>>2]=0,h[e+4>>2]=0,h[e+8>>2]=0,h[e+36>>2]=0,a[e+40|0]=1,h[e+28>>2]=0,h[e+32>>2]=0,h[e+60>>2]=0,h[e+52>>2]=-1,h[e+56>>2]=0,h[e+44>>2]=0,h[e+48>>2]=0,h[e+76>>2]=0,a[e+80|0]=1,h[e+68>>2]=0,h[e+72>>2]=0,h[e+168>>2]=0,o=1,a[e+172|0]=1,h[e+160>>2]=0,h[e+164>>2]=0,a[e+153|0]=256,a[e+154|0]=1,a[e+152|0]=1,h[e+124>>2]=0,h[e+100>>2]=0,h[e+104>>2]=0,h[e+136>>2]=0,h[e+128>>2]=0,h[e+132>>2]=0,h[e+116>>2]=10,h[e+120>>2]=1,h[e+108>>2]=1,h[e+112>>2]=0,h[6657]=h[6657]+1,$n(t=0|r[h[5255]](72,16)),i=h[e+160>>2],h[e+148>>2]=0,h[e+96>>2]=t,h[e+140>>2]=0,h[e+144>>2]=0,h[e+84>>2]=0,h[e+88>>2]=0,h[e+92>>2]=0,h[n+20>>2]=0,a[n+24|0]=1,h[n+12>>2]=0,h[n+16>>2]=0;e:{if((0|i)>=2)for(;;)if(c=t=h[e+168>>2]+y(o,20)|0,(s=h[t+12>>2])&&(m[t+16|0]&&s&&(h[6658]=h[6658]+1,r[h[5256]](s)),h[c+12>>2]=0),a[t+16|0]=1,h[c+12>>2]=0,h[t+4>>2]=0,h[t+8>>2]=0,(0|(o=o+1|0))==(0|i))break e;if(1!=(0|i))for(function(e){var t=0,n=0,i=0,o=0,s=0,c=0;if(h[e+8>>2]<1){if(h[6657]=h[6657]+1,s=0|r[h[5255]](20,16),!((0|(n=h[e+4>>2]))<1)){for(;Zn((i=y(t,20))+s|0,i+h[e+12>>2]|0),(0|n)!=(0|(t=t+1|0)););if(!((0|(c=h[e+4>>2]))<1))for(n=0;i=t=h[e+12>>2]+y(n,20)|0,(o=h[t+12>>2])&&(m[t+16|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[i+12>>2]=0),a[t+16|0]=1,h[i+12>>2]=0,h[t+4>>2]=0,h[t+8>>2]=0,(0|c)!=(0|(n=n+1|0)););}(t=h[e+12>>2])&&(m[e+16|0]&&t&&(h[6658]=h[6658]+1,r[h[5256]](t)),h[e+12>>2]=0),h[e+12>>2]=s,a[e+16|0]=1,h[e+8>>2]=1}}(e+156|0);t=i,Zn(h[e+168>>2]+y(t,20)|0,n+8|0),i=t+1|0,t;);}h[e+160>>2]=1,(e=h[n+20>>2])&&(m[n+24|0]&&e&&(h[6658]=h[6658]+1,r[h[5256]](e)),h[n+20>>2]=0),z=n+32|0}(t=Xo(176)),z=e+16|0,0|t},_c:ss,$c:xo,ad:da,bd:_n,cd:Cr,dd:ma,ed:da,fd:_n,gd:Cr,hd:ma,id:en,jd:un,kd:es,ld:os,md:ts,nd:function(e,t,n){var i;return e|=0,t|=0,n|=0,z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,a[i+23|0]=n,function(e,t,n,i){var o,r,s=0,c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0),C=x(0),S=x(0),E=x(0),w=x(0),T=x(0),P=x(0),I=x(0),R=x(0),N=x(0),D=x(0),M=x(0),O=x(0);ur(e,7,Zs(),t),a[e+48|0]=0,h[e>>2]=3680,s=h[n+12>>2],h[e+124>>2]=h[n+8>>2],h[e+128>>2]=s,s=h[n+4>>2],h[e+116>>2]=h[n>>2],h[e+120>>2]=s,s=h[n+28>>2],h[e+140>>2]=h[n+24>>2],h[e+144>>2]=s,s=h[n+20>>2],h[e+132>>2]=h[n+16>>2],h[e+136>>2]=s,s=h[n+36>>2],h[e+148>>2]=h[n+32>>2],h[e+152>>2]=s,s=h[n+44>>2],h[e+156>>2]=h[n+40>>2],h[e+160>>2]=s,s=h[n+56>>2],o=h[n+60>>2],r=h[n+52>>2],n=h[n+48>>2],a[e+180|0]=i,h[e+164>>2]=n,h[e+168>>2]=r,h[e+172>>2]=s,h[e+176>>2]=o,D=g[t+52>>2],M=g[t+56>>2],O=g[t+60>>2],A=g[e+172>>2],y=g[e+164>>2],b=g[e+168>>2],c=g[t+12>>2],l=g[t+4>>2],p=g[t+8>>2],u=g[t+28>>2],_=g[t+20>>2],f=g[t+24>>2],C=g[e+132>>2],S=g[e+148>>2],E=g[e+152>>2],w=g[e+120>>2],T=g[e+136>>2],m=g[t+44>>2],P=g[e+156>>2],d=g[t+36>>2],I=g[e+124>>2],v=g[t+40>>2],R=g[e+140>>2],N=g[e+116>>2],h[e+288>>2]=1065353216,h[e+292>>2]=0,h[e+280>>2]=1065353216,h[e+284>>2]=1060320051,h[e+272>>2]=1065353216,h[e+276>>2]=0,h[e+264>>2]=1065353216,h[e+268>>2]=1060320051,h[e+224>>2]=0,h[e+228>>2]=0,h[e+216>>2]=1065353216,h[e+220>>2]=1060320051,h[e+208>>2]=0,h[e+212>>2]=0,h[e+200>>2]=1065353216,h[e+204>>2]=1060320051,h[e+192>>2]=0,h[e+196>>2]=0,h[e+184>>2]=1065353216,h[e+188>>2]=-1082130432,h[e+112>>2]=0,h[e+96>>2]=0,h[e+80>>2]=0,h[e- -64>>2]=0,g[e+92>>2]=x(x(I*d)+x(R*v))+x(P*m),g[e+88>>2]=x(x(w*d)+x(T*v))+x(E*m),g[e+84>>2]=x(x(N*d)+x(C*v))+x(S*m),g[e+76>>2]=x(x(I*_)+x(R*f))+x(P*u),g[e+72>>2]=x(x(w*_)+x(T*f))+x(E*u),g[e+68>>2]=x(x(N*_)+x(C*f))+x(S*u),g[e+60>>2]=x(x(l*I)+x(p*R))+x(c*P),g[e+56>>2]=x(x(l*w)+x(p*T))+x(c*E),g[e+52>>2]=x(x(N*l)+x(C*p))+x(S*c),g[e+108>>2]=O+x(x(x(d*y)+x(v*b))+x(m*A)),g[e+104>>2]=M+x(x(x(_*y)+x(f*b))+x(u*A)),g[e+100>>2]=D+x(x(x(l*y)+x(p*b))+x(c*A)),h[e+1124>>2]=0,h[e+1116>>2]=0,h[e+1120>>2]=0,a[e+1096|0]=0,h[e+256>>2]=1065353216,h[e+260>>2]=0,h[e+248>>2]=1065353216,h[e+252>>2]=1060320051,h[e+240>>2]=1065353216,h[e+244>>2]=0,h[e+232>>2]=1065353216,h[e+236>>2]=1060320051,h[e+1100>>2]=0,h[e+1104>>2]=0,h[e+300>>2]=0,a[0|(t=e+1105|0)]=0,a[t+1|0]=0,a[t+2|0]=0,a[t+3|0]=0,a[t+4|0]=0,a[t+5|0]=0,a[t+6|0]=0,a[t+7|0]=0,a[e+49|0]=1,Xs(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0)}(e=bo(1128),h[i+28>>2],h[i+24>>2],1&a[i+23|0]),z=i+32|0,0|e},od:function(e,t,n,i,o){var r;return e|=0,t|=0,n|=0,i|=0,o|=0,z=r=z-32|0,h[r+28>>2]=e,h[r+24>>2]=t,h[r+20>>2]=n,h[r+16>>2]=i,a[r+15|0]=o,function(e,t,n,i,o,r){ur(e,7,t,n),a[e+48|0]=0,h[e>>2]=3680,t=h[i+12>>2],h[e+60>>2]=h[i+8>>2],h[e+64>>2]=t,t=h[i+4>>2],h[e+52>>2]=h[i>>2],h[e+56>>2]=t,t=h[i+28>>2],h[e+76>>2]=h[i+24>>2],h[e+80>>2]=t,t=h[i+20>>2],h[e+68>>2]=h[i+16>>2],h[e+72>>2]=t,t=h[i+44>>2],h[e+92>>2]=h[i+40>>2],h[e+96>>2]=t,t=h[i+36>>2],h[e+84>>2]=h[i+32>>2],h[e+88>>2]=t,t=h[i+60>>2],h[e+108>>2]=h[i+56>>2],h[e+112>>2]=t,t=h[i+52>>2],h[e+100>>2]=h[i+48>>2],h[e+104>>2]=t,t=h[o+12>>2],h[e+124>>2]=h[o+8>>2],h[e+128>>2]=t,t=h[o+4>>2],h[e+116>>2]=h[o>>2],h[e+120>>2]=t,t=h[o+28>>2],h[e+140>>2]=h[o+24>>2],h[e+144>>2]=t,t=h[o+20>>2],h[e+132>>2]=h[o+16>>2],h[e+136>>2]=t,t=h[o+44>>2],h[e+156>>2]=h[o+40>>2],h[e+160>>2]=t,t=h[o+36>>2],h[e+148>>2]=h[o+32>>2],h[e+152>>2]=t,t=h[o+60>>2],h[e+172>>2]=h[o+56>>2],h[e+176>>2]=t,t=h[o+52>>2],h[e+164>>2]=h[o+48>>2],h[e+168>>2]=t,h[e+288>>2]=1065353216,h[e+292>>2]=0,h[e+280>>2]=1065353216,h[e+284>>2]=1060320051,h[e+272>>2]=1065353216,h[e+276>>2]=0,h[e+264>>2]=1065353216,h[e+268>>2]=1060320051,h[e+224>>2]=0,h[e+228>>2]=0,h[e+216>>2]=1065353216,h[e+220>>2]=1060320051,h[e+208>>2]=0,h[e+212>>2]=0,h[e+200>>2]=1065353216,h[e+204>>2]=1060320051,h[e+192>>2]=0,h[e+196>>2]=0,h[e+184>>2]=1065353216,h[e+188>>2]=-1082130432,a[e+180|0]=r,h[e+1124>>2]=0,h[e+1116>>2]=0,h[e+1120>>2]=0,a[e+1096|0]=0,h[e+256>>2]=1065353216,h[e+260>>2]=0,h[e+248>>2]=1065353216,h[e+252>>2]=1060320051,h[e+240>>2]=1065353216,h[e+244>>2]=0,h[e+232>>2]=1065353216,h[e+236>>2]=1060320051,h[e+300>>2]=0,a[0|(t=e+1105|0)]=0,a[t+1|0]=0,a[t+2|0]=0,a[t+3|0]=0,a[t+4|0]=0,a[t+5|0]=0,a[t+6|0]=0,a[t+7|0]=0,h[e+1100>>2]=0,h[e+1104>>2]=0,a[e+49|0]=1,Xs(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0)}(e=bo(1128),h[r+28>>2],h[r+24>>2],h[r+20>>2],h[r+16>>2],1&a[r+15|0]),z=r+32|0,0|e},pd:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+184>>2]=g[e+8>>2],z=n+16|0},qd:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+188>>2]=g[e+8>>2],z=n+16|0},rd:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,function(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+192>>2]=us(g[n+8>>2]),z=n+16|0}(h[n+12>>2],g[n+8>>2]),z=n+16|0},sd:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,function(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+196>>2]=us(g[n+8>>2]),z=n+16|0}(h[n+12>>2],g[n+8>>2]),z=n+16|0},td:Pr,ud:Tr,vd:wr,wd:Er,xd:Sr,yd:xo,zd:pn,Ad:ln,Bd:ts,Cd:function(e,t,n){var i,o;return e=x(e),t|=0,n|=0,z=i=z+-64|0,g[i+60>>2]=e,h[i+56>>2]=t,h[i+52>>2]=n,t=Xo(144),e=g[i+60>>2],n=h[i+56>>2],o=h[i+52>>2],g[i+28>>2]=0,g[i+24>>2]=0,g[i+20>>2]=0,To(i+32|0,i+28|0,i+24|0,i+20|0),cn(t,e,n,o,i+32|0),z=i- -64|0,0|t},Dd:function(e,t,n,i){var o;return e=x(e),t|=0,n|=0,i|=0,z=o=z-32|0,g[o+28>>2]=e,h[o+24>>2]=t,h[o+20>>2]=n,h[o+16>>2]=i,cn(t=Xo(144),g[o+28>>2],h[o+24>>2],h[o+20>>2],h[o+16>>2]),z=o+32|0,0|t},Ed:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+92>>2])},Fd:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+92>>2]=g[n+8>>2]},Gd:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+96>>2])},Hd:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+96>>2]=g[n+8>>2]},Id:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+100>>2])},Jd:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+100>>2]=g[n+8>>2]},Kd:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+104>>2])},Ld:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+104>>2]=g[n+8>>2]},Md:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+112>>2])},Nd:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+112>>2]=g[n+8>>2]},Od:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+116>>2])},Pd:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+116>>2]=g[n+8>>2]},Qd:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+120>>2])},Rd:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+120>>2]=g[n+8>>2]},Sd:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,1&a[h[t+12>>2]+124|0]},Td:function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,a[n+11|0]=t,a[h[n+12>>2]+124|0]=1&a[n+11|0]},Ud:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+128>>2])},Vd:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+128>>2]=g[n+8>>2]},Wd:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+132>>2])},Xd:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+132>>2]=g[n+8>>2]},Yd:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+136>>2])},Zd:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+136>>2]=g[n+8>>2]},_d:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+140>>2])},$d:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+140>>2]=g[n+8>>2]},ae:er,be:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,+g[h[e+12>>2]+132>>2]},ce:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,+g[h[e+12>>2]+80>>2]},de:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+200>>2]},ee:ya,fe:ra,ge:function(e,t){e|=0,t|=0;var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t>>2]=h[e>>2],h[t+4>>2]=n,n=h[e+12>>2],h[t+8>>2]=h[e+8>>2],h[t+12>>2]=n},he:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+16|0},ie:function(e,t){e|=0,t|=0;var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+16>>2]=h[e>>2],h[t+20>>2]=n,n=h[e+12>>2],h[t+24>>2]=h[e+8>>2],h[t+28>>2]=n},je:on,ke:Zo,le:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+32|0},me:function(e,t){e|=0,t|=0;var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+32>>2]=h[e>>2],h[t+36>>2]=n,n=h[e+12>>2],h[t+40>>2]=h[e+8>>2],h[t+44>>2]=n},ne:sn,oe:an,pe:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,+g[h[t+12>>2]+80>>2]},qe:function(e,t){var n;e|=0,t=+t,h[12+(n=z-16|0)>>2]=e,A[n>>3]=t,g[h[n+12>>2]+80>>2]=A[n>>3]},re:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]+108>>2]},se:function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]+108>>2]=h[n+8>>2]},te:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]+112>>2]},ue:function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]+112>>2]=h[n+8>>2]},ve:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]+116>>2]},we:function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]+116>>2]=h[n+8>>2]},xe:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]+120>>2]},ye:function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]+120>>2]=h[n+8>>2]},ze:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]+124>>2]},Ae:function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]+124>>2]=h[n+8>>2]},Be:er,Ce:function(){var e,t;return z=e=z-16|0,De(t=bo(236)),z=e+16|0,0|t},De:xo,Ee:function(e,t,n,i){var o;return e|=0,t|=0,n|=0,i|=0,z=o=z-32|0,h[o+28>>2]=e,h[o+24>>2]=t,h[o+20>>2]=n,h[o+16>>2]=i,H(e=bo(344),h[o+28>>2],h[o+24>>2],h[o+20>>2]),z=o+32|0,0|e},Fe:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+72>>2]](e,h[n+8>>2]),z=n+16|0},Ge:function(e){var t;return e|=0,z=t=z-32|0,h[t+28>>2]=e,!(0==m[21508])|1&a[21508]||(h[12+(z-16|0)>>2]=21492,h[5377]=0,h[5377]=1|h[5377]),e=h[t+28>>2],r[h[h[e>>2]+76>>2]](t,e),e=h[t+4>>2],h[5373]=h[t>>2],h[5374]=e,e=h[t+12>>2],h[5375]=h[t+8>>2],h[5376]=e,z=t+32|0,21492},He:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+84>>2]](e,h[n+8>>2]),z=n+16|0},Ie:function(e,t,n,i){var o;e|=0,t|=0,n|=0,i|=0,z=o=z-16|0,h[o+12>>2]=e,h[o+8>>2]=t,h[o+4>>2]=n,h[o>>2]=i,e=h[o+12>>2],r[h[h[e>>2]+88>>2]](e,h[o+8>>2],h[o+4>>2],h[o>>2]),z=o+16|0},Je:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+92>>2]](e,h[n+8>>2]),z=n+16|0},Ke:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+56>>2]](e,h[n+8>>2],0),z=n+16|0},Le:function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,a[i+7|0]=n,e=h[i+12>>2],r[h[h[e>>2]+56>>2]](e,h[i+8>>2],1&a[i+7|0]),z=i+16|0},Me:tn,Ne:function(e,t){var n;return e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,e=h[n+12>>2],e=0|r[h[h[e>>2]+52>>2]](e,g[n+8>>2],1,x(.01666666753590107)),z=n+16|0,0|e},Oe:function(e,t,n){var i;return e|=0,t=x(t),n|=0,z=i=z-16|0,h[i+12>>2]=e,g[i+8>>2]=t,h[i+4>>2]=n,e=h[i+12>>2],e=0|r[h[h[e>>2]+52>>2]](e,g[i+8>>2],h[i+4>>2],x(.01666666753590107)),z=i+16|0,0|e},Pe:function(e,t,n,i){var o;return e|=0,t=x(t),n|=0,i=x(i),z=o=z-16|0,h[o+12>>2]=e,g[o+8>>2]=t,h[o+4>>2]=n,g[o>>2]=i,e=h[o+12>>2],e=0|r[h[h[e>>2]+52>>2]](e,g[o+8>>2],h[o+4>>2],g[o>>2]),z=o+16|0,0|e},Qe:nl,Re:el,Se:$c,Te:Kc,Ue:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],r[h[h[e>>2]+36>>2]](e,h[n+8>>2],2,-3),z=n+16|0},Ve:function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,e=h[i+12>>2],r[h[h[e>>2]+36>>2]](e,h[i+8>>2],h[i+4>>2],-3),z=i+16|0},We:Jc,Xe:Zc,Ye:Qc,Ze:Dc,_e:yn,$e:An,af:gn,bf:xo,cf:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t,n){var i=0,o=x(0),r=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),m=x(0),d=x(0),v=x(0),A=x(0),y=x(0),b=x(0);Js(e,3,t),h[e>>2]=3400,i=h[n+4>>2],h[e+300>>2]=h[n>>2],h[e+304>>2]=i,i=h[n+12>>2],h[e+308>>2]=h[n+8>>2],h[e+312>>2]=i,c=g[t+52>>2],l=g[t+4>>2],p=g[t+8>>2],u=g[t+12>>2],_=g[t+56>>2],f=g[t+20>>2],m=g[t+24>>2],d=g[t+28>>2],v=g[t+60>>2],A=g[t+36>>2],y=g[t+40>>2],o=g[n+8>>2],b=g[t+44>>2],r=g[n>>2],s=g[n+4>>2],h[e+356>>2]=0,h[e+348>>2]=1050253722,h[e+352>>2]=1065353216,a[e+344|0]=0,h[e+328>>2]=0,h[e+332>>2]=0,g[e+324>>2]=v+x(x(x(r*A)+x(s*y))+x(o*b)),g[e+320>>2]=_+x(x(x(r*f)+x(s*m))+x(o*d)),g[e+316>>2]=c+x(x(x(r*l)+x(s*p))+x(o*u))}(e=bo(360),h[n+12>>2],h[n+8>>2]),z=n+16|0,0|e},df:function(e,t,n,i){var o;return e|=0,t|=0,n|=0,i|=0,z=o=z-32|0,h[o+28>>2]=e,h[o+24>>2]=t,h[o+20>>2]=n,h[o+16>>2]=i,function(e,t,n,i,o){ur(e,3,t,n),h[e>>2]=3400,t=h[i+4>>2],h[e+300>>2]=h[i>>2],h[e+304>>2]=t,t=h[i+12>>2],h[e+308>>2]=h[i+8>>2],h[e+312>>2]=t,t=h[o+4>>2],h[e+316>>2]=h[o>>2],h[e+320>>2]=t,t=h[o+12>>2],h[e+324>>2]=h[o+8>>2],h[e+328>>2]=t,h[e+356>>2]=0,h[e+348>>2]=1050253722,h[e+352>>2]=1065353216,a[e+344|0]=0,h[e+332>>2]=0}(e=bo(360),h[o+28>>2],h[o+24>>2],h[o+20>>2],h[o+16>>2]),z=o+32|0,0|e},ef:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+300>>2]=h[e>>2],h[t+304>>2]=n,n=h[e+12>>2],h[t+308>>2]=h[e+8>>2],h[t+312>>2]=n}(h[n+12>>2],h[n+8>>2]),z=n+16|0},ff:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+316>>2]=h[e>>2],h[t+320>>2]=n,n=h[e+12>>2],h[t+324>>2]=h[e+8>>2],h[t+328>>2]=n}(h[n+12>>2],h[n+8>>2]),z=n+16|0},gf:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+300|0},hf:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+316|0},jf:Pr,kf:Tr,lf:wr,mf:Er,nf:Sr,of:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+348|0},pf:function(e,t){e|=0,t|=0;var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],t=h[n+8>>2],n=h[t+4>>2],h[e+348>>2]=h[t>>2],h[e+352>>2]=n,h[e+356>>2]=h[t+8>>2]},qf:xo,rf:function(){var e;return e=bo(4),h[e>>2]=0,function(e){var t,n;z=t=z-16|0,h[t+12>>2]=e,e=z-16|0,n=h[t+12>>2],h[e+12>>2]=n,h[h[e+12>>2]>>2]=1644,h[n>>2]=1552,z=t+16|0}(e),0|e},sf:xo,tf:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,ui(e=bo(100),h[t+12>>2],1),z=t+16|0,0|e},uf:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,ui(e=bo(100),h[n+12>>2],1&a[n+11|0]),z=n+16|0,0|e},vf:Mo,wf:ko,xf:jo,yf:ar,zf:rr,Af:Uo,Bf:Bo,Cf:Fo,Df:zo,Ef:Lo,Ff:xo,Gf:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t,n){var i=0,o=0;Js(e,5,t),h[e>>2]=3796,t=h[n+12>>2],h[e+308>>2]=h[n+8>>2],h[e+312>>2]=t,t=h[n+4>>2],h[e+300>>2]=h[n>>2],h[e+304>>2]=t,t=h[n+28>>2],h[e+324>>2]=h[n+24>>2],h[e+328>>2]=t,t=h[n+20>>2],h[e+316>>2]=h[n+16>>2],h[e+320>>2]=t,t=h[n+36>>2],h[e+332>>2]=h[n+32>>2],h[e+336>>2]=t,t=h[n+44>>2],h[e+340>>2]=h[n+40>>2],h[e+344>>2]=t,t=h[n+56>>2],i=h[n+60>>2],o=h[n+48>>2],n=h[n+52>>2],a[e+527|0]=0,h[e+356>>2]=t,h[e+360>>2]=i,h[e+348>>2]=o,h[e+352>>2]=n,t=h[e+304>>2],h[e+364>>2]=h[e+300>>2],h[e+368>>2]=t,t=h[e+312>>2],h[e+372>>2]=h[e+308>>2],h[e+376>>2]=t,t=h[e+320>>2],h[e+380>>2]=h[e+316>>2],h[e+384>>2]=t,t=h[e+328>>2],h[e+388>>2]=h[e+324>>2],h[e+392>>2]=t,t=h[e+344>>2],h[e+404>>2]=h[e+340>>2],h[e+408>>2]=t,t=h[e+336>>2],h[e+396>>2]=h[e+332>>2],h[e+400>>2]=t,a[e+552|0]=0,a[e+526|0]=0,f[e+524>>1]=0,h[e+420>>2]=0,h[e+424>>2]=0,h[e+412>>2]=0,h[e+416>>2]=0,h[e+572>>2]=-1082130432,h[e+452>>2]=1566444395,h[e+444>>2]=1566444395,h[e+448>>2]=1566444395,h[e+604>>2]=0,h[e+596>>2]=0,h[e+600>>2]=1060320051,h[e+592>>2]=0,h[e+456>>2]=1028443341,h[e+436>>2]=1065353216,h[e+440>>2]=1008981770,h[e+428>>2]=1065353216,h[e+432>>2]=1050253722}(e=bo(608),h[n+12>>2],h[n+8>>2]),z=n+16|0,0|e},Hf:function(e,t,n,i){var o;return e|=0,t|=0,n|=0,i|=0,z=o=z-32|0,h[o+28>>2]=e,h[o+24>>2]=t,h[o+20>>2]=n,h[o+16>>2]=i,function(e,t,n,i,o){ur(e,5,t,n),h[e>>2]=3796,t=h[i+12>>2],h[e+308>>2]=h[i+8>>2],h[e+312>>2]=t,t=h[i+4>>2],h[e+300>>2]=h[i>>2],h[e+304>>2]=t,t=h[i+28>>2],h[e+324>>2]=h[i+24>>2],h[e+328>>2]=t,t=h[i+20>>2],h[e+316>>2]=h[i+16>>2],h[e+320>>2]=t,t=h[i+44>>2],h[e+340>>2]=h[i+40>>2],h[e+344>>2]=t,t=h[i+36>>2],h[e+332>>2]=h[i+32>>2],h[e+336>>2]=t,t=h[i+60>>2],h[e+356>>2]=h[i+56>>2],h[e+360>>2]=t,t=h[i+52>>2],h[e+348>>2]=h[i+48>>2],h[e+352>>2]=t,t=h[o+12>>2],h[e+372>>2]=h[o+8>>2],h[e+376>>2]=t,t=h[o+4>>2],h[e+364>>2]=h[o>>2],h[e+368>>2]=t,t=h[o+20>>2],h[e+380>>2]=h[o+16>>2],h[e+384>>2]=t,t=h[o+28>>2],h[e+388>>2]=h[o+24>>2],h[e+392>>2]=t,t=h[o+36>>2],h[e+396>>2]=h[o+32>>2],h[e+400>>2]=t,t=h[o+44>>2],h[e+404>>2]=h[o+40>>2],h[e+408>>2]=t,t=h[o+52>>2],h[e+412>>2]=h[o+48>>2],h[e+416>>2]=t,t=h[o+60>>2],h[e+420>>2]=h[o+56>>2],h[e+424>>2]=t,a[e+552|0]=0,h[e+572>>2]=-1082130432,h[e+524>>2]=0,h[e+444>>2]=1566444395,h[e+448>>2]=1566444395,h[e+592>>2]=0,h[e+428>>2]=1065353216,h[e+432>>2]=1050253722,h[e+436>>2]=1065353216,h[e+440>>2]=1008981770,h[e+596>>2]=0,h[e+600>>2]=1060320051,h[e+604>>2]=0,h[e+452>>2]=1566444395,h[e+456>>2]=1028443341}(e=bo(608),h[o+28>>2],h[o+24>>2],h[o+20>>2],h[o+16>>2]),z=o+32|0,0|e},If:function(e,t,n){var i;e|=0,t|=0,n=x(n),z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,g[i+4>>2]=n,function(e,t,n){var i;h[12+(i=z-16|0)>>2]=e,h[i+8>>2]=t,g[i+4>>2]=n,e=h[i+12>>2];e:if(!((t=h[i+8>>2]+-3|0)>>>0>2)){switch(t-1|0){default:g[e+452>>2]=g[i+4>>2];break e;case 0:g[e+448>>2]=g[i+4>>2];break e;case 1:}g[e+444>>2]=g[i+4>>2]}}(h[i+12>>2],h[i+8>>2],g[i+4>>2]),z=i+16|0},Jf:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,t=1&a[n+11|0],h[12+(e=z-16|0)>>2]=h[n+12>>2],a[e+11|0]=t,a[h[e+12>>2]+524|0]=1&a[e+11|0],z=n+16|0},Kf:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+440>>2]=g[e+8>>2],z=n+16|0},Lf:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,t=1&a[n+11|0],h[12+(e=z-16|0)>>2]=h[n+12>>2],a[e+11|0]=t,a[h[e+12>>2]+552|0]=1&a[e+11|0],z=n+16|0},Mf:function(e,t){var n,i;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,i=h[e+12>>2],g[i+572>>2]=g[e+8>>2],a[i+553|0]=0,z=n+16|0},Nf:function(e,t){var n,i;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,i=h[e+12>>2],g[i+572>>2]=g[e+8>>2],a[i+553|0]=1,z=n+16|0},Of:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0,i=x(0),o=x(0),r=x(0),a=x(0),s=x(0),c=x(0),l=x(0),p=x(0),u=x(0),_=x(0),f=x(0),h=x(0),m=x(0),d=x(0);z=n=z-48|0,Oo(e+364|0,n+16|0),i=g[t+4>>2],o=g[t+8>>2],r=g[t>>2],a=g[t+12>>2],s=g[n+24>>2],c=g[n+20>>2],l=g[n+28>>2],p=g[n+16>>2],Oo(e+300|0,n),u=x(x(s*o)+x(x(x(p*r)+x(l*a))+x(c*i))),_=g[n+12>>2],f=x(x(x(x(l*r)-x(p*a))-x(c*o))+x(s*i)),h=g[n>>2],m=x(x(p*o)+x(x(x(l*i)-x(c*a))-x(s*r))),d=g[n+4>>2],i=x(x(c*r)+x(x(x(l*o)-x(s*a))-x(p*i))),o=g[n+8>>2],g[n+44>>2]=x(x(x(u*_)-x(f*h))-x(m*d))-x(i*o),g[n+40>>2]=x(x(x(i*_)+x(u*o))+x(f*d))-x(h*m),g[n+36>>2]=x(x(h*i)+x(x(_*m)+x(u*d)))-x(f*o),g[n+32>>2]=x(x(x(u*h)+x(f*_))+x(m*o))-x(i*d),ze(e,n+32|0),z=n+48|0}(h[n+12>>2],h[n+8>>2]),z=n+16|0},Pf:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,ze(h[n+12>>2],h[n+8>>2]),z=n+16|0},Qf:Pr,Rf:Tr,Sf:wr,Tf:Er,Uf:Sr,Vf:xo,Wf:function(e,t){var n,i;return e=x(e),t=x(t),z=n=z-16|0,g[n+12>>2]=e,g[n+8>>2]=t,function(e,t,n){Jo(e),g[e+64>>2]=n,g[e+60>>2]=t,h[e>>2]=11836,h[e+76>>2]=2,h[e+68>>2]=0,h[e+72>>2]=1,h[e+4>>2]=11,g[e+40>>2]=t,g[e+36>>2]=n,g[e+32>>2]=t,g[e+56>>2]=t/x(T(x(x(t*t)+x(n*n))))}(i=bo(80),g[n+12>>2],g[n+8>>2]),z=n+16|0,0|i},Xf:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+60>>2]=g[e+8>>2],z=n+16|0},Yf:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+64>>2]=g[e+8>>2],z=n+16|0},Zf:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0,i=0,o=0;e:{t:{n:{i:{if(t>>>0<=2)switch(t-1|0){case 1:break t;case 0:break n;default:break i}n=h[e+72>>2],o=h[e+68>>2],t=h[e+76>>2];break e}h[e+68>>2]=1,h[e+72>>2]=0,h[e+76>>2]=2,o=1,t=2;break e}h[e+68>>2]=0,h[e+72>>2]=1,h[e+76>>2]=2,n=1,t=2;break e}h[e+68>>2]=0,h[e+72>>2]=2,h[e+76>>2]=1,n=2,t=1}h[(i=e+32|0)+(o<<2)>>2]=h[e+60>>2],h[(n<<2)+i>>2]=h[e+64>>2],h[(t<<2)+i>>2]=h[e+60>>2]}(h[n+12>>2],h[n+8>>2]),z=n+16|0},_f:Mo,$f:ko,ag:jo,bg:Uo,cg:Bo,dg:Fo,eg:zo,fg:Lo,gg:Jr,hg:xo,ig:function(e,t,n,i,o,r,s,c,l){var p;return e|=0,t|=0,n|=0,i=x(i),o=x(o),r=x(r),s|=0,c|=0,l|=0,z=p=z-48|0,h[p+44>>2]=e,h[p+40>>2]=t,h[p+36>>2]=n,g[p+32>>2]=i,g[p+28>>2]=o,g[p+24>>2]=r,h[p+20>>2]=s,h[p+16>>2]=c,a[p+15|0]=l,function(e,t,n,i,o,r,s,c,l,p){h[e>>2]=14552,h[e+4>>2]=35,h[e+8>>2]=0,h[e+12>>2]=-1,h[e+16>>2]=0,h[e>>2]=15324,function(e,t,n,i,o,r,s,c,l,p){var u=x(0),_=x(0),f=x(0),m=x(0);h[e+112>>2]=1065353216,h[e+116>>2]=1065353216,h[e+108>>2]=c,a[e+105|0]=0,a[e+106|0]=0,a[e+104|0]=p,h[e+100>>2]=l,g[e+92>>2]=o,g[e+80>>2]=s,g[e+76>>2]=r,h[e+72>>2]=n,h[e+68>>2]=t,h[e+120>>2]=1065353216,h[e+124>>2]=0,h[e+96>>2]=i,h[e+4>>2]=24,o=x(n+-1|0),g[e+88>>2]=o,u=x(t+-1|0),g[e+84>>2]=u;e:{t:{n:{i:{o:{if(c>>>0<=2)switch(c-1|0){case 1:break n;case 0:break i;default:break o}_=g[e+44>>2],f=g[e+28>>2],o=g[e+40>>2],m=g[e+24>>2],s=g[e+36>>2],r=g[e+20>>2];break e}h[e+48>>2]=0,g[e+44>>2]=o,g[e+40>>2]=u,g[e+36>>2]=s,h[e+32>>2]=0,h[e+24>>2]=0,h[e+28>>2]=0,g[e+20>>2]=r,_=o,o=u;break e}h[e+20>>2]=0,h[e+48>>2]=0,g[e+44>>2]=o,g[e+40>>2]=s,g[e+36>>2]=u,h[e+28>>2]=0,h[e+32>>2]=0,g[e+24>>2]=r,_=o,o=s,m=r,r=x(0);break t}h[e+20>>2]=0,h[e+24>>2]=0,h[e+48>>2]=0,g[e+44>>2]=s,g[e+40>>2]=o,g[e+36>>2]=u,h[e+32>>2]=0,g[e+28>>2]=r,_=s}f=r,s=u,r=x(0)}h[e- -64>>2]=0,g[e+60>>2]=x(f+_)*x(.5),g[e+56>>2]=x(m+o)*x(.5),g[e+52>>2]=x(r+s)*x(.5)}(e,t,n,i,o,r,s,c,l,p)}(e=bo(128),h[p+44>>2],h[p+40>>2],h[p+36>>2],g[p+32>>2],g[p+28>>2],g[p+24>>2],h[p+20>>2],h[p+16>>2],1&a[p+15|0]),z=p+48|0,0|e},jg:ar,kg:rr,lg:Mo,mg:ko,ng:jo,og:Uo,pg:Bo,qg:Fo,rg:zo,sg:Lo,tg:xo,ug:er,vg:function(){var e,t;return z=e=z-32|0,t=Xo(88),$t(e+8|0),he(t,e+8|0),z=e+32|0,0|t},wg:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,he(e=Xo(88),h[t+12>>2]),z=t+16|0,0|e},xg:xo,yg:function(){var e,t;return z=e=z-16|0,function(e){var t=0;la(e),h[e+336>>2]=0,a[e+340|0]=1,h[e+328>>2]=0,h[e+332>>2]=0,h[e+252>>2]=4,h[e>>2]=4600,h[6657]=h[6657]+1,$n(t=0|r[h[5255]](72,16)),h[e+344>>2]=t}(t=bo(348)),z=e+16|0,0|t},zg:Ua,Ag:Fa,Bg:za,Cg:La,Dg:Oa,Eg:Ma,Fg:Na,Gg:Ia,Hg:wa,Ig:Ea,Jg:Sa,Kg:Us,Lg:Fs,Mg:zs,Ng:Ls,Og:xa,Pg:ya,Qg:Os,Rg:Ms,Sg:oa,Tg:Ds,Ug:Rs,Vg:Is,Wg:Ps,Xg:Ts,Yg:Es,Zg:dn,_g:mn,$g:xo,ah:xo,bh:function(e,t,n){var i;return e|=0,t|=0,n|=0,z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,a[i+23|0]=n,function(e,t,n,i){qe(e,t,n,i),a[0|(t=e+1309|0)]=0,a[t+1|0]=0,a[t+2|0]=0,a[t+3|0]=0,h[e+4>>2]=9,h[e>>2]=3144,a[0|(t=e+1313|0)]=0,a[t+1|0]=0,h[(t=e+1316|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1324|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1332|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1340|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1348|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1356|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1380|0)>>2]=1065353216,h[t+4>>2]=1065353216,h[(t=e+1372|0)>>2]=1065353216,h[t+4>>2]=1065353216,h[e+1364>>2]=1065353216,h[e+1368>>2]=1065353216}(e=bo(1388),h[i+28>>2],h[i+24>>2],1&a[i+23|0]),z=i+32|0,0|e},ch:function(e,t,n,i,o){var r;return e|=0,t|=0,n|=0,i|=0,o|=0,z=r=z-32|0,h[r+28>>2]=e,h[r+24>>2]=t,h[r+20>>2]=n,h[r+16>>2]=i,a[r+15|0]=o,function(e,t,n,i,o,r){Ye(e,t,n,i,o,r),a[0|(t=e+1309|0)]=0,a[t+1|0]=0,a[t+2|0]=0,a[t+3|0]=0,h[e+4>>2]=9,h[e>>2]=3144,a[0|(t=e+1313|0)]=0,a[t+1|0]=0,h[(t=e+1316|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1324|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1332|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1340|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1348|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1356|0)>>2]=0,h[t+4>>2]=0,h[(t=e+1380|0)>>2]=1065353216,h[t+4>>2]=1065353216,h[(t=e+1372|0)>>2]=1065353216,h[t+4>>2]=1065353216,h[e+1364>>2]=1065353216,h[e+1368>>2]=1065353216}(e=bo(1388),h[r+28>>2],h[r+24>>2],h[r+20>>2],h[r+16>>2],1&a[r+15|0]),z=r+32|0,0|e},dh:function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,a[i+7|0]=n,function(e,t,n){var i;a[1309+(i=e+t|0)|0]=n,(0|t)<=2?a[i+788|0]=n:a[720+((t<<6)+e|0)|0]=n}(h[i+12>>2],h[i+8>>2],1&a[i+7|0]),z=i+16|0},eh:function(e,t,n){var i;e|=0,t|=0,n=x(n),z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,g[i+4>>2]=n,g[1340+(h[i+12>>2]+(h[i+8>>2]<<2)|0)>>2]=g[i+4>>2],z=i+16|0},fh:function(e,t,n){var i;e|=0,t|=0,n=x(n),z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,g[i+4>>2]=n,g[1364+(h[i+12>>2]+(h[i+8>>2]<<2)|0)>>2]=g[i+4>>2],z=i+16|0},gh:function(e){var t;e|=0,z=t=z-16|0,h[t+12>>2]=e,function(e){var t,n=0,i=0;nc(e),h[e+1316>>2]=h[e+1256>>2],t=h[4+(i=e+1260|0)>>2],h[(n=e+1320|0)>>2]=h[i>>2],h[n+4>>2]=t,h[e+1328>>2]=h[e+1192>>2],n=e+1332|0,i=h[4+(e=e+1196|0)>>2],h[n>>2]=h[e>>2],h[n+4>>2]=i}(h[t+12>>2]),z=t+16|0},hh:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){nc(e),h[1316+(e=(t<<2)+e|0)>>2]=h[((0|t)<3?e+1256|0:e+1180|0)>>2]}(h[n+12>>2],h[n+8>>2]),z=n+16|0},ih:function(e,t,n){var i;e|=0,t|=0,n=x(n),z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,g[i+4>>2]=n,g[1316+(h[i+12>>2]+(h[i+8>>2]<<2)|0)>>2]=g[i+4>>2],z=i+16|0},jh:Gn,kh:Bn,lh:On,mh:En,nh:Oc,oh:Pr,ph:Tr,qh:wr,rh:Er,sh:Sr,th:xo,uh:function(){var e,t;return z=e=z-16|0,Xc(t=bo(172),1,1),z=e+16|0,0|t},vh:function(e){var t;return e|=0,z=t=z-16|0,a[t+15|0]=e,Xc(e=bo(172),1&a[t+15|0],1),z=t+16|0,0|e},wh:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,a[n+15|0]=e,a[n+14|0]=t,Xc(e=bo(172),1&a[n+15|0],1&a[n+14|0]),z=n+16|0,0|e},xh:function(e,t,n,i){var o;e|=0,t|=0,n|=0,i|=0,z=o=z-16|0,h[o+12>>2]=e,h[o+8>>2]=t,h[o+4>>2]=n,h[o>>2]=i,ti(h[o+12>>2],h[o+8>>2],h[o+4>>2],h[o>>2],0),z=o+16|0},yh:function(e,t,n,i,o){var r;e|=0,t|=0,n|=0,i|=0,o|=0,z=r=z-32|0,h[r+28>>2]=e,h[r+24>>2]=t,h[r+20>>2]=n,h[r+16>>2]=i,a[r+15|0]=o,ti(h[r+28>>2],h[r+24>>2],h[r+20>>2],h[r+16>>2],1&a[r+15|0]),z=r+32|0},zh:function(e,t,n,i){var o;e|=0,t|=0,n|=0,i|=0,z=o=z-16|0,h[o+12>>2]=e,h[o+8>>2]=t,h[o+4>>2]=n,h[o>>2]=i,function(e,t,n,i){var o=0;o=h[e+32>>2],h[o>>2]=h[o>>2]+1,ta(e,t),ta(e,n),ta(e,i)}(h[o+12>>2],h[o+8>>2],h[o+4>>2],h[o>>2]),z=o+16|0},Ah:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+20|0},Bh:Cn,Ch:xo,Dh:xo,Eh:function(){var e,t;return z=e=z-16|0,pa(t=bo(868)),z=e+16|0,0|t},Fh:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+836>>2]},Gh:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+840>>2]},Hh:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+844>>2]},Ih:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,z=n+16|0,(h[e+12>>2]+4|0)+y(h[e+8>>2],208)|0},Jh:ts,Kh:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,function(e,t){var n=x(0),i=x(0),o=x(0),r=x(0);Cs(e),h[e+4>>2]=0,h[e>>2]=14660,n=g[t>>2],o=g[t+4>>2],i=g[t+8>>2],h[e+44>>2]=0,r=x(i*g[e+24>>2]),i=g[e+48>>2],g[e+40>>2]=r-i,g[e+36>>2]=x(o*g[e+20>>2])-i,g[e+32>>2]=x(n*g[e+16>>2])-i,n=g[t>>2],o=g[t+8>>2],r=g[t+4>>2],(n=x(g[((n<r?(n<o^1)<<1:r<o?1:2)<<2)+t>>2]*x(.10000000149011612)))<i&&ys(e,n)}(e=bo(60),h[t+12>>2]),z=t+16|0,0|e},Lh:ar,Mh:rr,Nh:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n,i,o=0;z=n=z-80|0,h[n+76>>2]=e,h[n+72>>2]=t,e=h[n+76>>2],g[n+52>>2]=r[h[h[e>>2]+48>>2]](e),g[n+48>>2]=r[h[h[e>>2]+48>>2]](e),g[n+44>>2]=r[h[h[e>>2]+48>>2]](e),To(o=n+56|0,n+52|0,n+48|0,n+44|0),zr(i=n+8|0,h[n+72>>2],e+16|0),sr(t=n+24|0,i,o),o=h[t+4>>2],h[e+32>>2]=h[t>>2],h[e+36>>2]=o,o=h[t+12>>2],h[e+40>>2]=h[t+8>>2],h[e+44>>2]=o,ce(e,h[n+72>>2]),z=n+80|0}(h[n+12>>2],h[n+8>>2]),z=n+16|0},Oh:Mo,Ph:ko,Qh:jo,Rh:Uo,Sh:Bo,Th:Fo,Uh:zo,Vh:Lo,Wh:Jr,Xh:xo,Yh:function(e,t){var n,i;return e=x(e),t=x(t),z=n=z-16|0,g[n+12>>2]=e,g[n+8>>2]=t,function(e,t,n){Jo(e),g[e+48>>2]=t,h[e>>2]=14136,h[e+56>>2]=1,h[e+4>>2]=10,h[e+44>>2]=0,g[e+40>>2]=t,g[e+36>>2]=n*x(.5),g[e+32>>2]=t}(i=bo(60),g[n+12>>2],g[n+8>>2]),z=n+16|0,0|i},Zh:ar,_h:rr,$h:function(e,t,n,i){var o;e|=0,t=x(t),n=x(n),i|=0,z=o=z-16|0,h[o+12>>2]=e,g[o+8>>2]=t,g[o+4>>2]=n,h[o>>2]=i,function(e,t,n,i){var o;z=o=z-32|0,h[o+28>>2]=e,g[o+24>>2]=t,g[o+20>>2]=n,h[o+16>>2]=i,e=h[o+28>>2],h[e+56>>2]=h[o+16>>2],g[o+12>>2]=1,g[o+8>>2]=1,g[o+4>>2]=1,To(e+16|0,o+12|0,o+8|0,o+4|0),1!=h[e+56>>2]?h[e+56>>2]?To(e+32|0,i=o+24|0,i,o+20|0):To(e+32|0,o+20|0,i=o+24|0,i):To(e+32|0,i=o+24|0,o+20|0,i),h[o>>2]=(h[o+16>>2]+2|0)%3,h[12+(i=z-16|0)>>2]=e+32,g[e+48>>2]=g[h[i+12>>2]+(h[o>>2]<<2)>>2],z=o+32|0}(h[o+12>>2],g[o+8>>2],g[o+4>>2],h[o>>2]),z=o+16|0},ai:Mo,bi:ko,ci:jo,di:Uo,ei:Bo,fi:Fo,gi:zo,hi:Lo,ii:Jr,ji:xo,ki:function(){var e,t;return z=e=z-16|0,Ii(t=bo(200),1),z=e+16|0,0|t},li:function(e){var t;return e|=0,z=t=z-16|0,a[t+15|0]=e,Ii(e=bo(200),1&a[t+15|0]),z=t+16|0,0|e},mi:function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,function(e,t,n){var i=0,o=0,s=0,c=0,l=x(0),p=0;if(z=i=z-144|0,h[e+72>>2]=h[e+72>>2]+1,h[i+140>>2]=0,o=h[t+12>>2],h[i+72>>2]=h[t+8>>2],h[i+76>>2]=o,o=h[t+4>>2],h[i+64>>2]=h[t>>2],h[i+68>>2]=o,o=h[t+28>>2],h[i+88>>2]=h[t+24>>2],h[i+92>>2]=o,o=h[t+20>>2],h[i+80>>2]=h[t+16>>2],h[i+84>>2]=o,o=h[t+44>>2],h[i+104>>2]=h[t+40>>2],h[i+108>>2]=o,o=h[t+36>>2],h[i+96>>2]=h[t+32>>2],h[i+100>>2]=o,o=h[t+60>>2],h[i+120>>2]=h[t+56>>2],h[i+124>>2]=o,o=h[t+52>>2],s=h[t+48>>2],h[i+128>>2]=n,h[i+112>>2]=s,h[i+116>>2]=o,h[i+132>>2]=h[n+4>>2],g[i+136>>2]=r[h[h[n>>2]+48>>2]](n),r[h[h[n>>2]+8>>2]](n,t,i+48|0,i+32|0),l=g[i+48>>2],g[e+36>>2]>l&&(g[e+36>>2]=l),l=g[i+32>>2],g[e+52>>2]<l&&(g[e+52>>2]=l),l=g[i+52>>2],g[e+40>>2]>l&&(g[e+40>>2]=l),l=g[i+36>>2],g[e+56>>2]<l&&(g[e+56>>2]=l),l=g[i+56>>2],g[e+44>>2]>l&&(g[e+44>>2]=l),l=g[i+40>>2],g[e+60>>2]<l&&(g[e+60>>2]=l),(t=h[e+68>>2])&&(n=h[i+60>>2],h[i+8>>2]=h[i+56>>2],h[i+12>>2]=n,n=h[i+44>>2],h[i+24>>2]=h[i+40>>2],h[i+28>>2]=n,n=h[i+36>>2],h[i+16>>2]=h[i+32>>2],h[i+20>>2]=n,n=h[i+52>>2],h[i>>2]=h[i+48>>2],h[i+4>>2]=n,h[i+140>>2]=fs(t,i,h[e+20>>2])),function(e,t){var n=0,i=0,o=0,s=0,c=0,l=0,p=0;if((0|(s=h[e+4>>2]))==h[e+8>>2]&&!((0|s)>=(0|(c=s?s<<1:1)))){if(c&&(h[6657]=h[6657]+1,p=0|r[h[5255]](y(c,80),16),s=h[e+4>>2]),(0|s)>=1)for(;i=(n=y(l,80))+p|0,n=n+h[e+12>>2]|0,o=h[n+4>>2],h[i>>2]=h[n>>2],h[i+4>>2]=o,o=h[n+12>>2],h[i+8>>2]=h[n+8>>2],h[i+12>>2]=o,o=h[n+28>>2],h[i+24>>2]=h[n+24>>2],h[i+28>>2]=o,o=h[n+20>>2],h[i+16>>2]=h[n+16>>2],h[i+20>>2]=o,o=h[n+44>>2],h[i+40>>2]=h[n+40>>2],h[i+44>>2]=o,o=h[n+36>>2],h[i+32>>2]=h[n+32>>2],h[i+36>>2]=o,o=h[n+60>>2],h[i+56>>2]=h[n+56>>2],h[i+60>>2]=o,o=h[n+52>>2],h[i+48>>2]=h[n+48>>2],h[i+52>>2]=o,o=h[n+68>>2],h[i+64>>2]=h[n+64>>2],h[i+68>>2]=o,o=h[n+76>>2],h[i+72>>2]=h[n+72>>2],h[i+76>>2]=o,(0|(l=l+1|0))!=(0|s););(n=h[e+12>>2])&&(m[e+16|0]&&n&&(h[6658]=h[6658]+1,r[h[5256]](n)),h[e+12>>2]=0),h[e+12>>2]=p,a[e+16|0]=1,h[e+8>>2]=c,s=h[e+4>>2]}n=h[e+12>>2]+y(s,80)|0,s=h[t+4>>2],h[n>>2]=h[t>>2],h[n+4>>2]=s,i=h[t+12>>2],h[n+8>>2]=h[t+8>>2],h[n+12>>2]=i,i=h[t+28>>2],h[n+24>>2]=h[t+24>>2],h[n+28>>2]=i,i=h[t+20>>2],h[n+16>>2]=h[t+16>>2],h[n+20>>2]=i,i=h[t+44>>2],h[n+40>>2]=h[t+40>>2],h[n+44>>2]=i,i=h[t+36>>2],h[n+32>>2]=h[t+32>>2],h[n+36>>2]=i,i=h[t+60>>2],h[n+56>>2]=h[t+56>>2],h[n+60>>2]=i,i=h[t+52>>2],h[n+48>>2]=h[t+48>>2],h[n+52>>2]=i,i=h[t+76>>2],h[n+72>>2]=h[t+72>>2],h[n+76>>2]=i,i=h[t+68>>2],h[n+64>>2]=h[t+64>>2],h[n+68>>2]=i,h[e+4>>2]=h[e+4>>2]+1}(e+16|0,i- -64|0),(0|(n=h[e+84>>2]))==h[e+88>>2]&&!((0|n)>=(0|(s=n?n<<1:1)))){t=0,s&&(h[6657]=h[6657]+1,c=0|r[h[5255]](s<<2,16),n=h[e+84>>2]),o=h[e+92>>2];e:{t:{if((0|n)>=1)for(;;)if(h[(p=t<<2)+c>>2]=h[o+p>>2],(0|n)==(0|(t=t+1|0)))break t;if(!o)break e}m[e+96|0]&&(o&&(h[6658]=h[6658]+1,r[h[5256]](o)),n=h[e+84>>2]),h[e+92>>2]=0}h[e+92>>2]=c,h[e+88>>2]=s,a[e+96|0]=1}if(h[h[e+92>>2]+(n<<2)>>2]=1056964608,h[e+84>>2]=n+1,(0|(n=h[e+124>>2]))==h[e+128>>2]&&!((0|n)>=(0|(s=n?n<<1:1)))){t=0,c=0,s&&(h[6657]=h[6657]+1,c=0|r[h[5255]](s<<2,16),n=h[e+124>>2]),o=h[e+132>>2];e:{t:{if((0|n)>=1)for(;;)if(h[(p=t<<2)+c>>2]=h[o+p>>2],(0|n)==(0|(t=t+1|0)))break t;if(!o)break e}m[e+136|0]&&(o&&(h[6658]=h[6658]+1,r[h[5256]](o)),n=h[e+124>>2]),h[e+132>>2]=0}h[e+132>>2]=c,h[e+128>>2]=s,a[e+136|0]=1}if(h[h[e+132>>2]+(n<<2)>>2]=0,h[e+124>>2]=n+1,(0|(n=h[e+104>>2]))==h[e+108>>2]&&!((0|n)>=(0|(s=n?n<<1:1)))){t=0,c=0,s&&(h[6657]=h[6657]+1,c=0|r[h[5255]](s<<2,16),n=h[e+104>>2]),o=h[e+112>>2];e:{t:{if((0|n)>=1)for(;;)if(h[(p=t<<2)+c>>2]=h[o+p>>2],(0|n)==(0|(t=t+1|0)))break t;if(!o)break e}m[e+116|0]&&(o&&(h[6658]=h[6658]+1,r[h[5256]](o)),n=h[e+104>>2]),h[e+112>>2]=0}h[e+112>>2]=c,h[e+108>>2]=s,a[e+116|0]=1}if(h[h[e+112>>2]+(n<<2)>>2]=0,h[e+104>>2]=n+1,(0|(n=h[e+144>>2]))==h[e+148>>2]&&!((0|n)>=(0|(s=n?n<<1:1)))){t=0,c=0,s&&(h[6657]=h[6657]+1,c=0|r[h[5255]](s<<2,16),n=h[e+144>>2]),o=h[e+152>>2];e:{t:{if((0|n)>=1)for(;;)if(h[(p=t<<2)+c>>2]=h[o+p>>2],(0|n)==(0|(t=t+1|0)))break t;if(!o)break e}m[e+156|0]&&(o&&(h[6658]=h[6658]+1,r[h[5256]](o)),n=h[e+144>>2]),h[e+152>>2]=0}h[e+152>>2]=c,h[e+148>>2]=s,a[e+156|0]=1}if(h[h[e+152>>2]+(n<<2)>>2]=0,h[e+144>>2]=n+1,(0|(n=h[e+164>>2]))==h[e+168>>2]&&!((0|n)>=(0|(s=n?n<<1:1)))){t=0,c=0,s&&(h[6657]=h[6657]+1,c=0|r[h[5255]](s<<2,16),n=h[e+164>>2]),o=h[e+172>>2];e:{t:{if((0|n)>=1)for(;;)if(h[(p=t<<2)+c>>2]=h[o+p>>2],(0|n)==(0|(t=t+1|0)))break t;if(!o)break e}m[e+176|0]&&o&&(h[6658]=h[6658]+1,r[h[5256]](o)),h[e+172>>2]=0,n=h[e+164>>2]}h[e+172>>2]=c,h[e+168>>2]=s,a[e+176|0]=1}h[h[e+172>>2]+(n<<2)>>2]=2,h[e+164>>2]=h[e+164>>2]+1,z=i+144|0}(h[i+12>>2],h[i+8>>2],h[i+4>>2]),z=i+16|0},ni:Dc,oi:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,wi(h[n+12>>2],h[n+8>>2]),z=n+16|0},pi:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,e=function(e){var t;return z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2]+16,z=t+16|0,h[h[e+12>>2]+4>>2]}(h[t+12>>2]),z=t+16|0,0|e},qi:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=function(e,t){var n;return z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2]+16,h[e+8>>2]=t,z=n+16|0,h[64+(h[h[e+12>>2]+12>>2]+y(h[e+8>>2],80)|0)>>2]}(h[n+12>>2],h[n+8>>2]),z=n+16|0,0|e},ri:function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,Ti(h[i+12>>2],h[i+8>>2],h[i+4>>2],1),z=i+16|0},si:function(e,t,n,i){var o;e|=0,t|=0,n|=0,i|=0,z=o=z-16|0,h[o+12>>2]=e,h[o+8>>2]=t,h[o+4>>2]=n,a[o+3|0]=i,Ti(h[o+12>>2],h[o+8>>2],h[o+4>>2],1&a[o+3|0]),z=o+16|0},ti:ar,ui:rr,vi:function(e,t,n,i){var o;e|=0,t|=0,n=x(n),i=x(i),z=o=z-16|0,h[o+12>>2]=e,h[o+8>>2]=t,g[o+4>>2]=n,g[o>>2]=i,Ja(h[o+12>>2],h[o+8>>2],g[o+4>>2],g[o>>2],x(0),x(0),2),z=o+16|0},wi:function(e,t,n,i,o){var r;e|=0,t|=0,n=x(n),i=x(i),o=x(o),z=r=z-32|0,h[r+28>>2]=e,h[r+24>>2]=t,g[r+20>>2]=n,g[r+16>>2]=i,g[r+12>>2]=o,Ja(h[r+28>>2],h[r+24>>2],g[r+20>>2],g[r+16>>2],g[r+12>>2],x(0),2),z=r+32|0},xi:function(e,t,n,i,o,r){var a;e|=0,t|=0,n=x(n),i=x(i),o=x(o),r=x(r),z=a=z-32|0,h[a+28>>2]=e,h[a+24>>2]=t,g[a+20>>2]=n,g[a+16>>2]=i,g[a+12>>2]=o,g[a+8>>2]=r,Ja(h[a+28>>2],h[a+24>>2],g[a+20>>2],g[a+16>>2],g[a+12>>2],g[a+8>>2],2),z=a+32|0},yi:function(e,t,n,i,o,r,a){var s;e|=0,t|=0,n=x(n),i=x(i),o=x(o),r=x(r),a|=0,z=s=z-32|0,h[s+28>>2]=e,h[s+24>>2]=t,g[s+20>>2]=n,g[s+16>>2]=i,g[s+12>>2]=o,g[s+8>>2]=r,h[s+4>>2]=a,Ja(h[s+28>>2],h[s+24>>2],g[s+20>>2],g[s+16>>2],g[s+12>>2],g[s+8>>2],h[s+4>>2]),z=s+32|0},zi:Mo,Ai:ko,Bi:jo,Ci:Uo,Di:Bo,Ei:Fo,Fi:zo,Gi:Lo,Hi:xo,Ii:function(){var e,t;return z=e=z-16|0,fc(t=bo(200),hc(),hc()),z=e+16|0,0|t},Ji:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,fc(e=bo(200),h[t+12>>2],hc()),z=t+16|0,0|e},Ki:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,fc(e=bo(200),h[n+12>>2],h[n+8>>2]),z=n+16|0,0|e},Li:oa,Mi:xn,Ni:xo,Oi:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t,n){var i;z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,h[i+20>>2]=n,Zt(e=h[i+28>>2]),h[e>>2]=1772,na(e+28|0),t=h[i+24>>2],n=h[t+4>>2],h[e+48>>2]=h[t>>2],h[e+52>>2]=n,n=h[t+12>>2],h[e+56>>2]=h[t+8>>2],h[e+60>>2]=n,t=h[i+20>>2],n=h[t+4>>2],h[e+64>>2]=h[t>>2],h[e+68>>2]=n,n=h[t+12>>2],h[e+72>>2]=h[t+8>>2],h[e+76>>2]=n,na(e+80|0),na(e+100|0),na(e+120|0),na(e+140|0),z=i+32|0}(e=Xo(160),h[n+12>>2],h[n+8>>2]),z=n+16|0,0|e},Pi:Nc,Qi:Rc,Ri:rn,Si:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Qt(h[n+12>>2]+28|0,h[n+8>>2]),z=n+16|0},Ti:on,Ui:Zo,Vi:sn,Wi:an,Xi:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+80|0},Yi:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Xt(h[n+12>>2]+80|0,h[n+8>>2]),z=n+16|0},Zi:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+100|0},_i:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Xt(h[n+12>>2]+100|0,h[n+8>>2]),z=n+16|0},$i:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+120|0},aj:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,ae(h[n+12>>2],h[n+8>>2]),z=n+16|0}(h[n+12>>2]+120|0,h[n+8>>2]),z=n+16|0},bj:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+140|0},cj:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Qt(h[n+12>>2]+140|0,h[n+8>>2]),z=n+16|0},dj:Ic,ej:Pc,fj:Tc,gj:wc,hj:Ec,ij:Sc,jj:as,kj:rs,lj:es,mj:os,nj:xo,oj:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t,n){var i;z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,h[i+20>>2]=n,Zt(e=h[i+28>>2]),h[e>>2]=1928,t=h[i+24>>2],n=h[t+4>>2],h[e+28>>2]=h[t>>2],h[e+32>>2]=n,n=h[t+12>>2],h[e+36>>2]=h[t+8>>2],h[e+40>>2]=n,t=h[i+20>>2],n=h[t+4>>2],h[e+44>>2]=h[t>>2],h[e+48>>2]=n,n=h[t+12>>2],h[e+52>>2]=h[t+8>>2],h[e+56>>2]=n,h[12+(z-16|0)>>2]=e+60,h[12+(z-16|0)>>2]=e+76,z=i+32|0}(e=Xo(92),h[n+12>>2],h[n+8>>2]),z=n+16|0,0|e},pj:Nc,qj:Rc,rj:rn,sj:function(e,t){e|=0,t|=0;var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+28>>2]=h[e>>2],h[t+32>>2]=n,n=h[e+12>>2],h[t+36>>2]=h[e+8>>2],h[t+40>>2]=n},tj:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+44|0},uj:function(e,t){e|=0,t|=0;var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+44>>2]=h[e>>2],h[t+48>>2]=n,n=h[e+12>>2],h[t+52>>2]=h[e+8>>2],h[t+56>>2]=n},vj:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+60|0},wj:function(e,t){e|=0,t|=0;var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+60>>2]=h[e>>2],h[t+64>>2]=n,n=h[e+12>>2],h[t+68>>2]=h[e+8>>2],h[t+72>>2]=n},xj:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[t+12>>2]+76|0},yj:function(e,t){e|=0,t|=0;var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,t=h[n+12>>2],e=h[n+8>>2],n=h[e+4>>2],h[t+76>>2]=h[e>>2],h[t+80>>2]=n,n=h[e+12>>2],h[t+84>>2]=h[e+8>>2],h[t+88>>2]=n},zj:Ic,Aj:Pc,Bj:Tc,Cj:wc,Dj:Ec,Ej:Sc,Fj:as,Gj:rs,Hj:es,Ij:os,Jj:xo,Kj:function(e,t,n){var i;return e|=0,t|=0,n=x(n),z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,g[i+20>>2]=n,e=bo(184),r[3](e,h[i+28>>2],h[i+24>>2],g[i+20>>2],1),z=i+32|0,0|e},Lj:function(e,t,n,i){var o;return e|=0,t|=0,n=x(n),i|=0,z=o=z-32|0,h[o+28>>2]=e,h[o+24>>2]=t,g[o+20>>2]=n,h[o+16>>2]=i,e=bo(184),r[3](e,h[o+28>>2],h[o+24>>2],g[o+20>>2],h[o+16>>2]),z=o+32|0,0|e},Mj:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[n+8>>2]<0&&(h[n+8>>2]=0),h[n+8>>2]>2&&(h[n+8>>2]=2),h[e+176>>2]=h[n+8>>2]}(h[n+12>>2],h[n+8>>2]),z=n+16|0},Nj:Yt,Oj:qt,Pj:Wt,Qj:Vt,Rj:Ht,Sj:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+24>>2]=g[e+8>>2],z=n+16|0},Tj:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+28>>2]=g[e+8>>2],z=n+16|0},Uj:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+32>>2]=g[e+8>>2],z=n+16|0},Vj:Gt,Wj:kt,Xj:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+44>>2]=g[e+8>>2],z=n+16|0},Yj:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,x(g[h[e+12>>2]+44>>2])},Zj:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,Un(h[n+12>>2],g[n+8>>2]),z=n+16|0},_j:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,x(g[h[e+12>>2]+36>>2])},$j:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+8>>2]},ak:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,t=1&a[n+11|0],h[12+(e=z-16|0)>>2]=h[n+12>>2],a[e+11|0]=t,a[h[e+12>>2]+170|0]=1&a[e+11|0],z=n+16|0},bk:oc,ck:jt,dk:Cc,ek:xo,fk:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Me(e=bo(768),h[n+12>>2],h[n+8>>2],0),z=n+16|0,0|e},gk:function(e,t,n){var i;return e|=0,t|=0,n|=0,z=i=z-32|0,h[i+28>>2]=e,h[i+24>>2]=t,a[i+23|0]=n,Me(e=bo(768),h[i+28>>2],h[i+24>>2],1&a[i+23|0]),z=i+32|0,0|e},hk:function(e,t,n,i){var o;return e|=0,t|=0,n|=0,i|=0,z=o=z-32|0,h[o+28>>2]=e,h[o+24>>2]=t,h[o+20>>2]=n,h[o+16>>2]=i,Oe(e=bo(768),h[o+28>>2],h[o+24>>2],h[o+20>>2],h[o+16>>2],0),z=o+32|0,0|e},ik:function(e,t,n,i,o){var r;return e|=0,t|=0,n|=0,i|=0,o|=0,z=r=z-32|0,h[r+28>>2]=e,h[r+24>>2]=t,h[r+20>>2]=n,h[r+16>>2]=i,a[r+15|0]=o,Oe(e=bo(768),h[r+28>>2],h[r+24>>2],h[r+20>>2],h[r+16>>2],1&a[r+15|0]),z=r+32|0,0|e},jk:function(e,t,n,i,o,r){var a;return e|=0,t|=0,n|=0,i|=0,o|=0,r|=0,z=a=z-32|0,h[a+28>>2]=e,h[a+24>>2]=t,h[a+20>>2]=n,h[a+16>>2]=i,h[a+12>>2]=o,h[a+8>>2]=r,Le(e=bo(768),h[a+28>>2],h[a+24>>2],h[a+20>>2],h[a+16>>2],h[a+12>>2],h[a+8>>2],0),z=a+32|0,0|e},kk:function(e,t,n,i,o,r,s){var c;return e|=0,t|=0,n|=0,i|=0,o|=0,r|=0,s|=0,z=c=z-48|0,h[c+44>>2]=e,h[c+40>>2]=t,h[c+36>>2]=n,h[c+32>>2]=i,h[c+28>>2]=o,h[c+24>>2]=r,a[c+23|0]=s,Le(e=bo(768),h[c+44>>2],h[c+40>>2],h[c+36>>2],h[c+32>>2],h[c+28>>2],h[c+24>>2],1&a[c+23|0]),z=c+48|0,0|e},lk:function(e,t,n,i,o){var r;e|=0,t=x(t),n=x(n),i=x(i),o=x(o),z=r=z-32|0,h[r+28>>2]=e,g[r+24>>2]=t,g[r+20>>2]=n,g[r+16>>2]=i,g[r+12>>2]=o,Bt(h[r+28>>2],g[r+24>>2],g[r+20>>2],g[r+16>>2],g[r+12>>2],x(1)),z=r+32|0},mk:function(e,t,n,i,o,r){var a;e|=0,t=x(t),n=x(n),i=x(i),o=x(o),r=x(r),z=a=z-32|0,h[a+28>>2]=e,g[a+24>>2]=t,g[a+20>>2]=n,g[a+16>>2]=i,g[a+12>>2]=o,g[a+8>>2]=r,Bt(h[a+28>>2],g[a+24>>2],g[a+20>>2],g[a+16>>2],g[a+12>>2],g[a+8>>2]),z=a+32|0},nk:function(e,t,n,i){var o;e|=0,t|=0,n=x(n),i=x(i),z=o=z-16|0,h[o+12>>2]=e,a[o+11|0]=t,g[o+4>>2]=n,g[o>>2]=i,function(e,t,n,i){var o;h[12+(o=z-16|0)>>2]=e,a[o+11|0]=t,g[o+4>>2]=n,g[o>>2]=i,e=h[o+12>>2],a[e+737|0]=1&a[o+11|0],g[e+680>>2]=g[o+4>>2],g[e+684>>2]=g[o>>2]}(h[o+12>>2],1&a[o+11|0],g[o+4>>2],g[o>>2]),z=o+16|0},ok:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,t=1&a[n+11|0],h[12+(e=z-16|0)>>2]=h[n+12>>2],a[e+11|0]=t,a[h[e+12>>2]+736|0]=1&a[e+11|0],z=n+16|0},pk:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,t=1&a[n+11|0],h[12+(e=z-16|0)>>2]=h[n+12>>2],a[e+11|0]=t,a[h[e+12>>2]+737|0]=1&a[e+11|0],z=n+16|0},qk:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+684>>2]=g[e+8>>2],z=n+16|0},rk:function(e,t,n){var i;e|=0,t=x(t),n=x(n),z=i=z-16|0,h[i+12>>2]=e,g[i+8>>2]=t,g[i+4>>2]=n,function(e,t,n){var i=0;z=i=z-16|0,g[i+12>>2]=t,function(e,t){var n=x(0),i=x(0),o=x(0);if((i=g[e+4>>2])>x(0)&&(o=g[e>>2],(n=Io(x(g[t>>2]-o),x(6.2831854820251465)))<x(-3.1415927410125732)?n=x(n+x(6.2831854820251465)):n>x(3.1415927410125732)&&(n=x(n+x(-6.2831854820251465))),!(n<=i)||n<x(-i))){if(n>x(0))return(n=Io(x(i+o),x(6.2831854820251465)))<x(-3.1415927410125732)?void(g[t>>2]=n+x(6.2831854820251465)):void(g[t>>2]=n>x(3.1415927410125732)^1?n:x(n+x(-6.2831854820251465)));(n=Io(x(o-i),x(6.2831854820251465)))<x(-3.1415927410125732)?n=x(n+x(6.2831854820251465)):n>x(3.1415927410125732)&&(n=x(n+x(-6.2831854820251465))),g[t>>2]=n}}(e+688|0,i+12|0),g[e+680>>2]=x(g[i+12>>2]-qs(e,h[e+28>>2]+4|0,h[e+32>>2]+4|0))/n,z=i+16|0}(h[i+12>>2],g[i+8>>2],g[i+4>>2]),z=i+16|0},sk:function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,function(e,t,n){var i=0;i=h[t+4>>2],h[e+552>>2]=h[t>>2],h[e+556>>2]=i,i=h[t+12>>2],h[e+560>>2]=h[t+8>>2],h[e+564>>2]=i,i=h[t+28>>2],h[e+576>>2]=h[t+24>>2],h[e+580>>2]=i,i=h[t+20>>2],h[e+568>>2]=h[t+16>>2],h[e+572>>2]=i,i=h[t+44>>2],h[e+592>>2]=h[t+40>>2],h[e+596>>2]=i,i=h[t+36>>2],h[e+584>>2]=h[t+32>>2],h[e+588>>2]=i,i=h[t+60>>2],h[e+608>>2]=h[t+56>>2],h[e+612>>2]=i,i=h[t+52>>2],h[e+600>>2]=h[t+48>>2],h[e+604>>2]=i,t=h[n+12>>2],h[e+624>>2]=h[n+8>>2],h[e+628>>2]=t,t=h[n+4>>2],h[e+616>>2]=h[n>>2],h[e+620>>2]=t,t=h[n+20>>2],h[e+632>>2]=h[n+16>>2],h[e+636>>2]=t,t=h[n+28>>2],h[e+640>>2]=h[n+24>>2],h[e+644>>2]=t,t=h[n+36>>2],h[e+648>>2]=h[n+32>>2],h[e+652>>2]=t,t=h[n+44>>2],h[e+656>>2]=h[n+40>>2],h[e+660>>2]=t,t=h[n+60>>2],h[e+672>>2]=h[n+56>>2],h[e+676>>2]=t,t=h[n+52>>2],h[e+664>>2]=h[n+48>>2],h[e+668>>2]=t,r[h[h[e>>2]+8>>2]](e)}(h[i+12>>2],h[i+8>>2],h[i+4>>2]),z=i+16|0},tk:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,re(h[n+12>>2],h[n+8>>2]),z=n+16|0},uk:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,t=1&a[n+11|0],h[12+(e=z-16|0)>>2]=h[n+12>>2],a[e+11|0]=t,a[h[e+12>>2]+740|0]=1&a[e+11|0],z=n+16|0},vk:Pr,wk:Tr,xk:wr,yk:Er,zk:Sr,Ak:xo,Bk:function(e,t,n,i){var o,r;return e=x(e),t=x(t),n=x(n),i=x(i),z=o=z-32|0,g[o+28>>2]=e,g[o+24>>2]=t,g[o+20>>2]=n,g[o+16>>2]=i,fa(r=Xo(16),o+28|0,o+24|0,o+20|0,o+16|0),z=o+32|0,0|r},Ck:function(e,t,n,i,o){var r;e|=0,t=x(t),n=x(n),i=x(i),o=x(o),z=r=z-32|0,h[r+28>>2]=e,g[r+24>>2]=t,g[r+20>>2]=n,g[r+16>>2]=i,g[r+12>>2]=o,dc(h[r+28>>2],r+24|0,r+20|0,r+16|0,r+12|0),z=r+32|0},Dk:bc,Ek:xc,Fk:yc,Gk:hn,Hk:Ac,Ik:gc,Jk:vc,Kk:fn,Lk:er,Mk:function(){var e,t;return z=t=z-16|0,di(e=bo(164)),h[e+96>>2]=0,h[e>>2]=11468,h[e+4>>2]=2,z=t+16|0,0|e},Nk:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0,i=0;n=h[e+96>>2],h[e+96>>2]=n+1,i=h[t+12>>2],h[108+(n=(n<<4)+e|0)>>2]=h[t+8>>2],h[n+112>>2]=i,i=h[t+4>>2],h[n+100>>2]=h[t>>2],h[n+104>>2]=i,bs(e)}(h[n+12>>2],h[n+8>>2]),z=n+16|0},Ok:Mo,Pk:ko,Qk:jo,Rk:Uo,Sk:Bo,Tk:Fo,Uk:zo,Vk:Lo,Wk:xo,Xk:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,0!=h[h[t+12>>2]+52>>2]|0},Yk:function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,a[n+11|0]=t,h[h[n+12>>2]+52>>2]=1&a[n+11|0]},Zk:function(e){e|=0;var t,n=x(0);return h[12+(t=z-16|0)>>2]=e,n=g[h[t+12>>2]+56>>2],0|(x(b(n))<x(2147483648)?~~n:-2147483648)},_k:function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,g[h[n+12>>2]+56>>2]=h[n+8>>2]},$k:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,h[h[t+12>>2]+20>>2]},al:function(e,t){var n;e|=0,t|=0,h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,h[h[n+12>>2]+20>>2]=h[n+8>>2]},bl:er,cl:function(e,t,n){var i,o;return e|=0,t|=0,n=x(n),z=i=z+-64|0,h[i+60>>2]=e,h[i+56>>2]=t,g[i+52>>2]=n,e=bo(292),t=h[i+60>>2],o=h[i+56>>2],n=g[i+52>>2],g[i+28>>2]=1,g[i+24>>2]=0,g[i+20>>2]=0,To(i+32|0,i+28|0,i+24|0,i+20|0),Pe(e,t,o,n,i+32|0),z=i- -64|0,0|e},dl:function(e,t,n,i){var o;return e|=0,t|=0,n=x(n),i|=0,z=o=z-32|0,h[o+28>>2]=e,h[o+24>>2]=t,g[o+20>>2]=n,h[o+16>>2]=i,Pe(e=bo(292),h[o+28>>2],h[o+24>>2],g[o+20>>2],h[o+16>>2]),z=o+32|0,0|e},el:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Te(h[n+12>>2],h[n+8>>2]),z=n+16|0},fl:Yt,gl:qt,hl:Mo,il:Wt,jl:Vt,kl:Ht,ll:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+28>>2]=g[n+8>>2],z=n+16|0},ml:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,e=h[n+12>>2],t=g[n+8>>2],g[e+36>>2]=t,g[e+32>>2]=t,z=n+16|0},nl:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+40>>2]=g[n+8>>2],z=n+16|0},ol:Gt,pl:kt,ql:Lt,rl:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=x(0),i=0,o=x(0),r=x(0),a=x(0),s=0;z=i=z-16|0,s=e,o=g[t>>2],r=g[t+4>>2],a=g[t+8>>2],(n=x(x(x(o*o)+x(r*r))+x(a*a)))>x(0)&&(h[i+12>>2]=0,g[i+8>>2]=-a,g[i+4>>2]=-r,g[i>>2]=-o,Vs(e,i),n=g[t>>2],o=x(n*n),n=g[t+4>>2],o=x(o+x(n*n)),n=g[t+8>>2],n=x(o+x(n*n))),g[s+52>>2]=T(n),z=i+16|0}(h[n+12>>2],h[n+8>>2]),z=n+16|0},sl:function(e){var t;return e|=0,z=t=z-32|0,h[t+28>>2]=e,!(0==m[21528])|1&a[21528]||(h[12+(z-16|0)>>2]=21512,h[5382]=0,h[5382]=1|h[5382]),function(e,t){var n=x(0),i=x(0),o=x(0),r=x(0),a=x(0);i=g[t+260>>2],n=g[t+264>>2],o=g[t+256>>2],r=g[t+52>>2],h[e+12>>2]=0,a=n,n=x(-r),g[e+8>>2]=a*n,g[e+4>>2]=i*n,g[e>>2]=o*n}(t,h[t+28>>2]),e=h[t+4>>2],h[5378]=h[t>>2],h[5379]=e,e=h[t+12>>2],h[5380]=h[t+8>>2],h[5381]=e,z=t+32|0,21512},tl:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,e=h[n+12>>2],t=g[n+8>>2],g[e+44>>2]=t,g[e+48>>2]=Ro(t),z=n+16|0},ul:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,z=t+16|0,x(g[h[t+12>>2]+44>>2])},vl:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,z=t+16|0,h[h[t+12>>2]+8>>2]},wl:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,a[n+11|0]=t,t=1&a[n+11|0],h[12+(e=z-16|0)>>2]=h[n+12>>2],a[e+11|0]=t,a[h[e+12>>2]+250|0]=1&a[e+11|0],z=n+16|0},xl:oc,yl:jt,zl:Cc,Al:xo,Bl:function(e,t){var n;return e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,function(e,t,n){var i=x(0),o=x(0),r=x(0);h[e>>2]=14552,h[e+4>>2]=35,h[e+8>>2]=0,h[e+12>>2]=-1,h[e+16>>2]=0,h[e>>2]=13132,i=g[t+8>>2],o=g[t>>2],r=g[t+4>>2],t=h[t+12>>2],h[e+80>>2]=1065353216,h[e+84>>2]=0,h[e+72>>2]=1065353216,h[e+76>>2]=1065353216,g[e+68>>2]=n,h[e- -64>>2]=t,h[e+4>>2]=28,n=x(x(1)/x(T(x(x(x(o*o)+x(r*r))+x(i*i))))),g[e+60>>2]=i*n,g[e+56>>2]=r*n,g[e+52>>2]=o*n}(e=bo(88),h[n+12>>2],g[n+8>>2]),z=n+16|0,0|e},Cl:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+52|0},Dl:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],g[e+8>>2]=t,g[h[e+12>>2]+68>>2]=g[e+8>>2],z=n+16|0},El:Mo,Fl:ko,Gl:jo,Hl:Uo,Il:Bo,Jl:Fo,Kl:zo,Ll:Lo,Ml:xo,Nl:tn,Ol:Lt,Pl:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,e=h[t+12>>2],e=0|r[h[h[e>>2]+36>>2]](e),z=t+16|0,x(x(0|e))},Ql:xo,Rl:function(){var e,t;return z=e=z-16|0,t=bo(16),h[12+(z-16|0)>>2]=t,z=e+16|0,0|t},Sl:function(e,t,n){var i,o;return e=x(e),t=x(t),n=x(n),z=i=z-32|0,g[i+28>>2]=e,g[i+24>>2]=t,g[i+20>>2]=n,To(o=bo(16),i+28|0,i+24|0,i+20|0),z=i+32|0,0|o},Tl:bc,Ul:xc,Vl:yc,Wl:Ac,Xl:gc,Yl:vc,Zl:function(e,t,n,i){var o;e|=0,t=x(t),n=x(n),i=x(i),z=o=z-16|0,h[o+12>>2]=e,g[o+8>>2]=t,g[o+4>>2]=n,g[o>>2]=i,To(h[o+12>>2],o+8|0,o+4|0,o),z=o+16|0},_l:ts,$l:function(e){var t,n;return e=x(e),z=t=z-16|0,g[t+12>>2]=e,ne(n=bo(56),g[t+12>>2]),z=t+16|0,0|n},am:ar,bm:rr,cm:function(e,t){var n;e|=0,t=x(t),z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,function(e,t){var n,i;z=n=z-16|0,h[n+12>>2]=e,g[n+8>>2]=t,t=g[n+8>>2],e=z-16|0,i=h[n+12>>2],h[e+12>>2]=i+32,g[e+8>>2]=t,g[h[e+12>>2]>>2]=g[e+8>>2],t=g[n+8>>2],h[12+(e=z-16|0)>>2]=i,g[e+8>>2]=t,g[h[e+12>>2]+48>>2]=g[e+8>>2],z=n+16|0}(h[n+12>>2],g[n+8>>2]),z=n+16|0},dm:Mo,em:ko,fm:jo,gm:Uo,hm:Bo,im:Fo,jm:zo,km:Lo,lm:Jr,mm:xo,nm:function(){var e,t;return z=e=z-16|0,$t(t=Xo(24)),z=e+16|0,0|t},om:er,pm:function(){var e,t;return z=t=z-16|0,e=bo(36),h[e>>2]=14552,h[e+4>>2]=35,h[e+8>>2]=0,h[e+12>>2]=-1,h[e+16>>2]=0,h[e+4>>2]=27,h[e>>2]=13636,z=t+16|0,0|e},qm:Mo,rm:ko,sm:jo,tm:Uo,um:Bo,vm:Fo,wm:zo,xm:Lo,ym:xo,zm:function(){var e,t,n=0;return z=e=z-16|0,t=Xo(12),h[12+(n=z-16|0)>>2]=t,n=h[n+12>>2],g[n>>2]=.30000001192092896,g[n+4>>2]=1,g[n+8>>2]=0,z=e+16|0,0|t},Am:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]>>2])},Bm:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]>>2]=g[n+8>>2]},Cm:as,Dm:rs,Em:function(e){var t;return e|=0,h[12+(t=z-16|0)>>2]=e,x(g[h[t+12>>2]+8>>2])},Fm:function(e,t){var n;e|=0,t=x(t),h[12+(n=z-16|0)>>2]=e,g[n+8>>2]=t,g[h[n+12>>2]+8>>2]=g[n+8>>2]},Gm:er,Hm:pn,Im:ln,Jm:en,Km:un,Lm:er,Mm:da,Nm:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,z=n+16|0,h[h[e+12>>2]+12>>2]+(h[e+8>>2]<<4)|0},Om:Cr,Pm:ma,Qm:xo,Rm:function(e,t,n,i){var o;return e|=0,t|=0,n|=0,i|=0,z=o=z-32|0,h[o+28>>2]=e,h[o+24>>2]=t,h[o+20>>2]=n,h[o+16>>2]=i,G(e=bo(1460),h[o+28>>2],h[o+24>>2],h[o+20>>2],h[o+16>>2]),z=o+32|0,0|e},Sm:Pr,Tm:Tr,Um:wr,Vm:Er,Wm:Sr,Xm:xo,Ym:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,function(e,t){var n=0,i=0,o=0;for(h[e+4>>2]=2,h[e>>2]=4712,h[e+10444>>2]=t,h[e+64>>2]=231,a[e+24|0]=1,h[e+20>>2]=0,h[e+60>>2]=0,h[e+28>>2]=7820,h[e+12>>2]=0,h[e+16>>2]=0,h[e+68>>2]=r[h[h[t>>2]+12>>2]](t),h[e+72>>2]=r[h[h[t>>2]+8>>2]](t);;){for(t=0;i=(y(n,144)+e|0)+(t<<2)|0,o=h[e+10444>>2],h[i+76>>2]=r[h[h[o>>2]+16>>2]](o,n,t),o=i+5260|0,i=h[e+10444>>2],h[o>>2]=r[h[h[i>>2]+20>>2]](i,n,t),36!=(0|(t=t+1|0)););if(36==(0|(n=n+1|0)))break}}(e=Xo(10448),h[t+12>>2]),z=t+16|0,0|e},Zm:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,h[h[e+12>>2]+4>>2]=h[e+8>>2],z=n+16|0},_m:ss,$m:vn,an:xo,bn:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,function(e,t){la(e),a[e+560|0]=1,h[e>>2]=2012,h[e+556>>2]=0,h[e+548>>2]=0,h[e+552>>2]=0,pt(e,t)}(e=bo(676),h[t+12>>2]),z=t+16|0,0|e},cn:xa,dn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,rc(h[n+12>>2],h[n+8>>2]),z=n+16|0},en:function(e,t,n){var i;e|=0,t=x(t),n=x(n),z=i=z-16|0,h[i+12>>2]=e,g[i+8>>2]=t,g[i+4>>2]=n,function(e,t,n){var i;h[12+(i=z-16|0)>>2]=e,g[i+8>>2]=t,g[i+4>>2]=n,e=h[i+12>>2],g[e+532>>2]=g[i+8>>2],g[e+536>>2]=g[i+4>>2]}(h[i+12>>2],g[i+8>>2],g[i+4>>2]),z=i+16|0},fn:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,x(g[h[e+12>>2]+532>>2])},gn:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,x(g[h[e+12>>2]+504>>2])},hn:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,x(g[h[e+12>>2]+508>>2])},jn:function(e,t,n){var i;e|=0,t=x(t),n=x(n),z=i=z-16|0,h[i+12>>2]=e,g[i+8>>2]=t,g[i+4>>2]=n,function(e,t,n){var i;g[8+(i=z-16|0)>>2]=n,g[i+12>>2]=t,h[i+4>>2]=0,h[i>>2]=1065353216,h[e+504>>2]=h[(t<x(0)?i+4|0:t>x(1)?i:i+12|0)>>2],h[i+4>>2]=0,h[i>>2]=1065353216,h[e+508>>2]=h[(n<x(0)?i+4|0:n>x(1)?i:i+8|0)>>2]}(h[i+12>>2],g[i+8>>2],g[i+4>>2]),z=i+16|0},kn:function(e,t,n){var i;e|=0,t=x(t),n|=0,z=i=z-16|0,h[i+12>>2]=e,g[i+8>>2]=t,h[i+4>>2]=n,ac(h[i+12>>2],g[i+8>>2],h[i+4>>2]),z=i+16|0},ln:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+408|0},mn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n,i=0;z=n=z-32|0,h[n+28>>2]=e,h[n+24>>2]=t,e=h[n+24>>2],i=h[e+4>>2],t=h[n+28>>2],h[t+408>>2]=h[e>>2],h[t+412>>2]=i,i=h[e+12>>2],h[t+416>>2]=h[e+8>>2],h[t+420>>2]=i,Ho(e=n+8|0,t+408|0,t+404|0),i=h[e+4>>2],h[t+620>>2]=h[e>>2],h[t+624>>2]=i,i=h[e+12>>2],h[t+628>>2]=h[e+8>>2],h[t+632>>2]=i,z=n+32|0}(h[n+12>>2],h[n+8>>2]),z=n+16|0},nn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Ot(h[n+12>>2],h[n+8>>2]),z=n+16|0},on:function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,function(e,t,n){var i;z=i=z-48|0,h[i+44>>2]=e,h[i+40>>2]=t,h[i+36>>2]=n,Mt(e=h[i+44>>2],h[i+40>>2]),t=h[i+36>>2],zr(i,h[i+40>>2],e+408|0),Xa(n=i+16|0,t,i),Ot(e,n),z=i+48|0}(h[i+12>>2],h[i+8>>2],h[i+4>>2]),z=i+16|0},pn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Mt(h[n+12>>2],h[n+8>>2]),z=n+16|0},qn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Dt(h[n+12>>2],h[n+8>>2]),z=n+16|0},rn:function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,lc(h[i+12>>2],h[i+8>>2],h[i+4>>2]),z=i+16|0},sn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Nt(h[n+12>>2],h[n+8>>2]),z=n+16|0},tn:function(e){var t;e|=0,z=t=z-16|0,h[t+12>>2]=e,sc(h[t+12>>2]),z=t+16|0},un:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+372|0},vn:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+388|0},wn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[e+304>>2]=h[e+304>>2]+1,t=h[n+8>>2],n=h[t+4>>2],h[e+372>>2]=h[t>>2],h[e+376>>2]=n,n=h[t+12>>2],h[e+380>>2]=h[t+8>>2],h[e+384>>2]=n}(h[n+12>>2],h[n+8>>2]),z=n+16|0},xn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[e+304>>2]=h[e+304>>2]+1,t=h[n+8>>2],n=h[t+4>>2],h[e+388>>2]=h[t>>2],h[e+392>>2]=n,n=h[t+12>>2],h[e+396>>2]=h[t+8>>2],h[e+400>>2]=n}(h[n+12>>2],h[n+8>>2]),z=n+16|0},yn:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+540>>2]},zn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[e+540>>2]=h[n+8>>2],h[e+540>>2]&&(t=h[n+8>>2],r[h[h[t>>2]+8>>2]](t,e+4|0)),z=n+16|0}(h[n+12>>2],h[n+8>>2]),z=n+16|0},An:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+604|0},Bn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n=0;h[12+(n=z-16|0)>>2]=e,h[n+8>>2]=t,e=h[n+12>>2],h[e+304>>2]=h[e+304>>2]+1,t=h[n+8>>2],n=h[t+4>>2],h[e+604>>2]=h[t>>2],h[e+608>>2]=n,n=h[t+12>>2],h[e+612>>2]=h[t+8>>2],h[e+616>>2]=n}(h[n+12>>2],h[n+8>>2]),z=n+16|0},Cn:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=function(e){var t;return z=t=z-16|0,h[t+8>>2]=e,h[12+(e=z-16|0)>>2]=h[t+8>>2],2&h[h[e+12>>2]+252>>2]?h[t+12>>2]=h[t+8>>2]:h[t+12>>2]=0,z=t+16|0,h[t+12>>2]}(h[n+8>>2]),z=n+16|0,0|e},Dn:function(e,t,n){var i;e|=0,t|=0,n|=0,z=i=z-16|0,h[i+12>>2]=e,h[i+8>>2]=t,h[i+4>>2]=n,e=h[i+12>>2],t=h[e+192>>2],r[h[h[t>>2]+8>>2]](t,e+4|0,h[i+8>>2],h[i+4>>2]),z=i+16|0},En:function(e){var t;e|=0,z=t=z-16|0,h[t+12>>2]=e,ct(h[t+12>>2]),z=t+16|0},Fn:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+440|0},Gn:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Ha(h[n+12>>2],h[n+8>>2]),z=n+16|0},Hn:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[h[e+12>>2]+564>>2]},In:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,h[h[e+12>>2]+564>>2]=h[e+8>>2],z=n+16|0},Jn:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,e=1&function(e){var t,n=0;return z=t=z-16|0,h[t+8>>2]=e,n=z-16|0,e=h[t+8>>2],h[n+12>>2]=e,4!=h[h[n+12>>2]+220>>2]?g[5248]==x(0)||1&a[22420]?a[t+15|0]=0:(h[12+(n=z-16|0)>>2]=e,2!=h[h[n+12>>2]+220>>2]&&(h[12+(n=z-16|0)>>2]=e,3!=h[h[n+12>>2]+220>>2])?g[e+224>>2]>g[5248]?a[t+15|0]=1:a[t+15|0]=0:a[t+15|0]=1):a[t+15|0]=0,z=t+16|0,1&a[t+15|0]}(h[t+12>>2]),z=t+16|0,0|e},Kn:function(e){var t;e|=0,z=t=z-16|0,h[t+12>>2]=e,function(e){var t;z=t=z-32|0,h[t+28>>2]=e,e=h[t+28>>2],g[t+24>>2]=0,g[t+20>>2]=0,g[t+16>>2]=0,To(e+472|0,t+24|0,t+20|0,t+16|0),g[t+12>>2]=0,g[t+8>>2]=0,g[t+4>>2]=0,To(e+488|0,t+12|0,t+8|0,t+4|0),z=t+32|0}(h[t+12>>2]),z=t+16|0},Ln:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+472|0},Mn:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]+488|0},Nn:function(e){var t;e|=0,z=t=z-16|0,h[t+12>>2]=e,function(e){var t;z=t=z+-64|0,h[t+60>>2]=e,e=h[t+60>>2],g[t+56>>2]=0,g[t+52>>2]=0,g[t+48>>2]=0,To(e+372|0,t+56|0,t+52|0,t+48|0),g[t+44>>2]=0,g[t+40>>2]=0,g[t+36>>2]=0,To(e+388|0,t+44|0,t+40|0,t+36|0),g[t+32>>2]=0,g[t+28>>2]=0,g[t+24>>2]=0,To(e+472|0,t+32|0,t+28|0,t+24|0),g[t+20>>2]=0,g[t+16>>2]=0,g[t+12>>2]=0,To(e+488|0,t+20|0,t+16|0,t+12|0),z=t- -64|0}(h[t+12>>2]),z=t+16|0},On:Ua,Pn:Fa,Qn:za,Rn:La,Sn:Oa,Tn:Ma,Un:Na,Vn:Ia,Wn:wa,Xn:Ea,Yn:Sa,Zn:Us,_n:Fs,$n:zs,ao:Ls,bo:xa,co:ya,eo:Os,fo:Ms,go:oa,ho:Ds,io:Rs,jo:Is,ko:Ps,lo:Ts,mo:Es,no:xo,oo:da,po:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,t=h[n+8>>2],h[12+(e=z-16|0)>>2]=h[n+12>>2],h[e+8>>2]=t,z=n+16|0,h[h[e+12>>2]+12>>2]+(h[e+8>>2]<<5)|0},qo:ma,ro:function(){var e,t;return z=e=z-16|0,Qo(t=Xo(64)),z=e+16|0,0|t},so:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,$(e=Xo(64),h[n+12>>2],h[n+8>>2]),z=n+16|0,0|e},to:function(e){var t;e|=0,z=t=z-16|0,h[t+12>>2]=e,Ko(h[t+12>>2]),z=t+16|0},uo:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,Zo(h[n+12>>2],h[n+8>>2]),z=n+16|0},vo:function(e,t){var n;e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,function(e,t){var n;z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,It(h[n+12>>2],h[n+8>>2]),z=n+16|0}(h[n+12>>2],h[n+8>>2]),z=n+16|0},wo:Oc,xo:function(e){var t;return e|=0,z=t=z-32|0,h[t+28>>2]=e,!(0==m[21548])|1&a[21548]||($o(21532),h[5387]=0,h[5387]=1|h[5387]),function(e,t){var n;z=n=z-16|0,h[n+12>>2]=t,t=h[n+12>>2],$o(e),Oo(t,e),z=n+16|0}(t,h[t+28>>2]),e=h[t+4>>2],h[5383]=h[t>>2],h[5384]=e,e=h[t+12>>2],h[5385]=h[t+8>>2],h[5386]=e,z=t+32|0,21532},yo:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,h[12+(e=z-16|0)>>2]=h[t+12>>2],z=t+16|0,h[e+12>>2]},zo:function(e){var t;return e|=0,z=t=z-80|0,h[t+76>>2]=e,!(0==m[21616])|1&a[21616]||(Qo(21552),h[5404]=0,h[5404]=1|h[5404]),uc(t,h[t+76>>2]),ha(21552,t),z=t+80|0,21552},Ao:function(e,t){var n;return e|=0,t|=0,z=n=z-16|0,h[n+12>>2]=e,h[n+8>>2]=t,e=K(h[n+12>>2],h[n+8>>2]),z=n+16|0,0|e},Bo:er,Co:function(e){var t;return e|=0,z=t=z-16|0,h[t+12>>2]=e,function(e,t){var n=x(0),i=x(0),o=x(0),r=x(0);Jo(e),h[e+56>>2]=1,h[e>>2]=15456,n=g[t>>2],o=g[t+4>>2],i=g[t+8>>2],h[e+44>>2]=0,r=x(i*g[e+24>>2]),i=g[e+48>>2],g[e+40>>2]=r-i,g[e+36>>2]=x(o*g[e+20>>2])-i,g[e+32>>2]=x(n*g[e+16>>2])-i,n=g[t>>2],o=g[t+8>>2],r=g[t+4>>2],(n=x(g[((n<r?(n<o^1)<<1:r<o?1:2)<<2)+t>>2]*x(.10000000149011612)))<i&&ys(e,n),h[e+4>>2]=13}(e=bo(60),h[t+12>>2]),z=t+16|0,0|e},Do:ar,Eo:rr,Fo:function(e,t,n,i){var o;e|=0,t=x(t),n=x(n),i|=0,z=o=z-16|0,h[o+12>>2]=e,g[o+8>>2]=t,g[o+4>>2]=n,h[o>>2]=i,function(e,t,n,i){var o;z=o=z+-64|0,h[o+60>>2]=e,g[o+56>>2]=t,g[o+52>>2]=n,h[o+48>>2]=i,e=h[o+60>>2],h[e+56>>2]=h[o+48>>2],g[o+44>>2]=1,g[o+40>>2]=1,g[o+36>>2]=1,To(e+16|0,o+44|0,o+40|0,o+36|0),1!=h[e+56>>2]?h[e+56>>2]?To(e+32|0,i=o+56|0,i,o+52|0):To(e+32|0,o+52|0,i=o+56|0,i):To(e+32|0,i=o+56|0,o+52|0,i),g[o+12>>2]=r[h[h[e>>2]+48>>2]](e),g[o+8>>2]=r[h[h[e>>2]+48>>2]](e),g[o+4>>2]=r[h[h[e>>2]+48>>2]](e),To(i=o+16|0,o+12|0,o+8|0,o+4|0),qa(e+32|0,i),z=o- -64|0}(h[o+12>>2],g[o+8>>2],g[o+4>>2],h[o>>2]),z=o+16|0},Go:Mo,Ho:ko,Io:jo,Jo:Uo,Ko:Bo,Lo:Fo,Mo:zo,No:Lo,Oo:Jr,Po:xo,Qo:Pt,Ro:Tt,So:wt,To:Et,Uo:function(){return 0},Vo:Pt,Wo:Tt,Xo:wt,Yo:Et,Zo:function(){return 5},_o:Mc,$o:Eo,ap:function(){return 0|P()},bp:function(e,t){t|=0,r[e|=0](t)},cp:function(e){r[e|=0]()}}}({Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,Math:Math},e,t.buffer)}(X,g,A)}}o=null,n.wasmBinary&&(_=n.wasmBinary);var d=Error,v={};_=[],"object"!=typeof v&&h("no native wasm support detected");var g,A=new function(){var e=Array(758);return e.grow=function(){778<=e.length&&B("Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."),e.push(null)},e.set=function(t,n){e[t]=n},e.get=function(t){return e[t]},e}(0),y=!1;function x(e,t){e||B("Assertion failed: "+t)}var b="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var C,S,E,w=n.TOTAL_MEMORY||67108864;(g=n.wasmMemory?n.wasmMemory:new function(){return{buffer:new ArrayBuffer(w/65536*65536),grow:function(e){return Gm(e)}}})&&(C=g.buffer),w=C.byteLength;var T=C;function P(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var i=t.Ap;"number"==typeof i?void 0===t.rp?n.dynCall_v(i):n.dynCall_vi(i,t.rp):i(void 0===t.rp?null:t.rp)}}}C=T,n.HEAP8=new Int8Array(T),n.HEAP16=new Int16Array(T),n.HEAP32=E=new Int32Array(T),n.HEAPU8=S=new Uint8Array(T),n.HEAPU16=new Uint16Array(T),n.HEAPU32=new Uint32Array(T),n.HEAPF32=new Float32Array(T),n.HEAPF64=new Float64Array(T),E[6808]=5270272;var I=[],R=[],N=[],D=[],M=!1;function O(){var e=n.preRun.shift();I.unshift(e)}if(Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var n=65535&e,i=65535&t;return n*i+((e>>>16)*i+n*(t>>>16)<<16)|0}),!Math.fround){var L=new Float32Array(1);Math.fround=function(e){return L[0]=e,L[0]}}Math.clz32||(Math.clz32=function(e){var t=32,n=e>>16;return n&&(t-=16,e=n),(n=e>>8)&&(t-=8,e=n),(n=e>>4)&&(t-=4,e=n),(n=e>>2)&&(t-=2,e=n),e>>1?t-2:t-e}),Math.trunc||(Math.trunc=function(e){return 0>e?Math.ceil(e):Math.floor(e)});var z=0,F=null;function B(e){throw n.onAbort&&n.onAbort(e),f(e+=""),h(e),y=!0,new d("abort("+e+"). Build with -s ASSERTIONS=1 for more info.")}n.preloadedImages={},n.preloadedAudios={};var U="data:application/octet-stream;base64,";function j(e){return String.prototype.startsWith?e.startsWith(U):0===e.indexOf(U)}var k="";if(!j(k)){var G=k;k=n.locateFile?n.locateFile(G,u):u+G}function H(){try{if(_)return new Uint8Array(_);var e=Y(k);if(e)return e;if(p)return p(k);throw"both async and sync fetching of the wasm failed"}catch(e){B(e)}}R.push({Ap:function(){Z()}});var V=[null,[],[]];function W(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];255<i&&(i&=255),t.push(String.fromCharCode(i))}return t.join("")}var q="function"==typeof atob?atob:function(e){var t="",n=0;e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));i=i<<2|o>>4,o=(15&o)<<4|r>>2;var s=(3&r)<<6|a;t+=String.fromCharCode(i),64!==r&&(t+=String.fromCharCode(o)),64!==a&&(t+=String.fromCharCode(s))}while(n<e.length);return t};function Y(e){if(j(e)){if(e=e.slice(U.length),"boolean"==typeof s&&s){try{var t=Buffer.from(e,"base64")}catch(n){t=new Buffer(e,"base64")}var n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}else try{var i=q(e),o=new Uint8Array(i.length);for(t=0;t<i.length;++t)o[t]=i.charCodeAt(t);n=o}catch(e){throw Error("Converting base64 string to bytes failed.")}return n}}var X={f:function(){B()},c:function(e,t,n){S.set(S.subarray(t,t+n),e)},d:function(){B("OOM")},e:function(){return 0},b:function(){return 0},g:function(e,t,n,i){try{for(var o=0,r=0;r<n;r++){for(var a=E[t+8*r>>2],s=E[t+(8*r+4)>>2],c=0;c<s;c++){var l=S[a+c],p=V[e];if(0===l||10===l){for(var u=1===e?f:h,_=p,m=0,d=m+void 0,v=m;_[v]&&!(v>=d);)++v;if(16<v-m&&_.subarray&&b)var g=b.decode(_.subarray(m,v));else{for(d="";m<v;){var A=_[m++];if(128&A){var y=63&_[m++];if(192==(224&A))d+=String.fromCharCode((31&A)<<6|y);else{var x=63&_[m++];if(65536>(A=224==(240&A)?(15&A)<<12|y<<6|x:(7&A)<<18|y<<12|x<<6|63&_[m++]))d+=String.fromCharCode(A);else{var C=A-65536;d+=String.fromCharCode(55296|C>>10,56320|1023&C)}}}else d+=String.fromCharCode(A)}g=d}u(g),p.length=0}else p.push(l)}o+=s}return E[i>>2]=o,0}catch(e){return B(e),e.Tq}},a:function(e){var t=Date.now();return E[e>>2]=t/1e3|0,E[e+4>>2]=t%1e3*1e3|0,0},memory:g,table:A},Q=function(){function e(e){n.asm=e.exports,z--,n.monitorRunDependencies&&n.monitorRunDependencies(z),0==z&&F&&(e=F,F=null,e())}function t(t){e(t.instance)}function i(e){return(_||!r&&!a||"function"!=typeof fetch?new Promise((function(e){e(H())})):fetch(k,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+k+"'";return e.arrayBuffer()})).catch((function(){return H()}))).then((function(){return{then:function(e){e({instance:new m})}}})).then(e,(function(e){h("failed to asynchronously prepare wasm: "+e),B(e)}))}var o={env:X,wasi_unstable:X};if(z++,n.monitorRunDependencies&&n.monitorRunDependencies(z),n.instantiateWasm)try{return n.instantiateWasm(o,e)}catch(e){return h("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(_||"function"!=typeof v.instantiateStreaming||j(k)||"function"!=typeof fetch)return i(t);fetch(k,{credentials:"same-origin"}).then((function(e){return v.instantiateStreaming(e,o).then(t,(function(e){h("wasm streaming compile failed: "+e),h("falling back to ArrayBuffer instantiation"),i(t)}))}))}(),{}}();n.asm=Q;var Z=n.___wasm_call_ctors=function(){return n.asm.h.apply(null,arguments)},J=n._emscripten_bind_btCollisionShape_setLocalScaling_1=function(){return n.asm.i.apply(null,arguments)},K=n._emscripten_bind_btCollisionShape_getLocalScaling_0=function(){return n.asm.j.apply(null,arguments)},$=n._emscripten_bind_btCollisionShape_calculateLocalInertia_2=function(){return n.asm.k.apply(null,arguments)},ee=n._emscripten_bind_btCollisionShape_setMargin_1=function(){return n.asm.l.apply(null,arguments)},te=n._emscripten_bind_btCollisionShape_getMargin_0=function(){return n.asm.m.apply(null,arguments)},ne=n._emscripten_bind_btCollisionShape_isCompound_0=function(){return n.asm.n.apply(null,arguments)},ie=n._emscripten_bind_btCollisionShape_getUserIndex_0=function(){return n.asm.o.apply(null,arguments)},oe=n._emscripten_bind_btCollisionShape_setUserIndex_1=function(){return n.asm.p.apply(null,arguments)},re=n._emscripten_bind_btCollisionShape_getAabb_3=function(){return n.asm.q.apply(null,arguments)},ae=n._emscripten_bind_btCollisionShape_getLocalBoundingSphere_0=function(){return n.asm.r.apply(null,arguments)},se=n._emscripten_bind_btCollisionShape___destroy___0=function(){return n.asm.s.apply(null,arguments)},ce=n._emscripten_bind_btCollisionObject_btCollisionObject_0=function(){return n.asm.t.apply(null,arguments)},le=n._emscripten_bind_btCollisionObject_setAnisotropicFriction_2=function(){return n.asm.u.apply(null,arguments)},pe=n._emscripten_bind_btCollisionObject_getCollisionShape_0=function(){return n.asm.v.apply(null,arguments)},ue=n._emscripten_bind_btCollisionObject_getActivationState_0=function(){return n.asm.w.apply(null,arguments)},_e=n._emscripten_bind_btCollisionObject_setActivationState_1=function(){return n.asm.x.apply(null,arguments)},fe=n._emscripten_bind_btCollisionObject_forceActivationState_1=function(){return n.asm.y.apply(null,arguments)},he=n._emscripten_bind_btCollisionObject_activate_0=function(){return n.asm.z.apply(null,arguments)},me=n._emscripten_bind_btCollisionObject_activate_1=function(){return n.asm.A.apply(null,arguments)},de=n._emscripten_bind_btCollisionObject_isActive_0=function(){return n.asm.B.apply(null,arguments)},ve=n._emscripten_bind_btCollisionObject_isKinematicObject_0=function(){return n.asm.C.apply(null,arguments)},ge=n._emscripten_bind_btCollisionObject_isStaticObject_0=function(){return n.asm.D.apply(null,arguments)},Ae=n._emscripten_bind_btCollisionObject_isStaticOrKinematicObject_0=function(){return n.asm.E.apply(null,arguments)},ye=n._emscripten_bind_btCollisionObject_setRestitution_1=function(){return n.asm.F.apply(null,arguments)},xe=n._emscripten_bind_btCollisionObject_setFriction_1=function(){return n.asm.G.apply(null,arguments)},be=n._emscripten_bind_btCollisionObject_setRollingFriction_1=function(){return n.asm.H.apply(null,arguments)},Ce=n._emscripten_bind_btCollisionObject_setSpinningFriction_1=function(){return n.asm.I.apply(null,arguments)},Se=n._emscripten_bind_btCollisionObject_getWorldTransform_0=function(){return n.asm.J.apply(null,arguments)},Ee=n._emscripten_bind_btCollisionObject_getCollisionFlags_0=function(){return n.asm.K.apply(null,arguments)},we=n._emscripten_bind_btCollisionObject_setCollisionFlags_1=function(){return n.asm.L.apply(null,arguments)},Te=n._emscripten_bind_btCollisionObject_setWorldTransform_1=function(){return n.asm.M.apply(null,arguments)},Pe=n._emscripten_bind_btCollisionObject_setCollisionShape_1=function(){return n.asm.N.apply(null,arguments)},Ie=n._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1=function(){return n.asm.O.apply(null,arguments)},Re=n._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1=function(){return n.asm.P.apply(null,arguments)},Ne=n._emscripten_bind_btCollisionObject_getUserIndex_0=function(){return n.asm.Q.apply(null,arguments)},De=n._emscripten_bind_btCollisionObject_setUserIndex_1=function(){return n.asm.R.apply(null,arguments)},Me=n._emscripten_bind_btCollisionObject_setUserIndex2_1=function(){return n.asm.S.apply(null,arguments)},Oe=n._emscripten_bind_btCollisionObject_setIgnoreCollisionCheck_2=function(){return n.asm.T.apply(null,arguments)},Le=n._emscripten_bind_btCollisionObject___destroy___0=function(){return n.asm.U.apply(null,arguments)},ze=n._emscripten_bind_btConvexShape_setLocalScaling_1=function(){return n.asm.V.apply(null,arguments)},Fe=n._emscripten_bind_btConvexShape_getLocalScaling_0=function(){return n.asm.W.apply(null,arguments)},Be=n._emscripten_bind_btConvexShape_calculateLocalInertia_2=function(){return n.asm.X.apply(null,arguments)},Ue=n._emscripten_bind_btConvexShape_setMargin_1=function(){return n.asm.Y.apply(null,arguments)},je=n._emscripten_bind_btConvexShape_getMargin_0=function(){return n.asm.Z.apply(null,arguments)},ke=n._emscripten_bind_btConvexShape_isCompound_0=function(){return n.asm._.apply(null,arguments)},Ge=n._emscripten_bind_btConvexShape_getUserIndex_0=function(){return n.asm.$.apply(null,arguments)},He=n._emscripten_bind_btConvexShape_setUserIndex_1=function(){return n.asm.aa.apply(null,arguments)},Ve=n._emscripten_bind_btConvexShape_getAabb_3=function(){return n.asm.ba.apply(null,arguments)},We=n._emscripten_bind_btConvexShape_getLocalBoundingSphere_0=function(){return n.asm.ca.apply(null,arguments)},qe=n._emscripten_bind_btConvexShape___destroy___0=function(){return n.asm.da.apply(null,arguments)},Ye=n._emscripten_bind_btConcaveShape_setLocalScaling_1=function(){return n.asm.ea.apply(null,arguments)},Xe=n._emscripten_bind_btConcaveShape_getLocalScaling_0=function(){return n.asm.fa.apply(null,arguments)},Qe=n._emscripten_bind_btConcaveShape_calculateLocalInertia_2=function(){return n.asm.ga.apply(null,arguments)},Ze=n._emscripten_bind_btConcaveShape_isCompound_0=function(){return n.asm.ha.apply(null,arguments)},Je=n._emscripten_bind_btConcaveShape_getUserIndex_0=function(){return n.asm.ia.apply(null,arguments)},Ke=n._emscripten_bind_btConcaveShape_setUserIndex_1=function(){return n.asm.ja.apply(null,arguments)},$e=n._emscripten_bind_btConcaveShape_getAabb_3=function(){return n.asm.ka.apply(null,arguments)},et=n._emscripten_bind_btConcaveShape_getLocalBoundingSphere_0=function(){return n.asm.la.apply(null,arguments)},tt=n._emscripten_bind_btConcaveShape___destroy___0=function(){return n.asm.ma.apply(null,arguments)},nt=n._emscripten_bind_btCollisionWorld_getDispatcher_0=function(){return n.asm.na.apply(null,arguments)},it=n._emscripten_bind_btCollisionWorld_rayTest_3=function(){return n.asm.oa.apply(null,arguments)},ot=n._emscripten_bind_btCollisionWorld_rayTestSingle_6=function(){return n.asm.pa.apply(null,arguments)},rt=n._emscripten_bind_btCollisionWorld_getPairCache_0=function(){return n.asm.qa.apply(null,arguments)},at=n._emscripten_bind_btCollisionWorld_addCollisionObject_1=function(){return n.asm.ra.apply(null,arguments)},st=n._emscripten_bind_btCollisionWorld_addCollisionObject_2=function(){return n.asm.sa.apply(null,arguments)},ct=n._emscripten_bind_btCollisionWorld_addCollisionObject_3=function(){return n.asm.ta.apply(null,arguments)},lt=n._emscripten_bind_btCollisionWorld_removeCollisionObject_1=function(){return n.asm.ua.apply(null,arguments)},pt=n._emscripten_bind_btCollisionWorld_setContactBreakingThreshold_1=function(){return n.asm.va.apply(null,arguments)},ut=n._emscripten_bind_btCollisionWorld___destroy___0=function(){return n.asm.wa.apply(null,arguments)},_t=n._emscripten_bind_btTypedConstraint_enableFeedback_1=function(){return n.asm.xa.apply(null,arguments)},ft=n._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0=function(){return n.asm.ya.apply(null,arguments)},ht=n._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1=function(){return n.asm.za.apply(null,arguments)},mt=n._emscripten_bind_btTypedConstraint_getParam_2=function(){return n.asm.Aa.apply(null,arguments)},dt=n._emscripten_bind_btTypedConstraint_setParam_3=function(){return n.asm.Ba.apply(null,arguments)},vt=n._emscripten_bind_btTypedConstraint___destroy___0=function(){return n.asm.Ca.apply(null,arguments)},gt=n._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3=function(){return n.asm.Da.apply(null,arguments)},At=n._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5=function(){return n.asm.Ea.apply(null,arguments)},yt=n._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1=function(){return n.asm.Fa.apply(null,arguments)},xt=n._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1=function(){return n.asm.Ga.apply(null,arguments)},bt=n._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1=function(){return n.asm.Ha.apply(null,arguments)},Ct=n._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1=function(){return n.asm.Ia.apply(null,arguments)},St=n._emscripten_bind_btGeneric6DofConstraint_getFrameOffsetA_0=function(){return n.asm.Ja.apply(null,arguments)},Et=n._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1=function(){return n.asm.Ka.apply(null,arguments)},wt=n._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0=function(){return n.asm.La.apply(null,arguments)},Tt=n._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1=function(){return n.asm.Ma.apply(null,arguments)},Pt=n._emscripten_bind_btGeneric6DofConstraint_getParam_2=function(){return n.asm.Na.apply(null,arguments)},It=n._emscripten_bind_btGeneric6DofConstraint_setParam_3=function(){return n.asm.Oa.apply(null,arguments)},Rt=n._emscripten_bind_btGeneric6DofConstraint___destroy___0=function(){return n.asm.Pa.apply(null,arguments)},Nt=n._emscripten_bind_btStridingMeshInterface_setScaling_1=function(){return n.asm.Qa.apply(null,arguments)},Dt=n._emscripten_bind_btStridingMeshInterface___destroy___0=function(){return n.asm.Ra.apply(null,arguments)},Mt=n._emscripten_bind_btBroadphaseInterface_getOverlappingPairCache_0=function(){return n.asm.Sa.apply(null,arguments)},Ot=n._emscripten_bind_btBroadphaseInterface___destroy___0=function(){return n.asm.Ta.apply(null,arguments)},Lt=n._emscripten_bind_btMotionState_getWorldTransform_1=function(){return n.asm.Ua.apply(null,arguments)},zt=n._emscripten_bind_btMotionState_setWorldTransform_1=function(){return n.asm.Va.apply(null,arguments)},Ft=n._emscripten_bind_btMotionState___destroy___0=function(){return n.asm.Wa.apply(null,arguments)},Bt=n._emscripten_bind_btConvexInternalShape_getImplicitShapeDimensions_0=function(){return n.asm.Xa.apply(null,arguments)},Ut=n._emscripten_bind_btConvexInternalShape_setLocalScaling_1=function(){return n.asm.Ya.apply(null,arguments)},jt=n._emscripten_bind_btConvexInternalShape_getLocalScaling_0=function(){return n.asm.Za.apply(null,arguments)},kt=n._emscripten_bind_btConvexInternalShape_calculateLocalInertia_2=function(){return n.asm._a.apply(null,arguments)},Gt=n._emscripten_bind_btConvexInternalShape_setMargin_1=function(){return n.asm.$a.apply(null,arguments)},Ht=n._emscripten_bind_btConvexInternalShape_getMargin_0=function(){return n.asm.ab.apply(null,arguments)},Vt=n._emscripten_bind_btConvexInternalShape_isCompound_0=function(){return n.asm.bb.apply(null,arguments)},Wt=n._emscripten_bind_btConvexInternalShape_getUserIndex_0=function(){return n.asm.cb.apply(null,arguments)},qt=n._emscripten_bind_btConvexInternalShape_setUserIndex_1=function(){return n.asm.db.apply(null,arguments)},Yt=n._emscripten_bind_btConvexInternalShape_getAabb_3=function(){return n.asm.eb.apply(null,arguments)},Xt=n._emscripten_bind_btConvexInternalShape_getLocalBoundingSphere_0=function(){return n.asm.fb.apply(null,arguments)},Qt=n._emscripten_bind_btConvexInternalShape___destroy___0=function(){return n.asm.gb.apply(null,arguments)},Zt=n._emscripten_bind_btDynamicsWorld_addAction_1=function(){return n.asm.hb.apply(null,arguments)},Jt=n._emscripten_bind_btDynamicsWorld_removeAction_1=function(){return n.asm.ib.apply(null,arguments)},Kt=n._emscripten_bind_btDynamicsWorld_getSolverInfo_0=function(){return n.asm.jb.apply(null,arguments)},$t=n._emscripten_bind_btDynamicsWorld_getFixedBody_0=function(){return n.asm.kb.apply(null,arguments)},en=n._emscripten_bind_btDynamicsWorld_getDispatcher_0=function(){return n.asm.lb.apply(null,arguments)},tn=n._emscripten_bind_btDynamicsWorld_rayTest_3=function(){return n.asm.mb.apply(null,arguments)},nn=n._emscripten_bind_btDynamicsWorld_rayTestSingle_6=function(){return n.asm.nb.apply(null,arguments)},on=n._emscripten_bind_btDynamicsWorld_getPairCache_0=function(){return n.asm.ob.apply(null,arguments)},rn=n._emscripten_bind_btDynamicsWorld_addCollisionObject_1=function(){return n.asm.pb.apply(null,arguments)},an=n._emscripten_bind_btDynamicsWorld_addCollisionObject_2=function(){return n.asm.qb.apply(null,arguments)},sn=n._emscripten_bind_btDynamicsWorld_addCollisionObject_3=function(){return n.asm.rb.apply(null,arguments)},cn=n._emscripten_bind_btDynamicsWorld_removeCollisionObject_1=function(){return n.asm.sb.apply(null,arguments)},ln=n._emscripten_bind_btDynamicsWorld_setContactBreakingThreshold_1=function(){return n.asm.tb.apply(null,arguments)},pn=n._emscripten_bind_btDynamicsWorld___destroy___0=function(){return n.asm.ub.apply(null,arguments)},un=n._emscripten_bind_btDispatcher_getNumManifolds_0=function(){return n.asm.vb.apply(null,arguments)},_n=n._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1=function(){return n.asm.wb.apply(null,arguments)},fn=n._emscripten_bind_btDispatcher___destroy___0=function(){return n.asm.xb.apply(null,arguments)},hn=n._emscripten_bind_RayResultCallback_hasHit_0=function(){return n.asm.yb.apply(null,arguments)},mn=n._emscripten_bind_RayResultCallback_setUseCC_1=function(){return n.asm.zb.apply(null,arguments)},dn=n._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0=function(){return n.asm.Ab.apply(null,arguments)},vn=n._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1=function(){return n.asm.Bb.apply(null,arguments)},gn=n._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0=function(){return n.asm.Cb.apply(null,arguments)},An=n._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1=function(){return n.asm.Db.apply(null,arguments)},yn=n._emscripten_bind_RayResultCallback_get_m_shapePart_0=function(){return n.asm.Eb.apply(null,arguments)},xn=n._emscripten_bind_RayResultCallback_set_m_shapePart_1=function(){return n.asm.Fb.apply(null,arguments)},bn=n._emscripten_bind_RayResultCallback_get_m_closestHitFraction_0=function(){return n.asm.Gb.apply(null,arguments)},Cn=n._emscripten_bind_RayResultCallback_set_m_closestHitFraction_1=function(){return n.asm.Hb.apply(null,arguments)},Sn=n._emscripten_bind_RayResultCallback_get_m_collisionObject_0=function(){return n.asm.Ib.apply(null,arguments)},En=n._emscripten_bind_RayResultCallback_set_m_collisionObject_1=function(){return n.asm.Jb.apply(null,arguments)},wn=n._emscripten_bind_RayResultCallback___destroy___0=function(){return n.asm.Kb.apply(null,arguments)},Tn=n._emscripten_bind_btActionInterface_updateAction_2=function(){return n.asm.Lb.apply(null,arguments)},Pn=n._emscripten_bind_btActionInterface___destroy___0=function(){return n.asm.Mb.apply(null,arguments)},In=n._emscripten_bind_btTriangleMeshShape_setLocalScaling_1=function(){return n.asm.Nb.apply(null,arguments)},Rn=n._emscripten_bind_btTriangleMeshShape_getLocalScaling_0=function(){return n.asm.Ob.apply(null,arguments)},Nn=n._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2=function(){return n.asm.Pb.apply(null,arguments)},Dn=n._emscripten_bind_btTriangleMeshShape_isCompound_0=function(){return n.asm.Qb.apply(null,arguments)},Mn=n._emscripten_bind_btTriangleMeshShape_getUserIndex_0=function(){return n.asm.Rb.apply(null,arguments)},On=n._emscripten_bind_btTriangleMeshShape_setUserIndex_1=function(){return n.asm.Sb.apply(null,arguments)},Ln=n._emscripten_bind_btTriangleMeshShape_getAabb_3=function(){return n.asm.Tb.apply(null,arguments)},zn=n._emscripten_bind_btTriangleMeshShape_getLocalBoundingSphere_0=function(){return n.asm.Ub.apply(null,arguments)},Fn=n._emscripten_bind_btTriangleMeshShape___destroy___0=function(){return n.asm.Vb.apply(null,arguments)},Bn=n._emscripten_bind_btGhostObject_btGhostObject_0=function(){return n.asm.Wb.apply(null,arguments)},Un=n._emscripten_bind_btGhostObject_getNumOverlappingObjects_0=function(){return n.asm.Xb.apply(null,arguments)},jn=n._emscripten_bind_btGhostObject_getOverlappingObject_1=function(){return n.asm.Yb.apply(null,arguments)},kn=n._emscripten_bind_btGhostObject_setAnisotropicFriction_2=function(){return n.asm.Zb.apply(null,arguments)},Gn=n._emscripten_bind_btGhostObject_getCollisionShape_0=function(){return n.asm._b.apply(null,arguments)},Hn=n._emscripten_bind_btGhostObject_getActivationState_0=function(){return n.asm.$b.apply(null,arguments)},Vn=n._emscripten_bind_btGhostObject_setActivationState_1=function(){return n.asm.ac.apply(null,arguments)},Wn=n._emscripten_bind_btGhostObject_forceActivationState_1=function(){return n.asm.bc.apply(null,arguments)},qn=n._emscripten_bind_btGhostObject_activate_0=function(){return n.asm.cc.apply(null,arguments)},Yn=n._emscripten_bind_btGhostObject_activate_1=function(){return n.asm.dc.apply(null,arguments)},Xn=n._emscripten_bind_btGhostObject_isActive_0=function(){return n.asm.ec.apply(null,arguments)},Qn=n._emscripten_bind_btGhostObject_isKinematicObject_0=function(){return n.asm.fc.apply(null,arguments)},Zn=n._emscripten_bind_btGhostObject_isStaticObject_0=function(){return n.asm.gc.apply(null,arguments)},Jn=n._emscripten_bind_btGhostObject_isStaticOrKinematicObject_0=function(){return n.asm.hc.apply(null,arguments)},Kn=n._emscripten_bind_btGhostObject_setRestitution_1=function(){return n.asm.ic.apply(null,arguments)},$n=n._emscripten_bind_btGhostObject_setFriction_1=function(){return n.asm.jc.apply(null,arguments)},ei=n._emscripten_bind_btGhostObject_setRollingFriction_1=function(){return n.asm.kc.apply(null,arguments)},ti=n._emscripten_bind_btGhostObject_setSpinningFriction_1=function(){return n.asm.lc.apply(null,arguments)},ni=n._emscripten_bind_btGhostObject_getWorldTransform_0=function(){return n.asm.mc.apply(null,arguments)},ii=n._emscripten_bind_btGhostObject_getCollisionFlags_0=function(){return n.asm.nc.apply(null,arguments)},oi=n._emscripten_bind_btGhostObject_setCollisionFlags_1=function(){return n.asm.oc.apply(null,arguments)},ri=n._emscripten_bind_btGhostObject_setWorldTransform_1=function(){return n.asm.pc.apply(null,arguments)},ai=n._emscripten_bind_btGhostObject_setCollisionShape_1=function(){return n.asm.qc.apply(null,arguments)},si=n._emscripten_bind_btGhostObject_setCcdMotionThreshold_1=function(){return n.asm.rc.apply(null,arguments)},ci=n._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1=function(){return n.asm.sc.apply(null,arguments)},li=n._emscripten_bind_btGhostObject_getUserIndex_0=function(){return n.asm.tc.apply(null,arguments)},pi=n._emscripten_bind_btGhostObject_setUserIndex_1=function(){return n.asm.uc.apply(null,arguments)},ui=n._emscripten_bind_btGhostObject_setUserIndex2_1=function(){return n.asm.vc.apply(null,arguments)},_i=n._emscripten_bind_btGhostObject_setIgnoreCollisionCheck_2=function(){return n.asm.wc.apply(null,arguments)},fi=n._emscripten_bind_btGhostObject___destroy___0=function(){return n.asm.xc.apply(null,arguments)},hi=n._emscripten_bind_btOverlapFilterCallback___destroy___0=function(){return n.asm.yc.apply(null,arguments)},mi=n._emscripten_bind_btQuadWord_x_0=function(){return n.asm.zc.apply(null,arguments)},di=n._emscripten_bind_btQuadWord_y_0=function(){return n.asm.Ac.apply(null,arguments)},vi=n._emscripten_bind_btQuadWord_z_0=function(){return n.asm.Bc.apply(null,arguments)},gi=n._emscripten_bind_btQuadWord_w_0=function(){return n.asm.Cc.apply(null,arguments)},Ai=n._emscripten_bind_btQuadWord_setX_1=function(){return n.asm.Dc.apply(null,arguments)},yi=n._emscripten_bind_btQuadWord_setY_1=function(){return n.asm.Ec.apply(null,arguments)},xi=n._emscripten_bind_btQuadWord_setZ_1=function(){return n.asm.Fc.apply(null,arguments)},bi=n._emscripten_bind_btQuadWord_setW_1=function(){return n.asm.Gc.apply(null,arguments)},Ci=n._emscripten_bind_btQuadWord___destroy___0=function(){return n.asm.Hc.apply(null,arguments)},Si=n._emscripten_bind_btMatrix3x3_getRotation_1=function(){return n.asm.Ic.apply(null,arguments)},Ei=n._emscripten_bind_btMatrix3x3___destroy___0=function(){return n.asm.Jc.apply(null,arguments)},wi=n._emscripten_bind_btScalarArray_size_0=function(){return n.asm.Kc.apply(null,arguments)},Ti=n._emscripten_bind_btScalarArray_at_1=function(){return n.asm.Lc.apply(null,arguments)},Pi=n._emscripten_bind_btScalarArray_clear_0=function(){return n.asm.Mc.apply(null,arguments)},Ii=n._emscripten_bind_btScalarArray___destroy___0=function(){return n.asm.Nc.apply(null,arguments)},Ri=n._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2=function(){return n.asm.Oc.apply(null,arguments)},Ni=n._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3=function(){return n.asm.Pc.apply(null,arguments)},Di=n._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1=function(){return n.asm.Qc.apply(null,arguments)},Mi=n._emscripten_bind_btBvhTriangleMeshShape_getLocalScaling_0=function(){return n.asm.Rc.apply(null,arguments)},Oi=n._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2=function(){return n.asm.Sc.apply(null,arguments)},Li=n._emscripten_bind_btBvhTriangleMeshShape_isCompound_0=function(){return n.asm.Tc.apply(null,arguments)},zi=n._emscripten_bind_btBvhTriangleMeshShape_getUserIndex_0=function(){return n.asm.Uc.apply(null,arguments)},Fi=n._emscripten_bind_btBvhTriangleMeshShape_setUserIndex_1=function(){return n.asm.Vc.apply(null,arguments)},Bi=n._emscripten_bind_btBvhTriangleMeshShape_getAabb_3=function(){return n.asm.Wc.apply(null,arguments)},Ui=n._emscripten_bind_btBvhTriangleMeshShape_getLocalBoundingSphere_0=function(){return n.asm.Xc.apply(null,arguments)},ji=n._emscripten_bind_btBvhTriangleMeshShape___destroy___0=function(){return n.asm.Yc.apply(null,arguments)},ki=n._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0=function(){return n.asm.Zc.apply(null,arguments)},Gi=n._emscripten_bind_btDbvtBroadphase_getOverlappingPairCache_0=function(){return n.asm._c.apply(null,arguments)},Hi=n._emscripten_bind_btDbvtBroadphase___destroy___0=function(){return n.asm.$c.apply(null,arguments)},Vi=n._emscripten_bind_btIntArray_size_0=function(){return n.asm.ad.apply(null,arguments)},Wi=n._emscripten_bind_btIntArray_at_1=function(){return n.asm.bd.apply(null,arguments)},qi=n._emscripten_bind_btIntArray_clear_0=function(){return n.asm.cd.apply(null,arguments)},Yi=n._emscripten_bind_btIntArray___destroy___0=function(){return n.asm.dd.apply(null,arguments)},Xi=n._emscripten_bind_btConstCollisionObjectArray_size_0=function(){return n.asm.ed.apply(null,arguments)},Qi=n._emscripten_bind_btConstCollisionObjectArray_at_1=function(){return n.asm.fd.apply(null,arguments)},Zi=n._emscripten_bind_btConstCollisionObjectArray_clear_0=function(){return n.asm.gd.apply(null,arguments)},Ji=n._emscripten_bind_btConstCollisionObjectArray___destroy___0=function(){return n.asm.hd.apply(null,arguments)},Ki=n._emscripten_bind_btBroadphaseProxy_get_m_collisionFilterGroup_0=function(){return n.asm.id.apply(null,arguments)},$i=n._emscripten_bind_btBroadphaseProxy_set_m_collisionFilterGroup_1=function(){return n.asm.jd.apply(null,arguments)},eo=n._emscripten_bind_btBroadphaseProxy_get_m_collisionFilterMask_0=function(){return n.asm.kd.apply(null,arguments)},to=n._emscripten_bind_btBroadphaseProxy_set_m_collisionFilterMask_1=function(){return n.asm.ld.apply(null,arguments)},no=n._emscripten_bind_btBroadphaseProxy___destroy___0=function(){return n.asm.md.apply(null,arguments)},io=n._emscripten_bind_btSliderConstraint_btSliderConstraint_3=function(){return n.asm.nd.apply(null,arguments)},oo=n._emscripten_bind_btSliderConstraint_btSliderConstraint_5=function(){return n.asm.od.apply(null,arguments)},ro=n._emscripten_bind_btSliderConstraint_setLowerLinLimit_1=function(){return n.asm.pd.apply(null,arguments)},ao=n._emscripten_bind_btSliderConstraint_setUpperLinLimit_1=function(){return n.asm.qd.apply(null,arguments)},so=n._emscripten_bind_btSliderConstraint_setLowerAngLimit_1=function(){return n.asm.rd.apply(null,arguments)},co=n._emscripten_bind_btSliderConstraint_setUpperAngLimit_1=function(){return n.asm.sd.apply(null,arguments)},lo=n._emscripten_bind_btSliderConstraint_enableFeedback_1=function(){return n.asm.td.apply(null,arguments)},po=n._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0=function(){return n.asm.ud.apply(null,arguments)},uo=n._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1=function(){return n.asm.vd.apply(null,arguments)},_o=n._emscripten_bind_btSliderConstraint_getParam_2=function(){return n.asm.wd.apply(null,arguments)},fo=n._emscripten_bind_btSliderConstraint_setParam_3=function(){return n.asm.xd.apply(null,arguments)},ho=n._emscripten_bind_btSliderConstraint___destroy___0=function(){return n.asm.yd.apply(null,arguments)},mo=n._emscripten_bind_btIndexedMesh_get_m_numTriangles_0=function(){return n.asm.zd.apply(null,arguments)},vo=n._emscripten_bind_btIndexedMesh_set_m_numTriangles_1=function(){return n.asm.Ad.apply(null,arguments)},go=n._emscripten_bind_btIndexedMesh___destroy___0=function(){return n.asm.Bd.apply(null,arguments)},Ao=n._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3=function(){return n.asm.Cd.apply(null,arguments)},yo=n._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4=function(){return n.asm.Dd.apply(null,arguments)},xo=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0=function(){return n.asm.Ed.apply(null,arguments)},bo=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1=function(){return n.asm.Fd.apply(null,arguments)},Co=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0=function(){return n.asm.Gd.apply(null,arguments)},So=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1=function(){return n.asm.Hd.apply(null,arguments)},Eo=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0=function(){return n.asm.Id.apply(null,arguments)},wo=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1=function(){return n.asm.Jd.apply(null,arguments)},To=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0=function(){return n.asm.Kd.apply(null,arguments)},Po=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1=function(){return n.asm.Ld.apply(null,arguments)},Io=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0=function(){return n.asm.Md.apply(null,arguments)},Ro=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1=function(){return n.asm.Nd.apply(null,arguments)},No=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0=function(){return n.asm.Od.apply(null,arguments)},Do=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1=function(){return n.asm.Pd.apply(null,arguments)},Mo=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0=function(){return n.asm.Qd.apply(null,arguments)},Oo=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1=function(){return n.asm.Rd.apply(null,arguments)},Lo=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0=function(){return n.asm.Sd.apply(null,arguments)},zo=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1=function(){return n.asm.Td.apply(null,arguments)},Fo=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0=function(){return n.asm.Ud.apply(null,arguments)},Bo=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1=function(){return n.asm.Vd.apply(null,arguments)},Uo=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0=function(){return n.asm.Wd.apply(null,arguments)},jo=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1=function(){return n.asm.Xd.apply(null,arguments)},ko=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0=function(){return n.asm.Yd.apply(null,arguments)},Go=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1=function(){return n.asm.Zd.apply(null,arguments)},Ho=n._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0=function(){return n.asm._d.apply(null,arguments)},Vo=n._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1=function(){return n.asm.$d.apply(null,arguments)},Wo=n._emscripten_bind_btRigidBodyConstructionInfo___destroy___0=function(){return n.asm.ae.apply(null,arguments)},qo=n._emscripten_bind_btManifoldPoint_getAppliedImpulse_0=function(){return n.asm.be.apply(null,arguments)},Yo=n._emscripten_bind_btManifoldPoint_getDistance_0=function(){return n.asm.ce.apply(null,arguments)},Xo=n._emscripten_bind_btManifoldPoint_getShape0_0=function(){return n.asm.de.apply(null,arguments)},Qo=n._emscripten_bind_btManifoldPoint_getShape1_0=function(){return n.asm.ee.apply(null,arguments)},Zo=n._emscripten_bind_btManifoldPoint_get_m_localPointA_0=function(){return n.asm.fe.apply(null,arguments)},Jo=n._emscripten_bind_btManifoldPoint_set_m_localPointA_1=function(){return n.asm.ge.apply(null,arguments)},Ko=n._emscripten_bind_btManifoldPoint_get_m_localPointB_0=function(){return n.asm.he.apply(null,arguments)},$o=n._emscripten_bind_btManifoldPoint_set_m_localPointB_1=function(){return n.asm.ie.apply(null,arguments)},er=n._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0=function(){return n.asm.je.apply(null,arguments)},tr=n._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1=function(){return n.asm.ke.apply(null,arguments)},nr=n._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0=function(){return n.asm.le.apply(null,arguments)},ir=n._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1=function(){return n.asm.me.apply(null,arguments)},or=n._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0=function(){return n.asm.ne.apply(null,arguments)},rr=n._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1=function(){return n.asm.oe.apply(null,arguments)},ar=n._emscripten_bind_btManifoldPoint_get_m_distance1_0=function(){return n.asm.pe.apply(null,arguments)},sr=n._emscripten_bind_btManifoldPoint_set_m_distance1_1=function(){return n.asm.qe.apply(null,arguments)},cr=n._emscripten_bind_btManifoldPoint_get_m_index0_0=function(){return n.asm.re.apply(null,arguments)},lr=n._emscripten_bind_btManifoldPoint_set_m_index0_1=function(){return n.asm.se.apply(null,arguments)},pr=n._emscripten_bind_btManifoldPoint_get_m_index1_0=function(){return n.asm.te.apply(null,arguments)},ur=n._emscripten_bind_btManifoldPoint_set_m_index1_1=function(){return n.asm.ue.apply(null,arguments)},_r=n._emscripten_bind_btManifoldPoint_get_m_userPersistentData_0=function(){return n.asm.ve.apply(null,arguments)},fr=n._emscripten_bind_btManifoldPoint_set_m_userPersistentData_1=function(){return n.asm.we.apply(null,arguments)},hr=n._emscripten_bind_btManifoldPoint_get_m_userPersistentData0_0=function(){return n.asm.xe.apply(null,arguments)},mr=n._emscripten_bind_btManifoldPoint_set_m_userPersistentData0_1=function(){return n.asm.ye.apply(null,arguments)},dr=n._emscripten_bind_btManifoldPoint_get_m_userPersistentData1_0=function(){return n.asm.ze.apply(null,arguments)},vr=n._emscripten_bind_btManifoldPoint_set_m_userPersistentData1_1=function(){return n.asm.Ae.apply(null,arguments)},gr=n._emscripten_bind_btManifoldPoint___destroy___0=function(){return n.asm.Be.apply(null,arguments)},Ar=n._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0=function(){return n.asm.Ce.apply(null,arguments)},yr=n._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0=function(){return n.asm.De.apply(null,arguments)},xr=n._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4=function(){return n.asm.Ee.apply(null,arguments)},br=n._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1=function(){return n.asm.Fe.apply(null,arguments)},Cr=n._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0=function(){return n.asm.Ge.apply(null,arguments)},Sr=n._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1=function(){return n.asm.He.apply(null,arguments)},Er=n._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3=function(){return n.asm.Ie.apply(null,arguments)},wr=n._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1=function(){return n.asm.Je.apply(null,arguments)},Tr=n._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1=function(){return n.asm.Ke.apply(null,arguments)},Pr=n._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2=function(){return n.asm.Le.apply(null,arguments)},Ir=n._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1=function(){return n.asm.Me.apply(null,arguments)},Rr=n._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1=function(){return n.asm.Ne.apply(null,arguments)},Nr=n._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2=function(){return n.asm.Oe.apply(null,arguments)},Dr=n._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3=function(){return n.asm.Pe.apply(null,arguments)},Mr=n._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0=function(){return n.asm.Qe.apply(null,arguments)},Or=n._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3=function(){return n.asm.Re.apply(null,arguments)},Lr=n._emscripten_bind_btDiscreteDynamicsWorld_rayTestSingle_6=function(){return n.asm.Se.apply(null,arguments)},zr=n._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0=function(){return n.asm.Te.apply(null,arguments)},Fr=n._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1=function(){return n.asm.Ue.apply(null,arguments)},Br=n._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2=function(){return n.asm.Ve.apply(null,arguments)},Ur=n._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3=function(){return n.asm.We.apply(null,arguments)},jr=n._emscripten_bind_btDiscreteDynamicsWorld_removeCollisionObject_1=function(){return n.asm.Xe.apply(null,arguments)},kr=n._emscripten_bind_btDiscreteDynamicsWorld_setContactBreakingThreshold_1=function(){return n.asm.Ye.apply(null,arguments)},Gr=n._emscripten_bind_btDiscreteDynamicsWorld_addAction_1=function(){return n.asm.Ze.apply(null,arguments)},Hr=n._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1=function(){return n.asm._e.apply(null,arguments)},Vr=n._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0=function(){return n.asm.$e.apply(null,arguments)},Wr=n._emscripten_bind_btDiscreteDynamicsWorld_getFixedBody_0=function(){return n.asm.af.apply(null,arguments)},qr=n._emscripten_bind_btDiscreteDynamicsWorld___destroy___0=function(){return n.asm.bf.apply(null,arguments)},Yr=n._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2=function(){return n.asm.cf.apply(null,arguments)},Xr=n._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4=function(){return n.asm.df.apply(null,arguments)},Qr=n._emscripten_bind_btPoint2PointConstraint_setPivotA_1=function(){return n.asm.ef.apply(null,arguments)},Zr=n._emscripten_bind_btPoint2PointConstraint_setPivotB_1=function(){return n.asm.ff.apply(null,arguments)},Jr=n._emscripten_bind_btPoint2PointConstraint_getPivotInA_0=function(){return n.asm.gf.apply(null,arguments)},Kr=n._emscripten_bind_btPoint2PointConstraint_getPivotInB_0=function(){return n.asm.hf.apply(null,arguments)},$r=n._emscripten_bind_btPoint2PointConstraint_enableFeedback_1=function(){return n.asm.jf.apply(null,arguments)},ea=n._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0=function(){return n.asm.kf.apply(null,arguments)},ta=n._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1=function(){return n.asm.lf.apply(null,arguments)},na=n._emscripten_bind_btPoint2PointConstraint_getParam_2=function(){return n.asm.mf.apply(null,arguments)},ia=n._emscripten_bind_btPoint2PointConstraint_setParam_3=function(){return n.asm.nf.apply(null,arguments)},oa=n._emscripten_bind_btPoint2PointConstraint_get_m_setting_0=function(){return n.asm.of.apply(null,arguments)},ra=n._emscripten_bind_btPoint2PointConstraint_set_m_setting_1=function(){return n.asm.pf.apply(null,arguments)},aa=n._emscripten_bind_btPoint2PointConstraint___destroy___0=function(){return n.asm.qf.apply(null,arguments)},sa=n._emscripten_bind_ccOverlapFilterCallback_ccOverlapFilterCallback_0=function(){return n.asm.rf.apply(null,arguments)},ca=n._emscripten_bind_ccOverlapFilterCallback___destroy___0=function(){return n.asm.sf.apply(null,arguments)},la=n._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1=function(){return n.asm.tf.apply(null,arguments)},pa=n._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2=function(){return n.asm.uf.apply(null,arguments)},ua=n._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1=function(){return n.asm.vf.apply(null,arguments)},_a=n._emscripten_bind_btConvexTriangleMeshShape_getLocalScaling_0=function(){return n.asm.wf.apply(null,arguments)},fa=n._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2=function(){return n.asm.xf.apply(null,arguments)},ha=n._emscripten_bind_btConvexTriangleMeshShape_setMargin_1=function(){return n.asm.yf.apply(null,arguments)},ma=n._emscripten_bind_btConvexTriangleMeshShape_getMargin_0=function(){return n.asm.zf.apply(null,arguments)},da=n._emscripten_bind_btConvexTriangleMeshShape_isCompound_0=function(){return n.asm.Af.apply(null,arguments)},va=n._emscripten_bind_btConvexTriangleMeshShape_getUserIndex_0=function(){return n.asm.Bf.apply(null,arguments)},ga=n._emscripten_bind_btConvexTriangleMeshShape_setUserIndex_1=function(){return n.asm.Cf.apply(null,arguments)},Aa=n._emscripten_bind_btConvexTriangleMeshShape_getAabb_3=function(){return n.asm.Df.apply(null,arguments)},ya=n._emscripten_bind_btConvexTriangleMeshShape_getLocalBoundingSphere_0=function(){return n.asm.Ef.apply(null,arguments)},xa=n._emscripten_bind_btConvexTriangleMeshShape___destroy___0=function(){return n.asm.Ff.apply(null,arguments)},ba=n._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2=function(){return n.asm.Gf.apply(null,arguments)},Ca=n._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4=function(){return n.asm.Hf.apply(null,arguments)},Sa=n._emscripten_bind_btConeTwistConstraint_setLimit_2=function(){return n.asm.If.apply(null,arguments)},Ea=n._emscripten_bind_btConeTwistConstraint_setAngularOnly_1=function(){return n.asm.Jf.apply(null,arguments)},wa=n._emscripten_bind_btConeTwistConstraint_setDamping_1=function(){return n.asm.Kf.apply(null,arguments)},Ta=n._emscripten_bind_btConeTwistConstraint_enableMotor_1=function(){return n.asm.Lf.apply(null,arguments)},Pa=n._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1=function(){return n.asm.Mf.apply(null,arguments)},Ia=n._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1=function(){return n.asm.Nf.apply(null,arguments)},Ra=n._emscripten_bind_btConeTwistConstraint_setMotorTarget_1=function(){return n.asm.Of.apply(null,arguments)},Na=n._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1=function(){return n.asm.Pf.apply(null,arguments)},Da=n._emscripten_bind_btConeTwistConstraint_enableFeedback_1=function(){return n.asm.Qf.apply(null,arguments)},Ma=n._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0=function(){return n.asm.Rf.apply(null,arguments)},Oa=n._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1=function(){return n.asm.Sf.apply(null,arguments)},La=n._emscripten_bind_btConeTwistConstraint_getParam_2=function(){return n.asm.Tf.apply(null,arguments)},za=n._emscripten_bind_btConeTwistConstraint_setParam_3=function(){return n.asm.Uf.apply(null,arguments)},Fa=n._emscripten_bind_btConeTwistConstraint___destroy___0=function(){return n.asm.Vf.apply(null,arguments)},Ba=n._emscripten_bind_btConeShape_btConeShape_2=function(){return n.asm.Wf.apply(null,arguments)},Ua=n._emscripten_bind_btConeShape_setRadius_1=function(){return n.asm.Xf.apply(null,arguments)},ja=n._emscripten_bind_btConeShape_setHeight_1=function(){return n.asm.Yf.apply(null,arguments)},ka=n._emscripten_bind_btConeShape_setConeUpIndex_1=function(){return n.asm.Zf.apply(null,arguments)},Ga=n._emscripten_bind_btConeShape_setLocalScaling_1=function(){return n.asm._f.apply(null,arguments)},Ha=n._emscripten_bind_btConeShape_getLocalScaling_0=function(){return n.asm.$f.apply(null,arguments)},Va=n._emscripten_bind_btConeShape_calculateLocalInertia_2=function(){return n.asm.ag.apply(null,arguments)},Wa=n._emscripten_bind_btConeShape_isCompound_0=function(){return n.asm.bg.apply(null,arguments)},qa=n._emscripten_bind_btConeShape_getUserIndex_0=function(){return n.asm.cg.apply(null,arguments)},Ya=n._emscripten_bind_btConeShape_setUserIndex_1=function(){return n.asm.dg.apply(null,arguments)},Xa=n._emscripten_bind_btConeShape_getAabb_3=function(){return n.asm.eg.apply(null,arguments)},Qa=n._emscripten_bind_btConeShape_getLocalBoundingSphere_0=function(){return n.asm.fg.apply(null,arguments)},Za=n._emscripten_bind_btConeShape_getImplicitShapeDimensions_0=function(){return n.asm.gg.apply(null,arguments)},Ja=n._emscripten_bind_btConeShape___destroy___0=function(){return n.asm.hg.apply(null,arguments)},Ka=n._emscripten_bind_btHeightfieldTerrainShape_btHeightfieldTerrainShape_9=function(){return n.asm.ig.apply(null,arguments)},$a=n._emscripten_bind_btHeightfieldTerrainShape_setMargin_1=function(){return n.asm.jg.apply(null,arguments)},es=n._emscripten_bind_btHeightfieldTerrainShape_getMargin_0=function(){return n.asm.kg.apply(null,arguments)},ts=n._emscripten_bind_btHeightfieldTerrainShape_setLocalScaling_1=function(){return n.asm.lg.apply(null,arguments)},ns=n._emscripten_bind_btHeightfieldTerrainShape_getLocalScaling_0=function(){return n.asm.mg.apply(null,arguments)},is=n._emscripten_bind_btHeightfieldTerrainShape_calculateLocalInertia_2=function(){return n.asm.ng.apply(null,arguments)},os=n._emscripten_bind_btHeightfieldTerrainShape_isCompound_0=function(){return n.asm.og.apply(null,arguments)},rs=n._emscripten_bind_btHeightfieldTerrainShape_getUserIndex_0=function(){return n.asm.pg.apply(null,arguments)},as=n._emscripten_bind_btHeightfieldTerrainShape_setUserIndex_1=function(){return n.asm.qg.apply(null,arguments)},ss=n._emscripten_bind_btHeightfieldTerrainShape_getAabb_3=function(){return n.asm.rg.apply(null,arguments)},cs=n._emscripten_bind_btHeightfieldTerrainShape_getLocalBoundingSphere_0=function(){return n.asm.sg.apply(null,arguments)},ls=n._emscripten_bind_btHeightfieldTerrainShape___destroy___0=function(){return n.asm.tg.apply(null,arguments)},ps=n._emscripten_bind_VoidPtr___destroy___0=function(){return n.asm.ug.apply(null,arguments)},us=n._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0=function(){return n.asm.vg.apply(null,arguments)},_s=n._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1=function(){return n.asm.wg.apply(null,arguments)},fs=n._emscripten_bind_btDefaultCollisionConfiguration___destroy___0=function(){return n.asm.xg.apply(null,arguments)},hs=n._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0=function(){return n.asm.yg.apply(null,arguments)},ms=n._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2=function(){return n.asm.zg.apply(null,arguments)},ds=n._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0=function(){return n.asm.Ag.apply(null,arguments)},vs=n._emscripten_bind_btPairCachingGhostObject_getActivationState_0=function(){return n.asm.Bg.apply(null,arguments)},gs=n._emscripten_bind_btPairCachingGhostObject_setActivationState_1=function(){return n.asm.Cg.apply(null,arguments)},As=n._emscripten_bind_btPairCachingGhostObject_forceActivationState_1=function(){return n.asm.Dg.apply(null,arguments)},ys=n._emscripten_bind_btPairCachingGhostObject_activate_0=function(){return n.asm.Eg.apply(null,arguments)},xs=n._emscripten_bind_btPairCachingGhostObject_activate_1=function(){return n.asm.Fg.apply(null,arguments)},bs=n._emscripten_bind_btPairCachingGhostObject_isActive_0=function(){return n.asm.Gg.apply(null,arguments)},Cs=n._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0=function(){return n.asm.Hg.apply(null,arguments)},Ss=n._emscripten_bind_btPairCachingGhostObject_isStaticObject_0=function(){return n.asm.Ig.apply(null,arguments)},Es=n._emscripten_bind_btPairCachingGhostObject_isStaticOrKinematicObject_0=function(){return n.asm.Jg.apply(null,arguments)},ws=n._emscripten_bind_btPairCachingGhostObject_setRestitution_1=function(){return n.asm.Kg.apply(null,arguments)},Ts=n._emscripten_bind_btPairCachingGhostObject_setFriction_1=function(){return n.asm.Lg.apply(null,arguments)},Ps=n._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1=function(){return n.asm.Mg.apply(null,arguments)},Is=n._emscripten_bind_btPairCachingGhostObject_setSpinningFriction_1=function(){return n.asm.Ng.apply(null,arguments)},Rs=n._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0=function(){return n.asm.Og.apply(null,arguments)},Ns=n._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0=function(){return n.asm.Pg.apply(null,arguments)},Ds=n._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1=function(){return n.asm.Qg.apply(null,arguments)},Ms=n._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1=function(){return n.asm.Rg.apply(null,arguments)},Os=n._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1=function(){return n.asm.Sg.apply(null,arguments)},Ls=n._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1=function(){return n.asm.Tg.apply(null,arguments)},zs=n._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1=function(){return n.asm.Ug.apply(null,arguments)},Fs=n._emscripten_bind_btPairCachingGhostObject_getUserIndex_0=function(){return n.asm.Vg.apply(null,arguments)},Bs=n._emscripten_bind_btPairCachingGhostObject_setUserIndex_1=function(){return n.asm.Wg.apply(null,arguments)},Us=n._emscripten_bind_btPairCachingGhostObject_setUserIndex2_1=function(){return n.asm.Xg.apply(null,arguments)},js=n._emscripten_bind_btPairCachingGhostObject_setIgnoreCollisionCheck_2=function(){return n.asm.Yg.apply(null,arguments)},ks=n._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0=function(){return n.asm.Zg.apply(null,arguments)},Gs=n._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1=function(){return n.asm._g.apply(null,arguments)},Hs=n._emscripten_bind_btPairCachingGhostObject___destroy___0=function(){return n.asm.$g.apply(null,arguments)},Vs=n._emscripten_bind_btOverlappingPairCallback___destroy___0=function(){return n.asm.ah.apply(null,arguments)},Ws=n._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3=function(){return n.asm.bh.apply(null,arguments)},qs=n._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5=function(){return n.asm.ch.apply(null,arguments)},Ys=n._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2=function(){return n.asm.dh.apply(null,arguments)},Xs=n._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2=function(){return n.asm.eh.apply(null,arguments)},Qs=n._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2=function(){return n.asm.fh.apply(null,arguments)},Zs=n._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_0=function(){return n.asm.gh.apply(null,arguments)},Js=n._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_1=function(){return n.asm.hh.apply(null,arguments)},Ks=n._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_2=function(){return n.asm.ih.apply(null,arguments)},$s=n._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1=function(){return n.asm.jh.apply(null,arguments)},ec=n._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1=function(){return n.asm.kh.apply(null,arguments)},tc=n._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1=function(){return n.asm.lh.apply(null,arguments)},nc=n._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1=function(){return n.asm.mh.apply(null,arguments)},ic=n._emscripten_bind_btGeneric6DofSpringConstraint_getFrameOffsetA_0=function(){return n.asm.nh.apply(null,arguments)},oc=n._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1=function(){return n.asm.oh.apply(null,arguments)},rc=n._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0=function(){return n.asm.ph.apply(null,arguments)},ac=n._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1=function(){return n.asm.qh.apply(null,arguments)},sc=n._emscripten_bind_btGeneric6DofSpringConstraint_getParam_2=function(){return n.asm.rh.apply(null,arguments)},cc=n._emscripten_bind_btGeneric6DofSpringConstraint_setParam_3=function(){return n.asm.sh.apply(null,arguments)},lc=n._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0=function(){return n.asm.th.apply(null,arguments)},pc=n._emscripten_bind_btTriangleMesh_btTriangleMesh_0=function(){return n.asm.uh.apply(null,arguments)},uc=n._emscripten_bind_btTriangleMesh_btTriangleMesh_1=function(){return n.asm.vh.apply(null,arguments)},_c=n._emscripten_bind_btTriangleMesh_btTriangleMesh_2=function(){return n.asm.wh.apply(null,arguments)},fc=n._emscripten_bind_btTriangleMesh_addTriangle_3=function(){return n.asm.xh.apply(null,arguments)},hc=n._emscripten_bind_btTriangleMesh_addTriangle_4=function(){return n.asm.yh.apply(null,arguments)},mc=n._emscripten_bind_btTriangleMesh_addTriangleIndices_3=function(){return n.asm.zh.apply(null,arguments)},dc=n._emscripten_bind_btTriangleMesh_getIndexedMeshArray_0=function(){return n.asm.Ah.apply(null,arguments)},vc=n._emscripten_bind_btTriangleMesh_setScaling_1=function(){return n.asm.Bh.apply(null,arguments)},gc=n._emscripten_bind_btTriangleMesh___destroy___0=function(){return n.asm.Ch.apply(null,arguments)},Ac=n._emscripten_bind_btCollisionConfiguration___destroy___0=function(){return n.asm.Dh.apply(null,arguments)},yc=n._emscripten_bind_btPersistentManifold_btPersistentManifold_0=function(){return n.asm.Eh.apply(null,arguments)},xc=n._emscripten_bind_btPersistentManifold_getBody0_0=function(){return n.asm.Fh.apply(null,arguments)},bc=n._emscripten_bind_btPersistentManifold_getBody1_0=function(){return n.asm.Gh.apply(null,arguments)},Cc=n._emscripten_bind_btPersistentManifold_getNumContacts_0=function(){return n.asm.Hh.apply(null,arguments)},Sc=n._emscripten_bind_btPersistentManifold_getContactPoint_1=function(){return n.asm.Ih.apply(null,arguments)},Ec=n._emscripten_bind_btPersistentManifold___destroy___0=function(){return n.asm.Jh.apply(null,arguments)},wc=n._emscripten_bind_btBoxShape_btBoxShape_1=function(){return n.asm.Kh.apply(null,arguments)},Tc=n._emscripten_bind_btBoxShape_setMargin_1=function(){return n.asm.Lh.apply(null,arguments)},Pc=n._emscripten_bind_btBoxShape_getMargin_0=function(){return n.asm.Mh.apply(null,arguments)},Ic=n._emscripten_bind_btBoxShape_setUnscaledHalfExtents_1=function(){return n.asm.Nh.apply(null,arguments)},Rc=n._emscripten_bind_btBoxShape_setLocalScaling_1=function(){return n.asm.Oh.apply(null,arguments)},Nc=n._emscripten_bind_btBoxShape_getLocalScaling_0=function(){return n.asm.Ph.apply(null,arguments)},Dc=n._emscripten_bind_btBoxShape_calculateLocalInertia_2=function(){return n.asm.Qh.apply(null,arguments)},Mc=n._emscripten_bind_btBoxShape_isCompound_0=function(){return n.asm.Rh.apply(null,arguments)},Oc=n._emscripten_bind_btBoxShape_getUserIndex_0=function(){return n.asm.Sh.apply(null,arguments)},Lc=n._emscripten_bind_btBoxShape_setUserIndex_1=function(){return n.asm.Th.apply(null,arguments)},zc=n._emscripten_bind_btBoxShape_getAabb_3=function(){return n.asm.Uh.apply(null,arguments)},Fc=n._emscripten_bind_btBoxShape_getLocalBoundingSphere_0=function(){return n.asm.Vh.apply(null,arguments)},Bc=n._emscripten_bind_btBoxShape_getImplicitShapeDimensions_0=function(){return n.asm.Wh.apply(null,arguments)},Uc=n._emscripten_bind_btBoxShape___destroy___0=function(){return n.asm.Xh.apply(null,arguments)},jc=n._emscripten_bind_btCapsuleShape_btCapsuleShape_2=function(){return n.asm.Yh.apply(null,arguments)},kc=n._emscripten_bind_btCapsuleShape_setMargin_1=function(){return n.asm.Zh.apply(null,arguments)},Gc=n._emscripten_bind_btCapsuleShape_getMargin_0=function(){return n.asm._h.apply(null,arguments)},Hc=n._emscripten_bind_btCapsuleShape_updateProp_3=function(){return n.asm.$h.apply(null,arguments)},Vc=n._emscripten_bind_btCapsuleShape_setLocalScaling_1=function(){return n.asm.ai.apply(null,arguments)},Wc=n._emscripten_bind_btCapsuleShape_getLocalScaling_0=function(){return n.asm.bi.apply(null,arguments)},qc=n._emscripten_bind_btCapsuleShape_calculateLocalInertia_2=function(){return n.asm.ci.apply(null,arguments)},Yc=n._emscripten_bind_btCapsuleShape_isCompound_0=function(){return n.asm.di.apply(null,arguments)},Xc=n._emscripten_bind_btCapsuleShape_getUserIndex_0=function(){return n.asm.ei.apply(null,arguments)},Qc=n._emscripten_bind_btCapsuleShape_setUserIndex_1=function(){return n.asm.fi.apply(null,arguments)},Zc=n._emscripten_bind_btCapsuleShape_getAabb_3=function(){return n.asm.gi.apply(null,arguments)},Jc=n._emscripten_bind_btCapsuleShape_getLocalBoundingSphere_0=function(){return n.asm.hi.apply(null,arguments)},Kc=n._emscripten_bind_btCapsuleShape_getImplicitShapeDimensions_0=function(){return n.asm.ii.apply(null,arguments)},$c=n._emscripten_bind_btCapsuleShape___destroy___0=function(){return n.asm.ji.apply(null,arguments)},el=n._emscripten_bind_btCompoundShape_btCompoundShape_0=function(){return n.asm.ki.apply(null,arguments)},tl=n._emscripten_bind_btCompoundShape_btCompoundShape_1=function(){return n.asm.li.apply(null,arguments)},nl=n._emscripten_bind_btCompoundShape_addChildShape_2=function(){return n.asm.mi.apply(null,arguments)},il=n._emscripten_bind_btCompoundShape_removeChildShape_1=function(){return n.asm.ni.apply(null,arguments)},ol=n._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1=function(){return n.asm.oi.apply(null,arguments)},rl=n._emscripten_bind_btCompoundShape_getNumChildShapes_0=function(){return n.asm.pi.apply(null,arguments)},al=n._emscripten_bind_btCompoundShape_getChildShape_1=function(){return n.asm.qi.apply(null,arguments)},sl=n._emscripten_bind_btCompoundShape_updateChildTransform_2=function(){return n.asm.ri.apply(null,arguments)},cl=n._emscripten_bind_btCompoundShape_updateChildTransform_3=function(){return n.asm.si.apply(null,arguments)},ll=n._emscripten_bind_btCompoundShape_setMargin_1=function(){return n.asm.ti.apply(null,arguments)},pl=n._emscripten_bind_btCompoundShape_getMargin_0=function(){return n.asm.ui.apply(null,arguments)},ul=n._emscripten_bind_btCompoundShape_setMaterial_3=function(){return n.asm.vi.apply(null,arguments)},_l=n._emscripten_bind_btCompoundShape_setMaterial_4=function(){return n.asm.wi.apply(null,arguments)},fl=n._emscripten_bind_btCompoundShape_setMaterial_5=function(){return n.asm.xi.apply(null,arguments)},hl=n._emscripten_bind_btCompoundShape_setMaterial_6=function(){return n.asm.yi.apply(null,arguments)},ml=n._emscripten_bind_btCompoundShape_setLocalScaling_1=function(){return n.asm.zi.apply(null,arguments)},dl=n._emscripten_bind_btCompoundShape_getLocalScaling_0=function(){return n.asm.Ai.apply(null,arguments)},vl=n._emscripten_bind_btCompoundShape_calculateLocalInertia_2=function(){return n.asm.Bi.apply(null,arguments)},gl=n._emscripten_bind_btCompoundShape_isCompound_0=function(){return n.asm.Ci.apply(null,arguments)},Al=n._emscripten_bind_btCompoundShape_getUserIndex_0=function(){return n.asm.Di.apply(null,arguments)},yl=n._emscripten_bind_btCompoundShape_setUserIndex_1=function(){return n.asm.Ei.apply(null,arguments)},xl=n._emscripten_bind_btCompoundShape_getAabb_3=function(){return n.asm.Fi.apply(null,arguments)},bl=n._emscripten_bind_btCompoundShape_getLocalBoundingSphere_0=function(){return n.asm.Gi.apply(null,arguments)},Cl=n._emscripten_bind_btCompoundShape___destroy___0=function(){return n.asm.Hi.apply(null,arguments)},Sl=n._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0=function(){return n.asm.Ii.apply(null,arguments)},El=n._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1=function(){return n.asm.Ji.apply(null,arguments)},wl=n._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2=function(){return n.asm.Ki.apply(null,arguments)},Tl=n._emscripten_bind_btDefaultMotionState_getWorldTransform_1=function(){return n.asm.Li.apply(null,arguments)},Pl=n._emscripten_bind_btDefaultMotionState_setWorldTransform_1=function(){return n.asm.Mi.apply(null,arguments)},Il=n._emscripten_bind_btDefaultMotionState___destroy___0=function(){return n.asm.Ni.apply(null,arguments)},Rl=n._emscripten_bind_AllHitsRayResultCallback_AllHitsRayResultCallback_2=function(){return n.asm.Oi.apply(null,arguments)},Nl=n._emscripten_bind_AllHitsRayResultCallback_hasHit_0=function(){return n.asm.Pi.apply(null,arguments)},Dl=n._emscripten_bind_AllHitsRayResultCallback_setUseCC_1=function(){return n.asm.Qi.apply(null,arguments)},Ml=n._emscripten_bind_AllHitsRayResultCallback_get_m_collisionObjects_0=function(){return n.asm.Ri.apply(null,arguments)},Ol=n._emscripten_bind_AllHitsRayResultCallback_set_m_collisionObjects_1=function(){return n.asm.Si.apply(null,arguments)},Ll=n._emscripten_bind_AllHitsRayResultCallback_get_m_rayFromWorld_0=function(){return n.asm.Ti.apply(null,arguments)},zl=n._emscripten_bind_AllHitsRayResultCallback_set_m_rayFromWorld_1=function(){return n.asm.Ui.apply(null,arguments)},Fl=n._emscripten_bind_AllHitsRayResultCallback_get_m_rayToWorld_0=function(){return n.asm.Vi.apply(null,arguments)},Bl=n._emscripten_bind_AllHitsRayResultCallback_set_m_rayToWorld_1=function(){return n.asm.Wi.apply(null,arguments)},Ul=n._emscripten_bind_AllHitsRayResultCallback_get_m_hitNormalWorld_0=function(){return n.asm.Xi.apply(null,arguments)},jl=n._emscripten_bind_AllHitsRayResultCallback_set_m_hitNormalWorld_1=function(){return n.asm.Yi.apply(null,arguments)},kl=n._emscripten_bind_AllHitsRayResultCallback_get_m_hitPointWorld_0=function(){return n.asm.Zi.apply(null,arguments)},Gl=n._emscripten_bind_AllHitsRayResultCallback_set_m_hitPointWorld_1=function(){return n.asm._i.apply(null,arguments)},Hl=n._emscripten_bind_AllHitsRayResultCallback_get_m_hitFractions_0=function(){return n.asm.$i.apply(null,arguments)},Vl=n._emscripten_bind_AllHitsRayResultCallback_set_m_hitFractions_1=function(){return n.asm.aj.apply(null,arguments)},Wl=n._emscripten_bind_AllHitsRayResultCallback_get_m_shapeParts_0=function(){return n.asm.bj.apply(null,arguments)},ql=n._emscripten_bind_AllHitsRayResultCallback_set_m_shapeParts_1=function(){return n.asm.cj.apply(null,arguments)},Yl=n._emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterGroup_0=function(){return n.asm.dj.apply(null,arguments)},Xl=n._emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterGroup_1=function(){return n.asm.ej.apply(null,arguments)},Ql=n._emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterMask_0=function(){return n.asm.fj.apply(null,arguments)},Zl=n._emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterMask_1=function(){return n.asm.gj.apply(null,arguments)},Jl=n._emscripten_bind_AllHitsRayResultCallback_get_m_shapePart_0=function(){return n.asm.hj.apply(null,arguments)},Kl=n._emscripten_bind_AllHitsRayResultCallback_set_m_shapePart_1=function(){return n.asm.ij.apply(null,arguments)},$l=n._emscripten_bind_AllHitsRayResultCallback_get_m_closestHitFraction_0=function(){return n.asm.jj.apply(null,arguments)},ep=n._emscripten_bind_AllHitsRayResultCallback_set_m_closestHitFraction_1=function(){return n.asm.kj.apply(null,arguments)},tp=n._emscripten_bind_AllHitsRayResultCallback_get_m_collisionObject_0=function(){return n.asm.lj.apply(null,arguments)},np=n._emscripten_bind_AllHitsRayResultCallback_set_m_collisionObject_1=function(){return n.asm.mj.apply(null,arguments)},ip=n._emscripten_bind_AllHitsRayResultCallback___destroy___0=function(){return n.asm.nj.apply(null,arguments)},op=n._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2=function(){return n.asm.oj.apply(null,arguments)},rp=n._emscripten_bind_ClosestRayResultCallback_hasHit_0=function(){return n.asm.pj.apply(null,arguments)},ap=n._emscripten_bind_ClosestRayResultCallback_setUseCC_1=function(){return n.asm.qj.apply(null,arguments)},sp=n._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0=function(){return n.asm.rj.apply(null,arguments)},cp=n._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1=function(){return n.asm.sj.apply(null,arguments)},lp=n._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0=function(){return n.asm.tj.apply(null,arguments)},pp=n._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1=function(){return n.asm.uj.apply(null,arguments)},up=n._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0=function(){return n.asm.vj.apply(null,arguments)},_p=n._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1=function(){return n.asm.wj.apply(null,arguments)},fp=n._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0=function(){return n.asm.xj.apply(null,arguments)},hp=n._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1=function(){return n.asm.yj.apply(null,arguments)},mp=n._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0=function(){return n.asm.zj.apply(null,arguments)},dp=n._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1=function(){return n.asm.Aj.apply(null,arguments)},vp=n._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0=function(){return n.asm.Bj.apply(null,arguments)},gp=n._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1=function(){return n.asm.Cj.apply(null,arguments)},Ap=n._emscripten_bind_ClosestRayResultCallback_get_m_shapePart_0=function(){return n.asm.Dj.apply(null,arguments)},yp=n._emscripten_bind_ClosestRayResultCallback_set_m_shapePart_1=function(){return n.asm.Ej.apply(null,arguments)},xp=n._emscripten_bind_ClosestRayResultCallback_get_m_closestHitFraction_0=function(){return n.asm.Fj.apply(null,arguments)},bp=n._emscripten_bind_ClosestRayResultCallback_set_m_closestHitFraction_1=function(){return n.asm.Gj.apply(null,arguments)},Cp=n._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0=function(){return n.asm.Hj.apply(null,arguments)},Sp=n._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1=function(){return n.asm.Ij.apply(null,arguments)},Ep=n._emscripten_bind_ClosestRayResultCallback___destroy___0=function(){return n.asm.Jj.apply(null,arguments)},wp=n._emscripten_bind_ccKinematicCharacterController_ccKinematicCharacterController_3=function(){return n.asm.Kj.apply(null,arguments)},Tp=n._emscripten_bind_ccKinematicCharacterController_ccKinematicCharacterController_4=function(){return n.asm.Lj.apply(null,arguments)},Pp=n._emscripten_bind_ccKinematicCharacterController_setUpAxis_1=function(){return n.asm.Mj.apply(null,arguments)},Ip=n._emscripten_bind_ccKinematicCharacterController_setWalkDirection_1=function(){return n.asm.Nj.apply(null,arguments)},Rp=n._emscripten_bind_ccKinematicCharacterController_setVelocityForTimeInterval_2=function(){return n.asm.Oj.apply(null,arguments)},Np=n._emscripten_bind_ccKinematicCharacterController_warp_1=function(){return n.asm.Pj.apply(null,arguments)},Dp=n._emscripten_bind_ccKinematicCharacterController_preStep_1=function(){return n.asm.Qj.apply(null,arguments)},Mp=n._emscripten_bind_ccKinematicCharacterController_playerStep_2=function(){return n.asm.Rj.apply(null,arguments)},Op=n._emscripten_bind_ccKinematicCharacterController_setFallSpeed_1=function(){return n.asm.Sj.apply(null,arguments)},Lp=n._emscripten_bind_ccKinematicCharacterController_setJumpSpeed_1=function(){return n.asm.Tj.apply(null,arguments)},zp=n._emscripten_bind_ccKinematicCharacterController_setMaxJumpHeight_1=function(){return n.asm.Uj.apply(null,arguments)},Fp=n._emscripten_bind_ccKinematicCharacterController_canJump_0=function(){return n.asm.Vj.apply(null,arguments)},Bp=n._emscripten_bind_ccKinematicCharacterController_jump_0=function(){return n.asm.Wj.apply(null,arguments)},Up=n._emscripten_bind_ccKinematicCharacterController_setGravity_1=function(){return n.asm.Xj.apply(null,arguments)},jp=n._emscripten_bind_ccKinematicCharacterController_getGravity_0=function(){return n.asm.Yj.apply(null,arguments)},kp=n._emscripten_bind_ccKinematicCharacterController_setMaxSlope_1=function(){return n.asm.Zj.apply(null,arguments)},Gp=n._emscripten_bind_ccKinematicCharacterController_getMaxSlope_0=function(){return n.asm._j.apply(null,arguments)},Hp=n._emscripten_bind_ccKinematicCharacterController_getGhostObject_0=function(){return n.asm.$j.apply(null,arguments)},Vp=n._emscripten_bind_ccKinematicCharacterController_setUseGhostSweepTest_1=function(){return n.asm.ak.apply(null,arguments)},Wp=n._emscripten_bind_ccKinematicCharacterController_onGround_0=function(){return n.asm.bk.apply(null,arguments)},qp=n._emscripten_bind_ccKinematicCharacterController_setUpInterpolate_1=function(){return n.asm.ck.apply(null,arguments)},Yp=n._emscripten_bind_ccKinematicCharacterController_updateAction_2=function(){return n.asm.dk.apply(null,arguments)},Xp=n._emscripten_bind_ccKinematicCharacterController___destroy___0=function(){return n.asm.ek.apply(null,arguments)},Qp=n._emscripten_bind_btHingeConstraint_btHingeConstraint_2=function(){return n.asm.fk.apply(null,arguments)},Zp=n._emscripten_bind_btHingeConstraint_btHingeConstraint_3=function(){return n.asm.gk.apply(null,arguments)},Jp=n._emscripten_bind_btHingeConstraint_btHingeConstraint_4=function(){return n.asm.hk.apply(null,arguments)},Kp=n._emscripten_bind_btHingeConstraint_btHingeConstraint_5=function(){return n.asm.ik.apply(null,arguments)},$p=n._emscripten_bind_btHingeConstraint_btHingeConstraint_6=function(){return n.asm.jk.apply(null,arguments)},eu=n._emscripten_bind_btHingeConstraint_btHingeConstraint_7=function(){return n.asm.kk.apply(null,arguments)},tu=n._emscripten_bind_btHingeConstraint_setLimit_4=function(){return n.asm.lk.apply(null,arguments)},nu=n._emscripten_bind_btHingeConstraint_setLimit_5=function(){return n.asm.mk.apply(null,arguments)},iu=n._emscripten_bind_btHingeConstraint_enableAngularMotor_3=function(){return n.asm.nk.apply(null,arguments)},ou=n._emscripten_bind_btHingeConstraint_setAngularOnly_1=function(){return n.asm.ok.apply(null,arguments)},ru=n._emscripten_bind_btHingeConstraint_enableMotor_1=function(){return n.asm.pk.apply(null,arguments)},au=n._emscripten_bind_btHingeConstraint_setMaxMotorImpulse_1=function(){return n.asm.qk.apply(null,arguments)},su=n._emscripten_bind_btHingeConstraint_setMotorTarget_2=function(){return n.asm.rk.apply(null,arguments)},cu=n._emscripten_bind_btHingeConstraint_setFrames_2=function(){return n.asm.sk.apply(null,arguments)},lu=n._emscripten_bind_btHingeConstraint_setAxis_1=function(){return n.asm.tk.apply(null,arguments)},pu=n._emscripten_bind_btHingeConstraint_setUseReferenceFrameA_1=function(){return n.asm.uk.apply(null,arguments)},uu=n._emscripten_bind_btHingeConstraint_enableFeedback_1=function(){return n.asm.vk.apply(null,arguments)},_u=n._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0=function(){return n.asm.wk.apply(null,arguments)},fu=n._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1=function(){return n.asm.xk.apply(null,arguments)},hu=n._emscripten_bind_btHingeConstraint_getParam_2=function(){return n.asm.yk.apply(null,arguments)},mu=n._emscripten_bind_btHingeConstraint_setParam_3=function(){return n.asm.zk.apply(null,arguments)},du=n._emscripten_bind_btHingeConstraint___destroy___0=function(){return n.asm.Ak.apply(null,arguments)},vu=n._emscripten_bind_btQuaternion_btQuaternion_4=function(){return n.asm.Bk.apply(null,arguments)},gu=n._emscripten_bind_btQuaternion_setValue_4=function(){return n.asm.Ck.apply(null,arguments)},Au=n._emscripten_bind_btQuaternion_x_0=function(){return n.asm.Dk.apply(null,arguments)},yu=n._emscripten_bind_btQuaternion_y_0=function(){return n.asm.Ek.apply(null,arguments)},xu=n._emscripten_bind_btQuaternion_z_0=function(){return n.asm.Fk.apply(null,arguments)},bu=n._emscripten_bind_btQuaternion_w_0=function(){return n.asm.Gk.apply(null,arguments)},Cu=n._emscripten_bind_btQuaternion_setX_1=function(){return n.asm.Hk.apply(null,arguments)},Su=n._emscripten_bind_btQuaternion_setY_1=function(){return n.asm.Ik.apply(null,arguments)},Eu=n._emscripten_bind_btQuaternion_setZ_1=function(){return n.asm.Jk.apply(null,arguments)},wu=n._emscripten_bind_btQuaternion_setW_1=function(){return n.asm.Kk.apply(null,arguments)},Tu=n._emscripten_bind_btQuaternion___destroy___0=function(){return n.asm.Lk.apply(null,arguments)},Pu=n._emscripten_bind_btBU_Simplex1to4_btBU_Simplex1to4_0=function(){return n.asm.Mk.apply(null,arguments)},Iu=n._emscripten_bind_btBU_Simplex1to4_addVertex_1=function(){return n.asm.Nk.apply(null,arguments)},Ru=n._emscripten_bind_btBU_Simplex1to4_setLocalScaling_1=function(){return n.asm.Ok.apply(null,arguments)},Nu=n._emscripten_bind_btBU_Simplex1to4_getLocalScaling_0=function(){return n.asm.Pk.apply(null,arguments)},Du=n._emscripten_bind_btBU_Simplex1to4_calculateLocalInertia_2=function(){return n.asm.Qk.apply(null,arguments)},Mu=n._emscripten_bind_btBU_Simplex1to4_isCompound_0=function(){return n.asm.Rk.apply(null,arguments)},Ou=n._emscripten_bind_btBU_Simplex1to4_getUserIndex_0=function(){return n.asm.Sk.apply(null,arguments)},Lu=n._emscripten_bind_btBU_Simplex1to4_setUserIndex_1=function(){return n.asm.Tk.apply(null,arguments)},zu=n._emscripten_bind_btBU_Simplex1to4_getAabb_3=function(){return n.asm.Uk.apply(null,arguments)},Fu=n._emscripten_bind_btBU_Simplex1to4_getLocalBoundingSphere_0=function(){return n.asm.Vk.apply(null,arguments)},Bu=n._emscripten_bind_btBU_Simplex1to4___destroy___0=function(){return n.asm.Wk.apply(null,arguments)},Uu=n._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0=function(){return n.asm.Xk.apply(null,arguments)},ju=n._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1=function(){return n.asm.Yk.apply(null,arguments)},ku=n._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0=function(){return n.asm.Zk.apply(null,arguments)},Gu=n._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1=function(){return n.asm._k.apply(null,arguments)},Hu=n._emscripten_bind_btContactSolverInfo_get_m_numIterations_0=function(){return n.asm.$k.apply(null,arguments)},Vu=n._emscripten_bind_btContactSolverInfo_set_m_numIterations_1=function(){return n.asm.al.apply(null,arguments)},Wu=n._emscripten_bind_btContactSolverInfo___destroy___0=function(){return n.asm.bl.apply(null,arguments)},qu=n._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3=function(){return n.asm.cl.apply(null,arguments)},Yu=n._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4=function(){return n.asm.dl.apply(null,arguments)},Xu=n._emscripten_bind_btKinematicCharacterController_setUp_1=function(){return n.asm.el.apply(null,arguments)},Qu=n._emscripten_bind_btKinematicCharacterController_setWalkDirection_1=function(){return n.asm.fl.apply(null,arguments)},Zu=n._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2=function(){return n.asm.gl.apply(null,arguments)},Ju=n._emscripten_bind_btKinematicCharacterController_reset_1=function(){return n.asm.hl.apply(null,arguments)},Ku=n._emscripten_bind_btKinematicCharacterController_warp_1=function(){return n.asm.il.apply(null,arguments)},$u=n._emscripten_bind_btKinematicCharacterController_preStep_1=function(){return n.asm.jl.apply(null,arguments)},e_=n._emscripten_bind_btKinematicCharacterController_playerStep_2=function(){return n.asm.kl.apply(null,arguments)},t_=n._emscripten_bind_btKinematicCharacterController_setFallSpeed_1=function(){return n.asm.ll.apply(null,arguments)},n_=n._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1=function(){return n.asm.ml.apply(null,arguments)},i_=n._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1=function(){return n.asm.nl.apply(null,arguments)},o_=n._emscripten_bind_btKinematicCharacterController_canJump_0=function(){return n.asm.ol.apply(null,arguments)},r_=n._emscripten_bind_btKinematicCharacterController_jump_0=function(){return n.asm.pl.apply(null,arguments)},a_=n._emscripten_bind_btKinematicCharacterController_jump_1=function(){return n.asm.ql.apply(null,arguments)},s_=n._emscripten_bind_btKinematicCharacterController_setGravity_1=function(){return n.asm.rl.apply(null,arguments)},c_=n._emscripten_bind_btKinematicCharacterController_getGravity_0=function(){return n.asm.sl.apply(null,arguments)},l_=n._emscripten_bind_btKinematicCharacterController_setMaxSlope_1=function(){return n.asm.tl.apply(null,arguments)},p_=n._emscripten_bind_btKinematicCharacterController_getMaxSlope_0=function(){return n.asm.ul.apply(null,arguments)},u_=n._emscripten_bind_btKinematicCharacterController_getGhostObject_0=function(){return n.asm.vl.apply(null,arguments)},__=n._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1=function(){return n.asm.wl.apply(null,arguments)},f_=n._emscripten_bind_btKinematicCharacterController_onGround_0=function(){return n.asm.xl.apply(null,arguments)},h_=n._emscripten_bind_btKinematicCharacterController_setUpInterpolate_1=function(){return n.asm.yl.apply(null,arguments)},m_=n._emscripten_bind_btKinematicCharacterController_updateAction_2=function(){return n.asm.zl.apply(null,arguments)},d_=n._emscripten_bind_btKinematicCharacterController___destroy___0=function(){return n.asm.Al.apply(null,arguments)},v_=n._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2=function(){return n.asm.Bl.apply(null,arguments)},g_=n._emscripten_bind_btStaticPlaneShape_getPlaneNormal_0=function(){return n.asm.Cl.apply(null,arguments)},A_=n._emscripten_bind_btStaticPlaneShape_setPlaneConstant_1=function(){return n.asm.Dl.apply(null,arguments)},y_=n._emscripten_bind_btStaticPlaneShape_setLocalScaling_1=function(){return n.asm.El.apply(null,arguments)},x_=n._emscripten_bind_btStaticPlaneShape_getLocalScaling_0=function(){return n.asm.Fl.apply(null,arguments)},b_=n._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2=function(){return n.asm.Gl.apply(null,arguments)},C_=n._emscripten_bind_btStaticPlaneShape_isCompound_0=function(){return n.asm.Hl.apply(null,arguments)},S_=n._emscripten_bind_btStaticPlaneShape_getUserIndex_0=function(){return n.asm.Il.apply(null,arguments)},E_=n._emscripten_bind_btStaticPlaneShape_setUserIndex_1=function(){return n.asm.Jl.apply(null,arguments)},w_=n._emscripten_bind_btStaticPlaneShape_getAabb_3=function(){return n.asm.Kl.apply(null,arguments)},T_=n._emscripten_bind_btStaticPlaneShape_getLocalBoundingSphere_0=function(){return n.asm.Ll.apply(null,arguments)},P_=n._emscripten_bind_btStaticPlaneShape___destroy___0=function(){return n.asm.Ml.apply(null,arguments)},I_=n._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1=function(){return n.asm.Nl.apply(null,arguments)},R_=n._emscripten_bind_btOverlappingPairCache_setOverlapFilterCallback_1=function(){return n.asm.Ol.apply(null,arguments)},N_=n._emscripten_bind_btOverlappingPairCache_getNumOverlappingPairs_0=function(){return n.asm.Pl.apply(null,arguments)},D_=n._emscripten_bind_btOverlappingPairCache___destroy___0=function(){return n.asm.Ql.apply(null,arguments)},M_=n._emscripten_bind_btVector3_btVector3_0=function(){return n.asm.Rl.apply(null,arguments)},O_=n._emscripten_bind_btVector3_btVector3_3=function(){return n.asm.Sl.apply(null,arguments)},L_=n._emscripten_bind_btVector3_x_0=function(){return n.asm.Tl.apply(null,arguments)},z_=n._emscripten_bind_btVector3_y_0=function(){return n.asm.Ul.apply(null,arguments)},F_=n._emscripten_bind_btVector3_z_0=function(){return n.asm.Vl.apply(null,arguments)},B_=n._emscripten_bind_btVector3_setX_1=function(){return n.asm.Wl.apply(null,arguments)},U_=n._emscripten_bind_btVector3_setY_1=function(){return n.asm.Xl.apply(null,arguments)},j_=n._emscripten_bind_btVector3_setZ_1=function(){return n.asm.Yl.apply(null,arguments)},k_=n._emscripten_bind_btVector3_setValue_3=function(){return n.asm.Zl.apply(null,arguments)},G_=n._emscripten_bind_btVector3___destroy___0=function(){return n.asm._l.apply(null,arguments)},H_=n._emscripten_bind_btSphereShape_btSphereShape_1=function(){return n.asm.$l.apply(null,arguments)},V_=n._emscripten_bind_btSphereShape_setMargin_1=function(){return n.asm.am.apply(null,arguments)},W_=n._emscripten_bind_btSphereShape_getMargin_0=function(){return n.asm.bm.apply(null,arguments)},q_=n._emscripten_bind_btSphereShape_setUnscaledRadius_1=function(){return n.asm.cm.apply(null,arguments)},Y_=n._emscripten_bind_btSphereShape_setLocalScaling_1=function(){return n.asm.dm.apply(null,arguments)},X_=n._emscripten_bind_btSphereShape_getLocalScaling_0=function(){return n.asm.em.apply(null,arguments)},Q_=n._emscripten_bind_btSphereShape_calculateLocalInertia_2=function(){return n.asm.fm.apply(null,arguments)},Z_=n._emscripten_bind_btSphereShape_isCompound_0=function(){return n.asm.gm.apply(null,arguments)},J_=n._emscripten_bind_btSphereShape_getUserIndex_0=function(){return n.asm.hm.apply(null,arguments)},K_=n._emscripten_bind_btSphereShape_setUserIndex_1=function(){return n.asm.im.apply(null,arguments)},$_=n._emscripten_bind_btSphereShape_getAabb_3=function(){return n.asm.jm.apply(null,arguments)},ef=n._emscripten_bind_btSphereShape_getLocalBoundingSphere_0=function(){return n.asm.km.apply(null,arguments)},tf=n._emscripten_bind_btSphereShape_getImplicitShapeDimensions_0=function(){return n.asm.lm.apply(null,arguments)},nf=n._emscripten_bind_btSphereShape___destroy___0=function(){return n.asm.mm.apply(null,arguments)},of=n._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0=function(){return n.asm.nm.apply(null,arguments)},rf=n._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0=function(){return n.asm.om.apply(null,arguments)},af=n._emscripten_bind_btEmptyShape_btEmptyShape_0=function(){return n.asm.pm.apply(null,arguments)},sf=n._emscripten_bind_btEmptyShape_setLocalScaling_1=function(){return n.asm.qm.apply(null,arguments)},cf=n._emscripten_bind_btEmptyShape_getLocalScaling_0=function(){return n.asm.rm.apply(null,arguments)},lf=n._emscripten_bind_btEmptyShape_calculateLocalInertia_2=function(){return n.asm.sm.apply(null,arguments)},pf=n._emscripten_bind_btEmptyShape_isCompound_0=function(){return n.asm.tm.apply(null,arguments)},uf=n._emscripten_bind_btEmptyShape_getUserIndex_0=function(){return n.asm.um.apply(null,arguments)},_f=n._emscripten_bind_btEmptyShape_setUserIndex_1=function(){return n.asm.vm.apply(null,arguments)},ff=n._emscripten_bind_btEmptyShape_getAabb_3=function(){return n.asm.wm.apply(null,arguments)},hf=n._emscripten_bind_btEmptyShape_getLocalBoundingSphere_0=function(){return n.asm.xm.apply(null,arguments)},mf=n._emscripten_bind_btEmptyShape___destroy___0=function(){return n.asm.ym.apply(null,arguments)},df=n._emscripten_bind_btConstraintSetting_btConstraintSetting_0=function(){return n.asm.zm.apply(null,arguments)},vf=n._emscripten_bind_btConstraintSetting_get_m_tau_0=function(){return n.asm.Am.apply(null,arguments)},gf=n._emscripten_bind_btConstraintSetting_set_m_tau_1=function(){return n.asm.Bm.apply(null,arguments)},Af=n._emscripten_bind_btConstraintSetting_get_m_damping_0=function(){return n.asm.Cm.apply(null,arguments)},yf=n._emscripten_bind_btConstraintSetting_set_m_damping_1=function(){return n.asm.Dm.apply(null,arguments)},xf=n._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0=function(){return n.asm.Em.apply(null,arguments)},bf=n._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1=function(){return n.asm.Fm.apply(null,arguments)},Cf=n._emscripten_bind_btConstraintSetting___destroy___0=function(){return n.asm.Gm.apply(null,arguments)},Sf=n._emscripten_bind_LocalShapeInfo_get_m_shapePart_0=function(){return n.asm.Hm.apply(null,arguments)},Ef=n._emscripten_bind_LocalShapeInfo_set_m_shapePart_1=function(){return n.asm.Im.apply(null,arguments)},wf=n._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0=function(){return n.asm.Jm.apply(null,arguments)},Tf=n._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1=function(){return n.asm.Km.apply(null,arguments)},Pf=n._emscripten_bind_LocalShapeInfo___destroy___0=function(){return n.asm.Lm.apply(null,arguments)},If=n._emscripten_bind_btVector3Array_size_0=function(){return n.asm.Mm.apply(null,arguments)},Rf=n._emscripten_bind_btVector3Array_at_1=function(){return n.asm.Nm.apply(null,arguments)},Nf=n._emscripten_bind_btVector3Array_clear_0=function(){return n.asm.Om.apply(null,arguments)},Df=n._emscripten_bind_btVector3Array___destroy___0=function(){return n.asm.Pm.apply(null,arguments)},Mf=n._emscripten_bind_btConstraintSolver___destroy___0=function(){return n.asm.Qm.apply(null,arguments)},Of=n._emscripten_bind_btFixedConstraint_btFixedConstraint_4=function(){return n.asm.Rm.apply(null,arguments)},Lf=n._emscripten_bind_btFixedConstraint_enableFeedback_1=function(){return n.asm.Sm.apply(null,arguments)},zf=n._emscripten_bind_btFixedConstraint_getBreakingImpulseThreshold_0=function(){return n.asm.Tm.apply(null,arguments)},Ff=n._emscripten_bind_btFixedConstraint_setBreakingImpulseThreshold_1=function(){return n.asm.Um.apply(null,arguments)},Bf=n._emscripten_bind_btFixedConstraint_getParam_2=function(){return n.asm.Vm.apply(null,arguments)},Uf=n._emscripten_bind_btFixedConstraint_setParam_3=function(){return n.asm.Wm.apply(null,arguments)},jf=n._emscripten_bind_btFixedConstraint___destroy___0=function(){return n.asm.Xm.apply(null,arguments)},kf=n._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1=function(){return n.asm.Ym.apply(null,arguments)},Gf=n._emscripten_bind_btCollisionDispatcher_setDispatcherFlags_1=function(){return n.asm.Zm.apply(null,arguments)},Hf=n._emscripten_bind_btCollisionDispatcher_getNumManifolds_0=function(){return n.asm._m.apply(null,arguments)},Vf=n._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1=function(){return n.asm.$m.apply(null,arguments)},Wf=n._emscripten_bind_btCollisionDispatcher___destroy___0=function(){return n.asm.an.apply(null,arguments)},qf=n._emscripten_bind_btRigidBody_btRigidBody_1=function(){return n.asm.bn.apply(null,arguments)},Yf=n._emscripten_bind_btRigidBody_getCenterOfMassTransform_0=function(){return n.asm.cn.apply(null,arguments)},Xf=n._emscripten_bind_btRigidBody_setCenterOfMassTransform_1=function(){return n.asm.dn.apply(null,arguments)},Qf=n._emscripten_bind_btRigidBody_setSleepingThresholds_2=function(){return n.asm.en.apply(null,arguments)},Zf=n._emscripten_bind_btRigidBody_getLinearSleepingThreshold_0=function(){return n.asm.fn.apply(null,arguments)},Jf=n._emscripten_bind_btRigidBody_getLinearDamping_0=function(){return n.asm.gn.apply(null,arguments)},Kf=n._emscripten_bind_btRigidBody_getAngularDamping_0=function(){return n.asm.hn.apply(null,arguments)},$f=n._emscripten_bind_btRigidBody_setDamping_2=function(){return n.asm.jn.apply(null,arguments)},eh=n._emscripten_bind_btRigidBody_setMassProps_2=function(){return n.asm.kn.apply(null,arguments)},th=n._emscripten_bind_btRigidBody_getLinearFactor_0=function(){return n.asm.ln.apply(null,arguments)},nh=n._emscripten_bind_btRigidBody_setLinearFactor_1=function(){return n.asm.mn.apply(null,arguments)},ih=n._emscripten_bind_btRigidBody_applyTorque_1=function(){return n.asm.nn.apply(null,arguments)},oh=n._emscripten_bind_btRigidBody_applyForce_2=function(){return n.asm.on.apply(null,arguments)},rh=n._emscripten_bind_btRigidBody_applyCentralForce_1=function(){return n.asm.pn.apply(null,arguments)},ah=n._emscripten_bind_btRigidBody_applyTorqueImpulse_1=function(){return n.asm.qn.apply(null,arguments)},sh=n._emscripten_bind_btRigidBody_applyImpulse_2=function(){return n.asm.rn.apply(null,arguments)},ch=n._emscripten_bind_btRigidBody_applyCentralImpulse_1=function(){return n.asm.sn.apply(null,arguments)},lh=n._emscripten_bind_btRigidBody_updateInertiaTensor_0=function(){return n.asm.tn.apply(null,arguments)},ph=n._emscripten_bind_btRigidBody_getLinearVelocity_0=function(){return n.asm.un.apply(null,arguments)},uh=n._emscripten_bind_btRigidBody_getAngularVelocity_0=function(){return n.asm.vn.apply(null,arguments)},_h=n._emscripten_bind_btRigidBody_setLinearVelocity_1=function(){return n.asm.wn.apply(null,arguments)},fh=n._emscripten_bind_btRigidBody_setAngularVelocity_1=function(){return n.asm.xn.apply(null,arguments)},hh=n._emscripten_bind_btRigidBody_getMotionState_0=function(){return n.asm.yn.apply(null,arguments)},mh=n._emscripten_bind_btRigidBody_setMotionState_1=function(){return n.asm.zn.apply(null,arguments)},dh=n._emscripten_bind_btRigidBody_getAngularFactor_0=function(){return n.asm.An.apply(null,arguments)},vh=n._emscripten_bind_btRigidBody_setAngularFactor_1=function(){return n.asm.Bn.apply(null,arguments)},gh=n._emscripten_bind_btRigidBody_upcast_1=function(){return n.asm.Cn.apply(null,arguments)},Ah=n._emscripten_bind_btRigidBody_getAabb_2=function(){return n.asm.Dn.apply(null,arguments)},yh=n._emscripten_bind_btRigidBody_applyGravity_0=function(){return n.asm.En.apply(null,arguments)},xh=n._emscripten_bind_btRigidBody_getGravity_0=function(){return n.asm.Fn.apply(null,arguments)},bh=n._emscripten_bind_btRigidBody_setGravity_1=function(){return n.asm.Gn.apply(null,arguments)},Ch=n._emscripten_bind_btRigidBody_getFlags_0=function(){return n.asm.Hn.apply(null,arguments)},Sh=n._emscripten_bind_btRigidBody_setFlags_1=function(){return n.asm.In.apply(null,arguments)},Eh=n._emscripten_bind_btRigidBody_wantsSleeping_0=function(){return n.asm.Jn.apply(null,arguments)},wh=n._emscripten_bind_btRigidBody_clearForces_0=function(){return n.asm.Kn.apply(null,arguments)},Th=n._emscripten_bind_btRigidBody_getTotalForce_0=function(){return n.asm.Ln.apply(null,arguments)},Ph=n._emscripten_bind_btRigidBody_getTotalTorque_0=function(){return n.asm.Mn.apply(null,arguments)},Ih=n._emscripten_bind_btRigidBody_clearState_0=function(){return n.asm.Nn.apply(null,arguments)},Rh=n._emscripten_bind_btRigidBody_setAnisotropicFriction_2=function(){return n.asm.On.apply(null,arguments)},Nh=n._emscripten_bind_btRigidBody_getCollisionShape_0=function(){return n.asm.Pn.apply(null,arguments)},Dh=n._emscripten_bind_btRigidBody_getActivationState_0=function(){return n.asm.Qn.apply(null,arguments)},Mh=n._emscripten_bind_btRigidBody_setActivationState_1=function(){return n.asm.Rn.apply(null,arguments)},Oh=n._emscripten_bind_btRigidBody_forceActivationState_1=function(){return n.asm.Sn.apply(null,arguments)},Lh=n._emscripten_bind_btRigidBody_activate_0=function(){return n.asm.Tn.apply(null,arguments)},zh=n._emscripten_bind_btRigidBody_activate_1=function(){return n.asm.Un.apply(null,arguments)},Fh=n._emscripten_bind_btRigidBody_isActive_0=function(){return n.asm.Vn.apply(null,arguments)},Bh=n._emscripten_bind_btRigidBody_isKinematicObject_0=function(){return n.asm.Wn.apply(null,arguments)},Uh=n._emscripten_bind_btRigidBody_isStaticObject_0=function(){return n.asm.Xn.apply(null,arguments)},jh=n._emscripten_bind_btRigidBody_isStaticOrKinematicObject_0=function(){return n.asm.Yn.apply(null,arguments)},kh=n._emscripten_bind_btRigidBody_setRestitution_1=function(){return n.asm.Zn.apply(null,arguments)},Gh=n._emscripten_bind_btRigidBody_setFriction_1=function(){return n.asm._n.apply(null,arguments)},Hh=n._emscripten_bind_btRigidBody_setRollingFriction_1=function(){return n.asm.$n.apply(null,arguments)},Vh=n._emscripten_bind_btRigidBody_setSpinningFriction_1=function(){return n.asm.ao.apply(null,arguments)},Wh=n._emscripten_bind_btRigidBody_getWorldTransform_0=function(){return n.asm.bo.apply(null,arguments)},qh=n._emscripten_bind_btRigidBody_getCollisionFlags_0=function(){return n.asm.co.apply(null,arguments)},Yh=n._emscripten_bind_btRigidBody_setCollisionFlags_1=function(){return n.asm.eo.apply(null,arguments)},Xh=n._emscripten_bind_btRigidBody_setWorldTransform_1=function(){return n.asm.fo.apply(null,arguments)},Qh=n._emscripten_bind_btRigidBody_setCollisionShape_1=function(){return n.asm.go.apply(null,arguments)},Zh=n._emscripten_bind_btRigidBody_setCcdMotionThreshold_1=function(){return n.asm.ho.apply(null,arguments)},Jh=n._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1=function(){return n.asm.io.apply(null,arguments)},Kh=n._emscripten_bind_btRigidBody_getUserIndex_0=function(){return n.asm.jo.apply(null,arguments)},$h=n._emscripten_bind_btRigidBody_setUserIndex_1=function(){return n.asm.ko.apply(null,arguments)},em=n._emscripten_bind_btRigidBody_setUserIndex2_1=function(){return n.asm.lo.apply(null,arguments)},tm=n._emscripten_bind_btRigidBody_setIgnoreCollisionCheck_2=function(){return n.asm.mo.apply(null,arguments)},nm=n._emscripten_bind_btRigidBody___destroy___0=function(){return n.asm.no.apply(null,arguments)},im=n._emscripten_bind_btIndexedMeshArray_size_0=function(){return n.asm.oo.apply(null,arguments)},om=n._emscripten_bind_btIndexedMeshArray_at_1=function(){return n.asm.po.apply(null,arguments)},rm=n._emscripten_bind_btIndexedMeshArray___destroy___0=function(){return n.asm.qo.apply(null,arguments)},am=n._emscripten_bind_btTransform_btTransform_0=function(){return n.asm.ro.apply(null,arguments)},sm=n._emscripten_bind_btTransform_btTransform_2=function(){return n.asm.so.apply(null,arguments)},cm=n._emscripten_bind_btTransform_setIdentity_0=function(){return n.asm.to.apply(null,arguments)},lm=n._emscripten_bind_btTransform_setOrigin_1=function(){return n.asm.uo.apply(null,arguments)},pm=n._emscripten_bind_btTransform_setRotation_1=function(){return n.asm.vo.apply(null,arguments)},um=n._emscripten_bind_btTransform_getOrigin_0=function(){return n.asm.wo.apply(null,arguments)},_m=n._emscripten_bind_btTransform_getRotation_0=function(){return n.asm.xo.apply(null,arguments)},fm=n._emscripten_bind_btTransform_getBasis_0=function(){return n.asm.yo.apply(null,arguments)},hm=n._emscripten_bind_btTransform_inverse_0=function(){return n.asm.zo.apply(null,arguments)},mm=n._emscripten_bind_btTransform_op_mul_1=function(){return n.asm.Ao.apply(null,arguments)},dm=n._emscripten_bind_btTransform___destroy___0=function(){return n.asm.Bo.apply(null,arguments)},vm=n._emscripten_bind_btCylinderShape_btCylinderShape_1=function(){return n.asm.Co.apply(null,arguments)},gm=n._emscripten_bind_btCylinderShape_setMargin_1=function(){return n.asm.Do.apply(null,arguments)},Am=n._emscripten_bind_btCylinderShape_getMargin_0=function(){return n.asm.Eo.apply(null,arguments)},ym=n._emscripten_bind_btCylinderShape_updateProp_3=function(){return n.asm.Fo.apply(null,arguments)},xm=n._emscripten_bind_btCylinderShape_setLocalScaling_1=function(){return n.asm.Go.apply(null,arguments)},bm=n._emscripten_bind_btCylinderShape_getLocalScaling_0=function(){return n.asm.Ho.apply(null,arguments)},Cm=n._emscripten_bind_btCylinderShape_calculateLocalInertia_2=function(){return n.asm.Io.apply(null,arguments)},Sm=n._emscripten_bind_btCylinderShape_isCompound_0=function(){return n.asm.Jo.apply(null,arguments)},Em=n._emscripten_bind_btCylinderShape_getUserIndex_0=function(){return n.asm.Ko.apply(null,arguments)},wm=n._emscripten_bind_btCylinderShape_setUserIndex_1=function(){return n.asm.Lo.apply(null,arguments)},Tm=n._emscripten_bind_btCylinderShape_getAabb_3=function(){return n.asm.Mo.apply(null,arguments)},Pm=n._emscripten_bind_btCylinderShape_getLocalBoundingSphere_0=function(){return n.asm.No.apply(null,arguments)},Im=n._emscripten_bind_btCylinderShape_getImplicitShapeDimensions_0=function(){return n.asm.Oo.apply(null,arguments)},Rm=n._emscripten_bind_btCylinderShape___destroy___0=function(){return n.asm.Po.apply(null,arguments)},Nm=n._emscripten_enum_btConstraintParams_BT_CONSTRAINT_ERP=function(){return n.asm.Qo.apply(null,arguments)},Dm=n._emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_ERP=function(){return n.asm.Ro.apply(null,arguments)},Mm=n._emscripten_enum_btConstraintParams_BT_CONSTRAINT_CFM=function(){return n.asm.So.apply(null,arguments)},Om=n._emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_CFM=function(){return n.asm.To.apply(null,arguments)},Lm=n._emscripten_enum_PHY_ScalarType_PHY_FLOAT=function(){return n.asm.Uo.apply(null,arguments)},zm=n._emscripten_enum_PHY_ScalarType_PHY_DOUBLE=function(){return n.asm.Vo.apply(null,arguments)},Fm=n._emscripten_enum_PHY_ScalarType_PHY_INTEGER=function(){return n.asm.Wo.apply(null,arguments)},Bm=n._emscripten_enum_PHY_ScalarType_PHY_SHORT=function(){return n.asm.Xo.apply(null,arguments)},Um=n._emscripten_enum_PHY_ScalarType_PHY_FIXEDPOINT88=function(){return n.asm.Yo.apply(null,arguments)},jm=n._emscripten_enum_PHY_ScalarType_PHY_UCHAR=function(){return n.asm.Zo.apply(null,arguments)};n._malloc=function(){return n.asm._o.apply(null,arguments)},n._free=function(){return n.asm.$o.apply(null,arguments)};var km,Gm=n.__growWasmMemory=function(){return n.asm.ap.apply(null,arguments)};function Hm(){function e(){if(!km&&(km=!0,!y)){if(M=!0,P(R),P(N),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;){var e=n.postRun.shift();D.unshift(e)}P(D)}}if(!(0<z)){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)O();P(I),0<z||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),e()}),1)):e())}}if(n.dynCall_vi=function(){return n.asm.bp.apply(null,arguments)},n.dynCall_v=function(){return n.asm.cp.apply(null,arguments)},n.asm=Q,n.addFunction=function(e,t){var n=A.length;try{A.grow(1)}catch(e){if(!e instanceof RangeError)throw e;throw"Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."}try{A.set(n,e)}catch(i){if(!i instanceof TypeError)throw i;x(void 0!==t,"Missing signature argument to addFunction"),A.set(n,e)}return n},n.then=function(e){if(km)e(n);else{var t=n.onRuntimeInitialized;n.onRuntimeInitialized=function(){t&&t(),e(n)}}return n},F=function e(){km||Hm(),km||(F=e)},n.run=Hm,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();function Vm(){}function Wm(e){return(e||Vm).gp}function qm(e,t){var n=Wm(t),i=n[e];return i||((i=Object.create((t||Vm).prototype)).ep=e,n[e]=i)}function Ym(){throw"cannot construct a btCollisionShape, no constructor in IDL"}function Xm(){this.ep=ce(),Wm(Xm)[this.ep]=this}function Qm(){throw"cannot construct a btConvexShape, no constructor in IDL"}function Zm(){throw"cannot construct a btConcaveShape, no constructor in IDL"}function Jm(){throw"cannot construct a btCollisionWorld, no constructor in IDL"}function Km(){throw"cannot construct a btTypedConstraint, no constructor in IDL"}function $m(e,t,n,i,o){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),o&&"object"==typeof o&&(o=o.ep),this.ep=void 0===i?gt(e,t,n):void 0===o?_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_4(e,t,n,i):At(e,t,n,i,o),Wm($m)[this.ep]=this}function ed(){throw"cannot construct a btStridingMeshInterface, no constructor in IDL"}function td(){throw"cannot construct a btBroadphaseInterface, no constructor in IDL"}function nd(){throw"cannot construct a btMotionState, no constructor in IDL"}function id(){throw"cannot construct a btConvexInternalShape, no constructor in IDL"}function od(){throw"cannot construct a btDynamicsWorld, no constructor in IDL"}function rd(){throw"cannot construct a btDispatcher, no constructor in IDL"}function ad(){throw"cannot construct a RayResultCallback, no constructor in IDL"}function sd(){throw"cannot construct a btActionInterface, no constructor in IDL"}function cd(){throw"cannot construct a btTriangleMeshShape, no constructor in IDL"}function ld(){this.ep=Bn(),Wm(ld)[this.ep]=this}function pd(){throw"cannot construct a btOverlapFilterCallback, no constructor in IDL"}function ud(){throw"cannot construct a btQuadWord, no constructor in IDL"}function _d(){throw"cannot construct a btMatrix3x3, no constructor in IDL"}function fd(){throw"cannot construct a btScalarArray, no constructor in IDL"}function hd(e,t,n){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),this.ep=void 0===n?Ri(e,t):Ni(e,t,n),Wm(hd)[this.ep]=this}function md(){this.ep=ki(),Wm(md)[this.ep]=this}function dd(){throw"cannot construct a btIntArray, no constructor in IDL"}function vd(){throw"cannot construct a btConstCollisionObjectArray, no constructor in IDL"}function gd(){throw"cannot construct a btBroadphaseProxy, no constructor in IDL"}function Ad(e,t,n,i,o){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),o&&"object"==typeof o&&(o=o.ep),this.ep=void 0===i?io(e,t,n):void 0===o?_emscripten_bind_btSliderConstraint_btSliderConstraint_4(e,t,n,i):oo(e,t,n,i,o),Wm(Ad)[this.ep]=this}function yd(){throw"cannot construct a btIndexedMesh, no constructor in IDL"}function xd(e,t,n,i){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),this.ep=void 0===i?Ao(e,t,n):yo(e,t,n,i),Wm(xd)[this.ep]=this}function bd(){throw"cannot construct a btManifoldPoint, no constructor in IDL"}function Cd(){this.ep=Ar(),Wm(Cd)[this.ep]=this}function Sd(e,t,n,i){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),this.ep=xr(e,t,n,i),Wm(Sd)[this.ep]=this}function Ed(e,t,n,i){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),this.ep=void 0===n?Yr(e,t):void 0===i?_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_3(e,t,n):Xr(e,t,n,i),Wm(Ed)[this.ep]=this}function wd(){this.ep=sa(),Wm(wd)[this.ep]=this}function Td(e,t){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),this.ep=void 0===t?la(e):pa(e,t),Wm(Td)[this.ep]=this}function Pd(e,t,n,i){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),this.ep=void 0===n?ba(e,t):void 0===i?_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_3(e,t,n):Ca(e,t,n,i),Wm(Pd)[this.ep]=this}function Id(e,t){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),this.ep=Ba(e,t),Wm(Id)[this.ep]=this}function Rd(e,t,n,i,o,r,a,s,c){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),o&&"object"==typeof o&&(o=o.ep),r&&"object"==typeof r&&(r=r.ep),a&&"object"==typeof a&&(a=a.ep),s&&"object"==typeof s&&(s=s.ep),c&&"object"==typeof c&&(c=c.ep),this.ep=Ka(e,t,n,i,o,r,a,s,c),Wm(Rd)[this.ep]=this}function Nd(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Dd(e){e&&"object"==typeof e&&(e=e.ep),this.ep=void 0===e?us():_s(e),Wm(Dd)[this.ep]=this}function Md(){this.ep=hs(),Wm(Md)[this.ep]=this}function Od(){throw"cannot construct a btOverlappingPairCallback, no constructor in IDL"}function Ld(e,t,n,i,o){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),o&&"object"==typeof o&&(o=o.ep),this.ep=void 0===i?Ws(e,t,n):void 0===o?_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_4(e,t,n,i):qs(e,t,n,i,o),Wm(Ld)[this.ep]=this}function zd(e,t){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),this.ep=void 0===e?pc():void 0===t?uc(e):_c(e,t),Wm(zd)[this.ep]=this}function Fd(){throw"cannot construct a btCollisionConfiguration, no constructor in IDL"}function Bd(){this.ep=yc(),Wm(Bd)[this.ep]=this}function Ud(e){e&&"object"==typeof e&&(e=e.ep),this.ep=wc(e),Wm(Ud)[this.ep]=this}function jd(e,t){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),this.ep=jc(e,t),Wm(jd)[this.ep]=this}function kd(e){e&&"object"==typeof e&&(e=e.ep),this.ep=void 0===e?el():tl(e),Wm(kd)[this.ep]=this}function Gd(e,t){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),this.ep=void 0===e?Sl():void 0===t?El(e):wl(e,t),Wm(Gd)[this.ep]=this}function Hd(e,t){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),this.ep=Rl(e,t),Wm(Hd)[this.ep]=this}function Vd(e,t){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),this.ep=op(e,t),Wm(Vd)[this.ep]=this}function Wd(e,t,n,i){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),this.ep=void 0===i?wp(e,t,n):Tp(e,t,n,i),Wm(Wd)[this.ep]=this}function qd(e,t,n,i,o,r,a){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),o&&"object"==typeof o&&(o=o.ep),r&&"object"==typeof r&&(r=r.ep),a&&"object"==typeof a&&(a=a.ep),this.ep=void 0===n?Qp(e,t):void 0===i?Zp(e,t,n):void 0===o?Jp(e,t,n,i):void 0===r?Kp(e,t,n,i,o):void 0===a?$p(e,t,n,i,o,r):eu(e,t,n,i,o,r,a),Wm(qd)[this.ep]=this}function Yd(e,t,n,i){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),this.ep=vu(e,t,n,i),Wm(Yd)[this.ep]=this}function Xd(){this.ep=Pu(),Wm(Xd)[this.ep]=this}function Qd(){throw"cannot construct a btContactSolverInfo, no constructor in IDL"}function Zd(e,t,n,i){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),this.ep=void 0===i?qu(e,t,n):Yu(e,t,n,i),Wm(Zd)[this.ep]=this}function Jd(e,t){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),this.ep=v_(e,t),Wm(Jd)[this.ep]=this}function Kd(){throw"cannot construct a btOverlappingPairCache, no constructor in IDL"}function $d(e,t,n){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),this.ep=void 0===e?M_():void 0===t?_emscripten_bind_btVector3_btVector3_1(e):void 0===n?_emscripten_bind_btVector3_btVector3_2(e,t):O_(e,t,n),Wm($d)[this.ep]=this}function ev(e){e&&"object"==typeof e&&(e=e.ep),this.ep=H_(e),Wm(ev)[this.ep]=this}function tv(){this.ep=of(),Wm(tv)[this.ep]=this}function nv(){this.ep=af(),Wm(nv)[this.ep]=this}function iv(){this.ep=df(),Wm(iv)[this.ep]=this}function ov(){throw"cannot construct a LocalShapeInfo, no constructor in IDL"}function rv(){throw"cannot construct a btVector3Array, no constructor in IDL"}function av(){throw"cannot construct a btConstraintSolver, no constructor in IDL"}function sv(e,t,n,i){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),this.ep=Of(e,t,n,i),Wm(sv)[this.ep]=this}function cv(e){e&&"object"==typeof e&&(e=e.ep),this.ep=kf(e),Wm(cv)[this.ep]=this}function lv(e){e&&"object"==typeof e&&(e=e.ep),this.ep=qf(e),Wm(lv)[this.ep]=this}function pv(){throw"cannot construct a btIndexedMeshArray, no constructor in IDL"}function uv(e,t){e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),this.ep=void 0===e?am():void 0===t?_emscripten_bind_btTransform_btTransform_1(e):sm(e,t),Wm(uv)[this.ep]=this}function _v(e){e&&"object"==typeof e&&(e=e.ep),this.ep=vm(e),Wm(_v)[this.ep]=this}return Hm(),Vm.prototype=Object.create(Vm.prototype),Vm.prototype.constructor=Vm,Vm.prototype.fp=Vm,Vm.gp={},n.WrapperObject=Vm,n.getCache=Wm,n.wrapPointer=qm,n.castObject=function(e,t){return qm(e.ep,t)},n.NULL=qm(0),n.destroy=function(e){if(!e.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";e.__destroy__(),delete Wm(e.fp)[e.ep]},n.compare=function(e,t){return e.ep===t.ep},n.getPointer=function(e){return e.ep},n.getClass=function(e){return e.fp},Ym.prototype=Object.create(Vm.prototype),Ym.prototype.constructor=Ym,Ym.prototype.fp=Ym,Ym.gp={},n.btCollisionShape=Ym,Ym.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),J(t,e)},Ym.prototype.getLocalScaling=function(){return qm(K(this.ep),$d)},Ym.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),$(n,e,t)},Ym.prototype.setMargin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ee(t,e)},Ym.prototype.getMargin=function(){return te(this.ep)},Ym.prototype.isCompound=function(){return!!ne(this.ep)},Ym.prototype.getUserIndex=function(){return ie(this.ep)},Ym.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),oe(t,e)},Ym.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),re(i,e,t,n)},Ym.prototype.getLocalBoundingSphere=function(){return ae(this.ep)},Ym.prototype.__destroy__=function(){se(this.ep)},Xm.prototype=Object.create(Vm.prototype),Xm.prototype.constructor=Xm,Xm.prototype.fp=Xm,Xm.gp={},n.btCollisionObject=Xm,Xm.prototype.setAnisotropicFriction=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),le(n,e,t)},Xm.prototype.getCollisionShape=function(){return qm(pe(this.ep),Ym)},Xm.prototype.getActivationState=function(){return ue(this.ep)},Xm.prototype.setActivationState=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),_e(t,e)},Xm.prototype.forceActivationState=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),fe(t,e)},Xm.prototype.activate=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),void 0===e?he(t):me(t,e)},Xm.prototype.isActive=function(){return!!de(this.ep)},Xm.prototype.isKinematicObject=function(){return!!ve(this.ep)},Xm.prototype.isStaticObject=function(){return!!ge(this.ep)},Xm.prototype.isStaticOrKinematicObject=function(){return!!Ae(this.ep)},Xm.prototype.setRestitution=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ye(t,e)},Xm.prototype.setFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),xe(t,e)},Xm.prototype.setRollingFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),be(t,e)},Xm.prototype.setSpinningFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ce(t,e)},Xm.prototype.getWorldTransform=function(){return qm(Se(this.ep),uv)},Xm.prototype.getCollisionFlags=function(){return Ee(this.ep)},Xm.prototype.setCollisionFlags=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),we(t,e)},Xm.prototype.setWorldTransform=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Te(t,e)},Xm.prototype.setCollisionShape=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Pe(t,e)},Xm.prototype.setCcdMotionThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ie(t,e)},Xm.prototype.setCcdSweptSphereRadius=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Re(t,e)},Xm.prototype.getUserIndex=function(){return Ne(this.ep)},Xm.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),De(t,e)},Xm.prototype.setUserIndex2=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Me(t,e)},Xm.prototype.setIgnoreCollisionCheck=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Oe(n,e,t)},Xm.prototype.__destroy__=function(){Le(this.ep)},Qm.prototype=Object.create(Ym.prototype),Qm.prototype.constructor=Qm,Qm.prototype.fp=Qm,Qm.gp={},n.btConvexShape=Qm,Qm.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ze(t,e)},Qm.prototype.getLocalScaling=function(){return qm(Fe(this.ep),$d)},Qm.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Be(n,e,t)},Qm.prototype.setMargin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ue(t,e)},Qm.prototype.getMargin=function(){return je(this.ep)},Qm.prototype.isCompound=function(){return!!ke(this.ep)},Qm.prototype.getUserIndex=function(){return Ge(this.ep)},Qm.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),He(t,e)},Qm.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Ve(i,e,t,n)},Qm.prototype.getLocalBoundingSphere=function(){return We(this.ep)},Qm.prototype.__destroy__=function(){qe(this.ep)},Zm.prototype=Object.create(Ym.prototype),Zm.prototype.constructor=Zm,Zm.prototype.fp=Zm,Zm.gp={},n.btConcaveShape=Zm,Zm.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ye(t,e)},Zm.prototype.getLocalScaling=function(){return qm(Xe(this.ep),$d)},Zm.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Qe(n,e,t)},Zm.prototype.isCompound=function(){return!!Ze(this.ep)},Zm.prototype.getUserIndex=function(){return Je(this.ep)},Zm.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ke(t,e)},Zm.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),$e(i,e,t,n)},Zm.prototype.getLocalBoundingSphere=function(){return et(this.ep)},Zm.prototype.__destroy__=function(){tt(this.ep)},Jm.prototype=Object.create(Vm.prototype),Jm.prototype.constructor=Jm,Jm.prototype.fp=Jm,Jm.gp={},n.btCollisionWorld=Jm,Jm.prototype.getDispatcher=function(){return qm(nt(this.ep),rd)},Jm.prototype.rayTest=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),it(i,e,t,n)},Jm.prototype.rayTestSingle=function(e,t,n,i,o,r){var a=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),o&&"object"==typeof o&&(o=o.ep),r&&"object"==typeof r&&(r=r.ep),ot(a,e,t,n,i,o,r)},Jm.prototype.getPairCache=function(){return qm(rt(this.ep),Kd)},Jm.prototype.addCollisionObject=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),void 0===t?at(i,e):void 0===n?st(i,e,t):ct(i,e,t,n)},Jm.prototype.removeCollisionObject=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),lt(t,e)},Jm.prototype.setContactBreakingThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),pt(t,e)},Jm.prototype.__destroy__=function(){ut(this.ep)},Km.prototype=Object.create(Vm.prototype),Km.prototype.constructor=Km,Km.prototype.fp=Km,Km.gp={},n.btTypedConstraint=Km,Km.prototype.enableFeedback=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),_t(t,e)},Km.prototype.getBreakingImpulseThreshold=function(){return ft(this.ep)},Km.prototype.setBreakingImpulseThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ht(t,e)},Km.prototype.getParam=function(e,t){var n=this.ep;return e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),mt(n,e,t)},Km.prototype.setParam=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),dt(i,e,t,n)},Km.prototype.__destroy__=function(){vt(this.ep)},$m.prototype=Object.create(Km.prototype),$m.prototype.constructor=$m,$m.prototype.fp=$m,$m.gp={},n.btGeneric6DofConstraint=$m,$m.prototype.setLinearLowerLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),yt(t,e)},$m.prototype.setLinearUpperLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),xt(t,e)},$m.prototype.setAngularLowerLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),bt(t,e)},$m.prototype.setAngularUpperLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ct(t,e)},$m.prototype.getFrameOffsetA=function(){return qm(St(this.ep),uv)},$m.prototype.enableFeedback=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Et(t,e)},$m.prototype.getBreakingImpulseThreshold=function(){return wt(this.ep)},$m.prototype.setBreakingImpulseThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Tt(t,e)},$m.prototype.getParam=function(e,t){var n=this.ep;return e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Pt(n,e,t)},$m.prototype.setParam=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),It(i,e,t,n)},$m.prototype.__destroy__=function(){Rt(this.ep)},ed.prototype=Object.create(Vm.prototype),ed.prototype.constructor=ed,ed.prototype.fp=ed,ed.gp={},n.btStridingMeshInterface=ed,ed.prototype.setScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Nt(t,e)},ed.prototype.__destroy__=function(){Dt(this.ep)},td.prototype=Object.create(Vm.prototype),td.prototype.constructor=td,td.prototype.fp=td,td.gp={},n.btBroadphaseInterface=td,td.prototype.getOverlappingPairCache=function(){return qm(Mt(this.ep),Kd)},td.prototype.__destroy__=function(){Ot(this.ep)},nd.prototype=Object.create(Vm.prototype),nd.prototype.constructor=nd,nd.prototype.fp=nd,nd.gp={},n.btMotionState=nd,nd.prototype.getWorldTransform=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Lt(t,e)},nd.prototype.setWorldTransform=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),zt(t,e)},nd.prototype.__destroy__=function(){Ft(this.ep)},id.prototype=Object.create(Qm.prototype),id.prototype.constructor=id,id.prototype.fp=id,id.gp={},n.btConvexInternalShape=id,id.prototype.getImplicitShapeDimensions=function(){return qm(Bt(this.ep),$d)},id.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ut(t,e)},id.prototype.getLocalScaling=function(){return qm(jt(this.ep),$d)},id.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),kt(n,e,t)},id.prototype.setMargin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Gt(t,e)},id.prototype.getMargin=function(){return Ht(this.ep)},id.prototype.isCompound=function(){return!!Vt(this.ep)},id.prototype.getUserIndex=function(){return Wt(this.ep)},id.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),qt(t,e)},id.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Yt(i,e,t,n)},id.prototype.getLocalBoundingSphere=function(){return Xt(this.ep)},id.prototype.__destroy__=function(){Qt(this.ep)},od.prototype=Object.create(Jm.prototype),od.prototype.constructor=od,od.prototype.fp=od,od.gp={},n.btDynamicsWorld=od,od.prototype.addAction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Zt(t,e)},od.prototype.removeAction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Jt(t,e)},od.prototype.getSolverInfo=function(){return qm(Kt(this.ep),Qd)},od.prototype.getFixedBody=function(){return qm($t(this.ep),lv)},od.prototype.getDispatcher=function(){return qm(en(this.ep),rd)},od.prototype.rayTest=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),tn(i,e,t,n)},od.prototype.rayTestSingle=function(e,t,n,i,o,r){var a=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),o&&"object"==typeof o&&(o=o.ep),r&&"object"==typeof r&&(r=r.ep),nn(a,e,t,n,i,o,r)},od.prototype.getPairCache=function(){return qm(on(this.ep),Kd)},od.prototype.addCollisionObject=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),void 0===t?rn(i,e):void 0===n?an(i,e,t):sn(i,e,t,n)},od.prototype.removeCollisionObject=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),cn(t,e)},od.prototype.setContactBreakingThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ln(t,e)},od.prototype.__destroy__=function(){pn(this.ep)},rd.prototype=Object.create(Vm.prototype),rd.prototype.constructor=rd,rd.prototype.fp=rd,rd.gp={},n.btDispatcher=rd,rd.prototype.getNumManifolds=function(){return un(this.ep)},rd.prototype.getManifoldByIndexInternal=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(_n(t,e),Bd)},rd.prototype.__destroy__=function(){fn(this.ep)},ad.prototype=Object.create(Vm.prototype),ad.prototype.constructor=ad,ad.prototype.fp=ad,ad.gp={},n.RayResultCallback=ad,ad.prototype.hasHit=function(){return!!hn(this.ep)},ad.prototype.setUseCC=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),mn(t,e)},ad.prototype.get_m_collisionFilterGroup=ad.prototype.hp=function(){return dn(this.ep)},ad.prototype.set_m_collisionFilterGroup=ad.prototype.kp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),vn(t,e)},Object.defineProperty(ad.prototype,"m_collisionFilterGroup",{get:ad.prototype.hp,set:ad.prototype.kp}),ad.prototype.get_m_collisionFilterMask=ad.prototype.ip=function(){return gn(this.ep)},ad.prototype.set_m_collisionFilterMask=ad.prototype.lp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),An(t,e)},Object.defineProperty(ad.prototype,"m_collisionFilterMask",{get:ad.prototype.ip,set:ad.prototype.lp}),ad.prototype.get_m_shapePart=ad.prototype.jp=function(){return yn(this.ep)},ad.prototype.set_m_shapePart=ad.prototype.mp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),xn(t,e)},Object.defineProperty(ad.prototype,"m_shapePart",{get:ad.prototype.jp,set:ad.prototype.mp}),ad.prototype.get_m_closestHitFraction=ad.prototype.np=function(){return bn(this.ep)},ad.prototype.set_m_closestHitFraction=ad.prototype.pp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Cn(t,e)},Object.defineProperty(ad.prototype,"m_closestHitFraction",{get:ad.prototype.np,set:ad.prototype.pp}),ad.prototype.get_m_collisionObject=ad.prototype.op=function(){return qm(Sn(this.ep),Xm)},ad.prototype.set_m_collisionObject=ad.prototype.qp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),En(t,e)},Object.defineProperty(ad.prototype,"m_collisionObject",{get:ad.prototype.op,set:ad.prototype.qp}),ad.prototype.__destroy__=function(){wn(this.ep)},sd.prototype=Object.create(Vm.prototype),sd.prototype.constructor=sd,sd.prototype.fp=sd,sd.gp={},n.btActionInterface=sd,sd.prototype.updateAction=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Tn(n,e,t)},sd.prototype.__destroy__=function(){Pn(this.ep)},cd.prototype=Object.create(Zm.prototype),cd.prototype.constructor=cd,cd.prototype.fp=cd,cd.gp={},n.btTriangleMeshShape=cd,cd.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),In(t,e)},cd.prototype.getLocalScaling=function(){return qm(Rn(this.ep),$d)},cd.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Nn(n,e,t)},cd.prototype.isCompound=function(){return!!Dn(this.ep)},cd.prototype.getUserIndex=function(){return Mn(this.ep)},cd.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),On(t,e)},cd.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Ln(i,e,t,n)},cd.prototype.getLocalBoundingSphere=function(){return zn(this.ep)},cd.prototype.__destroy__=function(){Fn(this.ep)},ld.prototype=Object.create(Xm.prototype),ld.prototype.constructor=ld,ld.prototype.fp=ld,ld.gp={},n.btGhostObject=ld,ld.prototype.getNumOverlappingObjects=function(){return Un(this.ep)},ld.prototype.getOverlappingObject=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(jn(t,e),Xm)},ld.prototype.setAnisotropicFriction=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),kn(n,e,t)},ld.prototype.getCollisionShape=function(){return qm(Gn(this.ep),Ym)},ld.prototype.getActivationState=function(){return Hn(this.ep)},ld.prototype.setActivationState=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Vn(t,e)},ld.prototype.forceActivationState=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Wn(t,e)},ld.prototype.activate=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),void 0===e?qn(t):Yn(t,e)},ld.prototype.isActive=function(){return!!Xn(this.ep)},ld.prototype.isKinematicObject=function(){return!!Qn(this.ep)},ld.prototype.isStaticObject=function(){return!!Zn(this.ep)},ld.prototype.isStaticOrKinematicObject=function(){return!!Jn(this.ep)},ld.prototype.setRestitution=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Kn(t,e)},ld.prototype.setFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),$n(t,e)},ld.prototype.setRollingFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ei(t,e)},ld.prototype.setSpinningFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ti(t,e)},ld.prototype.getWorldTransform=function(){return qm(ni(this.ep),uv)},ld.prototype.getCollisionFlags=function(){return ii(this.ep)},ld.prototype.setCollisionFlags=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),oi(t,e)},ld.prototype.setWorldTransform=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ri(t,e)},ld.prototype.setCollisionShape=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ai(t,e)},ld.prototype.setCcdMotionThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),si(t,e)},ld.prototype.setCcdSweptSphereRadius=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ci(t,e)},ld.prototype.getUserIndex=function(){return li(this.ep)},ld.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),pi(t,e)},ld.prototype.setUserIndex2=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ui(t,e)},ld.prototype.setIgnoreCollisionCheck=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),_i(n,e,t)},ld.prototype.__destroy__=function(){fi(this.ep)},pd.prototype=Object.create(Vm.prototype),pd.prototype.constructor=pd,pd.prototype.fp=pd,pd.gp={},n.btOverlapFilterCallback=pd,pd.prototype.__destroy__=function(){hi(this.ep)},ud.prototype=Object.create(Vm.prototype),ud.prototype.constructor=ud,ud.prototype.fp=ud,ud.gp={},n.btQuadWord=ud,ud.prototype.x=ud.prototype.x=function(){return mi(this.ep)},ud.prototype.y=ud.prototype.y=function(){return di(this.ep)},ud.prototype.z=ud.prototype.z=function(){return vi(this.ep)},ud.prototype.w=function(){return gi(this.ep)},ud.prototype.setX=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ai(t,e)},ud.prototype.setY=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),yi(t,e)},ud.prototype.setZ=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),xi(t,e)},ud.prototype.setW=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),bi(t,e)},ud.prototype.__destroy__=function(){Ci(this.ep)},_d.prototype=Object.create(Vm.prototype),_d.prototype.constructor=_d,_d.prototype.fp=_d,_d.gp={},n.btMatrix3x3=_d,_d.prototype.getRotation=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Si(t,e)},_d.prototype.__destroy__=function(){Ei(this.ep)},fd.prototype=Object.create(Vm.prototype),fd.prototype.constructor=fd,fd.prototype.fp=fd,fd.gp={},n.btScalarArray=fd,fd.prototype.size=fd.prototype.size=function(){return wi(this.ep)},fd.prototype.at=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),Ti(t,e)},fd.prototype.clear=fd.prototype.clear=function(){Pi(this.ep)},fd.prototype.__destroy__=function(){Ii(this.ep)},hd.prototype=Object.create(cd.prototype),hd.prototype.constructor=hd,hd.prototype.fp=hd,hd.gp={},n.btBvhTriangleMeshShape=hd,hd.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Di(t,e)},hd.prototype.getLocalScaling=function(){return qm(Mi(this.ep),$d)},hd.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Oi(n,e,t)},hd.prototype.isCompound=function(){return!!Li(this.ep)},hd.prototype.getUserIndex=function(){return zi(this.ep)},hd.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Fi(t,e)},hd.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Bi(i,e,t,n)},hd.prototype.getLocalBoundingSphere=function(){return Ui(this.ep)},hd.prototype.__destroy__=function(){ji(this.ep)},md.prototype=Object.create(td.prototype),md.prototype.constructor=md,md.prototype.fp=md,md.gp={},n.btDbvtBroadphase=md,md.prototype.getOverlappingPairCache=function(){return qm(Gi(this.ep),Kd)},md.prototype.__destroy__=function(){Hi(this.ep)},dd.prototype=Object.create(Vm.prototype),dd.prototype.constructor=dd,dd.prototype.fp=dd,dd.gp={},n.btIntArray=dd,dd.prototype.size=dd.prototype.size=function(){return Vi(this.ep)},dd.prototype.at=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),Wi(t,e)},dd.prototype.clear=dd.prototype.clear=function(){qi(this.ep)},dd.prototype.__destroy__=function(){Yi(this.ep)},vd.prototype=Object.create(Vm.prototype),vd.prototype.constructor=vd,vd.prototype.fp=vd,vd.gp={},n.btConstCollisionObjectArray=vd,vd.prototype.size=vd.prototype.size=function(){return Xi(this.ep)},vd.prototype.at=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(Qi(t,e),Xm)},vd.prototype.clear=vd.prototype.clear=function(){Zi(this.ep)},vd.prototype.__destroy__=function(){Ji(this.ep)},gd.prototype=Object.create(Vm.prototype),gd.prototype.constructor=gd,gd.prototype.fp=gd,gd.gp={},n.btBroadphaseProxy=gd,gd.prototype.get_m_collisionFilterGroup=gd.prototype.hp=function(){return Ki(this.ep)},gd.prototype.set_m_collisionFilterGroup=gd.prototype.kp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),$i(t,e)},Object.defineProperty(gd.prototype,"m_collisionFilterGroup",{get:gd.prototype.hp,set:gd.prototype.kp}),gd.prototype.get_m_collisionFilterMask=gd.prototype.ip=function(){return eo(this.ep)},gd.prototype.set_m_collisionFilterMask=gd.prototype.lp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),to(t,e)},Object.defineProperty(gd.prototype,"m_collisionFilterMask",{get:gd.prototype.ip,set:gd.prototype.lp}),gd.prototype.__destroy__=function(){no(this.ep)},Ad.prototype=Object.create(Km.prototype),Ad.prototype.constructor=Ad,Ad.prototype.fp=Ad,Ad.gp={},n.btSliderConstraint=Ad,Ad.prototype.setLowerLinLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ro(t,e)},Ad.prototype.setUpperLinLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ao(t,e)},Ad.prototype.setLowerAngLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),so(t,e)},Ad.prototype.setUpperAngLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),co(t,e)},Ad.prototype.enableFeedback=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),lo(t,e)},Ad.prototype.getBreakingImpulseThreshold=function(){return po(this.ep)},Ad.prototype.setBreakingImpulseThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),uo(t,e)},Ad.prototype.getParam=function(e,t){var n=this.ep;return e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),_o(n,e,t)},Ad.prototype.setParam=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),fo(i,e,t,n)},Ad.prototype.__destroy__=function(){ho(this.ep)},yd.prototype=Object.create(Vm.prototype),yd.prototype.constructor=yd,yd.prototype.fp=yd,yd.gp={},n.btIndexedMesh=yd,yd.prototype.get_m_numTriangles=yd.prototype.Wp=function(){return mo(this.ep)},yd.prototype.set_m_numTriangles=yd.prototype.Fq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),vo(t,e)},Object.defineProperty(yd.prototype,"m_numTriangles",{get:yd.prototype.Wp,set:yd.prototype.Fq}),yd.prototype.__destroy__=function(){go(this.ep)},xd.prototype=Object.create(Vm.prototype),xd.prototype.constructor=xd,xd.prototype.fp=xd,xd.gp={},n.btRigidBodyConstructionInfo=xd,xd.prototype.get_m_linearDamping=xd.prototype.Qp=function(){return xo(this.ep)},xd.prototype.set_m_linearDamping=xd.prototype.zq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),bo(t,e)},Object.defineProperty(xd.prototype,"m_linearDamping",{get:xd.prototype.Qp,set:xd.prototype.zq}),xd.prototype.get_m_angularDamping=xd.prototype.Gp=function(){return Co(this.ep)},xd.prototype.set_m_angularDamping=xd.prototype.pq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),So(t,e)},Object.defineProperty(xd.prototype,"m_angularDamping",{get:xd.prototype.Gp,set:xd.prototype.pq}),xd.prototype.get_m_friction=xd.prototype.Lp=function(){return Eo(this.ep)},xd.prototype.set_m_friction=xd.prototype.uq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),wo(t,e)},Object.defineProperty(xd.prototype,"m_friction",{get:xd.prototype.Lp,set:xd.prototype.uq}),xd.prototype.get_m_rollingFriction=xd.prototype.$p=function(){return To(this.ep)},xd.prototype.set_m_rollingFriction=xd.prototype.Jq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Po(t,e)},Object.defineProperty(xd.prototype,"m_rollingFriction",{get:xd.prototype.$p,set:xd.prototype.Jq}),xd.prototype.get_m_restitution=xd.prototype.Zp=function(){return Io(this.ep)},xd.prototype.set_m_restitution=xd.prototype.Iq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ro(t,e)},Object.defineProperty(xd.prototype,"m_restitution",{get:xd.prototype.Zp,set:xd.prototype.Iq}),xd.prototype.get_m_linearSleepingThreshold=xd.prototype.Rp=function(){return No(this.ep)},xd.prototype.set_m_linearSleepingThreshold=xd.prototype.Aq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Do(t,e)},Object.defineProperty(xd.prototype,"m_linearSleepingThreshold",{get:xd.prototype.Rp,set:xd.prototype.Aq}),xd.prototype.get_m_angularSleepingThreshold=xd.prototype.Hp=function(){return Mo(this.ep)},xd.prototype.set_m_angularSleepingThreshold=xd.prototype.qq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Oo(t,e)},Object.defineProperty(xd.prototype,"m_angularSleepingThreshold",{get:xd.prototype.Hp,set:xd.prototype.qq}),xd.prototype.get_m_additionalDamping=xd.prototype.Dp=function(){return!!Lo(this.ep)},xd.prototype.set_m_additionalDamping=xd.prototype.mq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),zo(t,e)},Object.defineProperty(xd.prototype,"m_additionalDamping",{get:xd.prototype.Dp,set:xd.prototype.mq}),xd.prototype.get_m_additionalDampingFactor=xd.prototype.Ep=function(){return Fo(this.ep)},xd.prototype.set_m_additionalDampingFactor=xd.prototype.nq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Bo(t,e)},Object.defineProperty(xd.prototype,"m_additionalDampingFactor",{get:xd.prototype.Ep,set:xd.prototype.nq}),xd.prototype.get_m_additionalLinearDampingThresholdSqr=xd.prototype.Fp=function(){return Uo(this.ep)},xd.prototype.set_m_additionalLinearDampingThresholdSqr=xd.prototype.oq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),jo(t,e)},Object.defineProperty(xd.prototype,"m_additionalLinearDampingThresholdSqr",{get:xd.prototype.Fp,set:xd.prototype.oq}),xd.prototype.get_m_additionalAngularDampingThresholdSqr=xd.prototype.Cp=function(){return ko(this.ep)},xd.prototype.set_m_additionalAngularDampingThresholdSqr=xd.prototype.lq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Go(t,e)},Object.defineProperty(xd.prototype,"m_additionalAngularDampingThresholdSqr",{get:xd.prototype.Cp,set:xd.prototype.lq}),xd.prototype.get_m_additionalAngularDampingFactor=xd.prototype.Bp=function(){return Ho(this.ep)},xd.prototype.set_m_additionalAngularDampingFactor=xd.prototype.kq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Vo(t,e)},Object.defineProperty(xd.prototype,"m_additionalAngularDampingFactor",{get:xd.prototype.Bp,set:xd.prototype.kq}),xd.prototype.__destroy__=function(){Wo(this.ep)},bd.prototype=Object.create(Vm.prototype),bd.prototype.constructor=bd,bd.prototype.fp=bd,bd.gp={},n.btManifoldPoint=bd,bd.prototype.getAppliedImpulse=function(){return qo(this.ep)},bd.prototype.getDistance=function(){return Yo(this.ep)},bd.prototype.getShape0=function(){return qm(Xo(this.ep),Ym)},bd.prototype.getShape1=function(){return qm(Qo(this.ep),Ym)},bd.prototype.get_m_localPointA=bd.prototype.Sp=function(){return qm(Zo(this.ep),$d)},bd.prototype.set_m_localPointA=bd.prototype.Bq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Jo(t,e)},Object.defineProperty(bd.prototype,"m_localPointA",{get:bd.prototype.Sp,set:bd.prototype.Bq}),bd.prototype.get_m_localPointB=bd.prototype.Tp=function(){return qm(Ko(this.ep),$d)},bd.prototype.set_m_localPointB=bd.prototype.Cq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),$o(t,e)},Object.defineProperty(bd.prototype,"m_localPointB",{get:bd.prototype.Tp,set:bd.prototype.Cq}),bd.prototype.get_m_positionWorldOnA=bd.prototype.Xp=function(){return qm(er(this.ep),$d)},bd.prototype.set_m_positionWorldOnA=bd.prototype.Gq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),tr(t,e)},Object.defineProperty(bd.prototype,"m_positionWorldOnA",{get:bd.prototype.Xp,set:bd.prototype.Gq}),bd.prototype.get_m_positionWorldOnB=bd.prototype.Yp=function(){return qm(nr(this.ep),$d)},bd.prototype.set_m_positionWorldOnB=bd.prototype.Hq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ir(t,e)},Object.defineProperty(bd.prototype,"m_positionWorldOnB",{get:bd.prototype.Yp,set:bd.prototype.Hq}),bd.prototype.get_m_normalWorldOnB=bd.prototype.Up=function(){return qm(or(this.ep),$d)},bd.prototype.set_m_normalWorldOnB=bd.prototype.Dq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),rr(t,e)},Object.defineProperty(bd.prototype,"m_normalWorldOnB",{get:bd.prototype.Up,set:bd.prototype.Dq}),bd.prototype.get_m_distance1=bd.prototype.Kp=function(){return ar(this.ep)},bd.prototype.set_m_distance1=bd.prototype.tq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),sr(t,e)},Object.defineProperty(bd.prototype,"m_distance1",{get:bd.prototype.Kp,set:bd.prototype.tq}),bd.prototype.get_m_index0=bd.prototype.Op=function(){return cr(this.ep)},bd.prototype.set_m_index0=bd.prototype.xq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),lr(t,e)},Object.defineProperty(bd.prototype,"m_index0",{get:bd.prototype.Op,set:bd.prototype.xq}),bd.prototype.get_m_index1=bd.prototype.Pp=function(){return pr(this.ep)},bd.prototype.set_m_index1=bd.prototype.yq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ur(t,e)},Object.defineProperty(bd.prototype,"m_index1",{get:bd.prototype.Pp,set:bd.prototype.yq}),bd.prototype.get_m_userPersistentData=bd.prototype.hq=function(){return _r(this.ep)},bd.prototype.set_m_userPersistentData=bd.prototype.Qq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),fr(t,e)},Object.defineProperty(bd.prototype,"m_userPersistentData",{get:bd.prototype.hq,set:bd.prototype.Qq}),bd.prototype.get_m_userPersistentData0=bd.prototype.iq=function(){return hr(this.ep)},bd.prototype.set_m_userPersistentData0=bd.prototype.Rq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),mr(t,e)},Object.defineProperty(bd.prototype,"m_userPersistentData0",{get:bd.prototype.iq,set:bd.prototype.Rq}),bd.prototype.get_m_userPersistentData1=bd.prototype.jq=function(){return dr(this.ep)},bd.prototype.set_m_userPersistentData1=bd.prototype.Sq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),vr(t,e)},Object.defineProperty(bd.prototype,"m_userPersistentData1",{get:bd.prototype.jq,set:bd.prototype.Sq}),bd.prototype.__destroy__=function(){gr(this.ep)},Cd.prototype=Object.create(Vm.prototype),Cd.prototype.constructor=Cd,Cd.prototype.fp=Cd,Cd.gp={},n.btSequentialImpulseConstraintSolver=Cd,Cd.prototype.__destroy__=function(){yr(this.ep)},Sd.prototype=Object.create(od.prototype),Sd.prototype.constructor=Sd,Sd.prototype.fp=Sd,Sd.gp={},n.btDiscreteDynamicsWorld=Sd,Sd.prototype.setGravity=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),br(t,e)},Sd.prototype.getGravity=function(){return qm(Cr(this.ep),$d)},Sd.prototype.addRigidBody=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),void 0===t?Sr(i,e):void 0===n?_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_2(i,e,t):Er(i,e,t,n)},Sd.prototype.removeRigidBody=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),wr(t,e)},Sd.prototype.addConstraint=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),void 0===t?Tr(n,e):Pr(n,e,t)},Sd.prototype.removeConstraint=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ir(t,e)},Sd.prototype.stepSimulation=function(e,t,n){var i=this.ep;return e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),void 0===t?Rr(i,e):void 0===n?Nr(i,e,t):Dr(i,e,t,n)},Sd.prototype.getDispatcher=function(){return qm(Mr(this.ep),rd)},Sd.prototype.rayTest=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Or(i,e,t,n)},Sd.prototype.rayTestSingle=function(e,t,n,i,o,r){var a=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),o&&"object"==typeof o&&(o=o.ep),r&&"object"==typeof r&&(r=r.ep),Lr(a,e,t,n,i,o,r)},Sd.prototype.getPairCache=function(){return qm(zr(this.ep),Kd)},Sd.prototype.addCollisionObject=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),void 0===t?Fr(i,e):void 0===n?Br(i,e,t):Ur(i,e,t,n)},Sd.prototype.removeCollisionObject=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),jr(t,e)},Sd.prototype.setContactBreakingThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),kr(t,e)},Sd.prototype.addAction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Gr(t,e)},Sd.prototype.removeAction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Hr(t,e)},Sd.prototype.getSolverInfo=function(){return qm(Vr(this.ep),Qd)},Sd.prototype.getFixedBody=function(){return qm(Wr(this.ep),lv)},Sd.prototype.__destroy__=function(){qr(this.ep)},Ed.prototype=Object.create(Km.prototype),Ed.prototype.constructor=Ed,Ed.prototype.fp=Ed,Ed.gp={},n.btPoint2PointConstraint=Ed,Ed.prototype.setPivotA=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Qr(t,e)},Ed.prototype.setPivotB=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Zr(t,e)},Ed.prototype.getPivotInA=function(){return qm(Jr(this.ep),$d)},Ed.prototype.getPivotInB=function(){return qm(Kr(this.ep),$d)},Ed.prototype.enableFeedback=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),$r(t,e)},Ed.prototype.getBreakingImpulseThreshold=function(){return ea(this.ep)},Ed.prototype.setBreakingImpulseThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ta(t,e)},Ed.prototype.getParam=function(e,t){var n=this.ep;return e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),na(n,e,t)},Ed.prototype.setParam=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),ia(i,e,t,n)},Ed.prototype.get_m_setting=Ed.prototype.aq=function(){return qm(oa(this.ep),iv)},Ed.prototype.set_m_setting=Ed.prototype.Kq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ra(t,e)},Object.defineProperty(Ed.prototype,"m_setting",{get:Ed.prototype.aq,set:Ed.prototype.Kq}),Ed.prototype.__destroy__=function(){aa(this.ep)},wd.prototype=Object.create(pd.prototype),wd.prototype.constructor=wd,wd.prototype.fp=wd,wd.gp={},n.ccOverlapFilterCallback=wd,wd.prototype.__destroy__=function(){ca(this.ep)},Td.prototype=Object.create(Qm.prototype),Td.prototype.constructor=Td,Td.prototype.fp=Td,Td.gp={},n.btConvexTriangleMeshShape=Td,Td.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ua(t,e)},Td.prototype.getLocalScaling=function(){return qm(_a(this.ep),$d)},Td.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),fa(n,e,t)},Td.prototype.setMargin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ha(t,e)},Td.prototype.getMargin=function(){return ma(this.ep)},Td.prototype.isCompound=function(){return!!da(this.ep)},Td.prototype.getUserIndex=function(){return va(this.ep)},Td.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ga(t,e)},Td.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Aa(i,e,t,n)},Td.prototype.getLocalBoundingSphere=function(){return ya(this.ep)},Td.prototype.__destroy__=function(){xa(this.ep)},Pd.prototype=Object.create(Km.prototype),Pd.prototype.constructor=Pd,Pd.prototype.fp=Pd,Pd.gp={},n.btConeTwistConstraint=Pd,Pd.prototype.setLimit=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Sa(n,e,t)},Pd.prototype.setAngularOnly=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ea(t,e)},Pd.prototype.setDamping=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),wa(t,e)},Pd.prototype.enableMotor=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ta(t,e)},Pd.prototype.setMaxMotorImpulse=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Pa(t,e)},Pd.prototype.setMaxMotorImpulseNormalized=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ia(t,e)},Pd.prototype.setMotorTarget=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ra(t,e)},Pd.prototype.setMotorTargetInConstraintSpace=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Na(t,e)},Pd.prototype.enableFeedback=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Da(t,e)},Pd.prototype.getBreakingImpulseThreshold=function(){return Ma(this.ep)},Pd.prototype.setBreakingImpulseThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Oa(t,e)},Pd.prototype.getParam=function(e,t){var n=this.ep;return e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),La(n,e,t)},Pd.prototype.setParam=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),za(i,e,t,n)},Pd.prototype.__destroy__=function(){Fa(this.ep)},Id.prototype=Object.create(id.prototype),Id.prototype.constructor=Id,Id.prototype.fp=Id,Id.gp={},n.btConeShape=Id,Id.prototype.setRadius=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ua(t,e)},Id.prototype.setHeight=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ja(t,e)},Id.prototype.setConeUpIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ka(t,e)},Id.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ga(t,e)},Id.prototype.getLocalScaling=function(){return qm(Ha(this.ep),$d)},Id.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Va(n,e,t)},Id.prototype.isCompound=function(){return!!Wa(this.ep)},Id.prototype.getUserIndex=function(){return qa(this.ep)},Id.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ya(t,e)},Id.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Xa(i,e,t,n)},Id.prototype.getLocalBoundingSphere=function(){return Qa(this.ep)},Id.prototype.getImplicitShapeDimensions=function(){return qm(Za(this.ep),$d)},Id.prototype.__destroy__=function(){Ja(this.ep)},Rd.prototype=Object.create(Zm.prototype),Rd.prototype.constructor=Rd,Rd.prototype.fp=Rd,Rd.gp={},n.btHeightfieldTerrainShape=Rd,Rd.prototype.setMargin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),$a(t,e)},Rd.prototype.getMargin=function(){return es(this.ep)},Rd.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ts(t,e)},Rd.prototype.getLocalScaling=function(){return qm(ns(this.ep),$d)},Rd.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),is(n,e,t)},Rd.prototype.isCompound=function(){return!!os(this.ep)},Rd.prototype.getUserIndex=function(){return rs(this.ep)},Rd.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),as(t,e)},Rd.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),ss(i,e,t,n)},Rd.prototype.getLocalBoundingSphere=function(){return cs(this.ep)},Rd.prototype.__destroy__=function(){ls(this.ep)},Nd.prototype=Object.create(Vm.prototype),Nd.prototype.constructor=Nd,Nd.prototype.fp=Nd,Nd.gp={},n.VoidPtr=Nd,Nd.prototype.__destroy__=function(){ps(this.ep)},Dd.prototype=Object.create(Vm.prototype),Dd.prototype.constructor=Dd,Dd.prototype.fp=Dd,Dd.gp={},n.btDefaultCollisionConfiguration=Dd,Dd.prototype.__destroy__=function(){fs(this.ep)},Md.prototype=Object.create(ld.prototype),Md.prototype.constructor=Md,Md.prototype.fp=Md,Md.gp={},n.btPairCachingGhostObject=Md,Md.prototype.setAnisotropicFriction=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),ms(n,e,t)},Md.prototype.getCollisionShape=function(){return qm(ds(this.ep),Ym)},Md.prototype.getActivationState=function(){return vs(this.ep)},Md.prototype.setActivationState=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),gs(t,e)},Md.prototype.forceActivationState=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),As(t,e)},Md.prototype.activate=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),void 0===e?ys(t):xs(t,e)},Md.prototype.isActive=function(){return!!bs(this.ep)},Md.prototype.isKinematicObject=function(){return!!Cs(this.ep)},Md.prototype.isStaticObject=function(){return!!Ss(this.ep)},Md.prototype.isStaticOrKinematicObject=function(){return!!Es(this.ep)},Md.prototype.setRestitution=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ws(t,e)},Md.prototype.setFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ts(t,e)},Md.prototype.setRollingFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ps(t,e)},Md.prototype.setSpinningFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Is(t,e)},Md.prototype.getWorldTransform=function(){return qm(Rs(this.ep),uv)},Md.prototype.getCollisionFlags=function(){return Ns(this.ep)},Md.prototype.setCollisionFlags=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ds(t,e)},Md.prototype.setWorldTransform=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ms(t,e)},Md.prototype.setCollisionShape=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Os(t,e)},Md.prototype.setCcdMotionThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ls(t,e)},Md.prototype.setCcdSweptSphereRadius=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),zs(t,e)},Md.prototype.getUserIndex=function(){return Fs(this.ep)},Md.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Bs(t,e)},Md.prototype.setUserIndex2=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Us(t,e)},Md.prototype.setIgnoreCollisionCheck=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),js(n,e,t)},Md.prototype.getNumOverlappingObjects=function(){return ks(this.ep)},Md.prototype.getOverlappingObject=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(Gs(t,e),Xm)},Md.prototype.__destroy__=function(){Hs(this.ep)},Od.prototype=Object.create(Vm.prototype),Od.prototype.constructor=Od,Od.prototype.fp=Od,Od.gp={},n.btOverlappingPairCallback=Od,Od.prototype.__destroy__=function(){Vs(this.ep)},Ld.prototype=Object.create($m.prototype),Ld.prototype.constructor=Ld,Ld.prototype.fp=Ld,Ld.gp={},n.btGeneric6DofSpringConstraint=Ld,Ld.prototype.enableSpring=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Ys(n,e,t)},Ld.prototype.setStiffness=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Xs(n,e,t)},Ld.prototype.setDamping=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Qs(n,e,t)},Ld.prototype.setEquilibriumPoint=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),void 0===e?Zs(n):void 0===t?Js(n,e):Ks(n,e,t)},Ld.prototype.setLinearLowerLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),$s(t,e)},Ld.prototype.setLinearUpperLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ec(t,e)},Ld.prototype.setAngularLowerLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),tc(t,e)},Ld.prototype.setAngularUpperLimit=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),nc(t,e)},Ld.prototype.getFrameOffsetA=function(){return qm(ic(this.ep),uv)},Ld.prototype.enableFeedback=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),oc(t,e)},Ld.prototype.getBreakingImpulseThreshold=function(){return rc(this.ep)},Ld.prototype.setBreakingImpulseThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ac(t,e)},Ld.prototype.getParam=function(e,t){var n=this.ep;return e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),sc(n,e,t)},Ld.prototype.setParam=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),cc(i,e,t,n)},Ld.prototype.__destroy__=function(){lc(this.ep)},zd.prototype=Object.create(ed.prototype),zd.prototype.constructor=zd,zd.prototype.fp=zd,zd.gp={},n.btTriangleMesh=zd,zd.prototype.addTriangle=function(e,t,n,i){var o=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),void 0===i?fc(o,e,t,n):hc(o,e,t,n,i)},zd.prototype.addTriangleIndices=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),mc(i,e,t,n)},zd.prototype.getIndexedMeshArray=function(){return qm(dc(this.ep),pv)},zd.prototype.setScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),vc(t,e)},zd.prototype.__destroy__=function(){gc(this.ep)},Fd.prototype=Object.create(Vm.prototype),Fd.prototype.constructor=Fd,Fd.prototype.fp=Fd,Fd.gp={},n.btCollisionConfiguration=Fd,Fd.prototype.__destroy__=function(){Ac(this.ep)},Bd.prototype=Object.create(Vm.prototype),Bd.prototype.constructor=Bd,Bd.prototype.fp=Bd,Bd.gp={},n.btPersistentManifold=Bd,Bd.prototype.getBody0=function(){return qm(xc(this.ep),Xm)},Bd.prototype.getBody1=function(){return qm(bc(this.ep),Xm)},Bd.prototype.getNumContacts=function(){return Cc(this.ep)},Bd.prototype.getContactPoint=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(Sc(t,e),bd)},Bd.prototype.__destroy__=function(){Ec(this.ep)},Ud.prototype=Object.create(id.prototype),Ud.prototype.constructor=Ud,Ud.prototype.fp=Ud,Ud.gp={},n.btBoxShape=Ud,Ud.prototype.setMargin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Tc(t,e)},Ud.prototype.getMargin=function(){return Pc(this.ep)},Ud.prototype.setUnscaledHalfExtents=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ic(t,e)},Ud.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Rc(t,e)},Ud.prototype.getLocalScaling=function(){return qm(Nc(this.ep),$d)},Ud.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Dc(n,e,t)},Ud.prototype.isCompound=function(){return!!Mc(this.ep)},Ud.prototype.getUserIndex=function(){return Oc(this.ep)},Ud.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Lc(t,e)},Ud.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),zc(i,e,t,n)},Ud.prototype.getLocalBoundingSphere=function(){return Fc(this.ep)},Ud.prototype.getImplicitShapeDimensions=function(){return qm(Bc(this.ep),$d)},Ud.prototype.__destroy__=function(){Uc(this.ep)},jd.prototype=Object.create(id.prototype),jd.prototype.constructor=jd,jd.prototype.fp=jd,jd.gp={},n.btCapsuleShape=jd,jd.prototype.setMargin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),kc(t,e)},jd.prototype.getMargin=function(){return Gc(this.ep)},jd.prototype.updateProp=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Hc(i,e,t,n)},jd.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Vc(t,e)},jd.prototype.getLocalScaling=function(){return qm(Wc(this.ep),$d)},jd.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),qc(n,e,t)},jd.prototype.isCompound=function(){return!!Yc(this.ep)},jd.prototype.getUserIndex=function(){return Xc(this.ep)},jd.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Qc(t,e)},jd.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Zc(i,e,t,n)},jd.prototype.getLocalBoundingSphere=function(){return Jc(this.ep)},jd.prototype.getImplicitShapeDimensions=function(){return qm(Kc(this.ep),$d)},jd.prototype.__destroy__=function(){$c(this.ep)},kd.prototype=Object.create(Ym.prototype),kd.prototype.constructor=kd,kd.prototype.fp=kd,kd.gp={},n.btCompoundShape=kd,kd.prototype.addChildShape=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),nl(n,e,t)},kd.prototype.removeChildShape=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),il(t,e)},kd.prototype.removeChildShapeByIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ol(t,e)},kd.prototype.getNumChildShapes=function(){return rl(this.ep)},kd.prototype.getChildShape=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(al(t,e),Ym)},kd.prototype.updateChildTransform=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),void 0===n?sl(i,e,t):cl(i,e,t,n)},kd.prototype.setMargin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ll(t,e)},kd.prototype.getMargin=function(){return pl(this.ep)},kd.prototype.setMaterial=function(e,t,n,i,o,r){var a=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),o&&"object"==typeof o&&(o=o.ep),r&&"object"==typeof r&&(r=r.ep),void 0===i?ul(a,e,t,n):void 0===o?_l(a,e,t,n,i):void 0===r?fl(a,e,t,n,i,o):hl(a,e,t,n,i,o,r)},kd.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ml(t,e)},kd.prototype.getLocalScaling=function(){return qm(dl(this.ep),$d)},kd.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),vl(n,e,t)},kd.prototype.isCompound=function(){return!!gl(this.ep)},kd.prototype.getUserIndex=function(){return Al(this.ep)},kd.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),yl(t,e)},kd.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),xl(i,e,t,n)},kd.prototype.getLocalBoundingSphere=function(){return bl(this.ep)},kd.prototype.__destroy__=function(){Cl(this.ep)},Gd.prototype=Object.create(nd.prototype),Gd.prototype.constructor=Gd,Gd.prototype.fp=Gd,Gd.gp={},n.btDefaultMotionState=Gd,Gd.prototype.getWorldTransform=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Tl(t,e)},Gd.prototype.setWorldTransform=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Pl(t,e)},Gd.prototype.__destroy__=function(){Il(this.ep)},Hd.prototype=Object.create(ad.prototype),Hd.prototype.constructor=Hd,Hd.prototype.fp=Hd,Hd.gp={},n.AllHitsRayResultCallback=Hd,Hd.prototype.hasHit=function(){return!!Nl(this.ep)},Hd.prototype.setUseCC=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Dl(t,e)},Hd.prototype.get_m_collisionObjects=Hd.prototype.Ip=function(){return qm(Ml(this.ep),vd)},Hd.prototype.set_m_collisionObjects=Hd.prototype.rq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ol(t,e)},Object.defineProperty(Hd.prototype,"m_collisionObjects",{get:Hd.prototype.Ip,set:Hd.prototype.rq}),Hd.prototype.get_m_rayFromWorld=Hd.prototype.up=function(){return qm(Ll(this.ep),$d)},Hd.prototype.set_m_rayFromWorld=Hd.prototype.yp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),zl(t,e)},Object.defineProperty(Hd.prototype,"m_rayFromWorld",{get:Hd.prototype.up,set:Hd.prototype.yp}),Hd.prototype.get_m_rayToWorld=Hd.prototype.vp=function(){return qm(Fl(this.ep),$d)},Hd.prototype.set_m_rayToWorld=Hd.prototype.zp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Bl(t,e)},Object.defineProperty(Hd.prototype,"m_rayToWorld",{get:Hd.prototype.vp,set:Hd.prototype.zp}),Hd.prototype.get_m_hitNormalWorld=Hd.prototype.sp=function(){return qm(Ul(this.ep),rv)},Hd.prototype.set_m_hitNormalWorld=Hd.prototype.wp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),jl(t,e)},Object.defineProperty(Hd.prototype,"m_hitNormalWorld",{get:Hd.prototype.sp,set:Hd.prototype.wp}),Hd.prototype.get_m_hitPointWorld=Hd.prototype.tp=function(){return qm(kl(this.ep),rv)},Hd.prototype.set_m_hitPointWorld=Hd.prototype.xp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Gl(t,e)},Object.defineProperty(Hd.prototype,"m_hitPointWorld",{get:Hd.prototype.tp,set:Hd.prototype.xp}),Hd.prototype.get_m_hitFractions=Hd.prototype.Mp=function(){return qm(Hl(this.ep),fd)},Hd.prototype.set_m_hitFractions=Hd.prototype.vq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Vl(t,e)},Object.defineProperty(Hd.prototype,"m_hitFractions",{get:Hd.prototype.Mp,set:Hd.prototype.vq}),Hd.prototype.get_m_shapeParts=Hd.prototype.bq=function(){return qm(Wl(this.ep),dd)},Hd.prototype.set_m_shapeParts=Hd.prototype.Lq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ql(t,e)},Object.defineProperty(Hd.prototype,"m_shapeParts",{get:Hd.prototype.bq,set:Hd.prototype.Lq}),Hd.prototype.get_m_collisionFilterGroup=Hd.prototype.hp=function(){return Yl(this.ep)},Hd.prototype.set_m_collisionFilterGroup=Hd.prototype.kp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Xl(t,e)},Object.defineProperty(Hd.prototype,"m_collisionFilterGroup",{get:Hd.prototype.hp,set:Hd.prototype.kp}),Hd.prototype.get_m_collisionFilterMask=Hd.prototype.ip=function(){return Ql(this.ep)},Hd.prototype.set_m_collisionFilterMask=Hd.prototype.lp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Zl(t,e)},Object.defineProperty(Hd.prototype,"m_collisionFilterMask",{get:Hd.prototype.ip,set:Hd.prototype.lp}),Hd.prototype.get_m_shapePart=Hd.prototype.jp=function(){return Jl(this.ep)},Hd.prototype.set_m_shapePart=Hd.prototype.mp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Kl(t,e)},Object.defineProperty(Hd.prototype,"m_shapePart",{get:Hd.prototype.jp,set:Hd.prototype.mp}),Hd.prototype.get_m_closestHitFraction=Hd.prototype.np=function(){return $l(this.ep)},Hd.prototype.set_m_closestHitFraction=Hd.prototype.pp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ep(t,e)},Object.defineProperty(Hd.prototype,"m_closestHitFraction",{get:Hd.prototype.np,set:Hd.prototype.pp}),Hd.prototype.get_m_collisionObject=Hd.prototype.op=function(){return qm(tp(this.ep),Xm)},Hd.prototype.set_m_collisionObject=Hd.prototype.qp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),np(t,e)},Object.defineProperty(Hd.prototype,"m_collisionObject",{get:Hd.prototype.op,set:Hd.prototype.qp}),Hd.prototype.__destroy__=function(){ip(this.ep)},Vd.prototype=Object.create(ad.prototype),Vd.prototype.constructor=Vd,Vd.prototype.fp=Vd,Vd.gp={},n.ClosestRayResultCallback=Vd,Vd.prototype.hasHit=function(){return!!rp(this.ep)},Vd.prototype.setUseCC=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ap(t,e)},Vd.prototype.get_m_rayFromWorld=Vd.prototype.up=function(){return qm(sp(this.ep),$d)},Vd.prototype.set_m_rayFromWorld=Vd.prototype.yp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),cp(t,e)},Object.defineProperty(Vd.prototype,"m_rayFromWorld",{get:Vd.prototype.up,set:Vd.prototype.yp}),Vd.prototype.get_m_rayToWorld=Vd.prototype.vp=function(){return qm(lp(this.ep),$d)},Vd.prototype.set_m_rayToWorld=Vd.prototype.zp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),pp(t,e)},Object.defineProperty(Vd.prototype,"m_rayToWorld",{get:Vd.prototype.vp,set:Vd.prototype.zp}),Vd.prototype.get_m_hitNormalWorld=Vd.prototype.sp=function(){return qm(up(this.ep),$d)},Vd.prototype.set_m_hitNormalWorld=Vd.prototype.wp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),_p(t,e)},Object.defineProperty(Vd.prototype,"m_hitNormalWorld",{get:Vd.prototype.sp,set:Vd.prototype.wp}),Vd.prototype.get_m_hitPointWorld=Vd.prototype.tp=function(){return qm(fp(this.ep),$d)},Vd.prototype.set_m_hitPointWorld=Vd.prototype.xp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),hp(t,e)},Object.defineProperty(Vd.prototype,"m_hitPointWorld",{get:Vd.prototype.tp,set:Vd.prototype.xp}),Vd.prototype.get_m_collisionFilterGroup=Vd.prototype.hp=function(){return mp(this.ep)},Vd.prototype.set_m_collisionFilterGroup=Vd.prototype.kp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),dp(t,e)},Object.defineProperty(Vd.prototype,"m_collisionFilterGroup",{get:Vd.prototype.hp,set:Vd.prototype.kp}),Vd.prototype.get_m_collisionFilterMask=Vd.prototype.ip=function(){return vp(this.ep)},Vd.prototype.set_m_collisionFilterMask=Vd.prototype.lp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),gp(t,e)},Object.defineProperty(Vd.prototype,"m_collisionFilterMask",{get:Vd.prototype.ip,set:Vd.prototype.lp}),Vd.prototype.get_m_shapePart=Vd.prototype.jp=function(){return Ap(this.ep)},Vd.prototype.set_m_shapePart=Vd.prototype.mp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),yp(t,e)},Object.defineProperty(Vd.prototype,"m_shapePart",{get:Vd.prototype.jp,set:Vd.prototype.mp}),Vd.prototype.get_m_closestHitFraction=Vd.prototype.np=function(){return xp(this.ep)},Vd.prototype.set_m_closestHitFraction=Vd.prototype.pp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),bp(t,e)},Object.defineProperty(Vd.prototype,"m_closestHitFraction",{get:Vd.prototype.np,set:Vd.prototype.pp}),Vd.prototype.get_m_collisionObject=Vd.prototype.op=function(){return qm(Cp(this.ep),Xm)},Vd.prototype.set_m_collisionObject=Vd.prototype.qp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Sp(t,e)},Object.defineProperty(Vd.prototype,"m_collisionObject",{get:Vd.prototype.op,set:Vd.prototype.qp}),Vd.prototype.__destroy__=function(){Ep(this.ep)},Wd.prototype=Object.create(sd.prototype),Wd.prototype.constructor=Wd,Wd.prototype.fp=Wd,Wd.gp={},n.ccKinematicCharacterController=Wd,Wd.prototype.setUpAxis=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Pp(t,e)},Wd.prototype.setWalkDirection=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ip(t,e)},Wd.prototype.setVelocityForTimeInterval=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Rp(n,e,t)},Wd.prototype.warp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Np(t,e)},Wd.prototype.preStep=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Dp(t,e)},Wd.prototype.playerStep=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Mp(n,e,t)},Wd.prototype.setFallSpeed=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Op(t,e)},Wd.prototype.setJumpSpeed=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Lp(t,e)},Wd.prototype.setMaxJumpHeight=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),zp(t,e)},Wd.prototype.canJump=function(){return!!Fp(this.ep)},Wd.prototype.jump=function(){Bp(this.ep)},Wd.prototype.setGravity=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Up(t,e)},Wd.prototype.getGravity=function(){return jp(this.ep)},Wd.prototype.setMaxSlope=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),kp(t,e)},Wd.prototype.getMaxSlope=function(){return Gp(this.ep)},Wd.prototype.getGhostObject=function(){return qm(Hp(this.ep),Md)},Wd.prototype.setUseGhostSweepTest=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Vp(t,e)},Wd.prototype.onGround=function(){return!!Wp(this.ep)},Wd.prototype.setUpInterpolate=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),qp(t,e)},Wd.prototype.updateAction=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Yp(n,e,t)},Wd.prototype.__destroy__=function(){Xp(this.ep)},qd.prototype=Object.create(Km.prototype),qd.prototype.constructor=qd,qd.prototype.fp=qd,qd.gp={},n.btHingeConstraint=qd,qd.prototype.setLimit=function(e,t,n,i,o){var r=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),o&&"object"==typeof o&&(o=o.ep),void 0===o?tu(r,e,t,n,i):nu(r,e,t,n,i,o)},qd.prototype.enableAngularMotor=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),iu(i,e,t,n)},qd.prototype.setAngularOnly=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ou(t,e)},qd.prototype.enableMotor=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ru(t,e)},qd.prototype.setMaxMotorImpulse=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),au(t,e)},qd.prototype.setMotorTarget=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),su(n,e,t)},qd.prototype.setFrames=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),cu(n,e,t)},qd.prototype.setAxis=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),lu(t,e)},qd.prototype.setUseReferenceFrameA=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),pu(t,e)},qd.prototype.enableFeedback=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),uu(t,e)},qd.prototype.getBreakingImpulseThreshold=function(){return _u(this.ep)},qd.prototype.setBreakingImpulseThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),fu(t,e)},qd.prototype.getParam=function(e,t){var n=this.ep;return e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),hu(n,e,t)},qd.prototype.setParam=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),mu(i,e,t,n)},qd.prototype.__destroy__=function(){du(this.ep)},Yd.prototype=Object.create(ud.prototype),Yd.prototype.constructor=Yd,Yd.prototype.fp=Yd,Yd.gp={},n.btQuaternion=Yd,Yd.prototype.setValue=function(e,t,n,i){var o=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),i&&"object"==typeof i&&(i=i.ep),gu(o,e,t,n,i)},Yd.prototype.x=Yd.prototype.x=function(){return Au(this.ep)},Yd.prototype.y=Yd.prototype.y=function(){return yu(this.ep)},Yd.prototype.z=Yd.prototype.z=function(){return xu(this.ep)},Yd.prototype.w=function(){return bu(this.ep)},Yd.prototype.setX=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Cu(t,e)},Yd.prototype.setY=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Su(t,e)},Yd.prototype.setZ=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Eu(t,e)},Yd.prototype.setW=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),wu(t,e)},Yd.prototype.__destroy__=function(){Tu(this.ep)},Xd.prototype=Object.create(Qm.prototype),Xd.prototype.constructor=Xd,Xd.prototype.fp=Xd,Xd.gp={},n.btBU_Simplex1to4=Xd,Xd.prototype.addVertex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Iu(t,e)},Xd.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ru(t,e)},Xd.prototype.getLocalScaling=function(){return qm(Nu(this.ep),$d)},Xd.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Du(n,e,t)},Xd.prototype.isCompound=function(){return!!Mu(this.ep)},Xd.prototype.getUserIndex=function(){return Ou(this.ep)},Xd.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Lu(t,e)},Xd.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),zu(i,e,t,n)},Xd.prototype.getLocalBoundingSphere=function(){return Fu(this.ep)},Xd.prototype.__destroy__=function(){Bu(this.ep)},Qd.prototype=Object.create(Vm.prototype),Qd.prototype.constructor=Qd,Qd.prototype.fp=Qd,Qd.gp={},n.btContactSolverInfo=Qd,Qd.prototype.get_m_splitImpulse=Qd.prototype.cq=function(){return!!Uu(this.ep)},Qd.prototype.set_m_splitImpulse=Qd.prototype.Mq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ju(t,e)},Object.defineProperty(Qd.prototype,"m_splitImpulse",{get:Qd.prototype.cq,set:Qd.prototype.Mq}),Qd.prototype.get_m_splitImpulsePenetrationThreshold=Qd.prototype.eq=function(){return ku(this.ep)},Qd.prototype.set_m_splitImpulsePenetrationThreshold=Qd.prototype.Nq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Gu(t,e)},Object.defineProperty(Qd.prototype,"m_splitImpulsePenetrationThreshold",{get:Qd.prototype.eq,set:Qd.prototype.Nq}),Qd.prototype.get_m_numIterations=Qd.prototype.Vp=function(){return Hu(this.ep)},Qd.prototype.set_m_numIterations=Qd.prototype.Eq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Vu(t,e)},Object.defineProperty(Qd.prototype,"m_numIterations",{get:Qd.prototype.Vp,set:Qd.prototype.Eq}),Qd.prototype.__destroy__=function(){Wu(this.ep)},Zd.prototype=Object.create(sd.prototype),Zd.prototype.constructor=Zd,Zd.prototype.fp=Zd,Zd.gp={},n.btKinematicCharacterController=Zd,Zd.prototype.setUp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Xu(t,e)},Zd.prototype.setWalkDirection=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Qu(t,e)},Zd.prototype.setVelocityForTimeInterval=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Zu(n,e,t)},Zd.prototype.reset=Zd.prototype.reset=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ju(t,e)},Zd.prototype.warp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ku(t,e)},Zd.prototype.preStep=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),$u(t,e)},Zd.prototype.playerStep=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),e_(n,e,t)},Zd.prototype.setFallSpeed=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),t_(t,e)},Zd.prototype.setJumpSpeed=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),n_(t,e)},Zd.prototype.setMaxJumpHeight=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),i_(t,e)},Zd.prototype.canJump=function(){return!!o_(this.ep)},Zd.prototype.jump=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),void 0===e?r_(t):a_(t,e)},Zd.prototype.setGravity=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),s_(t,e)},Zd.prototype.getGravity=function(){return qm(c_(this.ep),$d)},Zd.prototype.setMaxSlope=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),l_(t,e)},Zd.prototype.getMaxSlope=function(){return p_(this.ep)},Zd.prototype.getGhostObject=function(){return qm(u_(this.ep),Md)},Zd.prototype.setUseGhostSweepTest=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),__(t,e)},Zd.prototype.onGround=function(){return!!f_(this.ep)},Zd.prototype.setUpInterpolate=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),h_(t,e)},Zd.prototype.updateAction=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),m_(n,e,t)},Zd.prototype.__destroy__=function(){d_(this.ep)},Jd.prototype=Object.create(Zm.prototype),Jd.prototype.constructor=Jd,Jd.prototype.fp=Jd,Jd.gp={},n.btStaticPlaneShape=Jd,Jd.prototype.getPlaneNormal=function(){return qm(g_(this.ep),$d)},Jd.prototype.setPlaneConstant=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),A_(t,e)},Jd.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),y_(t,e)},Jd.prototype.getLocalScaling=function(){return qm(x_(this.ep),$d)},Jd.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),b_(n,e,t)},Jd.prototype.isCompound=function(){return!!C_(this.ep)},Jd.prototype.getUserIndex=function(){return S_(this.ep)},Jd.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),E_(t,e)},Jd.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),w_(i,e,t,n)},Jd.prototype.getLocalBoundingSphere=function(){return T_(this.ep)},Jd.prototype.__destroy__=function(){P_(this.ep)},Kd.prototype=Object.create(Vm.prototype),Kd.prototype.constructor=Kd,Kd.prototype.fp=Kd,Kd.gp={},n.btOverlappingPairCache=Kd,Kd.prototype.setInternalGhostPairCallback=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),I_(t,e)},Kd.prototype.setOverlapFilterCallback=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),R_(t,e)},Kd.prototype.getNumOverlappingPairs=function(){return N_(this.ep)},Kd.prototype.__destroy__=function(){D_(this.ep)},$d.prototype=Object.create(Vm.prototype),$d.prototype.constructor=$d,$d.prototype.fp=$d,$d.gp={},n.btVector3=$d,$d.prototype.x=$d.prototype.x=function(){return L_(this.ep)},$d.prototype.y=$d.prototype.y=function(){return z_(this.ep)},$d.prototype.z=$d.prototype.z=function(){return F_(this.ep)},$d.prototype.setX=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),B_(t,e)},$d.prototype.setY=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),U_(t,e)},$d.prototype.setZ=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),j_(t,e)},$d.prototype.setValue=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),k_(i,e,t,n)},$d.prototype.__destroy__=function(){G_(this.ep)},ev.prototype=Object.create(id.prototype),ev.prototype.constructor=ev,ev.prototype.fp=ev,ev.gp={},n.btSphereShape=ev,ev.prototype.setMargin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),V_(t,e)},ev.prototype.getMargin=function(){return W_(this.ep)},ev.prototype.setUnscaledRadius=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),q_(t,e)},ev.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Y_(t,e)},ev.prototype.getLocalScaling=function(){return qm(X_(this.ep),$d)},ev.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Q_(n,e,t)},ev.prototype.isCompound=function(){return!!Z_(this.ep)},ev.prototype.getUserIndex=function(){return J_(this.ep)},ev.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),K_(t,e)},ev.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),$_(i,e,t,n)},ev.prototype.getLocalBoundingSphere=function(){return ef(this.ep)},ev.prototype.getImplicitShapeDimensions=function(){return qm(tf(this.ep),$d)},ev.prototype.__destroy__=function(){nf(this.ep)},tv.prototype=Object.create(Vm.prototype),tv.prototype.constructor=tv,tv.prototype.fp=tv,tv.gp={},n.btDefaultCollisionConstructionInfo=tv,tv.prototype.__destroy__=function(){rf(this.ep)},nv.prototype=Object.create(Zm.prototype),nv.prototype.constructor=nv,nv.prototype.fp=nv,nv.gp={},n.btEmptyShape=nv,nv.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),sf(t,e)},nv.prototype.getLocalScaling=function(){return qm(cf(this.ep),$d)},nv.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),lf(n,e,t)},nv.prototype.isCompound=function(){return!!pf(this.ep)},nv.prototype.getUserIndex=function(){return uf(this.ep)},nv.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),_f(t,e)},nv.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),ff(i,e,t,n)},nv.prototype.getLocalBoundingSphere=function(){return hf(this.ep)},nv.prototype.__destroy__=function(){mf(this.ep)},iv.prototype=Object.create(Vm.prototype),iv.prototype.constructor=iv,iv.prototype.fp=iv,iv.gp={},n.btConstraintSetting=iv,iv.prototype.get_m_tau=iv.prototype.fq=function(){return vf(this.ep)},iv.prototype.set_m_tau=iv.prototype.Oq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),gf(t,e)},Object.defineProperty(iv.prototype,"m_tau",{get:iv.prototype.fq,set:iv.prototype.Oq}),iv.prototype.get_m_damping=iv.prototype.Jp=function(){return Af(this.ep)},iv.prototype.set_m_damping=iv.prototype.sq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),yf(t,e)},Object.defineProperty(iv.prototype,"m_damping",{get:iv.prototype.Jp,set:iv.prototype.sq}),iv.prototype.get_m_impulseClamp=iv.prototype.Np=function(){return xf(this.ep)},iv.prototype.set_m_impulseClamp=iv.prototype.wq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),bf(t,e)},Object.defineProperty(iv.prototype,"m_impulseClamp",{get:iv.prototype.Np,set:iv.prototype.wq}),iv.prototype.__destroy__=function(){Cf(this.ep)},ov.prototype=Object.create(Vm.prototype),ov.prototype.constructor=ov,ov.prototype.fp=ov,ov.gp={},n.LocalShapeInfo=ov,ov.prototype.get_m_shapePart=ov.prototype.jp=function(){return Sf(this.ep)},ov.prototype.set_m_shapePart=ov.prototype.mp=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ef(t,e)},Object.defineProperty(ov.prototype,"m_shapePart",{get:ov.prototype.jp,set:ov.prototype.mp}),ov.prototype.get_m_triangleIndex=ov.prototype.gq=function(){return wf(this.ep)},ov.prototype.set_m_triangleIndex=ov.prototype.Pq=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Tf(t,e)},Object.defineProperty(ov.prototype,"m_triangleIndex",{get:ov.prototype.gq,set:ov.prototype.Pq}),ov.prototype.__destroy__=function(){Pf(this.ep)},rv.prototype=Object.create(Vm.prototype),rv.prototype.constructor=rv,rv.prototype.fp=rv,rv.gp={},n.btVector3Array=rv,rv.prototype.size=rv.prototype.size=function(){return If(this.ep)},rv.prototype.at=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(Rf(t,e),$d)},rv.prototype.clear=rv.prototype.clear=function(){Nf(this.ep)},rv.prototype.__destroy__=function(){Df(this.ep)},av.prototype=Object.create(Vm.prototype),av.prototype.constructor=av,av.prototype.fp=av,av.gp={},n.btConstraintSolver=av,av.prototype.__destroy__=function(){Mf(this.ep)},sv.prototype=Object.create(Km.prototype),sv.prototype.constructor=sv,sv.prototype.fp=sv,sv.gp={},n.btFixedConstraint=sv,sv.prototype.enableFeedback=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Lf(t,e)},sv.prototype.getBreakingImpulseThreshold=function(){return zf(this.ep)},sv.prototype.setBreakingImpulseThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Ff(t,e)},sv.prototype.getParam=function(e,t){var n=this.ep;return e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Bf(n,e,t)},sv.prototype.setParam=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Uf(i,e,t,n)},sv.prototype.__destroy__=function(){jf(this.ep)},cv.prototype=Object.create(rd.prototype),cv.prototype.constructor=cv,cv.prototype.fp=cv,cv.gp={},n.btCollisionDispatcher=cv,cv.prototype.setDispatcherFlags=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Gf(t,e)},cv.prototype.getNumManifolds=function(){return Hf(this.ep)},cv.prototype.getManifoldByIndexInternal=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(Vf(t,e),Bd)},cv.prototype.__destroy__=function(){Wf(this.ep)},lv.prototype=Object.create(Xm.prototype),lv.prototype.constructor=lv,lv.prototype.fp=lv,lv.gp={},n.btRigidBody=lv,lv.prototype.getCenterOfMassTransform=function(){return qm(Yf(this.ep),uv)},lv.prototype.setCenterOfMassTransform=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Xf(t,e)},lv.prototype.setSleepingThresholds=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Qf(n,e,t)},lv.prototype.getLinearSleepingThreshold=function(){return Zf(this.ep)},lv.prototype.getLinearDamping=function(){return Jf(this.ep)},lv.prototype.getAngularDamping=function(){return Kf(this.ep)},lv.prototype.setDamping=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),$f(n,e,t)},lv.prototype.setMassProps=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),eh(n,e,t)},lv.prototype.getLinearFactor=function(){return qm(th(this.ep),$d)},lv.prototype.setLinearFactor=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),nh(t,e)},lv.prototype.applyTorque=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ih(t,e)},lv.prototype.applyForce=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),oh(n,e,t)},lv.prototype.applyCentralForce=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),rh(t,e)},lv.prototype.applyTorqueImpulse=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ah(t,e)},lv.prototype.applyImpulse=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),sh(n,e,t)},lv.prototype.applyCentralImpulse=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),ch(t,e)},lv.prototype.updateInertiaTensor=function(){lh(this.ep)},lv.prototype.getLinearVelocity=function(){return qm(ph(this.ep),$d)},lv.prototype.getAngularVelocity=function(){return qm(uh(this.ep),$d)},lv.prototype.setLinearVelocity=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),_h(t,e)},lv.prototype.setAngularVelocity=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),fh(t,e)},lv.prototype.getMotionState=function(){return qm(hh(this.ep),nd)},lv.prototype.setMotionState=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),mh(t,e)},lv.prototype.getAngularFactor=function(){return qm(dh(this.ep),$d)},lv.prototype.setAngularFactor=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),vh(t,e)},lv.prototype.upcast=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(gh(t,e),lv)},lv.prototype.getAabb=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Ah(n,e,t)},lv.prototype.applyGravity=function(){yh(this.ep)},lv.prototype.getGravity=function(){return qm(xh(this.ep),$d)},lv.prototype.setGravity=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),bh(t,e)},lv.prototype.getFlags=function(){return Ch(this.ep)},lv.prototype.setFlags=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Sh(t,e)},lv.prototype.wantsSleeping=function(){return!!Eh(this.ep)},lv.prototype.clearForces=function(){wh(this.ep)},lv.prototype.getTotalForce=function(){return qm(Th(this.ep),$d)},lv.prototype.getTotalTorque=function(){return qm(Ph(this.ep),$d)},lv.prototype.clearState=function(){Ih(this.ep)},lv.prototype.setAnisotropicFriction=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Rh(n,e,t)},lv.prototype.getCollisionShape=function(){return qm(Nh(this.ep),Ym)},lv.prototype.getActivationState=function(){return Dh(this.ep)},lv.prototype.setActivationState=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Mh(t,e)},lv.prototype.forceActivationState=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Oh(t,e)},lv.prototype.activate=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),void 0===e?Lh(t):zh(t,e)},lv.prototype.isActive=function(){return!!Fh(this.ep)},lv.prototype.isKinematicObject=function(){return!!Bh(this.ep)},lv.prototype.isStaticObject=function(){return!!Uh(this.ep)},lv.prototype.isStaticOrKinematicObject=function(){return!!jh(this.ep)},lv.prototype.setRestitution=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),kh(t,e)},lv.prototype.setFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Gh(t,e)},lv.prototype.setRollingFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Hh(t,e)},lv.prototype.setSpinningFriction=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Vh(t,e)},lv.prototype.getWorldTransform=function(){return qm(Wh(this.ep),uv)},lv.prototype.getCollisionFlags=function(){return qh(this.ep)},lv.prototype.setCollisionFlags=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Yh(t,e)},lv.prototype.setWorldTransform=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Xh(t,e)},lv.prototype.setCollisionShape=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Qh(t,e)},lv.prototype.setCcdMotionThreshold=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Zh(t,e)},lv.prototype.setCcdSweptSphereRadius=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),Jh(t,e)},lv.prototype.getUserIndex=function(){return Kh(this.ep)},lv.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),$h(t,e)},lv.prototype.setUserIndex2=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),em(t,e)},lv.prototype.setIgnoreCollisionCheck=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),tm(n,e,t)},lv.prototype.__destroy__=function(){nm(this.ep)},pv.prototype=Object.create(Vm.prototype),pv.prototype.constructor=pv,pv.prototype.fp=pv,pv.gp={},n.btIndexedMeshArray=pv,pv.prototype.size=pv.prototype.size=function(){return im(this.ep)},pv.prototype.at=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(om(t,e),yd)},pv.prototype.__destroy__=function(){rm(this.ep)},uv.prototype=Object.create(Vm.prototype),uv.prototype.constructor=uv,uv.prototype.fp=uv,uv.gp={},n.btTransform=uv,uv.prototype.setIdentity=function(){cm(this.ep)},uv.prototype.setOrigin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),lm(t,e)},uv.prototype.setRotation=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),pm(t,e)},uv.prototype.getOrigin=function(){return qm(um(this.ep),$d)},uv.prototype.getRotation=function(){return qm(_m(this.ep),Yd)},uv.prototype.getBasis=function(){return qm(fm(this.ep),_d)},uv.prototype.inverse=uv.prototype.inverse=function(){return qm(hm(this.ep),uv)},uv.prototype.op_mul=function(e){var t=this.ep;return e&&"object"==typeof e&&(e=e.ep),qm(mm(t,e),uv)},uv.prototype.__destroy__=function(){dm(this.ep)},_v.prototype=Object.create(id.prototype),_v.prototype.constructor=_v,_v.prototype.fp=_v,_v.gp={},n.btCylinderShape=_v,_v.prototype.setMargin=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),gm(t,e)},_v.prototype.getMargin=function(){return Am(this.ep)},_v.prototype.updateProp=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),ym(i,e,t,n)},_v.prototype.setLocalScaling=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),xm(t,e)},_v.prototype.getLocalScaling=function(){return qm(bm(this.ep),$d)},_v.prototype.calculateLocalInertia=function(e,t){var n=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),Cm(n,e,t)},_v.prototype.isCompound=function(){return!!Sm(this.ep)},_v.prototype.getUserIndex=function(){return Em(this.ep)},_v.prototype.setUserIndex=function(e){var t=this.ep;e&&"object"==typeof e&&(e=e.ep),wm(t,e)},_v.prototype.getAabb=function(e,t,n){var i=this.ep;e&&"object"==typeof e&&(e=e.ep),t&&"object"==typeof t&&(t=t.ep),n&&"object"==typeof n&&(n=n.ep),Tm(i,e,t,n)},_v.prototype.getLocalBoundingSphere=function(){return Pm(this.ep)},_v.prototype.getImplicitShapeDimensions=function(){return qm(Im(this.ep),$d)},_v.prototype.__destroy__=function(){Rm(this.ep)},function(){function e(){n.BT_CONSTRAINT_ERP=Nm(),n.BT_CONSTRAINT_STOP_ERP=Dm(),n.BT_CONSTRAINT_CFM=Mm(),n.BT_CONSTRAINT_STOP_CFM=Om(),n.PHY_FLOAT=Lm(),n.PHY_DOUBLE=zm(),n.PHY_INTEGER=Fm(),n.PHY_SHORT=Bm(),n.PHY_FIXEDPOINT88=Um(),n.PHY_UCHAR=jm()}M?e():N.unshift(e)}(),this.Ammo=n,e});return e.exports=n,n}()}));const gR=e("dS",{});function AR(e){const t={};return void 0!==e&&(gR.wasmBinary=e),new Promise((e=>{vR.call(t,gR).then((()=>{e()}))}))}var yR;(yR=AR||(AR=e("f_",{}))).isWasm=void 0,yR.wasmBinaryURL=void 0}}}));
